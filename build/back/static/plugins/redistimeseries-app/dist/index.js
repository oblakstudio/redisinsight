var Z6=Object.create;var yb=Object.defineProperty;var X6=Object.getOwnPropertyDescriptor;var J6=Object.getOwnPropertyNames;var K6=Object.getPrototypeOf,$6=Object.prototype.hasOwnProperty;var xb=(I=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(I,{get:(N,Q)=>(typeof require<"u"?require:N)[Q]}):I)(function(I){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+I+'" is not supported')});var Zi=(I,N)=>()=>(N||I((N={exports:{}}).exports,N),N.exports);var Q6=(I,N,Q,L)=>{if(N&&typeof N=="object"||typeof N=="function")for(let M of J6(N))!$6.call(I,M)&&M!==Q&&yb(I,M,{get:()=>N[M],enumerable:!(L=X6(N,M))||L.enumerable});return I};var Vr=(I,N,Q)=>(Q=I!=null?Z6(K6(I)):{},Q6(N||!I||!I.__esModule?yb(Q,"default",{value:I,enumerable:!0}):Q,I));var o1=Zi((_9,_b)=>{"use strict";var bb=Object.getOwnPropertySymbols,eT=Object.prototype.hasOwnProperty,tT=Object.prototype.propertyIsEnumerable;function nT(I){if(I==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(I)}function rT(){try{if(!Object.assign)return!1;var I=new String("abc");if(I[5]="de",Object.getOwnPropertyNames(I)[0]==="5")return!1;for(var N={},Q=0;Q<10;Q++)N["_"+String.fromCharCode(Q)]=Q;var L=Object.getOwnPropertyNames(N).map(function(e){return N[e]});if(L.join("")!=="0123456789")return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(e){M[e]=e}),Object.keys(Object.assign({},M)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}_b.exports=rT()?Object.assign:function(I,N){for(var Q,L=nT(I),M,e=1;e<arguments.length;e++){Q=Object(arguments[e]);for(var b in Q)eT.call(Q,b)&&(L[b]=Q[b]);if(bb){M=bb(Q);for(var w=0;w<M.length;w++)tT.call(Q,M[w])&&(L[M[w]]=Q[M[w]])}}return L}});var Fb=Zi(qi=>{"use strict";var l1=o1(),Hf=60103,Tb=60106;qi.Fragment=60107;qi.StrictMode=60108;qi.Profiler=60114;var Ab=60109,Mb=60110,Sb=60112;qi.Suspense=60113;var Eb=60115,Cb=60116;typeof Symbol=="function"&&Symbol.for&&(Hl=Symbol.for,Hf=Hl("react.element"),Tb=Hl("react.portal"),qi.Fragment=Hl("react.fragment"),qi.StrictMode=Hl("react.strict_mode"),qi.Profiler=Hl("react.profiler"),Ab=Hl("react.provider"),Mb=Hl("react.context"),Sb=Hl("react.forward_ref"),qi.Suspense=Hl("react.suspense"),Eb=Hl("react.memo"),Cb=Hl("react.lazy"));var Hl,wb=typeof Symbol=="function"&&Symbol.iterator;function iT(I){return I===null||typeof I!="object"?null:(I=wb&&I[wb]||I["@@iterator"],typeof I=="function"?I:null)}function th(I){for(var N="https://reactjs.org/docs/error-decoder.html?invariant="+I,Q=1;Q<arguments.length;Q++)N+="&args[]="+encodeURIComponent(arguments[Q]);return"Minified React error #"+I+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ob={};function qf(I,N,Q){this.props=I,this.context=N,this.refs=Ob,this.updater=Q||Lb}qf.prototype.isReactComponent={};qf.prototype.setState=function(I,N){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error(th(85));this.updater.enqueueSetState(this,I,N,"setState")};qf.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Pb(){}Pb.prototype=qf.prototype;function u1(I,N,Q){this.props=I,this.context=N,this.refs=Ob,this.updater=Q||Lb}var c1=u1.prototype=new Pb;c1.constructor=u1;l1(c1,qf.prototype);c1.isPureReactComponent=!0;var f1={current:null},Ib=Object.prototype.hasOwnProperty,Db={key:!0,ref:!0,__self:!0,__source:!0};function Rb(I,N,Q){var L,M={},e=null,b=null;if(N!=null)for(L in N.ref!==void 0&&(b=N.ref),N.key!==void 0&&(e=""+N.key),N)Ib.call(N,L)&&!Db.hasOwnProperty(L)&&(M[L]=N[L]);var w=arguments.length-2;if(w===1)M.children=Q;else if(1<w){for(var a=Array(w),k=0;k<w;k++)a[k]=arguments[k+2];M.children=a}if(I&&I.defaultProps)for(L in w=I.defaultProps,w)M[L]===void 0&&(M[L]=w[L]);return{$$typeof:Hf,type:I,key:e,ref:b,props:M,_owner:f1.current}}function aT(I,N){return{$$typeof:Hf,type:I.type,key:N,ref:I.ref,props:I.props,_owner:I._owner}}function p1(I){return typeof I=="object"&&I!==null&&I.$$typeof===Hf}function oT(I){var N={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return N[Q]})}var kb=/\/+/g;function s1(I,N){return typeof I=="object"&&I!==null&&I.key!=null?oT(""+I.key):N.toString(36)}function o0(I,N,Q,L,M){var e=typeof I;(e==="undefined"||e==="boolean")&&(I=null);var b=!1;if(I===null)b=!0;else switch(e){case"string":case"number":b=!0;break;case"object":switch(I.$$typeof){case Hf:case Tb:b=!0}}if(b)return b=I,M=M(b),I=L===""?"."+s1(b,0):L,Array.isArray(M)?(Q="",I!=null&&(Q=I.replace(kb,"$&/")+"/"),o0(M,N,Q,"",function(k){return k})):M!=null&&(p1(M)&&(M=aT(M,Q+(!M.key||b&&b.key===M.key?"":(""+M.key).replace(kb,"$&/")+"/")+I)),N.push(M)),1;if(b=0,L=L===""?".":L+":",Array.isArray(I))for(var w=0;w<I.length;w++){e=I[w];var a=L+s1(e,w);b+=o0(e,N,Q,a,M)}else if(a=iT(I),typeof a=="function")for(I=a.call(I),w=0;!(e=I.next()).done;)e=e.value,a=L+s1(e,w++),b+=o0(e,N,Q,a,M);else if(e==="object")throw N=""+I,Error(th(31,N==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":N));return b}function a0(I,N,Q){if(I==null)return I;var L=[],M=0;return o0(I,L,"","",function(e){return N.call(Q,e,M++)}),L}function sT(I){if(I._status===-1){var N=I._result;N=N(),I._status=0,I._result=N,N.then(function(Q){I._status===0&&(Q=Q.default,I._status=1,I._result=Q)},function(Q){I._status===0&&(I._status=2,I._result=Q)})}if(I._status===1)return I._result;throw I._result}var zb={current:null};function Wu(){var I=zb.current;if(I===null)throw Error(th(321));return I}var lT={ReactCurrentDispatcher:zb,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:f1,IsSomeRendererActing:{current:!1},assign:l1};qi.Children={map:a0,forEach:function(I,N,Q){a0(I,function(){N.apply(this,arguments)},Q)},count:function(I){var N=0;return a0(I,function(){N++}),N},toArray:function(I){return a0(I,function(N){return N})||[]},only:function(I){if(!p1(I))throw Error(th(143));return I}};qi.Component=qf;qi.PureComponent=u1;qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT;qi.cloneElement=function(I,N,Q){if(I==null)throw Error(th(267,I));var L=l1({},I.props),M=I.key,e=I.ref,b=I._owner;if(N!=null){if(N.ref!==void 0&&(e=N.ref,b=f1.current),N.key!==void 0&&(M=""+N.key),I.type&&I.type.defaultProps)var w=I.type.defaultProps;for(a in N)Ib.call(N,a)&&!Db.hasOwnProperty(a)&&(L[a]=N[a]===void 0&&w!==void 0?w[a]:N[a])}var a=arguments.length-2;if(a===1)L.children=Q;else if(1<a){w=Array(a);for(var k=0;k<a;k++)w[k]=arguments[k+2];L.children=w}return{$$typeof:Hf,type:I.type,key:M,ref:e,props:L,_owner:b}};qi.createContext=function(I,N){return N===void 0&&(N=null),I={$$typeof:Mb,_calculateChangedBits:N,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider={$$typeof:Ab,_context:I},I.Consumer=I};qi.createElement=Rb;qi.createFactory=function(I){var N=Rb.bind(null,I);return N.type=I,N};qi.createRef=function(){return{current:null}};qi.forwardRef=function(I){return{$$typeof:Sb,render:I}};qi.isValidElement=p1;qi.lazy=function(I){return{$$typeof:Cb,_payload:{_status:-1,_result:I},_init:sT}};qi.memo=function(I,N){return{$$typeof:Eb,type:I,compare:N===void 0?null:N}};qi.useCallback=function(I,N){return Wu().useCallback(I,N)};qi.useContext=function(I,N){return Wu().useContext(I,N)};qi.useDebugValue=function(){};qi.useEffect=function(I,N){return Wu().useEffect(I,N)};qi.useImperativeHandle=function(I,N,Q){return Wu().useImperativeHandle(I,N,Q)};qi.useLayoutEffect=function(I,N){return Wu().useLayoutEffect(I,N)};qi.useMemo=function(I,N){return Wu().useMemo(I,N)};qi.useReducer=function(I,N,Q){return Wu().useReducer(I,N,Q)};qi.useRef=function(I){return Wu().useRef(I)};qi.useState=function(I){return Wu().useState(I)};qi.version="17.0.2"});var Wi=Zi((k9,Nb)=>{"use strict";Nb.exports=Fb()});var qb=Zi(na=>{"use strict";var Gf,ih,c0,x1;typeof performance=="object"&&typeof performance.now=="function"?(Bb=performance,na.unstable_now=function(){return Bb.now()}):(h1=Date,jb=h1.now(),na.unstable_now=function(){return h1.now()-jb});var Bb,h1,jb;typeof window>"u"||typeof MessageChannel!="function"?(Wf=null,d1=null,g1=function(){if(Wf!==null)try{var I=na.unstable_now();Wf(!0,I),Wf=null}catch(N){throw setTimeout(g1,0),N}},Gf=function(I){Wf!==null?setTimeout(Gf,0,I):(Wf=I,setTimeout(g1,0))},ih=function(I,N){d1=setTimeout(I,N)},c0=function(){clearTimeout(d1)},na.unstable_shouldYield=function(){return!1},x1=na.unstable_forceFrameRate=function(){}):(Ub=window.setTimeout,Vb=window.clearTimeout,typeof console<"u"&&(Hb=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Hb!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),nh=!1,rh=null,s0=-1,m1=5,v1=0,na.unstable_shouldYield=function(){return na.unstable_now()>=v1},x1=function(){},na.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m1=0<I?Math.floor(1e3/I):5},y1=new MessageChannel,l0=y1.port2,y1.port1.onmessage=function(){if(rh!==null){var I=na.unstable_now();v1=I+m1;try{rh(!0,I)?l0.postMessage(null):(nh=!1,rh=null)}catch(N){throw l0.postMessage(null),N}}else nh=!1},Gf=function(I){rh=I,nh||(nh=!0,l0.postMessage(null))},ih=function(I,N){s0=Ub(function(){I(na.unstable_now())},N)},c0=function(){Vb(s0),s0=-1});var Wf,d1,g1,Ub,Vb,Hb,nh,rh,s0,m1,v1,y1,l0;function b1(I,N){var Q=I.length;I.push(N);e:for(;;){var L=Q-1>>>1,M=I[L];if(M!==void 0&&0<u0(M,N))I[L]=N,I[Q]=M,Q=L;else break e}}function hu(I){return I=I[0],I===void 0?null:I}function f0(I){var N=I[0];if(N!==void 0){var Q=I.pop();if(Q!==N){I[0]=Q;e:for(var L=0,M=I.length;L<M;){var e=2*(L+1)-1,b=I[e],w=e+1,a=I[w];if(b!==void 0&&0>u0(b,Q))a!==void 0&&0>u0(a,b)?(I[L]=a,I[w]=Q,L=w):(I[L]=b,I[e]=Q,L=e);else if(a!==void 0&&0>u0(a,Q))I[L]=a,I[w]=Q,L=w;else break e}}return N}return null}function u0(I,N){var Q=I.sortIndex-N.sortIndex;return Q!==0?Q:I.id-N.id}var Mu=[],sc=[],uT=1,ql=null,Ts=3,p0=!1,Zc=!1,ah=!1;function _1(I){for(var N=hu(sc);N!==null;){if(N.callback===null)f0(sc);else if(N.startTime<=I)f0(sc),N.sortIndex=N.expirationTime,b1(Mu,N);else break;N=hu(sc)}}function w1(I){if(ah=!1,_1(I),!Zc)if(hu(Mu)!==null)Zc=!0,Gf(k1);else{var N=hu(sc);N!==null&&ih(w1,N.startTime-I)}}function k1(I,N){Zc=!1,ah&&(ah=!1,c0()),p0=!0;var Q=Ts;try{for(_1(N),ql=hu(Mu);ql!==null&&(!(ql.expirationTime>N)||I&&!na.unstable_shouldYield());){var L=ql.callback;if(typeof L=="function"){ql.callback=null,Ts=ql.priorityLevel;var M=L(ql.expirationTime<=N);N=na.unstable_now(),typeof M=="function"?ql.callback=M:ql===hu(Mu)&&f0(Mu),_1(N)}else f0(Mu);ql=hu(Mu)}if(ql!==null)var e=!0;else{var b=hu(sc);b!==null&&ih(w1,b.startTime-N),e=!1}return e}finally{ql=null,Ts=Q,p0=!1}}var cT=x1;na.unstable_IdlePriority=5;na.unstable_ImmediatePriority=1;na.unstable_LowPriority=4;na.unstable_NormalPriority=3;na.unstable_Profiling=null;na.unstable_UserBlockingPriority=2;na.unstable_cancelCallback=function(I){I.callback=null};na.unstable_continueExecution=function(){Zc||p0||(Zc=!0,Gf(k1))};na.unstable_getCurrentPriorityLevel=function(){return Ts};na.unstable_getFirstCallbackNode=function(){return hu(Mu)};na.unstable_next=function(I){switch(Ts){case 1:case 2:case 3:var N=3;break;default:N=Ts}var Q=Ts;Ts=N;try{return I()}finally{Ts=Q}};na.unstable_pauseExecution=function(){};na.unstable_requestPaint=cT;na.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=Ts;Ts=I;try{return N()}finally{Ts=Q}};na.unstable_scheduleCallback=function(I,N,Q){var L=na.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?L+Q:L):Q=L,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Q+M,I={id:uT++,callback:N,priorityLevel:I,startTime:Q,expirationTime:M,sortIndex:-1},Q>L?(I.sortIndex=Q,b1(sc,I),hu(Mu)===null&&I===hu(sc)&&(ah?c0():ah=!0,ih(w1,Q-L))):(I.sortIndex=M,b1(Mu,I),Zc||p0||(Zc=!0,Gf(k1))),I};na.unstable_wrapCallback=function(I){var N=Ts;return function(){var Q=Ts;Ts=N;try{return I.apply(this,arguments)}finally{Ts=Q}}}});var Gb=Zi((A9,Wb)=>{"use strict";Wb.exports=qb()});var P3=Zi(Jl=>{"use strict";var ag=Wi(),Oa=o1(),qo=Gb();function jr(I){for(var N="https://reactjs.org/docs/error-decoder.html?invariant="+I,Q=1;Q<arguments.length;Q++)N+="&args[]="+encodeURIComponent(arguments[Q]);return"Minified React error #"+I+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ag)throw Error(jr(227));var aw=new Set,Rh={};function of(I,N){hp(I,N),hp(I+"Capture",N)}function hp(I,N){for(Rh[I]=N,I=0;I<N.length;I++)aw.add(N[I])}var Ku=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yb=Object.prototype.hasOwnProperty,Zb={},Xb={};function pT(I){return Yb.call(Xb,I)?!0:Yb.call(Zb,I)?!1:fT.test(I)?Xb[I]=!0:(Zb[I]=!0,!1)}function hT(I,N,Q,L){if(Q!==null&&Q.type===0)return!1;switch(typeof N){case"function":case"symbol":return!0;case"boolean":return L?!1:Q!==null?!Q.acceptsBooleans:(I=I.toLowerCase().slice(0,5),I!=="data-"&&I!=="aria-");default:return!1}}function dT(I,N,Q,L){if(N===null||typeof N>"u"||hT(I,N,Q,L))return!0;if(L)return!1;if(Q!==null)switch(Q.type){case 3:return!N;case 4:return N===!1;case 5:return isNaN(N);case 6:return isNaN(N)||1>N}return!1}function el(I,N,Q,L,M,e,b){this.acceptsBooleans=N===2||N===3||N===4,this.attributeName=L,this.attributeNamespace=M,this.mustUseProperty=Q,this.propertyName=I,this.type=N,this.sanitizeURL=e,this.removeEmptyString=b}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(I){as[I]=new el(I,0,!1,I,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(I){var N=I[0];as[N]=new el(N,1,!1,I[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(I){as[I]=new el(I,2,!1,I.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(I){as[I]=new el(I,2,!1,I,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(I){as[I]=new el(I,3,!1,I.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(I){as[I]=new el(I,3,!0,I,null,!1,!1)});["capture","download"].forEach(function(I){as[I]=new el(I,4,!1,I,null,!1,!1)});["cols","rows","size","span"].forEach(function(I){as[I]=new el(I,6,!1,I,null,!1,!1)});["rowSpan","start"].forEach(function(I){as[I]=new el(I,5,!1,I.toLowerCase(),null,!1,!1)});var Pv=/[\-:]([a-z])/g;function Iv(I){return I[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(I){var N=I.replace(Pv,Iv);as[N]=new el(N,1,!1,I,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(I){var N=I.replace(Pv,Iv);as[N]=new el(N,1,!1,I,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(I){var N=I.replace(Pv,Iv);as[N]=new el(N,1,!1,I,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(I){as[I]=new el(I,1,!1,I.toLowerCase(),null,!1,!1)});as.xlinkHref=new el("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(I){as[I]=new el(I,1,!1,I.toLowerCase(),null,!0,!0)});function Dv(I,N,Q,L){var M=as.hasOwnProperty(N)?as[N]:null,e=M!==null?M.type===0:L?!1:!(!(2<N.length)||N[0]!=="o"&&N[0]!=="O"||N[1]!=="n"&&N[1]!=="N");e||(dT(N,Q,M,L)&&(Q=null),L||M===null?pT(N)&&(Q===null?I.removeAttribute(N):I.setAttribute(N,""+Q)):M.mustUseProperty?I[M.propertyName]=Q===null?M.type===3?!1:"":Q:(N=M.attributeName,L=M.attributeNamespace,Q===null?I.removeAttribute(N):(M=M.type,Q=M===3||M===4&&Q===!0?"":""+Q,L?I.setAttributeNS(L,N,Q):I.setAttribute(N,Q))))}var sf=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=60103,Jc=60106,uc=60107,Rv=60108,kh=60114,zv=60109,Fv=60110,og=60112,Th=60113,z0=60120,sg=60115,Nv=60116,Bv=60121,jv=60128,ow=60129,Uv=60130,G1=60131;typeof Symbol=="function"&&Symbol.for&&(Io=Symbol.for,yh=Io("react.element"),Jc=Io("react.portal"),uc=Io("react.fragment"),Rv=Io("react.strict_mode"),kh=Io("react.profiler"),zv=Io("react.provider"),Fv=Io("react.context"),og=Io("react.forward_ref"),Th=Io("react.suspense"),z0=Io("react.suspense_list"),sg=Io("react.memo"),Nv=Io("react.lazy"),Bv=Io("react.block"),Io("react.scope"),jv=Io("react.opaque.id"),ow=Io("react.debug_trace_mode"),Uv=Io("react.offscreen"),G1=Io("react.legacy_hidden"));var Io,Jb=typeof Symbol=="function"&&Symbol.iterator;function oh(I){return I===null||typeof I!="object"?null:(I=Jb&&I[Jb]||I["@@iterator"],typeof I=="function"?I:null)}var T1;function xh(I){if(T1===void 0)try{throw Error()}catch(Q){var N=Q.stack.trim().match(/\n( *(at )?)/);T1=N&&N[1]||""}return`
`+T1+I}var A1=!1;function h0(I,N){if(!I||A1)return"";A1=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(N)if(N=function(){throw Error()},Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(a){var L=a}Reflect.construct(I,[],N)}else{try{N.call()}catch(a){L=a}I.call(N.prototype)}else{try{throw Error()}catch(a){L=a}I()}}catch(a){if(a&&L&&typeof a.stack=="string"){for(var M=a.stack.split(`
`),e=L.stack.split(`
`),b=M.length-1,w=e.length-1;1<=b&&0<=w&&M[b]!==e[w];)w--;for(;1<=b&&0<=w;b--,w--)if(M[b]!==e[w]){if(b!==1||w!==1)do if(b--,w--,0>w||M[b]!==e[w])return`
`+M[b].replace(" at new "," at ");while(1<=b&&0<=w);break}}}finally{A1=!1,Error.prepareStackTrace=Q}return(I=I?I.displayName||I.name:"")?xh(I):""}function gT(I){switch(I.tag){case 5:return xh(I.type);case 16:return xh("Lazy");case 13:return xh("Suspense");case 19:return xh("SuspenseList");case 0:case 2:case 15:return I=h0(I.type,!1),I;case 11:return I=h0(I.type.render,!1),I;case 22:return I=h0(I.type._render,!1),I;case 1:return I=h0(I.type,!0),I;default:return""}}function rp(I){if(I==null)return null;if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case uc:return"Fragment";case Jc:return"Portal";case kh:return"Profiler";case Rv:return"StrictMode";case Th:return"Suspense";case z0:return"SuspenseList"}if(typeof I=="object")switch(I.$$typeof){case Fv:return(I.displayName||"Context")+".Consumer";case zv:return(I._context.displayName||"Context")+".Provider";case og:var N=I.render;return N=N.displayName||N.name||"",I.displayName||(N!==""?"ForwardRef("+N+")":"ForwardRef");case sg:return rp(I.type);case Bv:return rp(I._render);case Nv:N=I._payload,I=I._init;try{return rp(I(N))}catch{}}return null}function _c(I){switch(typeof I){case"boolean":case"number":case"object":case"string":case"undefined":return I;default:return""}}function sw(I){var N=I.type;return(I=I.nodeName)&&I.toLowerCase()==="input"&&(N==="checkbox"||N==="radio")}function mT(I){var N=sw(I)?"checked":"value",Q=Object.getOwnPropertyDescriptor(I.constructor.prototype,N),L=""+I[N];if(!I.hasOwnProperty(N)&&typeof Q<"u"&&typeof Q.get=="function"&&typeof Q.set=="function"){var M=Q.get,e=Q.set;return Object.defineProperty(I,N,{configurable:!0,get:function(){return M.call(this)},set:function(b){L=""+b,e.call(this,b)}}),Object.defineProperty(I,N,{enumerable:Q.enumerable}),{getValue:function(){return L},setValue:function(b){L=""+b},stopTracking:function(){I._valueTracker=null,delete I[N]}}}}function d0(I){I._valueTracker||(I._valueTracker=mT(I))}function lw(I){if(!I)return!1;var N=I._valueTracker;if(!N)return!0;var Q=N.getValue(),L="";return I&&(L=sw(I)?I.checked?"true":"false":I.value),I=L,I!==Q?(N.setValue(I),!0):!1}function F0(I){if(I=I||(typeof document<"u"?document:void 0),typeof I>"u")return null;try{return I.activeElement||I.body}catch{return I.body}}function Y1(I,N){var Q=N.checked;return Oa({},N,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Q??I._wrapperState.initialChecked})}function Kb(I,N){var Q=N.defaultValue==null?"":N.defaultValue,L=N.checked!=null?N.checked:N.defaultChecked;Q=_c(N.value!=null?N.value:Q),I._wrapperState={initialChecked:L,initialValue:Q,controlled:N.type==="checkbox"||N.type==="radio"?N.checked!=null:N.value!=null}}function uw(I,N){N=N.checked,N!=null&&Dv(I,"checked",N,!1)}function Z1(I,N){uw(I,N);var Q=_c(N.value),L=N.type;if(Q!=null)L==="number"?(Q===0&&I.value===""||I.value!=Q)&&(I.value=""+Q):I.value!==""+Q&&(I.value=""+Q);else if(L==="submit"||L==="reset"){I.removeAttribute("value");return}N.hasOwnProperty("value")?X1(I,N.type,Q):N.hasOwnProperty("defaultValue")&&X1(I,N.type,_c(N.defaultValue)),N.checked==null&&N.defaultChecked!=null&&(I.defaultChecked=!!N.defaultChecked)}function $b(I,N,Q){if(N.hasOwnProperty("value")||N.hasOwnProperty("defaultValue")){var L=N.type;if(!(L!=="submit"&&L!=="reset"||N.value!==void 0&&N.value!==null))return;N=""+I._wrapperState.initialValue,Q||N===I.value||(I.value=N),I.defaultValue=N}Q=I.name,Q!==""&&(I.name=""),I.defaultChecked=!!I._wrapperState.initialChecked,Q!==""&&(I.name=Q)}function X1(I,N,Q){(N!=="number"||F0(I.ownerDocument)!==I)&&(Q==null?I.defaultValue=""+I._wrapperState.initialValue:I.defaultValue!==""+Q&&(I.defaultValue=""+Q))}function vT(I){var N="";return ag.Children.forEach(I,function(Q){Q!=null&&(N+=Q)}),N}function J1(I,N){return I=Oa({children:void 0},N),(N=vT(N.children))&&(I.children=N),I}function ip(I,N,Q,L){if(I=I.options,N){N={};for(var M=0;M<Q.length;M++)N["$"+Q[M]]=!0;for(Q=0;Q<I.length;Q++)M=N.hasOwnProperty("$"+I[Q].value),I[Q].selected!==M&&(I[Q].selected=M),M&&L&&(I[Q].defaultSelected=!0)}else{for(Q=""+_c(Q),N=null,M=0;M<I.length;M++){if(I[M].value===Q){I[M].selected=!0,L&&(I[M].defaultSelected=!0);return}N!==null||I[M].disabled||(N=I[M])}N!==null&&(N.selected=!0)}}function K1(I,N){if(N.dangerouslySetInnerHTML!=null)throw Error(jr(91));return Oa({},N,{value:void 0,defaultValue:void 0,children:""+I._wrapperState.initialValue})}function Qb(I,N){var Q=N.value;if(Q==null){if(Q=N.children,N=N.defaultValue,Q!=null){if(N!=null)throw Error(jr(92));if(Array.isArray(Q)){if(!(1>=Q.length))throw Error(jr(93));Q=Q[0]}N=Q}N==null&&(N=""),Q=N}I._wrapperState={initialValue:_c(Q)}}function cw(I,N){var Q=_c(N.value),L=_c(N.defaultValue);Q!=null&&(Q=""+Q,Q!==I.value&&(I.value=Q),N.defaultValue==null&&I.defaultValue!==Q&&(I.defaultValue=Q)),L!=null&&(I.defaultValue=""+L)}function e_(I){var N=I.textContent;N===I._wrapperState.initialValue&&N!==""&&N!==null&&(I.value=N)}var $1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function fw(I){switch(I){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q1(I,N){return I==null||I==="http://www.w3.org/1999/xhtml"?fw(N):I==="http://www.w3.org/2000/svg"&&N==="foreignObject"?"http://www.w3.org/1999/xhtml":I}var g0,pw=function(I){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(N,Q,L,M){MSApp.execUnsafeLocalFunction(function(){return I(N,Q,L,M)})}:I}(function(I,N){if(I.namespaceURI!==$1.svg||"innerHTML"in I)I.innerHTML=N;else{for(g0=g0||document.createElement("div"),g0.innerHTML="<svg>"+N.valueOf().toString()+"</svg>",N=g0.firstChild;I.firstChild;)I.removeChild(I.firstChild);for(;N.firstChild;)I.appendChild(N.firstChild)}});function zh(I,N){if(N){var Q=I.firstChild;if(Q&&Q===I.lastChild&&Q.nodeType===3){Q.nodeValue=N;return}}I.textContent=N}var Ah={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yT=["Webkit","ms","Moz","O"];Object.keys(Ah).forEach(function(I){yT.forEach(function(N){N=N+I.charAt(0).toUpperCase()+I.substring(1),Ah[N]=Ah[I]})});function hw(I,N,Q){return N==null||typeof N=="boolean"||N===""?"":Q||typeof N!="number"||N===0||Ah.hasOwnProperty(I)&&Ah[I]?(""+N).trim():N+"px"}function dw(I,N){I=I.style;for(var Q in N)if(N.hasOwnProperty(Q)){var L=Q.indexOf("--")===0,M=hw(Q,N[Q],L);Q==="float"&&(Q="cssFloat"),L?I.setProperty(Q,M):I[Q]=M}}var xT=Oa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ev(I,N){if(N){if(xT[I]&&(N.children!=null||N.dangerouslySetInnerHTML!=null))throw Error(jr(137,I));if(N.dangerouslySetInnerHTML!=null){if(N.children!=null)throw Error(jr(60));if(!(typeof N.dangerouslySetInnerHTML=="object"&&"__html"in N.dangerouslySetInnerHTML))throw Error(jr(61))}if(N.style!=null&&typeof N.style!="object")throw Error(jr(62))}}function tv(I,N){if(I.indexOf("-")===-1)return typeof N.is=="string";switch(I){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Vv(I){return I=I.target||I.srcElement||window,I.correspondingUseElement&&(I=I.correspondingUseElement),I.nodeType===3?I.parentNode:I}var nv=null,ap=null,op=null;function t_(I){if(I=Jh(I)){if(typeof nv!="function")throw Error(jr(280));var N=I.stateNode;N&&(N=hg(N),nv(I.stateNode,I.type,N))}}function gw(I){ap?op?op.push(I):op=[I]:ap=I}function mw(){if(ap){var I=ap,N=op;if(op=ap=null,t_(I),N)for(I=0;I<N.length;I++)t_(N[I])}}function Hv(I,N){return I(N)}function vw(I,N,Q,L,M){return I(N,Q,L,M)}function qv(){}var yw=Hv,Kc=!1,M1=!1;function Wv(){(ap!==null||op!==null)&&(qv(),mw())}function bT(I,N,Q){if(M1)return I(N,Q);M1=!0;try{return yw(I,N,Q)}finally{M1=!1,Wv()}}function Fh(I,N){var Q=I.stateNode;if(Q===null)return null;var L=hg(Q);if(L===null)return null;Q=L[N];e:switch(N){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(I=I.type,L=!(I==="button"||I==="input"||I==="select"||I==="textarea")),I=!L;break e;default:I=!1}if(I)return null;if(Q&&typeof Q!="function")throw Error(jr(231,N,typeof Q));return Q}var rv=!1;if(Ku)try{Yf={},Object.defineProperty(Yf,"passive",{get:function(){rv=!0}}),window.addEventListener("test",Yf,Yf),window.removeEventListener("test",Yf,Yf)}catch{rv=!1}var Yf;function _T(I,N,Q,L,M,e,b,w,a){var k=Array.prototype.slice.call(arguments,3);try{N.apply(Q,k)}catch(y){this.onError(y)}}var Mh=!1,N0=null,B0=!1,iv=null,wT={onError:function(I){Mh=!0,N0=I}};function kT(I,N,Q,L,M,e,b,w,a){Mh=!1,N0=null,_T.apply(wT,arguments)}function TT(I,N,Q,L,M,e,b,w,a){if(kT.apply(this,arguments),Mh){if(Mh){var k=N0;Mh=!1,N0=null}else throw Error(jr(198));B0||(B0=!0,iv=k)}}function lf(I){var N=I,Q=I;if(I.alternate)for(;N.return;)N=N.return;else{I=N;do N=I,N.flags&1026&&(Q=N.return),I=N.return;while(I)}return N.tag===3?Q:null}function xw(I){if(I.tag===13){var N=I.memoizedState;if(N===null&&(I=I.alternate,I!==null&&(N=I.memoizedState)),N!==null)return N.dehydrated}return null}function n_(I){if(lf(I)!==I)throw Error(jr(188))}function AT(I){var N=I.alternate;if(!N){if(N=lf(I),N===null)throw Error(jr(188));return N!==I?null:I}for(var Q=I,L=N;;){var M=Q.return;if(M===null)break;var e=M.alternate;if(e===null){if(L=M.return,L!==null){Q=L;continue}break}if(M.child===e.child){for(e=M.child;e;){if(e===Q)return n_(M),I;if(e===L)return n_(M),N;e=e.sibling}throw Error(jr(188))}if(Q.return!==L.return)Q=M,L=e;else{for(var b=!1,w=M.child;w;){if(w===Q){b=!0,Q=M,L=e;break}if(w===L){b=!0,L=M,Q=e;break}w=w.sibling}if(!b){for(w=e.child;w;){if(w===Q){b=!0,Q=e,L=M;break}if(w===L){b=!0,L=e,Q=M;break}w=w.sibling}if(!b)throw Error(jr(189))}}if(Q.alternate!==L)throw Error(jr(190))}if(Q.tag!==3)throw Error(jr(188));return Q.stateNode.current===Q?I:N}function bw(I){if(I=AT(I),!I)return null;for(var N=I;;){if(N.tag===5||N.tag===6)return N;if(N.child)N.child.return=N,N=N.child;else{if(N===I)break;for(;!N.sibling;){if(!N.return||N.return===I)return null;N=N.return}N.sibling.return=N.return,N=N.sibling}}return null}function r_(I,N){for(var Q=I.alternate;N!==null;){if(N===I||N===Q)return!0;N=N.return}return!1}var _w,Gv,ww,kw,av=!1,Su=[],hc=null,dc=null,gc=null,Nh=new Map,Bh=new Map,sh=[],i_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(I,N,Q,L,M){return{blockedOn:I,domEventName:N,eventSystemFlags:Q|16,nativeEvent:M,targetContainers:[L]}}function a_(I,N){switch(I){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":gc=null;break;case"pointerover":case"pointerout":Nh.delete(N.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(N.pointerId)}}function lh(I,N,Q,L,M,e){return I===null||I.nativeEvent!==e?(I=ov(N,Q,L,M,e),N!==null&&(N=Jh(N),N!==null&&Gv(N)),I):(I.eventSystemFlags|=L,N=I.targetContainers,M!==null&&N.indexOf(M)===-1&&N.push(M),I)}function MT(I,N,Q,L,M){switch(N){case"focusin":return hc=lh(hc,I,N,Q,L,M),!0;case"dragenter":return dc=lh(dc,I,N,Q,L,M),!0;case"mouseover":return gc=lh(gc,I,N,Q,L,M),!0;case"pointerover":var e=M.pointerId;return Nh.set(e,lh(Nh.get(e)||null,I,N,Q,L,M)),!0;case"gotpointercapture":return e=M.pointerId,Bh.set(e,lh(Bh.get(e)||null,I,N,Q,L,M)),!0}return!1}function ST(I){var N=$c(I.target);if(N!==null){var Q=lf(N);if(Q!==null){if(N=Q.tag,N===13){if(N=xw(Q),N!==null){I.blockedOn=N,kw(I.lanePriority,function(){qo.unstable_runWithPriority(I.priority,function(){ww(Q)})});return}}else if(N===3&&Q.stateNode.hydrate){I.blockedOn=Q.tag===3?Q.stateNode.containerInfo:null;return}}}I.blockedOn=null}function M0(I){if(I.blockedOn!==null)return!1;for(var N=I.targetContainers;0<N.length;){var Q=Jv(I.domEventName,I.eventSystemFlags,N[0],I.nativeEvent);if(Q!==null)return N=Jh(Q),N!==null&&Gv(N),I.blockedOn=Q,!1;N.shift()}return!0}function o_(I,N,Q){M0(I)&&Q.delete(N)}function ET(){for(av=!1;0<Su.length;){var I=Su[0];if(I.blockedOn!==null){I=Jh(I.blockedOn),I!==null&&_w(I);break}for(var N=I.targetContainers;0<N.length;){var Q=Jv(I.domEventName,I.eventSystemFlags,N[0],I.nativeEvent);if(Q!==null){I.blockedOn=Q;break}N.shift()}I.blockedOn===null&&Su.shift()}hc!==null&&M0(hc)&&(hc=null),dc!==null&&M0(dc)&&(dc=null),gc!==null&&M0(gc)&&(gc=null),Nh.forEach(o_),Bh.forEach(o_)}function uh(I,N){I.blockedOn===N&&(I.blockedOn=null,av||(av=!0,qo.unstable_scheduleCallback(qo.unstable_NormalPriority,ET)))}function Tw(I){function N(M){return uh(M,I)}if(0<Su.length){uh(Su[0],I);for(var Q=1;Q<Su.length;Q++){var L=Su[Q];L.blockedOn===I&&(L.blockedOn=null)}}for(hc!==null&&uh(hc,I),dc!==null&&uh(dc,I),gc!==null&&uh(gc,I),Nh.forEach(N),Bh.forEach(N),Q=0;Q<sh.length;Q++)L=sh[Q],L.blockedOn===I&&(L.blockedOn=null);for(;0<sh.length&&(Q=sh[0],Q.blockedOn===null);)ST(Q),Q.blockedOn===null&&sh.shift()}function m0(I,N){var Q={};return Q[I.toLowerCase()]=N.toLowerCase(),Q["Webkit"+I]="webkit"+N,Q["Moz"+I]="moz"+N,Q}var Kf={animationend:m0("Animation","AnimationEnd"),animationiteration:m0("Animation","AnimationIteration"),animationstart:m0("Animation","AnimationStart"),transitionend:m0("Transition","TransitionEnd")},S1={},Aw={};Ku&&(Aw=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function lg(I){if(S1[I])return S1[I];if(!Kf[I])return I;var N=Kf[I],Q;for(Q in N)if(N.hasOwnProperty(Q)&&Q in Aw)return S1[I]=N[Q];return I}var Mw=lg("animationend"),Sw=lg("animationiteration"),Ew=lg("animationstart"),Cw=lg("transitionend"),Lw=new Map,Yv=new Map,CT=["abort","abort",Mw,"animationEnd",Sw,"animationIteration",Ew,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Cw,"transitionEnd","waiting","waiting"];function Zv(I,N){for(var Q=0;Q<I.length;Q+=2){var L=I[Q],M=I[Q+1];M="on"+(M[0].toUpperCase()+M.slice(1)),Yv.set(L,N),Lw.set(L,M),of(M,[L])}}var LT=qo.unstable_now;LT();var _a=8;function Xf(I){if(1&I)return _a=15,1;if(2&I)return _a=14,2;if(4&I)return _a=13,4;var N=24&I;return N!==0?(_a=12,N):I&32?(_a=11,32):(N=192&I,N!==0?(_a=10,N):I&256?(_a=9,256):(N=3584&I,N!==0?(_a=8,N):I&4096?(_a=7,4096):(N=4186112&I,N!==0?(_a=6,N):(N=62914560&I,N!==0?(_a=5,N):I&67108864?(_a=4,67108864):I&134217728?(_a=3,134217728):(N=805306368&I,N!==0?(_a=2,N):1073741824&I?(_a=1,1073741824):(_a=8,I))))))}function OT(I){switch(I){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function PT(I){switch(I){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(jr(358,I))}}function jh(I,N){var Q=I.pendingLanes;if(Q===0)return _a=0;var L=0,M=0,e=I.expiredLanes,b=I.suspendedLanes,w=I.pingedLanes;if(e!==0)L=e,M=_a=15;else if(e=Q&134217727,e!==0){var a=e&~b;a!==0?(L=Xf(a),M=_a):(w&=e,w!==0&&(L=Xf(w),M=_a))}else e=Q&~b,e!==0?(L=Xf(e),M=_a):w!==0&&(L=Xf(w),M=_a);if(L===0)return 0;if(L=31-wc(L),L=Q&((0>L?0:1<<L)<<1)-1,N!==0&&N!==L&&!(N&b)){if(Xf(N),M<=_a)return N;_a=M}if(N=I.entangledLanes,N!==0)for(I=I.entanglements,N&=L;0<N;)Q=31-wc(N),M=1<<Q,L|=I[Q],N&=~M;return L}function Ow(I){return I=I.pendingLanes&-1073741825,I!==0?I:I&1073741824?1073741824:0}function j0(I,N){switch(I){case 15:return 1;case 14:return 2;case 12:return I=Jf(24&~N),I===0?j0(10,N):I;case 10:return I=Jf(192&~N),I===0?j0(8,N):I;case 8:return I=Jf(3584&~N),I===0&&(I=Jf(4186112&~N),I===0&&(I=512)),I;case 2:return N=Jf(805306368&~N),N===0&&(N=268435456),N}throw Error(jr(358,I))}function Jf(I){return I&-I}function E1(I){for(var N=[],Q=0;31>Q;Q++)N.push(I);return N}function ug(I,N,Q){I.pendingLanes|=N;var L=N-1;I.suspendedLanes&=L,I.pingedLanes&=L,I=I.eventTimes,N=31-wc(N),I[N]=Q}var wc=Math.clz32?Math.clz32:RT,IT=Math.log,DT=Math.LN2;function RT(I){return I===0?32:31-(IT(I)/DT|0)|0}var zT=qo.unstable_UserBlockingPriority,FT=qo.unstable_runWithPriority,S0=!0;function NT(I,N,Q,L){Kc||qv();var M=Xv,e=Kc;Kc=!0;try{vw(M,I,N,Q,L)}finally{(Kc=e)||Wv()}}function BT(I,N,Q,L){FT(zT,Xv.bind(null,I,N,Q,L))}function Xv(I,N,Q,L){if(S0){var M;if((M=(N&4)===0)&&0<Su.length&&-1<i_.indexOf(I))I=ov(null,I,N,Q,L),Su.push(I);else{var e=Jv(I,N,Q,L);if(e===null)M&&a_(I,L);else{if(M){if(-1<i_.indexOf(I)){I=ov(e,I,N,Q,L),Su.push(I);return}if(MT(e,I,N,Q,L))return;a_(I,L)}qw(I,N,L,null,Q)}}}}function Jv(I,N,Q,L){var M=Vv(L);if(M=$c(M),M!==null){var e=lf(M);if(e===null)M=null;else{var b=e.tag;if(b===13){if(M=xw(e),M!==null)return M;M=null}else if(b===3){if(e.stateNode.hydrate)return e.tag===3?e.stateNode.containerInfo:null;M=null}else e!==M&&(M=null)}}return qw(I,N,L,M,Q),null}var cc=null,Kv=null,E0=null;function Pw(){if(E0)return E0;var I,N=Kv,Q=N.length,L,M="value"in cc?cc.value:cc.textContent,e=M.length;for(I=0;I<Q&&N[I]===M[I];I++);var b=Q-I;for(L=1;L<=b&&N[Q-L]===M[e-L];L++);return E0=M.slice(I,1<L?1-L:void 0)}function C0(I){var N=I.keyCode;return"charCode"in I?(I=I.charCode,I===0&&N===13&&(I=13)):I=N,I===10&&(I=13),32<=I||I===13?I:0}function v0(){return!0}function s_(){return!1}function Il(I){function N(Q,L,M,e,b){this._reactName=Q,this._targetInst=M,this.type=L,this.nativeEvent=e,this.target=b,this.currentTarget=null;for(var w in I)I.hasOwnProperty(w)&&(Q=I[w],this[w]=Q?Q(e):e[w]);return this.isDefaultPrevented=(e.defaultPrevented!=null?e.defaultPrevented:e.returnValue===!1)?v0:s_,this.isPropagationStopped=s_,this}return Oa(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Q=this.nativeEvent;Q&&(Q.preventDefault?Q.preventDefault():typeof Q.returnValue!="unknown"&&(Q.returnValue=!1),this.isDefaultPrevented=v0)},stopPropagation:function(){var Q=this.nativeEvent;Q&&(Q.stopPropagation?Q.stopPropagation():typeof Q.cancelBubble!="unknown"&&(Q.cancelBubble=!0),this.isPropagationStopped=v0)},persist:function(){},isPersistent:v0}),N}var vp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(I){return I.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=Il(vp),Xh=Oa({},vp,{view:0,detail:0}),jT=Il(Xh),C1,L1,ch,cg=Oa({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qv,button:0,buttons:0,relatedTarget:function(I){return I.relatedTarget===void 0?I.fromElement===I.srcElement?I.toElement:I.fromElement:I.relatedTarget},movementX:function(I){return"movementX"in I?I.movementX:(I!==ch&&(ch&&I.type==="mousemove"?(C1=I.screenX-ch.screenX,L1=I.screenY-ch.screenY):L1=C1=0,ch=I),C1)},movementY:function(I){return"movementY"in I?I.movementY:L1}}),l_=Il(cg),UT=Oa({},cg,{dataTransfer:0}),VT=Il(UT),HT=Oa({},Xh,{relatedTarget:0}),O1=Il(HT),qT=Oa({},vp,{animationName:0,elapsedTime:0,pseudoElement:0}),WT=Il(qT),GT=Oa({},vp,{clipboardData:function(I){return"clipboardData"in I?I.clipboardData:window.clipboardData}}),YT=Il(GT),ZT=Oa({},vp,{data:0}),u_=Il(ZT),XT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $T(I){var N=this.nativeEvent;return N.getModifierState?N.getModifierState(I):(I=KT[I])?!!N[I]:!1}function Qv(){return $T}var QT=Oa({},Xh,{key:function(I){if(I.key){var N=XT[I.key]||I.key;if(N!=="Unidentified")return N}return I.type==="keypress"?(I=C0(I),I===13?"Enter":String.fromCharCode(I)):I.type==="keydown"||I.type==="keyup"?JT[I.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qv,charCode:function(I){return I.type==="keypress"?C0(I):0},keyCode:function(I){return I.type==="keydown"||I.type==="keyup"?I.keyCode:0},which:function(I){return I.type==="keypress"?C0(I):I.type==="keydown"||I.type==="keyup"?I.keyCode:0}}),eA=Il(QT),tA=Oa({},cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c_=Il(tA),nA=Oa({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qv}),rA=Il(nA),iA=Oa({},vp,{propertyName:0,elapsedTime:0,pseudoElement:0}),aA=Il(iA),oA=Oa({},cg,{deltaX:function(I){return"deltaX"in I?I.deltaX:"wheelDeltaX"in I?-I.wheelDeltaX:0},deltaY:function(I){return"deltaY"in I?I.deltaY:"wheelDeltaY"in I?-I.wheelDeltaY:"wheelDelta"in I?-I.wheelDelta:0},deltaZ:0,deltaMode:0}),sA=Il(oA),lA=[9,13,27,32],ey=Ku&&"CompositionEvent"in window,Sh=null;Ku&&"documentMode"in document&&(Sh=document.documentMode);var uA=Ku&&"TextEvent"in window&&!Sh,Iw=Ku&&(!ey||Sh&&8<Sh&&11>=Sh),f_=String.fromCharCode(32),p_=!1;function Dw(I,N){switch(I){case"keyup":return lA.indexOf(N.keyCode)!==-1;case"keydown":return N.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(I){return I=I.detail,typeof I=="object"&&"data"in I?I.data:null}var $f=!1;function cA(I,N){switch(I){case"compositionend":return Rw(N);case"keypress":return N.which!==32?null:(p_=!0,f_);case"textInput":return I=N.data,I===f_&&p_?null:I;default:return null}}function fA(I,N){if($f)return I==="compositionend"||!ey&&Dw(I,N)?(I=Pw(),E0=Kv=cc=null,$f=!1,I):null;switch(I){case"paste":return null;case"keypress":if(!(N.ctrlKey||N.altKey||N.metaKey)||N.ctrlKey&&N.altKey){if(N.char&&1<N.char.length)return N.char;if(N.which)return String.fromCharCode(N.which)}return null;case"compositionend":return Iw&&N.locale!=="ko"?null:N.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(I){var N=I&&I.nodeName&&I.nodeName.toLowerCase();return N==="input"?!!pA[I.type]:N==="textarea"}function zw(I,N,Q,L){gw(L),N=U0(N,"onChange"),0<N.length&&(Q=new $v("onChange","change",null,Q,L),I.push({event:Q,listeners:N}))}var Eh=null,Uh=null;function hA(I){Uw(I,0)}function fg(I){var N=ep(I);if(lw(N))return I}function dA(I,N){if(I==="change")return N}var Fw=!1;Ku&&(Ku?(x0="oninput"in document,x0||(P1=document.createElement("div"),P1.setAttribute("oninput","return;"),x0=typeof P1.oninput=="function"),y0=x0):y0=!1,Fw=y0&&(!document.documentMode||9<document.documentMode));var y0,x0,P1;function d_(){Eh&&(Eh.detachEvent("onpropertychange",Nw),Uh=Eh=null)}function Nw(I){if(I.propertyName==="value"&&fg(Uh)){var N=[];if(zw(N,Uh,I,Vv(I)),I=hA,Kc)I(N);else{Kc=!0;try{Hv(I,N)}finally{Kc=!1,Wv()}}}}function gA(I,N,Q){I==="focusin"?(d_(),Eh=N,Uh=Q,Eh.attachEvent("onpropertychange",Nw)):I==="focusout"&&d_()}function mA(I){if(I==="selectionchange"||I==="keyup"||I==="keydown")return fg(Uh)}function vA(I,N){if(I==="click")return fg(N)}function yA(I,N){if(I==="input"||I==="change")return fg(N)}function xA(I,N){return I===N&&(I!==0||1/I===1/N)||I!==I&&N!==N}var Wl=typeof Object.is=="function"?Object.is:xA,bA=Object.prototype.hasOwnProperty;function Vh(I,N){if(Wl(I,N))return!0;if(typeof I!="object"||I===null||typeof N!="object"||N===null)return!1;var Q=Object.keys(I),L=Object.keys(N);if(Q.length!==L.length)return!1;for(L=0;L<Q.length;L++)if(!bA.call(N,Q[L])||!Wl(I[Q[L]],N[Q[L]]))return!1;return!0}function g_(I){for(;I&&I.firstChild;)I=I.firstChild;return I}function m_(I,N){var Q=g_(I);I=0;for(var L;Q;){if(Q.nodeType===3){if(L=I+Q.textContent.length,I<=N&&L>=N)return{node:Q,offset:N-I};I=L}e:{for(;Q;){if(Q.nextSibling){Q=Q.nextSibling;break e}Q=Q.parentNode}Q=void 0}Q=g_(Q)}}function Bw(I,N){return I&&N?I===N?!0:I&&I.nodeType===3?!1:N&&N.nodeType===3?Bw(I,N.parentNode):"contains"in I?I.contains(N):I.compareDocumentPosition?!!(I.compareDocumentPosition(N)&16):!1:!1}function v_(){for(var I=window,N=F0();N instanceof I.HTMLIFrameElement;){try{var Q=typeof N.contentWindow.location.href=="string"}catch{Q=!1}if(Q)I=N.contentWindow;else break;N=F0(I.document)}return N}function sv(I){var N=I&&I.nodeName&&I.nodeName.toLowerCase();return N&&(N==="input"&&(I.type==="text"||I.type==="search"||I.type==="tel"||I.type==="url"||I.type==="password")||N==="textarea"||I.contentEditable==="true")}var _A=Ku&&"documentMode"in document&&11>=document.documentMode,Qf=null,lv=null,Ch=null,uv=!1;function y_(I,N,Q){var L=Q.window===Q?Q.document:Q.nodeType===9?Q:Q.ownerDocument;uv||Qf==null||Qf!==F0(L)||(L=Qf,"selectionStart"in L&&sv(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Ch&&Vh(Ch,L)||(Ch=L,L=U0(lv,"onSelect"),0<L.length&&(N=new $v("onSelect","select",null,N,Q),I.push({event:N,listeners:L}),N.target=Qf)))}Zv("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Zv("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Zv(CT,2);for(I1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),b0=0;b0<I1.length;b0++)Yv.set(I1[b0],0);var I1,b0;hp("onMouseEnter",["mouseout","mouseover"]);hp("onMouseLeave",["mouseout","mouseover"]);hp("onPointerEnter",["pointerout","pointerover"]);hp("onPointerLeave",["pointerout","pointerover"]);of("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));of("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));of("onBeforeInput",["compositionend","keypress","textInput","paste"]);of("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));of("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));of("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(bh));function x_(I,N,Q){var L=I.type||"unknown-event";I.currentTarget=Q,TT(L,N,void 0,I),I.currentTarget=null}function Uw(I,N){N=(N&4)!==0;for(var Q=0;Q<I.length;Q++){var L=I[Q],M=L.event;L=L.listeners;e:{var e=void 0;if(N)for(var b=L.length-1;0<=b;b--){var w=L[b],a=w.instance,k=w.currentTarget;if(w=w.listener,a!==e&&M.isPropagationStopped())break e;x_(M,w,k),e=a}else for(b=0;b<L.length;b++){if(w=L[b],a=w.instance,k=w.currentTarget,w=w.listener,a!==e&&M.isPropagationStopped())break e;x_(M,w,k),e=a}}}if(B0)throw I=iv,B0=!1,iv=null,I}function Ea(I,N){var Q=Gw(N),L=I+"__bubble";Q.has(L)||(Hw(N,I,2,!1),Q.add(L))}var b_="_reactListening"+Math.random().toString(36).slice(2);function Vw(I){I[b_]||(I[b_]=!0,aw.forEach(function(N){jw.has(N)||__(N,!1,I,null),__(N,!0,I,null)}))}function __(I,N,Q,L){var M=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,e=Q;if(I==="selectionchange"&&Q.nodeType!==9&&(e=Q.ownerDocument),L!==null&&!N&&jw.has(I)){if(I!=="scroll")return;M|=2,e=L}var b=Gw(e),w=I+"__"+(N?"capture":"bubble");b.has(w)||(N&&(M|=4),Hw(e,I,M,N),b.add(w))}function Hw(I,N,Q,L){var M=Yv.get(N);switch(M===void 0?2:M){case 0:M=NT;break;case 1:M=BT;break;default:M=Xv}Q=M.bind(null,N,Q,I),M=void 0,!rv||N!=="touchstart"&&N!=="touchmove"&&N!=="wheel"||(M=!0),L?M!==void 0?I.addEventListener(N,Q,{capture:!0,passive:M}):I.addEventListener(N,Q,!0):M!==void 0?I.addEventListener(N,Q,{passive:M}):I.addEventListener(N,Q,!1)}function qw(I,N,Q,L,M){var e=L;if(!(N&1)&&!(N&2)&&L!==null)e:for(;;){if(L===null)return;var b=L.tag;if(b===3||b===4){var w=L.stateNode.containerInfo;if(w===M||w.nodeType===8&&w.parentNode===M)break;if(b===4)for(b=L.return;b!==null;){var a=b.tag;if((a===3||a===4)&&(a=b.stateNode.containerInfo,a===M||a.nodeType===8&&a.parentNode===M))return;b=b.return}for(;w!==null;){if(b=$c(w),b===null)return;if(a=b.tag,a===5||a===6){L=e=b;continue e}w=w.parentNode}}L=L.return}bT(function(){var k=e,y=Vv(Q),f=[];e:{var l=Lw.get(I);if(l!==void 0){var t=$v,s=I;switch(I){case"keypress":if(C0(Q)===0)break e;case"keydown":case"keyup":t=eA;break;case"focusin":s="focus",t=O1;break;case"focusout":s="blur",t=O1;break;case"beforeblur":case"afterblur":t=O1;break;case"click":if(Q.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=l_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=VT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=rA;break;case Mw:case Sw:case Ew:t=WT;break;case Cw:t=aA;break;case"scroll":t=jT;break;case"wheel":t=sA;break;case"copy":case"cut":case"paste":t=YT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=c_}var o=(N&4)!==0,n=!o&&I==="scroll",r=o?l!==null?l+"Capture":null:l;o=[];for(var i=k,u;i!==null;){u=i;var p=u.stateNode;if(u.tag===5&&p!==null&&(u=p,r!==null&&(p=Fh(i,r),p!=null&&o.push(Hh(i,p,u)))),n)break;i=i.return}0<o.length&&(l=new t(l,s,null,Q,y),f.push({event:l,listeners:o}))}}if(!(N&7)){e:{if(l=I==="mouseover"||I==="pointerover",t=I==="mouseout"||I==="pointerout",l&&!(N&16)&&(s=Q.relatedTarget||Q.fromElement)&&($c(s)||s[yp]))break e;if((t||l)&&(l=y.window===y?y:(l=y.ownerDocument)?l.defaultView||l.parentWindow:window,t?(s=Q.relatedTarget||Q.toElement,t=k,s=s?$c(s):null,s!==null&&(n=lf(s),s!==n||s.tag!==5&&s.tag!==6)&&(s=null)):(t=null,s=k),t!==s)){if(o=l_,p="onMouseLeave",r="onMouseEnter",i="mouse",(I==="pointerout"||I==="pointerover")&&(o=c_,p="onPointerLeave",r="onPointerEnter",i="pointer"),n=t==null?l:ep(t),u=s==null?l:ep(s),l=new o(p,i+"leave",t,Q,y),l.target=n,l.relatedTarget=u,p=null,$c(y)===k&&(o=new o(r,i+"enter",s,Q,y),o.target=u,o.relatedTarget=n,p=o),n=p,t&&s)t:{for(o=t,r=s,i=0,u=o;u;u=Zf(u))i++;for(u=0,p=r;p;p=Zf(p))u++;for(;0<i-u;)o=Zf(o),i--;for(;0<u-i;)r=Zf(r),u--;for(;i--;){if(o===r||r!==null&&o===r.alternate)break t;o=Zf(o),r=Zf(r)}o=null}else o=null;t!==null&&w_(f,l,t,o,!1),s!==null&&n!==null&&w_(f,n,s,o,!0)}}e:{if(l=k?ep(k):window,t=l.nodeName&&l.nodeName.toLowerCase(),t==="select"||t==="input"&&l.type==="file")var h=dA;else if(h_(l))if(Fw)h=yA;else{h=mA;var _=gA}else(t=l.nodeName)&&t.toLowerCase()==="input"&&(l.type==="checkbox"||l.type==="radio")&&(h=vA);if(h&&(h=h(I,k))){zw(f,h,Q,y);break e}_&&_(I,l,k),I==="focusout"&&(_=l._wrapperState)&&_.controlled&&l.type==="number"&&X1(l,"number",l.value)}switch(_=k?ep(k):window,I){case"focusin":(h_(_)||_.contentEditable==="true")&&(Qf=_,lv=k,Ch=null);break;case"focusout":Ch=lv=Qf=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,y_(f,Q,y);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":y_(f,Q,y)}var m;if(ey)e:{switch(I){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else $f?Dw(I,Q)&&(d="onCompositionEnd"):I==="keydown"&&Q.keyCode===229&&(d="onCompositionStart");d&&(Iw&&Q.locale!=="ko"&&($f||d!=="onCompositionStart"?d==="onCompositionEnd"&&$f&&(m=Pw()):(cc=y,Kv="value"in cc?cc.value:cc.textContent,$f=!0)),_=U0(k,d),0<_.length&&(d=new u_(d,I,null,Q,y),f.push({event:d,listeners:_}),m?d.data=m:(m=Rw(Q),m!==null&&(d.data=m)))),(m=uA?cA(I,Q):fA(I,Q))&&(k=U0(k,"onBeforeInput"),0<k.length&&(y=new u_("onBeforeInput","beforeinput",null,Q,y),f.push({event:y,listeners:k}),y.data=m))}Uw(f,N)})}function Hh(I,N,Q){return{instance:I,listener:N,currentTarget:Q}}function U0(I,N){for(var Q=N+"Capture",L=[];I!==null;){var M=I,e=M.stateNode;M.tag===5&&e!==null&&(M=e,e=Fh(I,Q),e!=null&&L.unshift(Hh(I,e,M)),e=Fh(I,N),e!=null&&L.push(Hh(I,e,M))),I=I.return}return L}function Zf(I){if(I===null)return null;do I=I.return;while(I&&I.tag!==5);return I||null}function w_(I,N,Q,L,M){for(var e=N._reactName,b=[];Q!==null&&Q!==L;){var w=Q,a=w.alternate,k=w.stateNode;if(a!==null&&a===L)break;w.tag===5&&k!==null&&(w=k,M?(a=Fh(Q,e),a!=null&&b.unshift(Hh(Q,a,w))):M||(a=Fh(Q,e),a!=null&&b.push(Hh(Q,a,w)))),Q=Q.return}b.length!==0&&I.push({event:N,listeners:b})}function V0(){}var D1=null,R1=null;function Ww(I,N){switch(I){case"button":case"input":case"select":case"textarea":return!!N.autoFocus}return!1}function cv(I,N){return I==="textarea"||I==="option"||I==="noscript"||typeof N.children=="string"||typeof N.children=="number"||typeof N.dangerouslySetInnerHTML=="object"&&N.dangerouslySetInnerHTML!==null&&N.dangerouslySetInnerHTML.__html!=null}var k_=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0;function ty(I){I.nodeType===1?I.textContent="":I.nodeType===9&&(I=I.body,I!=null&&(I.textContent=""))}function sp(I){for(;I!=null;I=I.nextSibling){var N=I.nodeType;if(N===1||N===3)break}return I}function T_(I){I=I.previousSibling;for(var N=0;I;){if(I.nodeType===8){var Q=I.data;if(Q==="$"||Q==="$!"||Q==="$?"){if(N===0)return I;N--}else Q==="/$"&&N++}I=I.previousSibling}return null}var z1=0;function kA(I){return{$$typeof:jv,toString:I,valueOf:I}}var pg=Math.random().toString(36).slice(2),fc="__reactFiber$"+pg,H0="__reactProps$"+pg,yp="__reactContainer$"+pg,A_="__reactEvents$"+pg;function $c(I){var N=I[fc];if(N)return N;for(var Q=I.parentNode;Q;){if(N=Q[yp]||Q[fc]){if(Q=N.alternate,N.child!==null||Q!==null&&Q.child!==null)for(I=T_(I);I!==null;){if(Q=I[fc])return Q;I=T_(I)}return N}I=Q,Q=I.parentNode}return null}function Jh(I){return I=I[fc]||I[yp],!I||I.tag!==5&&I.tag!==6&&I.tag!==13&&I.tag!==3?null:I}function ep(I){if(I.tag===5||I.tag===6)return I.stateNode;throw Error(jr(33))}function hg(I){return I[H0]||null}function Gw(I){var N=I[A_];return N===void 0&&(N=I[A_]=new Set),N}var fv=[],tp=-1;function Mc(I){return{current:I}}function Ca(I){0>tp||(I.current=fv[tp],fv[tp]=null,tp--)}function Xa(I,N){tp++,fv[tp]=I.current,I.current=N}var kc={},Es=Mc(kc),dl=Mc(!1),nf=kc;function dp(I,N){var Q=I.type.contextTypes;if(!Q)return kc;var L=I.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===N)return L.__reactInternalMemoizedMaskedChildContext;var M={},e;for(e in Q)M[e]=N[e];return L&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=N,I.__reactInternalMemoizedMaskedChildContext=M),M}function ml(I){return I=I.childContextTypes,I!=null}function q0(){Ca(dl),Ca(Es)}function M_(I,N,Q){if(Es.current!==kc)throw Error(jr(168));Xa(Es,N),Xa(dl,Q)}function Yw(I,N,Q){var L=I.stateNode;if(I=N.childContextTypes,typeof L.getChildContext!="function")return Q;L=L.getChildContext();for(var M in L)if(!(M in I))throw Error(jr(108,rp(N)||"Unknown",M));return Oa({},Q,L)}function L0(I){return I=(I=I.stateNode)&&I.__reactInternalMemoizedMergedChildContext||kc,nf=Es.current,Xa(Es,I),Xa(dl,dl.current),!0}function S_(I,N,Q){var L=I.stateNode;if(!L)throw Error(jr(169));Q?(I=Yw(I,N,nf),L.__reactInternalMemoizedMergedChildContext=I,Ca(dl),Ca(Es),Xa(Es,I)):Ca(dl),Xa(dl,Q)}var ny=null,tf=null,TA=qo.unstable_runWithPriority,ry=qo.unstable_scheduleCallback,pv=qo.unstable_cancelCallback,AA=qo.unstable_shouldYield,E_=qo.unstable_requestPaint,hv=qo.unstable_now,MA=qo.unstable_getCurrentPriorityLevel,dg=qo.unstable_ImmediatePriority,Zw=qo.unstable_UserBlockingPriority,Xw=qo.unstable_NormalPriority,Jw=qo.unstable_LowPriority,Kw=qo.unstable_IdlePriority,F1={},SA=E_!==void 0?E_:function(){},Gu=null,O0=null,N1=!1,C_=hv(),Ms=1e4>C_?hv:function(){return hv()-C_};function gp(){switch(MA()){case dg:return 99;case Zw:return 98;case Xw:return 97;case Jw:return 96;case Kw:return 95;default:throw Error(jr(332))}}function $w(I){switch(I){case 99:return dg;case 98:return Zw;case 97:return Xw;case 96:return Jw;case 95:return Kw;default:throw Error(jr(332))}}function rf(I,N){return I=$w(I),TA(I,N)}function qh(I,N,Q){return I=$w(I),ry(I,N,Q)}function Pu(){if(O0!==null){var I=O0;O0=null,pv(I)}Qw()}function Qw(){if(!N1&&Gu!==null){N1=!0;var I=0;try{var N=Gu;rf(99,function(){for(;I<N.length;I++){var Q=N[I];do Q=Q(!0);while(Q!==null)}}),Gu=null}catch(Q){throw Gu!==null&&(Gu=Gu.slice(I+1)),ry(dg,Pu),Q}finally{N1=!1}}}var EA=sf.ReactCurrentBatchConfig;function du(I,N){if(I&&I.defaultProps){N=Oa({},N),I=I.defaultProps;for(var Q in I)N[Q]===void 0&&(N[Q]=I[Q]);return N}return N}var W0=Mc(null),G0=null,np=null,Y0=null;function iy(){Y0=np=G0=null}function ay(I){var N=W0.current;Ca(W0),I.type._context._currentValue=N}function e3(I,N){for(;I!==null;){var Q=I.alternate;if((I.childLanes&N)===N){if(Q===null||(Q.childLanes&N)===N)break;Q.childLanes|=N}else I.childLanes|=N,Q!==null&&(Q.childLanes|=N);I=I.return}}function lp(I,N){G0=I,Y0=np=null,I=I.dependencies,I!==null&&I.firstContext!==null&&(I.lanes&N&&(gu=!0),I.firstContext=null)}function Zl(I,N){if(Y0!==I&&N!==!1&&N!==0)if((typeof N!="number"||N===1073741823)&&(Y0=I,N=1073741823),N={context:I,observedBits:N,next:null},np===null){if(G0===null)throw Error(jr(308));np=N,G0.dependencies={lanes:0,firstContext:N,responders:null}}else np=np.next=N;return I._currentValue}var lc=!1;function oy(I){I.updateQueue={baseState:I.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function t3(I,N){I=I.updateQueue,N.updateQueue===I&&(N.updateQueue={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,effects:I.effects})}function mc(I,N){return{eventTime:I,lane:N,tag:0,payload:null,callback:null,next:null}}function vc(I,N){if(I=I.updateQueue,I!==null){I=I.shared;var Q=I.pending;Q===null?N.next=N:(N.next=Q.next,Q.next=N),I.pending=N}}function L_(I,N){var Q=I.updateQueue,L=I.alternate;if(L!==null&&(L=L.updateQueue,Q===L)){var M=null,e=null;if(Q=Q.firstBaseUpdate,Q!==null){do{var b={eventTime:Q.eventTime,lane:Q.lane,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null};e===null?M=e=b:e=e.next=b,Q=Q.next}while(Q!==null);e===null?M=e=N:e=e.next=N}else M=e=N;Q={baseState:L.baseState,firstBaseUpdate:M,lastBaseUpdate:e,shared:L.shared,effects:L.effects},I.updateQueue=Q;return}I=Q.lastBaseUpdate,I===null?Q.firstBaseUpdate=N:I.next=N,Q.lastBaseUpdate=N}function Wh(I,N,Q,L){var M=I.updateQueue;lc=!1;var e=M.firstBaseUpdate,b=M.lastBaseUpdate,w=M.shared.pending;if(w!==null){M.shared.pending=null;var a=w,k=a.next;a.next=null,b===null?e=k:b.next=k,b=a;var y=I.alternate;if(y!==null){y=y.updateQueue;var f=y.lastBaseUpdate;f!==b&&(f===null?y.firstBaseUpdate=k:f.next=k,y.lastBaseUpdate=a)}}if(e!==null){f=M.baseState,b=0,y=k=a=null;do{w=e.lane;var l=e.eventTime;if((L&w)===w){y!==null&&(y=y.next={eventTime:l,lane:0,tag:e.tag,payload:e.payload,callback:e.callback,next:null});e:{var t=I,s=e;switch(w=N,l=Q,s.tag){case 1:if(t=s.payload,typeof t=="function"){f=t.call(l,f,w);break e}f=t;break e;case 3:t.flags=t.flags&-4097|64;case 0:if(t=s.payload,w=typeof t=="function"?t.call(l,f,w):t,w==null)break e;f=Oa({},f,w);break e;case 2:lc=!0}}e.callback!==null&&(I.flags|=32,w=M.effects,w===null?M.effects=[e]:w.push(e))}else l={eventTime:l,lane:w,tag:e.tag,payload:e.payload,callback:e.callback,next:null},y===null?(k=y=l,a=f):y=y.next=l,b|=w;if(e=e.next,e===null){if(w=M.shared.pending,w===null)break;e=w.next,w.next=null,M.lastBaseUpdate=w,M.shared.pending=null}}while(1);y===null&&(a=f),M.baseState=a,M.firstBaseUpdate=k,M.lastBaseUpdate=y,$h|=b,I.lanes=b,I.memoizedState=f}}function O_(I,N,Q){if(I=N.effects,N.effects=null,I!==null)for(N=0;N<I.length;N++){var L=I[N],M=L.callback;if(M!==null){if(L.callback=null,L=Q,typeof M!="function")throw Error(jr(191,M));M.call(L)}}}var n3=new ag.Component().refs;function Z0(I,N,Q,L){N=I.memoizedState,Q=Q(L,N),Q=Q==null?N:Oa({},N,Q),I.memoizedState=Q,I.lanes===0&&(I.updateQueue.baseState=Q)}var gg={isMounted:function(I){return(I=I._reactInternals)?lf(I)===I:!1},enqueueSetState:function(I,N,Q){I=I._reactInternals;var L=Pl(),M=yc(I),e=mc(L,M);e.payload=N,Q!=null&&(e.callback=Q),vc(I,e),xc(I,M,L)},enqueueReplaceState:function(I,N,Q){I=I._reactInternals;var L=Pl(),M=yc(I),e=mc(L,M);e.tag=1,e.payload=N,Q!=null&&(e.callback=Q),vc(I,e),xc(I,M,L)},enqueueForceUpdate:function(I,N){I=I._reactInternals;var Q=Pl(),L=yc(I),M=mc(Q,L);M.tag=2,N!=null&&(M.callback=N),vc(I,M),xc(I,L,Q)}};function P_(I,N,Q,L,M,e,b){return I=I.stateNode,typeof I.shouldComponentUpdate=="function"?I.shouldComponentUpdate(L,e,b):N.prototype&&N.prototype.isPureReactComponent?!Vh(Q,L)||!Vh(M,e):!0}function r3(I,N,Q){var L=!1,M=kc,e=N.contextType;return typeof e=="object"&&e!==null?e=Zl(e):(M=ml(N)?nf:Es.current,L=N.contextTypes,e=(L=L!=null)?dp(I,M):kc),N=new N(Q,e),I.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=gg,I.stateNode=N,N._reactInternals=I,L&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=M,I.__reactInternalMemoizedMaskedChildContext=e),N}function I_(I,N,Q,L){I=N.state,typeof N.componentWillReceiveProps=="function"&&N.componentWillReceiveProps(Q,L),typeof N.UNSAFE_componentWillReceiveProps=="function"&&N.UNSAFE_componentWillReceiveProps(Q,L),N.state!==I&&gg.enqueueReplaceState(N,N.state,null)}function dv(I,N,Q,L){var M=I.stateNode;M.props=Q,M.state=I.memoizedState,M.refs=n3,oy(I);var e=N.contextType;typeof e=="object"&&e!==null?M.context=Zl(e):(e=ml(N)?nf:Es.current,M.context=dp(I,e)),Wh(I,Q,M,L),M.state=I.memoizedState,e=N.getDerivedStateFromProps,typeof e=="function"&&(Z0(I,N,e,Q),M.state=I.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(N=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),N!==M.state&&gg.enqueueReplaceState(M,M.state,null),Wh(I,Q,M,L),M.state=I.memoizedState),typeof M.componentDidMount=="function"&&(I.flags|=4)}var _0=Array.isArray;function fh(I,N,Q){if(I=Q.ref,I!==null&&typeof I!="function"&&typeof I!="object"){if(Q._owner){if(Q=Q._owner,Q){if(Q.tag!==1)throw Error(jr(309));var L=Q.stateNode}if(!L)throw Error(jr(147,I));var M=""+I;return N!==null&&N.ref!==null&&typeof N.ref=="function"&&N.ref._stringRef===M?N.ref:(N=function(e){var b=L.refs;b===n3&&(b=L.refs={}),e===null?delete b[M]:b[M]=e},N._stringRef=M,N)}if(typeof I!="string")throw Error(jr(284));if(!Q._owner)throw Error(jr(290,I))}return I}function w0(I,N){if(I.type!=="textarea")throw Error(jr(31,Object.prototype.toString.call(N)==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":N))}function i3(I){function N(n,r){if(I){var i=n.lastEffect;i!==null?(i.nextEffect=r,n.lastEffect=r):n.firstEffect=n.lastEffect=r,r.nextEffect=null,r.flags=8}}function Q(n,r){if(!I)return null;for(;r!==null;)N(n,r),r=r.sibling;return null}function L(n,r){for(n=new Map;r!==null;)r.key!==null?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function M(n,r){return n=Ac(n,r),n.index=0,n.sibling=null,n}function e(n,r,i){return n.index=i,I?(i=n.alternate,i!==null?(i=i.index,i<r?(n.flags=2,r):i):(n.flags=2,r)):r}function b(n){return I&&n.alternate===null&&(n.flags=2),n}function w(n,r,i,u){return r===null||r.tag!==6?(r=H1(i,n.mode,u),r.return=n,r):(r=M(r,i),r.return=n,r)}function a(n,r,i,u){return r!==null&&r.elementType===i.type?(u=M(r,i.props),u.ref=fh(n,r,i),u.return=n,u):(u=R0(i.type,i.key,i.props,null,n.mode,u),u.ref=fh(n,r,i),u.return=n,u)}function k(n,r,i,u){return r===null||r.tag!==4||r.stateNode.containerInfo!==i.containerInfo||r.stateNode.implementation!==i.implementation?(r=q1(i,n.mode,u),r.return=n,r):(r=M(r,i.children||[]),r.return=n,r)}function y(n,r,i,u,p){return r===null||r.tag!==7?(r=pp(i,n.mode,u,p),r.return=n,r):(r=M(r,i),r.return=n,r)}function f(n,r,i){if(typeof r=="string"||typeof r=="number")return r=H1(""+r,n.mode,i),r.return=n,r;if(typeof r=="object"&&r!==null){switch(r.$$typeof){case yh:return i=R0(r.type,r.key,r.props,null,n.mode,i),i.ref=fh(n,null,r),i.return=n,i;case Jc:return r=q1(r,n.mode,i),r.return=n,r}if(_0(r)||oh(r))return r=pp(r,n.mode,i,null),r.return=n,r;w0(n,r)}return null}function l(n,r,i,u){var p=r!==null?r.key:null;if(typeof i=="string"||typeof i=="number")return p!==null?null:w(n,r,""+i,u);if(typeof i=="object"&&i!==null){switch(i.$$typeof){case yh:return i.key===p?i.type===uc?y(n,r,i.props.children,u,p):a(n,r,i,u):null;case Jc:return i.key===p?k(n,r,i,u):null}if(_0(i)||oh(i))return p!==null?null:y(n,r,i,u,null);w0(n,i)}return null}function t(n,r,i,u,p){if(typeof u=="string"||typeof u=="number")return n=n.get(i)||null,w(r,n,""+u,p);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case yh:return n=n.get(u.key===null?i:u.key)||null,u.type===uc?y(r,n,u.props.children,p,u.key):a(r,n,u,p);case Jc:return n=n.get(u.key===null?i:u.key)||null,k(r,n,u,p)}if(_0(u)||oh(u))return n=n.get(i)||null,y(r,n,u,p,null);w0(r,u)}return null}function s(n,r,i,u){for(var p=null,h=null,_=r,m=r=0,d=null;_!==null&&m<i.length;m++){_.index>m?(d=_,_=null):d=_.sibling;var x=l(n,_,i[m],u);if(x===null){_===null&&(_=d);break}I&&_&&x.alternate===null&&N(n,_),r=e(x,r,m),h===null?p=x:h.sibling=x,h=x,_=d}if(m===i.length)return Q(n,_),p;if(_===null){for(;m<i.length;m++)_=f(n,i[m],u),_!==null&&(r=e(_,r,m),h===null?p=_:h.sibling=_,h=_);return p}for(_=L(n,_);m<i.length;m++)d=t(_,n,m,i[m],u),d!==null&&(I&&d.alternate!==null&&_.delete(d.key===null?m:d.key),r=e(d,r,m),h===null?p=d:h.sibling=d,h=d);return I&&_.forEach(function(g){return N(n,g)}),p}function o(n,r,i,u){var p=oh(i);if(typeof p!="function")throw Error(jr(150));if(i=p.call(i),i==null)throw Error(jr(151));for(var h=p=null,_=r,m=r=0,d=null,x=i.next();_!==null&&!x.done;m++,x=i.next()){_.index>m?(d=_,_=null):d=_.sibling;var g=l(n,_,x.value,u);if(g===null){_===null&&(_=d);break}I&&_&&g.alternate===null&&N(n,_),r=e(g,r,m),h===null?p=g:h.sibling=g,h=g,_=d}if(x.done)return Q(n,_),p;if(_===null){for(;!x.done;m++,x=i.next())x=f(n,x.value,u),x!==null&&(r=e(x,r,m),h===null?p=x:h.sibling=x,h=x);return p}for(_=L(n,_);!x.done;m++,x=i.next())x=t(_,n,m,x.value,u),x!==null&&(I&&x.alternate!==null&&_.delete(x.key===null?m:x.key),r=e(x,r,m),h===null?p=x:h.sibling=x,h=x);return I&&_.forEach(function(v){return N(n,v)}),p}return function(n,r,i,u){var p=typeof i=="object"&&i!==null&&i.type===uc&&i.key===null;p&&(i=i.props.children);var h=typeof i=="object"&&i!==null;if(h)switch(i.$$typeof){case yh:e:{for(h=i.key,p=r;p!==null;){if(p.key===h){switch(p.tag){case 7:if(i.type===uc){Q(n,p.sibling),r=M(p,i.props.children),r.return=n,n=r;break e}break;default:if(p.elementType===i.type){Q(n,p.sibling),r=M(p,i.props),r.ref=fh(n,p,i),r.return=n,n=r;break e}}Q(n,p);break}else N(n,p);p=p.sibling}i.type===uc?(r=pp(i.props.children,n.mode,u,i.key),r.return=n,n=r):(u=R0(i.type,i.key,i.props,null,n.mode,u),u.ref=fh(n,r,i),u.return=n,n=u)}return b(n);case Jc:e:{for(p=i.key;r!==null;){if(r.key===p)if(r.tag===4&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){Q(n,r.sibling),r=M(r,i.children||[]),r.return=n,n=r;break e}else{Q(n,r);break}else N(n,r);r=r.sibling}r=q1(i,n.mode,u),r.return=n,n=r}return b(n)}if(typeof i=="string"||typeof i=="number")return i=""+i,r!==null&&r.tag===6?(Q(n,r.sibling),r=M(r,i),r.return=n,n=r):(Q(n,r),r=H1(i,n.mode,u),r.return=n,n=r),b(n);if(_0(i))return s(n,r,i,u);if(oh(i))return o(n,r,i,u);if(h&&w0(n,i),typeof i>"u"&&!p)switch(n.tag){case 1:case 22:case 0:case 11:case 15:throw Error(jr(152,rp(n.type)||"Component"))}return Q(n,r)}}var X0=i3(!0),a3=i3(!1),Kh={},Lu=Mc(Kh),Gh=Mc(Kh),Yh=Mc(Kh);function Qc(I){if(I===Kh)throw Error(jr(174));return I}function gv(I,N){switch(Xa(Yh,N),Xa(Gh,I),Xa(Lu,Kh),I=N.nodeType,I){case 9:case 11:N=(N=N.documentElement)?N.namespaceURI:Q1(null,"");break;default:I=I===8?N.parentNode:N,N=I.namespaceURI||null,I=I.tagName,N=Q1(N,I)}Ca(Lu),Xa(Lu,N)}function mp(){Ca(Lu),Ca(Gh),Ca(Yh)}function D_(I){Qc(Yh.current);var N=Qc(Lu.current),Q=Q1(N,I.type);N!==Q&&(Xa(Gh,I),Xa(Lu,Q))}function sy(I){Gh.current===I&&(Ca(Lu),Ca(Gh))}var Za=Mc(0);function J0(I){for(var N=I;N!==null;){if(N.tag===13){var Q=N.memoizedState;if(Q!==null&&(Q=Q.dehydrated,Q===null||Q.data==="$?"||Q.data==="$!"))return N}else if(N.tag===19&&N.memoizedProps.revealOrder!==void 0){if(N.flags&64)return N}else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===I)break;for(;N.sibling===null;){if(N.return===null||N.return===I)return null;N=N.return}N.sibling.return=N.return,N=N.sibling}return null}var Zu=null,pc=null,Ou=!1;function o3(I,N){var Q=Gl(5,null,null,0);Q.elementType="DELETED",Q.type="DELETED",Q.stateNode=N,Q.return=I,Q.flags=8,I.lastEffect!==null?(I.lastEffect.nextEffect=Q,I.lastEffect=Q):I.firstEffect=I.lastEffect=Q}function R_(I,N){switch(I.tag){case 5:var Q=I.type;return N=N.nodeType!==1||Q.toLowerCase()!==N.nodeName.toLowerCase()?null:N,N!==null?(I.stateNode=N,!0):!1;case 6:return N=I.pendingProps===""||N.nodeType!==3?null:N,N!==null?(I.stateNode=N,!0):!1;case 13:return!1;default:return!1}}function mv(I){if(Ou){var N=pc;if(N){var Q=N;if(!R_(I,N)){if(N=sp(Q.nextSibling),!N||!R_(I,N)){I.flags=I.flags&-1025|2,Ou=!1,Zu=I;return}o3(Zu,Q)}Zu=I,pc=sp(N.firstChild)}else I.flags=I.flags&-1025|2,Ou=!1,Zu=I}}function z_(I){for(I=I.return;I!==null&&I.tag!==5&&I.tag!==3&&I.tag!==13;)I=I.return;Zu=I}function k0(I){if(I!==Zu)return!1;if(!Ou)return z_(I),Ou=!0,!1;var N=I.type;if(I.tag!==5||N!=="head"&&N!=="body"&&!cv(N,I.memoizedProps))for(N=pc;N;)o3(I,N),N=sp(N.nextSibling);if(z_(I),I.tag===13){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(jr(317));e:{for(I=I.nextSibling,N=0;I;){if(I.nodeType===8){var Q=I.data;if(Q==="/$"){if(N===0){pc=sp(I.nextSibling);break e}N--}else Q!=="$"&&Q!=="$!"&&Q!=="$?"||N++}I=I.nextSibling}pc=null}}else pc=Zu?sp(I.stateNode.nextSibling):null;return!0}function B1(){pc=Zu=null,Ou=!1}var up=[];function ly(){for(var I=0;I<up.length;I++)up[I]._workInProgressVersionPrimary=null;up.length=0}var Lh=sf.ReactCurrentDispatcher,Yl=sf.ReactCurrentBatchConfig,Zh=0,so=null,As=null,rs=null,K0=!1,Oh=!1;function pl(){throw Error(jr(321))}function uy(I,N){if(N===null)return!1;for(var Q=0;Q<N.length&&Q<I.length;Q++)if(!Wl(I[Q],N[Q]))return!1;return!0}function cy(I,N,Q,L,M,e){if(Zh=e,so=N,N.memoizedState=null,N.updateQueue=null,N.lanes=0,Lh.current=I===null||I.memoizedState===null?LA:OA,I=Q(L,M),Oh){e=0;do{if(Oh=!1,!(25>e))throw Error(jr(301));e+=1,rs=As=null,N.updateQueue=null,Lh.current=PA,I=Q(L,M)}while(Oh)}if(Lh.current=tg,N=As!==null&&As.next!==null,Zh=0,rs=As=so=null,K0=!1,N)throw Error(jr(300));return I}function ef(){var I={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rs===null?so.memoizedState=rs=I:rs=rs.next=I,rs}function uf(){if(As===null){var I=so.alternate;I=I!==null?I.memoizedState:null}else I=As.next;var N=rs===null?so.memoizedState:rs.next;if(N!==null)rs=N,As=I;else{if(I===null)throw Error(jr(310));As=I,I={memoizedState:As.memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},rs===null?so.memoizedState=rs=I:rs=rs.next=I}return rs}function Eu(I,N){return typeof N=="function"?N(I):N}function ph(I){var N=uf(),Q=N.queue;if(Q===null)throw Error(jr(311));Q.lastRenderedReducer=I;var L=As,M=L.baseQueue,e=Q.pending;if(e!==null){if(M!==null){var b=M.next;M.next=e.next,e.next=b}L.baseQueue=M=e,Q.pending=null}if(M!==null){M=M.next,L=L.baseState;var w=b=e=null,a=M;do{var k=a.lane;if((Zh&k)===k)w!==null&&(w=w.next={lane:0,action:a.action,eagerReducer:a.eagerReducer,eagerState:a.eagerState,next:null}),L=a.eagerReducer===I?a.eagerState:I(L,a.action);else{var y={lane:k,action:a.action,eagerReducer:a.eagerReducer,eagerState:a.eagerState,next:null};w===null?(b=w=y,e=L):w=w.next=y,so.lanes|=k,$h|=k}a=a.next}while(a!==null&&a!==M);w===null?e=L:w.next=b,Wl(L,N.memoizedState)||(gu=!0),N.memoizedState=L,N.baseState=e,N.baseQueue=w,Q.lastRenderedState=L}return[N.memoizedState,Q.dispatch]}function hh(I){var N=uf(),Q=N.queue;if(Q===null)throw Error(jr(311));Q.lastRenderedReducer=I;var L=Q.dispatch,M=Q.pending,e=N.memoizedState;if(M!==null){Q.pending=null;var b=M=M.next;do e=I(e,b.action),b=b.next;while(b!==M);Wl(e,N.memoizedState)||(gu=!0),N.memoizedState=e,N.baseQueue===null&&(N.baseState=e),Q.lastRenderedState=e}return[e,L]}function F_(I,N,Q){var L=N._getVersion;L=L(N._source);var M=N._workInProgressVersionPrimary;if(M!==null?I=M===L:(I=I.mutableReadLanes,(I=(Zh&I)===I)&&(N._workInProgressVersionPrimary=L,up.push(N))),I)return Q(N._source);throw up.push(N),Error(jr(350))}function s3(I,N,Q,L){var M=Qs;if(M===null)throw Error(jr(349));var e=N._getVersion,b=e(N._source),w=Lh.current,a=w.useState(function(){return F_(M,N,Q)}),k=a[1],y=a[0];a=rs;var f=I.memoizedState,l=f.refs,t=l.getSnapshot,s=f.source;f=f.subscribe;var o=so;return I.memoizedState={refs:l,source:N,subscribe:L},w.useEffect(function(){l.getSnapshot=Q,l.setSnapshot=k;var n=e(N._source);if(!Wl(b,n)){n=Q(N._source),Wl(y,n)||(k(n),n=yc(o),M.mutableReadLanes|=n&M.pendingLanes),n=M.mutableReadLanes,M.entangledLanes|=n;for(var r=M.entanglements,i=n;0<i;){var u=31-wc(i),p=1<<u;r[u]|=n,i&=~p}}},[Q,N,L]),w.useEffect(function(){return L(N._source,function(){var n=l.getSnapshot,r=l.setSnapshot;try{r(n(N._source));var i=yc(o);M.mutableReadLanes|=i&M.pendingLanes}catch(u){r(function(){throw u})}})},[N,L]),Wl(t,Q)&&Wl(s,N)&&Wl(f,L)||(I={pending:null,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:y},I.dispatch=k=hy.bind(null,so,I),a.queue=I,a.baseQueue=null,y=F_(M,N,Q),a.memoizedState=a.baseState=y),y}function l3(I,N,Q){var L=uf();return s3(L,I,N,Q)}function dh(I){var N=ef();return typeof I=="function"&&(I=I()),N.memoizedState=N.baseState=I,I=N.queue={pending:null,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:I},I=I.dispatch=hy.bind(null,so,I),[N.memoizedState,I]}function $0(I,N,Q,L){return I={tag:I,create:N,destroy:Q,deps:L,next:null},N=so.updateQueue,N===null?(N={lastEffect:null},so.updateQueue=N,N.lastEffect=I.next=I):(Q=N.lastEffect,Q===null?N.lastEffect=I.next=I:(L=Q.next,Q.next=I,I.next=L,N.lastEffect=I)),I}function N_(I){var N=ef();return I={current:I},N.memoizedState=I}function Q0(){return uf().memoizedState}function vv(I,N,Q,L){var M=ef();so.flags|=I,M.memoizedState=$0(1|N,Q,void 0,L===void 0?null:L)}function fy(I,N,Q,L){var M=uf();L=L===void 0?null:L;var e=void 0;if(As!==null){var b=As.memoizedState;if(e=b.destroy,L!==null&&uy(L,b.deps)){$0(N,Q,e,L);return}}so.flags|=I,M.memoizedState=$0(1|N,Q,e,L)}function B_(I,N){return vv(516,4,I,N)}function eg(I,N){return fy(516,4,I,N)}function u3(I,N){return fy(4,2,I,N)}function c3(I,N){if(typeof N=="function")return I=I(),N(I),function(){N(null)};if(N!=null)return I=I(),N.current=I,function(){N.current=null}}function f3(I,N,Q){return Q=Q!=null?Q.concat([I]):null,fy(4,2,c3.bind(null,N,I),Q)}function py(){}function p3(I,N){var Q=uf();N=N===void 0?null:N;var L=Q.memoizedState;return L!==null&&N!==null&&uy(N,L[1])?L[0]:(Q.memoizedState=[I,N],I)}function h3(I,N){var Q=uf();N=N===void 0?null:N;var L=Q.memoizedState;return L!==null&&N!==null&&uy(N,L[1])?L[0]:(I=I(),Q.memoizedState=[I,N],I)}function CA(I,N){var Q=gp();rf(98>Q?98:Q,function(){I(!0)}),rf(97<Q?97:Q,function(){var L=Yl.transition;Yl.transition=1;try{I(!1),N()}finally{Yl.transition=L}})}function hy(I,N,Q){var L=Pl(),M=yc(I),e={lane:M,action:Q,eagerReducer:null,eagerState:null,next:null},b=N.pending;if(b===null?e.next=e:(e.next=b.next,b.next=e),N.pending=e,b=I.alternate,I===so||b!==null&&b===so)Oh=K0=!0;else{if(I.lanes===0&&(b===null||b.lanes===0)&&(b=N.lastRenderedReducer,b!==null))try{var w=N.lastRenderedState,a=b(w,Q);if(e.eagerReducer=b,e.eagerState=a,Wl(a,w))return}catch{}finally{}xc(I,M,L)}}var tg={readContext:Zl,useCallback:pl,useContext:pl,useEffect:pl,useImperativeHandle:pl,useLayoutEffect:pl,useMemo:pl,useReducer:pl,useRef:pl,useState:pl,useDebugValue:pl,useDeferredValue:pl,useTransition:pl,useMutableSource:pl,useOpaqueIdentifier:pl,unstable_isNewReconciler:!1},LA={readContext:Zl,useCallback:function(I,N){return ef().memoizedState=[I,N===void 0?null:N],I},useContext:Zl,useEffect:B_,useImperativeHandle:function(I,N,Q){return Q=Q!=null?Q.concat([I]):null,vv(4,2,c3.bind(null,N,I),Q)},useLayoutEffect:function(I,N){return vv(4,2,I,N)},useMemo:function(I,N){var Q=ef();return N=N===void 0?null:N,I=I(),Q.memoizedState=[I,N],I},useReducer:function(I,N,Q){var L=ef();return N=Q!==void 0?Q(N):N,L.memoizedState=L.baseState=N,I=L.queue={pending:null,dispatch:null,lastRenderedReducer:I,lastRenderedState:N},I=I.dispatch=hy.bind(null,so,I),[L.memoizedState,I]},useRef:N_,useState:dh,useDebugValue:py,useDeferredValue:function(I){var N=dh(I),Q=N[0],L=N[1];return B_(function(){var M=Yl.transition;Yl.transition=1;try{L(I)}finally{Yl.transition=M}},[I]),Q},useTransition:function(){var I=dh(!1),N=I[0];return I=CA.bind(null,I[1]),N_(I),[I,N]},useMutableSource:function(I,N,Q){var L=ef();return L.memoizedState={refs:{getSnapshot:N,setSnapshot:null},source:I,subscribe:Q},s3(L,I,N,Q)},useOpaqueIdentifier:function(){if(Ou){var I=!1,N=kA(function(){throw I||(I=!0,Q("r:"+(z1++).toString(36))),Error(jr(355))}),Q=dh(N)[1];return!(so.mode&2)&&(so.flags|=516,$0(5,function(){Q("r:"+(z1++).toString(36))},void 0,null)),N}return N="r:"+(z1++).toString(36),dh(N),N},unstable_isNewReconciler:!1},OA={readContext:Zl,useCallback:p3,useContext:Zl,useEffect:eg,useImperativeHandle:f3,useLayoutEffect:u3,useMemo:h3,useReducer:ph,useRef:Q0,useState:function(){return ph(Eu)},useDebugValue:py,useDeferredValue:function(I){var N=ph(Eu),Q=N[0],L=N[1];return eg(function(){var M=Yl.transition;Yl.transition=1;try{L(I)}finally{Yl.transition=M}},[I]),Q},useTransition:function(){var I=ph(Eu)[0];return[Q0().current,I]},useMutableSource:l3,useOpaqueIdentifier:function(){return ph(Eu)[0]},unstable_isNewReconciler:!1},PA={readContext:Zl,useCallback:p3,useContext:Zl,useEffect:eg,useImperativeHandle:f3,useLayoutEffect:u3,useMemo:h3,useReducer:hh,useRef:Q0,useState:function(){return hh(Eu)},useDebugValue:py,useDeferredValue:function(I){var N=hh(Eu),Q=N[0],L=N[1];return eg(function(){var M=Yl.transition;Yl.transition=1;try{L(I)}finally{Yl.transition=M}},[I]),Q},useTransition:function(){var I=hh(Eu)[0];return[Q0().current,I]},useMutableSource:l3,useOpaqueIdentifier:function(){return hh(Eu)[0]},unstable_isNewReconciler:!1},IA=sf.ReactCurrentOwner,gu=!1;function hl(I,N,Q,L){N.child=I===null?a3(N,null,Q,L):X0(N,I.child,Q,L)}function j_(I,N,Q,L,M){Q=Q.render;var e=N.ref;return lp(N,M),L=cy(I,N,Q,L,e,M),I!==null&&!gu?(N.updateQueue=I.updateQueue,N.flags&=-517,I.lanes&=~M,Xu(I,N,M)):(N.flags|=1,hl(I,N,L,M),N.child)}function U_(I,N,Q,L,M,e){if(I===null){var b=Q.type;return typeof b=="function"&&!xy(b)&&b.defaultProps===void 0&&Q.compare===null&&Q.defaultProps===void 0?(N.tag=15,N.type=b,d3(I,N,b,L,M,e)):(I=R0(Q.type,null,L,N,N.mode,e),I.ref=N.ref,I.return=N,N.child=I)}return b=I.child,!(M&e)&&(M=b.memoizedProps,Q=Q.compare,Q=Q!==null?Q:Vh,Q(M,L)&&I.ref===N.ref)?Xu(I,N,e):(N.flags|=1,I=Ac(b,L),I.ref=N.ref,I.return=N,N.child=I)}function d3(I,N,Q,L,M,e){if(I!==null&&Vh(I.memoizedProps,L)&&I.ref===N.ref)if(gu=!1,(e&M)!==0)I.flags&16384&&(gu=!0);else return N.lanes=I.lanes,Xu(I,N,e);return yv(I,N,Q,L,e)}function j1(I,N,Q){var L=N.pendingProps,M=L.children,e=I!==null?I.memoizedState:null;if(L.mode==="hidden"||L.mode==="unstable-defer-without-hiding")if(!(N.mode&4))N.memoizedState={baseLanes:0},A0(N,Q);else if(Q&1073741824)N.memoizedState={baseLanes:0},A0(N,e!==null?e.baseLanes:Q);else return I=e!==null?e.baseLanes|Q:Q,N.lanes=N.childLanes=1073741824,N.memoizedState={baseLanes:I},A0(N,I),null;else e!==null?(L=e.baseLanes|Q,N.memoizedState=null):L=Q,A0(N,L);return hl(I,N,M,Q),N.child}function g3(I,N){var Q=N.ref;(I===null&&Q!==null||I!==null&&I.ref!==Q)&&(N.flags|=128)}function yv(I,N,Q,L,M){var e=ml(Q)?nf:Es.current;return e=dp(N,e),lp(N,M),Q=cy(I,N,Q,L,e,M),I!==null&&!gu?(N.updateQueue=I.updateQueue,N.flags&=-517,I.lanes&=~M,Xu(I,N,M)):(N.flags|=1,hl(I,N,Q,M),N.child)}function V_(I,N,Q,L,M){if(ml(Q)){var e=!0;L0(N)}else e=!1;if(lp(N,M),N.stateNode===null)I!==null&&(I.alternate=null,N.alternate=null,N.flags|=2),r3(N,Q,L),dv(N,Q,L,M),L=!0;else if(I===null){var b=N.stateNode,w=N.memoizedProps;b.props=w;var a=b.context,k=Q.contextType;typeof k=="object"&&k!==null?k=Zl(k):(k=ml(Q)?nf:Es.current,k=dp(N,k));var y=Q.getDerivedStateFromProps,f=typeof y=="function"||typeof b.getSnapshotBeforeUpdate=="function";f||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==L||a!==k)&&I_(N,b,L,k),lc=!1;var l=N.memoizedState;b.state=l,Wh(N,L,b,M),a=N.memoizedState,w!==L||l!==a||dl.current||lc?(typeof y=="function"&&(Z0(N,Q,y,L),a=N.memoizedState),(w=lc||P_(N,Q,w,L,l,a,k))?(f||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(N.flags|=4)):(typeof b.componentDidMount=="function"&&(N.flags|=4),N.memoizedProps=L,N.memoizedState=a),b.props=L,b.state=a,b.context=k,L=w):(typeof b.componentDidMount=="function"&&(N.flags|=4),L=!1)}else{b=N.stateNode,t3(I,N),w=N.memoizedProps,k=N.type===N.elementType?w:du(N.type,w),b.props=k,f=N.pendingProps,l=b.context,a=Q.contextType,typeof a=="object"&&a!==null?a=Zl(a):(a=ml(Q)?nf:Es.current,a=dp(N,a));var t=Q.getDerivedStateFromProps;(y=typeof t=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==f||l!==a)&&I_(N,b,L,a),lc=!1,l=N.memoizedState,b.state=l,Wh(N,L,b,M);var s=N.memoizedState;w!==f||l!==s||dl.current||lc?(typeof t=="function"&&(Z0(N,Q,t,L),s=N.memoizedState),(k=lc||P_(N,Q,k,L,l,s,a))?(y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(L,s,a),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(L,s,a)),typeof b.componentDidUpdate=="function"&&(N.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(N.flags|=256)):(typeof b.componentDidUpdate!="function"||w===I.memoizedProps&&l===I.memoizedState||(N.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===I.memoizedProps&&l===I.memoizedState||(N.flags|=256),N.memoizedProps=L,N.memoizedState=s),b.props=L,b.state=s,b.context=a,L=k):(typeof b.componentDidUpdate!="function"||w===I.memoizedProps&&l===I.memoizedState||(N.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===I.memoizedProps&&l===I.memoizedState||(N.flags|=256),L=!1)}return xv(I,N,Q,L,e,M)}function xv(I,N,Q,L,M,e){g3(I,N);var b=(N.flags&64)!==0;if(!L&&!b)return M&&S_(N,Q,!1),Xu(I,N,e);L=N.stateNode,IA.current=N;var w=b&&typeof Q.getDerivedStateFromError!="function"?null:L.render();return N.flags|=1,I!==null&&b?(N.child=X0(N,I.child,null,e),N.child=X0(N,null,w,e)):hl(I,N,w,e),N.memoizedState=L.state,M&&S_(N,Q,!0),N.child}function H_(I){var N=I.stateNode;N.pendingContext?M_(I,N.pendingContext,N.pendingContext!==N.context):N.context&&M_(I,N.context,!1),gv(I,N.containerInfo)}var T0={dehydrated:null,retryLane:0};function q_(I,N,Q){var L=N.pendingProps,M=Za.current,e=!1,b;return(b=(N.flags&64)!==0)||(b=I!==null&&I.memoizedState===null?!1:(M&2)!==0),b?(e=!0,N.flags&=-65):I!==null&&I.memoizedState===null||L.fallback===void 0||L.unstable_avoidThisFallback===!0||(M|=1),Xa(Za,M&1),I===null?(L.fallback!==void 0&&mv(N),I=L.children,M=L.fallback,e?(I=W_(N,I,M,Q),N.child.memoizedState={baseLanes:Q},N.memoizedState=T0,I):typeof L.unstable_expectedLoadTime=="number"?(I=W_(N,I,M,Q),N.child.memoizedState={baseLanes:Q},N.memoizedState=T0,N.lanes=33554432,I):(Q=by({mode:"visible",children:I},N.mode,Q,null),Q.return=N,N.child=Q)):I.memoizedState!==null?e?(L=Y_(I,N,L.children,L.fallback,Q),e=N.child,M=I.child.memoizedState,e.memoizedState=M===null?{baseLanes:Q}:{baseLanes:M.baseLanes|Q},e.childLanes=I.childLanes&~Q,N.memoizedState=T0,L):(Q=G_(I,N,L.children,Q),N.memoizedState=null,Q):e?(L=Y_(I,N,L.children,L.fallback,Q),e=N.child,M=I.child.memoizedState,e.memoizedState=M===null?{baseLanes:Q}:{baseLanes:M.baseLanes|Q},e.childLanes=I.childLanes&~Q,N.memoizedState=T0,L):(Q=G_(I,N,L.children,Q),N.memoizedState=null,Q)}function W_(I,N,Q,L){var M=I.mode,e=I.child;return N={mode:"hidden",children:N},!(M&2)&&e!==null?(e.childLanes=0,e.pendingProps=N):e=by(N,M,0,null),Q=pp(Q,M,L,null),e.return=I,Q.return=I,e.sibling=Q,I.child=e,Q}function G_(I,N,Q,L){var M=I.child;return I=M.sibling,Q=Ac(M,{mode:"visible",children:Q}),!(N.mode&2)&&(Q.lanes=L),Q.return=N,Q.sibling=null,I!==null&&(I.nextEffect=null,I.flags=8,N.firstEffect=N.lastEffect=I),N.child=Q}function Y_(I,N,Q,L,M){var e=N.mode,b=I.child;I=b.sibling;var w={mode:"hidden",children:Q};return!(e&2)&&N.child!==b?(Q=N.child,Q.childLanes=0,Q.pendingProps=w,b=Q.lastEffect,b!==null?(N.firstEffect=Q.firstEffect,N.lastEffect=b,b.nextEffect=null):N.firstEffect=N.lastEffect=null):Q=Ac(b,w),I!==null?L=Ac(I,L):(L=pp(L,e,M,null),L.flags|=2),L.return=N,Q.return=N,Q.sibling=L,N.child=Q,L}function Z_(I,N){I.lanes|=N;var Q=I.alternate;Q!==null&&(Q.lanes|=N),e3(I.return,N)}function U1(I,N,Q,L,M,e){var b=I.memoizedState;b===null?I.memoizedState={isBackwards:N,rendering:null,renderingStartTime:0,last:L,tail:Q,tailMode:M,lastEffect:e}:(b.isBackwards=N,b.rendering=null,b.renderingStartTime=0,b.last=L,b.tail=Q,b.tailMode=M,b.lastEffect=e)}function X_(I,N,Q){var L=N.pendingProps,M=L.revealOrder,e=L.tail;if(hl(I,N,L.children,Q),L=Za.current,L&2)L=L&1|2,N.flags|=64;else{if(I!==null&&I.flags&64)e:for(I=N.child;I!==null;){if(I.tag===13)I.memoizedState!==null&&Z_(I,Q);else if(I.tag===19)Z_(I,Q);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===N)break e;for(;I.sibling===null;){if(I.return===null||I.return===N)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}L&=1}if(Xa(Za,L),!(N.mode&2))N.memoizedState=null;else switch(M){case"forwards":for(Q=N.child,M=null;Q!==null;)I=Q.alternate,I!==null&&J0(I)===null&&(M=Q),Q=Q.sibling;Q=M,Q===null?(M=N.child,N.child=null):(M=Q.sibling,Q.sibling=null),U1(N,!1,M,Q,e,N.lastEffect);break;case"backwards":for(Q=null,M=N.child,N.child=null;M!==null;){if(I=M.alternate,I!==null&&J0(I)===null){N.child=M;break}I=M.sibling,M.sibling=Q,Q=M,M=I}U1(N,!0,Q,null,e,N.lastEffect);break;case"together":U1(N,!1,null,null,void 0,N.lastEffect);break;default:N.memoizedState=null}return N.child}function Xu(I,N,Q){if(I!==null&&(N.dependencies=I.dependencies),$h|=N.lanes,Q&N.childLanes){if(I!==null&&N.child!==I.child)throw Error(jr(153));if(N.child!==null){for(I=N.child,Q=Ac(I,I.pendingProps),N.child=Q,Q.return=N;I.sibling!==null;)I=I.sibling,Q=Q.sibling=Ac(I,I.pendingProps),Q.return=N;Q.sibling=null}return N.child}return null}var m3,bv,v3,y3;m3=function(I,N){for(var Q=N.child;Q!==null;){if(Q.tag===5||Q.tag===6)I.appendChild(Q.stateNode);else if(Q.tag!==4&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===N)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===N)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}};bv=function(){};v3=function(I,N,Q,L){var M=I.memoizedProps;if(M!==L){I=N.stateNode,Qc(Lu.current);var e=null;switch(Q){case"input":M=Y1(I,M),L=Y1(I,L),e=[];break;case"option":M=J1(I,M),L=J1(I,L),e=[];break;case"select":M=Oa({},M,{value:void 0}),L=Oa({},L,{value:void 0}),e=[];break;case"textarea":M=K1(I,M),L=K1(I,L),e=[];break;default:typeof M.onClick!="function"&&typeof L.onClick=="function"&&(I.onclick=V0)}ev(Q,L);var b;Q=null;for(k in M)if(!L.hasOwnProperty(k)&&M.hasOwnProperty(k)&&M[k]!=null)if(k==="style"){var w=M[k];for(b in w)w.hasOwnProperty(b)&&(Q||(Q={}),Q[b]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(Rh.hasOwnProperty(k)?e||(e=[]):(e=e||[]).push(k,null));for(k in L){var a=L[k];if(w=M?.[k],L.hasOwnProperty(k)&&a!==w&&(a!=null||w!=null))if(k==="style")if(w){for(b in w)!w.hasOwnProperty(b)||a&&a.hasOwnProperty(b)||(Q||(Q={}),Q[b]="");for(b in a)a.hasOwnProperty(b)&&w[b]!==a[b]&&(Q||(Q={}),Q[b]=a[b])}else Q||(e||(e=[]),e.push(k,Q)),Q=a;else k==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,w=w?w.__html:void 0,a!=null&&w!==a&&(e=e||[]).push(k,a)):k==="children"?typeof a!="string"&&typeof a!="number"||(e=e||[]).push(k,""+a):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(Rh.hasOwnProperty(k)?(a!=null&&k==="onScroll"&&Ea("scroll",I),e||w===a||(e=[])):typeof a=="object"&&a!==null&&a.$$typeof===jv?a.toString():(e=e||[]).push(k,a))}Q&&(e=e||[]).push("style",Q);var k=e;(N.updateQueue=k)&&(N.flags|=4)}};y3=function(I,N,Q,L){Q!==L&&(N.flags|=4)};function gh(I,N){if(!Ou)switch(I.tailMode){case"hidden":N=I.tail;for(var Q=null;N!==null;)N.alternate!==null&&(Q=N),N=N.sibling;Q===null?I.tail=null:Q.sibling=null;break;case"collapsed":Q=I.tail;for(var L=null;Q!==null;)Q.alternate!==null&&(L=Q),Q=Q.sibling;L===null?N||I.tail===null?I.tail=null:I.tail.sibling=null:L.sibling=null}}function DA(I,N,Q){var L=N.pendingProps;switch(N.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ml(N.type)&&q0(),null;case 3:return mp(),Ca(dl),Ca(Es),ly(),L=N.stateNode,L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(I===null||I.child===null)&&(k0(N)?N.flags|=4:L.hydrate||(N.flags|=256)),bv(N),null;case 5:sy(N);var M=Qc(Yh.current);if(Q=N.type,I!==null&&N.stateNode!=null)v3(I,N,Q,L,M),I.ref!==N.ref&&(N.flags|=128);else{if(!L){if(N.stateNode===null)throw Error(jr(166));return null}if(I=Qc(Lu.current),k0(N)){L=N.stateNode,Q=N.type;var e=N.memoizedProps;switch(L[fc]=N,L[H0]=e,Q){case"dialog":Ea("cancel",L),Ea("close",L);break;case"iframe":case"object":case"embed":Ea("load",L);break;case"video":case"audio":for(I=0;I<bh.length;I++)Ea(bh[I],L);break;case"source":Ea("error",L);break;case"img":case"image":case"link":Ea("error",L),Ea("load",L);break;case"details":Ea("toggle",L);break;case"input":Kb(L,e),Ea("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!e.multiple},Ea("invalid",L);break;case"textarea":Qb(L,e),Ea("invalid",L)}ev(Q,e),I=null;for(var b in e)e.hasOwnProperty(b)&&(M=e[b],b==="children"?typeof M=="string"?L.textContent!==M&&(I=["children",M]):typeof M=="number"&&L.textContent!==""+M&&(I=["children",""+M]):Rh.hasOwnProperty(b)&&M!=null&&b==="onScroll"&&Ea("scroll",L));switch(Q){case"input":d0(L),$b(L,e,!0);break;case"textarea":d0(L),e_(L);break;case"select":case"option":break;default:typeof e.onClick=="function"&&(L.onclick=V0)}L=I,N.updateQueue=L,L!==null&&(N.flags|=4)}else{switch(b=M.nodeType===9?M:M.ownerDocument,I===$1.html&&(I=fw(Q)),I===$1.html?Q==="script"?(I=b.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild)):typeof L.is=="string"?I=b.createElement(Q,{is:L.is}):(I=b.createElement(Q),Q==="select"&&(b=I,L.multiple?b.multiple=!0:L.size&&(b.size=L.size))):I=b.createElementNS(I,Q),I[fc]=N,I[H0]=L,m3(I,N,!1,!1),N.stateNode=I,b=tv(Q,L),Q){case"dialog":Ea("cancel",I),Ea("close",I),M=L;break;case"iframe":case"object":case"embed":Ea("load",I),M=L;break;case"video":case"audio":for(M=0;M<bh.length;M++)Ea(bh[M],I);M=L;break;case"source":Ea("error",I),M=L;break;case"img":case"image":case"link":Ea("error",I),Ea("load",I),M=L;break;case"details":Ea("toggle",I),M=L;break;case"input":Kb(I,L),M=Y1(I,L),Ea("invalid",I);break;case"option":M=J1(I,L);break;case"select":I._wrapperState={wasMultiple:!!L.multiple},M=Oa({},L,{value:void 0}),Ea("invalid",I);break;case"textarea":Qb(I,L),M=K1(I,L),Ea("invalid",I);break;default:M=L}ev(Q,M);var w=M;for(e in w)if(w.hasOwnProperty(e)){var a=w[e];e==="style"?dw(I,a):e==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&pw(I,a)):e==="children"?typeof a=="string"?(Q!=="textarea"||a!=="")&&zh(I,a):typeof a=="number"&&zh(I,""+a):e!=="suppressContentEditableWarning"&&e!=="suppressHydrationWarning"&&e!=="autoFocus"&&(Rh.hasOwnProperty(e)?a!=null&&e==="onScroll"&&Ea("scroll",I):a!=null&&Dv(I,e,a,b))}switch(Q){case"input":d0(I),$b(I,L,!1);break;case"textarea":d0(I),e_(I);break;case"option":L.value!=null&&I.setAttribute("value",""+_c(L.value));break;case"select":I.multiple=!!L.multiple,e=L.value,e!=null?ip(I,!!L.multiple,e,!1):L.defaultValue!=null&&ip(I,!!L.multiple,L.defaultValue,!0);break;default:typeof M.onClick=="function"&&(I.onclick=V0)}Ww(Q,L)&&(N.flags|=4)}N.ref!==null&&(N.flags|=128)}return null;case 6:if(I&&N.stateNode!=null)y3(I,N,I.memoizedProps,L);else{if(typeof L!="string"&&N.stateNode===null)throw Error(jr(166));Q=Qc(Yh.current),Qc(Lu.current),k0(N)?(L=N.stateNode,Q=N.memoizedProps,L[fc]=N,L.nodeValue!==Q&&(N.flags|=4)):(L=(Q.nodeType===9?Q:Q.ownerDocument).createTextNode(L),L[fc]=N,N.stateNode=L)}return null;case 13:return Ca(Za),L=N.memoizedState,N.flags&64?(N.lanes=Q,N):(L=L!==null,Q=!1,I===null?N.memoizedProps.fallback!==void 0&&k0(N):Q=I.memoizedState!==null,L&&!Q&&N.mode&2&&(I===null&&N.memoizedProps.unstable_avoidThisFallback!==!0||Za.current&1?is===0&&(is=3):((is===0||is===3)&&(is=4),Qs===null||!($h&134217727)&&!(bp&134217727)||cp(Qs,Ss))),(L||Q)&&(N.flags|=4),null);case 4:return mp(),bv(N),I===null&&Vw(N.stateNode.containerInfo),null;case 10:return ay(N),null;case 17:return ml(N.type)&&q0(),null;case 19:if(Ca(Za),L=N.memoizedState,L===null)return null;if(e=(N.flags&64)!==0,b=L.rendering,b===null)if(e)gh(L,!1);else{if(is!==0||I!==null&&I.flags&64)for(I=N.child;I!==null;){if(b=J0(I),b!==null){for(N.flags|=64,gh(L,!1),e=b.updateQueue,e!==null&&(N.updateQueue=e,N.flags|=4),L.lastEffect===null&&(N.firstEffect=null),N.lastEffect=L.lastEffect,L=Q,Q=N.child;Q!==null;)e=Q,I=L,e.flags&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,b=e.alternate,b===null?(e.childLanes=0,e.lanes=I,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=b.childLanes,e.lanes=b.lanes,e.child=b.child,e.memoizedProps=b.memoizedProps,e.memoizedState=b.memoizedState,e.updateQueue=b.updateQueue,e.type=b.type,I=b.dependencies,e.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),Q=Q.sibling;return Xa(Za,Za.current&1|2),N.child}I=I.sibling}L.tail!==null&&Ms()>Mv&&(N.flags|=64,e=!0,gh(L,!1),N.lanes=33554432)}else{if(!e)if(I=J0(b),I!==null){if(N.flags|=64,e=!0,Q=I.updateQueue,Q!==null&&(N.updateQueue=Q,N.flags|=4),gh(L,!0),L.tail===null&&L.tailMode==="hidden"&&!b.alternate&&!Ou)return N=N.lastEffect=L.lastEffect,N!==null&&(N.nextEffect=null),null}else 2*Ms()-L.renderingStartTime>Mv&&Q!==1073741824&&(N.flags|=64,e=!0,gh(L,!1),N.lanes=33554432);L.isBackwards?(b.sibling=N.child,N.child=b):(Q=L.last,Q!==null?Q.sibling=b:N.child=b,L.last=b)}return L.tail!==null?(Q=L.tail,L.rendering=Q,L.tail=Q.sibling,L.lastEffect=N.lastEffect,L.renderingStartTime=Ms(),Q.sibling=null,N=Za.current,Xa(Za,e?N&1|2:N&1),Q):null;case 23:case 24:return yy(),I!==null&&I.memoizedState!==null!=(N.memoizedState!==null)&&L.mode!=="unstable-defer-without-hiding"&&(N.flags|=4),null}throw Error(jr(156,N.tag))}function RA(I){switch(I.tag){case 1:ml(I.type)&&q0();var N=I.flags;return N&4096?(I.flags=N&-4097|64,I):null;case 3:if(mp(),Ca(dl),Ca(Es),ly(),N=I.flags,N&64)throw Error(jr(285));return I.flags=N&-4097|64,I;case 5:return sy(I),null;case 13:return Ca(Za),N=I.flags,N&4096?(I.flags=N&-4097|64,I):null;case 19:return Ca(Za),null;case 4:return mp(),null;case 10:return ay(I),null;case 23:case 24:return yy(),null;default:return null}}function dy(I,N){try{var Q="",L=N;do Q+=gT(L),L=L.return;while(L);var M=Q}catch(e){M=`
Error generating stack: `+e.message+`
`+e.stack}return{value:I,source:N,stack:M}}function _v(I,N){try{console.error(N.value)}catch(Q){setTimeout(function(){throw Q})}}var zA=typeof WeakMap=="function"?WeakMap:Map;function x3(I,N,Q){Q=mc(-1,Q),Q.tag=3,Q.payload={element:null};var L=N.value;return Q.callback=function(){rg||(rg=!0,Sv=L),_v(I,N)},Q}function b3(I,N,Q){Q=mc(-1,Q),Q.tag=3;var L=I.type.getDerivedStateFromError;if(typeof L=="function"){var M=N.value;Q.payload=function(){return _v(I,N),L(M)}}var e=I.stateNode;return e!==null&&typeof e.componentDidCatch=="function"&&(Q.callback=function(){typeof L!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this),_v(I,N));var b=N.stack;this.componentDidCatch(N.value,{componentStack:b!==null?b:""})}),Q}var FA=typeof WeakSet=="function"?WeakSet:Set;function J_(I){var N=I.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(Q){bc(I,Q)}else N.current=null}function NA(I,N){switch(N.tag){case 0:case 11:case 15:case 22:return;case 1:if(N.flags&256&&I!==null){var Q=I.memoizedProps,L=I.memoizedState;I=N.stateNode,N=I.getSnapshotBeforeUpdate(N.elementType===N.type?Q:du(N.type,Q),L),I.__reactInternalSnapshotBeforeUpdate=N}return;case 3:N.flags&256&&ty(N.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(jr(163))}function BA(I,N,Q){switch(Q.tag){case 0:case 11:case 15:case 22:if(N=Q.updateQueue,N=N!==null?N.lastEffect:null,N!==null){I=N=N.next;do{if((I.tag&3)===3){var L=I.create;I.destroy=L()}I=I.next}while(I!==N)}if(N=Q.updateQueue,N=N!==null?N.lastEffect:null,N!==null){I=N=N.next;do{var M=I;L=M.next,M=M.tag,M&4&&M&1&&(C3(Q,I),YA(Q,I)),I=L}while(I!==N)}return;case 1:I=Q.stateNode,Q.flags&4&&(N===null?I.componentDidMount():(L=Q.elementType===Q.type?N.memoizedProps:du(Q.type,N.memoizedProps),I.componentDidUpdate(L,N.memoizedState,I.__reactInternalSnapshotBeforeUpdate))),N=Q.updateQueue,N!==null&&O_(Q,N,I);return;case 3:if(N=Q.updateQueue,N!==null){if(I=null,Q.child!==null)switch(Q.child.tag){case 5:I=Q.child.stateNode;break;case 1:I=Q.child.stateNode}O_(Q,N,I)}return;case 5:I=Q.stateNode,N===null&&Q.flags&4&&Ww(Q.type,Q.memoizedProps)&&I.focus();return;case 6:return;case 4:return;case 12:return;case 13:Q.memoizedState===null&&(Q=Q.alternate,Q!==null&&(Q=Q.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null&&Tw(Q))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(jr(163))}function K_(I,N){for(var Q=I;;){if(Q.tag===5){var L=Q.stateNode;if(N)L=L.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{L=Q.stateNode;var M=Q.memoizedProps.style;M=M!=null&&M.hasOwnProperty("display")?M.display:null,L.style.display=hw("display",M)}}else if(Q.tag===6)Q.stateNode.nodeValue=N?"":Q.memoizedProps;else if((Q.tag!==23&&Q.tag!==24||Q.memoizedState===null||Q===I)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===I)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===I)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}}function $_(I,N){if(tf&&typeof tf.onCommitFiberUnmount=="function")try{tf.onCommitFiberUnmount(ny,N)}catch{}switch(N.tag){case 0:case 11:case 14:case 15:case 22:if(I=N.updateQueue,I!==null&&(I=I.lastEffect,I!==null)){var Q=I=I.next;do{var L=Q,M=L.destroy;if(L=L.tag,M!==void 0)if(L&4)C3(N,Q);else{L=N;try{M()}catch(e){bc(L,e)}}Q=Q.next}while(Q!==I)}break;case 1:if(J_(N),I=N.stateNode,typeof I.componentWillUnmount=="function")try{I.props=N.memoizedProps,I.state=N.memoizedState,I.componentWillUnmount()}catch(e){bc(N,e)}break;case 5:J_(N);break;case 4:_3(I,N)}}function Q_(I){I.alternate=null,I.child=null,I.dependencies=null,I.firstEffect=null,I.lastEffect=null,I.memoizedProps=null,I.memoizedState=null,I.pendingProps=null,I.return=null,I.updateQueue=null}function ew(I){return I.tag===5||I.tag===3||I.tag===4}function tw(I){e:{for(var N=I.return;N!==null;){if(ew(N))break e;N=N.return}throw Error(jr(160))}var Q=N;switch(N=Q.stateNode,Q.tag){case 5:var L=!1;break;case 3:N=N.containerInfo,L=!0;break;case 4:N=N.containerInfo,L=!0;break;default:throw Error(jr(161))}Q.flags&16&&(zh(N,""),Q.flags&=-17);e:t:for(Q=I;;){for(;Q.sibling===null;){if(Q.return===null||ew(Q.return)){Q=null;break e}Q=Q.return}for(Q.sibling.return=Q.return,Q=Q.sibling;Q.tag!==5&&Q.tag!==6&&Q.tag!==18;){if(Q.flags&2||Q.child===null||Q.tag===4)continue t;Q.child.return=Q,Q=Q.child}if(!(Q.flags&2)){Q=Q.stateNode;break e}}L?wv(I,Q,N):kv(I,Q,N)}function wv(I,N,Q){var L=I.tag,M=L===5||L===6;if(M)I=M?I.stateNode:I.stateNode.instance,N?Q.nodeType===8?Q.parentNode.insertBefore(I,N):Q.insertBefore(I,N):(Q.nodeType===8?(N=Q.parentNode,N.insertBefore(I,Q)):(N=Q,N.appendChild(I)),Q=Q._reactRootContainer,Q!=null||N.onclick!==null||(N.onclick=V0));else if(L!==4&&(I=I.child,I!==null))for(wv(I,N,Q),I=I.sibling;I!==null;)wv(I,N,Q),I=I.sibling}function kv(I,N,Q){var L=I.tag,M=L===5||L===6;if(M)I=M?I.stateNode:I.stateNode.instance,N?Q.insertBefore(I,N):Q.appendChild(I);else if(L!==4&&(I=I.child,I!==null))for(kv(I,N,Q),I=I.sibling;I!==null;)kv(I,N,Q),I=I.sibling}function _3(I,N){for(var Q=N,L=!1,M,e;;){if(!L){L=Q.return;e:for(;;){if(L===null)throw Error(jr(160));switch(M=L.stateNode,L.tag){case 5:e=!1;break e;case 3:M=M.containerInfo,e=!0;break e;case 4:M=M.containerInfo,e=!0;break e}L=L.return}L=!0}if(Q.tag===5||Q.tag===6){e:for(var b=I,w=Q,a=w;;)if($_(b,a),a.child!==null&&a.tag!==4)a.child.return=a,a=a.child;else{if(a===w)break e;for(;a.sibling===null;){if(a.return===null||a.return===w)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e?(b=M,w=Q.stateNode,b.nodeType===8?b.parentNode.removeChild(w):b.removeChild(w)):M.removeChild(Q.stateNode)}else if(Q.tag===4){if(Q.child!==null){M=Q.stateNode.containerInfo,e=!0,Q.child.return=Q,Q=Q.child;continue}}else if($_(I,Q),Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===N)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===N)return;Q=Q.return,Q.tag===4&&(L=!1)}Q.sibling.return=Q.return,Q=Q.sibling}}function V1(I,N){switch(N.tag){case 0:case 11:case 14:case 15:case 22:var Q=N.updateQueue;if(Q=Q!==null?Q.lastEffect:null,Q!==null){var L=Q=Q.next;do(L.tag&3)===3&&(I=L.destroy,L.destroy=void 0,I!==void 0&&I()),L=L.next;while(L!==Q)}return;case 1:return;case 5:if(Q=N.stateNode,Q!=null){L=N.memoizedProps;var M=I!==null?I.memoizedProps:L;I=N.type;var e=N.updateQueue;if(N.updateQueue=null,e!==null){for(Q[H0]=L,I==="input"&&L.type==="radio"&&L.name!=null&&uw(Q,L),tv(I,M),N=tv(I,L),M=0;M<e.length;M+=2){var b=e[M],w=e[M+1];b==="style"?dw(Q,w):b==="dangerouslySetInnerHTML"?pw(Q,w):b==="children"?zh(Q,w):Dv(Q,b,w,N)}switch(I){case"input":Z1(Q,L);break;case"textarea":cw(Q,L);break;case"select":I=Q._wrapperState.wasMultiple,Q._wrapperState.wasMultiple=!!L.multiple,e=L.value,e!=null?ip(Q,!!L.multiple,e,!1):I!==!!L.multiple&&(L.defaultValue!=null?ip(Q,!!L.multiple,L.defaultValue,!0):ip(Q,!!L.multiple,L.multiple?[]:"",!1))}}}return;case 6:if(N.stateNode===null)throw Error(jr(162));N.stateNode.nodeValue=N.memoizedProps;return;case 3:Q=N.stateNode,Q.hydrate&&(Q.hydrate=!1,Tw(Q.containerInfo));return;case 12:return;case 13:N.memoizedState!==null&&(vy=Ms(),K_(N.child,!0)),nw(N);return;case 19:nw(N);return;case 17:return;case 23:case 24:K_(N,N.memoizedState!==null);return}throw Error(jr(163))}function nw(I){var N=I.updateQueue;if(N!==null){I.updateQueue=null;var Q=I.stateNode;Q===null&&(Q=I.stateNode=new FA),N.forEach(function(L){var M=JA.bind(null,I,L);Q.has(L)||(Q.add(L),L.then(M,M))})}}function jA(I,N){return I!==null&&(I=I.memoizedState,I===null||I.dehydrated!==null)?(N=N.memoizedState,N!==null&&N.dehydrated===null):!1}var UA=Math.ceil,ng=sf.ReactCurrentDispatcher,gy=sf.ReactCurrentOwner,fi=0,Qs=null,Do=null,Ss=0,af=0,Tv=Mc(0),is=0,mg=null,xp=0,$h=0,bp=0,my=0,Av=null,vy=0,Mv=1/0;function _p(){Mv=Ms()+500}var Kr=null,rg=!1,Sv=null,Cu=null,Tc=!1,Ph=null,_h=90,Ev=[],Cv=[],Ju=null,Ih=0,Lv=null,P0=-1,Yu=0,I0=0,Dh=null,D0=!1;function Pl(){return fi&48?Ms():P0!==-1?P0:P0=Ms()}function yc(I){if(I=I.mode,!(I&2))return 1;if(!(I&4))return gp()===99?1:2;if(Yu===0&&(Yu=xp),EA.transition!==0){I0!==0&&(I0=Av!==null?Av.pendingLanes:0),I=Yu;var N=4186112&~I0;return N&=-N,N===0&&(I=4186112&~I,N=I&-I,N===0&&(N=8192)),N}return I=gp(),fi&4&&I===98?I=j0(12,Yu):(I=OT(I),I=j0(I,Yu)),I}function xc(I,N,Q){if(50<Ih)throw Ih=0,Lv=null,Error(jr(185));if(I=vg(I,N),I===null)return null;ug(I,N,Q),I===Qs&&(bp|=N,is===4&&cp(I,Ss));var L=gp();N===1?fi&8&&!(fi&48)?Ov(I):(Xl(I,Q),fi===0&&(_p(),Pu())):(!(fi&4)||L!==98&&L!==99||(Ju===null?Ju=new Set([I]):Ju.add(I)),Xl(I,Q)),Av=I}function vg(I,N){I.lanes|=N;var Q=I.alternate;for(Q!==null&&(Q.lanes|=N),Q=I,I=I.return;I!==null;)I.childLanes|=N,Q=I.alternate,Q!==null&&(Q.childLanes|=N),Q=I,I=I.return;return Q.tag===3?Q.stateNode:null}function Xl(I,N){for(var Q=I.callbackNode,L=I.suspendedLanes,M=I.pingedLanes,e=I.expirationTimes,b=I.pendingLanes;0<b;){var w=31-wc(b),a=1<<w,k=e[w];if(k===-1){if(!(a&L)||a&M){k=N,Xf(a);var y=_a;e[w]=10<=y?k+250:6<=y?k+5e3:-1}}else k<=N&&(I.expiredLanes|=a);b&=~a}if(L=jh(I,I===Qs?Ss:0),N=_a,L===0)Q!==null&&(Q!==F1&&pv(Q),I.callbackNode=null,I.callbackPriority=0);else{if(Q!==null){if(I.callbackPriority===N)return;Q!==F1&&pv(Q)}N===15?(Q=Ov.bind(null,I),Gu===null?(Gu=[Q],O0=ry(dg,Qw)):Gu.push(Q),Q=F1):N===14?Q=qh(99,Ov.bind(null,I)):(Q=PT(N),Q=qh(Q,w3.bind(null,I))),I.callbackPriority=N,I.callbackNode=Q}}function w3(I){if(P0=-1,I0=Yu=0,fi&48)throw Error(jr(327));var N=I.callbackNode;if(Sc()&&I.callbackNode!==N)return null;var Q=jh(I,I===Qs?Ss:0);if(Q===0)return null;var L=Q,M=fi;fi|=16;var e=M3();(Qs!==I||Ss!==L)&&(_p(),fp(I,L));do try{qA();break}catch(w){A3(I,w)}while(1);if(iy(),ng.current=e,fi=M,Do!==null?L=0:(Qs=null,Ss=0,L=is),xp&bp)fp(I,0);else if(L!==0){if(L===2&&(fi|=64,I.hydrate&&(I.hydrate=!1,ty(I.containerInfo)),Q=Ow(I),Q!==0&&(L=wh(I,Q))),L===1)throw N=mg,fp(I,0),cp(I,Q),Xl(I,Ms()),N;switch(I.finishedWork=I.current.alternate,I.finishedLanes=Q,L){case 0:case 1:throw Error(jr(345));case 2:Xc(I);break;case 3:if(cp(I,Q),(Q&62914560)===Q&&(L=vy+500-Ms(),10<L)){if(jh(I,0)!==0)break;if(M=I.suspendedLanes,(M&Q)!==Q){Pl(),I.pingedLanes|=I.suspendedLanes&M;break}I.timeoutHandle=k_(Xc.bind(null,I),L);break}Xc(I);break;case 4:if(cp(I,Q),(Q&4186112)===Q)break;for(L=I.eventTimes,M=-1;0<Q;){var b=31-wc(Q);e=1<<b,b=L[b],b>M&&(M=b),Q&=~e}if(Q=M,Q=Ms()-Q,Q=(120>Q?120:480>Q?480:1080>Q?1080:1920>Q?1920:3e3>Q?3e3:4320>Q?4320:1960*UA(Q/1960))-Q,10<Q){I.timeoutHandle=k_(Xc.bind(null,I),Q);break}Xc(I);break;case 5:Xc(I);break;default:throw Error(jr(329))}}return Xl(I,Ms()),I.callbackNode===N?w3.bind(null,I):null}function cp(I,N){for(N&=~my,N&=~bp,I.suspendedLanes|=N,I.pingedLanes&=~N,I=I.expirationTimes;0<N;){var Q=31-wc(N),L=1<<Q;I[Q]=-1,N&=~L}}function Ov(I){if(fi&48)throw Error(jr(327));if(Sc(),I===Qs&&I.expiredLanes&Ss){var N=Ss,Q=wh(I,N);xp&bp&&(N=jh(I,N),Q=wh(I,N))}else N=jh(I,0),Q=wh(I,N);if(I.tag!==0&&Q===2&&(fi|=64,I.hydrate&&(I.hydrate=!1,ty(I.containerInfo)),N=Ow(I),N!==0&&(Q=wh(I,N))),Q===1)throw Q=mg,fp(I,0),cp(I,N),Xl(I,Ms()),Q;return I.finishedWork=I.current.alternate,I.finishedLanes=N,Xc(I),Xl(I,Ms()),null}function VA(){if(Ju!==null){var I=Ju;Ju=null,I.forEach(function(N){N.expiredLanes|=24&N.pendingLanes,Xl(N,Ms())})}Pu()}function k3(I,N){var Q=fi;fi|=1;try{return I(N)}finally{fi=Q,fi===0&&(_p(),Pu())}}function T3(I,N){var Q=fi;fi&=-2,fi|=8;try{return I(N)}finally{fi=Q,fi===0&&(_p(),Pu())}}function A0(I,N){Xa(Tv,af),af|=N,xp|=N}function yy(){af=Tv.current,Ca(Tv)}function fp(I,N){I.finishedWork=null,I.finishedLanes=0;var Q=I.timeoutHandle;if(Q!==-1&&(I.timeoutHandle=-1,wA(Q)),Do!==null)for(Q=Do.return;Q!==null;){var L=Q;switch(L.tag){case 1:L=L.type.childContextTypes,L!=null&&q0();break;case 3:mp(),Ca(dl),Ca(Es),ly();break;case 5:sy(L);break;case 4:mp();break;case 13:Ca(Za);break;case 19:Ca(Za);break;case 10:ay(L);break;case 23:case 24:yy()}Q=Q.return}Qs=I,Do=Ac(I.current,null),Ss=af=xp=N,is=0,mg=null,my=bp=$h=0}function A3(I,N){do{var Q=Do;try{if(iy(),Lh.current=tg,K0){for(var L=so.memoizedState;L!==null;){var M=L.queue;M!==null&&(M.pending=null),L=L.next}K0=!1}if(Zh=0,rs=As=so=null,Oh=!1,gy.current=null,Q===null||Q.return===null){is=1,mg=N,Do=null;break}e:{var e=I,b=Q.return,w=Q,a=N;if(N=Ss,w.flags|=2048,w.firstEffect=w.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var k=a;if(!(w.mode&2)){var y=w.alternate;y?(w.updateQueue=y.updateQueue,w.memoizedState=y.memoizedState,w.lanes=y.lanes):(w.updateQueue=null,w.memoizedState=null)}var f=(Za.current&1)!==0,l=b;do{var t;if(t=l.tag===13){var s=l.memoizedState;if(s!==null)t=s.dehydrated!==null;else{var o=l.memoizedProps;t=o.fallback===void 0?!1:o.unstable_avoidThisFallback!==!0?!0:!f}}if(t){var n=l.updateQueue;if(n===null){var r=new Set;r.add(k),l.updateQueue=r}else n.add(k);if(!(l.mode&2)){if(l.flags|=64,w.flags|=16384,w.flags&=-2981,w.tag===1)if(w.alternate===null)w.tag=17;else{var i=mc(-1,1);i.tag=2,vc(w,i)}w.lanes|=1;break e}a=void 0,w=N;var u=e.pingCache;if(u===null?(u=e.pingCache=new zA,a=new Set,u.set(k,a)):(a=u.get(k),a===void 0&&(a=new Set,u.set(k,a))),!a.has(w)){a.add(w);var p=XA.bind(null,e,k,w);k.then(p,p)}l.flags|=4096,l.lanes=N;break e}l=l.return}while(l!==null);a=Error((rp(w.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}is!==5&&(is=2),a=dy(a,w),l=b;do{switch(l.tag){case 3:e=a,l.flags|=4096,N&=-N,l.lanes|=N;var h=x3(l,e,N);L_(l,h);break e;case 1:e=a;var _=l.type,m=l.stateNode;if(!(l.flags&64)&&(typeof _.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Cu===null||!Cu.has(m)))){l.flags|=4096,N&=-N,l.lanes|=N;var d=b3(l,e,N);L_(l,d);break e}}l=l.return}while(l!==null)}E3(Q)}catch(x){N=x,Do===Q&&Q!==null&&(Do=Q=Q.return);continue}break}while(1)}function M3(){var I=ng.current;return ng.current=tg,I===null?tg:I}function wh(I,N){var Q=fi;fi|=16;var L=M3();Qs===I&&Ss===N||fp(I,N);do try{HA();break}catch(M){A3(I,M)}while(1);if(iy(),fi=Q,ng.current=L,Do!==null)throw Error(jr(261));return Qs=null,Ss=0,is}function HA(){for(;Do!==null;)S3(Do)}function qA(){for(;Do!==null&&!AA();)S3(Do)}function S3(I){var N=L3(I.alternate,I,af);I.memoizedProps=I.pendingProps,N===null?E3(I):Do=N,gy.current=null}function E3(I){var N=I;do{var Q=N.alternate;if(I=N.return,N.flags&2048){if(Q=RA(N),Q!==null){Q.flags&=2047,Do=Q;return}I!==null&&(I.firstEffect=I.lastEffect=null,I.flags|=2048)}else{if(Q=DA(Q,N,af),Q!==null){Do=Q;return}if(Q=N,Q.tag!==24&&Q.tag!==23||Q.memoizedState===null||af&1073741824||!(Q.mode&4)){for(var L=0,M=Q.child;M!==null;)L|=M.lanes|M.childLanes,M=M.sibling;Q.childLanes=L}I!==null&&!(I.flags&2048)&&(I.firstEffect===null&&(I.firstEffect=N.firstEffect),N.lastEffect!==null&&(I.lastEffect!==null&&(I.lastEffect.nextEffect=N.firstEffect),I.lastEffect=N.lastEffect),1<N.flags&&(I.lastEffect!==null?I.lastEffect.nextEffect=N:I.firstEffect=N,I.lastEffect=N))}if(N=N.sibling,N!==null){Do=N;return}Do=N=I}while(N!==null);is===0&&(is=5)}function Xc(I){var N=gp();return rf(99,WA.bind(null,I,N)),null}function WA(I,N){do Sc();while(Ph!==null);if(fi&48)throw Error(jr(327));var Q=I.finishedWork;if(Q===null)return null;if(I.finishedWork=null,I.finishedLanes=0,Q===I.current)throw Error(jr(177));I.callbackNode=null;var L=Q.lanes|Q.childLanes,M=L,e=I.pendingLanes&~M;I.pendingLanes=M,I.suspendedLanes=0,I.pingedLanes=0,I.expiredLanes&=M,I.mutableReadLanes&=M,I.entangledLanes&=M,M=I.entanglements;for(var b=I.eventTimes,w=I.expirationTimes;0<e;){var a=31-wc(e),k=1<<a;M[a]=0,b[a]=-1,w[a]=-1,e&=~k}if(Ju!==null&&!(L&24)&&Ju.has(I)&&Ju.delete(I),I===Qs&&(Do=Qs=null,Ss=0),1<Q.flags?Q.lastEffect!==null?(Q.lastEffect.nextEffect=Q,L=Q.firstEffect):L=Q:L=Q.firstEffect,L!==null){if(M=fi,fi|=32,gy.current=null,D1=S0,b=v_(),sv(b)){if("selectionStart"in b)w={start:b.selectionStart,end:b.selectionEnd};else e:if(w=(w=b.ownerDocument)&&w.defaultView||window,(k=w.getSelection&&w.getSelection())&&k.rangeCount!==0){w=k.anchorNode,e=k.anchorOffset,a=k.focusNode,k=k.focusOffset;try{w.nodeType,a.nodeType}catch{w=null;break e}var y=0,f=-1,l=-1,t=0,s=0,o=b,n=null;t:for(;;){for(var r;o!==w||e!==0&&o.nodeType!==3||(f=y+e),o!==a||k!==0&&o.nodeType!==3||(l=y+k),o.nodeType===3&&(y+=o.nodeValue.length),(r=o.firstChild)!==null;)n=o,o=r;for(;;){if(o===b)break t;if(n===w&&++t===e&&(f=y),n===a&&++s===k&&(l=y),(r=o.nextSibling)!==null)break;o=n,n=o.parentNode}o=r}w=f===-1||l===-1?null:{start:f,end:l}}else w=null;w=w||{start:0,end:0}}else w=null;R1={focusedElem:b,selectionRange:w},S0=!1,Dh=null,D0=!1,Kr=L;do try{GA()}catch(x){if(Kr===null)throw Error(jr(330));bc(Kr,x),Kr=Kr.nextEffect}while(Kr!==null);Dh=null,Kr=L;do try{for(b=I;Kr!==null;){var i=Kr.flags;if(i&16&&zh(Kr.stateNode,""),i&128){var u=Kr.alternate;if(u!==null){var p=u.ref;p!==null&&(typeof p=="function"?p(null):p.current=null)}}switch(i&1038){case 2:tw(Kr),Kr.flags&=-3;break;case 6:tw(Kr),Kr.flags&=-3,V1(Kr.alternate,Kr);break;case 1024:Kr.flags&=-1025;break;case 1028:Kr.flags&=-1025,V1(Kr.alternate,Kr);break;case 4:V1(Kr.alternate,Kr);break;case 8:w=Kr,_3(b,w);var h=w.alternate;Q_(w),h!==null&&Q_(h)}Kr=Kr.nextEffect}}catch(x){if(Kr===null)throw Error(jr(330));bc(Kr,x),Kr=Kr.nextEffect}while(Kr!==null);if(p=R1,u=v_(),i=p.focusedElem,b=p.selectionRange,u!==i&&i&&i.ownerDocument&&Bw(i.ownerDocument.documentElement,i)){for(b!==null&&sv(i)&&(u=b.start,p=b.end,p===void 0&&(p=u),"selectionStart"in i?(i.selectionStart=u,i.selectionEnd=Math.min(p,i.value.length)):(p=(u=i.ownerDocument||document)&&u.defaultView||window,p.getSelection&&(p=p.getSelection(),w=i.textContent.length,h=Math.min(b.start,w),b=b.end===void 0?h:Math.min(b.end,w),!p.extend&&h>b&&(w=b,b=h,h=w),w=m_(i,h),e=m_(i,b),w&&e&&(p.rangeCount!==1||p.anchorNode!==w.node||p.anchorOffset!==w.offset||p.focusNode!==e.node||p.focusOffset!==e.offset)&&(u=u.createRange(),u.setStart(w.node,w.offset),p.removeAllRanges(),h>b?(p.addRange(u),p.extend(e.node,e.offset)):(u.setEnd(e.node,e.offset),p.addRange(u)))))),u=[],p=i;p=p.parentNode;)p.nodeType===1&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<u.length;i++)p=u[i],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}S0=!!D1,R1=D1=null,I.current=Q,Kr=L;do try{for(i=I;Kr!==null;){var _=Kr.flags;if(_&36&&BA(i,Kr.alternate,Kr),_&128){u=void 0;var m=Kr.ref;if(m!==null){var d=Kr.stateNode;switch(Kr.tag){case 5:u=d;break;default:u=d}typeof m=="function"?m(u):m.current=u}}Kr=Kr.nextEffect}}catch(x){if(Kr===null)throw Error(jr(330));bc(Kr,x),Kr=Kr.nextEffect}while(Kr!==null);Kr=null,SA(),fi=M}else I.current=Q;if(Tc)Tc=!1,Ph=I,_h=N;else for(Kr=L;Kr!==null;)N=Kr.nextEffect,Kr.nextEffect=null,Kr.flags&8&&(_=Kr,_.sibling=null,_.stateNode=null),Kr=N;if(L=I.pendingLanes,L===0&&(Cu=null),L===1?I===Lv?Ih++:(Ih=0,Lv=I):Ih=0,Q=Q.stateNode,tf&&typeof tf.onCommitFiberRoot=="function")try{tf.onCommitFiberRoot(ny,Q,void 0,(Q.current.flags&64)===64)}catch{}if(Xl(I,Ms()),rg)throw rg=!1,I=Sv,Sv=null,I;return fi&8||Pu(),null}function GA(){for(;Kr!==null;){var I=Kr.alternate;D0||Dh===null||(Kr.flags&8?r_(Kr,Dh)&&(D0=!0):Kr.tag===13&&jA(I,Kr)&&r_(Kr,Dh)&&(D0=!0));var N=Kr.flags;N&256&&NA(I,Kr),!(N&512)||Tc||(Tc=!0,qh(97,function(){return Sc(),null})),Kr=Kr.nextEffect}}function Sc(){if(_h!==90){var I=97<_h?97:_h;return _h=90,rf(I,ZA)}return!1}function YA(I,N){Ev.push(N,I),Tc||(Tc=!0,qh(97,function(){return Sc(),null}))}function C3(I,N){Cv.push(N,I),Tc||(Tc=!0,qh(97,function(){return Sc(),null}))}function ZA(){if(Ph===null)return!1;var I=Ph;if(Ph=null,fi&48)throw Error(jr(331));var N=fi;fi|=32;var Q=Cv;Cv=[];for(var L=0;L<Q.length;L+=2){var M=Q[L],e=Q[L+1],b=M.destroy;if(M.destroy=void 0,typeof b=="function")try{b()}catch(a){if(e===null)throw Error(jr(330));bc(e,a)}}for(Q=Ev,Ev=[],L=0;L<Q.length;L+=2){M=Q[L],e=Q[L+1];try{var w=M.create;M.destroy=w()}catch(a){if(e===null)throw Error(jr(330));bc(e,a)}}for(w=I.current.firstEffect;w!==null;)I=w.nextEffect,w.nextEffect=null,w.flags&8&&(w.sibling=null,w.stateNode=null),w=I;return fi=N,Pu(),!0}function rw(I,N,Q){N=dy(Q,N),N=x3(I,N,1),vc(I,N),N=Pl(),I=vg(I,1),I!==null&&(ug(I,1,N),Xl(I,N))}function bc(I,N){if(I.tag===3)rw(I,I,N);else for(var Q=I.return;Q!==null;){if(Q.tag===3){rw(Q,I,N);break}else if(Q.tag===1){var L=Q.stateNode;if(typeof Q.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Cu===null||!Cu.has(L))){I=dy(N,I);var M=b3(Q,I,1);if(vc(Q,M),M=Pl(),Q=vg(Q,1),Q!==null)ug(Q,1,M),Xl(Q,M);else if(typeof L.componentDidCatch=="function"&&(Cu===null||!Cu.has(L)))try{L.componentDidCatch(N,I)}catch{}break}}Q=Q.return}}function XA(I,N,Q){var L=I.pingCache;L!==null&&L.delete(N),N=Pl(),I.pingedLanes|=I.suspendedLanes&Q,Qs===I&&(Ss&Q)===Q&&(is===4||is===3&&(Ss&62914560)===Ss&&500>Ms()-vy?fp(I,0):my|=Q),Xl(I,N)}function JA(I,N){var Q=I.stateNode;Q!==null&&Q.delete(N),N=0,N===0&&(N=I.mode,N&2?N&4?(Yu===0&&(Yu=xp),N=Jf(62914560&~Yu),N===0&&(N=4194304)):N=gp()===99?1:2:N=1),Q=Pl(),I=vg(I,N),I!==null&&(ug(I,N,Q),Xl(I,Q))}var L3;L3=function(I,N,Q){var L=N.lanes;if(I!==null)if(I.memoizedProps!==N.pendingProps||dl.current)gu=!0;else if(Q&L)gu=!!(I.flags&16384);else{switch(gu=!1,N.tag){case 3:H_(N),B1();break;case 5:D_(N);break;case 1:ml(N.type)&&L0(N);break;case 4:gv(N,N.stateNode.containerInfo);break;case 10:L=N.memoizedProps.value;var M=N.type._context;Xa(W0,M._currentValue),M._currentValue=L;break;case 13:if(N.memoizedState!==null)return Q&N.child.childLanes?q_(I,N,Q):(Xa(Za,Za.current&1),N=Xu(I,N,Q),N!==null?N.sibling:null);Xa(Za,Za.current&1);break;case 19:if(L=(Q&N.childLanes)!==0,I.flags&64){if(L)return X_(I,N,Q);N.flags|=64}if(M=N.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Xa(Za,Za.current),L)break;return null;case 23:case 24:return N.lanes=0,j1(I,N,Q)}return Xu(I,N,Q)}else gu=!1;switch(N.lanes=0,N.tag){case 2:if(L=N.type,I!==null&&(I.alternate=null,N.alternate=null,N.flags|=2),I=N.pendingProps,M=dp(N,Es.current),lp(N,Q),M=cy(null,N,L,I,M,Q),N.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0){if(N.tag=1,N.memoizedState=null,N.updateQueue=null,ml(L)){var e=!0;L0(N)}else e=!1;N.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,oy(N);var b=L.getDerivedStateFromProps;typeof b=="function"&&Z0(N,L,b,I),M.updater=gg,N.stateNode=M,M._reactInternals=N,dv(N,L,I,Q),N=xv(null,N,L,!0,e,Q)}else N.tag=0,hl(null,N,M,Q),N=N.child;return N;case 16:M=N.elementType;e:{switch(I!==null&&(I.alternate=null,N.alternate=null,N.flags|=2),I=N.pendingProps,e=M._init,M=e(M._payload),N.type=M,e=N.tag=$A(M),I=du(M,I),e){case 0:N=yv(null,N,M,I,Q);break e;case 1:N=V_(null,N,M,I,Q);break e;case 11:N=j_(null,N,M,I,Q);break e;case 14:N=U_(null,N,M,du(M.type,I),L,Q);break e}throw Error(jr(306,M,""))}return N;case 0:return L=N.type,M=N.pendingProps,M=N.elementType===L?M:du(L,M),yv(I,N,L,M,Q);case 1:return L=N.type,M=N.pendingProps,M=N.elementType===L?M:du(L,M),V_(I,N,L,M,Q);case 3:if(H_(N),L=N.updateQueue,I===null||L===null)throw Error(jr(282));if(L=N.pendingProps,M=N.memoizedState,M=M!==null?M.element:null,t3(I,N),Wh(N,L,null,Q),L=N.memoizedState.element,L===M)B1(),N=Xu(I,N,Q);else{if(M=N.stateNode,(e=M.hydrate)&&(pc=sp(N.stateNode.containerInfo.firstChild),Zu=N,e=Ou=!0),e){if(I=M.mutableSourceEagerHydrationData,I!=null)for(M=0;M<I.length;M+=2)e=I[M],e._workInProgressVersionPrimary=I[M+1],up.push(e);for(Q=a3(N,null,L,Q),N.child=Q;Q;)Q.flags=Q.flags&-3|1024,Q=Q.sibling}else hl(I,N,L,Q),B1();N=N.child}return N;case 5:return D_(N),I===null&&mv(N),L=N.type,M=N.pendingProps,e=I!==null?I.memoizedProps:null,b=M.children,cv(L,M)?b=null:e!==null&&cv(L,e)&&(N.flags|=16),g3(I,N),hl(I,N,b,Q),N.child;case 6:return I===null&&mv(N),null;case 13:return q_(I,N,Q);case 4:return gv(N,N.stateNode.containerInfo),L=N.pendingProps,I===null?N.child=X0(N,null,L,Q):hl(I,N,L,Q),N.child;case 11:return L=N.type,M=N.pendingProps,M=N.elementType===L?M:du(L,M),j_(I,N,L,M,Q);case 7:return hl(I,N,N.pendingProps,Q),N.child;case 8:return hl(I,N,N.pendingProps.children,Q),N.child;case 12:return hl(I,N,N.pendingProps.children,Q),N.child;case 10:e:{L=N.type._context,M=N.pendingProps,b=N.memoizedProps,e=M.value;var w=N.type._context;if(Xa(W0,w._currentValue),w._currentValue=e,b!==null)if(w=b.value,e=Wl(w,e)?0:(typeof L._calculateChangedBits=="function"?L._calculateChangedBits(w,e):1073741823)|0,e===0){if(b.children===M.children&&!dl.current){N=Xu(I,N,Q);break e}}else for(w=N.child,w!==null&&(w.return=N);w!==null;){var a=w.dependencies;if(a!==null){b=w.child;for(var k=a.firstContext;k!==null;){if(k.context===L&&k.observedBits&e){w.tag===1&&(k=mc(-1,Q&-Q),k.tag=2,vc(w,k)),w.lanes|=Q,k=w.alternate,k!==null&&(k.lanes|=Q),e3(w.return,Q),a.lanes|=Q;break}k=k.next}}else b=w.tag===10&&w.type===N.type?null:w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===N){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}hl(I,N,M.children,Q),N=N.child}return N;case 9:return M=N.type,e=N.pendingProps,L=e.children,lp(N,Q),M=Zl(M,e.unstable_observedBits),L=L(M),N.flags|=1,hl(I,N,L,Q),N.child;case 14:return M=N.type,e=du(M,N.pendingProps),e=du(M.type,e),U_(I,N,M,e,L,Q);case 15:return d3(I,N,N.type,N.pendingProps,L,Q);case 17:return L=N.type,M=N.pendingProps,M=N.elementType===L?M:du(L,M),I!==null&&(I.alternate=null,N.alternate=null,N.flags|=2),N.tag=1,ml(L)?(I=!0,L0(N)):I=!1,lp(N,Q),r3(N,L,M),dv(N,L,M,Q),xv(null,N,L,!0,I,Q);case 19:return X_(I,N,Q);case 23:return j1(I,N,Q);case 24:return j1(I,N,Q)}throw Error(jr(156,N.tag))};function KA(I,N,Q,L){this.tag=I,this.key=Q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=N,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gl(I,N,Q,L){return new KA(I,N,Q,L)}function xy(I){return I=I.prototype,!(!I||!I.isReactComponent)}function $A(I){if(typeof I=="function")return xy(I)?1:0;if(I!=null){if(I=I.$$typeof,I===og)return 11;if(I===sg)return 14}return 2}function Ac(I,N){var Q=I.alternate;return Q===null?(Q=Gl(I.tag,N,I.key,I.mode),Q.elementType=I.elementType,Q.type=I.type,Q.stateNode=I.stateNode,Q.alternate=I,I.alternate=Q):(Q.pendingProps=N,Q.type=I.type,Q.flags=0,Q.nextEffect=null,Q.firstEffect=null,Q.lastEffect=null),Q.childLanes=I.childLanes,Q.lanes=I.lanes,Q.child=I.child,Q.memoizedProps=I.memoizedProps,Q.memoizedState=I.memoizedState,Q.updateQueue=I.updateQueue,N=I.dependencies,Q.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext},Q.sibling=I.sibling,Q.index=I.index,Q.ref=I.ref,Q}function R0(I,N,Q,L,M,e){var b=2;if(L=I,typeof I=="function")xy(I)&&(b=1);else if(typeof I=="string")b=5;else e:switch(I){case uc:return pp(Q.children,M,e,N);case ow:b=8,M|=16;break;case Rv:b=8,M|=1;break;case kh:return I=Gl(12,Q,N,M|8),I.elementType=kh,I.type=kh,I.lanes=e,I;case Th:return I=Gl(13,Q,N,M),I.type=Th,I.elementType=Th,I.lanes=e,I;case z0:return I=Gl(19,Q,N,M),I.elementType=z0,I.lanes=e,I;case Uv:return by(Q,M,e,N);case G1:return I=Gl(24,Q,N,M),I.elementType=G1,I.lanes=e,I;default:if(typeof I=="object"&&I!==null)switch(I.$$typeof){case zv:b=10;break e;case Fv:b=9;break e;case og:b=11;break e;case sg:b=14;break e;case Nv:b=16,L=null;break e;case Bv:b=22;break e}throw Error(jr(130,I==null?I:typeof I,""))}return N=Gl(b,Q,N,M),N.elementType=I,N.type=L,N.lanes=e,N}function pp(I,N,Q,L){return I=Gl(7,I,L,N),I.lanes=Q,I}function by(I,N,Q,L){return I=Gl(23,I,L,N),I.elementType=Uv,I.lanes=Q,I}function H1(I,N,Q){return I=Gl(6,I,null,N),I.lanes=Q,I}function q1(I,N,Q){return N=Gl(4,I.children!==null?I.children:[],I.key,N),N.lanes=Q,N.stateNode={containerInfo:I.containerInfo,pendingChildren:null,implementation:I.implementation},N}function QA(I,N,Q){this.tag=N,this.containerInfo=I,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=Q,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=E1(0),this.expirationTimes=E1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E1(0),this.mutableSourceEagerHydrationData=null}function e8(I,N,Q){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jc,key:L==null?null:""+L,children:I,containerInfo:N,implementation:Q}}function ig(I,N,Q,L){var M=N.current,e=Pl(),b=yc(M);e:if(Q){Q=Q._reactInternals;t:{if(lf(Q)!==Q||Q.tag!==1)throw Error(jr(170));var w=Q;do{switch(w.tag){case 3:w=w.stateNode.context;break t;case 1:if(ml(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break t}}w=w.return}while(w!==null);throw Error(jr(171))}if(Q.tag===1){var a=Q.type;if(ml(a)){Q=Yw(Q,a,w);break e}}Q=w}else Q=kc;return N.context===null?N.context=Q:N.pendingContext=Q,N=mc(e,b),N.payload={element:I},L=L===void 0?null:L,L!==null&&(N.callback=L),vc(M,N),xc(M,b,e),b}function W1(I){if(I=I.current,!I.child)return null;switch(I.child.tag){case 5:return I.child.stateNode;default:return I.child.stateNode}}function iw(I,N){if(I=I.memoizedState,I!==null&&I.dehydrated!==null){var Q=I.retryLane;I.retryLane=Q!==0&&Q<N?Q:N}}function _y(I,N){iw(I,N),(I=I.alternate)&&iw(I,N)}function t8(){return null}function wy(I,N,Q){var L=Q!=null&&Q.hydrationOptions!=null&&Q.hydrationOptions.mutableSources||null;if(Q=new QA(I,N,Q!=null&&Q.hydrate===!0),N=Gl(3,null,null,N===2?7:N===1?3:0),Q.current=N,N.stateNode=Q,oy(N),I[yp]=Q.current,Vw(I.nodeType===8?I.parentNode:I),L)for(I=0;I<L.length;I++){N=L[I];var M=N._getVersion;M=M(N._source),Q.mutableSourceEagerHydrationData==null?Q.mutableSourceEagerHydrationData=[N,M]:Q.mutableSourceEagerHydrationData.push(N,M)}this._internalRoot=Q}wy.prototype.render=function(I){ig(I,this._internalRoot,null,null)};wy.prototype.unmount=function(){var I=this._internalRoot,N=I.containerInfo;ig(null,I,null,function(){N[yp]=null})};function Qh(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11&&(I.nodeType!==8||I.nodeValue!==" react-mount-point-unstable "))}function n8(I,N){if(N||(N=I?I.nodeType===9?I.documentElement:I.firstChild:null,N=!(!N||N.nodeType!==1||!N.hasAttribute("data-reactroot"))),!N)for(var Q;Q=I.lastChild;)I.removeChild(Q);return new wy(I,0,N?{hydrate:!0}:void 0)}function yg(I,N,Q,L,M){var e=Q._reactRootContainer;if(e){var b=e._internalRoot;if(typeof M=="function"){var w=M;M=function(){var k=W1(b);w.call(k)}}ig(N,b,I,M)}else{if(e=Q._reactRootContainer=n8(Q,L),b=e._internalRoot,typeof M=="function"){var a=M;M=function(){var k=W1(b);a.call(k)}}T3(function(){ig(N,b,I,M)})}return W1(b)}_w=function(I){if(I.tag===13){var N=Pl();xc(I,4,N),_y(I,4)}};Gv=function(I){if(I.tag===13){var N=Pl();xc(I,67108864,N),_y(I,67108864)}};ww=function(I){if(I.tag===13){var N=Pl(),Q=yc(I);xc(I,Q,N),_y(I,Q)}};kw=function(I,N){return N()};nv=function(I,N,Q){switch(N){case"input":if(Z1(I,Q),N=Q.name,Q.type==="radio"&&N!=null){for(Q=I;Q.parentNode;)Q=Q.parentNode;for(Q=Q.querySelectorAll("input[name="+JSON.stringify(""+N)+'][type="radio"]'),N=0;N<Q.length;N++){var L=Q[N];if(L!==I&&L.form===I.form){var M=hg(L);if(!M)throw Error(jr(90));lw(L),Z1(L,M)}}}break;case"textarea":cw(I,Q);break;case"select":N=Q.value,N!=null&&ip(I,!!Q.multiple,N,!1)}};Hv=k3;vw=function(I,N,Q,L,M){var e=fi;fi|=4;try{return rf(98,I.bind(null,N,Q,L,M))}finally{fi=e,fi===0&&(_p(),Pu())}};qv=function(){!(fi&49)&&(VA(),Sc())};yw=function(I,N){var Q=fi;fi|=2;try{return I(N)}finally{fi=Q,fi===0&&(_p(),Pu())}};function O3(I,N){var Q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(N))throw Error(jr(200));return e8(I,N,null,Q)}var r8={Events:[Jh,ep,hg,gw,mw,Sc,{current:!1}]},mh={findFiberByHostInstance:$c,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},i8={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sf.ReactCurrentDispatcher,findHostInstanceByFiber:function(I){return I=bw(I),I===null?null:I.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||t8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(vh=__REACT_DEVTOOLS_GLOBAL_HOOK__,!vh.isDisabled&&vh.supportsFiber))try{ny=vh.inject(i8),tf=vh}catch{}var vh;Jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r8;Jl.createPortal=O3;Jl.findDOMNode=function(I){if(I==null)return null;if(I.nodeType===1)return I;var N=I._reactInternals;if(N===void 0)throw typeof I.render=="function"?Error(jr(188)):Error(jr(268,Object.keys(I)));return I=bw(N),I=I===null?null:I.stateNode,I};Jl.flushSync=function(I,N){var Q=fi;if(Q&48)return I(N);fi|=1;try{if(I)return rf(99,I.bind(null,N))}finally{fi=Q,Pu()}};Jl.hydrate=function(I,N,Q){if(!Qh(N))throw Error(jr(200));return yg(null,I,N,!0,Q)};Jl.render=function(I,N,Q){if(!Qh(N))throw Error(jr(200));return yg(null,I,N,!1,Q)};Jl.unmountComponentAtNode=function(I){if(!Qh(I))throw Error(jr(40));return I._reactRootContainer?(T3(function(){yg(null,null,I,!1,function(){I._reactRootContainer=null,I[yp]=null})}),!0):!1};Jl.unstable_batchedUpdates=k3;Jl.unstable_createPortal=function(I,N){return O3(I,N,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Jl.unstable_renderSubtreeIntoContainer=function(I,N,Q,L){if(!Qh(Q))throw Error(jr(200));if(I==null||I._reactInternals===void 0)throw Error(jr(38));return yg(I,N,Q,!1,L)};Jl.version="17.0.2"});var ky=Zi((S9,D3)=>{"use strict";function I3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I3)}catch(I){console.error(I)}}I3(),D3.exports=P3()});var z3=Zi((E9,R3)=>{"use strict";var a8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";R3.exports=a8});var j3=Zi((C9,B3)=>{"use strict";var o8=z3();function F3(){}function N3(){}N3.resetWarningCache=F3;B3.exports=function(){function I(L,M,e,b,w,a){if(a!==o8){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}I.isRequired=I;function N(){return I}var Q={array:I,bigint:I,bool:I,func:I,number:I,object:I,string:I,symbol:I,any:I,arrayOf:N,element:I,elementType:I,instanceOf:N,node:I,objectOf:N,oneOf:N,oneOfType:N,shape:N,exact:N,checkPropTypes:N3,resetWarningCache:F3};return Q.PropTypes=Q,Q}});var lo=Zi((P9,U3)=>{U3.exports=j3()();var L9,O9});var Cs=Zi((I9,xg)=>{(function(){"use strict";var I={}.hasOwnProperty,N="[native code]";function Q(){for(var L=[],M=0;M<arguments.length;M++){var e=arguments[M];if(e){var b=typeof e;if(b==="string"||b==="number")L.push(e);else if(Array.isArray(e)){if(e.length){var w=Q.apply(null,e);w&&L.push(w)}}else if(b==="object"){if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]")){L.push(e.toString());continue}for(var a in e)I.call(e,a)&&e[a]&&L.push(a)}}}return L.join(" ")}typeof xg<"u"&&xg.exports?(Q.default=Q,xg.exports=Q):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return Q}):window.classNames=Q})()});var X3=Zi((Ly,wp)=>{(function(I,N){typeof Ly=="object"&&typeof wp<"u"?wp.exports=N():typeof define=="function"&&define.amd?define(N):I.moment=N()})(Ly,function(){"use strict";var I;function N(){return I.apply(null,arguments)}function Q(De){I=De}function L(De){return De instanceof Array||Object.prototype.toString.call(De)==="[object Array]"}function M(De){return De!=null&&Object.prototype.toString.call(De)==="[object Object]"}function e(De,Xe){return Object.prototype.hasOwnProperty.call(De,Xe)}function b(De){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(De).length===0;var Xe;for(Xe in De)if(e(De,Xe))return!1;return!0}function w(De){return De===void 0}function a(De){return typeof De=="number"||Object.prototype.toString.call(De)==="[object Number]"}function k(De){return De instanceof Date||Object.prototype.toString.call(De)==="[object Date]"}function y(De,Xe){var _t=[],jt,$t=De.length;for(jt=0;jt<$t;++jt)_t.push(Xe(De[jt],jt));return _t}function f(De,Xe){for(var _t in Xe)e(Xe,_t)&&(De[_t]=Xe[_t]);return e(Xe,"toString")&&(De.toString=Xe.toString),e(Xe,"valueOf")&&(De.valueOf=Xe.valueOf),De}function l(De,Xe,_t,jt){return zo(De,Xe,_t,jt,!0).utc()}function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function s(De){return De._pf==null&&(De._pf=t()),De._pf}var o;Array.prototype.some?o=Array.prototype.some:o=function(De){var Xe=Object(this),_t=Xe.length>>>0,jt;for(jt=0;jt<_t;jt++)if(jt in Xe&&De.call(this,Xe[jt],jt,Xe))return!0;return!1};function n(De){if(De._isValid==null){var Xe=s(De),_t=o.call(Xe.parsedDateParts,function($t){return $t!=null}),jt=!isNaN(De._d.getTime())&&Xe.overflow<0&&!Xe.empty&&!Xe.invalidEra&&!Xe.invalidMonth&&!Xe.invalidWeekday&&!Xe.weekdayMismatch&&!Xe.nullInput&&!Xe.invalidFormat&&!Xe.userInvalidated&&(!Xe.meridiem||Xe.meridiem&&_t);if(De._strict&&(jt=jt&&Xe.charsLeftOver===0&&Xe.unusedTokens.length===0&&Xe.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(De))De._isValid=jt;else return jt}return De._isValid}function r(De){var Xe=l(NaN);return De!=null?f(s(Xe),De):s(Xe).userInvalidated=!0,Xe}var i=N.momentProperties=[],u=!1;function p(De,Xe){var _t,jt,$t,Cn=i.length;if(w(Xe._isAMomentObject)||(De._isAMomentObject=Xe._isAMomentObject),w(Xe._i)||(De._i=Xe._i),w(Xe._f)||(De._f=Xe._f),w(Xe._l)||(De._l=Xe._l),w(Xe._strict)||(De._strict=Xe._strict),w(Xe._tzm)||(De._tzm=Xe._tzm),w(Xe._isUTC)||(De._isUTC=Xe._isUTC),w(Xe._offset)||(De._offset=Xe._offset),w(Xe._pf)||(De._pf=s(Xe)),w(Xe._locale)||(De._locale=Xe._locale),Cn>0)for(_t=0;_t<Cn;_t++)jt=i[_t],$t=Xe[jt],w($t)||(De[jt]=$t);return De}function h(De){p(this,De),this._d=new Date(De._d!=null?De._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),u===!1&&(u=!0,N.updateOffset(this),u=!1)}function _(De){return De instanceof h||De!=null&&De._isAMomentObject!=null}function m(De){N.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+De)}function d(De,Xe){var _t=!0;return f(function(){if(N.deprecationHandler!=null&&N.deprecationHandler(null,De),_t){var jt=[],$t,Cn,lr,Ur=arguments.length;for(Cn=0;Cn<Ur;Cn++){if($t="",typeof arguments[Cn]=="object"){$t+=`
[`+Cn+"] ";for(lr in arguments[0])e(arguments[0],lr)&&($t+=lr+": "+arguments[0][lr]+", ");$t=$t.slice(0,-2)}else $t=arguments[Cn];jt.push($t)}m(De+`
Arguments: `+Array.prototype.slice.call(jt).join("")+`
`+new Error().stack),_t=!1}return Xe.apply(this,arguments)},Xe)}var x={};function g(De,Xe){N.deprecationHandler!=null&&N.deprecationHandler(De,Xe),x[De]||(m(Xe),x[De]=!0)}N.suppressDeprecationWarnings=!1,N.deprecationHandler=null;function v(De){return typeof Function<"u"&&De instanceof Function||Object.prototype.toString.call(De)==="[object Function]"}function T(De){var Xe,_t;for(_t in De)e(De,_t)&&(Xe=De[_t],v(Xe)?this[_t]=Xe:this["_"+_t]=Xe);this._config=De,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function c(De,Xe){var _t=f({},De),jt;for(jt in Xe)e(Xe,jt)&&(M(De[jt])&&M(Xe[jt])?(_t[jt]={},f(_t[jt],De[jt]),f(_t[jt],Xe[jt])):Xe[jt]!=null?_t[jt]=Xe[jt]:delete _t[jt]);for(jt in De)e(De,jt)&&!e(Xe,jt)&&M(De[jt])&&(_t[jt]=f({},_t[jt]));return _t}function E(De){De!=null&&this.set(De)}var A;Object.keys?A=Object.keys:A=function(De){var Xe,_t=[];for(Xe in De)e(De,Xe)&&_t.push(Xe);return _t};var C={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(De,Xe,_t){var jt=this._calendar[De]||this._calendar.sameElse;return v(jt)?jt.call(Xe,_t):jt}function P(De,Xe,_t){var jt=""+Math.abs(De),$t=Xe-jt.length,Cn=De>=0;return(Cn?_t?"+":"":"-")+Math.pow(10,Math.max(0,$t)).toString().substr(1)+jt}var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},F={};function W(De,Xe,_t,jt){var $t=jt;typeof jt=="string"&&($t=function(){return this[jt]()}),De&&(F[De]=$t),Xe&&(F[Xe[0]]=function(){return P($t.apply(this,arguments),Xe[1],Xe[2])}),_t&&(F[_t]=function(){return this.localeData().ordinal($t.apply(this,arguments),De)})}function B(De){return De.match(/\[[\s\S]/)?De.replace(/^\[|\]$/g,""):De.replace(/\\/g,"")}function U(De){var Xe=De.match(D),_t,jt;for(_t=0,jt=Xe.length;_t<jt;_t++)F[Xe[_t]]?Xe[_t]=F[Xe[_t]]:Xe[_t]=B(Xe[_t]);return function($t){var Cn="",lr;for(lr=0;lr<jt;lr++)Cn+=v(Xe[lr])?Xe[lr].call($t,De):Xe[lr];return Cn}}function H(De,Xe){return De.isValid()?(Xe=q(Xe,De.localeData()),V[Xe]=V[Xe]||U(Xe),V[Xe](De)):De.localeData().invalidDate()}function q(De,Xe){var _t=5;function jt($t){return Xe.longDateFormat($t)||$t}for(z.lastIndex=0;_t>=0&&z.test(De);)De=De.replace(z,jt),z.lastIndex=0,_t-=1;return De}var ee={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(De){var Xe=this._longDateFormat[De],_t=this._longDateFormat[De.toUpperCase()];return Xe||!_t?Xe:(this._longDateFormat[De]=_t.match(D).map(function(jt){return jt==="MMMM"||jt==="MM"||jt==="DD"||jt==="dddd"?jt.slice(1):jt}).join(""),this._longDateFormat[De])}var J="Invalid date";function Z(){return this._invalidDate}var $="%d",ne=/\d{1,2}/;function ae(De){return this._ordinal.replace("%d",De)}var oe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function se(De,Xe,_t,jt){var $t=this._relativeTime[_t];return v($t)?$t(De,Xe,_t,jt):$t.replace(/%d/i,De)}function ce(De,Xe){var _t=this._relativeTime[De>0?"future":"past"];return v(_t)?_t(Xe):_t.replace(/%s/i,Xe)}var me={};function xe(De,Xe){var _t=De.toLowerCase();me[_t]=me[_t+"s"]=me[Xe]=De}function ve(De){return typeof De=="string"?me[De]||me[De.toLowerCase()]:void 0}function fe(De){var Xe={},_t,jt;for(jt in De)e(De,jt)&&(_t=ve(jt),_t&&(Xe[_t]=De[jt]));return Xe}var pe={};function Le(De,Xe){pe[De]=Xe}function ye(De){var Xe=[],_t;for(_t in De)e(De,_t)&&Xe.push({unit:_t,priority:pe[_t]});return Xe.sort(function(jt,$t){return jt.priority-$t.priority}),Xe}function Ae(De){return De%4===0&&De%100!==0||De%400===0}function Me(De){return De<0?Math.ceil(De)||0:Math.floor(De)}function ke(De){var Xe=+De,_t=0;return Xe!==0&&isFinite(Xe)&&(_t=Me(Xe)),_t}function te(De,Xe){return function(_t){return _t!=null?(ge(this,De,_t),N.updateOffset(this,Xe),this):ue(this,De)}}function ue(De,Xe){return De.isValid()?De._d["get"+(De._isUTC?"UTC":"")+Xe]():NaN}function ge(De,Xe,_t){De.isValid()&&!isNaN(_t)&&(Xe==="FullYear"&&Ae(De.year())&&De.month()===1&&De.date()===29?(_t=ke(_t),De._d["set"+(De._isUTC?"UTC":"")+Xe](_t,De.month(),Pt(_t,De.month()))):De._d["set"+(De._isUTC?"UTC":"")+Xe](_t))}function we(De){return De=ve(De),v(this[De])?this[De]():this}function Ee(De,Xe){if(typeof De=="object"){De=fe(De);var _t=ye(De),jt,$t=_t.length;for(jt=0;jt<$t;jt++)this[_t[jt].unit](De[_t[jt].unit])}else if(De=ve(De),v(this[De]))return this[De](Xe);return this}var Be=/\d/,Re=/\d\d/,je=/\d{3}/,he=/\d{4}/,_e=/[+-]?\d{6}/,Te=/\d\d?/,Fe=/\d\d\d\d?/,Ye=/\d\d\d\d\d\d?/,Ge=/\d{1,3}/,ot=/\d{1,4}/,st=/[+-]?\d{1,6}/,ht=/\d+/,xt=/[+-]?\d+/,Ct=/Z|[+-]\d\d:?\d\d/gi,St=/Z|[+-]\d\d(?::?\d\d)?/gi,kt=/[+-]?\d+(\.\d{1,3})?/,Nt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Dt;Dt={};function Et(De,Xe,_t){Dt[De]=v(Xe)?Xe:function(jt,$t){return jt&&_t?_t:Xe}}function Wt(De,Xe){return e(Dt,De)?Dt[De](Xe._strict,Xe._locale):new RegExp(Ht(De))}function Ht(De){return Ke(De.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Xe,_t,jt,$t,Cn){return _t||jt||$t||Cn}))}function Ke(De){return De.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var $e={};function Ue(De,Xe){var _t,jt=Xe,$t;for(typeof De=="string"&&(De=[De]),a(Xe)&&(jt=function(Cn,lr){lr[Xe]=ke(Cn)}),$t=De.length,_t=0;_t<$t;_t++)$e[De[_t]]=jt}function nt(De,Xe){Ue(De,function(_t,jt,$t,Cn){$t._w=$t._w||{},Xe(_t,$t._w,$t,Cn)})}function ct(De,Xe,_t){Xe!=null&&e($e,De)&&$e[De](Xe,_t._a,_t,De)}var Oe=0,Ne=1,Qe=2,ut=3,pt=4,wt=5,Lt=6,It=7,yt=8;function Rt(De,Xe){return(De%Xe+Xe)%Xe}var bt;Array.prototype.indexOf?bt=Array.prototype.indexOf:bt=function(De){var Xe;for(Xe=0;Xe<this.length;++Xe)if(this[Xe]===De)return Xe;return-1};function Pt(De,Xe){if(isNaN(De)||isNaN(Xe))return NaN;var _t=Rt(Xe,12);return De+=(Xe-_t)/12,_t===1?Ae(De)?29:28:31-_t%7%2}W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(De){return this.localeData().monthsShort(this,De)}),W("MMMM",0,0,function(De){return this.localeData().months(this,De)}),xe("month","M"),Le("month",8),Et("M",Te),Et("MM",Te,Re),Et("MMM",function(De,Xe){return Xe.monthsShortRegex(De)}),Et("MMMM",function(De,Xe){return Xe.monthsRegex(De)}),Ue(["M","MM"],function(De,Xe){Xe[Ne]=ke(De)-1}),Ue(["MMM","MMMM"],function(De,Xe,_t,jt){var $t=_t._locale.monthsParse(De,jt,_t._strict);$t!=null?Xe[Ne]=$t:s(_t).invalidMonth=De});var Bt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Zt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Kt=Nt,tn=Nt;function on(De,Xe){return De?L(this._months)?this._months[De.month()]:this._months[(this._months.isFormat||Yt).test(Xe)?"format":"standalone"][De.month()]:L(this._months)?this._months:this._months.standalone}function _n(De,Xe){return De?L(this._monthsShort)?this._monthsShort[De.month()]:this._monthsShort[Yt.test(Xe)?"format":"standalone"][De.month()]:L(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fn(De,Xe,_t){var jt,$t,Cn,lr=De.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],jt=0;jt<12;++jt)Cn=l([2e3,jt]),this._shortMonthsParse[jt]=this.monthsShort(Cn,"").toLocaleLowerCase(),this._longMonthsParse[jt]=this.months(Cn,"").toLocaleLowerCase();return _t?Xe==="MMM"?($t=bt.call(this._shortMonthsParse,lr),$t!==-1?$t:null):($t=bt.call(this._longMonthsParse,lr),$t!==-1?$t:null):Xe==="MMM"?($t=bt.call(this._shortMonthsParse,lr),$t!==-1?$t:($t=bt.call(this._longMonthsParse,lr),$t!==-1?$t:null)):($t=bt.call(this._longMonthsParse,lr),$t!==-1?$t:($t=bt.call(this._shortMonthsParse,lr),$t!==-1?$t:null))}function Sn(De,Xe,_t){var jt,$t,Cn;if(this._monthsParseExact)return fn.call(this,De,Xe,_t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),jt=0;jt<12;jt++){if($t=l([2e3,jt]),_t&&!this._longMonthsParse[jt]&&(this._longMonthsParse[jt]=new RegExp("^"+this.months($t,"").replace(".","")+"$","i"),this._shortMonthsParse[jt]=new RegExp("^"+this.monthsShort($t,"").replace(".","")+"$","i")),!_t&&!this._monthsParse[jt]&&(Cn="^"+this.months($t,"")+"|^"+this.monthsShort($t,""),this._monthsParse[jt]=new RegExp(Cn.replace(".",""),"i")),_t&&Xe==="MMMM"&&this._longMonthsParse[jt].test(De))return jt;if(_t&&Xe==="MMM"&&this._shortMonthsParse[jt].test(De))return jt;if(!_t&&this._monthsParse[jt].test(De))return jt}}function Xn(De,Xe){var _t;if(!De.isValid())return De;if(typeof Xe=="string"){if(/^\d+$/.test(Xe))Xe=ke(Xe);else if(Xe=De.localeData().monthsParse(Xe),!a(Xe))return De}return _t=Math.min(De.date(),Pt(De.year(),Xe)),De._d["set"+(De._isUTC?"UTC":"")+"Month"](Xe,_t),De}function An(De){return De!=null?(Xn(this,De),N.updateOffset(this,!0),this):ue(this,"Month")}function un(){return Pt(this.year(),this.month())}function Tn(De){return this._monthsParseExact?(e(this,"_monthsRegex")||dn.call(this),De?this._monthsShortStrictRegex:this._monthsShortRegex):(e(this,"_monthsShortRegex")||(this._monthsShortRegex=Kt),this._monthsShortStrictRegex&&De?this._monthsShortStrictRegex:this._monthsShortRegex)}function gn(De){return this._monthsParseExact?(e(this,"_monthsRegex")||dn.call(this),De?this._monthsStrictRegex:this._monthsRegex):(e(this,"_monthsRegex")||(this._monthsRegex=tn),this._monthsStrictRegex&&De?this._monthsStrictRegex:this._monthsRegex)}function dn(){function De(lr,Ur){return Ur.length-lr.length}var Xe=[],_t=[],jt=[],$t,Cn;for($t=0;$t<12;$t++)Cn=l([2e3,$t]),Xe.push(this.monthsShort(Cn,"")),_t.push(this.months(Cn,"")),jt.push(this.months(Cn,"")),jt.push(this.monthsShort(Cn,""));for(Xe.sort(De),_t.sort(De),jt.sort(De),$t=0;$t<12;$t++)Xe[$t]=Ke(Xe[$t]),_t[$t]=Ke(_t[$t]);for($t=0;$t<24;$t++)jt[$t]=Ke(jt[$t]);this._monthsRegex=new RegExp("^("+jt.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+_t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Xe.join("|")+")","i")}W("Y",0,0,function(){var De=this.year();return De<=9999?P(De,4):"+"+De}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),xe("year","y"),Le("year",1),Et("Y",xt),Et("YY",Te,Re),Et("YYYY",ot,he),Et("YYYYY",st,_e),Et("YYYYYY",st,_e),Ue(["YYYYY","YYYYYY"],Oe),Ue("YYYY",function(De,Xe){Xe[Oe]=De.length===2?N.parseTwoDigitYear(De):ke(De)}),Ue("YY",function(De,Xe){Xe[Oe]=N.parseTwoDigitYear(De)}),Ue("Y",function(De,Xe){Xe[Oe]=parseInt(De,10)});function Rn(De){return Ae(De)?366:365}N.parseTwoDigitYear=function(De){return ke(De)+(ke(De)>68?1900:2e3)};var In=te("FullYear",!0);function Hn(){return Ae(this.year())}function Yn(De,Xe,_t,jt,$t,Cn,lr){var Ur;return De<100&&De>=0?(Ur=new Date(De+400,Xe,_t,jt,$t,Cn,lr),isFinite(Ur.getFullYear())&&Ur.setFullYear(De)):Ur=new Date(De,Xe,_t,jt,$t,Cn,lr),Ur}function Gn(De){var Xe,_t;return De<100&&De>=0?(_t=Array.prototype.slice.call(arguments),_t[0]=De+400,Xe=new Date(Date.UTC.apply(null,_t)),isFinite(Xe.getUTCFullYear())&&Xe.setUTCFullYear(De)):Xe=new Date(Date.UTC.apply(null,arguments)),Xe}function cr(De,Xe,_t){var jt=7+Xe-_t,$t=(7+Gn(De,0,jt).getUTCDay()-Xe)%7;return-$t+jt-1}function ir(De,Xe,_t,jt,$t){var Cn=(7+_t-jt)%7,lr=cr(De,jt,$t),Ur=1+7*(Xe-1)+Cn+lr,Yr,ci;return Ur<=0?(Yr=De-1,ci=Rn(Yr)+Ur):Ur>Rn(De)?(Yr=De+1,ci=Ur-Rn(De)):(Yr=De,ci=Ur),{year:Yr,dayOfYear:ci}}function Mr(De,Xe,_t){var jt=cr(De.year(),Xe,_t),$t=Math.floor((De.dayOfYear()-jt-1)/7)+1,Cn,lr;return $t<1?(lr=De.year()-1,Cn=$t+gr(lr,Xe,_t)):$t>gr(De.year(),Xe,_t)?(Cn=$t-gr(De.year(),Xe,_t),lr=De.year()+1):(lr=De.year(),Cn=$t),{week:Cn,year:lr}}function gr(De,Xe,_t){var jt=cr(De,Xe,_t),$t=cr(De+1,Xe,_t);return(Rn(De)-jt+$t)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),xe("week","w"),xe("isoWeek","W"),Le("week",5),Le("isoWeek",5),Et("w",Te),Et("ww",Te,Re),Et("W",Te),Et("WW",Te,Re),nt(["w","ww","W","WW"],function(De,Xe,_t,jt){Xe[jt.substr(0,1)]=ke(De)});function sr(De){return Mr(De,this._week.dow,this._week.doy).week}var xr={dow:0,doy:6};function kr(){return this._week.dow}function Qt(){return this._week.doy}function bn(De){var Xe=this.localeData().week(this);return De==null?Xe:this.add((De-Xe)*7,"d")}function Dn(De){var Xe=Mr(this,1,4).week;return De==null?Xe:this.add((De-Xe)*7,"d")}W("d",0,"do","day"),W("dd",0,0,function(De){return this.localeData().weekdaysMin(this,De)}),W("ddd",0,0,function(De){return this.localeData().weekdaysShort(this,De)}),W("dddd",0,0,function(De){return this.localeData().weekdays(this,De)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),xe("day","d"),xe("weekday","e"),xe("isoWeekday","E"),Le("day",11),Le("weekday",11),Le("isoWeekday",11),Et("d",Te),Et("e",Te),Et("E",Te),Et("dd",function(De,Xe){return Xe.weekdaysMinRegex(De)}),Et("ddd",function(De,Xe){return Xe.weekdaysShortRegex(De)}),Et("dddd",function(De,Xe){return Xe.weekdaysRegex(De)}),nt(["dd","ddd","dddd"],function(De,Xe,_t,jt){var $t=_t._locale.weekdaysParse(De,jt,_t._strict);$t!=null?Xe.d=$t:s(_t).invalidWeekday=De}),nt(["d","e","E"],function(De,Xe,_t,jt){Xe[jt]=ke(De)});function Pn(De,Xe){return typeof De!="string"?De:isNaN(De)?(De=Xe.weekdaysParse(De),typeof De=="number"?De:null):parseInt(De,10)}function qn(De,Xe){return typeof De=="string"?Xe.weekdaysParse(De)%7||7:isNaN(De)?null:De}function Qn(De,Xe){return De.slice(Xe,7).concat(De.slice(0,Xe))}var Jn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),an=Nt,zn=Nt,Vt=Nt;function en(De,Xe){var _t=L(this._weekdays)?this._weekdays:this._weekdays[De&&De!==!0&&this._weekdays.isFormat.test(Xe)?"format":"standalone"];return De===!0?Qn(_t,this._week.dow):De?_t[De.day()]:_t}function pn(De){return De===!0?Qn(this._weekdaysShort,this._week.dow):De?this._weekdaysShort[De.day()]:this._weekdaysShort}function Nn(De){return De===!0?Qn(this._weekdaysMin,this._week.dow):De?this._weekdaysMin[De.day()]:this._weekdaysMin}function Fn(De,Xe,_t){var jt,$t,Cn,lr=De.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],jt=0;jt<7;++jt)Cn=l([2e3,1]).day(jt),this._minWeekdaysParse[jt]=this.weekdaysMin(Cn,"").toLocaleLowerCase(),this._shortWeekdaysParse[jt]=this.weekdaysShort(Cn,"").toLocaleLowerCase(),this._weekdaysParse[jt]=this.weekdays(Cn,"").toLocaleLowerCase();return _t?Xe==="dddd"?($t=bt.call(this._weekdaysParse,lr),$t!==-1?$t:null):Xe==="ddd"?($t=bt.call(this._shortWeekdaysParse,lr),$t!==-1?$t:null):($t=bt.call(this._minWeekdaysParse,lr),$t!==-1?$t:null):Xe==="dddd"?($t=bt.call(this._weekdaysParse,lr),$t!==-1||($t=bt.call(this._shortWeekdaysParse,lr),$t!==-1)?$t:($t=bt.call(this._minWeekdaysParse,lr),$t!==-1?$t:null)):Xe==="ddd"?($t=bt.call(this._shortWeekdaysParse,lr),$t!==-1||($t=bt.call(this._weekdaysParse,lr),$t!==-1)?$t:($t=bt.call(this._minWeekdaysParse,lr),$t!==-1?$t:null)):($t=bt.call(this._minWeekdaysParse,lr),$t!==-1||($t=bt.call(this._weekdaysParse,lr),$t!==-1)?$t:($t=bt.call(this._shortWeekdaysParse,lr),$t!==-1?$t:null))}function On(De,Xe,_t){var jt,$t,Cn;if(this._weekdaysParseExact)return Fn.call(this,De,Xe,_t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),jt=0;jt<7;jt++){if($t=l([2e3,1]).day(jt),_t&&!this._fullWeekdaysParse[jt]&&(this._fullWeekdaysParse[jt]=new RegExp("^"+this.weekdays($t,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[jt]=new RegExp("^"+this.weekdaysShort($t,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[jt]=new RegExp("^"+this.weekdaysMin($t,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[jt]||(Cn="^"+this.weekdays($t,"")+"|^"+this.weekdaysShort($t,"")+"|^"+this.weekdaysMin($t,""),this._weekdaysParse[jt]=new RegExp(Cn.replace(".",""),"i")),_t&&Xe==="dddd"&&this._fullWeekdaysParse[jt].test(De))return jt;if(_t&&Xe==="ddd"&&this._shortWeekdaysParse[jt].test(De))return jt;if(_t&&Xe==="dd"&&this._minWeekdaysParse[jt].test(De))return jt;if(!_t&&this._weekdaysParse[jt].test(De))return jt}}function mn(De){if(!this.isValid())return De!=null?this:NaN;var Xe=this._isUTC?this._d.getUTCDay():this._d.getDay();return De!=null?(De=Pn(De,this.localeData()),this.add(De-Xe,"d")):Xe}function kn(De){if(!this.isValid())return De!=null?this:NaN;var Xe=(this.day()+7-this.localeData()._week.dow)%7;return De==null?Xe:this.add(De-Xe,"d")}function vn(De){if(!this.isValid())return De!=null?this:NaN;if(De!=null){var Xe=qn(De,this.localeData());return this.day(this.day()%7?Xe:Xe-7)}else return this.day()||7}function xn(De){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||$n.call(this),De?this._weekdaysStrictRegex:this._weekdaysRegex):(e(this,"_weekdaysRegex")||(this._weekdaysRegex=an),this._weekdaysStrictRegex&&De?this._weekdaysStrictRegex:this._weekdaysRegex)}function En(De){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||$n.call(this),De?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zn),this._weekdaysShortStrictRegex&&De?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vn(De){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||$n.call(this),De?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vt),this._weekdaysMinStrictRegex&&De?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $n(){function De(ti,Fi){return Fi.length-ti.length}var Xe=[],_t=[],jt=[],$t=[],Cn,lr,Ur,Yr,ci;for(Cn=0;Cn<7;Cn++)lr=l([2e3,1]).day(Cn),Ur=Ke(this.weekdaysMin(lr,"")),Yr=Ke(this.weekdaysShort(lr,"")),ci=Ke(this.weekdays(lr,"")),Xe.push(Ur),_t.push(Yr),jt.push(ci),$t.push(Ur),$t.push(Yr),$t.push(ci);Xe.sort(De),_t.sort(De),jt.sort(De),$t.sort(De),this._weekdaysRegex=new RegExp("^("+$t.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+jt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+_t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Xe.join("|")+")","i")}function rr(){return this.hours()%12||12}function er(){return this.hours()||24}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,rr),W("k",["kk",2],0,er),W("hmm",0,0,function(){return""+rr.apply(this)+P(this.minutes(),2)}),W("hmmss",0,0,function(){return""+rr.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)});function pr(De,Xe){W(De,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Xe)})}pr("a",!0),pr("A",!1),xe("hour","h"),Le("hour",13);function fr(De,Xe){return Xe._meridiemParse}Et("a",fr),Et("A",fr),Et("H",Te),Et("h",Te),Et("k",Te),Et("HH",Te,Re),Et("hh",Te,Re),Et("kk",Te,Re),Et("hmm",Fe),Et("hmmss",Ye),Et("Hmm",Fe),Et("Hmmss",Ye),Ue(["H","HH"],ut),Ue(["k","kk"],function(De,Xe,_t){var jt=ke(De);Xe[ut]=jt===24?0:jt}),Ue(["a","A"],function(De,Xe,_t){_t._isPm=_t._locale.isPM(De),_t._meridiem=De}),Ue(["h","hh"],function(De,Xe,_t){Xe[ut]=ke(De),s(_t).bigHour=!0}),Ue("hmm",function(De,Xe,_t){var jt=De.length-2;Xe[ut]=ke(De.substr(0,jt)),Xe[pt]=ke(De.substr(jt)),s(_t).bigHour=!0}),Ue("hmmss",function(De,Xe,_t){var jt=De.length-4,$t=De.length-2;Xe[ut]=ke(De.substr(0,jt)),Xe[pt]=ke(De.substr(jt,2)),Xe[wt]=ke(De.substr($t)),s(_t).bigHour=!0}),Ue("Hmm",function(De,Xe,_t){var jt=De.length-2;Xe[ut]=ke(De.substr(0,jt)),Xe[pt]=ke(De.substr(jt))}),Ue("Hmmss",function(De,Xe,_t){var jt=De.length-4,$t=De.length-2;Xe[ut]=ke(De.substr(0,jt)),Xe[pt]=ke(De.substr(jt,2)),Xe[wt]=ke(De.substr($t))});function vr(De){return(De+"").toLowerCase().charAt(0)==="p"}var mr=/[ap]\.?m?\.?/i,br=te("Hours",!0);function Or(De,Xe,_t){return De>11?_t?"pm":"PM":_t?"am":"AM"}var Lr={calendar:C,longDateFormat:ee,invalidDate:J,ordinal:$,dayOfMonthOrdinalParse:ne,relativeTime:oe,months:Bt,monthsShort:Zt,week:xr,weekdays:Jn,weekdaysMin:yr,weekdaysShort:nr,meridiemParse:mr},Tr={},dr={},Pr;function Xr(De,Xe){var _t,jt=Math.min(De.length,Xe.length);for(_t=0;_t<jt;_t+=1)if(De[_t]!==Xe[_t])return _t;return jt}function gi(De){return De&&De.toLowerCase().replace("_","-")}function Ii(De){for(var Xe=0,_t,jt,$t,Cn;Xe<De.length;){for(Cn=gi(De[Xe]).split("-"),_t=Cn.length,jt=gi(De[Xe+1]),jt=jt?jt.split("-"):null;_t>0;){if($t=ra(Cn.slice(0,_t).join("-")),$t)return $t;if(jt&&jt.length>=_t&&Xr(Cn,jt)>=_t-1)break;_t--}Xe++}return Pr}function Ri(De){return De.match("^[^/\\\\]*$")!=null}function ra(De){var Xe=null,_t;if(Tr[De]===void 0&&typeof wp<"u"&&wp&&wp.exports&&Ri(De))try{Xe=Pr._abbr,_t=xb,_t("./locale/"+De),Oi(Xe)}catch{Tr[De]=null}return Tr[De]}function Oi(De,Xe){var _t;return De&&(w(Xe)?_t=ia(De):_t=ki(De,Xe),_t?Pr=_t:typeof console<"u"&&console.warn&&console.warn("Locale "+De+" not found. Did you forget to load it?")),Pr._abbr}function ki(De,Xe){if(Xe!==null){var _t,jt=Lr;if(Xe.abbr=De,Tr[De]!=null)g("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),jt=Tr[De]._config;else if(Xe.parentLocale!=null)if(Tr[Xe.parentLocale]!=null)jt=Tr[Xe.parentLocale]._config;else if(_t=ra(Xe.parentLocale),_t!=null)jt=_t._config;else return dr[Xe.parentLocale]||(dr[Xe.parentLocale]=[]),dr[Xe.parentLocale].push({name:De,config:Xe}),null;return Tr[De]=new E(c(jt,Xe)),dr[De]&&dr[De].forEach(function($t){ki($t.name,$t.config)}),Oi(De),Tr[De]}else return delete Tr[De],null}function Pa(De,Xe){if(Xe!=null){var _t,jt,$t=Lr;Tr[De]!=null&&Tr[De].parentLocale!=null?Tr[De].set(c(Tr[De]._config,Xe)):(jt=ra(De),jt!=null&&($t=jt._config),Xe=c($t,Xe),jt==null&&(Xe.abbr=De),_t=new E(Xe),_t.parentLocale=Tr[De],Tr[De]=_t),Oi(De)}else Tr[De]!=null&&(Tr[De].parentLocale!=null?(Tr[De]=Tr[De].parentLocale,De===Oi()&&Oi(De)):Tr[De]!=null&&delete Tr[De]);return Tr[De]}function ia(De){var Xe;if(De&&De._locale&&De._locale._abbr&&(De=De._locale._abbr),!De)return Pr;if(!L(De)){if(Xe=ra(De),Xe)return Xe;De=[De]}return Ii(De)}function Wo(){return A(Tr)}function us(De){var Xe,_t=De._a;return _t&&s(De).overflow===-2&&(Xe=_t[Ne]<0||_t[Ne]>11?Ne:_t[Qe]<1||_t[Qe]>Pt(_t[Oe],_t[Ne])?Qe:_t[ut]<0||_t[ut]>24||_t[ut]===24&&(_t[pt]!==0||_t[wt]!==0||_t[Lt]!==0)?ut:_t[pt]<0||_t[pt]>59?pt:_t[wt]<0||_t[wt]>59?wt:_t[Lt]<0||_t[Lt]>999?Lt:-1,s(De)._overflowDayOfYear&&(Xe<Oe||Xe>Qe)&&(Xe=Qe),s(De)._overflowWeeks&&Xe===-1&&(Xe=It),s(De)._overflowWeekday&&Xe===-1&&(Xe=yt),s(De).overflow=Xe),De}var yu=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nl=/Z|[+-]\d\d(?::?\d\d)?/,La=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ua=/^\/?Date\((-?\d+)/i,bl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Va={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ha(De){var Xe,_t,jt=De._i,$t=yu.exec(jt)||$l.exec(jt),Cn,lr,Ur,Yr,ci=La.length,ti=xl.length;if($t){for(s(De).iso=!0,Xe=0,_t=ci;Xe<_t;Xe++)if(La[Xe][1].exec($t[1])){lr=La[Xe][0],Cn=La[Xe][2]!==!1;break}if(lr==null){De._isValid=!1;return}if($t[3]){for(Xe=0,_t=ti;Xe<_t;Xe++)if(xl[Xe][1].exec($t[3])){Ur=($t[2]||" ")+xl[Xe][0];break}if(Ur==null){De._isValid=!1;return}}if(!Cn&&Ur!=null){De._isValid=!1;return}if($t[4])if(nl.exec($t[4]))Yr="Z";else{De._isValid=!1;return}De._f=lr+(Ur||"")+(Yr||""),Ql(De)}else De._isValid=!1}function cs(De,Xe,_t,jt,$t,Cn){var lr=[xi(De),Zt.indexOf(Xe),parseInt(_t,10),parseInt(jt,10),parseInt($t,10)];return Cn&&lr.push(parseInt(Cn,10)),lr}function xi(De){var Xe=parseInt(De,10);return Xe<=49?2e3+Xe:Xe<=999?1900+Xe:Xe}function fs(De){return De.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function co(De,Xe,_t){if(De){var jt=nr.indexOf(De),$t=new Date(Xe[0],Xe[1],Xe[2]).getDay();if(jt!==$t)return s(_t).weekdayMismatch=!0,_t._isValid=!1,!1}return!0}function To(De,Xe,_t){if(De)return Va[De];if(Xe)return 0;var jt=parseInt(_t,10),$t=jt%100,Cn=(jt-$t)/100;return Cn*60+$t}function Ao(De){var Xe=bl.exec(fs(De._i)),_t;if(Xe){if(_t=cs(Xe[4],Xe[3],Xe[2],Xe[5],Xe[6],Xe[7]),!co(Xe[1],_t,De))return;De._a=_t,De._tzm=To(Xe[8],Xe[9],Xe[10]),De._d=Gn.apply(null,De._a),De._d.setUTCMinutes(De._d.getUTCMinutes()-De._tzm),s(De).rfc2822=!0}else De._isValid=!1}function _l(De){var Xe=ua.exec(De._i);if(Xe!==null){De._d=new Date(+Xe[1]);return}if(Ha(De),De._isValid===!1)delete De._isValid;else return;if(Ao(De),De._isValid===!1)delete De._isValid;else return;De._strict?De._isValid=!1:N.createFromInputFallback(De)}N.createFromInputFallback=d("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(De){De._d=new Date(De._i+(De._useUTC?" UTC":""))});function Ps(De,Xe,_t){return De??Xe??_t}function Go(De){var Xe=new Date(N.now());return De._useUTC?[Xe.getUTCFullYear(),Xe.getUTCMonth(),Xe.getUTCDate()]:[Xe.getFullYear(),Xe.getMonth(),Xe.getDate()]}function zl(De){var Xe,_t,jt=[],$t,Cn,lr;if(!De._d){for($t=Go(De),De._w&&De._a[Qe]==null&&De._a[Ne]==null&&xu(De),De._dayOfYear!=null&&(lr=Ps(De._a[Oe],$t[Oe]),(De._dayOfYear>Rn(lr)||De._dayOfYear===0)&&(s(De)._overflowDayOfYear=!0),_t=Gn(lr,0,De._dayOfYear),De._a[Ne]=_t.getUTCMonth(),De._a[Qe]=_t.getUTCDate()),Xe=0;Xe<3&&De._a[Xe]==null;++Xe)De._a[Xe]=jt[Xe]=$t[Xe];for(;Xe<7;Xe++)De._a[Xe]=jt[Xe]=De._a[Xe]==null?Xe===2?1:0:De._a[Xe];De._a[ut]===24&&De._a[pt]===0&&De._a[wt]===0&&De._a[Lt]===0&&(De._nextDay=!0,De._a[ut]=0),De._d=(De._useUTC?Gn:Yn).apply(null,jt),Cn=De._useUTC?De._d.getUTCDay():De._d.getDay(),De._tzm!=null&&De._d.setUTCMinutes(De._d.getUTCMinutes()-De._tzm),De._nextDay&&(De._a[ut]=24),De._w&&typeof De._w.d<"u"&&De._w.d!==Cn&&(s(De).weekdayMismatch=!0)}}function xu(De){var Xe,_t,jt,$t,Cn,lr,Ur,Yr,ci;Xe=De._w,Xe.GG!=null||Xe.W!=null||Xe.E!=null?(Cn=1,lr=4,_t=Ps(Xe.GG,De._a[Oe],Mr(Bi(),1,4).year),jt=Ps(Xe.W,1),$t=Ps(Xe.E,1),($t<1||$t>7)&&(Yr=!0)):(Cn=De._locale._week.dow,lr=De._locale._week.doy,ci=Mr(Bi(),Cn,lr),_t=Ps(Xe.gg,De._a[Oe],ci.year),jt=Ps(Xe.w,ci.week),Xe.d!=null?($t=Xe.d,($t<0||$t>6)&&(Yr=!0)):Xe.e!=null?($t=Xe.e+Cn,(Xe.e<0||Xe.e>6)&&(Yr=!0)):$t=Cn),jt<1||jt>gr(_t,Cn,lr)?s(De)._overflowWeeks=!0:Yr!=null?s(De)._overflowWeekday=!0:(Ur=ir(_t,jt,$t,Cn,lr),De._a[Oe]=Ur.year,De._dayOfYear=Ur.dayOfYear)}N.ISO_8601=function(){},N.RFC_2822=function(){};function Ql(De){if(De._f===N.ISO_8601){Ha(De);return}if(De._f===N.RFC_2822){Ao(De);return}De._a=[],s(De).empty=!0;var Xe=""+De._i,_t,jt,$t,Cn,lr,Ur=Xe.length,Yr=0,ci,ti;for($t=q(De._f,De._locale).match(D)||[],ti=$t.length,_t=0;_t<ti;_t++)Cn=$t[_t],jt=(Xe.match(Wt(Cn,De))||[])[0],jt&&(lr=Xe.substr(0,Xe.indexOf(jt)),lr.length>0&&s(De).unusedInput.push(lr),Xe=Xe.slice(Xe.indexOf(jt)+jt.length),Yr+=jt.length),F[Cn]?(jt?s(De).empty=!1:s(De).unusedTokens.push(Cn),ct(Cn,jt,De)):De._strict&&!jt&&s(De).unusedTokens.push(Cn);s(De).charsLeftOver=Ur-Yr,Xe.length>0&&s(De).unusedInput.push(Xe),De._a[ut]<=12&&s(De).bigHour===!0&&De._a[ut]>0&&(s(De).bigHour=void 0),s(De).parsedDateParts=De._a.slice(0),s(De).meridiem=De._meridiem,De._a[ut]=eu(De._locale,De._a[ut],De._meridiem),ci=s(De).era,ci!==null&&(De._a[Oe]=De._locale.erasConvertYear(ci,De._a[Oe])),zl(De),us(De)}function eu(De,Xe,_t){var jt;return _t==null?Xe:De.meridiemHour!=null?De.meridiemHour(Xe,_t):(De.isPM!=null&&(jt=De.isPM(_t),jt&&Xe<12&&(Xe+=12),!jt&&Xe===12&&(Xe=0)),Xe)}function bu(De){var Xe,_t,jt,$t,Cn,lr,Ur=!1,Yr=De._f.length;if(Yr===0){s(De).invalidFormat=!0,De._d=new Date(NaN);return}for($t=0;$t<Yr;$t++)Cn=0,lr=!1,Xe=p({},De),De._useUTC!=null&&(Xe._useUTC=De._useUTC),Xe._f=De._f[$t],Ql(Xe),n(Xe)&&(lr=!0),Cn+=s(Xe).charsLeftOver,Cn+=s(Xe).unusedTokens.length*10,s(Xe).score=Cn,Ur?Cn<jt&&(jt=Cn,_t=Xe):(jt==null||Cn<jt||lr)&&(jt=Cn,_t=Xe,lr&&(Ur=!0));f(De,_t||Xe)}function tu(De){if(!De._d){var Xe=fe(De._i),_t=Xe.day===void 0?Xe.date:Xe.day;De._a=y([Xe.year,Xe.month,_t,Xe.hour,Xe.minute,Xe.second,Xe.millisecond],function(jt){return jt&&parseInt(jt,10)}),zl(De)}}function Yo(De){var Xe=new h(us(Ro(De)));return Xe._nextDay&&(Xe.add(1,"d"),Xe._nextDay=void 0),Xe}function Ro(De){var Xe=De._i,_t=De._f;return De._locale=De._locale||ia(De._l),Xe===null||_t===void 0&&Xe===""?r({nullInput:!0}):(typeof Xe=="string"&&(De._i=Xe=De._locale.preparse(Xe)),_(Xe)?new h(us(Xe)):(k(Xe)?De._d=Xe:L(_t)?bu(De):_t?Ql(De):rl(De),n(De)||(De._d=null),De))}function rl(De){var Xe=De._i;w(Xe)?De._d=new Date(N.now()):k(Xe)?De._d=new Date(Xe.valueOf()):typeof Xe=="string"?_l(De):L(Xe)?(De._a=y(Xe.slice(0),function(_t){return parseInt(_t,10)}),zl(De)):M(Xe)?tu(De):a(Xe)?De._d=new Date(Xe):N.createFromInputFallback(De)}function zo(De,Xe,_t,jt,$t){var Cn={};return(Xe===!0||Xe===!1)&&(jt=Xe,Xe=void 0),(_t===!0||_t===!1)&&(jt=_t,_t=void 0),(M(De)&&b(De)||L(De)&&De.length===0)&&(De=void 0),Cn._isAMomentObject=!0,Cn._useUTC=Cn._isUTC=$t,Cn._l=_t,Cn._i=De,Cn._f=Xe,Cn._strict=jt,Yo(Cn)}function Bi(De,Xe,_t,jt){return zo(De,Xe,_t,jt,!1)}var nu=d("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var De=Bi.apply(null,arguments);return this.isValid()&&De.isValid()?De<this?this:De:r()}),Is=d("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var De=Bi.apply(null,arguments);return this.isValid()&&De.isValid()?De>this?this:De:r()});function wl(De,Xe){var _t,jt;if(Xe.length===1&&L(Xe[0])&&(Xe=Xe[0]),!Xe.length)return Bi();for(_t=Xe[0],jt=1;jt<Xe.length;++jt)(!Xe[jt].isValid()||Xe[jt][De](_t))&&(_t=Xe[jt]);return _t}function ps(){var De=[].slice.call(arguments,0);return wl("isBefore",De)}function il(){var De=[].slice.call(arguments,0);return wl("isAfter",De)}var Ds=function(){return Date.now?Date.now():+new Date},Qa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function bi(De){var Xe,_t=!1,jt,$t=Qa.length;for(Xe in De)if(e(De,Xe)&&!(bt.call(Qa,Xe)!==-1&&(De[Xe]==null||!isNaN(De[Xe]))))return!1;for(jt=0;jt<$t;++jt)if(De[Qa[jt]]){if(_t)return!1;parseFloat(De[Qa[jt]])!==ke(De[Qa[jt]])&&(_t=!0)}return!0}function hs(){return this._isValid}function Nu(){return Ia(NaN)}function Rs(De){var Xe=fe(De),_t=Xe.year||0,jt=Xe.quarter||0,$t=Xe.month||0,Cn=Xe.week||Xe.isoWeek||0,lr=Xe.day||0,Ur=Xe.hour||0,Yr=Xe.minute||0,ci=Xe.second||0,ti=Xe.millisecond||0;this._isValid=bi(Xe),this._milliseconds=+ti+ci*1e3+Yr*6e4+Ur*1e3*60*60,this._days=+lr+Cn*7,this._months=+$t+jt*3+_t*12,this._data={},this._locale=ia(),this._bubble()}function ds(De){return De instanceof Rs}function Zo(De){return De<0?Math.round(-1*De)*-1:Math.round(De)}function al(De,Xe,_t){var jt=Math.min(De.length,Xe.length),$t=Math.abs(De.length-Xe.length),Cn=0,lr;for(lr=0;lr<jt;lr++)(_t&&De[lr]!==Xe[lr]||!_t&&ke(De[lr])!==ke(Xe[lr]))&&Cn++;return Cn+$t}function eo(De,Xe){W(De,0,0,function(){var _t=this.utcOffset(),jt="+";return _t<0&&(_t=-_t,jt="-"),jt+P(~~(_t/60),2)+Xe+P(~~_t%60,2)})}eo("Z",":"),eo("ZZ",""),Et("Z",St),Et("ZZ",St),Ue(["Z","ZZ"],function(De,Xe,_t){_t._useUTC=!0,_t._tzm=zs(St,De)});var ru=/([\+\-]|\d\d)/gi;function zs(De,Xe){var _t=(Xe||"").match(De),jt,$t,Cn;return _t===null?null:(jt=_t[_t.length-1]||[],$t=(jt+"").match(ru)||["-",0,0],Cn=+($t[1]*60)+ke($t[2]),Cn===0?0:$t[0]==="+"?Cn:-Cn)}function gs(De,Xe){var _t,jt;return Xe._isUTC?(_t=Xe.clone(),jt=(_(De)||k(De)?De.valueOf():Bi(De).valueOf())-_t.valueOf(),_t._d.setTime(_t._d.valueOf()+jt),N.updateOffset(_t,!1),_t):Bi(De).local()}function Fs(De){return-Math.round(De._d.getTimezoneOffset())}N.updateOffset=function(){};function Ns(De,Xe,_t){var jt=this._offset||0,$t;if(!this.isValid())return De!=null?this:NaN;if(De!=null){if(typeof De=="string"){if(De=zs(St,De),De===null)return this}else Math.abs(De)<16&&!_t&&(De=De*60);return!this._isUTC&&Xe&&($t=Fs(this)),this._offset=De,this._isUTC=!0,$t!=null&&this.add($t,"m"),jt!==De&&(!Xe||this._changeInProgress?Xo(this,Ia(De-jt,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,N.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?jt:Fs(this)}function Bs(De,Xe){return De!=null?(typeof De!="string"&&(De=-De),this.utcOffset(De,Xe),this):-this.utcOffset()}function ol(De){return this.utcOffset(0,De)}function kl(De){return this._isUTC&&(this.utcOffset(0,De),this._isUTC=!1,De&&this.subtract(Fs(this),"m")),this}function Tl(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var De=zs(Ct,this._i);De!=null?this.utcOffset(De):this.utcOffset(0,!0)}return this}function fo(De){return this.isValid()?(De=De?Bi(De).utcOffset():0,(this.utcOffset()-De)%60===0):!1}function Al(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ml(){if(!w(this._isDSTShifted))return this._isDSTShifted;var De={},Xe;return p(De,this),De=Ro(De),De._a?(Xe=De._isUTC?l(De._a):Bi(De._a),this._isDSTShifted=this.isValid()&&al(De._a,Xe.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function iu(){return this.isValid()?!this._isUTC:!1}function ms(){return this.isValid()?this._isUTC:!1}function Sl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var El=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,au=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ia(De,Xe){var _t=De,jt=null,$t,Cn,lr;return ds(De)?_t={ms:De._milliseconds,d:De._days,M:De._months}:a(De)||!isNaN(+De)?(_t={},Xe?_t[Xe]=+De:_t.milliseconds=+De):(jt=El.exec(De))?($t=jt[1]==="-"?-1:1,_t={y:0,d:ke(jt[Qe])*$t,h:ke(jt[ut])*$t,m:ke(jt[pt])*$t,s:ke(jt[wt])*$t,ms:ke(Zo(jt[Lt]*1e3))*$t}):(jt=au.exec(De))?($t=jt[1]==="-"?-1:1,_t={y:po(jt[2],$t),M:po(jt[3],$t),w:po(jt[4],$t),d:po(jt[5],$t),h:po(jt[6],$t),m:po(jt[7],$t),s:po(jt[8],$t)}):_t==null?_t={}:typeof _t=="object"&&("from"in _t||"to"in _t)&&(lr=js(Bi(_t.from),Bi(_t.to)),_t={},_t.ms=lr.milliseconds,_t.M=lr.months),Cn=new Rs(_t),ds(De)&&e(De,"_locale")&&(Cn._locale=De._locale),ds(De)&&e(De,"_isValid")&&(Cn._isValid=De._isValid),Cn}Ia.fn=Rs.prototype,Ia.invalid=Nu;function po(De,Xe){var _t=De&&parseFloat(De.replace(",","."));return(isNaN(_t)?0:_t)*Xe}function vs(De,Xe){var _t={};return _t.months=Xe.month()-De.month()+(Xe.year()-De.year())*12,De.clone().add(_t.months,"M").isAfter(Xe)&&--_t.months,_t.milliseconds=+Xe-+De.clone().add(_t.months,"M"),_t}function js(De,Xe){var _t;return De.isValid()&&Xe.isValid()?(Xe=gs(Xe,De),De.isBefore(Xe)?_t=vs(De,Xe):(_t=vs(Xe,De),_t.milliseconds=-_t.milliseconds,_t.months=-_t.months),_t):{milliseconds:0,months:0}}function Mi(De,Xe){return function(_t,jt){var $t,Cn;return jt!==null&&!isNaN(+jt)&&(g(Xe,"moment()."+Xe+"(period, number) is deprecated. Please use moment()."+Xe+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Cn=_t,_t=jt,jt=Cn),$t=Ia(_t,jt),Xo(this,$t,De),this}}function Xo(De,Xe,_t,jt){var $t=Xe._milliseconds,Cn=Zo(Xe._days),lr=Zo(Xe._months);De.isValid()&&(jt=jt??!0,lr&&Xn(De,ue(De,"Month")+lr*_t),Cn&&ge(De,"Date",ue(De,"Date")+Cn*_t),$t&&De._d.setTime(De._d.valueOf()+$t*_t),jt&&N.updateOffset(De,Cn||lr))}var ys=Mi(1,"add"),wa=Mi(-1,"subtract");function hi(De){return typeof De=="string"||De instanceof String}function mi(De){return _(De)||k(De)||hi(De)||a(De)||Fo(De)||Jo(De)||De===null||De===void 0}function Jo(De){var Xe=M(De)&&!b(De),_t=!1,jt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],$t,Cn,lr=jt.length;for($t=0;$t<lr;$t+=1)Cn=jt[$t],_t=_t||e(De,Cn);return Xe&&_t}function Fo(De){var Xe=L(De),_t=!1;return Xe&&(_t=De.filter(function(jt){return!a(jt)&&hi(De)}).length===0),Xe&&_t}function Fl(De){var Xe=M(De)&&!b(De),_t=!1,jt=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],$t,Cn;for($t=0;$t<jt.length;$t+=1)Cn=jt[$t],_t=_t||e(De,Cn);return Xe&&_t}function ou(De,Xe){var _t=De.diff(Xe,"days",!0);return _t<-6?"sameElse":_t<-1?"lastWeek":_t<0?"lastDay":_t<1?"sameDay":_t<2?"nextDay":_t<7?"nextWeek":"sameElse"}function Us(De,Xe){arguments.length===1&&(arguments[0]?mi(arguments[0])?(De=arguments[0],Xe=void 0):Fl(arguments[0])&&(Xe=arguments[0],De=void 0):(De=void 0,Xe=void 0));var _t=De||Bi(),jt=gs(_t,this).startOf("day"),$t=N.calendarFormat(this,jt)||"sameElse",Cn=Xe&&(v(Xe[$t])?Xe[$t].call(this,_t):Xe[$t]);return this.format(Cn||this.localeData().calendar($t,this,Bi(_t)))}function su(){return new h(this)}function Vs(De,Xe){var _t=_(De)?De:Bi(De);return this.isValid()&&_t.isValid()?(Xe=ve(Xe)||"millisecond",Xe==="millisecond"?this.valueOf()>_t.valueOf():_t.valueOf()<this.clone().startOf(Xe).valueOf()):!1}function Ko(De,Xe){var _t=_(De)?De:Bi(De);return this.isValid()&&_t.isValid()?(Xe=ve(Xe)||"millisecond",Xe==="millisecond"?this.valueOf()<_t.valueOf():this.clone().endOf(Xe).valueOf()<_t.valueOf()):!1}function Hs(De,Xe,_t,jt){var $t=_(De)?De:Bi(De),Cn=_(Xe)?Xe:Bi(Xe);return this.isValid()&&$t.isValid()&&Cn.isValid()?(jt=jt||"()",(jt[0]==="("?this.isAfter($t,_t):!this.isBefore($t,_t))&&(jt[1]===")"?this.isBefore(Cn,_t):!this.isAfter(Cn,_t))):!1}function ji(De,Xe){var _t=_(De)?De:Bi(De),jt;return this.isValid()&&_t.isValid()?(Xe=ve(Xe)||"millisecond",Xe==="millisecond"?this.valueOf()===_t.valueOf():(jt=_t.valueOf(),this.clone().startOf(Xe).valueOf()<=jt&&jt<=this.clone().endOf(Xe).valueOf())):!1}function No(De,Xe){return this.isSame(De,Xe)||this.isAfter(De,Xe)}function qs(De,Xe){return this.isSame(De,Xe)||this.isBefore(De,Xe)}function aa(De,Xe,_t){var jt,$t,Cn;if(!this.isValid())return NaN;if(jt=gs(De,this),!jt.isValid())return NaN;switch($t=(jt.utcOffset()-this.utcOffset())*6e4,Xe=ve(Xe),Xe){case"year":Cn=ca(this,jt)/12;break;case"month":Cn=ca(this,jt);break;case"quarter":Cn=ca(this,jt)/3;break;case"second":Cn=(this-jt)/1e3;break;case"minute":Cn=(this-jt)/6e4;break;case"hour":Cn=(this-jt)/36e5;break;case"day":Cn=(this-jt-$t)/864e5;break;case"week":Cn=(this-jt-$t)/6048e5;break;default:Cn=this-jt}return _t?Cn:Me(Cn)}function ca(De,Xe){if(De.date()<Xe.date())return-ca(Xe,De);var _t=(Xe.year()-De.year())*12+(Xe.month()-De.month()),jt=De.clone().add(_t,"months"),$t,Cn;return Xe-jt<0?($t=De.clone().add(_t-1,"months"),Cn=(Xe-jt)/(jt-$t)):($t=De.clone().add(_t+1,"months"),Cn=(Xe-jt)/($t-jt)),-(_t+Cn)||0}N.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",N.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ka(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function va(De){if(!this.isValid())return null;var Xe=De!==!0,_t=Xe?this.clone().utc():this;return _t.year()<0||_t.year()>9999?H(_t,Xe?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):v(Date.prototype.toISOString)?Xe?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",H(_t,"Z")):H(_t,Xe?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Da(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var De="moment",Xe="",_t,jt,$t,Cn;return this.isLocal()||(De=this.utcOffset()===0?"moment.utc":"moment.parseZone",Xe="Z"),_t="["+De+'("]',jt=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",$t="-MM-DD[T]HH:mm:ss.SSS",Cn=Xe+'[")]',this.format(_t+jt+$t+Cn)}function xs(De){De||(De=this.isUtc()?N.defaultFormatUtc:N.defaultFormat);var Xe=H(this,De);return this.localeData().postformat(Xe)}function ho(De,Xe){return this.isValid()&&(_(De)&&De.isValid()||Bi(De).isValid())?Ia({to:this,from:De}).locale(this.locale()).humanize(!Xe):this.localeData().invalidDate()}function fa(De){return this.from(Bi(),De)}function qa(De,Xe){return this.isValid()&&(_(De)&&De.isValid()||Bi(De).isValid())?Ia({from:this,to:De}).locale(this.locale()).humanize(!Xe):this.localeData().invalidDate()}function Nl(De){return this.to(Bi(),De)}function Cl(De){var Xe;return De===void 0?this._locale._abbr:(Xe=ia(De),Xe!=null&&(this._locale=Xe),this)}var Ta=d("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(De){return De===void 0?this.localeData():this.locale(De)});function Ir(){return this._locale}var Bo=1e3,pa=60*Bo,Ws=60*pa,Gs=(365*400+97)*24*Ws;function Mo(De,Xe){return(De%Xe+Xe)%Xe}function Ys(De,Xe,_t){return De<100&&De>=0?new Date(De+400,Xe,_t)-Gs:new Date(De,Xe,_t).valueOf()}function zr(De,Xe,_t){return De<100&&De>=0?Date.UTC(De+400,Xe,_t)-Gs:Date.UTC(De,Xe,_t)}function sl(De){var Xe,_t;if(De=ve(De),De===void 0||De==="millisecond"||!this.isValid())return this;switch(_t=this._isUTC?zr:Ys,De){case"year":Xe=_t(this.year(),0,1);break;case"quarter":Xe=_t(this.year(),this.month()-this.month()%3,1);break;case"month":Xe=_t(this.year(),this.month(),1);break;case"week":Xe=_t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Xe=_t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Xe=_t(this.year(),this.month(),this.date());break;case"hour":Xe=this._d.valueOf(),Xe-=Mo(Xe+(this._isUTC?0:this.utcOffset()*pa),Ws);break;case"minute":Xe=this._d.valueOf(),Xe-=Mo(Xe,pa);break;case"second":Xe=this._d.valueOf(),Xe-=Mo(Xe,Bo);break}return this._d.setTime(Xe),N.updateOffset(this,!0),this}function go(De){var Xe,_t;if(De=ve(De),De===void 0||De==="millisecond"||!this.isValid())return this;switch(_t=this._isUTC?zr:Ys,De){case"year":Xe=_t(this.year()+1,0,1)-1;break;case"quarter":Xe=_t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Xe=_t(this.year(),this.month()+1,1)-1;break;case"week":Xe=_t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Xe=_t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Xe=_t(this.year(),this.month(),this.date()+1)-1;break;case"hour":Xe=this._d.valueOf(),Xe+=Ws-Mo(Xe+(this._isUTC?0:this.utcOffset()*pa),Ws)-1;break;case"minute":Xe=this._d.valueOf(),Xe+=pa-Mo(Xe,pa)-1;break;case"second":Xe=this._d.valueOf(),Xe+=Bo-Mo(Xe,Bo)-1;break}return this._d.setTime(Xe),N.updateOffset(this,!0),this}function Bl(){return this._d.valueOf()-(this._offset||0)*6e4}function Ll(){return Math.floor(this.valueOf()/1e3)}function Aa(){return new Date(this.valueOf())}function Zs(){var De=this;return[De.year(),De.month(),De.date(),De.hour(),De.minute(),De.second(),De.millisecond()]}function $o(){var De=this;return{years:De.year(),months:De.month(),date:De.date(),hours:De.hours(),minutes:De.minutes(),seconds:De.seconds(),milliseconds:De.milliseconds()}}function Wa(){return this.isValid()?this.toISOString():null}function bs(){return n(this)}function So(){return f({},s(this))}function mo(){return s(this).overflow}function Xs(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}W("N",0,0,"eraAbbr"),W("NN",0,0,"eraAbbr"),W("NNN",0,0,"eraAbbr"),W("NNNN",0,0,"eraName"),W("NNNNN",0,0,"eraNarrow"),W("y",["y",1],"yo","eraYear"),W("y",["yy",2],0,"eraYear"),W("y",["yyy",3],0,"eraYear"),W("y",["yyyy",4],0,"eraYear"),Et("N",no),Et("NN",no),Et("NNN",no),Et("NNNN",za),Et("NNNNN",Uo),Ue(["N","NN","NNN","NNNN","NNNNN"],function(De,Xe,_t,jt){var $t=_t._locale.erasParse(De,jt,_t._strict);$t?s(_t).era=$t:s(_t).invalidEra=De}),Et("y",ht),Et("yy",ht),Et("yyy",ht),Et("yyyy",ht),Et("yo",_s),Ue(["y","yy","yyy","yyyy"],Oe),Ue(["yo"],function(De,Xe,_t,jt){var $t;_t._locale._eraYearOrdinalRegex&&($t=De.match(_t._locale._eraYearOrdinalRegex)),_t._locale.eraYearOrdinalParse?Xe[Oe]=_t._locale.eraYearOrdinalParse(De,$t):Xe[Oe]=parseInt(De,10)});function Ma(De,Xe){var _t,jt,$t,Cn=this._eras||ia("en")._eras;for(_t=0,jt=Cn.length;_t<jt;++_t){switch(typeof Cn[_t].since){case"string":$t=N(Cn[_t].since).startOf("day"),Cn[_t].since=$t.valueOf();break}switch(typeof Cn[_t].until){case"undefined":Cn[_t].until=1/0;break;case"string":$t=N(Cn[_t].until).startOf("day").valueOf(),Cn[_t].until=$t.valueOf();break}}return Cn}function vo(De,Xe,_t){var jt,$t,Cn=this.eras(),lr,Ur,Yr;for(De=De.toUpperCase(),jt=0,$t=Cn.length;jt<$t;++jt)if(lr=Cn[jt].name.toUpperCase(),Ur=Cn[jt].abbr.toUpperCase(),Yr=Cn[jt].narrow.toUpperCase(),_t)switch(Xe){case"N":case"NN":case"NNN":if(Ur===De)return Cn[jt];break;case"NNNN":if(lr===De)return Cn[jt];break;case"NNNNN":if(Yr===De)return Cn[jt];break}else if([lr,Ur,Yr].indexOf(De)>=0)return Cn[jt]}function Si(De,Xe){var _t=De.since<=De.until?1:-1;return Xe===void 0?N(De.since).year():N(De.since).year()+(Xe-De.offset)*_t}function Ol(){var De,Xe,_t,jt=this.localeData().eras();for(De=0,Xe=jt.length;De<Xe;++De)if(_t=this.clone().startOf("day").valueOf(),jt[De].since<=_t&&_t<=jt[De].until||jt[De].until<=_t&&_t<=jt[De].since)return jt[De].name;return""}function to(){var De,Xe,_t,jt=this.localeData().eras();for(De=0,Xe=jt.length;De<Xe;++De)if(_t=this.clone().startOf("day").valueOf(),jt[De].since<=_t&&_t<=jt[De].until||jt[De].until<=_t&&_t<=jt[De].since)return jt[De].narrow;return""}function yo(){var De,Xe,_t,jt=this.localeData().eras();for(De=0,Xe=jt.length;De<Xe;++De)if(_t=this.clone().startOf("day").valueOf(),jt[De].since<=_t&&_t<=jt[De].until||jt[De].until<=_t&&_t<=jt[De].since)return jt[De].abbr;return""}function jo(){var De,Xe,_t,jt,$t=this.localeData().eras();for(De=0,Xe=$t.length;De<Xe;++De)if(_t=$t[De].since<=$t[De].until?1:-1,jt=this.clone().startOf("day").valueOf(),$t[De].since<=jt&&jt<=$t[De].until||$t[De].until<=jt&&jt<=$t[De].since)return(this.year()-N($t[De].since).year())*_t+$t[De].offset;return this.year()}function Ra(De){return e(this,"_erasNameRegex")||Eo.call(this),De?this._erasNameRegex:this._erasRegex}function Ti(De){return e(this,"_erasAbbrRegex")||Eo.call(this),De?this._erasAbbrRegex:this._erasRegex}function ga(De){return e(this,"_erasNarrowRegex")||Eo.call(this),De?this._erasNarrowRegex:this._erasRegex}function no(De,Xe){return Xe.erasAbbrRegex(De)}function za(De,Xe){return Xe.erasNameRegex(De)}function Uo(De,Xe){return Xe.erasNarrowRegex(De)}function _s(De,Xe){return Xe._eraYearOrdinalRegex||ht}function Eo(){var De=[],Xe=[],_t=[],jt=[],$t,Cn,lr=this.eras();for($t=0,Cn=lr.length;$t<Cn;++$t)Xe.push(Ke(lr[$t].name)),De.push(Ke(lr[$t].abbr)),_t.push(Ke(lr[$t].narrow)),jt.push(Ke(lr[$t].name)),jt.push(Ke(lr[$t].abbr)),jt.push(Ke(lr[$t].narrow));this._erasRegex=new RegExp("^("+jt.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Xe.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+De.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+_t.join("|")+")","i")}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ha(De,Xe){W(0,[De,De.length],0,Xe)}ha("gggg","weekYear"),ha("ggggg","weekYear"),ha("GGGG","isoWeekYear"),ha("GGGGG","isoWeekYear"),xe("weekYear","gg"),xe("isoWeekYear","GG"),Le("weekYear",1),Le("isoWeekYear",1),Et("G",xt),Et("g",xt),Et("GG",Te,Re),Et("gg",Te,Re),Et("GGGG",ot,he),Et("gggg",ot,he),Et("GGGGG",st,_e),Et("ggggg",st,_e),nt(["gggg","ggggg","GGGG","GGGGG"],function(De,Xe,_t,jt){Xe[jt.substr(0,2)]=ke(De)}),nt(["gg","GG"],function(De,Xe,_t,jt){Xe[jt]=N.parseTwoDigitYear(De)});function xo(De){return ya.call(this,De,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Br(De){return ya.call(this,De,this.isoWeek(),this.isoWeekday(),1,4)}function Zr(){return gr(this.year(),1,4)}function ll(){return gr(this.isoWeekYear(),1,4)}function Qo(){var De=this.localeData()._week;return gr(this.year(),De.dow,De.doy)}function Co(){var De=this.localeData()._week;return gr(this.weekYear(),De.dow,De.doy)}function ya(De,Xe,_t,jt,$t){var Cn;return De==null?Mr(this,jt,$t).year:(Cn=gr(De,jt,$t),Xe>Cn&&(Xe=Cn),jl.call(this,De,Xe,_t,jt,$t))}function jl(De,Xe,_t,jt,$t){var Cn=ir(De,Xe,_t,jt,$t),lr=Gn(Cn.year,0,Cn.dayOfYear);return this.year(lr.getUTCFullYear()),this.month(lr.getUTCMonth()),this.date(lr.getUTCDate()),this}W("Q",0,"Qo","quarter"),xe("quarter","Q"),Le("quarter",7),Et("Q",Be),Ue("Q",function(De,Xe){Xe[Ne]=(ke(De)-1)*3});function Fa(De){return De==null?Math.ceil((this.month()+1)/3):this.month((De-1)*3+this.month()%3)}W("D",["DD",2],"Do","date"),xe("date","D"),Le("date",9),Et("D",Te),Et("DD",Te,Re),Et("Do",function(De,Xe){return De?Xe._dayOfMonthOrdinalParse||Xe._ordinalParse:Xe._dayOfMonthOrdinalParseLenient}),Ue(["D","DD"],Qe),Ue("Do",function(De,Xe){Xe[Qe]=ke(De.match(Te)[0])});var Js=te("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),xe("dayOfYear","DDD"),Le("dayOfYear",4),Et("DDD",Ge),Et("DDDD",je),Ue(["DDD","DDDD"],function(De,Xe,_t){_t._dayOfYear=ke(De)});function es(De){var Xe=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return De==null?Xe:this.add(De-Xe,"d")}W("m",["mm",2],0,"minute"),xe("minute","m"),Le("minute",14),Et("m",Te),Et("mm",Te,Re),Ue(["m","mm"],pt);var Pi=te("Minutes",!1);W("s",["ss",2],0,"second"),xe("second","s"),Le("second",15),Et("s",Te),Et("ss",Te,Re),Ue(["s","ss"],wt);var zi=te("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return this.millisecond()*10}),W(0,["SSSSS",5],0,function(){return this.millisecond()*100}),W(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),W(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),W(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),W(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),xe("millisecond","ms"),Le("millisecond",16),Et("S",Ge,Be),Et("SS",Ge,Re),Et("SSS",Ge,je);var Lo,et;for(Lo="SSSS";Lo.length<=9;Lo+="S")Et(Lo,ht);function rt(De,Xe){Xe[Lt]=ke(("0."+De)*1e3)}for(Lo="S";Lo.length<=9;Lo+="S")Ue(Lo,rt);et=te("Milliseconds",!1),W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");function ft(){return this._isUTC?"UTC":""}function vt(){return this._isUTC?"Coordinated Universal Time":""}var mt=h.prototype;mt.add=ys,mt.calendar=Us,mt.clone=su,mt.diff=aa,mt.endOf=go,mt.format=xs,mt.from=ho,mt.fromNow=fa,mt.to=qa,mt.toNow=Nl,mt.get=we,mt.invalidAt=mo,mt.isAfter=Vs,mt.isBefore=Ko,mt.isBetween=Hs,mt.isSame=ji,mt.isSameOrAfter=No,mt.isSameOrBefore=qs,mt.isValid=bs,mt.lang=Ta,mt.locale=Cl,mt.localeData=Ir,mt.max=Is,mt.min=nu,mt.parsingFlags=So,mt.set=Ee,mt.startOf=sl,mt.subtract=wa,mt.toArray=Zs,mt.toObject=$o,mt.toDate=Aa,mt.toISOString=va,mt.inspect=Da,typeof Symbol<"u"&&Symbol.for!=null&&(mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),mt.toJSON=Wa,mt.toString=ka,mt.unix=Ll,mt.valueOf=Bl,mt.creationData=Xs,mt.eraName=Ol,mt.eraNarrow=to,mt.eraAbbr=yo,mt.eraYear=jo,mt.year=In,mt.isLeapYear=Hn,mt.weekYear=xo,mt.isoWeekYear=Br,mt.quarter=mt.quarters=Fa,mt.month=An,mt.daysInMonth=un,mt.week=mt.weeks=bn,mt.isoWeek=mt.isoWeeks=Dn,mt.weeksInYear=Qo,mt.weeksInWeekYear=Co,mt.isoWeeksInYear=Zr,mt.isoWeeksInISOWeekYear=ll,mt.date=Js,mt.day=mt.days=mn,mt.weekday=kn,mt.isoWeekday=vn,mt.dayOfYear=es,mt.hour=mt.hours=br,mt.minute=mt.minutes=Pi,mt.second=mt.seconds=zi,mt.millisecond=mt.milliseconds=et,mt.utcOffset=Ns,mt.utc=ol,mt.local=kl,mt.parseZone=Tl,mt.hasAlignedHourOffset=fo,mt.isDST=Al,mt.isLocal=iu,mt.isUtcOffset=ms,mt.isUtc=Sl,mt.isUTC=Sl,mt.zoneAbbr=ft,mt.zoneName=vt,mt.dates=d("dates accessor is deprecated. Use date instead.",Js),mt.months=d("months accessor is deprecated. Use month instead",An),mt.years=d("years accessor is deprecated. Use year instead",In),mt.zone=d("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bs),mt.isDSTShifted=d("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ml);function At(De){return Bi(De*1e3)}function j(){return Bi.apply(null,arguments).parseZone()}function X(De){return De}var G=E.prototype;G.calendar=O,G.longDateFormat=K,G.invalidDate=Z,G.ordinal=ae,G.preparse=X,G.postformat=X,G.relativeTime=se,G.pastFuture=ce,G.set=T,G.eras=Ma,G.erasParse=vo,G.erasConvertYear=Si,G.erasAbbrRegex=Ti,G.erasNameRegex=Ra,G.erasNarrowRegex=ga,G.months=on,G.monthsShort=_n,G.monthsParse=Sn,G.monthsRegex=gn,G.monthsShortRegex=Tn,G.week=sr,G.firstDayOfYear=Qt,G.firstDayOfWeek=kr,G.weekdays=en,G.weekdaysMin=Nn,G.weekdaysShort=pn,G.weekdaysParse=On,G.weekdaysRegex=xn,G.weekdaysShortRegex=En,G.weekdaysMinRegex=Vn,G.isPM=vr,G.meridiem=Or;function ie(De,Xe,_t,jt){var $t=ia(),Cn=l().set(jt,Xe);return $t[_t](Cn,De)}function be(De,Xe,_t){if(a(De)&&(Xe=De,De=void 0),De=De||"",Xe!=null)return ie(De,Xe,_t,"month");var jt,$t=[];for(jt=0;jt<12;jt++)$t[jt]=ie(De,jt,_t,"month");return $t}function Ie(De,Xe,_t,jt){typeof De=="boolean"?(a(Xe)&&(_t=Xe,Xe=void 0),Xe=Xe||""):(Xe=De,_t=Xe,De=!1,a(Xe)&&(_t=Xe,Xe=void 0),Xe=Xe||"");var $t=ia(),Cn=De?$t._week.dow:0,lr,Ur=[];if(_t!=null)return ie(Xe,(_t+Cn)%7,jt,"day");for(lr=0;lr<7;lr++)Ur[lr]=ie(Xe,(lr+Cn)%7,jt,"day");return Ur}function He(De,Xe){return be(De,Xe,"months")}function Ze(De,Xe){return be(De,Xe,"monthsShort")}function at(De,Xe,_t){return Ie(De,Xe,_t,"weekdays")}function Tt(De,Xe,_t){return Ie(De,Xe,_t,"weekdaysShort")}function Mt(De,Xe,_t){return Ie(De,Xe,_t,"weekdaysMin")}Oi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(De){var Xe=De%10,_t=ke(De%100/10)===1?"th":Xe===1?"st":Xe===2?"nd":Xe===3?"rd":"th";return De+_t}}),N.lang=d("moment.lang is deprecated. Use moment.locale instead.",Oi),N.langData=d("moment.langData is deprecated. Use moment.localeData instead.",ia);var re=Math.abs;function de(){var De=this._data;return this._milliseconds=re(this._milliseconds),this._days=re(this._days),this._months=re(this._months),De.milliseconds=re(De.milliseconds),De.seconds=re(De.seconds),De.minutes=re(De.minutes),De.hours=re(De.hours),De.months=re(De.months),De.years=re(De.years),this}function Ce(De,Xe,_t,jt){var $t=Ia(Xe,_t);return De._milliseconds+=jt*$t._milliseconds,De._days+=jt*$t._days,De._months+=jt*$t._months,De._bubble()}function ze(De,Xe){return Ce(this,De,Xe,1)}function Ve(De,Xe){return Ce(this,De,Xe,-1)}function We(De){return De<0?Math.floor(De):Math.ceil(De)}function Je(){var De=this._milliseconds,Xe=this._days,_t=this._months,jt=this._data,$t,Cn,lr,Ur,Yr;return De>=0&&Xe>=0&&_t>=0||De<=0&&Xe<=0&&_t<=0||(De+=We(lt(_t)+Xe)*864e5,Xe=0,_t=0),jt.milliseconds=De%1e3,$t=Me(De/1e3),jt.seconds=$t%60,Cn=Me($t/60),jt.minutes=Cn%60,lr=Me(Cn/60),jt.hours=lr%24,Xe+=Me(lr/24),Yr=Me(tt(Xe)),_t+=Yr,Xe-=We(lt(Yr)),Ur=Me(_t/12),_t%=12,jt.days=Xe,jt.months=_t,jt.years=Ur,this}function tt(De){return De*4800/146097}function lt(De){return De*146097/4800}function dt(De){if(!this.isValid())return NaN;var Xe,_t,jt=this._milliseconds;if(De=ve(De),De==="month"||De==="quarter"||De==="year")switch(Xe=this._days+jt/864e5,_t=this._months+tt(Xe),De){case"month":return _t;case"quarter":return _t/3;case"year":return _t/12}else switch(Xe=this._days+Math.round(lt(this._months)),De){case"week":return Xe/7+jt/6048e5;case"day":return Xe+jt/864e5;case"hour":return Xe*24+jt/36e5;case"minute":return Xe*1440+jt/6e4;case"second":return Xe*86400+jt/1e3;case"millisecond":return Math.floor(Xe*864e5)+jt;default:throw new Error("Unknown unit "+De)}}function Ft(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ke(this._months/12)*31536e6:NaN}function Ut(De){return function(){return this.as(De)}}var qt=Ut("ms"),nn=Ut("s"),yn=Ut("m"),rn=Ut("h"),cn=Ut("d"),sn=Ut("w"),Ln=Ut("M"),wn=Ut("Q"),ln=Ut("y");function Bn(){return Ia(this)}function Wn(De){return De=ve(De),this.isValid()?this[De+"s"]():NaN}function tr(De){return function(){return this.isValid()?this._data[De]:NaN}}var or=tr("milliseconds"),Sr=tr("seconds"),Cr=tr("minutes"),wr=tr("hours"),Ar=tr("days"),Fr=tr("months"),ii=tr("years");function ai(){return Me(this.days()/7)}var _r=Math.round,Rr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qr(De,Xe,_t,jt,$t){return $t.relativeTime(Xe||1,!!_t,De,jt)}function $r(De,Xe,_t,jt){var $t=Ia(De).abs(),Cn=_r($t.as("s")),lr=_r($t.as("m")),Ur=_r($t.as("h")),Yr=_r($t.as("d")),ci=_r($t.as("M")),ti=_r($t.as("w")),Fi=_r($t.as("y")),ea=Cn<=_t.ss&&["s",Cn]||Cn<_t.s&&["ss",Cn]||lr<=1&&["m"]||lr<_t.m&&["mm",lr]||Ur<=1&&["h"]||Ur<_t.h&&["hh",Ur]||Yr<=1&&["d"]||Yr<_t.d&&["dd",Yr];return _t.w!=null&&(ea=ea||ti<=1&&["w"]||ti<_t.w&&["ww",ti]),ea=ea||ci<=1&&["M"]||ci<_t.M&&["MM",ci]||Fi<=1&&["y"]||["yy",Fi],ea[2]=Xe,ea[3]=+De>0,ea[4]=jt,Qr.apply(null,ea)}function di(De){return De===void 0?_r:typeof De=="function"?(_r=De,!0):!1}function li(De,Xe){return Rr[De]===void 0?!1:Xe===void 0?Rr[De]:(Rr[De]=Xe,De==="s"&&(Rr.ss=Xe-1),!0)}function vi(De,Xe){if(!this.isValid())return this.localeData().invalidDate();var _t=!1,jt=Rr,$t,Cn;return typeof De=="object"&&(Xe=De,De=!1),typeof De=="boolean"&&(_t=De),typeof Xe=="object"&&(jt=Object.assign({},Rr,Xe),Xe.s!=null&&Xe.ss==null&&(jt.ss=Xe.s-1)),$t=this.localeData(),Cn=$r(this,!_t,jt,$t),_t&&(Cn=$t.pastFuture(+this,Cn)),$t.postformat(Cn)}var Ei=Math.abs;function Ai(De){return(De>0)-(De<0)||+De}function Ci(){if(!this.isValid())return this.localeData().invalidDate();var De=Ei(this._milliseconds)/1e3,Xe=Ei(this._days),_t=Ei(this._months),jt,$t,Cn,lr,Ur=this.asSeconds(),Yr,ci,ti,Fi;return Ur?(jt=Me(De/60),$t=Me(jt/60),De%=60,jt%=60,Cn=Me(_t/12),_t%=12,lr=De?De.toFixed(3).replace(/\.?0+$/,""):"",Yr=Ur<0?"-":"",ci=Ai(this._months)!==Ai(Ur)?"-":"",ti=Ai(this._days)!==Ai(Ur)?"-":"",Fi=Ai(this._milliseconds)!==Ai(Ur)?"-":"",Yr+"P"+(Cn?ci+Cn+"Y":"")+(_t?ci+_t+"M":"")+(Xe?ti+Xe+"D":"")+($t||jt||De?"T":"")+($t?Fi+$t+"H":"")+(jt?Fi+jt+"M":"")+(De?Fi+lr+"S":"")):"P0D"}var Gr=Rs.prototype;Gr.isValid=hs,Gr.abs=de,Gr.add=ze,Gr.subtract=Ve,Gr.as=dt,Gr.asMilliseconds=qt,Gr.asSeconds=nn,Gr.asMinutes=yn,Gr.asHours=rn,Gr.asDays=cn,Gr.asWeeks=sn,Gr.asMonths=Ln,Gr.asQuarters=wn,Gr.asYears=ln,Gr.valueOf=Ft,Gr._bubble=Je,Gr.clone=Bn,Gr.get=Wn,Gr.milliseconds=or,Gr.seconds=Sr,Gr.minutes=Cr,Gr.hours=wr,Gr.days=Ar,Gr.weeks=ai,Gr.months=Fr,Gr.years=ii,Gr.humanize=vi,Gr.toISOString=Ci,Gr.toString=Ci,Gr.toJSON=Ci,Gr.locale=Cl,Gr.localeData=Ir,Gr.toIsoString=d("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ci),Gr.lang=Ta,W("X",0,0,"unix"),W("x",0,0,"valueOf"),Et("x",xt),Et("X",kt),Ue("X",function(De,Xe,_t){_t._d=new Date(parseFloat(De)*1e3)}),Ue("x",function(De,Xe,_t){_t._d=new Date(ke(De))});return N.version="2.29.4",Q(Bi),N.fn=mt,N.min=ps,N.max=il,N.now=Ds,N.utc=l,N.unix=At,N.months=He,N.isDate=k,N.locale=Oi,N.invalid=r,N.duration=Ia,N.isMoment=_,N.weekdays=at,N.parseZone=j,N.localeData=ia,N.isDuration=ds,N.monthsShort=Ze,N.weekdaysMin=Mt,N.defineLocale=ki,N.updateLocale=Pa,N.locales=Wo,N.weekdaysShort=Tt,N.normalizeUnits=ve,N.relativeTimeRounding=di,N.relativeTimeThreshold=li,N.calendarFormat=ou,N.prototype=mt,N.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},N})});var $3=Zi((eE,K3)=>{var m8=typeof global=="object"&&global&&global.Object===Object&&global;K3.exports=m8});var e5=Zi((tE,Q3)=>{var v8=$3(),y8=typeof self=="object"&&self&&self.Object===Object&&self,x8=v8||y8||Function("return this")();Q3.exports=x8});var Oy=Zi((nE,t5)=>{var b8=e5(),_8=b8.Symbol;t5.exports=_8});var a5=Zi((rE,i5)=>{var n5=Oy(),r5=Object.prototype,w8=r5.hasOwnProperty,k8=r5.toString,td=n5?n5.toStringTag:void 0;function T8(I){var N=w8.call(I,td),Q=I[td];try{I[td]=void 0;var L=!0}catch{}var M=k8.call(I);return L&&(N?I[td]=Q:delete I[td]),M}i5.exports=T8});var s5=Zi((iE,o5)=>{var A8=Object.prototype,M8=A8.toString;function S8(I){return M8.call(I)}o5.exports=S8});var nd=Zi((aE,c5)=>{var l5=Oy(),E8=a5(),C8=s5(),L8="[object Null]",O8="[object Undefined]",u5=l5?l5.toStringTag:void 0;function P8(I){return I==null?I===void 0?O8:L8:u5&&u5 in Object(I)?E8(I):C8(I)}c5.exports=P8});var Py=Zi((oE,f5)=>{function I8(I){var N=typeof I;return I!=null&&(N=="object"||N=="function")}f5.exports=I8});var h5=Zi((sE,p5)=>{var D8=nd(),R8=Py(),z8="[object AsyncFunction]",F8="[object Function]",N8="[object GeneratorFunction]",B8="[object Proxy]";function j8(I){if(!R8(I))return!1;var N=D8(I);return N==F8||N==N8||N==z8||N==B8}p5.exports=j8});var Iy=Zi((lE,d5)=>{var U8=Array.isArray;d5.exports=U8});var kg=Zi((uE,g5)=>{function V8(I){return I!=null&&typeof I=="object"}g5.exports=V8});var v5=Zi((cE,m5)=>{var H8=nd(),q8=Iy(),W8=kg(),G8="[object String]";function Y8(I){return typeof I=="string"||!q8(I)&&W8(I)&&H8(I)==G8}m5.exports=Y8});var x5=Zi((fE,y5)=>{var Z8=nd(),X8=kg(),J8="[object Boolean]";function K8(I){return I===!0||I===!1||X8(I)&&Z8(I)==J8}y5.exports=K8});var Dy=Zi((pE,b5)=>{var $8=nd(),Q8=kg(),eM="[object Number]";function tM(I){return typeof I=="number"||Q8(I)&&$8(I)==eM}b5.exports=tM});var w5=Zi((hE,_5)=>{var nM=Dy();function rM(I){return nM(I)&&I!=+I}_5.exports=rM});var q5=Zi(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Cc=typeof Symbol=="function"&&Symbol.for,Gy=Cc?Symbol.for("react.element"):60103,Yy=Cc?Symbol.for("react.portal"):60106,Ng=Cc?Symbol.for("react.fragment"):60107,Bg=Cc?Symbol.for("react.strict_mode"):60108,jg=Cc?Symbol.for("react.provider"):60109,Ug=Cc?Symbol.for("react.context"):60110,Vg=Cc?Symbol.for("react.async_mode"):60111,Hg=Cc?Symbol.for("react.forward_ref"):60112;function Lc(I){if(typeof I=="object"&&I!==null){var N=I.$$typeof;switch(N){case Gy:switch(I=I.type,I){case Vg:case Ng:case Bg:return I;default:switch(I=I&&I.$$typeof,I){case Ug:case Hg:case jg:return I;default:return N}}case Yy:return N}}}ko.typeOf=Lc;ko.AsyncMode=Vg;ko.ContextConsumer=Ug;ko.ContextProvider=jg;ko.Element=Gy;ko.ForwardRef=Hg;ko.Fragment=Ng;ko.Portal=Yy;ko.StrictMode=Bg;ko.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===Ng||I===Vg||I===Bg||typeof I=="object"&&I!==null&&(I.$$typeof===jg||I.$$typeof===Ug||I.$$typeof===Hg)};ko.isAsyncMode=function(I){return Lc(I)===Vg};ko.isContextConsumer=function(I){return Lc(I)===Ug};ko.isContextProvider=function(I){return Lc(I)===jg};ko.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===Gy};ko.isForwardRef=function(I){return Lc(I)===Hg};ko.isFragment=function(I){return Lc(I)===Ng};ko.isPortal=function(I){return Lc(I)===Yy};ko.isStrictMode=function(I){return Lc(I)===Bg}});var G5=Zi((JE,W5)=>{"use strict";W5.exports=q5()});var sk=Zi((_C,ok)=>{"use strict";ok.exports=function(N,Q){if(Q=Q.split(":")[0],N=+N,!N)return!1;switch(Q){case"http":case"ws":return N!==80;case"https":case"wss":return N!==443;case"ftp":return N!==21;case"gopher":return N!==70;case"file":return!1}return N!==0}});var ck=Zi($y=>{"use strict";var sS=Object.prototype.hasOwnProperty,lS;function lk(I){try{return decodeURIComponent(I.replace(/\+/g," "))}catch{return null}}function uk(I){try{return encodeURIComponent(I)}catch{return null}}function uS(I){for(var N=/([^=?#&]+)=?([^&]*)/g,Q={},L;L=N.exec(I);){var M=lk(L[1]),e=lk(L[2]);M===null||e===null||M in Q||(Q[M]=e)}return Q}function cS(I,N){N=N||"";var Q=[],L,M;typeof N!="string"&&(N="?");for(M in I)if(sS.call(I,M)){if(L=I[M],!L&&(L===null||L===lS||isNaN(L))&&(L=""),M=uk(M),L=uk(L),M===null||L===null)continue;Q.push(M+"="+L)}return Q.length?N+Q.join("&"):""}$y.stringify=cS;$y.parse=uS});var yk=Zi((kC,vk)=>{"use strict";var pk=sk(),Zg=ck(),fS=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,hk=/[\n\r\t]/g,pS=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,dk=/:\d+$/,hS=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,dS=/^[a-zA-Z]:/;function ex(I){return(I||"").toString().replace(fS,"")}var Qy=[["#","hash"],["?","query"],function(N,Q){return Iu(Q.protocol)?N.replace(/\\/g,"/"):N},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],fk={hash:1,query:1};function gk(I){var N;typeof window<"u"?N=window:typeof global<"u"?N=global:typeof self<"u"?N=self:N={};var Q=N.location||{};I=I||Q;var L={},M=typeof I,e;if(I.protocol==="blob:")L=new Du(unescape(I.pathname),{});else if(M==="string"){L=new Du(I,{});for(e in fk)delete L[e]}else if(M==="object"){for(e in I)e in fk||(L[e]=I[e]);L.slashes===void 0&&(L.slashes=pS.test(I.href))}return L}function Iu(I){return I==="file:"||I==="ftp:"||I==="http:"||I==="https:"||I==="ws:"||I==="wss:"}function mk(I,N){I=ex(I),I=I.replace(hk,""),N=N||{};var Q=hS.exec(I),L=Q[1]?Q[1].toLowerCase():"",M=!!Q[2],e=!!Q[3],b=0,w;return M?e?(w=Q[2]+Q[3]+Q[4],b=Q[2].length+Q[3].length):(w=Q[2]+Q[4],b=Q[2].length):e?(w=Q[3]+Q[4],b=Q[3].length):w=Q[4],L==="file:"?b>=2&&(w=w.slice(2)):Iu(L)?w=Q[4]:L?M&&(w=w.slice(2)):b>=2&&Iu(N.protocol)&&(w=Q[4]),{protocol:L,slashes:M||Iu(L),slashesCount:b,rest:w}}function gS(I,N){if(I==="")return N;for(var Q=(N||"/").split("/").slice(0,-1).concat(I.split("/")),L=Q.length,M=Q[L-1],e=!1,b=0;L--;)Q[L]==="."?Q.splice(L,1):Q[L]===".."?(Q.splice(L,1),b++):b&&(L===0&&(e=!0),Q.splice(L,1),b--);return e&&Q.unshift(""),(M==="."||M==="..")&&Q.push(""),Q.join("/")}function Du(I,N,Q){if(I=ex(I),I=I.replace(hk,""),!(this instanceof Du))return new Du(I,N,Q);var L,M,e,b,w,a,k=Qy.slice(),y=typeof N,f=this,l=0;for(y!=="object"&&y!=="string"&&(Q=N,N=null),Q&&typeof Q!="function"&&(Q=Zg.parse),N=gk(N),M=mk(I||"",N),L=!M.protocol&&!M.slashes,f.slashes=M.slashes||L&&N.slashes,f.protocol=M.protocol||N.protocol||"",I=M.rest,(M.protocol==="file:"&&(M.slashesCount!==2||dS.test(I))||!M.slashes&&(M.protocol||M.slashesCount<2||!Iu(f.protocol)))&&(k[3]=[/(.*)/,"pathname"]);l<k.length;l++){if(b=k[l],typeof b=="function"){I=b(I,f);continue}e=b[0],a=b[1],e!==e?f[a]=I:typeof e=="string"?(w=e==="@"?I.lastIndexOf(e):I.indexOf(e),~w&&(typeof b[2]=="number"?(f[a]=I.slice(0,w),I=I.slice(w+b[2])):(f[a]=I.slice(w),I=I.slice(0,w)))):(w=e.exec(I))&&(f[a]=w[1],I=I.slice(0,w.index)),f[a]=f[a]||L&&b[3]&&N[a]||"",b[4]&&(f[a]=f[a].toLowerCase())}Q&&(f.query=Q(f.query)),L&&N.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||N.pathname!=="")&&(f.pathname=gS(f.pathname,N.pathname)),f.pathname.charAt(0)!=="/"&&Iu(f.protocol)&&(f.pathname="/"+f.pathname),pk(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(w=f.auth.indexOf(":"),~w?(f.username=f.auth.slice(0,w),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(w+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&Iu(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function mS(I,N,Q){var L=this;switch(I){case"query":typeof N=="string"&&N.length&&(N=(Q||Zg.parse)(N)),L[I]=N;break;case"port":L[I]=N,pk(N,L.protocol)?N&&(L.host=L.hostname+":"+N):(L.host=L.hostname,L[I]="");break;case"hostname":L[I]=N,L.port&&(N+=":"+L.port),L.host=N;break;case"host":L[I]=N,dk.test(N)?(N=N.split(":"),L.port=N.pop(),L.hostname=N.join(":")):(L.hostname=N,L.port="");break;case"protocol":L.protocol=N.toLowerCase(),L.slashes=!Q;break;case"pathname":case"hash":if(N){var M=I==="pathname"?"/":"#";L[I]=N.charAt(0)!==M?M+N:N}else L[I]=N;break;case"username":case"password":L[I]=encodeURIComponent(N);break;case"auth":var e=N.indexOf(":");~e?(L.username=N.slice(0,e),L.username=encodeURIComponent(decodeURIComponent(L.username)),L.password=N.slice(e+1),L.password=encodeURIComponent(decodeURIComponent(L.password))):L.username=encodeURIComponent(decodeURIComponent(N))}for(var b=0;b<Qy.length;b++){var w=Qy[b];w[4]&&(L[w[1]]=L[w[1]].toLowerCase())}return L.auth=L.password?L.username+":"+L.password:L.username,L.origin=L.protocol!=="file:"&&Iu(L.protocol)&&L.host?L.protocol+"//"+L.host:"null",L.href=L.toString(),L}function vS(I){(!I||typeof I!="function")&&(I=Zg.stringify);var N,Q=this,L=Q.host,M=Q.protocol;M&&M.charAt(M.length-1)!==":"&&(M+=":");var e=M+(Q.protocol&&Q.slashes||Iu(Q.protocol)?"//":"");return Q.username?(e+=Q.username,Q.password&&(e+=":"+Q.password),e+="@"):Q.password?(e+=":"+Q.password,e+="@"):Q.protocol!=="file:"&&Iu(Q.protocol)&&!L&&Q.pathname!=="/"&&(e+="@"),(L[L.length-1]===":"||dk.test(Q.hostname)&&!Q.port)&&(L+=":"),e+=L+Q.pathname,N=typeof Q.query=="object"?I(Q.query):Q.query,N&&(e+=N.charAt(0)!=="?"?"?"+N:N),Q.hash&&(e+=Q.hash),e}Du.prototype={set:mS,toString:vS};Du.extractProtocol=mk;Du.location=gk;Du.trimLeft=ex;Du.qs=Zg;vk.exports=Du});var Wk=Zi((hm,_x)=>{(function(I,N){typeof hm=="object"&&typeof _x=="object"?_x.exports=N():typeof define=="function"&&define.amd?define([],N):typeof hm=="object"?hm.Plotly=N():I.Plotly=N()})(self,function(){return function(){var I={98847:function(L,M,e){"use strict";var b=e(71828),w={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in w){var k=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");b.addStyleRule(k,w[a])}},98222:function(L,M,e){"use strict";L.exports=e(82887)},27206:function(L,M,e){"use strict";L.exports=e(60822)},59893:function(L,M,e){"use strict";L.exports=e(23381)},5224:function(L,M,e){"use strict";L.exports=e(83832)},59509:function(L,M,e){"use strict";L.exports=e(72201)},75557:function(L,M,e){"use strict";L.exports=e(91815)},40338:function(L,M,e){"use strict";L.exports=e(21462)},35080:function(L,M,e){"use strict";L.exports=e(51319)},61396:function(L,M,e){"use strict";L.exports=e(57516)},40549:function(L,M,e){"use strict";L.exports=e(98128)},49866:function(L,M,e){"use strict";L.exports=e(99442)},36089:function(L,M,e){"use strict";L.exports=e(93740)},19548:function(L,M,e){"use strict";L.exports=e(8729)},35831:function(L,M,e){"use strict";L.exports=e(93814)},61039:function(L,M,e){"use strict";L.exports=e(14382)},97040:function(L,M,e){"use strict";L.exports=e(51759)},77986:function(L,M,e){"use strict";L.exports=e(10421)},24296:function(L,M,e){"use strict";L.exports=e(43102)},58872:function(L,M,e){"use strict";L.exports=e(92165)},29626:function(L,M,e){"use strict";L.exports=e(3325)},65591:function(L,M,e){"use strict";L.exports=e(36071)},69738:function(L,M,e){"use strict";L.exports=e(43905)},92650:function(L,M,e){"use strict";L.exports=e(35902)},35630:function(L,M,e){"use strict";L.exports=e(69816)},73434:function(L,M,e){"use strict";L.exports=e(94507)},27909:function(L,M,e){"use strict";var b=e(19548);b.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),L.exports=b},46163:function(L,M,e){"use strict";L.exports=e(15154)},96881:function(L,M,e){"use strict";L.exports=e(64943)},50581:function(L,M,e){"use strict";L.exports=e(21164)},55334:function(L,M,e){"use strict";L.exports=e(54186)},65317:function(L,M,e){"use strict";L.exports=e(94873)},10021:function(L,M,e){"use strict";L.exports=e(67618)},54201:function(L,M,e){"use strict";L.exports=e(58810)},5861:function(L,M,e){"use strict";L.exports=e(20593)},16122:function(L,M,e){"use strict";L.exports=e(29396)},83043:function(L,M,e){"use strict";L.exports=e(13551)},48131:function(L,M,e){"use strict";L.exports=e(46858)},47582:function(L,M,e){"use strict";L.exports=e(17988)},21641:function(L,M,e){"use strict";L.exports=e(68868)},96268:function(L,M,e){"use strict";L.exports=e(20467)},19440:function(L,M,e){"use strict";L.exports=e(91271)},99488:function(L,M,e){"use strict";L.exports=e(21461)},97393:function(L,M,e){"use strict";L.exports=e(85956)},25743:function(L,M,e){"use strict";L.exports=e(52979)},66398:function(L,M,e){"use strict";L.exports=e(32275)},17280:function(L,M,e){"use strict";L.exports=e(6419)},77900:function(L,M,e){"use strict";L.exports=e(61510)},81299:function(L,M,e){"use strict";L.exports=e(87619)},93005:function(L,M,e){"use strict";L.exports=e(93601)},40344:function(L,M,e){"use strict";L.exports=e(96595)},47645:function(L,M,e){"use strict";L.exports=e(70954)},6197:function(L,M,e){"use strict";L.exports=e(47462)},4534:function(L,M,e){"use strict";L.exports=e(17659)},85461:function(L,M,e){"use strict";L.exports=e(19990)},82884:function(L){"use strict";L.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(L,M,e){"use strict";var b=e(82884),w=e(41940),a=e(85555),k=e(44467).templatedArray;e(24695),L.exports=k("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:w({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:b.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:b.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:w({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(92605).draw;function k(f){var l=f._fullLayout;b.filterVisible(l.annotations).forEach(function(t){var s=w.getFromId(f,t.xref),o=w.getFromId(f,t.yref),n=w.getRefType(t.xref),r=w.getRefType(t.yref);t._extremes={},n==="range"&&y(t,s),r==="range"&&y(t,o)})}function y(f,l){var t,s=l._id,o=s.charAt(0),n=f[o],r=f["a"+o],i=f[o+"ref"],u=f["a"+o+"ref"],p=f["_"+o+"padplus"],h=f["_"+o+"padminus"],_={x:1,y:-1}[o]*f[o+"shift"],m=3*f.arrowsize*f.arrowwidth||0,d=m+_,x=m-_,g=3*f.startarrowsize*f.arrowwidth||0,v=g+_,T=g-_;if(u===i){var c=w.findExtremes(l,[l.r2c(n)],{ppadplus:d,ppadminus:x}),E=w.findExtremes(l,[l.r2c(r)],{ppadplus:Math.max(p,v),ppadminus:Math.max(h,T)});t={min:[c.min[0],E.min[0]],max:[c.max[0],E.max[0]]}}else v=r?v+r:v,T=r?T-r:T,t=w.findExtremes(l,[l.r2c(n)],{ppadplus:Math.max(p,d,v),ppadminus:Math.max(h,x,T)});f._extremes[s]=t}L.exports=function(f){var l=f._fullLayout;if(b.filterVisible(l.annotations).length&&f._fullData.length)return b.syncOrAsync([a,k],f)}},44317:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=e(44467).arrayEditor;function k(f,l){var t,s,o,n,r,i,u,p=f._fullLayout.annotations,h=[],_=[],m=[],d=(l||[]).length;for(t=0;t<p.length;t++)if(n=(o=p[t]).clicktoshow){for(s=0;s<d;s++)if(i=(r=l[s]).xaxis,u=r.yaxis,i._id===o.xref&&u._id===o.yref&&i.d2r(r.x)===y(o._xclick,i)&&u.d2r(r.y)===y(o._yclick,u)){(o.visible?n==="onout"?_:m:h).push(t);break}s===d&&o.visible&&n==="onout"&&_.push(t)}return{on:h,off:_,explicitOff:m}}function y(f,l){return l.type==="log"?l.l2r(f):l.d2r(f)}L.exports={hasClickToShow:function(f,l){var t=k(f,l);return t.on.length>0||t.explicitOff.length>0},onClick:function(f,l){var t,s,o=k(f,l),n=o.on,r=o.off.concat(o.explicitOff),i={},u=f._fullLayout.annotations;if(n.length||r.length){for(t=0;t<n.length;t++)(s=a(f.layout,"annotations",u[n[t]])).modifyItem("visible",!0),b.extendFlat(i,s.getUpdateObj());for(t=0;t<r.length;t++)(s=a(f.layout,"annotations",u[r[t]])).modifyItem("visible",!1),b.extendFlat(i,s.getUpdateObj());return w.call("update",f,{},i)}}}},25625:function(L,M,e){"use strict";var b=e(71828),w=e(7901);L.exports=function(a,k,y,f){f("opacity");var l=f("bgcolor"),t=f("bordercolor"),s=w.opacity(t);f("borderpad");var o=f("borderwidth"),n=f("showarrow");if(f("text",n?" ":y._dfltTitle.annotation),f("textangle"),b.coerceFont(f,"font",y.font),f("width"),f("align"),f("height")&&f("valign"),n){var r,i,u=f("arrowside");u.indexOf("end")!==-1&&(r=f("arrowhead"),i=f("arrowsize")),u.indexOf("start")!==-1&&(f("startarrowhead",r),f("startarrowsize",i)),f("arrowcolor",s?k.bordercolor:w.defaultLine),f("arrowwidth",2*(s&&o||1)),f("standoff"),f("startstandoff")}var p=f("hovertext"),h=y.hoverlabel||{};if(p){var _=f("hoverlabel.bgcolor",h.bgcolor||(w.opacity(l)?w.rgb(l):w.defaultLine)),m=f("hoverlabel.bordercolor",h.bordercolor||w.contrast(_));b.coerceFont(f,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||m})}f("captureevents",!!p)}},94128:function(L,M,e){"use strict";var b=e(92770),w=e(58163);L.exports=function(a,k,y,f){k=k||{};var l=y==="log"&&k.type==="linear",t=y==="linear"&&k.type==="log";if(l||t)for(var s,o,n=a._fullLayout.annotations,r=k._id.charAt(0),i=0;i<n.length;i++)s=n[i],o="annotations["+i+"].",s[r+"ref"]===k._id&&u(r),s["a"+r+"ref"]===k._id&&u("a"+r);function u(p){var h=s[p],_=null;_=l?w(h,k.range):Math.pow(10,h),b(_)||(_=null),f(o+p,_)}}},84046:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(85501),k=e(25625),y=e(50215);function f(l,t,s){function o(E,A){return b.coerce(l,t,y,E,A)}var n=o("visible"),r=o("clicktoshow");if(n||r){k(l,t,s,o);for(var i=t.showarrow,u=["x","y"],p=[-10,-30],h={_fullLayout:s},_=0;_<2;_++){var m=u[_],d=w.coerceRef(l,t,h,m,"","paper");if(d!=="paper"&&w.getFromId(h,d)._annIndices.push(t._index),w.coercePosition(t,h,o,d,m,.5),i){var x="a"+m,g=w.coerceRef(l,t,h,x,"pixel",["pixel","paper"]);g!=="pixel"&&g!==d&&(g=t[x]="pixel");var v=g==="pixel"?p[_]:.4;w.coercePosition(t,h,o,g,x,v)}o(m+"anchor"),o(m+"shift")}if(b.noneOrAll(l,t,["x","y"]),i&&b.noneOrAll(l,t,["ax","ay"]),r){var T=o("xclick"),c=o("yclick");t._xclick=T===void 0?t.x:w.cleanPosition(T,h,t.xref),t._yclick=c===void 0?t.y:w.cleanPosition(c,h,t.yref)}}}L.exports=function(l,t){a(l,t,{name:"annotations",handleItemDefaults:f})}},92605:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(74875),k=e(71828),y=k.strTranslate,f=e(89298),l=e(7901),t=e(91424),s=e(30211),o=e(63893),n=e(6964),r=e(28569),i=e(44467).arrayEditor,u=e(13011);function p(m,d){var x=m._fullLayout.annotations[d]||{},g=f.getFromId(m,x.xref),v=f.getFromId(m,x.yref);g&&g.setScale(),v&&v.setScale(),_(m,x,d,!1,g,v)}function h(m,d,x,g,v){var T=v[x],c=v[x+"ref"],E=x.indexOf("y")!==-1,A=f.getRefType(c)==="domain",C=E?g.h:g.w;return m?A?T+(E?-d:d)/m._length:m.p2r(m.r2p(T)+d):T+(E?-d:d)/C}function _(m,d,x,g,v,T){var c,E,A=m._fullLayout,C=m._fullLayout._size,O=m._context.edits;g?(c="annotation-"+g,E=g+".annotations"):(c="annotation",E="annotations");var P=i(m.layout,E,d),D=P.modifyBase,z=P.modifyItem,V=P.getUpdateObj;A._infolayer.selectAll("."+c+'[data-index="'+x+'"]').remove();var F="clip"+A._uid+"_ann"+x;if(d._input&&d.visible!==!1){var W={x:{},y:{}},B=+d.textangle||0,U=A._infolayer.append("g").classed(c,!0).attr("data-index",String(x)).style("opacity",d.opacity),H=U.append("g").classed("annotation-text-g",!0),q=O[d.showarrow?"annotationTail":"annotationPosition"],ee=d.captureevents||O.annotationText||q,K=H.append("g").style("pointer-events",ee?"all":null).call(n,"pointer").on("click",function(){m._dragging=!1,m.emit("plotly_clickannotation",xe(b.event))});d.hovertext&&K.on("mouseover",function(){var pe=d.hoverlabel,Le=pe.font,ye=this.getBoundingClientRect(),Ae=m.getBoundingClientRect();s.loneHover({x0:ye.left-Ae.left,x1:ye.right-Ae.left,y:(ye.top+ye.bottom)/2-Ae.top,text:d.hovertext,color:pe.bgcolor,borderColor:pe.bordercolor,fontFamily:Le.family,fontSize:Le.size,fontColor:Le.color},{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:m})}).on("mouseout",function(){s.loneUnhover(A._hoverlayer.node())});var J=d.borderwidth,Z=d.borderpad,$=J+Z,ne=K.append("rect").attr("class","bg").style("stroke-width",J+"px").call(l.stroke,d.bordercolor).call(l.fill,d.bgcolor),ae=d.width||d.height,oe=A._topclips.selectAll("#"+F).data(ae?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),oe.exit().remove();var se=d.font,ce=A._meta?k.templateString(d.text,A._meta):d.text,me=K.append("text").classed("annotation-text",!0).text(ce);O.annotationText?me.call(o.makeEditable,{delegate:K,gd:m}).call(ve).on("edit",function(pe){d.text=pe,this.call(ve),z("text",pe),v&&v.autorange&&D(v._name+".autorange",!0),T&&T.autorange&&D(T._name+".autorange",!0),w.call("_guiRelayout",m,V())}):me.call(ve)}else b.selectAll("#"+F).remove();function xe(pe){var Le={index:x,annotation:d._input,fullAnnotation:d,event:pe};return g&&(Le.subplotId=g),Le}function ve(pe){return pe.call(t.font,se).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),o.convertToTspans(pe,m,fe),pe}function fe(){var pe=me.selectAll("a");pe.size()===1&&pe.text()===me.text()&&K.insert("a",":first-child").attr({"xlink:xlink:href":pe.attr("xlink:href"),"xlink:xlink:show":pe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(ne.node());var Le=K.select(".annotation-text-math-group"),ye=!Le.empty(),Ae=t.bBox((ye?Le:me).node()),Me=Ae.width,ke=Ae.height,te=d.width||Me,ue=d.height||ke,ge=Math.round(te+2*$),we=Math.round(ue+2*$);function Ee(It,yt){return yt==="auto"&&(yt=It<.3333333333333333?"left":It>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[yt]}for(var Be=!1,Re=["x","y"],je=0;je<Re.length;je++){var he,_e,Te,Fe,Ye,Ge=Re[je],ot=d[Ge+"ref"]||Ge,st=d["a"+Ge+"ref"],ht={x:v,y:T}[Ge],xt=(B+(Ge==="x"?0:-90))*Math.PI/180,Ct=ge*Math.cos(xt),St=we*Math.sin(xt),kt=Math.abs(Ct)+Math.abs(St),Nt=d[Ge+"anchor"],Dt=d[Ge+"shift"]*(Ge==="x"?1:-1),Et=W[Ge],Wt=f.getRefType(ot);if(ht&&Wt!=="domain"){var Ht=ht.r2fraction(d[Ge]);(Ht<0||Ht>1)&&(st===ot?((Ht=ht.r2fraction(d["a"+Ge]))<0||Ht>1)&&(Be=!0):Be=!0),he=ht._offset+ht.r2p(d[Ge]),Fe=.5}else{var Ke=Wt==="domain";Ge==="x"?(Te=d[Ge],he=Ke?ht._offset+ht._length*Te:he=C.l+C.w*Te):(Te=1-d[Ge],he=Ke?ht._offset+ht._length*Te:he=C.t+C.h*Te),Fe=d.showarrow?.5:Te}if(d.showarrow){Et.head=he;var $e=d["a"+Ge];if(Ye=Ct*Ee(.5,d.xanchor)-St*Ee(.5,d.yanchor),st===ot){var Ue=f.getRefType(st);Ue==="domain"?(Ge==="y"&&($e=1-$e),Et.tail=ht._offset+ht._length*$e):Ue==="paper"?Ge==="y"?($e=1-$e,Et.tail=C.t+C.h*$e):Et.tail=C.l+C.w*$e:Et.tail=ht._offset+ht.r2p($e),_e=Ye}else Et.tail=he+$e,_e=Ye+$e;Et.text=Et.tail+Ye;var nt=A[Ge==="x"?"width":"height"];if(ot==="paper"&&(Et.head=k.constrain(Et.head,1,nt-1)),st==="pixel"){var ct=-Math.max(Et.tail-3,Et.text),Oe=Math.min(Et.tail+3,Et.text)-nt;ct>0?(Et.tail+=ct,Et.text+=ct):Oe>0&&(Et.tail-=Oe,Et.text-=Oe)}Et.tail+=Dt,Et.head+=Dt}else _e=Ye=kt*Ee(Fe,Nt),Et.text=he+Ye;Et.text+=Dt,Ye+=Dt,_e+=Dt,d["_"+Ge+"padplus"]=kt/2+_e,d["_"+Ge+"padminus"]=kt/2-_e,d["_"+Ge+"size"]=kt,d["_"+Ge+"shift"]=Ye}if(Be)K.remove();else{var Ne=0,Qe=0;if(d.align!=="left"&&(Ne=(te-Me)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Qe=(ue-ke)*(d.valign==="middle"?.5:1)),ye)Le.select("svg").attr({x:$+Ne-1,y:$+Qe}).call(t.setClipUrl,ae?F:null,m);else{var ut=$+Qe-Ae.top,pt=$+Ne-Ae.left;me.call(o.positionText,pt,ut).call(t.setClipUrl,ae?F:null,m)}oe.select("rect").call(t.setRect,$,$,te,ue),ne.call(t.setRect,J/2,J/2,ge-J,we-J),K.call(t.setTranslate,Math.round(W.x.text-ge/2),Math.round(W.y.text-we/2)),H.attr({transform:"rotate("+B+","+W.x.text+","+W.y.text+")"});var wt,Lt=function(It,yt){U.selectAll(".annotation-arrow-g").remove();var Rt=W.x.head,bt=W.y.head,Pt=W.x.tail+It,Bt=W.y.tail+yt,Zt=W.x.text+It,Yt=W.y.text+yt,Kt=k.rotationXYMatrix(B,Zt,Yt),tn=k.apply2DTransform(Kt),on=k.apply2DTransform2(Kt),_n=+ne.attr("width"),fn=+ne.attr("height"),Sn=Zt-.5*_n,Xn=Sn+_n,An=Yt-.5*fn,un=An+fn,Tn=[[Sn,An,Sn,un],[Sn,un,Xn,un],[Xn,un,Xn,An],[Xn,An,Sn,An]].map(on);if(!Tn.reduce(function(sr,xr){return sr^!!k.segmentsIntersect(Rt,bt,Rt+1e6,bt+1e6,xr[0],xr[1],xr[2],xr[3])},!1)){Tn.forEach(function(sr){var xr=k.segmentsIntersect(Pt,Bt,Rt,bt,sr[0],sr[1],sr[2],sr[3]);xr&&(Pt=xr.x,Bt=xr.y)});var gn=d.arrowwidth,dn=d.arrowcolor,Rn=d.arrowside,In=U.append("g").style({opacity:l.opacity(dn)}).classed("annotation-arrow-g",!0),Hn=In.append("path").attr("d","M"+Pt+","+Bt+"L"+Rt+","+bt).style("stroke-width",gn+"px").call(l.stroke,l.rgb(dn));if(u(Hn,Rn,d),O.annotationPosition&&Hn.node().parentNode&&!g){var Yn=Rt,Gn=bt;if(d.standoff){var cr=Math.sqrt(Math.pow(Rt-Pt,2)+Math.pow(bt-Bt,2));Yn+=d.standoff*(Pt-Rt)/cr,Gn+=d.standoff*(Bt-bt)/cr}var ir,Mr,gr=In.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Pt-Yn)+","+(Bt-Gn),transform:y(Yn,Gn)}).style("stroke-width",gn+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");r.init({element:gr.node(),gd:m,prepFn:function(){var sr=t.getTranslate(K);ir=sr.x,Mr=sr.y,v&&v.autorange&&D(v._name+".autorange",!0),T&&T.autorange&&D(T._name+".autorange",!0)},moveFn:function(sr,xr){var kr=tn(ir,Mr),Qt=kr[0]+sr,bn=kr[1]+xr;K.call(t.setTranslate,Qt,bn),z("x",h(v,sr,"x",C,d)),z("y",h(T,xr,"y",C,d)),d.axref===d.xref&&z("ax",h(v,sr,"ax",C,d)),d.ayref===d.yref&&z("ay",h(T,xr,"ay",C,d)),In.attr("transform",y(sr,xr)),H.attr({transform:"rotate("+B+","+Qt+","+bn+")"})},doneFn:function(){w.call("_guiRelayout",m,V());var sr=document.querySelector(".js-notes-box-panel");sr&&sr.redraw(sr.selectedObj)}})}}};d.showarrow&&Lt(0,0),q&&r.init({element:K.node(),gd:m,prepFn:function(){wt=H.attr("transform")},moveFn:function(It,yt){var Rt="pointer";if(d.showarrow)d.axref===d.xref?z("ax",h(v,It,"ax",C,d)):z("ax",d.ax+It),d.ayref===d.yref?z("ay",h(T,yt,"ay",C.w,d)):z("ay",d.ay+yt),Lt(It,yt);else{if(g)return;var bt,Pt;if(v)bt=h(v,It,"x",C,d);else{var Bt=d._xsize/C.w,Zt=d.x+(d._xshift-d.xshift)/C.w-Bt/2;bt=r.align(Zt+It/C.w,Bt,0,1,d.xanchor)}if(T)Pt=h(T,yt,"y",C,d);else{var Yt=d._ysize/C.h,Kt=d.y-(d._yshift+d.yshift)/C.h-Yt/2;Pt=r.align(Kt-yt/C.h,Yt,0,1,d.yanchor)}z("x",bt),z("y",Pt),v&&T||(Rt=r.getCursor(v?.5:bt,T?.5:Pt,d.xanchor,d.yanchor))}H.attr({transform:y(It,yt)+wt}),n(K,Rt)},clickFn:function(It,yt){d.captureevents&&m.emit("plotly_clickannotation",xe(yt))},doneFn:function(){n(K),w.call("_guiRelayout",m,V());var It=document.querySelector(".js-notes-box-panel");It&&It.redraw(It.selectedObj)}})}}}L.exports={draw:function(m){var d=m._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&p(m,x);return a.previousPromises(m)},drawOne:p,drawRaw:_}},13011:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(82884),k=e(71828),y=k.strScale,f=k.strRotate,l=k.strTranslate;L.exports=function(t,s,o){var n,r,i,u,p=t.node(),h=a[o.arrowhead||0],_=a[o.startarrowhead||0],m=(o.arrowwidth||1)*(o.arrowsize||1),d=(o.arrowwidth||1)*(o.startarrowsize||1),x=s.indexOf("start")>=0,g=s.indexOf("end")>=0,v=h.backoff*m+o.standoff,T=_.backoff*d+o.startstandoff;if(p.nodeName==="line"){n={x:+t.attr("x1"),y:+t.attr("y1")},r={x:+t.attr("x2"),y:+t.attr("y2")};var c=n.x-r.x,E=n.y-r.y;if(u=(i=Math.atan2(E,c))+Math.PI,v&&T&&v+T>Math.sqrt(c*c+E*E))return void U();if(v){if(v*v>c*c+E*E)return void U();var A=v*Math.cos(i),C=v*Math.sin(i);r.x+=A,r.y+=C,t.attr({x2:r.x,y2:r.y})}if(T){if(T*T>c*c+E*E)return void U();var O=T*Math.cos(i),P=T*Math.sin(i);n.x-=O,n.y-=P,t.attr({x1:n.x,y1:n.y})}}else if(p.nodeName==="path"){var D=p.getTotalLength(),z="";if(D<v+T)return void U();var V=p.getPointAtLength(0),F=p.getPointAtLength(.1);i=Math.atan2(V.y-F.y,V.x-F.x),n=p.getPointAtLength(Math.min(T,D)),z="0px,"+T+"px,";var W=p.getPointAtLength(D),B=p.getPointAtLength(D-.1);u=Math.atan2(W.y-B.y,W.x-B.x),r=p.getPointAtLength(Math.max(0,D-v)),z+=D-(z?T+v:v)+"px,"+D+"px",t.style("stroke-dasharray",z)}function U(){t.style("stroke-dasharray","0px,100px")}function H(q,ee,K,J){q.path&&(q.noRotate&&(K=0),b.select(p.parentNode).append("path").attr({class:t.attr("class"),d:q.path,transform:l(ee.x,ee.y)+f(180*K/Math.PI)+y(J)}).style({fill:w.rgb(o.arrowcolor),"stroke-width":0}))}x&&H(_,n,i,d),g&&H(h,r,u,m)}},32745:function(L,M,e){"use strict";var b=e(92605),w=e(44317);L.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:b.draw,drawOne:b.drawOne,drawRaw:b.drawRaw,hasClickToShow:w.hasClickToShow,onClick:w.onClick,convertCoords:e(94128)}},26997:function(L,M,e){"use strict";var b=e(50215),w=e(30962).overrideAll,a=e(44467).templatedArray;L.exports=w(a("annotation",{visible:b.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:b.xanchor,xshift:b.xshift,yanchor:b.yanchor,yshift:b.yshift,text:b.text,textangle:b.textangle,font:b.font,width:b.width,height:b.height,opacity:b.opacity,align:b.align,valign:b.valign,bgcolor:b.bgcolor,bordercolor:b.bordercolor,borderpad:b.borderpad,borderwidth:b.borderwidth,showarrow:b.showarrow,arrowcolor:b.arrowcolor,arrowhead:b.arrowhead,startarrowhead:b.startarrowhead,arrowside:b.arrowside,arrowsize:b.arrowsize,startarrowsize:b.startarrowsize,arrowwidth:b.arrowwidth,standoff:b.standoff,startstandoff:b.startstandoff,hovertext:b.hovertext,hoverlabel:b.hoverlabel,captureevents:b.captureevents}),"calc","from-root")},5485:function(L,M,e){"use strict";var b=e(71828),w=e(89298);function a(k,y){var f=y.fullSceneLayout.domain,l=y.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};k._xa={},b.extendFlat(k._xa,t),w.setConvert(k._xa),k._xa._offset=l.l+f.x[0]*l.w,k._xa.l2p=function(){return .5*(1+k._pdata[0]/k._pdata[3])*l.w*(f.x[1]-f.x[0])},k._ya={},b.extendFlat(k._ya,t),w.setConvert(k._ya),k._ya._offset=l.t+(1-f.y[1])*l.h,k._ya.l2p=function(){return .5*(1-k._pdata[1]/k._pdata[3])*l.h*(f.y[1]-f.y[0])}}L.exports=function(k){for(var y=k.fullSceneLayout.annotations,f=0;f<y.length;f++)a(y[f],k);k.fullLayout._infolayer.selectAll(".annotation-"+k.id).remove()}},20226:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(85501),k=e(25625),y=e(26997);function f(l,t,s,o){function n(i,u){return b.coerce(l,t,y,i,u)}function r(i){var u=i+"axis",p={_fullLayout:{}};return p._fullLayout[u]=s[u],w.coercePosition(t,p,n,i,i,.5)}n("visible")&&(k(l,t,o.fullLayout,n),r("x"),r("y"),r("z"),b.noneOrAll(l,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),b.noneOrAll(l,t,["ax","ay"])))}L.exports=function(l,t,s){a(l,t,{name:"annotations",handleItemDefaults:f,fullLayout:s.fullLayout})}},82188:function(L,M,e){"use strict";var b=e(92605).drawRaw,w=e(63538),a=["x","y","z"];L.exports=function(k){for(var y=k.fullSceneLayout,f=k.dataScale,l=y.annotations,t=0;t<l.length;t++){for(var s=l[t],o=!1,n=0;n<3;n++){var r=a[n],i=s[r],u=y[r+"axis"].r2fraction(i);if(u<0||u>1){o=!0;break}}o?k.fullLayout._infolayer.select(".annotation-"+k.id+'[data-index="'+t+'"]').remove():(s._pdata=w(k.glplot.cameraParams,[y.xaxis.r2l(s.x)*f[0],y.yaxis.r2l(s.y)*f[1],y.zaxis.r2l(s.z)*f[2]]),b(k.graphDiv,s,t,k.id,s._xa,s._ya))}}},2468:function(L,M,e){"use strict";var b=e(73972),w=e(71828);L.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function(a,k){var y=b.subplotsRegistry.gl3d;if(y)for(var f=y.attrRegex,l=Object.keys(a),t=0;t<l.length;t++){var s=l[t];f.test(s)&&(a[s].annotations||[]).length&&(w.pushUnique(k._basePlotModules,y),w.pushUnique(k._subplots.gl3d,s))}},convert:e(5485),draw:e(82188)}},7561:function(L,M,e){"use strict";L.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(L,M,e){"use strict";var b=e(7561),w=e(71828),a=e(50606),k=a.EPOCHJD,y=a.ONEDAY,f={valType:"enumerated",values:w.sortObjectKeys(b.calendars),editType:"calc",dflt:"gregorian"},l=function(m,d,x,g){var v={};return v[x]=f,w.coerce(m,d,v,x,g)},t="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},o={};function n(m){var d=o[m];return d||(o[m]=b.instance(m))}function r(m){return w.extendFlat({},f,{description:m})}function i(m){return"Sets the calendar system to use with `"+m+"` date data."}var u={xcalendar:r(i("x"))},p=w.extendFlat({},u,{ycalendar:r(i("y"))}),h=w.extendFlat({},p,{zcalendar:r(i("z"))}),_=r(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));L.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:h,surface:h,mesh3d:h,scattergl:p,ohlc:u,candlestick:u},layout:{calendar:r(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:_},yaxis:{calendar:_},scene:{xaxis:{calendar:_},yaxis:{calendar:_},zaxis:{calendar:_}},polar:{radialaxis:{calendar:_}}},transforms:{filter:{valuecalendar:r(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:r(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:l,handleTraceDefaults:function(m,d,x,g){for(var v=0;v<x.length;v++)l(m,d,x[v]+"calendar",g.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:n,worldCalFmt:function(m,d,x){for(var g,v,T,c,E,A=Math.floor((d+.05)/y)+k,C=n(x).fromJD(A),O=0;(O=m.indexOf("%",O))!==-1;)(g=m.charAt(O+1))==="0"||g==="-"||g==="_"?(T=3,v=m.charAt(O+2),g==="_"&&(g="-")):(v=g,g="0",T=2),(c=s[v])?(E=c===t?t:C.formatDate(c[g]),m=m.substr(0,O)+E+m.substr(O+T),O+=E.length):O+=T;return m}}},22399:function(L,M){"use strict";M.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],M.defaultLine="#444",M.lightLine="#eee",M.background="#fff",M.borderLine="#BEC8D9",M.lightFraction=90.9090909090909},7901:function(L,M,e){"use strict";var b=e(84267),w=e(92770),a=e(73627).isTypedArray,k=L.exports={},y=e(22399);k.defaults=y.defaults;var f=k.defaultLine=y.defaultLine;k.lightLine=y.lightLine;var l=k.background=y.background;function t(s){if(w(s)||typeof s!="string")return s;var o=s.trim();if(o.substr(0,3)!=="rgb")return s;var n=o.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return s;var r=n[1].trim().split(/\s*[\s,]\s*/),i=o.charAt(3)==="a"&&r.length===4;if(!i&&r.length!==3)return s;for(var u=0;u<r.length;u++){if(!r[u].length||(r[u]=Number(r[u]),!(r[u]>=0)))return s;if(u===3)r[u]>1&&(r[u]=1);else if(r[u]>=1)return s}var p=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return i?"rgba("+p+", "+r[3]+")":"rgb("+p+")"}k.tinyRGB=function(s){var o=s.toRgb();return"rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")"},k.rgb=function(s){return k.tinyRGB(b(s))},k.opacity=function(s){return s?b(s).getAlpha():0},k.addOpacity=function(s,o){var n=b(s).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+o+")"},k.combine=function(s,o){var n=b(s).toRgb();if(n.a===1)return b(s).toRgbString();var r=b(o||l).toRgb(),i=r.a===1?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},u={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return b(u).toRgbString()},k.contrast=function(s,o,n){var r=b(s);return r.getAlpha()!==1&&(r=b(k.combine(s,l))),(r.isDark()?o?r.lighten(o):l:n?r.darken(n):f).toString()},k.stroke=function(s,o){var n=b(o);s.style({stroke:k.tinyRGB(n),"stroke-opacity":n.getAlpha()})},k.fill=function(s,o){var n=b(o);s.style({fill:k.tinyRGB(n),"fill-opacity":n.getAlpha()})},k.clean=function(s){if(s&&typeof s=="object"){var o,n,r,i,u=Object.keys(s);for(o=0;o<u.length;o++)if(i=s[r=u[o]],r.substr(r.length-5)==="color")if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=t(i[n]);else s[r]=t(i);else if(r.substr(r.length-10)==="colorscale"&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=t(i[n][1]));else if(Array.isArray(i)){var p=i[0];if(!Array.isArray(p)&&p&&typeof p=="object")for(n=0;n<i.length;n++)k.clean(i[n])}else i&&typeof i=="object"&&!a(i)&&k.clean(i)}}},63583:function(L,M,e){"use strict";var b=e(13838),w=e(41940),a=e(1426).extendFlat,k=e(30962).overrideAll;L.exports=k({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:b.linecolor,outlinewidth:b.linewidth,bordercolor:b.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:b.minor.tickmode,nticks:b.nticks,tick0:b.tick0,dtick:b.dtick,tickvals:b.tickvals,ticktext:b.ticktext,ticks:a({},b.ticks,{dflt:""}),ticklabeloverflow:a({},b.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:b.ticklen,tickwidth:b.tickwidth,tickcolor:b.tickcolor,ticklabelstep:b.ticklabelstep,showticklabels:b.showticklabels,labelalias:b.labelalias,tickfont:w({}),tickangle:b.tickangle,tickformat:b.tickformat,tickformatstops:b.tickformatstops,tickprefix:b.tickprefix,showtickprefix:b.showtickprefix,ticksuffix:b.ticksuffix,showticksuffix:b.showticksuffix,separatethousands:b.separatethousands,exponentformat:b.exponentformat,minexponent:b.minexponent,showexponent:b.showexponent,title:{text:{valType:"string"},font:w({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:w({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(L){"use strict";L.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(L,M,e){"use strict";var b=e(71828),w=e(44467),a=e(26218),k=e(38701),y=e(96115),f=e(89426),l=e(63583);L.exports=function(t,s,o){var n=w.newContainer(s,"colorbar"),r=t.colorbar||{};function i(E,A){return b.coerce(r,n,l,E,A)}var u=o.margin||{t:0,b:0,l:0,r:0},p=o.width-u.l-u.r,h=o.height-u.t-u.b,_=i("orientation")==="v",m=i("thicknessmode");i("thickness",m==="fraction"?30/(_?p:h):30);var d=i("lenmode");i("len",d==="fraction"?1:_?h:p),i("x",_?1.02:.5),i("xanchor",_?"left":"center"),i("xpad"),i("y",_?.5:1.02),i("yanchor",_?"middle":"bottom"),i("ypad"),b.noneOrAll(r,n,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var x=b.coerce(r,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:_?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",x.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(r,n,i,"linear");var g=o.font,v={outerTicks:!1,font:g};x.indexOf("inside")!==-1&&(v.bgColor="black"),f(r,n,i,"linear",v),y(r,n,i,"linear",v),k(r,n,i,"linear",v),i("title.text",o._dfltTitle.colorbar);var T=n.showticklabels?n.tickfont:g,c=b.extendFlat({},T,{color:g.color,size:b.bigFont(T.size)});b.coerceFont(i,"title.font",c),i("title.side",_?"top":"right")}},98981:function(L,M,e){"use strict";var b=e(39898),w=e(84267),a=e(74875),k=e(73972),y=e(89298),f=e(28569),l=e(71828),t=l.strTranslate,s=e(1426).extendFlat,o=e(6964),n=e(91424),r=e(7901),i=e(92998),u=e(63893),p=e(52075).flipScale,h=e(71453),_=e(52830),m=e(13838),d=e(18783),x=d.LINE_SPACING,g=d.FROM_TL,v=d.FROM_BR,T=e(30939).cn;L.exports={draw:function(c){var E=c._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(A){var C,O,P,D,z=A._fullLayout,V=A.calcdata,F=[];function W(ae){return s(ae,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function B(){typeof D.calc=="function"?D.calc(A,P,C):(C._fillgradient=O.reversescale?p(O.colorscale):O.colorscale,C._zrange=[O[D.min],O[D.max]])}for(var U=0;U<V.length;U++){var H=V[U],q=(P=H[0].trace)._module.colorbar;if(P.visible===!0&&q)for(var ee=Array.isArray(q),K=ee?q:[q],J=0;J<K.length;J++){var Z=(D=K[J]).container;(O=Z?P[Z]:P)&&O.showscale&&((C=W(O.colorbar))._id="cb"+P.uid+(ee&&Z?"-"+Z:""),C._traceIndex=P.index,C._propPrefix=(Z?Z+".":"")+"colorbar.",C._meta=P._meta,B(),F.push(C))}}for(var $ in z._colorAxes)if((O=z[$]).showscale){var ne=z._colorAxes[$];(C=W(O.colorbar))._id="cb"+$,C._propPrefix=$+".colorbar.",C._meta=z._meta,D={min:"cmin",max:"cmax"},ne[0]!=="heatmap"&&(P=ne[1],D.calc=P._module.colorbar.calc),B(),F.push(C)}return F}(c),function(A){return A._id});E.enter().append("g").attr("class",function(A){return A._id}).classed(T.colorbar,!0),E.each(function(A){var C=b.select(this);l.ensureSingle(C,"rect",T.cbbg),l.ensureSingle(C,"g",T.cbfills),l.ensureSingle(C,"g",T.cblines),l.ensureSingle(C,"g",T.cbaxis,function(P){P.classed(T.crisp,!0)}),l.ensureSingle(C,"g",T.cbtitleunshift,function(P){P.append("g").classed(T.cbtitle,!0)}),l.ensureSingle(C,"rect",T.cboutline);var O=function(P,D,z){var V=D.orientation==="v",F=D.len,W=D.lenmode,B=D.thickness,U=D.thicknessmode,H=D.outlinewidth,q=D.borderwidth,ee=D.bgcolor,K=D.xanchor,J=D.yanchor,Z=D.xpad,$=D.ypad,ne=D.x,ae=V?D.y:1-D.y,oe=z._fullLayout,se=oe._size,ce=D._fillcolor,me=D._line,xe=D.title,ve=xe.side,fe=D._zrange||b.extent((typeof ce=="function"?ce:me.color).domain()),pe=typeof me.color=="function"?me.color:function(){return me.color},Le=typeof ce=="function"?ce:function(){return ce},ye=D._levels,Ae=function(Wt,Ht,Ke){var $e,Ue,nt=Ht._levels,ct=[],Oe=[],Ne=nt.end+nt.size/100,Qe=nt.size,ut=1.001*Ke[0]-.001*Ke[1],pt=1.001*Ke[1]-.001*Ke[0];for(Ue=0;Ue<1e5&&($e=nt.start+Ue*Qe,!(Qe>0?$e>=Ne:$e<=Ne));Ue++)$e>ut&&$e<pt&&ct.push($e);if(Ht._fillgradient)Oe=[0];else if(typeof Ht._fillcolor=="function"){var wt=Ht._filllevels;if(wt)for(Ne=wt.end+wt.size/100,Qe=wt.size,Ue=0;Ue<1e5&&($e=wt.start+Ue*Qe,!(Qe>0?$e>=Ne:$e<=Ne));Ue++)$e>Ke[0]&&$e<Ke[1]&&Oe.push($e);else(Oe=ct.map(function(Lt){return Lt-nt.size/2})).push(Oe[Oe.length-1]+nt.size)}else Ht._fillcolor&&typeof Ht._fillcolor=="string"&&(Oe=[0]);return nt.size<0&&(ct.reverse(),Oe.reverse()),{line:ct,fill:Oe}}(0,D,fe),Me=Ae.fill,ke=Ae.line,te=Math.round(B*(U==="fraction"?V?se.w:se.h:1)),ue=te/(V?se.w:se.h),ge=Math.round(F*(W==="fraction"?V?se.h:se.w:1)),we=ge/(V?se.h:se.w),Ee=Math.round(V?ne*se.w+Z:ae*se.h+$),Be={center:.5,right:1}[K]||0,Re={top:1,middle:.5}[J]||0,je=V?ne-Be*ue:ae-Re*ue,he=V?ae-Re*we:ne-Be*we,_e=Math.round(V?se.h*(1-he):se.w*he);D._lenFrac=we,D._thickFrac=ue,D._uFrac=je,D._vFrac=he;var Te=D._axis=function(Wt,Ht,Ke){var $e=Wt._fullLayout,Ue=Ht.orientation==="v",nt={type:"linear",range:Ke,tickmode:Ht.tickmode,nticks:Ht.nticks,tick0:Ht.tick0,dtick:Ht.dtick,tickvals:Ht.tickvals,ticktext:Ht.ticktext,ticks:Ht.ticks,ticklen:Ht.ticklen,tickwidth:Ht.tickwidth,tickcolor:Ht.tickcolor,showticklabels:Ht.showticklabels,labelalias:Ht.labelalias,ticklabelposition:Ht.ticklabelposition,ticklabeloverflow:Ht.ticklabeloverflow,ticklabelstep:Ht.ticklabelstep,tickfont:Ht.tickfont,tickangle:Ht.tickangle,tickformat:Ht.tickformat,exponentformat:Ht.exponentformat,minexponent:Ht.minexponent,separatethousands:Ht.separatethousands,showexponent:Ht.showexponent,showtickprefix:Ht.showtickprefix,tickprefix:Ht.tickprefix,showticksuffix:Ht.showticksuffix,ticksuffix:Ht.ticksuffix,title:Ht.title,showline:!0,anchor:"free",side:Ue?"right":"bottom",position:1},ct=Ue?"y":"x",Oe={type:"linear",_id:ct+Ht._id},Ne={letter:ct,font:$e.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:$e.calendar};function Qe(ut,pt){return l.coerce(nt,Oe,m,ut,pt)}return h(nt,Oe,Qe,Ne,$e),_(nt,Oe,Qe,Ne),Oe}(z,D,fe);Te.position=ue+(V?ne+Z/se.w:ae+$/se.h);var Fe=["top","bottom"].indexOf(ve)!==-1;if(V&&Fe&&(Te.title.side=ve,Te.titlex=ne+Z/se.w,Te.titley=he+(xe.side==="top"?we-$/se.h:$/se.h)),V||Fe||(Te.title.side=ve,Te.titley=ae+$/se.h,Te.titlex=he+Z/se.w),me.color&&D.tickmode==="auto"){Te.tickmode="linear",Te.tick0=ye.start;var Ye=ye.size,Ge=l.constrain(ge/50,4,15)+1,ot=(fe[1]-fe[0])/((D.nticks||Ge)*Ye);if(ot>1){var st=Math.pow(10,Math.floor(Math.log(ot)/Math.LN10));Ye*=st*l.roundUp(ot/st,[2,5,10]),(Math.abs(ye.start)/ye.size+1e-6)%1<2e-6&&(Te.tick0=0)}Te.dtick=Ye}Te.domain=V?[he+$/se.h,he+we-$/se.h]:[he+Z/se.w,he+we-Z/se.w],Te.setScale(),P.attr("transform",t(Math.round(se.l),Math.round(se.t)));var ht,xt=P.select("."+T.cbtitleunshift).attr("transform",t(-Math.round(se.l),-Math.round(se.t))),Ct=Te.ticklabelposition,St=Te.title.font.size,kt=P.select("."+T.cbaxis),Nt=0,Dt=0;function Et(Wt,Ht){var Ke={propContainer:Te,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:oe._dfltTitle.colorbar,containerGroup:P.select("."+T.cbtitle)},$e=Wt.charAt(0)==="h"?Wt.substr(1):"h"+Wt;P.selectAll("."+$e+",."+$e+"-math-group").remove(),i.draw(z,Wt,s(Ke,Ht||{}))}return l.syncOrAsync([a.previousPromises,function(){var Wt,Ht;(V&&Fe||!V&&!Fe)&&(ve==="top"&&(Wt=Z+se.l+se.w*ne,Ht=$+se.t+se.h*(1-he-we)+3+.75*St),ve==="bottom"&&(Wt=Z+se.l+se.w*ne,Ht=$+se.t+se.h*(1-he)-3-.25*St),ve==="right"&&(Ht=$+se.t+se.h*ae+3+.75*St,Wt=Z+se.l+se.w*he),Et(Te._id+"title",{attributes:{x:Wt,y:Ht,"text-anchor":V?"start":"middle"}}))},function(){if(!V&&!Fe||V&&Fe){var Wt,Ht=P.select("."+T.cbtitle),Ke=Ht.select("text"),$e=[-H/2,H/2],Ue=Ht.select(".h"+Te._id+"title-math-group").node(),nt=15.6;if(Ke.node()&&(nt=parseInt(Ke.node().style.fontSize,10)*x),Ue?(Wt=n.bBox(Ue),Dt=Wt.width,(Nt=Wt.height)>nt&&($e[1]-=(Nt-nt)/2)):Ke.node()&&!Ke.classed(T.jsPlaceholder)&&(Wt=n.bBox(Ke.node()),Dt=Wt.width,Nt=Wt.height),V){if(Nt){if(Nt+=5,ve==="top")Te.domain[1]-=Nt/se.h,$e[1]*=-1;else{Te.domain[0]+=Nt/se.h;var ct=u.lineCount(Ke);$e[1]+=(1-ct)*nt}Ht.attr("transform",t($e[0],$e[1])),Te.setScale()}}else Dt&&(ve==="right"&&(Te.domain[0]+=(Dt+St/2)/se.w),Ht.attr("transform",t($e[0],$e[1])),Te.setScale())}P.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",V?t(0,Math.round(se.h*(1-Te.domain[1]))):t(Math.round(se.w*Te.domain[0]),0)),kt.attr("transform",V?t(0,Math.round(-se.t)):t(Math.round(-se.l),0));var Oe=P.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(Me);Oe.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),Oe.exit().remove();var Ne=fe.map(Te.c2p).map(Math.round).sort(function(Lt,It){return Lt-It});Oe.each(function(Lt,It){var yt=[It===0?fe[0]:(Me[It]+Me[It-1])/2,It===Me.length-1?fe[1]:(Me[It]+Me[It+1])/2].map(Te.c2p).map(Math.round);V&&(yt[1]=l.constrain(yt[1]+(yt[1]>yt[0])?1:-1,Ne[0],Ne[1]));var Rt=b.select(this).attr(V?"x":"y",Ee).attr(V?"y":"x",b.min(yt)).attr(V?"width":"height",Math.max(te,2)).attr(V?"height":"width",Math.max(b.max(yt)-b.min(yt),2));if(D._fillgradient)n.gradient(Rt,z,D._id,V?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var bt=Le(Lt).replace("e-","");Rt.attr("fill",w(bt).toHexString())}});var Qe=P.select("."+T.cblines).selectAll("path."+T.cbline).data(me.color&&me.width?ke:[]);Qe.enter().append("path").classed(T.cbline,!0),Qe.exit().remove(),Qe.each(function(Lt){var It=Ee,yt=Math.round(Te.c2p(Lt))+me.width/2%1;b.select(this).attr("d","M"+(V?It+","+yt:yt+","+It)+(V?"h":"v")+te).call(n.lineGroupStyle,me.width,pe(Lt),me.dash)}),kt.selectAll("g."+Te._id+"tick,path").remove();var ut=Ee+te+(H||0)/2-(D.ticks==="outside"?1:0),pt=y.calcTicks(Te),wt=y.getTickSigns(Te)[2];return y.drawTicks(z,Te,{vals:Te.ticks==="inside"?y.clipEnds(Te,pt):pt,layer:kt,path:y.makeTickPath(Te,ut,wt),transFn:y.makeTransTickFn(Te)}),y.drawLabels(z,Te,{vals:pt,layer:kt,transFn:y.makeTransTickLabelFn(Te),labelFns:y.makeLabelFns(Te,ut)})},function(){if(V&&!Fe||!V&&Fe){var Wt,Ht,Ke=Te.position||0,$e=Te._offset+Te._length/2;if(ve==="right")Ht=$e,Wt=se.l+se.w*Ke+10+St*(Te.showticklabels?1:.5);else if(Wt=$e,ve==="bottom"&&(Ht=se.t+se.h*Ke+10+(Ct.indexOf("inside")===-1?Te.tickfont.size:0)+(Te.ticks!=="intside"&&D.ticklen||0)),ve==="top"){var Ue=xe.text.split("<br>").length;Ht=se.t+se.h*Ke+10-te-x*St*Ue}Et((V?"h":"v")+Te._id+"title",{avoid:{selection:b.select(z).selectAll("g."+Te._id+"tick"),side:ve,offsetTop:V?0:se.t,offsetLeft:V?se.l:0,maxShift:V?oe.width:oe.height},attributes:{x:Wt,y:Ht,"text-anchor":"middle"},transform:{rotate:V?-90:0,offset:0}})}},a.previousPromises,function(){var Wt,Ht=te+H/2;Ct.indexOf("inside")===-1&&(Wt=n.bBox(kt.node()),Ht+=V?Wt.width:Wt.height),ht=xt.select("text");var Ke=0,$e=V&&ve==="top",Ue=!V&&ve==="right",nt=0;if(ht.node()&&!ht.classed(T.jsPlaceholder)){var ct,Oe=xt.select(".h"+Te._id+"title-math-group").node();Oe&&(V&&Fe||!V&&!Fe)?(Ke=(Wt=n.bBox(Oe)).width,ct=Wt.height):(Ke=(Wt=n.bBox(xt.node())).right-se.l-(V?Ee:_e),ct=Wt.bottom-se.t-(V?_e:Ee),V||ve!=="top"||(Ht+=Wt.height,nt=Wt.height)),Ue&&(ht.attr("transform",t(Ke/2+St/2,0)),Ke*=2),Ht=Math.max(Ht,V?Ke:ct)}var Ne=2*(V?Z:$)+Ht+q+H/2,Qe=0;!V&&xe.text&&J==="bottom"&&ae<=0&&(Ne+=Qe=Ne/2,nt+=Qe),oe._hColorbarMoveTitle=Qe,oe._hColorbarMoveCBTitle=nt;var ut=q+H;P.select("."+T.cbbg).attr("x",(V?Ee:_e)-ut/2-(V?Z:0)).attr("y",(V?_e:Ee)-(V?ge:$+nt-Qe)).attr(V?"width":"height",Math.max(Ne-Qe,2)).attr(V?"height":"width",Math.max(ge+ut,2)).call(r.fill,ee).call(r.stroke,D.bordercolor).style("stroke-width",q);var pt=Ue?Math.max(Ke-10,0):0;if(P.selectAll("."+T.cboutline).attr("x",(V?Ee:_e+Z)+pt).attr("y",(V?_e+$-ge:Ee)+($e?Nt:0)).attr(V?"width":"height",Math.max(te,2)).attr(V?"height":"width",Math.max(ge-(V?2*$+Nt:2*Z+pt),2)).call(r.stroke,D.outlinecolor).style({fill:"none","stroke-width":H}),P.attr("transform",t(se.l-(V?Be*Ne:0),se.t-(V?0:(1-Re)*Ne-nt))),!V&&(q||w(ee).getAlpha()&&!w.equals(oe.paper_bgcolor,ee))){var wt=kt.selectAll("text"),Lt=wt[0].length,It=P.select("."+T.cbbg).node(),yt=n.bBox(It),Rt=n.getTranslate(P);wt.each(function(tn,on){var _n=Lt-1;if(on===0||on===_n){var fn,Sn=n.bBox(this),Xn=n.getTranslate(this);if(on===_n){var An=Sn.right+Xn.x;(fn=yt.right+Rt.x+_e-q-2+ne-An)>0&&(fn=0)}else if(on===0){var un=Sn.left+Xn.x;(fn=yt.left+Rt.x+_e+q+2-un)<0&&(fn=0)}fn&&(Lt<3?this.setAttribute("transform","translate("+fn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var bt={},Pt=g[K],Bt=v[K],Zt=g[J],Yt=v[J],Kt=Ne-te;V?(W==="pixels"?(bt.y=ae,bt.t=ge*Zt,bt.b=ge*Yt):(bt.t=bt.b=0,bt.yt=ae+F*Zt,bt.yb=ae-F*Yt),U==="pixels"?(bt.x=ne,bt.l=Ne*Pt,bt.r=Ne*Bt):(bt.l=Kt*Pt,bt.r=Kt*Bt,bt.xl=ne-B*Pt,bt.xr=ne+B*Bt)):(W==="pixels"?(bt.x=ne,bt.l=ge*Pt,bt.r=ge*Bt):(bt.l=bt.r=0,bt.xl=ne+F*Pt,bt.xr=ne-F*Bt),U==="pixels"?(bt.y=1-ae,bt.t=Ne*Zt,bt.b=Ne*Yt):(bt.t=Kt*Zt,bt.b=Kt*Yt,bt.yt=ae-B*Zt,bt.yb=ae+B*Yt)),a.autoMargin(z,D._id,bt)}],z)}(C,A,c);O&&O.then&&(c._promises||[]).push(O),c._context.edits.colorbarPosition&&function(P,D,z){var V,F,W,B=D.orientation==="v",U=z._fullLayout._size;f.init({element:P.node(),gd:z,prepFn:function(){V=P.attr("transform"),o(P)},moveFn:function(H,q){P.attr("transform",V+t(H,q)),F=f.align((B?D._uFrac:D._vFrac)+H/U.w,B?D._thickFrac:D._lenFrac,0,1,D.xanchor),W=f.align((B?D._vFrac:1-D._uFrac)-q/U.h,B?D._lenFrac:D._thickFrac,0,1,D.yanchor);var ee=f.getCursor(F,W,D.xanchor,D.yanchor);o(P,ee)},doneFn:function(){if(o(P),F!==void 0&&W!==void 0){var H={};H[D._propPrefix+"x"]=F,H[D._propPrefix+"y"]=W,D._traceIndex!==void 0?k.call("_guiRestyle",z,H,D._traceIndex):k.call("_guiRelayout",z,H)}}})}(C,A,c)}),E.exit().each(function(A){a.autoMargin(c,A._id)}).remove(),E.order()}}},76228:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w){return b.isPlainObject(w.colorbar)}},12311:function(L,M,e){"use strict";L.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(L,M,e){"use strict";var b=e(63583),w=e(30587).counter,a=e(78607),k=e(63282).scales;function y(f){return"`"+f+"`"}a(k),L.exports=function(f,l){f=f||"";var t,s=(l=l||{}).cLetter||"c",o=("onlyIfNumerical"in l&&l.onlyIfNumerical,"noScale"in l?l.noScale:f==="marker.line"),n="showScaleDflt"in l?l.showScaleDflt:s==="z",r=typeof l.colorscaleDflt=="string"?k[l.colorscaleDflt]:null,i=l.editTypeOverride||"",u=f?f+".":"";"colorAttr"in l?(t=l.colorAttr,l.colorAttr):y(u+(t={z:"z",c:"color"}[s]));var p=s+"auto",h=s+"min",_=s+"max",m=s+"mid",d=(y(u+p),y(u+h),y(u+_),{});d[h]=d[_]=void 0;var x={};x[p]=!1;var g={};return t==="color"&&(g.color={valType:"color",arrayOk:!0,editType:i||"style"},l.anim&&(g.color.anim=!0)),g[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:d},g[h]={valType:"number",dflt:null,editType:i||"plot",impliedEdits:x},g[_]={valType:"number",dflt:null,editType:i||"plot",impliedEdits:x},g[m]={valType:"number",dflt:null,editType:"calc",impliedEdits:d},g.colorscale={valType:"colorscale",editType:"calc",dflt:r,impliedEdits:{autocolorscale:!1}},g.autocolorscale={valType:"boolean",dflt:l.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},g.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(g.showscale={valType:"boolean",dflt:n,editType:"calc"},g.colorbar=b),l.noColorAxis||(g.coloraxis={valType:"subplotid",regex:w("coloraxis"),dflt:null,editType:"calc"}),g}},78803:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(52075).extractOpts;L.exports=function(k,y,f){var l,t=k._fullLayout,s=f.vals,o=f.containerStr,n=o?w.nestedProperty(y,o).get():y,r=a(n),i=r.auto!==!1,u=r.min,p=r.max,h=r.mid,_=function(){return w.aggNums(Math.min,null,s)},m=function(){return w.aggNums(Math.max,null,s)};u===void 0?u=_():i&&(u=n._colorAx&&b(u)?Math.min(u,_()):_()),p===void 0?p=m():i&&(p=n._colorAx&&b(p)?Math.max(p,m()):m()),i&&h!==void 0&&(p-h>h-u?u=h-(p-h):p-h<h-u&&(p=h+(h-u))),u===p&&(u-=.5,p+=.5),r._sync("min",u),r._sync("max",p),r.autocolorscale&&(l=u*p<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,r._sync("colorscale",l))}},33046:function(L,M,e){"use strict";var b=e(71828),w=e(52075).hasColorscale,a=e(52075).extractOpts;L.exports=function(k,y){function f(i,u){var p=i["_"+u];p!==void 0&&(i[u]=p)}function l(i,u){var p=u.container?b.nestedProperty(i,u.container).get():i;if(p)if(p.coloraxis)p._colorAx=y[p.coloraxis];else{var h=a(p),_=h.auto;(_||h.min===void 0)&&f(p,u.min),(_||h.max===void 0)&&f(p,u.max),h.autocolorscale&&f(p,"colorscale")}}for(var t=0;t<k.length;t++){var s=k[t],o=s._module.colorbar;if(o)if(Array.isArray(o))for(var n=0;n<o.length;n++)l(s,o[n]);else l(s,o);w(s,"marker.line")&&l(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var r in y._colorAxes)l(y[r],{min:"cmin",max:"cmax"})}},1586:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(76228),k=e(62499),y=e(63282).isValid,f=e(73972).traceIs;function l(t,s){var o=s.slice(0,s.length-1);return s?w.nestedProperty(t,o).get()||{}:t}L.exports=function t(s,o,n,r,i){var u=i.prefix,p=i.cLetter,h="_module"in o,_=l(s,u),m=l(o,u),d=l(o._template||{},u)||{},x=function(){return delete s.coloraxis,delete o.coloraxis,t(s,o,n,r,i)};if(h){var g=n._colorAxes||{},v=r(u+"coloraxis");if(v){var T=f(o,"contour")&&w.nestedProperty(o,"contours.coloring").get()||"heatmap",c=g[v];return void(c?(c[2].push(x),c[0]!==T&&(c[0]=!1,w.warn(["Ignoring coloraxis:",v,"setting","as it is linked to incompatible colorscales."].join(" ")))):g[v]=[T,o,[x]])}}var E=_[p+"min"],A=_[p+"max"],C=b(E)&&b(A)&&E<A;r(u+p+"auto",!C)?r(u+p+"mid"):(r(u+p+"min"),r(u+p+"max"));var O,P,D=_.colorscale,z=d.colorscale;D!==void 0&&(O=!y(D)),z!==void 0&&(O=!y(z)),r(u+"autocolorscale",O),r(u+"colorscale"),r(u+"reversescale"),u!=="marker.line."&&(u&&h&&(P=a(_)),r(u+"showscale",P)&&(u&&d&&(m._template=d),k(_,m,n)))}},52075:function(L,M,e){"use strict";var b=e(39898),w=e(84267),a=e(92770),k=e(71828),y=e(7901),f=e(63282).isValid,l=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function s(u){var p,h,_,m=u._colorAx,d=m||u,x={};for(h=0;h<l.length;h++)x[_=l[h]]=d[_];if(m)for(p="c",h=0;h<t.length;h++)x[_=t[h]]=d["c"+_];else{var g;for(h=0;h<t.length;h++)((g="c"+(_=t[h]))in d||(g="z"+_)in d)&&(x[_]=d[g]);p=g.charAt(0)}return x._sync=function(v,T){var c=t.indexOf(v)!==-1?p+v:v;d[c]=d["_"+c]=T},x}function o(u){for(var p=s(u),h=p.min,_=p.max,m=p.reversescale?n(p.colorscale):p.colorscale,d=m.length,x=new Array(d),g=new Array(d),v=0;v<d;v++){var T=m[v];x[v]=h+T[0]*(_-h),g[v]=T[1]}return{domain:x,range:g}}function n(u){for(var p=u.length,h=new Array(p),_=p-1,m=0;_>=0;_--,m++){var d=u[_];h[m]=[1-d[0],d[1]]}return h}function r(u,p){p=p||{};for(var h=u.domain,_=u.range,m=_.length,d=new Array(m),x=0;x<m;x++){var g=w(_[x]).toRgb();d[x]=[g.r,g.g,g.b,g.a]}var v,T=b.scale.linear().domain(h).range(d).clamp(!0),c=p.noNumericCheck,E=p.returnArray;return(v=c&&E?T:c?function(A){return i(T(A))}:E?function(A){return a(A)?T(A):w(A).isValid()?A:y.defaultLine}:function(A){return a(A)?i(T(A)):w(A).isValid()?A:y.defaultLine}).domain=T.domain,v.range=function(){return _},v}function i(u){var p={r:u[0],g:u[1],b:u[2],a:u[3]};return w(p).toRgbString()}L.exports={hasColorscale:function(u,p,h){var _=p?k.nestedProperty(u,p).get()||{}:u,m=_[h||"color"],d=!1;if(k.isArrayOrTypedArray(m)){for(var x=0;x<m.length;x++)if(a(m[x])){d=!0;break}}return k.isPlainObject(_)&&(d||_.showscale===!0||a(_.cmin)&&a(_.cmax)||f(_.colorscale)||k.isPlainObject(_.colorbar))},extractOpts:s,extractScale:o,flipScale:n,makeColorScaleFunc:r,makeColorScaleFuncFromTrace:function(u,p){return r(o(u),p)}}},21081:function(L,M,e){"use strict";var b=e(63282),w=e(52075);L.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:b.scales,defaultScale:b.defaultScale,getScale:b.get,isValidScale:b.isValid,hasColorscale:w.hasColorscale,extractOpts:w.extractOpts,extractScale:w.extractScale,flipScale:w.flipScale,makeColorScaleFunc:w.makeColorScaleFunc,makeColorScaleFuncFromTrace:w.makeColorScaleFuncFromTrace}},72673:function(L,M,e){"use strict";var b=e(1426).extendFlat,w=e(50693),a=e(63282).scales;L.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:b({_isSubplotObj:!0,editType:"calc"},w("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(L,M,e){"use strict";var b=e(71828),w=e(44467),a=e(72673),k=e(1586);L.exports=function(y,f){function l(p,h){return b.coerce(y,f,a,p,h)}l("colorscale.sequential"),l("colorscale.sequentialminus"),l("colorscale.diverging");var t,s,o=f._colorAxes;function n(p,h){return b.coerce(t,s,a.coloraxis,p,h)}for(var r in o){var i=o[r];if(i[0])t=y[r]||{},(s=w.newContainer(f,r,"coloraxis"))._name=r,k(t,s,f,n,{prefix:"",cLetter:"c"});else{for(var u=0;u<i[2].length;u++)i[2][u]();delete f._colorAxes[r]}}}},63282:function(L,M,e){"use strict";var b=e(84267),w={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=w.RdBu;function k(y){var f=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||+y[0][0]!=0||+y[y.length-1][0]!=1)return!1;for(var l=0;l<y.length;l++){var t=y[l];if(t.length!==2||+t[0]<f||!b(t[1]).isValid())return!1;f=+t[0]}return!0}L.exports={scales:w,defaultScale:a,get:function(y,f){if(f||(f=a),!y)return f;function l(){try{y=w[y]||JSON.parse(y)}catch{y=f}}return typeof y=="string"&&(l(),typeof y=="string"&&l()),k(y)?y:f},isValid:function(y){return w[y]!==void 0||k(y)}}},92807:function(L){"use strict";L.exports=function(M,e,b,w,a){var k=(M-b)/(w-b),y=k+e/(w-b),f=(k+y)/2;return a==="left"||a==="bottom"?k:a==="center"||a==="middle"?f:a==="right"||a==="top"?y:k<.6666666666666666-f?k:y>1.3333333333333333-f?y:f}},70461:function(L,M,e){"use strict";var b=e(71828),w=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];L.exports=function(a,k,y,f){return a=y==="left"?0:y==="center"?1:y==="right"?2:b.constrain(Math.floor(3*a),0,2),k=f==="bottom"?0:f==="middle"?1:f==="top"?2:b.constrain(Math.floor(3*k),0,2),w[k][a]}},64505:function(L,M){"use strict";M.selectMode=function(e){return e==="lasso"||e==="select"},M.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},M.openMode=function(e){return e==="drawline"||e==="drawopenpath"},M.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},M.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},M.selectingOrDrawing=function(e){return M.freeMode(e)||M.rectMode(e)}},28569:function(L,M,e){"use strict";var b=e(48956),w=e(57035),a=e(38520),k=e(71828).removeElement,y=e(85555),f=L.exports={};f.align=e(92807),f.getCursor=e(70461);var l=e(26041);function t(){var o=document.createElement("div");o.className="dragcover";var n=o.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(o),o}function s(o){return b(o.changedTouches?o.changedTouches[0]:o,document.body)}f.unhover=l.wrapped,f.unhoverRaw=l.raw,f.init=function(o){var n,r,i,u,p,h,_,m,d=o.gd,x=1,g=d._context.doubleClickDelay,v=o.element;d._mouseDownTime||(d._mouseDownTime=0),v.style.pointerEvents="all",v.onmousedown=c,a?(v._ontouchstart&&v.removeEventListener("touchstart",v._ontouchstart),v._ontouchstart=c,v.addEventListener("touchstart",c,{passive:!1})):v.ontouchstart=c;var T=o.clampFn||function(C,O,P){return Math.abs(C)<P&&(C=0),Math.abs(O)<P&&(O=0),[C,O]};function c(C){d._dragged=!1,d._dragging=!0;var O=s(C);n=O[0],r=O[1],_=C.target,h=C,m=C.buttons===2||C.ctrlKey,C.clientX===void 0&&C.clientY===void 0&&(C.clientX=n,C.clientY=r),(i=new Date().getTime())-d._mouseDownTime<g?x+=1:(x=1,d._mouseDownTime=i),o.prepFn&&o.prepFn(C,n,r),w&&!m?(p=t()).style.cursor=window.getComputedStyle(v).cursor:w||(p=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(v).cursor),document.addEventListener("mouseup",A),document.addEventListener("touchend",A),o.dragmode!==!1&&(C.preventDefault(),document.addEventListener("mousemove",E),document.addEventListener("touchmove",E,{passive:!1}))}function E(C){C.preventDefault();var O=s(C),P=o.minDrag||y.MINDRAG,D=T(O[0]-n,O[1]-r,P),z=D[0],V=D[1];(z||V)&&(d._dragged=!0,f.unhover(d,C)),d._dragged&&o.moveFn&&!m&&(d._dragdata={element:v,dx:z,dy:V},o.moveFn(z,V))}function A(C){if(delete d._dragdata,o.dragmode!==!1&&(C.preventDefault(),document.removeEventListener("mousemove",E),document.removeEventListener("touchmove",E)),document.removeEventListener("mouseup",A),document.removeEventListener("touchend",A),w?k(p):u&&(p.documentElement.style.cursor=u,u=null),d._dragging){if(d._dragging=!1,new Date().getTime()-d._mouseDownTime>g&&(x=Math.max(x-1,1)),d._dragged)o.doneFn&&o.doneFn();else if(o.clickFn&&o.clickFn(x,h),!m){var O;try{O=new MouseEvent("click",C)}catch{var P=s(C);(O=document.createEvent("MouseEvents")).initMouseEvent("click",C.bubbles,C.cancelable,C.view,C.detail,C.screenX,C.screenY,P[0],P[1],C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget)}_.dispatchEvent(O)}d._dragging=!1,d._dragged=!1}else d._dragged=!1}},f.coverSlip=t},26041:function(L,M,e){"use strict";var b=e(11086),w=e(79990),a=e(24401).getGraphDiv,k=e(26675),y=L.exports={};y.wrapped=function(f,l,t){(f=a(f))._fullLayout&&w.clear(f._fullLayout._uid+k.HOVERID),y.raw(f,l,t)},y.raw=function(f,l){var t=f._fullLayout,s=f._hoverdata;l||(l={}),l.target&&!f._dragged&&b.triggerHandler(f,"plotly_beforehover",l)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),f._hoverdata=void 0,l.target&&s&&f.emit("plotly_unhover",{event:l,points:s}))}},79952:function(L,M){"use strict";M.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},M.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=w.numberFormat,k=e(92770),y=e(84267),f=e(73972),l=e(7901),t=e(21081),s=w.strTranslate,o=e(63893),n=e(77922),r=e(18783).LINE_SPACING,i=e(37822).DESELECTDIM,u=e(34098),p=e(39984),h=e(23469).appendArrayPointValue,_=L.exports={};function m(ye,Ae,Me){var ke=Ae.fillpattern,te=ke&&_.getPatternAttr(ke.shape,0,"");if(te){var ue=_.getPatternAttr(ke.bgcolor,0,null),ge=_.getPatternAttr(ke.fgcolor,0,null),we=ke.fgopacity,Ee=_.getPatternAttr(ke.size,0,8),Be=_.getPatternAttr(ke.solidity,0,.3),Re=Ae.uid;_.pattern(ye,"point",Me,Re,te,Ee,Be,void 0,ke.fillmode,ue,ge,we)}else Ae.fillcolor&&ye.call(l.fill,Ae.fillcolor)}_.font=function(ye,Ae,Me,ke){w.isPlainObject(Ae)&&(ke=Ae.color,Me=Ae.size,Ae=Ae.family),Ae&&ye.style("font-family",Ae),Me+1&&ye.style("font-size",Me+"px"),ke&&ye.call(l.fill,ke)},_.setPosition=function(ye,Ae,Me){ye.attr("x",Ae).attr("y",Me)},_.setSize=function(ye,Ae,Me){ye.attr("width",Ae).attr("height",Me)},_.setRect=function(ye,Ae,Me,ke,te){ye.call(_.setPosition,Ae,Me).call(_.setSize,ke,te)},_.translatePoint=function(ye,Ae,Me,ke){var te=Me.c2p(ye.x),ue=ke.c2p(ye.y);return!!(k(te)&&k(ue)&&Ae.node())&&(Ae.node().nodeName==="text"?Ae.attr("x",te).attr("y",ue):Ae.attr("transform",s(te,ue)),!0)},_.translatePoints=function(ye,Ae,Me){ye.each(function(ke){var te=b.select(this);_.translatePoint(ke,te,Ae,Me)})},_.hideOutsideRangePoint=function(ye,Ae,Me,ke,te,ue){Ae.attr("display",Me.isPtWithinRange(ye,te)&&ke.isPtWithinRange(ye,ue)?null:"none")},_.hideOutsideRangePoints=function(ye,Ae){if(Ae._hasClipOnAxisFalse){var Me=Ae.xaxis,ke=Ae.yaxis;ye.each(function(te){var ue=te[0].trace,ge=ue.xcalendar,we=ue.ycalendar,Ee=f.traceIs(ue,"bar-like")?".bartext":".point,.textpoint";ye.selectAll(Ee).each(function(Be){_.hideOutsideRangePoint(Be,b.select(this),Me,ke,ge,we)})})}},_.crispRound=function(ye,Ae,Me){return Ae&&k(Ae)?ye._context.staticPlot?Ae:Ae<1?1:Math.round(Ae):Me||0},_.singleLineStyle=function(ye,Ae,Me,ke,te){Ae.style("fill","none");var ue=(((ye||[])[0]||{}).trace||{}).line||{},ge=Me||ue.width||0,we=te||ue.dash||"";l.stroke(Ae,ke||ue.color),_.dashLine(Ae,we,ge)},_.lineGroupStyle=function(ye,Ae,Me,ke){ye.style("fill","none").each(function(te){var ue=(((te||[])[0]||{}).trace||{}).line||{},ge=Ae||ue.width||0,we=ke||ue.dash||"";b.select(this).call(l.stroke,Me||ue.color).call(_.dashLine,we,ge)})},_.dashLine=function(ye,Ae,Me){Me=+Me||0,Ae=_.dashStyle(Ae,Me),ye.style({"stroke-dasharray":Ae,"stroke-width":Me+"px"})},_.dashStyle=function(ye,Ae){Ae=+Ae||1;var Me=Math.max(Ae,3);return ye==="solid"?ye="":ye==="dot"?ye=Me+"px,"+Me+"px":ye==="dash"?ye=3*Me+"px,"+3*Me+"px":ye==="longdash"?ye=5*Me+"px,"+5*Me+"px":ye==="dashdot"?ye=3*Me+"px,"+Me+"px,"+Me+"px,"+Me+"px":ye==="longdashdot"&&(ye=5*Me+"px,"+2*Me+"px,"+Me+"px,"+2*Me+"px"),ye},_.singleFillStyle=function(ye,Ae){var Me=b.select(ye.node());m(ye,((Me.data()[0]||[])[0]||{}).trace||{},Ae)},_.fillGroupStyle=function(ye,Ae){ye.style("stroke-width",0).each(function(Me){var ke=b.select(this);Me[0].trace&&m(ke,Me[0].trace,Ae)})};var d=e(90998);_.symbolNames=[],_.symbolFuncs=[],_.symbolBackOffs=[],_.symbolNeedLines={},_.symbolNoDot={},_.symbolNoFill={},_.symbolList=[],Object.keys(d).forEach(function(ye){var Ae=d[ye],Me=Ae.n;_.symbolList.push(Me,String(Me),ye,Me+100,String(Me+100),ye+"-open"),_.symbolNames[Me]=ye,_.symbolFuncs[Me]=Ae.f,_.symbolBackOffs[Me]=Ae.backoff||0,Ae.needLine&&(_.symbolNeedLines[Me]=!0),Ae.noDot?_.symbolNoDot[Me]=!0:_.symbolList.push(Me+200,String(Me+200),ye+"-dot",Me+300,String(Me+300),ye+"-open-dot"),Ae.noFill&&(_.symbolNoFill[Me]=!0)});var x=_.symbolNames.length;function g(ye,Ae,Me,ke){var te=ye%100;return _.symbolFuncs[te](Ae,Me,ke)+(ye>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}_.symbolNumber=function(ye){if(k(ye))ye=+ye;else if(typeof ye=="string"){var Ae=0;ye.indexOf("-open")>0&&(Ae=100,ye=ye.replace("-open","")),ye.indexOf("-dot")>0&&(Ae+=200,ye=ye.replace("-dot","")),(ye=_.symbolNames.indexOf(ye))>=0&&(ye+=Ae)}return ye%100>=x||ye>=400?0:Math.floor(Math.max(ye,0))};var v={x1:1,x2:0,y1:0,y2:0},T={x1:0,x2:0,y1:1,y2:0},c=a("~f"),E={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:v},horizontalreversed:{node:"linearGradient",attrs:v,reversed:!0},vertical:{node:"linearGradient",attrs:T},verticalreversed:{node:"linearGradient",attrs:T,reversed:!0}};_.gradient=function(ye,Ae,Me,ke,te,ue){for(var ge=te.length,we=E[ke],Ee=new Array(ge),Be=0;Be<ge;Be++)we.reversed?Ee[ge-1-Be]=[c(100*(1-te[Be][0])),te[Be][1]]:Ee[Be]=[c(100*te[Be][0]),te[Be][1]];var Re=Ae._fullLayout,je="g"+Re._uid+"-"+Me,he=Re._defs.select(".gradients").selectAll("#"+je).data([ke+Ee.join(";")],w.identity);he.exit().remove(),he.enter().append(we.node).each(function(){var _e=b.select(this);we.attrs&&_e.attr(we.attrs),_e.attr("id",je);var Te=_e.selectAll("stop").data(Ee);Te.exit().remove(),Te.enter().append("stop"),Te.each(function(Fe){var Ye=y(Fe[1]);b.select(this).attr({offset:Fe[0]+"%","stop-color":l.tinyRGB(Ye),"stop-opacity":Ye.getAlpha()})})}),ye.style(ue,K(je,Ae)).style(ue+"-opacity",null),ye.classed("gradient_filled",!0)},_.pattern=function(ye,Ae,Me,ke,te,ue,ge,we,Ee,Be,Re,je){var he=Ae==="legend";we&&(Ee==="overlay"?(Be=we,Re=l.contrast(Be)):(Be=void 0,Re=we));var _e,Te,Fe,Ye,Ge,ot,st,ht,xt,Ct=Me._fullLayout,St="p"+Ct._uid+"-"+ke,kt={},Nt=y(Re),Dt=l.tinyRGB(Nt),Et=je*Nt.getAlpha();switch(te){case"/":_e=ue*Math.sqrt(2),Te=ue*Math.sqrt(2),ot="path",kt={d:Fe="M-"+_e/4+","+Te/4+"l"+_e/2+",-"+Te/2+"M0,"+Te+"L"+_e+",0M"+_e/4*3+","+Te/4*5+"l"+_e/2+",-"+Te/2,opacity:Et,stroke:Dt,"stroke-width":(Ye=ge*ue)+"px"};break;case"\\":_e=ue*Math.sqrt(2),Te=ue*Math.sqrt(2),ot="path",kt={d:Fe="M"+_e/4*3+",-"+Te/4+"l"+_e/2+","+Te/2+"M0,0L"+_e+","+Te+"M-"+_e/4+","+Te/4*3+"l"+_e/2+","+Te/2,opacity:Et,stroke:Dt,"stroke-width":(Ye=ge*ue)+"px"};break;case"x":_e=ue*Math.sqrt(2),Te=ue*Math.sqrt(2),Fe="M-"+_e/4+","+Te/4+"l"+_e/2+",-"+Te/2+"M0,"+Te+"L"+_e+",0M"+_e/4*3+","+Te/4*5+"l"+_e/2+",-"+Te/2+"M"+_e/4*3+",-"+Te/4+"l"+_e/2+","+Te/2+"M0,0L"+_e+","+Te+"M-"+_e/4+","+Te/4*3+"l"+_e/2+","+Te/2,Ye=ue-ue*Math.sqrt(1-ge),ot="path",kt={d:Fe,opacity:Et,stroke:Dt,"stroke-width":Ye+"px"};break;case"|":ot="path",ot="path",kt={d:Fe="M"+(_e=ue)/2+",0L"+_e/2+","+(Te=ue),opacity:Et,stroke:Dt,"stroke-width":(Ye=ge*ue)+"px"};break;case"-":ot="path",ot="path",kt={d:Fe="M0,"+(Te=ue)/2+"L"+(_e=ue)+","+Te/2,opacity:Et,stroke:Dt,"stroke-width":(Ye=ge*ue)+"px"};break;case"+":ot="path",Fe="M"+(_e=ue)/2+",0L"+_e/2+","+(Te=ue)+"M0,"+Te/2+"L"+_e+","+Te/2,Ye=ue-ue*Math.sqrt(1-ge),ot="path",kt={d:Fe,opacity:Et,stroke:Dt,"stroke-width":Ye+"px"};break;case".":_e=ue,Te=ue,ge<Math.PI/4?Ge=Math.sqrt(ge*ue*ue/Math.PI):(st=ge,ht=Math.PI/4,Ge=(xt=ue/2)+(ue/Math.sqrt(2)-xt)*(st-ht)/(1-ht)),ot="circle",kt={cx:_e/2,cy:Te/2,r:Ge,opacity:Et,fill:Dt}}var Wt=[te||"noSh",Be||"noBg",Re||"noFg",ue,ge].join(";"),Ht=Ct._defs.select(".patterns").selectAll("#"+St).data([Wt],w.identity);Ht.exit().remove(),Ht.enter().append("pattern").each(function(){var Ke=b.select(this);if(Ke.attr({id:St,width:_e+"px",height:Te+"px",patternUnits:"userSpaceOnUse",patternTransform:he?"scale(0.8)":""}),Be){var $e=y(Be),Ue=l.tinyRGB($e),nt=$e.getAlpha(),ct=Ke.selectAll("rect").data([0]);ct.exit().remove(),ct.enter().append("rect").attr({width:_e+"px",height:Te+"px",fill:Ue,"fill-opacity":nt})}var Oe=Ke.selectAll(ot).data([0]);Oe.exit().remove(),Oe.enter().append(ot).attr(kt)}),ye.style("fill",K(St,Me)).style("fill-opacity",null),ye.classed("pattern_filled",!0)},_.initGradients=function(ye){var Ae=ye._fullLayout;w.ensureSingle(Ae._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),b.select(ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},_.initPatterns=function(ye){var Ae=ye._fullLayout;w.ensureSingle(Ae._defs,"g","patterns").selectAll("pattern").remove(),b.select(ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},_.getPatternAttr=function(ye,Ae,Me){return ye&&w.isArrayOrTypedArray(ye)?Ae<ye.length?ye[Ae]:Me:ye},_.pointStyle=function(ye,Ae,Me){if(ye.size()){var ke=_.makePointStyleFns(Ae);ye.each(function(te){_.singlePointStyle(te,b.select(this),Ae,ke,Me)})}},_.singlePointStyle=function(ye,Ae,Me,ke,te){var ue=Me.marker,ge=ue.line;if(Ae.style("opacity",ke.selectedOpacityFn?ke.selectedOpacityFn(ye):ye.mo===void 0?ue.opacity:ye.mo),ke.ms2mrc){var we;we=ye.ms==="various"||ue.size==="various"?3:ke.ms2mrc(ye.ms),ye.mrc=we,ke.selectedSizeFn&&(we=ye.mrc=ke.selectedSizeFn(ye));var Ee=_.symbolNumber(ye.mx||ue.symbol)||0;ye.om=Ee%200>=100;var Be=Le(ye,Me),Re=$(ye,Me);Ae.attr("d",g(Ee,we,Be,Re))}var je,he,_e,Te=!1;if(ye.so)_e=ge.outlierwidth,he=ge.outliercolor,je=ue.outliercolor;else{var Fe=(ge||{}).width;_e=(ye.mlw+1||Fe+1||(ye.trace?(ye.trace.marker.line||{}).width:0)+1)-1||0,he="mlc"in ye?ye.mlcc=ke.lineScale(ye.mlc):w.isArrayOrTypedArray(ge.color)?l.defaultLine:ge.color,w.isArrayOrTypedArray(ue.color)&&(je=l.defaultLine,Te=!0),je="mc"in ye?ye.mcc=ke.markerScale(ye.mc):ue.color||"rgba(0,0,0,0)",ke.selectedColorFn&&(je=ke.selectedColorFn(ye))}if(ye.om)Ae.call(l.stroke,je).style({"stroke-width":(_e||1)+"px",fill:"none"});else{Ae.style("stroke-width",(ye.isBlank?0:_e)+"px");var Ye=ue.gradient,Ge=ye.mgt;Ge?Te=!0:Ge=Ye&&Ye.type,w.isArrayOrTypedArray(Ge)&&(Ge=Ge[0],E[Ge]||(Ge=0));var ot=ue.pattern,st=ot&&_.getPatternAttr(ot.shape,ye.i,"");if(Ge&&Ge!=="none"){var ht=ye.mgc;ht?Te=!0:ht=Ye.color;var xt=Me.uid;Te&&(xt+="-"+ye.i),_.gradient(Ae,te,xt,Ge,[[0,ht],[1,je]],"fill")}else if(st){var Ct=_.getPatternAttr(ot.bgcolor,ye.i,null),St=_.getPatternAttr(ot.fgcolor,ye.i,null),kt=ot.fgopacity,Nt=_.getPatternAttr(ot.size,ye.i,8),Dt=_.getPatternAttr(ot.solidity,ye.i,.3),Et=ye.mcc||w.isArrayOrTypedArray(ot.shape)||w.isArrayOrTypedArray(ot.bgcolor)||w.isArrayOrTypedArray(ot.size)||w.isArrayOrTypedArray(ot.solidity),Wt=Me.uid;Et&&(Wt+="-"+ye.i),_.pattern(Ae,"point",te,Wt,st,Nt,Dt,ye.mcc,ot.fillmode,Ct,St,kt)}else l.fill(Ae,je);_e&&l.stroke(Ae,he)}},_.makePointStyleFns=function(ye){var Ae={},Me=ye.marker;return Ae.markerScale=_.tryColorscale(Me,""),Ae.lineScale=_.tryColorscale(Me,"line"),f.traceIs(ye,"symbols")&&(Ae.ms2mrc=u.isBubble(ye)?p(ye):function(){return(Me.size||6)/2}),ye.selectedpoints&&w.extendFlat(Ae,_.makeSelectedPointStyleFns(ye)),Ae},_.makeSelectedPointStyleFns=function(ye){var Ae={},Me=ye.selected||{},ke=ye.unselected||{},te=ye.marker||{},ue=Me.marker||{},ge=ke.marker||{},we=te.opacity,Ee=ue.opacity,Be=ge.opacity,Re=Ee!==void 0,je=Be!==void 0;(w.isArrayOrTypedArray(we)||Re||je)&&(Ae.selectedOpacityFn=function(ht){var xt=ht.mo===void 0?te.opacity:ht.mo;return ht.selected?Re?Ee:xt:je?Be:i*xt});var he=te.color,_e=ue.color,Te=ge.color;(_e||Te)&&(Ae.selectedColorFn=function(ht){var xt=ht.mcc||he;return ht.selected?_e||xt:Te||xt});var Fe=te.size,Ye=ue.size,Ge=ge.size,ot=Ye!==void 0,st=Ge!==void 0;return f.traceIs(ye,"symbols")&&(ot||st)&&(Ae.selectedSizeFn=function(ht){var xt=ht.mrc||Fe/2;return ht.selected?ot?Ye/2:xt:st?Ge/2:xt}),Ae},_.makeSelectedTextStyleFns=function(ye){var Ae={},Me=ye.selected||{},ke=ye.unselected||{},te=ye.textfont||{},ue=Me.textfont||{},ge=ke.textfont||{},we=te.color,Ee=ue.color,Be=ge.color;return Ae.selectedTextColorFn=function(Re){var je=Re.tc||we;return Re.selected?Ee||je:Be||(Ee?je:l.addOpacity(je,i))},Ae},_.selectedPointStyle=function(ye,Ae){if(ye.size()&&Ae.selectedpoints){var Me=_.makeSelectedPointStyleFns(Ae),ke=Ae.marker||{},te=[];Me.selectedOpacityFn&&te.push(function(ue,ge){ue.style("opacity",Me.selectedOpacityFn(ge))}),Me.selectedColorFn&&te.push(function(ue,ge){l.fill(ue,Me.selectedColorFn(ge))}),Me.selectedSizeFn&&te.push(function(ue,ge){var we=ge.mx||ke.symbol||0,Ee=Me.selectedSizeFn(ge);ue.attr("d",g(_.symbolNumber(we),Ee,Le(ge,Ae),$(ge,Ae))),ge.mrc2=Ee}),te.length&&ye.each(function(ue){for(var ge=b.select(this),we=0;we<te.length;we++)te[we](ge,ue)})}},_.tryColorscale=function(ye,Ae){var Me=Ae?w.nestedProperty(ye,Ae).get():ye;if(Me){var ke=Me.color;if((Me.colorscale||Me._colorAx)&&w.isArrayOrTypedArray(ke))return t.makeColorScaleFuncFromTrace(Me)}return w.identity};var A,C,O={start:1,end:-1,middle:0,bottom:1,top:-1};function P(ye,Ae,Me,ke,te){var ue=b.select(ye.node().parentNode),ge=Ae.indexOf("top")!==-1?"top":Ae.indexOf("bottom")!==-1?"bottom":"middle",we=Ae.indexOf("left")!==-1?"end":Ae.indexOf("right")!==-1?"start":"middle",Ee=ke?ke/.8+1:0,Be=(o.lineCount(ye)-1)*r+1,Re=O[we]*Ee,je=.75*Me+O[ge]*Ee+(O[ge]-1)*Be*Me/2;ye.attr("text-anchor",we),te||ue.attr("transform",s(Re,je))}function D(ye,Ae){var Me=ye.ts||Ae.textfont.size;return k(Me)&&Me>0?Me:0}function z(ye,Ae,Me){return Me&&(ye=H(ye)),Ae?F(ye[1]):V(ye[0])}function V(ye){var Ae=b.round(ye,2);return A=Ae,Ae}function F(ye){var Ae=b.round(ye,2);return C=Ae,Ae}function W(ye,Ae,Me,ke){var te=ye[0]-Ae[0],ue=ye[1]-Ae[1],ge=Me[0]-Ae[0],we=Me[1]-Ae[1],Ee=Math.pow(te*te+ue*ue,.25),Be=Math.pow(ge*ge+we*we,.25),Re=(Be*Be*te-Ee*Ee*ge)*ke,je=(Be*Be*ue-Ee*Ee*we)*ke,he=3*Be*(Ee+Be),_e=3*Ee*(Ee+Be);return[[V(Ae[0]+(he&&Re/he)),F(Ae[1]+(he&&je/he))],[V(Ae[0]-(_e&&Re/_e)),F(Ae[1]-(_e&&je/_e))]]}_.textPointStyle=function(ye,Ae,Me){if(ye.size()){var ke;if(Ae.selectedpoints){var te=_.makeSelectedTextStyleFns(Ae);ke=te.selectedTextColorFn}var ue=Ae.texttemplate,ge=Me._fullLayout;ye.each(function(we){var Ee=b.select(this),Be=ue?w.extractOption(we,Ae,"txt","texttemplate"):w.extractOption(we,Ae,"tx","text");if(Be||Be===0){if(ue){var Re=Ae._module.formatLabels,je=Re?Re(we,Ae,ge):{},he={};h(he,Ae,we.i);var _e=Ae._meta||{};Be=w.texttemplateString(Be,je,ge._d3locale,he,we,_e)}var Te=we.tp||Ae.textposition,Fe=D(we,Ae),Ye=ke?ke(we):we.tc||Ae.textfont.color;Ee.call(_.font,we.tf||Ae.textfont.family,Fe,Ye).text(Be).call(o.convertToTspans,Me).call(P,Te,Fe,we.mrc)}else Ee.remove()})}},_.selectedTextStyle=function(ye,Ae){if(ye.size()&&Ae.selectedpoints){var Me=_.makeSelectedTextStyleFns(Ae);ye.each(function(ke){var te=b.select(this),ue=Me.selectedTextColorFn(ke),ge=ke.tp||Ae.textposition,we=D(ke,Ae);l.fill(te,ue);var Ee=f.traceIs(Ae,"bar-like");P(te,ge,we,ke.mrc2||ke.mrc,Ee)})}},_.smoothopen=function(ye,Ae){if(ye.length<3)return"M"+ye.join("L");var Me,ke="M"+ye[0],te=[];for(Me=1;Me<ye.length-1;Me++)te.push(W(ye[Me-1],ye[Me],ye[Me+1],Ae));for(ke+="Q"+te[0][0]+" "+ye[1],Me=2;Me<ye.length-1;Me++)ke+="C"+te[Me-2][1]+" "+te[Me-1][0]+" "+ye[Me];return ke+"Q"+te[ye.length-3][1]+" "+ye[ye.length-1]},_.smoothclosed=function(ye,Ae){if(ye.length<3)return"M"+ye.join("L")+"Z";var Me,ke="M"+ye[0],te=ye.length-1,ue=[W(ye[te],ye[0],ye[1],Ae)];for(Me=1;Me<te;Me++)ue.push(W(ye[Me-1],ye[Me],ye[Me+1],Ae));for(ue.push(W(ye[te-1],ye[te],ye[0],Ae)),Me=1;Me<=te;Me++)ke+="C"+ue[Me-1][1]+" "+ue[Me][0]+" "+ye[Me];return ke+"C"+ue[te][1]+" "+ue[0][0]+" "+ye[0]+"Z"};var B={hv:function(ye,Ae,Me){return"H"+V(Ae[0])+"V"+z(Ae,1,Me)},vh:function(ye,Ae,Me){return"V"+F(Ae[1])+"H"+z(Ae,0,Me)},hvh:function(ye,Ae,Me){return"H"+V((ye[0]+Ae[0])/2)+"V"+F(Ae[1])+"H"+z(Ae,0,Me)},vhv:function(ye,Ae,Me){return"V"+F((ye[1]+Ae[1])/2)+"H"+V(Ae[0])+"V"+z(Ae,1,Me)}},U=function(ye,Ae,Me){return"L"+z(Ae,0,Me)+","+z(Ae,1,Me)};function H(ye,Ae){var Me=ye.backoff,ke=ye.trace,te=ye.d,ue=ye.i;if(Me&&ke&&ke.marker&&ke.marker.angle%360==0&&ke.line&&ke.line.shape!=="spline"){var ge=w.isArrayOrTypedArray(Me),we=ye,Ee=Ae?Ae[0]:A||0,Be=Ae?Ae[1]:C||0,Re=we[0],je=we[1],he=Re-Ee,_e=je-Be,Te=Math.atan2(_e,he),Fe=ge?Me[ue]:Me;if(Fe==="auto"){var Ye=we.i;ke.type==="scatter"&&Ye--;var Ge=we.marker,ot=Ge.symbol;w.isArrayOrTypedArray(ot)&&(ot=ot[Ye]);var st=Ge.size;w.isArrayOrTypedArray(st)&&(st=st[Ye]),Fe=Ge?_.symbolBackOffs[_.symbolNumber(ot)]*st:0,Fe+=_.getMarkerStandoff(te[Ye],ke)||0}var ht=Re-Fe*Math.cos(Te),xt=je-Fe*Math.sin(Te);(ht<=Re&&ht>=Ee||ht>=Re&&ht<=Ee)&&(xt<=je&&xt>=Be||xt>=je&&xt<=Be)&&(ye=[ht,xt])}return ye}_.steps=function(ye){var Ae=B[ye]||U;return function(Me){for(var ke="M"+V(Me[0][0])+","+F(Me[0][1]),te=Me.length,ue=1;ue<te;ue++)ke+=Ae(Me[ue-1],Me[ue],ue===te-1);return ke}},_.applyBackoff=H,_.makeTester=function(){var ye=w.ensureSingleById(b.select("body"),"svg","js-plotly-tester",function(Me){Me.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ae=w.ensureSingle(ye,"path","js-reference-point",function(Me){Me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});_.tester=ye,_.testref=Ae},_.savedBBoxes={};var q=0;function ee(ye){var Ae=ye.getAttribute("data-unformatted");if(Ae!==null)return Ae+ye.getAttribute("data-math")+ye.getAttribute("text-anchor")+ye.getAttribute("style")}function K(ye,Ae){if(!ye)return null;var Me=Ae._context,ke=Me._exportedPlot?"":Me._baseUrl||"";return ke?"url('"+ke+"#"+ye+"')":"url(#"+ye+")"}_.bBox=function(ye,Ae,Me){var ke,te,ue;if(Me||(Me=ee(ye)),Me){if(ke=_.savedBBoxes[Me])return w.extendFlat({},ke)}else if(ye.childNodes.length===1){var ge=ye.childNodes[0];if(Me=ee(ge)){var we=+ge.getAttribute("x")||0,Ee=+ge.getAttribute("y")||0,Be=ge.getAttribute("transform");if(!Be){var Re=_.bBox(ge,!1,Me);return we&&(Re.left+=we,Re.right+=we),Ee&&(Re.top+=Ee,Re.bottom+=Ee),Re}if(Me+="~"+we+"~"+Ee+"~"+Be,ke=_.savedBBoxes[Me])return w.extendFlat({},ke)}}Ae?te=ye:(ue=_.tester.node(),te=ye.cloneNode(!0),ue.appendChild(te)),b.select(te).attr("transform",null).call(o.positionText,0,0);var je=te.getBoundingClientRect(),he=_.testref.node().getBoundingClientRect();Ae||ue.removeChild(te);var _e={height:je.height,width:je.width,left:je.left-he.left,top:je.top-he.top,right:je.right-he.left,bottom:je.bottom-he.top};return q>=1e4&&(_.savedBBoxes={},q=0),Me&&(_.savedBBoxes[Me]=_e),q++,w.extendFlat({},_e)},_.setClipUrl=function(ye,Ae,Me){ye.attr("clip-path",K(Ae,Me))},_.getTranslate=function(ye){var Ae=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Me,ke,te){return[ke,te].join(" ")}).split(" ");return{x:+Ae[0]||0,y:+Ae[1]||0}},_.setTranslate=function(ye,Ae,Me){var ke=ye.attr?"attr":"getAttribute",te=ye.attr?"attr":"setAttribute",ue=ye[ke]("transform")||"";return Ae=Ae||0,Me=Me||0,ue=ue.replace(/(\btranslate\(.*?\);?)/,"").trim(),ue=(ue+=s(Ae,Me)).trim(),ye[te]("transform",ue),ue},_.getScale=function(ye){var Ae=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Me,ke,te){return[ke,te].join(" ")}).split(" ");return{x:+Ae[0]||1,y:+Ae[1]||1}},_.setScale=function(ye,Ae,Me){var ke=ye.attr?"attr":"getAttribute",te=ye.attr?"attr":"setAttribute",ue=ye[ke]("transform")||"";return Ae=Ae||1,Me=Me||1,ue=ue.replace(/(\bscale\(.*?\);?)/,"").trim(),ue=(ue+="scale("+Ae+","+Me+")").trim(),ye[te]("transform",ue),ue};var J=/\s*sc.*/;_.setPointGroupScale=function(ye,Ae,Me){if(Ae=Ae||1,Me=Me||1,ye){var ke=Ae===1&&Me===1?"":"scale("+Ae+","+Me+")";ye.each(function(){var te=(this.getAttribute("transform")||"").replace(J,"");te=(te+=ke).trim(),this.setAttribute("transform",te)})}};var Z=/translate\([^)]*\)\s*$/;function $(ye,Ae){var Me;return ye&&(Me=ye.mf),Me===void 0&&(Me=Ae.marker&&Ae.marker.standoff||0),Ae._geo||Ae._xA?Me:-Me}_.setTextPointsScale=function(ye,Ae,Me){ye&&ye.each(function(){var ke,te=b.select(this),ue=te.select("text");if(ue.node()){var ge=parseFloat(ue.attr("x")||0),we=parseFloat(ue.attr("y")||0),Ee=(te.attr("transform")||"").match(Z);ke=Ae===1&&Me===1?[]:[s(ge,we),"scale("+Ae+","+Me+")",s(-ge,-we)],Ee&&ke.push(Ee),te.attr("transform",ke.join(""))}})},_.getMarkerStandoff=$;var ne,ae,oe,se,ce,me,xe=Math.atan2,ve=Math.cos,fe=Math.sin;function pe(ye,Ae){var Me=Ae[0],ke=Ae[1];return[Me*ve(ye)-ke*fe(ye),Me*fe(ye)+ke*ve(ye)]}function Le(ye,Ae){var Me,ke,te=ye.ma;te===void 0&&(te=Ae.marker.angle||0);var ue=Ae.marker.angleref;if(ue==="previous"||ue==="north"){if(Ae._geo){var ge=Ae._geo.project(ye.lonlat);Me=ge[0],ke=ge[1]}else{var we=Ae._xA,Ee=Ae._yA;if(!we||!Ee)return 90;Me=we.c2p(ye.x),ke=Ee.c2p(ye.y)}if(Ae._geo){var Be,Re=ye.lonlat[0],je=ye.lonlat[1],he=Ae._geo.project([Re,je+1e-5]),_e=Ae._geo.project([Re+1e-5,je]),Te=xe(_e[1]-ke,_e[0]-Me),Fe=xe(he[1]-ke,he[0]-Me);if(ue==="north")Be=te/180*Math.PI;else if(ue==="previous"){var Ye=Re/180*Math.PI,Ge=je/180*Math.PI,ot=ne/180*Math.PI,st=ae/180*Math.PI,ht=ot-Ye,xt=ve(st)*fe(ht),Ct=fe(st)*ve(Ge)-ve(st)*fe(Ge)*ve(ht);Be=-xe(xt,Ct)-Math.PI,ne=Re,ae=je}var St=pe(Te,[ve(Be),0]),kt=pe(Fe,[fe(Be),0]);te=xe(St[1]+kt[1],St[0]+kt[0])/Math.PI*180,ue!=="previous"||me===Ae.uid&&ye.i===ce+1||(te=null)}if(ue==="previous"&&!Ae._geo)if(me===Ae.uid&&ye.i===ce+1&&k(Me)&&k(ke)){var Nt=Me-oe,Dt=ke-se,Et=Ae.line&&Ae.line.shape||"",Wt=Et.slice(Et.length-1);Wt==="h"&&(Dt=0),Wt==="v"&&(Nt=0),te+=xe(Dt,Nt)/Math.PI*180+90}else te=null}return oe=Me,se=ke,ce=ye.i,me=Ae.uid,te}_.getMarkerAngle=Le},90998:function(L,M,e){"use strict";var b,w,a,k,y=e(95616),f=e(39898).round,l="M0,0Z",t=Math.sqrt(2),s=Math.sqrt(3),o=Math.PI,n=Math.cos,r=Math.sin;function i(p){return p===null}function u(p,h,_){if(!(p&&p%360!=0||h))return _;if(a===p&&k===h&&b===_)return w;function m(z,V){var F=n(z),W=r(z),B=V[0],U=V[1]+(h||0);return[B*F-U*W,B*W+U*F]}a=p,k=h,b=_;for(var d=p/180*o,x=0,g=0,v=y(_),T="",c=0;c<v.length;c++){var E=v[c],A=E[0],C=x,O=g;if(A==="M"||A==="L")x=+E[1],g=+E[2];else if(A==="m"||A==="l")x+=+E[1],g+=+E[2];else if(A==="H")x=+E[1];else if(A==="h")x+=+E[1];else if(A==="V")g=+E[1];else if(A==="v")g+=+E[1];else if(A==="A"){x=+E[1],g=+E[2];var P=m(d,[+E[6],+E[7]]);E[6]=P[0],E[7]=P[1],E[3]=+E[3]+p}A!=="H"&&A!=="V"||(A="L"),A!=="h"&&A!=="v"||(A="l"),A!=="m"&&A!=="l"||(x-=C,g-=O);var D=m(d,[x,g]);A!=="H"&&A!=="V"||(A="L"),A!=="M"&&A!=="L"&&A!=="m"&&A!=="l"||(E[1]=D[0],E[2]=D[1]),E[0]=A,T+=E[0]+E.slice(1).join(",")}return w=T,T}L.exports={circle:{n:0,f:function(p,h,_){if(i(h))return l;var m=f(p,2),d="M"+m+",0A"+m+","+m+" 0 1,1 0,-"+m+"A"+m+","+m+" 0 0,1 "+m+",0Z";return _?u(h,_,d):d}},square:{n:1,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+","+m+"H-"+m+"V-"+m+"H"+m+"Z")}},diamond:{n:2,f:function(p,h,_){if(i(h))return l;var m=f(1.3*p,2);return u(h,_,"M"+m+",0L0,"+m+"L-"+m+",0L0,-"+m+"Z")}},cross:{n:3,f:function(p,h,_){if(i(h))return l;var m=f(.4*p,2),d=f(1.2*p,2);return u(h,_,"M"+d+","+m+"H"+m+"V"+d+"H-"+m+"V"+m+"H-"+d+"V-"+m+"H-"+m+"V-"+d+"H"+m+"V-"+m+"H"+d+"Z")}},x:{n:4,f:function(p,h,_){if(i(h))return l;var m=f(.8*p/t,2),d="l"+m+","+m,x="l"+m+",-"+m,g="l-"+m+",-"+m,v="l-"+m+","+m;return u(h,_,"M0,"+m+d+x+g+x+g+v+g+v+d+v+d+"Z")}},"triangle-up":{n:5,f:function(p,h,_){if(i(h))return l;var m=f(2*p/s,2);return u(h,_,"M-"+m+","+f(p/2,2)+"H"+m+"L0,-"+f(p,2)+"Z")}},"triangle-down":{n:6,f:function(p,h,_){if(i(h))return l;var m=f(2*p/s,2);return u(h,_,"M-"+m+",-"+f(p/2,2)+"H"+m+"L0,"+f(p,2)+"Z")}},"triangle-left":{n:7,f:function(p,h,_){if(i(h))return l;var m=f(2*p/s,2);return u(h,_,"M"+f(p/2,2)+",-"+m+"V"+m+"L-"+f(p,2)+",0Z")}},"triangle-right":{n:8,f:function(p,h,_){if(i(h))return l;var m=f(2*p/s,2);return u(h,_,"M-"+f(p/2,2)+",-"+m+"V"+m+"L"+f(p,2)+",0Z")}},"triangle-ne":{n:9,f:function(p,h,_){if(i(h))return l;var m=f(.6*p,2),d=f(1.2*p,2);return u(h,_,"M-"+d+",-"+m+"H"+m+"V"+d+"Z")}},"triangle-se":{n:10,f:function(p,h,_){if(i(h))return l;var m=f(.6*p,2),d=f(1.2*p,2);return u(h,_,"M"+m+",-"+d+"V"+m+"H-"+d+"Z")}},"triangle-sw":{n:11,f:function(p,h,_){if(i(h))return l;var m=f(.6*p,2),d=f(1.2*p,2);return u(h,_,"M"+d+","+m+"H-"+m+"V-"+d+"Z")}},"triangle-nw":{n:12,f:function(p,h,_){if(i(h))return l;var m=f(.6*p,2),d=f(1.2*p,2);return u(h,_,"M-"+m+","+d+"V-"+m+"H"+d+"Z")}},pentagon:{n:13,f:function(p,h,_){if(i(h))return l;var m=f(.951*p,2),d=f(.588*p,2),x=f(-p,2),g=f(-.309*p,2);return u(h,_,"M"+m+","+g+"L"+d+","+f(.809*p,2)+"H-"+d+"L-"+m+","+g+"L0,"+x+"Z")}},hexagon:{n:14,f:function(p,h,_){if(i(h))return l;var m=f(p,2),d=f(p/2,2),x=f(p*s/2,2);return u(h,_,"M"+x+",-"+d+"V"+d+"L0,"+m+"L-"+x+","+d+"V-"+d+"L0,-"+m+"Z")}},hexagon2:{n:15,f:function(p,h,_){if(i(h))return l;var m=f(p,2),d=f(p/2,2),x=f(p*s/2,2);return u(h,_,"M-"+d+","+x+"H"+d+"L"+m+",0L"+d+",-"+x+"H-"+d+"L-"+m+",0Z")}},octagon:{n:16,f:function(p,h,_){if(i(h))return l;var m=f(.924*p,2),d=f(.383*p,2);return u(h,_,"M-"+d+",-"+m+"H"+d+"L"+m+",-"+d+"V"+d+"L"+d+","+m+"H-"+d+"L-"+m+","+d+"V-"+d+"Z")}},star:{n:17,f:function(p,h,_){if(i(h))return l;var m=1.4*p,d=f(.225*m,2),x=f(.951*m,2),g=f(.363*m,2),v=f(.588*m,2),T=f(-m,2),c=f(-.309*m,2),E=f(.118*m,2),A=f(.809*m,2);return u(h,_,"M"+d+","+c+"H"+x+"L"+g+","+E+"L"+v+","+A+"L0,"+f(.382*m,2)+"L-"+v+","+A+"L-"+g+","+E+"L-"+x+","+c+"H-"+d+"L0,"+T+"Z")}},hexagram:{n:18,f:function(p,h,_){if(i(h))return l;var m=f(.66*p,2),d=f(.38*p,2),x=f(.76*p,2);return u(h,_,"M-"+x+",0l-"+d+",-"+m+"h"+x+"l"+d+",-"+m+"l"+d+","+m+"h"+x+"l-"+d+","+m+"l"+d+","+m+"h-"+x+"l-"+d+","+m+"l-"+d+",-"+m+"h-"+x+"Z")}},"star-triangle-up":{n:19,f:function(p,h,_){if(i(h))return l;var m=f(p*s*.8,2),d=f(.8*p,2),x=f(1.6*p,2),g=f(4*p,2),v="A "+g+","+g+" 0 0 1 ";return u(h,_,"M-"+m+","+d+v+m+","+d+v+"0,-"+x+v+"-"+m+","+d+"Z")}},"star-triangle-down":{n:20,f:function(p,h,_){if(i(h))return l;var m=f(p*s*.8,2),d=f(.8*p,2),x=f(1.6*p,2),g=f(4*p,2),v="A "+g+","+g+" 0 0 1 ";return u(h,_,"M"+m+",-"+d+v+"-"+m+",-"+d+v+"0,"+x+v+m+",-"+d+"Z")}},"star-square":{n:21,f:function(p,h,_){if(i(h))return l;var m=f(1.1*p,2),d=f(2*p,2),x="A "+d+","+d+" 0 0 1 ";return u(h,_,"M-"+m+",-"+m+x+"-"+m+","+m+x+m+","+m+x+m+",-"+m+x+"-"+m+",-"+m+"Z")}},"star-diamond":{n:22,f:function(p,h,_){if(i(h))return l;var m=f(1.4*p,2),d=f(1.9*p,2),x="A "+d+","+d+" 0 0 1 ";return u(h,_,"M-"+m+",0"+x+"0,"+m+x+m+",0"+x+"0,-"+m+x+"-"+m+",0Z")}},"diamond-tall":{n:23,f:function(p,h,_){if(i(h))return l;var m=f(.7*p,2),d=f(1.4*p,2);return u(h,_,"M0,"+d+"L"+m+",0L0,-"+d+"L-"+m+",0Z")}},"diamond-wide":{n:24,f:function(p,h,_){if(i(h))return l;var m=f(1.4*p,2),d=f(.7*p,2);return u(h,_,"M0,"+d+"L"+m+",0L0,-"+d+"L-"+m+",0Z")}},hourglass:{n:25,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+","+m+"H-"+m+"L"+m+",-"+m+"H-"+m+"Z")},noDot:!0},bowtie:{n:26,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+","+m+"V-"+m+"L-"+m+","+m+"V-"+m+"Z")},noDot:!0},"circle-cross":{n:27,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M0,"+m+"V-"+m+"M"+m+",0H-"+m+"M"+m+",0A"+m+","+m+" 0 1,1 0,-"+m+"A"+m+","+m+" 0 0,1 "+m+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(p,h,_){if(i(h))return l;var m=f(p,2),d=f(p/t,2);return u(h,_,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+m+",0A"+m+","+m+" 0 1,1 0,-"+m+"A"+m+","+m+" 0 0,1 "+m+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M0,"+m+"V-"+m+"M"+m+",0H-"+m+"M"+m+","+m+"H-"+m+"V-"+m+"H"+m+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m+"M"+m+","+m+"H-"+m+"V-"+m+"H"+m+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(p,h,_){if(i(h))return l;var m=f(1.3*p,2);return u(h,_,"M"+m+",0L0,"+m+"L-"+m+",0L0,-"+m+"ZM0,-"+m+"V"+m+"M-"+m+",0H"+m)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(p,h,_){if(i(h))return l;var m=f(1.3*p,2),d=f(.65*p,2);return u(h,_,"M"+m+",0L0,"+m+"L-"+m+",0L0,-"+m+"ZM-"+d+",-"+d+"L"+d+","+d+"M-"+d+","+d+"L"+d+",-"+d)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(p,h,_){if(i(h))return l;var m=f(1.4*p,2);return u(h,_,"M0,"+m+"V-"+m+"M"+m+",0H-"+m)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(p,h,_){if(i(h))return l;var m=f(1.2*p,2),d=f(.85*p,2);return u(h,_,"M0,"+m+"V-"+m+"M"+m+",0H-"+m+"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(p,h,_){if(i(h))return l;var m=f(p/2,2),d=f(p,2);return u(h,_,"M"+m+","+d+"V-"+d+"M"+(m-d)+",-"+d+"V"+d+"M"+d+","+m+"H-"+d+"M-"+d+","+(m-d)+"H"+d)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(p,h,_){if(i(h))return l;var m=f(1.2*p,2),d=f(1.6*p,2),x=f(.8*p,2);return u(h,_,"M-"+m+","+x+"L0,0M"+m+","+x+"L0,0M0,-"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(p,h,_){if(i(h))return l;var m=f(1.2*p,2),d=f(1.6*p,2),x=f(.8*p,2);return u(h,_,"M-"+m+",-"+x+"L0,0M"+m+",-"+x+"L0,0M0,"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(p,h,_){if(i(h))return l;var m=f(1.2*p,2),d=f(1.6*p,2),x=f(.8*p,2);return u(h,_,"M"+x+","+m+"L0,0M"+x+",-"+m+"L0,0M-"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(p,h,_){if(i(h))return l;var m=f(1.2*p,2),d=f(1.6*p,2),x=f(.8*p,2);return u(h,_,"M-"+x+","+m+"L0,0M-"+x+",-"+m+"L0,0M"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(p,h,_){if(i(h))return l;var m=f(1.4*p,2);return u(h,_,"M"+m+",0H-"+m)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(p,h,_){if(i(h))return l;var m=f(1.4*p,2);return u(h,_,"M0,"+m+"V-"+m)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M"+m+","+m+"L-"+m+",-"+m)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M0,0L-"+m+","+f(2*p,2)+"H"+m+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M0,0L-"+m+",-"+f(2*p,2)+"H"+m+"Z")},noDot:!0},"arrow-left":{n:47,f:function(p,h,_){if(i(h))return l;var m=f(2*p,2),d=f(p,2);return u(h,_,"M0,0L"+m+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-right":{n:48,f:function(p,h,_){if(i(h))return l;var m=f(2*p,2),d=f(p,2);return u(h,_,"M0,0L-"+m+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M-"+m+",0H"+m+"M0,0L-"+m+","+f(2*p,2)+"H"+m+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(p,h,_){if(i(h))return l;var m=f(p,2);return u(h,_,"M-"+m+",0H"+m+"M0,0L-"+m+",-"+f(2*p,2)+"H"+m+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(p,h,_){if(i(h))return l;var m=f(2*p,2),d=f(p,2);return u(h,_,"M0,-"+d+"V"+d+"M0,0L"+m+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(p,h,_){if(i(h))return l;var m=f(2*p,2),d=f(p,2);return u(h,_,"M0,-"+d+"V"+d+"M0,0L-"+m+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(p,h,_){if(i(h))return l;var m=o/2.5,d=2*p*n(m),x=2*p*r(m);return u(h,_,"M0,0L"+-d+","+x+"L"+d+","+x+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(p,h,_){if(i(h))return l;var m=o/4,d=2*p*n(m),x=2*p*r(m);return u(h,_,"M0,0L"+-d+","+x+"A "+2*p+","+2*p+" 0 0 1 "+d+","+x+"Z")},backoff:.4,noDot:!0}}},25673:function(L){"use strict";L.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(L,M,e){"use strict";var b=e(92770),w=e(73972),a=e(89298),k=e(71828),y=e(45827);function f(l,t,s,o){var n=t["error_"+o]||{},r=[];if(n.visible&&["linear","log"].indexOf(s.type)!==-1){for(var i=y(n),u=0;u<l.length;u++){var p=l[u],h=p.i;if(h===void 0)h=u;else if(h===null)continue;var _=p[o];if(b(s.c2l(_))){var m=i(_,h);if(b(m[0])&&b(m[1])){var d=p[o+"s"]=_-m[0],x=p[o+"h"]=_+m[1];r.push(d,x)}}}var g=s._id,v=t._extremes[g],T=a.findExtremes(s,r,k.extendFlat({tozero:v.opts.tozero},{padded:!0}));v.min=v.min.concat(T.min),v.max=v.max.concat(T.max)}}L.exports=function(l){for(var t=l.calcdata,s=0;s<t.length;s++){var o=t[s],n=o[0].trace;if(n.visible===!0&&w.traceIs(n,"errorBarsOK")){var r=a.getFromId(l,n.xaxis),i=a.getFromId(l,n.yaxis);f(o,n,r,"x"),f(o,n,i,"y")}}}},45827:function(L){"use strict";function M(e,b){return e==="percent"?function(w){return Math.abs(w*b/100)}:e==="constant"?function(){return Math.abs(b)}:e==="sqrt"?function(w){return Math.sqrt(Math.abs(w))}:void 0}L.exports=function(e){var b=e.type,w=e.symmetric;if(b==="data"){var a=e.array||[];if(w)return function(l,t){var s=+a[t];return[s,s]};var k=e.arrayminus||[];return function(l,t){var s=+a[t],o=+k[t];return isNaN(s)&&isNaN(o)?[NaN,NaN]:[o||0,s||0]}}var y=M(b,e.value),f=M(b,e.valueminus);return w||e.valueminus===void 0?function(l){var t=y(l);return[t,t]}:function(l){return[f(l),y(l)]}}},97587:function(L,M,e){"use strict";var b=e(92770),w=e(73972),a=e(71828),k=e(44467),y=e(25673);L.exports=function(f,l,t,s){var o="error_"+s.axis,n=k.newContainer(l,o),r=f[o]||{};function i(_,m){return a.coerce(r,n,y,_,m)}if(i("visible",r.array!==void 0||r.value!==void 0||r.type==="sqrt")!==!1){var u=i("type","array"in r?"data":"percent"),p=!0;u!=="sqrt"&&(p=i("symmetric",!((u==="data"?"arrayminus":"valueminus")in r))),u==="data"?(i("array"),i("traceref"),p||(i("arrayminus"),i("tracerefminus"))):u!=="percent"&&u!=="constant"||(i("value"),p||i("valueminus"));var h="copy_"+s.inherit+"style";s.inherit&&(l["error_"+s.inherit]||{}).visible&&i(h,!(r.color||b(r.thickness)||b(r.width))),s.inherit&&n[h]||(i("color",t),i("thickness"),i("width",w.traceIs(l,"gl3d")?0:4))}}},37369:function(L,M,e){"use strict";var b=e(71828),w=e(30962).overrideAll,a=e(25673),k={error_x:b.extendFlat({},a),error_y:b.extendFlat({},a)};delete k.error_x.copy_zstyle,delete k.error_y.copy_zstyle,delete k.error_y.copy_ystyle;var y={error_x:b.extendFlat({},a),error_y:b.extendFlat({},a),error_z:b.extendFlat({},a)};delete y.error_x.copy_ystyle,delete y.error_y.copy_ystyle,delete y.error_z.copy_ystyle,delete y.error_z.copy_zstyle,L.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:k,bar:k,histogram:k,scatter3d:w(y,"calc","nested"),scattergl:w(k,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function(f,l,t){(l.error_y||{}).visible&&(t.yerr=f.yh-f.y,l.error_y.symmetric||(t.yerrneg=f.y-f.ys)),(l.error_x||{}).visible&&(t.xerr=f.xh-f.x,l.error_x.symmetric||(t.xerrneg=f.x-f.xs))}}},19398:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(91424),k=e(34098);L.exports=function(y,f,l,t){var s=l.xaxis,o=l.yaxis,n=t&&t.duration>0,r=y._context.staticPlot;f.each(function(i){var u,p=i[0].trace,h=p.error_x||{},_=p.error_y||{};p.ids&&(u=function(g){return g.id});var m=k.hasMarkers(p)&&p.marker.maxdisplayed>0;_.visible||h.visible||(i=[]);var d=b.select(this).selectAll("g.errorbar").data(i,u);if(d.exit().remove(),i.length){h.visible||d.selectAll("path.xerror").remove(),_.visible||d.selectAll("path.yerror").remove(),d.style("opacity",1);var x=d.enter().append("g").classed("errorbar",!0);n&&x.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(d,l.layerClipId,y),d.each(function(g){var v=b.select(this),T=function(P,D,z){var V={x:D.c2p(P.x),y:z.c2p(P.y)};return P.yh!==void 0&&(V.yh=z.c2p(P.yh),V.ys=z.c2p(P.ys),w(V.ys)||(V.noYS=!0,V.ys=z.c2p(P.ys,!0))),P.xh!==void 0&&(V.xh=D.c2p(P.xh),V.xs=D.c2p(P.xs),w(V.xs)||(V.noXS=!0,V.xs=D.c2p(P.xs,!0))),V}(g,s,o);if(!m||g.vis){var c,E=v.select("path.yerror");if(_.visible&&w(T.x)&&w(T.yh)&&w(T.ys)){var A=_.width;c="M"+(T.x-A)+","+T.yh+"h"+2*A+"m-"+A+",0V"+T.ys,T.noYS||(c+="m-"+A+",0h"+2*A),E.size()?n&&(E=E.transition().duration(t.duration).ease(t.easing)):E=v.append("path").style("vector-effect",r?"none":"non-scaling-stroke").classed("yerror",!0),E.attr("d",c)}else E.remove();var C=v.select("path.xerror");if(h.visible&&w(T.y)&&w(T.xh)&&w(T.xs)){var O=(h.copy_ystyle?_:h).width;c="M"+T.xh+","+(T.y-O)+"v"+2*O+"m0,-"+O+"H"+T.xs,T.noXS||(c+="m0,-"+O+"v"+2*O),C.size()?n&&(C=C.transition().duration(t.duration).ease(t.easing)):C=v.append("path").style("vector-effect",r?"none":"non-scaling-stroke").classed("xerror",!0),C.attr("d",c)}else C.remove()}})}})}},62662:function(L,M,e){"use strict";var b=e(39898),w=e(7901);L.exports=function(a){a.each(function(k){var y=k[0].trace,f=y.error_y||{},l=y.error_x||{},t=b.select(this);t.selectAll("path.yerror").style("stroke-width",f.thickness+"px").call(w.stroke,f.color),l.copy_ystyle&&(l=f),t.selectAll("path.xerror").style("stroke-width",l.thickness+"px").call(w.stroke,l.color)})}},77914:function(L,M,e){"use strict";var b=e(41940),w=e(528).hoverlabel,a=e(1426).extendFlat;L.exports={hoverlabel:{bgcolor:a({},w.bgcolor,{arrayOk:!0}),bordercolor:a({},w.bordercolor,{arrayOk:!0}),font:b({arrayOk:!0,editType:"none"}),align:a({},w.align,{arrayOk:!0}),namelength:a({},w.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(L,M,e){"use strict";var b=e(71828),w=e(73972);function a(k,y,f,l){l=l||b.identity,Array.isArray(k)&&(y[0][f]=l(k))}L.exports=function(k){var y=k.calcdata,f=k._fullLayout;function l(r){return function(i){return b.coerceHoverinfo({hoverinfo:i},{_module:r._module},f)}}for(var t=0;t<y.length;t++){var s=y[t],o=s[0].trace;if(!w.traceIs(o,"pie-like")){var n=w.traceIs(o,"2dMap")?a:b.fillArray;n(o.hoverinfo,s,"hi",l(o)),o.hovertemplate&&n(o.hovertemplate,s,"ht"),o.hoverlabel&&(n(o.hoverlabel.bgcolor,s,"hbg"),n(o.hoverlabel.bordercolor,s,"hbc"),n(o.hoverlabel.font.size,s,"hts"),n(o.hoverlabel.font.color,s,"htc"),n(o.hoverlabel.font.family,s,"htf"),n(o.hoverlabel.namelength,s,"hnl"),n(o.hoverlabel.align,s,"hta"))}}}},75914:function(L,M,e){"use strict";var b=e(73972),w=e(88335).hover;L.exports=function(a,k,y){var f=b.getComponentMethod("annotations","onClick")(a,a._hoverdata);function l(){a.emit("plotly_click",{points:a._hoverdata,event:k})}y!==void 0&&w(a,k,y,!0),a._hoverdata&&k&&k.target&&(f&&f.then?f.then(l):l(),k.stopImmediatePropagation&&k.stopImmediatePropagation())}},26675:function(L){"use strict";L.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(L,M,e){"use strict";var b=e(71828),w=e(77914),a=e(38048);L.exports=function(k,y,f,l){var t=b.extendFlat({},l.hoverlabel);y.hovertemplate&&(t.namelength=-1),a(k,y,function(s,o){return b.coerce(k,y,w,s,o)},t)}},23469:function(L,M,e){"use strict";var b=e(71828);M.getSubplot=function(l){return l.subplot||l.xaxis+l.yaxis||l.geo},M.isTraceInSubplots=function(l,t){if(l.type==="splom"){for(var s=l.xaxes||[],o=l.yaxes||[],n=0;n<s.length;n++)for(var r=0;r<o.length;r++)if(t.indexOf(s[n]+o[r])!==-1)return!0;return!1}return t.indexOf(M.getSubplot(l))!==-1},M.flat=function(l,t){for(var s=new Array(l.length),o=0;o<l.length;o++)s[o]=t;return s},M.p2c=function(l,t){for(var s=new Array(l.length),o=0;o<l.length;o++)s[o]=l[o].p2c(t);return s},M.getDistanceFunction=function(l,t,s,o){return l==="closest"?o||M.quadrature(t,s):l.charAt(0)==="x"?t:s},M.getClosest=function(l,t,s){if(s.index!==!1)s.index>=0&&s.index<l.length?s.distance=0:s.index=!1;else for(var o=0;o<l.length;o++){var n=t(l[o]);n<=s.distance&&(s.index=o,s.distance=n)}return s},M.inbox=function(l,t,s){return l*t<0||l===0?s:1/0},M.quadrature=function(l,t){return function(s){var o=l(s),n=t(s);return Math.sqrt(o*o+n*n)}},M.makeEventData=function(l,t,s){var o="index"in l?l.index:l.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:o};if(t._indexToPoints){var r=t._indexToPoints[o];r.length===1?n.pointIndex=r[0]:n.pointIndices=r}else n.pointIndex=o;return t._module.eventData?n=t._module.eventData(n,l,t,s,o):("xVal"in l?n.x=l.xVal:"x"in l&&(n.x=l.x),"yVal"in l?n.y=l.yVal:"y"in l&&(n.y=l.y),l.xa&&(n.xaxis=l.xa),l.ya&&(n.yaxis=l.ya),l.zLabelVal!==void 0&&(n.z=l.zLabelVal)),M.appendArrayPointValue(n,t,o),n},M.appendArrayPointValue=function(l,t,s){var o=t._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var r=o[n],i=a(r);if(l[i]===void 0){var u=k(b.nestedProperty(t,r).get(),s);u!==void 0&&(l[i]=u)}}},M.appendArrayMultiPointValues=function(l,t,s){var o=t._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var r=o[n],i=a(r);if(l[i]===void 0){for(var u=b.nestedProperty(t,r).get(),p=new Array(s.length),h=0;h<s.length;h++)p[h]=k(u,s[h]);l[i]=p}}};var w={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(l){return w[l]||l}function k(l,t){return Array.isArray(t)?Array.isArray(l)&&Array.isArray(l[t[0]])?l[t[0]][t[1]]:void 0:l[t]}var y={x:!0,y:!0},f={"x unified":!0,"y unified":!0};M.isUnifiedHover=function(l){return typeof l=="string"&&!!f[l]},M.isXYhover=function(l){return typeof l=="string"&&!!y[l]}},88335:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(84267),k=e(71828),y=k.strTranslate,f=k.strRotate,l=e(11086),t=e(63893),s=e(39918),o=e(91424),n=e(7901),r=e(28569),i=e(89298),u=e(73972),p=e(23469),h=e(26675),_=e(99017),m=e(43969),d=h.YANGLE,x=Math.PI*d/180,g=1/Math.sin(x),v=Math.cos(x),T=Math.sin(x),c=h.HOVERARROWSIZE,E=h.HOVERTEXTPAD,A={box:!0,ohlc:!0,violin:!0,candlestick:!0},C={scatter:!0,scattergl:!0,splom:!0};function O(Z){return[Z.trace.index,Z.index,Z.x0,Z.y0,Z.name,Z.attr,Z.xa?Z.xa._id:"",Z.ya?Z.ya._id:""].join(",")}M.hover=function(Z,$,ne,ae){Z=k.getGraphDiv(Z);var oe=$.target;k.throttle(Z._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){(function(se,ce,me,xe,ve){me||(me="xy");var fe=Array.isArray(me)?me:[me],pe=se._fullLayout,Le=pe._plots||[],ye=Le[me],Ae=pe._has("cartesian");if(ye){var Me=ye.overlays.map(function(Qt){return Qt.id});fe=fe.concat(Me)}for(var ke=fe.length,te=new Array(ke),ue=new Array(ke),ge=!1,we=0;we<ke;we++){var Ee=fe[we];if(Le[Ee])ge=!0,te[we]=Le[Ee].xaxis,ue[we]=Le[Ee].yaxis;else{if(!pe[Ee]||!pe[Ee]._subplot)return void k.warn("Unrecognized subplot: "+Ee);var Be=pe[Ee]._subplot;te[we]=Be.xaxis,ue[we]=Be.yaxis}}var Re=ce.hovermode||pe.hovermode;if(Re&&!ge&&(Re="closest"),["x","y","closest","x unified","y unified"].indexOf(Re)===-1||!se.calcdata||se.querySelector(".zoombox")||se._dragging)return r.unhoverRaw(se,ce);var je=pe.hoverdistance;je===-1&&(je=1/0);var he=pe.spikedistance;he===-1&&(he=1/0);var _e,Te,Fe,Ye,Ge,ot,st,ht,xt,Ct,St,kt,Nt,Dt=[],Et=[],Wt={hLinePoint:null,vLinePoint:null},Ht=!1;if(Array.isArray(ce))for(Re="array",Fe=0;Fe<ce.length;Fe++)(Ge=se.calcdata[ce[Fe].curveNumber||0])&&(ot=Ge[0].trace,Ge[0].trace.hoverinfo!=="skip"&&(Et.push(Ge),ot.orientation==="h"&&(Ht=!0)));else{for(Ye=0;Ye<se.calcdata.length;Ye++)Ge=se.calcdata[Ye],(ot=Ge[0].trace).hoverinfo!=="skip"&&p.isTraceInSubplots(ot,fe)&&(Et.push(Ge),ot.orientation==="h"&&(Ht=!0));var Ke,$e;if(ve){if(l.triggerHandler(se,"plotly_beforehover",ce)===!1)return;var Ue=ve.getBoundingClientRect();Ke=ce.clientX-Ue.left,$e=ce.clientY-Ue.top,pe._calcInverseTransform(se);var nt=k.apply3DTransform(pe._invTransform)(Ke,$e);if(Ke=nt[0],$e=nt[1],Ke<0||Ke>te[0]._length||$e<0||$e>ue[0]._length)return r.unhoverRaw(se,ce)}else Ke="xpx"in ce?ce.xpx:te[0]._length/2,$e="ypx"in ce?ce.ypx:ue[0]._length/2;if(ce.pointerX=Ke+te[0]._offset,ce.pointerY=$e+ue[0]._offset,_e="xval"in ce?p.flat(fe,ce.xval):p.p2c(te,Ke),Te="yval"in ce?p.flat(fe,ce.yval):p.p2c(ue,$e),!w(_e[0])||!w(Te[0]))return k.warn("Fx.hover failed",ce,se),r.unhoverRaw(se,ce)}var ct=1/0;function Oe(Qt,bn){for(Ye=0;Ye<Et.length;Ye++)if((Ge=Et[Ye])&&Ge[0]&&Ge[0].trace&&(ot=Ge[0].trace).visible===!0&&ot._length!==0&&["carpet","contourcarpet"].indexOf(ot._module.name)===-1){if(ot.type==="splom"?st=fe[ht=0]:(st=p.getSubplot(ot),ht=fe.indexOf(st)),xt=Re,p.isUnifiedHover(xt)&&(xt=xt.charAt(0)),kt={cd:Ge,trace:ot,xa:te[ht],ya:ue[ht],maxHoverDistance:je,maxSpikeDistance:he,index:!1,distance:Math.min(ct,je),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:ot.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},pe[st]&&(kt.subplot=pe[st]._subplot),pe._splomScenes&&pe._splomScenes[ot.uid]&&(kt.scene=pe._splomScenes[ot.uid]),Nt=Dt.length,xt==="array"){var Dn=ce[Ye];"pointNumber"in Dn?(kt.index=Dn.pointNumber,xt="closest"):(xt="","xval"in Dn&&(Ct=Dn.xval,xt="x"),"yval"in Dn&&(St=Dn.yval,xt=xt?"closest":"y"))}else Qt!==void 0&&bn!==void 0?(Ct=Qt,St=bn):(Ct=_e[ht],St=Te[ht]);if(je!==0)if(ot._module&&ot._module.hoverPoints){var Pn=ot._module.hoverPoints(kt,Ct,St,xt,{finiteRange:!0,hoverLayer:pe._hoverlayer});if(Pn)for(var qn,Qn=0;Qn<Pn.length;Qn++)qn=Pn[Qn],w(qn.x0)&&w(qn.y0)&&Dt.push(W(qn,Re))}else k.log("Unrecognized trace type in hover:",ot);if(Re==="closest"&&Dt.length>Nt&&(Dt.splice(0,Nt),ct=Dt[0].distance),Ae&&he!==0&&Dt.length===0){kt.distance=he,kt.index=!1;var Jn=ot._module.hoverPoints(kt,Ct,St,"closest",{hoverLayer:pe._hoverlayer});if(Jn&&(Jn=Jn.filter(function(en){return en.spikeDistance<=he})),Jn&&Jn.length){var nr,yr=Jn.filter(function(en){return en.xa.showspikes&&en.xa.spikesnap!=="hovered data"});if(yr.length){var an=yr[0];w(an.x0)&&w(an.y0)&&(nr=Qe(an),(!Wt.vLinePoint||Wt.vLinePoint.spikeDistance>nr.spikeDistance)&&(Wt.vLinePoint=nr))}var zn=Jn.filter(function(en){return en.ya.showspikes&&en.ya.spikesnap!=="hovered data"});if(zn.length){var Vt=zn[0];w(Vt.x0)&&w(Vt.y0)&&(nr=Qe(Vt),(!Wt.hLinePoint||Wt.hLinePoint.spikeDistance>nr.spikeDistance)&&(Wt.hLinePoint=nr))}}}}}function Ne(Qt,bn,Dn){for(var Pn,qn=null,Qn=1/0,Jn=0;Jn<Qt.length;Jn++)Pn=Qt[Jn].spikeDistance,Dn&&Jn===0&&(Pn=-1/0),Pn<=Qn&&Pn<=bn&&(qn=Qt[Jn],Qn=Pn);return qn}function Qe(Qt){return Qt?{xa:Qt.xa,ya:Qt.ya,x:Qt.xSpike!==void 0?Qt.xSpike:(Qt.x0+Qt.x1)/2,y:Qt.ySpike!==void 0?Qt.ySpike:(Qt.y0+Qt.y1)/2,distance:Qt.distance,spikeDistance:Qt.spikeDistance,curveNumber:Qt.trace.index,color:Qt.color,pointNumber:Qt.index}:null}Oe();var ut={fullLayout:pe,container:pe._hoverlayer,event:ce},pt=se._spikepoints,wt={vLinePoint:Wt.vLinePoint,hLinePoint:Wt.hLinePoint};se._spikepoints=wt;var Lt=function(){Dt.sort(function(Qt,bn){return Qt.distance-bn.distance}),Dt=function(Qt,bn){for(var Dn=bn.charAt(0),Pn=[],qn=[],Qn=[],Jn=0;Jn<Qt.length;Jn++){var nr=Qt[Jn];u.traceIs(nr.trace,"bar-like")||u.traceIs(nr.trace,"box-violin")?Qn.push(nr):nr.trace[Dn+"period"]?qn.push(nr):Pn.push(nr)}return Pn.concat(qn).concat(Qn)}(Dt,Re)};Lt();var It=Re.charAt(0),yt=(It==="x"||It==="y")&&Dt[0]&&C[Dt[0].trace.type];if(Ae&&he!==0&&Dt.length!==0){var Rt=Ne(Dt.filter(function(Qt){return Qt.ya.showspikes}),he,yt);Wt.hLinePoint=Qe(Rt);var bt=Ne(Dt.filter(function(Qt){return Qt.xa.showspikes}),he,yt);Wt.vLinePoint=Qe(bt)}if(Dt.length===0){var Pt=r.unhoverRaw(se,ce);return!Ae||Wt.hLinePoint===null&&Wt.vLinePoint===null||U(pt)&&B(se,Wt,ut),Pt}if(Ae&&U(pt)&&B(se,Wt,ut),p.isXYhover(xt)&&Dt[0].length!==0&&Dt[0].trace.type!=="splom"){var Bt=Dt[0],Zt=(Dt=A[Bt.trace.type]?Dt.filter(function(Qt){return Qt.trace.index===Bt.trace.index}):[Bt]).length;Oe(q("x",Bt,pe),q("y",Bt,pe));var Yt,Kt=[],tn={},on=0,_n=function(Qt){var bn=A[Qt.trace.type]?O(Qt):Qt.trace.index;if(tn[bn]){var Dn=tn[bn]-1,Pn=Kt[Dn];Dn>0&&Math.abs(Qt.distance)<Math.abs(Pn.distance)&&(Kt[Dn]=Qt)}else on++,tn[bn]=on,Kt.push(Qt)};for(Yt=0;Yt<Zt;Yt++)_n(Dt[Yt]);for(Yt=Dt.length-1;Yt>Zt-1;Yt--)_n(Dt[Yt]);Dt=Kt,Lt()}var fn=se._hoverdata,Sn=[],Xn=ee(se),An=K(se);for(Fe=0;Fe<Dt.length;Fe++){var un=Dt[Fe],Tn=p.makeEventData(un,un.trace,un.cd);if(un.hovertemplate!==!1){var gn=!1;un.cd[un.index]&&un.cd[un.index].ht&&(gn=un.cd[un.index].ht),un.hovertemplate=gn||un.trace.hovertemplate||!1}if(un.xa&&un.ya){var dn=un.x0+un.xa._offset,Rn=un.x1+un.xa._offset,In=un.y0+un.ya._offset,Hn=un.y1+un.ya._offset,Yn=Math.min(dn,Rn),Gn=Math.max(dn,Rn),cr=Math.min(In,Hn),ir=Math.max(In,Hn);Tn.bbox={x0:Yn+An,x1:Gn+An,y0:cr+Xn,y1:ir+Xn}}un.eventData=[Tn],Sn.push(Tn)}se._hoverdata=Sn;var Mr=Re==="y"&&(Et.length>1||Dt.length>1)||Re==="closest"&&Ht&&Dt.length>1,gr=n.combine(pe.plot_bgcolor||n.background,pe.paper_bgcolor),sr=D(Dt,{gd:se,hovermode:Re,rotateLabels:Mr,bgColor:gr,container:pe._hoverlayer,outerContainer:pe._paper.node(),commonLabelOpts:pe.hoverlabel,hoverdistance:pe.hoverdistance}),xr=sr.hoverLabels;if(p.isUnifiedHover(Re)||(function(Qt,bn,Dn,Pn){var qn,Qn,Jn,nr,yr,an,zn,Vt=bn?"xa":"ya",en=bn?"ya":"xa",pn=0,Nn=1,Fn=Qt.size(),On=new Array(Fn),mn=0,kn=Pn.minX,vn=Pn.maxX,xn=Pn.minY,En=Pn.maxY,Vn=function(Lr){return Lr*Dn._invScaleX},$n=function(Lr){return Lr*Dn._invScaleY};function rr(Lr){var Tr=Lr[0],dr=Lr[Lr.length-1];if(Qn=Tr.pmin-Tr.pos-Tr.dp+Tr.size,Jn=dr.pos+dr.dp+dr.size-Tr.pmax,Qn>.01){for(yr=Lr.length-1;yr>=0;yr--)Lr[yr].dp+=Qn;qn=!1}if(!(Jn<.01)){if(Qn<-.01){for(yr=Lr.length-1;yr>=0;yr--)Lr[yr].dp-=Jn;qn=!1}if(qn){var Pr=0;for(nr=0;nr<Lr.length;nr++)(an=Lr[nr]).pos+an.dp+an.size>Tr.pmax&&Pr++;for(nr=Lr.length-1;nr>=0&&!(Pr<=0);nr--)(an=Lr[nr]).pos>Tr.pmax-1&&(an.del=!0,Pr--);for(nr=0;nr<Lr.length&&!(Pr<=0);nr++)if((an=Lr[nr]).pos<Tr.pmin+1)for(an.del=!0,Pr--,Jn=2*an.size,yr=Lr.length-1;yr>=0;yr--)Lr[yr].dp-=Jn;for(nr=Lr.length-1;nr>=0&&!(Pr<=0);nr--)(an=Lr[nr]).pos+an.dp+an.size>Tr.pmax&&(an.del=!0,Pr--)}}}for(Qt.each(function(Lr){var Tr=Lr[Vt],dr=Lr[en],Pr=Tr._id.charAt(0)==="x",Xr=Tr.range;mn===0&&Xr&&Xr[0]>Xr[1]!==Pr&&(Nn=-1);var gi=0,Ii=Pr?Dn.width:Dn.height;if(Dn.hovermode==="x"||Dn.hovermode==="y"){var Ri,ra,Oi=V(Lr,bn),ki=Lr.anchor,Pa=ki==="end"?-1:1;if(ki==="middle")ra=(Ri=Lr.crossPos+(Pr?$n(Oi.y-Lr.by/2):Vn(Lr.bx/2+Lr.tx2width/2)))+(Pr?$n(Lr.by):Vn(Lr.bx));else if(Pr)ra=(Ri=Lr.crossPos+$n(c+Oi.y)-$n(Lr.by/2-c))+$n(Lr.by);else{var ia=Vn(Pa*c+Oi.x),Wo=ia+Vn(Pa*Lr.bx);Ri=Lr.crossPos+Math.min(ia,Wo),ra=Lr.crossPos+Math.max(ia,Wo)}Pr?xn!==void 0&&En!==void 0&&Math.min(ra,En)-Math.max(Ri,xn)>1&&(dr.side==="left"?(gi=dr._mainLinePosition,Ii=Dn.width):Ii=dr._mainLinePosition):kn!==void 0&&vn!==void 0&&Math.min(ra,vn)-Math.max(Ri,kn)>1&&(dr.side==="top"?(gi=dr._mainLinePosition,Ii=Dn.height):Ii=dr._mainLinePosition)}On[mn++]=[{datum:Lr,traceIndex:Lr.trace.index,dp:0,pos:Lr.pos,posref:Lr.posref,size:Lr.by*(Pr?g:1)/2,pmin:gi,pmax:Ii}]}),On.sort(function(Lr,Tr){return Lr[0].posref-Tr[0].posref||Nn*(Tr[0].traceIndex-Lr[0].traceIndex)});!qn&&pn<=Fn;){for(pn++,qn=!0,nr=0;nr<On.length-1;){var er=On[nr],pr=On[nr+1],fr=er[er.length-1],vr=pr[0];if((Qn=fr.pos+fr.dp+fr.size-vr.pos-vr.dp+vr.size)>.01&&fr.pmin===vr.pmin&&fr.pmax===vr.pmax){for(yr=pr.length-1;yr>=0;yr--)pr[yr].dp+=Qn;for(er.push.apply(er,pr),On.splice(nr+1,1),zn=0,yr=er.length-1;yr>=0;yr--)zn+=er[yr].dp;for(Jn=zn/er.length,yr=er.length-1;yr>=0;yr--)er[yr].dp-=Jn;qn=!1}else nr++}On.forEach(rr)}for(nr=On.length-1;nr>=0;nr--){var mr=On[nr];for(yr=mr.length-1;yr>=0;yr--){var br=mr[yr],Or=br.datum;Or.offset=br.dp,Or.del=br.del}}}(xr,Mr,pe,sr.commonLabelBoundingBox),F(xr,Mr,pe._invScaleX,pe._invScaleY)),ve&&ve.tagName){var kr=u.getComponentMethod("annotations","hasClickToShow")(se,Sn);s(b.select(ve),kr?"pointer":"")}ve&&!xe&&function(Qt,bn,Dn){if(!Dn||Dn.length!==Qt._hoverdata.length)return!0;for(var Pn=Dn.length-1;Pn>=0;Pn--){var qn=Dn[Pn],Qn=Qt._hoverdata[Pn];if(qn.curveNumber!==Qn.curveNumber||String(qn.pointNumber)!==String(Qn.pointNumber)||String(qn.pointNumbers)!==String(Qn.pointNumbers))return!0}return!1}(se,0,fn)&&(fn&&se.emit("plotly_unhover",{event:ce,points:fn}),se.emit("plotly_hover",{event:ce,points:se._hoverdata,xaxes:te,yaxes:ue,xvals:_e,yvals:Te}))})(Z,$,ne,ae,oe)})},M.loneHover=function(Z,$){var ne=!0;Array.isArray(Z)||(ne=!1,Z=[Z]);var ae=$.gd,oe=ee(ae),se=K(ae),ce=D(Z.map(function(ve){var fe=ve._x0||ve.x0||ve.x||0,pe=ve._x1||ve.x1||ve.x||0,Le=ve._y0||ve.y0||ve.y||0,ye=ve._y1||ve.y1||ve.y||0,Ae=ve.eventData;if(Ae){var Me=Math.min(fe,pe),ke=Math.max(fe,pe),te=Math.min(Le,ye),ue=Math.max(Le,ye),ge=ve.trace;if(u.traceIs(ge,"gl3d")){var we=ae._fullLayout[ge.scene]._scene.container,Ee=we.offsetLeft,Be=we.offsetTop;Me+=Ee,ke+=Ee,te+=Be,ue+=Be}Ae.bbox={x0:Me+se,x1:ke+se,y0:te+oe,y1:ue+oe},$.inOut_bbox&&$.inOut_bbox.push(Ae.bbox)}else Ae=!1;return{color:ve.color||n.defaultLine,x0:ve.x0||ve.x||0,x1:ve.x1||ve.x||0,y0:ve.y0||ve.y||0,y1:ve.y1||ve.y||0,xLabel:ve.xLabel,yLabel:ve.yLabel,zLabel:ve.zLabel,text:ve.text,name:ve.name,idealAlign:ve.idealAlign,borderColor:ve.borderColor,fontFamily:ve.fontFamily,fontSize:ve.fontSize,fontColor:ve.fontColor,nameLength:ve.nameLength,textAlign:ve.textAlign,trace:ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ve.hovertemplate||!1,hovertemplateLabels:ve.hovertemplateLabels||!1,eventData:Ae}}),{gd:ae,hovermode:"closest",rotateLabels:!1,bgColor:$.bgColor||n.background,container:b.select($.container),outerContainer:$.outerContainer||$.container}).hoverLabels,me=0,xe=0;return ce.sort(function(ve,fe){return ve.y0-fe.y0}).each(function(ve,fe){var pe=ve.y0-ve.by/2;ve.offset=pe-5<me?me-pe+5:0,me=pe+ve.by+ve.offset,fe===$.anchorIndex&&(xe=ve.offset)}).each(function(ve){ve.offset-=xe}),F(ce,!1,ae._fullLayout._invScaleX,ae._fullLayout._invScaleY),ne?ce:ce.node()};var P=/<extra>([\s\S]*)<\/extra>/;function D(Z,$){var ne=$.gd,ae=ne._fullLayout,oe=$.hovermode,se=$.rotateLabels,ce=$.bgColor,me=$.container,xe=$.outerContainer,ve=$.commonLabelOpts||{};if(Z.length===0)return[[]];var fe=$.fontFamily||h.HOVERFONT,pe=$.fontSize||h.HOVERFONTSIZE,Le=Z[0],ye=Le.xa,Ae=Le.ya,Me=oe.charAt(0),ke=Me+"Label",te=Le[ke];if(te===void 0&&ye.type==="multicategory")for(var ue=0;ue<Z.length&&(te=Z[ue][ke])===void 0;ue++);var ge=J(ne,xe),we=ge.top,Ee=ge.width,Be=ge.height,Re=te!==void 0&&Le.distance<=$.hoverdistance&&(oe==="x"||oe==="y");if(Re){var je,he,_e=!0;for(je=0;je<Z.length;je++)if(_e&&Z[je].zLabel===void 0&&(_e=!1),he=Z[je].hoverinfo||Z[je].trace.hoverinfo){var Te=Array.isArray(he)?he:he.split("+");if(Te.indexOf("all")===-1&&Te.indexOf(oe)===-1){Re=!1;break}}_e&&(Re=!1)}var Fe=me.selectAll("g.axistext").data(Re?[0]:[]);Fe.enter().append("g").classed("axistext",!0),Fe.exit().remove();var Ye={minX:0,maxX:0,minY:0,maxY:0};if(Fe.each(function(){var Pt=b.select(this),Bt=k.ensureSingle(Pt,"path","",function(cr){cr.style({"stroke-width":"1px"})}),Zt=k.ensureSingle(Pt,"text","",function(cr){cr.attr("data-notex",1)}),Yt=ve.bgcolor||n.defaultLine,Kt=ve.bordercolor||n.contrast(Yt),tn=n.contrast(Yt),on={family:ve.font.family||fe,size:ve.font.size||pe,color:ve.font.color||tn};Bt.style({fill:Yt,stroke:Kt}),Zt.text(te).call(o.font,on).call(t.positionText,0,0).call(t.convertToTspans,ne),Pt.attr("transform","");var _n,fn,Sn=J(ne,Zt.node());if(oe==="x"){var Xn=ye.side==="top"?"-":"";Zt.attr("text-anchor","middle").call(t.positionText,0,ye.side==="top"?we-Sn.bottom-c-E:we-Sn.top+c+E),_n=ye._offset+(Le.x0+Le.x1)/2,fn=Ae._offset+(ye.side==="top"?0:Ae._length);var An=Sn.width/2+E;_n<An?(_n=An,Bt.attr("d","M-"+(An-c)+",0L-"+(An-2*c)+","+Xn+c+"H"+An+"v"+Xn+(2*E+Sn.height)+"H-"+An+"V"+Xn+c+"Z")):_n>ae.width-An?(_n=ae.width-An,Bt.attr("d","M"+(An-c)+",0L"+An+","+Xn+c+"v"+Xn+(2*E+Sn.height)+"H-"+An+"V"+Xn+c+"H"+(An-2*c)+"Z")):Bt.attr("d","M0,0L"+c+","+Xn+c+"H"+An+"v"+Xn+(2*E+Sn.height)+"H-"+An+"V"+Xn+c+"H-"+c+"Z"),Ye.minX=_n-An,Ye.maxX=_n+An,ye.side==="top"?(Ye.minY=fn-(2*E+Sn.height),Ye.maxY=fn-E):(Ye.minY=fn+E,Ye.maxY=fn+(2*E+Sn.height))}else{var un,Tn,gn;Ae.side==="right"?(un="start",Tn=1,gn="",_n=ye._offset+ye._length):(un="end",Tn=-1,gn="-",_n=ye._offset),fn=Ae._offset+(Le.y0+Le.y1)/2,Zt.attr("text-anchor",un),Bt.attr("d","M0,0L"+gn+c+","+c+"V"+(E+Sn.height/2)+"h"+gn+(2*E+Sn.width)+"V-"+(E+Sn.height/2)+"H"+gn+c+"V-"+c+"Z"),Ye.minY=fn-(E+Sn.height/2),Ye.maxY=fn+(E+Sn.height/2),Ae.side==="right"?(Ye.minX=_n+c,Ye.maxX=_n+c+(2*E+Sn.width)):(Ye.minX=_n-c-(2*E+Sn.width),Ye.maxX=_n-c);var dn,Rn=Sn.height/2,In=we-Sn.top-Rn,Hn="clip"+ae._uid+"commonlabel"+Ae._id;if(_n<Sn.width+2*E+c){dn="M-"+(c+E)+"-"+Rn+"h-"+(Sn.width-E)+"V"+Rn+"h"+(Sn.width-E)+"Z";var Yn=Sn.width-_n+E;t.positionText(Zt,Yn,In),un==="end"&&Zt.selectAll("tspan").each(function(){var cr=b.select(this),ir=o.tester.append("text").text(cr.text()).call(o.font,on),Mr=J(ne,ir.node());Math.round(Mr.width)<Math.round(Sn.width)&&cr.attr("x",Yn-Mr.width),ir.remove()})}else t.positionText(Zt,Tn*(E+c),In),dn=null;var Gn=ae._topclips.selectAll("#"+Hn).data(dn?[0]:[]);Gn.enter().append("clipPath").attr("id",Hn).append("path"),Gn.exit().remove(),Gn.select("path").attr("d",dn),o.setClipUrl(Zt,dn?Hn:null,ne)}Pt.attr("transform",y(_n,fn))}),p.isUnifiedHover(oe)){me.selectAll("g.hovertext").remove();var Ge=Z.filter(function(Pt){return Pt.hoverinfo!=="none"});if(Ge.length===0)return;var ot=ae.hoverlabel,st=ot.font,ht={showlegend:!0,legend:{title:{text:te,font:st},font:st,bgcolor:ot.bgcolor,bordercolor:ot.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ae.legend?ae.legend.traceorder:void 0,orientation:"v"}},xt={font:st};_(ht,xt,ne._fullData);var Ct=xt.legend;Ct.entries=[];for(var St=0;St<Ge.length;St++){var kt=Ge[St];if(kt.hoverinfo!=="none"){var Nt=z(kt,!0,oe,ae,te),Dt=Nt[0],Et=Nt[1];kt.name=Et,kt.text=Et!==""?Et+" : "+Dt:Dt;var Wt=kt.cd[kt.index];Wt&&(Wt.mc&&(kt.mc=Wt.mc),Wt.mcc&&(kt.mc=Wt.mcc),Wt.mlc&&(kt.mlc=Wt.mlc),Wt.mlcc&&(kt.mlc=Wt.mlcc),Wt.mlw&&(kt.mlw=Wt.mlw),Wt.mrc&&(kt.mrc=Wt.mrc),Wt.dir&&(kt.dir=Wt.dir)),kt._distinct=!0,Ct.entries.push([kt])}}Ct.entries.sort(function(Pt,Bt){return Pt[0].trace.index-Bt[0].trace.index}),Ct.layer=me,Ct._inHover=!0,Ct._groupTitleFont=ot.grouptitlefont,m(ne,Ct);var Ht,Ke,$e,Ue,nt=me.select("g.legend"),ct=J(ne,nt.node()),Oe=ct.width+2*E,Ne=ct.height+2*E,Qe=Ge[0],ut=(Qe.x0+Qe.x1)/2,pt=(Qe.y0+Qe.y1)/2,wt=!(u.traceIs(Qe.trace,"bar-like")||u.traceIs(Qe.trace,"box-violin"));Me==="y"?wt?(Ke=pt-E,Ht=pt+E):(Ke=Math.min.apply(null,Ge.map(function(Pt){return Math.min(Pt.y0,Pt.y1)})),Ht=Math.max.apply(null,Ge.map(function(Pt){return Math.max(Pt.y0,Pt.y1)}))):Ke=Ht=k.mean(Ge.map(function(Pt){return(Pt.y0+Pt.y1)/2}))-Ne/2,Me==="x"?wt?($e=ut+E,Ue=ut-E):($e=Math.max.apply(null,Ge.map(function(Pt){return Math.max(Pt.x0,Pt.x1)})),Ue=Math.min.apply(null,Ge.map(function(Pt){return Math.min(Pt.x0,Pt.x1)}))):$e=Ue=k.mean(Ge.map(function(Pt){return(Pt.x0+Pt.x1)/2}))-Oe/2;var Lt,It,yt=ye._offset,Rt=Ae._offset;return Ue+=yt-Oe,Ke+=Rt-Ne,Lt=($e+=yt)+Oe<Ee&&$e>=0?$e:Ue+Oe<Ee&&Ue>=0?Ue:yt+Oe<Ee?yt:$e-ut<ut-Ue+Oe?Ee-Oe:0,Lt+=E,It=(Ht+=Rt)+Ne<Be&&Ht>=0?Ht:Ke+Ne<Be&&Ke>=0?Ke:Rt+Ne<Be?Rt:Ht-pt<pt-Ke+Ne?Be-Ne:0,It+=E,nt.attr("transform",y(Lt-1,It-1)),nt}var bt=me.selectAll("g.hovertext").data(Z,function(Pt){return O(Pt)});return bt.enter().append("g").classed("hovertext",!0).each(function(){var Pt=b.select(this);Pt.append("rect").call(n.fill,n.addOpacity(ce,.8)),Pt.append("text").classed("name",!0),Pt.append("path").style("stroke-width","1px"),Pt.append("text").classed("nums",!0).call(o.font,fe,pe)}),bt.exit().remove(),bt.each(function(Pt){var Bt=b.select(this).attr("transform",""),Zt=Pt.color;Array.isArray(Zt)&&(Zt=Zt[Pt.eventData[0].pointNumber]);var Yt=Pt.bgcolor||Zt,Kt=n.combine(n.opacity(Yt)?Yt:n.defaultLine,ce),tn=n.combine(n.opacity(Zt)?Zt:n.defaultLine,ce),on=Pt.borderColor||n.contrast(Kt),_n=z(Pt,Re,oe,ae,te,Bt),fn=_n[0],Sn=_n[1],Xn=Bt.select("text.nums").call(o.font,Pt.fontFamily||fe,Pt.fontSize||pe,Pt.fontColor||on).text(fn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ne),An=Bt.select("text.name"),un=0,Tn=0;if(Sn&&Sn!==fn){An.call(o.font,Pt.fontFamily||fe,Pt.fontSize||pe,tn).text(Sn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ne);var gn=J(ne,An.node());un=gn.width+2*E,Tn=gn.height+2*E}else An.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:Kt,stroke:on});var dn=Pt.xa._offset+(Pt.x0+Pt.x1)/2,Rn=Pt.ya._offset+(Pt.y0+Pt.y1)/2,In=Math.abs(Pt.x1-Pt.x0),Hn=Math.abs(Pt.y1-Pt.y0),Yn=J(ne,Xn.node()),Gn=Yn.width/ae._invScaleX,cr=Yn.height/ae._invScaleY;Pt.ty0=(we-Yn.top)/ae._invScaleY,Pt.bx=Gn+2*E,Pt.by=Math.max(cr+2*E,Tn),Pt.anchor="start",Pt.txwidth=Gn,Pt.tx2width=un,Pt.offset=0;var ir,Mr,gr=(Gn+c+E+un)*ae._invScaleX;if(se)Pt.pos=dn,ir=Rn+Hn/2+gr<=Be,Mr=Rn-Hn/2-gr>=0,Pt.idealAlign!=="top"&&ir||!Mr?ir?(Rn+=Hn/2,Pt.anchor="start"):Pt.anchor="middle":(Rn-=Hn/2,Pt.anchor="end"),Pt.crossPos=Rn;else{if(Pt.pos=Rn,ir=dn+In/2+gr<=Ee,Mr=dn-In/2-gr>=0,Pt.idealAlign!=="left"&&ir||!Mr)if(ir)dn+=In/2,Pt.anchor="start";else{Pt.anchor="middle";var sr=gr/2,xr=dn+sr-Ee,kr=dn-sr;xr>0&&(dn-=xr),kr<0&&(dn+=-kr)}else dn-=In/2,Pt.anchor="end";Pt.crossPos=dn}Xn.attr("text-anchor",Pt.anchor),un&&An.attr("text-anchor",Pt.anchor),Bt.attr("transform",y(dn,Rn)+(se?f(d):""))}),{hoverLabels:bt,commonLabelBoundingBox:Ye}}function z(Z,$,ne,ae,oe,se){var ce="",me="";Z.nameOverride!==void 0&&(Z.name=Z.nameOverride),Z.name&&(Z.trace._meta&&(Z.name=k.templateString(Z.name,Z.trace._meta)),ce=H(Z.name,Z.nameLength));var xe=ne.charAt(0),ve=xe==="x"?"y":"x";Z.zLabel!==void 0?(Z.xLabel!==void 0&&(me+="x: "+Z.xLabel+"<br>"),Z.yLabel!==void 0&&(me+="y: "+Z.yLabel+"<br>"),Z.trace.type!=="choropleth"&&Z.trace.type!=="choroplethmapbox"&&(me+=(me?"z: ":"")+Z.zLabel)):$&&Z[xe+"Label"]===oe?me=Z[ve+"Label"]||"":Z.xLabel===void 0?Z.yLabel!==void 0&&Z.trace.type!=="scattercarpet"&&(me=Z.yLabel):me=Z.yLabel===void 0?Z.xLabel:"("+Z.xLabel+", "+Z.yLabel+")",!Z.text&&Z.text!==0||Array.isArray(Z.text)||(me+=(me?"<br>":"")+Z.text),Z.extraText!==void 0&&(me+=(me?"<br>":"")+Z.extraText),se&&me===""&&!Z.hovertemplate&&(ce===""&&se.remove(),me=ce);var fe=Z.hovertemplate||!1;if(fe){var pe=Z.hovertemplateLabels||Z;Z[xe+"Label"]!==oe&&(pe[xe+"other"]=pe[xe+"Val"],pe[xe+"otherLabel"]=pe[xe+"Label"]),me=(me=k.hovertemplateString(fe,pe,ae._d3locale,Z.eventData[0]||{},Z.trace._meta)).replace(P,function(Le,ye){return ce=H(ye,Z.nameLength),""})}return[me,ce]}function V(Z,$){var ne=0,ae=Z.offset;return $&&(ae*=-T,ne=Z.offset*v),{x:ne,y:ae}}function F(Z,$,ne,ae){var oe=function(ce){return ce*ne},se=function(ce){return ce*ae};Z.each(function(ce){var me=b.select(this);if(ce.del)return me.remove();var xe,ve,fe,pe,Le=me.select("text.nums"),ye=ce.anchor,Ae=ye==="end"?-1:1,Me=(pe=(fe=(ve={start:1,end:-1,middle:0}[(xe=ce).anchor])*(c+E))+ve*(xe.txwidth+E),xe.anchor==="middle"&&(fe-=xe.tx2width/2,pe+=xe.txwidth/2+E),{alignShift:ve,textShiftX:fe,text2ShiftX:pe}),ke=V(ce,$),te=ke.x,ue=ke.y,ge=ye==="middle";me.select("path").attr("d",ge?"M-"+oe(ce.bx/2+ce.tx2width/2)+","+se(ue-ce.by/2)+"h"+oe(ce.bx)+"v"+se(ce.by)+"h-"+oe(ce.bx)+"Z":"M0,0L"+oe(Ae*c+te)+","+se(c+ue)+"v"+se(ce.by/2-c)+"h"+oe(Ae*ce.bx)+"v-"+se(ce.by)+"H"+oe(Ae*c+te)+"V"+se(ue-c)+"Z");var we=te+Me.textShiftX,Ee=ue+ce.ty0-ce.by/2+E,Be=ce.textAlign||"auto";Be!=="auto"&&(Be==="left"&&ye!=="start"?(Le.attr("text-anchor","start"),we=ge?-ce.bx/2-ce.tx2width/2+E:-ce.bx-E):Be==="right"&&ye!=="end"&&(Le.attr("text-anchor","end"),we=ge?ce.bx/2-ce.tx2width/2-E:ce.bx+E)),Le.call(t.positionText,oe(we),se(Ee)),ce.tx2width&&(me.select("text.name").call(t.positionText,oe(Me.text2ShiftX+Me.alignShift*E+te),se(ue+ce.ty0-ce.by/2+E)),me.select("rect").call(o.setRect,oe(Me.text2ShiftX+(Me.alignShift-1)*ce.tx2width/2+te),se(ue-ce.by/2-1),oe(ce.tx2width),se(ce.by+2)))})}function W(Z,$){var ne=Z.index,ae=Z.trace||{},oe=Z.cd[0],se=Z.cd[ne]||{};function ce(Le){return Le||w(Le)&&Le===0}var me=Array.isArray(ne)?function(Le,ye){var Ae=k.castOption(oe,ne,Le);return ce(Ae)?Ae:k.extractOption({},ae,"",ye)}:function(Le,ye){return k.extractOption(se,ae,Le,ye)};function xe(Le,ye,Ae){var Me=me(ye,Ae);ce(Me)&&(Z[Le]=Me)}if(xe("hoverinfo","hi","hoverinfo"),xe("bgcolor","hbg","hoverlabel.bgcolor"),xe("borderColor","hbc","hoverlabel.bordercolor"),xe("fontFamily","htf","hoverlabel.font.family"),xe("fontSize","hts","hoverlabel.font.size"),xe("fontColor","htc","hoverlabel.font.color"),xe("nameLength","hnl","hoverlabel.namelength"),xe("textAlign","hta","hoverlabel.align"),Z.posref=$==="y"||$==="closest"&&ae.orientation==="h"?Z.xa._offset+(Z.x0+Z.x1)/2:Z.ya._offset+(Z.y0+Z.y1)/2,Z.x0=k.constrain(Z.x0,0,Z.xa._length),Z.x1=k.constrain(Z.x1,0,Z.xa._length),Z.y0=k.constrain(Z.y0,0,Z.ya._length),Z.y1=k.constrain(Z.y1,0,Z.ya._length),Z.xLabelVal!==void 0&&(Z.xLabel="xLabel"in Z?Z.xLabel:i.hoverLabelText(Z.xa,Z.xLabelVal,ae.xhoverformat),Z.xVal=Z.xa.c2d(Z.xLabelVal)),Z.yLabelVal!==void 0&&(Z.yLabel="yLabel"in Z?Z.yLabel:i.hoverLabelText(Z.ya,Z.yLabelVal,ae.yhoverformat),Z.yVal=Z.ya.c2d(Z.yLabelVal)),Z.zLabelVal!==void 0&&Z.zLabel===void 0&&(Z.zLabel=String(Z.zLabelVal)),!(isNaN(Z.xerr)||Z.xa.type==="log"&&Z.xerr<=0)){var ve=i.tickText(Z.xa,Z.xa.c2l(Z.xerr),"hover").text;Z.xerrneg!==void 0?Z.xLabel+=" +"+ve+" / -"+i.tickText(Z.xa,Z.xa.c2l(Z.xerrneg),"hover").text:Z.xLabel+=" \xB1 "+ve,$==="x"&&(Z.distance+=1)}if(!(isNaN(Z.yerr)||Z.ya.type==="log"&&Z.yerr<=0)){var fe=i.tickText(Z.ya,Z.ya.c2l(Z.yerr),"hover").text;Z.yerrneg!==void 0?Z.yLabel+=" +"+fe+" / -"+i.tickText(Z.ya,Z.ya.c2l(Z.yerrneg),"hover").text:Z.yLabel+=" \xB1 "+fe,$==="y"&&(Z.distance+=1)}var pe=Z.hoverinfo||Z.trace.hoverinfo;return pe&&pe!=="all"&&((pe=Array.isArray(pe)?pe:pe.split("+")).indexOf("x")===-1&&(Z.xLabel=void 0),pe.indexOf("y")===-1&&(Z.yLabel=void 0),pe.indexOf("z")===-1&&(Z.zLabel=void 0),pe.indexOf("text")===-1&&(Z.text=void 0),pe.indexOf("name")===-1&&(Z.name=void 0)),Z}function B(Z,$,ne){var ae,oe,se=ne.container,ce=ne.fullLayout,me=ce._size,xe=ne.event,ve=!!$.hLinePoint,fe=!!$.vLinePoint;if(se.selectAll(".spikeline").remove(),fe||ve){var pe=n.combine(ce.plot_bgcolor,ce.paper_bgcolor);if(ve){var Le,ye,Ae=$.hLinePoint;ae=Ae&&Ae.xa,(oe=Ae&&Ae.ya).spikesnap==="cursor"?(Le=xe.pointerX,ye=xe.pointerY):(Le=ae._offset+Ae.x,ye=oe._offset+Ae.y);var Me,ke,te=a.readability(Ae.color,pe)<1.5?n.contrast(pe):Ae.color,ue=oe.spikemode,ge=oe.spikethickness,we=oe.spikecolor||te,Ee=i.getPxPosition(Z,oe);if(ue.indexOf("toaxis")!==-1||ue.indexOf("across")!==-1){if(ue.indexOf("toaxis")!==-1&&(Me=Ee,ke=Le),ue.indexOf("across")!==-1){var Be=oe._counterDomainMin,Re=oe._counterDomainMax;oe.anchor==="free"&&(Be=Math.min(Be,oe.position),Re=Math.max(Re,oe.position)),Me=me.l+Be*me.w,ke=me.l+Re*me.w}se.insert("line",":first-child").attr({x1:Me,x2:ke,y1:ye,y2:ye,"stroke-width":ge,stroke:we,"stroke-dasharray":o.dashStyle(oe.spikedash,ge)}).classed("spikeline",!0).classed("crisp",!0),se.insert("line",":first-child").attr({x1:Me,x2:ke,y1:ye,y2:ye,"stroke-width":ge+2,stroke:pe}).classed("spikeline",!0).classed("crisp",!0)}ue.indexOf("marker")!==-1&&se.insert("circle",":first-child").attr({cx:Ee+(oe.side!=="right"?ge:-ge),cy:ye,r:ge,fill:we}).classed("spikeline",!0)}if(fe){var je,he,_e=$.vLinePoint;ae=_e&&_e.xa,oe=_e&&_e.ya,ae.spikesnap==="cursor"?(je=xe.pointerX,he=xe.pointerY):(je=ae._offset+_e.x,he=oe._offset+_e.y);var Te,Fe,Ye=a.readability(_e.color,pe)<1.5?n.contrast(pe):_e.color,Ge=ae.spikemode,ot=ae.spikethickness,st=ae.spikecolor||Ye,ht=i.getPxPosition(Z,ae);if(Ge.indexOf("toaxis")!==-1||Ge.indexOf("across")!==-1){if(Ge.indexOf("toaxis")!==-1&&(Te=ht,Fe=he),Ge.indexOf("across")!==-1){var xt=ae._counterDomainMin,Ct=ae._counterDomainMax;ae.anchor==="free"&&(xt=Math.min(xt,ae.position),Ct=Math.max(Ct,ae.position)),Te=me.t+(1-Ct)*me.h,Fe=me.t+(1-xt)*me.h}se.insert("line",":first-child").attr({x1:je,x2:je,y1:Te,y2:Fe,"stroke-width":ot,stroke:st,"stroke-dasharray":o.dashStyle(ae.spikedash,ot)}).classed("spikeline",!0).classed("crisp",!0),se.insert("line",":first-child").attr({x1:je,x2:je,y1:Te,y2:Fe,"stroke-width":ot+2,stroke:pe}).classed("spikeline",!0).classed("crisp",!0)}Ge.indexOf("marker")!==-1&&se.insert("circle",":first-child").attr({cx:je,cy:ht-(ae.side!=="top"?ot:-ot),r:ot,fill:st}).classed("spikeline",!0)}}}function U(Z,$){return!$||$.vLinePoint!==Z._spikepoints.vLinePoint||$.hLinePoint!==Z._spikepoints.hLinePoint}function H(Z,$){return t.plainText(Z||"",{len:$,allowedTags:["br","sub","sup","b","i","em"]})}function q(Z,$,ne){var ae=$[Z+"a"],oe=$[Z+"Val"],se=$.cd[0];if(ae.type==="category"||ae.type==="multicategory")oe=ae._categoriesMap[oe];else if(ae.type==="date"){var ce=$.trace[Z+"periodalignment"];if(ce){var me=$.cd[$.index],xe=me[Z+"Start"];xe===void 0&&(xe=me[Z]);var ve=me[Z+"End"];ve===void 0&&(ve=me[Z]);var fe=ve-xe;ce==="end"?oe+=fe:ce==="middle"&&(oe+=fe/2)}oe=ae.d2c(oe)}return se&&se.t&&se.t.posLetter===ae._id&&(ne.boxmode!=="group"&&ne.violinmode!=="group"||(oe+=se.t.dPos)),oe}function ee(Z){return Z.offsetTop+Z.clientTop}function K(Z){return Z.offsetLeft+Z.clientLeft}function J(Z,$){var ne=Z._fullLayout,ae=$.getBoundingClientRect(),oe=ae.left,se=ae.top,ce=oe+ae.width,me=se+ae.height,xe=k.apply3DTransform(ne._invTransform)(oe,se),ve=k.apply3DTransform(ne._invTransform)(ce,me),fe=xe[0],pe=xe[1],Le=ve[0],ye=ve[1];return{x:fe,y:pe,width:Le-fe,height:ye-pe,top:Math.min(pe,ye),left:Math.min(fe,Le),right:Math.max(fe,Le),bottom:Math.max(pe,ye)}}},38048:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(23469).isUnifiedHover;L.exports=function(k,y,f,l){l=l||{};var t=y.legend;function s(o){l.font[o]||(l.font[o]=t?y.legend.font[o]:y.font[o])}y&&a(y.hovermode)&&(l.font||(l.font={}),s("size"),s("family"),s("color"),t?(l.bgcolor||(l.bgcolor=w.combine(y.legend.bgcolor,y.paper_bgcolor)),l.bordercolor||(l.bordercolor=y.legend.bordercolor)):l.bgcolor||(l.bgcolor=y.paper_bgcolor)),f("hoverlabel.bgcolor",l.bgcolor),f("hoverlabel.bordercolor",l.bordercolor),f("hoverlabel.namelength",l.namelength),b.coerceFont(f,"hoverlabel.font",l.font),f("hoverlabel.align",l.align)}},98212:function(L,M,e){"use strict";var b=e(71828),w=e(528);L.exports=function(a,k){function y(f,l){return k[f]!==void 0?k[f]:b.coerce(a,k,w,f,l)}return y("clickmode"),y("hovermode")}},30211:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(28569),k=e(23469),y=e(528),f=e(88335);L.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:y},attributes:e(77914),layoutAttributes:y,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:k.getDistanceFunction,getClosest:k.getClosest,inbox:k.inbox,quadrature:k.quadrature,appendArrayPointValue:k.appendArrayPointValue,castHoverOption:function(l,t,s){return w.castOption(l,t,"hoverlabel."+s)},castHoverinfo:function(l,t,s){return w.castOption(l,s,"hoverinfo",function(o){return w.coerceHoverinfo({hoverinfo:o},{_module:l._module},t)})},hover:f.hover,unhover:a.unhover,loneHover:f.loneHover,loneUnhover:function(l){var t=w.isD3Selection(l)?l:b.select(l);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(75914)}},528:function(L,M,e){"use strict";var b=e(26675),w=e(41940),a=w({editType:"none"});a.family.dflt=b.HOVERFONT,a.size.dflt=b.HOVERFONTSIZE,L.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:w({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(L,M,e){"use strict";var b=e(71828),w=e(528),a=e(98212),k=e(38048);L.exports=function(y,f){function l(n,r){return b.coerce(y,f,w,n,r)}a(y,f)&&(l("hoverdistance"),l("spikedistance")),l("dragmode")==="select"&&l("selectdirection");var t=f._has("mapbox"),s=f._has("geo"),o=f._basePlotModules.length;f.dragmode==="zoom"&&((t||s)&&o===1||t&&s&&o===2)&&(f.dragmode="pan"),k(y,f,l),b.coerceFont(l,"hoverlabel.grouptitlefont",f.hoverlabel.font)}},22774:function(L,M,e){"use strict";var b=e(71828),w=e(38048),a=e(528);L.exports=function(k,y){w(k,y,function(f,l){return b.coerce(k,y,a,f,l)})}},83312:function(L,M,e){"use strict";var b=e(71828),w=e(30587).counter,a=e(27670).Y,k=e(85555).idRegex,y=e(44467),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[w("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[k.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[k.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(o,n,r){var i=n[r+"axes"],u=Object.keys((o._splomAxes||{})[r]||{});return Array.isArray(i)?i:u.length?u:void 0}function t(o,n,r,i,u,p){var h=n(o+"gap",r),_=n("domain."+o);n(o+"side",i);for(var m=new Array(u),d=_[0],x=(_[1]-d)/(u-h),g=x*(1-h),v=0;v<u;v++){var T=d+x*v;m[p?u-1-v:v]=[T,T+g]}return m}function s(o,n,r,i,u){var p,h=new Array(r);function _(m,d){n.indexOf(d)!==-1&&i[d]===void 0?(h[m]=d,i[d]=m):h[m]=""}if(Array.isArray(o))for(p=0;p<r;p++)_(p,o[p]);else for(_(0,u),p=1;p<r;p++)_(p,u+(p+1));return h}L.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:function(o,n){var r=o.grid||{},i=l(n,r,"x"),u=l(n,r,"y");if(o.grid||i||u){var p,h,_=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),m=Array.isArray(i),d=Array.isArray(u),x=m&&i!==r.xaxes&&d&&u!==r.yaxes;_?(p=r.subplots.length,h=r.subplots[0].length):(d&&(p=u.length),m&&(h=i.length));var g=y.newContainer(n,"grid"),v=P("rows",p),T=P("columns",h);if(v*T>1){_||m||d||P("pattern")==="independent"&&(_=!0),g._hasSubplotGrid=_;var c,E,A=P("roworder")==="top to bottom",C=_?.2:.1,O=_?.3:.1;x&&n._splomGridDflt&&(c=n._splomGridDflt.xside,E=n._splomGridDflt.yside),g._domains={x:t("x",P,C,c,T),y:t("y",P,O,E,v,A)}}else delete n.grid}function P(D,z){return b.coerce(r,g,f,D,z)}},contentDefaults:function(o,n){var r=n.grid;if(r&&r._domains){var i,u,p,h,_,m,d,x=o.grid||{},g=n._subplots,v=r._hasSubplotGrid,T=r.rows,c=r.columns,E=r.pattern==="independent",A=r._axisMap={};if(v){var C=x.subplots||[];m=r.subplots=new Array(T);var O=1;for(i=0;i<T;i++){var P=m[i]=new Array(c),D=C[i]||[];for(u=0;u<c;u++)if(E?(_=O===1?"xy":"x"+O+"y"+O,O++):_=D[u],P[u]="",g.cartesian.indexOf(_)!==-1){if(d=_.indexOf("y"),p=_.slice(0,d),h=_.slice(d),A[p]!==void 0&&A[p]!==u||A[h]!==void 0&&A[h]!==i)continue;P[u]=_,A[p]=u,A[h]=i}}}else{var z=l(n,x,"x"),V=l(n,x,"y");r.xaxes=s(z,g.xaxis,c,A,"x"),r.yaxes=s(V,g.yaxis,T,A,"y")}var F=r._anchors={},W=r.roworder==="top to bottom";for(var B in A){var U,H,q,ee=B.charAt(0),K=r[ee+"side"];if(K.length<8)F[B]="free";else if(ee==="x"){if(K.charAt(0)==="t"===W?(U=0,H=1,q=T):(U=T-1,H=-1,q=-1),v){var J=A[B];for(i=U;i!==q;i+=H)if((_=m[i][J])&&(d=_.indexOf("y"),_.slice(0,d)===B)){F[B]=_.slice(d);break}}else for(i=U;i!==q;i+=H)if(h=r.yaxes[i],g.cartesian.indexOf(B+h)!==-1){F[B]=h;break}}else if(K.charAt(0)==="l"?(U=0,H=1,q=c):(U=c-1,H=-1,q=-1),v){var Z=A[B];for(i=U;i!==q;i+=H)if((_=m[Z][i])&&(d=_.indexOf("y"),_.slice(d)===B)){F[B]=_.slice(0,d);break}}else for(i=U;i!==q;i+=H)if(p=r.xaxes[i],g.cartesian.indexOf(p+B)!==-1){F[B]=p;break}}}}}},69819:function(L,M,e){"use strict";var b=e(85555),w=e(44467).templatedArray;e(24695),L.exports=w("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",b.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",b.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(L,M,e){"use strict";var b=e(92770),w=e(58163);L.exports=function(a,k,y,f){k=k||{};var l=y==="log"&&k.type==="linear",t=y==="linear"&&k.type==="log";if(l||t){for(var s,o,n=a._fullLayout.images,r=k._id.charAt(0),i=0;i<n.length;i++)if(o="images["+i+"].",(s=n[i])[r+"ref"]===k._id){var u=s[r],p=s["size"+r],h=null,_=null;if(l){h=w(u,k.range);var m=p/Math.pow(10,h)/2;_=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else _=(h=Math.pow(10,u))*(Math.pow(10,p/2)-Math.pow(10,-p/2));b(h)?b(_)||(_=null):(h=null,_=null),f(o+r,h),f(o+"size"+r,_)}}}},81603:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(85501),k=e(69819);function y(f,l,t){function s(h,_){return b.coerce(f,l,k,h,_)}var o=s("source");if(!s("visible",!!o))return l;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var n={_fullLayout:t},r=["x","y"],i=0;i<2;i++){var u=r[i],p=w.coerceRef(f,l,n,u,"paper",void 0);p!=="paper"&&w.getFromId(n,p)._imgIndices.push(l._index),w.coercePosition(l,n,s,p,u,0)}return l}L.exports=function(f,l){a(f,l,{name:"images",handleItemDefaults:y})}},80750:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(89298),k=e(41675),y=e(77922);L.exports=function(f){var l,t,s=f._fullLayout,o=[],n={},r=[];for(t=0;t<s.images.length;t++){var i=s.images[t];if(i.visible)if(i.layer==="below"&&i.xref!=="paper"&&i.yref!=="paper"){l=k.ref2id(i.xref)+k.ref2id(i.yref);var u=s._plots[l];if(!u){r.push(i);continue}u.mainplot&&(l=u.mainplot.id),n[l]||(n[l]=[]),n[l].push(i)}else i.layer==="above"?o.push(i):r.push(i)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},h={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function _(c){var E=b.select(this);if(this._imgSrc!==c.source)if(E.attr("xmlns",y.svg),c.source&&c.source.slice(0,5)==="data:")E.attr("xlink:href",c.source),this._imgSrc=c.source;else{var A=new Promise(function(C){var O=new Image;function P(){E.remove(),C()}this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=P,O.onload=function(){var D=document.createElement("canvas");D.width=this.width,D.height=this.height,D.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=D.toDataURL("image/png");E.attr("xlink:href",z),C()},E.on("error",P),O.src=c.source,this._imgSrc=c.source}.bind(this));f._promises.push(A)}}function m(c){var E,A,C=b.select(this),O=a.getFromId(f,c.xref),P=a.getFromId(f,c.yref),D=a.getRefType(c.xref)==="domain",z=a.getRefType(c.yref)==="domain",V=s._size;E=O!==void 0?typeof c.xref=="string"&&D?O._length*c.sizex:Math.abs(O.l2p(c.sizex)-O.l2p(0)):c.sizex*V.w,A=P!==void 0?typeof c.yref=="string"&&z?P._length*c.sizey:Math.abs(P.l2p(c.sizey)-P.l2p(0)):c.sizey*V.h;var F,W,B=E*p[c.xanchor].offset,U=A*h[c.yanchor].offset,H=p[c.xanchor].sizing+h[c.yanchor].sizing;switch(F=O!==void 0?typeof c.xref=="string"&&D?O._length*c.x+O._offset:O.r2p(c.x)+O._offset:c.x*V.w+V.l,F+=B,W=P!==void 0?typeof c.yref=="string"&&z?P._length*(1-c.y)+P._offset:P.r2p(c.y)+P._offset:V.h-c.y*V.h+V.t,W+=U,c.sizing){case"fill":H+=" slice";break;case"stretch":H="none"}C.attr({x:F,y:W,width:E,height:A,preserveAspectRatio:H,opacity:c.opacity});var q=(O&&a.getRefType(c.xref)!=="domain"?O._id:"")+(P&&a.getRefType(c.yref)!=="domain"?P._id:"");w.setClipUrl(C,q?"clip"+s._uid+q:null,f)}var d=s._imageLowerLayer.selectAll("image").data(r),x=s._imageUpperLayer.selectAll("image").data(o);d.enter().append("image"),x.enter().append("image"),d.exit().remove(),x.exit().remove(),d.each(function(c){_.bind(this)(c),m.bind(this)(c)}),x.each(function(c){_.bind(this)(c),m.bind(this)(c)});var g=Object.keys(s._plots);for(t=0;t<g.length;t++){l=g[t];var v=s._plots[l];if(v.imagelayer){var T=v.imagelayer.selectAll("image").data(n[l]||[]);T.enter().append("image"),T.exit().remove(),T.each(function(c){_.bind(this)(c),m.bind(this)(c)})}}}},68804:function(L,M,e){"use strict";L.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(L,M,e){"use strict";var b=e(41940),w=e(22399);L.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:b({editType:"legend"}),grouptitlefont:b({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:b({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(L){"use strict";L.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(44467),k=e(9012),y=e(33030),f=e(10820),l=e(10130);L.exports=function(t,s,o){var n,r=t.legend||{},i=a.newContainer(s,"legend");function u(P,D){return w.coerce(r,i,y,P,D)}for(var p=function(P,D){var z=n._input,V=n;return w.coerce(z,V,k,P,D)},h=s.font||{},_=w.coerceFont(u,"grouptitlefont",w.extendFlat({},h,{size:Math.round(1.1*h.size)})),m=0,d=!1,x="normal",g=0;g<o.length;g++)(n=o[g]).visible&&((n.showlegend||n._dfltShowLegend&&!(n._module&&n._module.attributes&&n._module.attributes.showlegend&&n._module.attributes.showlegend.dflt===!1))&&(m++,n.showlegend&&(d=!0,(b.traceIs(n,"pie-like")||n._input.showlegend===!0)&&m++),w.coerceFont(p,"legendgrouptitle.font",_)),(b.traceIs(n,"bar")&&s.barmode==="stack"||["tonextx","tonexty"].indexOf(n.fill)!==-1)&&(x=l.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),n.legendgroup!==void 0&&n.legendgroup!==""&&(x=l.isReversed({traceorder:x})?"reversed+grouped":"grouped"));var v=w.coerce(t,s,f,"showlegend",d&&m>1);if(v===!1&&(s.legend=void 0),(v!==!1||r.uirevision)&&(u("uirevision",s.uirevision),v!==!1)){u("bgcolor",s.paper_bgcolor),u("bordercolor"),u("borderwidth");var T,c,E,A=w.coerceFont(u,"font",s.font),C=u("orientation")==="h";if(C?(T=0,b.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(c=1.1,E="bottom"):(c=-.1,E="top")):(T=1.02,c=1,E="auto"),u("traceorder",x),l.isGrouped(s.legend)&&u("tracegroupgap"),u("entrywidth"),u("entrywidthmode"),u("itemsizing"),u("itemwidth"),u("itemclick"),u("itemdoubleclick"),u("groupclick"),u("x",T),u("xanchor"),u("y",c),u("yanchor",E),u("valign"),w.noneOrAll(r,i,["x","y"]),u("title.text")){u("title.side",C?"left":"top");var O=w.extendFlat({},A,{size:w.bigFont(A.size)});w.coerceFont(u,"title.font",O)}}}},43969:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(74875),k=e(73972),y=e(11086),f=e(28569),l=e(91424),t=e(7901),s=e(63893),o=e(85167),n=e(14928),r=e(18783),i=r.LINE_SPACING,u=r.FROM_TL,p=r.FROM_BR,h=e(82424),_=e(53630),m=e(10130);function d(C,O,P){var D=C[0],z=D.width,V=O.entrywidthmode,F=D.trace.legendwidth||O.entrywidth;return V==="fraction"?O._maxWidth*F:P+(F||z)}function x(C,O,P,D,z){var V=P.data()[0][0].trace,F={event:z,node:P.node(),curveNumber:V.index,expandedIndex:V._expandedIndex,data:C.data,layout:C.layout,frames:C._transitionData._frames,config:C._context,fullData:C._fullData,fullLayout:C._fullLayout};V._group&&(F.group=V._group),k.traceIs(V,"pie-like")&&(F.label=P.datum()[0].label),y.triggerHandler(C,"plotly_legendclick",F)!==!1&&(D===1?O._clickTimeout=setTimeout(function(){C._fullLayout&&o(P,C,D)},C._context.doubleClickDelay):D===2&&(O._clickTimeout&&clearTimeout(O._clickTimeout),C._legendMouseDownTime=0,y.triggerHandler(C,"plotly_legenddoubleclick",F)!==!1&&o(P,C,D)))}function g(C,O,P){var D,z,V=C.data()[0][0],F=V.trace,W=k.traceIs(F,"pie-like"),B=!P._inHover&&O._context.edits.legendText&&!W,U=P._maxNameLength;V.groupTitle?(D=V.groupTitle.text,z=V.groupTitle.font):(z=P.font,P.entries?D=V.text:(D=W?V.label:F.name,F._meta&&(D=w.templateString(D,F._meta))));var H=w.ensureSingle(C,"text","legendtext");H.attr("text-anchor","start").call(l.font,z).text(B?v(D,U):D);var q=P.itemwidth+2*n.itemGap;s.positionText(H,q,0),B?H.call(s.makeEditable,{gd:O,text:D}).call(c,C,O,P).on("edit",function(ee){this.text(v(ee,U)).call(c,C,O,P);var K=V.trace._fullInput||{},J={};if(k.hasTransform(K,"groupby")){var Z=k.getTransformIndices(K,"groupby"),$=Z[Z.length-1],ne=w.keyedContainer(K,"transforms["+$+"].styles","target","value.name");ne.set(V.trace._group,ee),J=ne.constructUpdate()}else J.name=ee;return k.call("_guiRestyle",O,J,F.index)}):c(H,C,O,P)}function v(C,O){var P=Math.max(4,O);if(C&&C.trim().length>=P/2)return C;for(var D=P-(C=C||"").length;D>0;D--)C+=" ";return C}function T(C,O){var P,D=O._context.doubleClickDelay,z=1,V=w.ensureSingle(C,"rect","legendtoggle",function(F){O._context.staticPlot||F.style("cursor","pointer").attr("pointer-events","all"),F.call(t.fill,"rgba(0,0,0,0)")});O._context.staticPlot||(V.on("mousedown",function(){(P=new Date().getTime())-O._legendMouseDownTime<D?z+=1:(z=1,O._legendMouseDownTime=P)}),V.on("mouseup",function(){if(!O._dragged&&!O._editing){var F=O._fullLayout.legend;new Date().getTime()-O._legendMouseDownTime>D&&(z=Math.max(z-1,1)),x(O,F,C,z,b.event)}}))}function c(C,O,P,D,z){D._inHover&&C.attr("data-notex",!0),s.convertToTspans(C,P,function(){(function(V,F,W,B){var U=V.data()[0][0];if(W._inHover||!U||U.trace.showlegend){var H=V.select("g[class*=math-group]"),q=H.node();W||(W=F._fullLayout.legend);var ee,K,J=W.borderwidth,Z=(B===1?W.title.font:U.groupTitle?U.groupTitle.font:W.font).size*i;if(q){var $=l.bBox(q);ee=$.height,K=$.width,B===1?l.setTranslate(H,J,J+.75*ee):l.setTranslate(H,0,.25*ee)}else{var ne=V.select(B===1?".legendtitletext":".legendtext"),ae=s.lineCount(ne),oe=ne.node();if(ee=Z*ae,K=oe?l.bBox(oe).width:0,B===1)W.title.side==="left"&&(K+=2*n.itemGap),s.positionText(ne,J+n.titlePad,J+Z);else{var se=2*n.itemGap+W.itemwidth;U.groupTitle&&(se=n.itemGap,K-=W.itemwidth),s.positionText(ne,se,-Z*((ae-1)/2-.3))}}B===1?(W._titleWidth=K,W._titleHeight=ee):(U.lineHeight=Z,U.height=Math.max(ee,16)+3,U.width=K)}else V.remove()})(O,P,D,z)})}function E(C){return w.isRightAnchor(C)?"right":w.isCenterAnchor(C)?"center":"left"}function A(C){return w.isBottomAnchor(C)?"bottom":w.isMiddleAnchor(C)?"middle":"top"}L.exports=function(C,O){return O||(O=C._fullLayout.legend||{}),function(P,D){var z,V,F=P._fullLayout,W="legend"+F._uid,B=D._inHover;if(B?(z=D.layer,W+="-hover"):z=F._infolayer,z){if(P._legendMouseDownTime||(P._legendMouseDownTime=0),B){if(!D.entries)return;V=h(D.entries,D)}else{if(!P.calcdata)return;V=F.showlegend&&h(P.calcdata,D)}var U=F.hiddenlabels||[];if(!(B||F.showlegend&&V.length))return z.selectAll(".legend").remove(),F._topdefs.select("#"+W).remove(),a.autoMargin(P,"legend");var H=w.ensureSingle(z,"g","legend",function(oe){B||oe.attr("pointer-events","all")}),q=w.ensureSingleById(F._topdefs,"clipPath",W,function(oe){oe.append("rect")}),ee=w.ensureSingle(H,"rect","bg",function(oe){oe.attr("shape-rendering","crispEdges")});ee.call(t.stroke,D.bordercolor).call(t.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px");var K=w.ensureSingle(H,"g","scrollbox"),J=D.title;if(D._titleWidth=0,D._titleHeight=0,J.text){var Z=w.ensureSingle(K,"text","legendtitletext");Z.attr("text-anchor","start").call(l.font,J.font).text(J.text),c(Z,K,P,D,1)}else K.selectAll(".legendtitletext").remove();var $=w.ensureSingle(H,"rect","scrollbar",function(oe){oe.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),ne=K.selectAll("g.groups").data(V);ne.enter().append("g").attr("class","groups"),ne.exit().remove();var ae=ne.selectAll("g.traces").data(w.identity);ae.enter().append("g").attr("class","traces"),ae.exit().remove(),ae.style("opacity",function(oe){var se=oe[0].trace;return k.traceIs(se,"pie-like")?U.indexOf(oe[0].label)!==-1?.5:1:se.visible==="legendonly"?.5:1}).each(function(){b.select(this).call(g,P,D)}).call(_,P,D).each(function(){B||b.select(this).call(T,P)}),w.syncOrAsync([a.previousPromises,function(){return function(oe,se,ce,me){var xe=oe._fullLayout;me||(me=xe.legend);var ve=xe._size,fe=m.isVertical(me),pe=m.isGrouped(me),Le=me.entrywidthmode==="fraction",ye=me.borderwidth,Ae=2*ye,Me=n.itemGap,ke=me.itemwidth+2*Me,te=2*(ye+Me),ue=A(me),ge=me.y<0||me.y===0&&ue==="top",we=me.y>1||me.y===1&&ue==="bottom",Ee=me.tracegroupgap,Be={};me._maxHeight=Math.max(ge||we?xe.height/2:ve.h,30);var Re=0;me._width=0,me._height=0;var je=function($e){var Ue=0,nt=0,ct=$e.title.side;return ct&&(ct.indexOf("left")!==-1&&(Ue=$e._titleWidth),ct.indexOf("top")!==-1&&(nt=$e._titleHeight)),[Ue,nt]}(me);if(fe)ce.each(function($e){var Ue=$e[0].height;l.setTranslate(this,ye+je[0],ye+je[1]+me._height+Ue/2+Me),me._height+=Ue,me._width=Math.max(me._width,$e[0].width)}),Re=ke+me._width,me._width+=Me+ke+Ae,me._height+=te,pe&&(se.each(function($e,Ue){l.setTranslate(this,0,Ue*me.tracegroupgap)}),me._height+=(me._lgroupsLength-1)*me.tracegroupgap);else{var he=E(me),_e=me.x<0||me.x===0&&he==="right",Te=me.x>1||me.x===1&&he==="left",Fe=we||ge,Ye=xe.width/2;me._maxWidth=Math.max(_e?Fe&&he==="left"?ve.l+ve.w:Ye:Te?Fe&&he==="right"?ve.r+ve.w:Ye:ve.w,2*ke);var Ge=0,ot=0;ce.each(function($e){var Ue=d($e,me,ke);Ge=Math.max(Ge,Ue),ot+=Ue}),Re=null;var st=0;if(pe){var ht=0,xt=0,Ct=0;se.each(function(){var $e=0,Ue=0;b.select(this).selectAll("g.traces").each(function(ct){var Oe=d(ct,me,ke),Ne=ct[0].height;l.setTranslate(this,je[0],je[1]+ye+Me+Ne/2+Ue),Ue+=Ne,$e=Math.max($e,Oe),Be[ct[0].trace.legendgroup]=$e});var nt=$e+Me;xt>0&&nt+ye+xt>me._maxWidth?(st=Math.max(st,xt),xt=0,Ct+=ht+Ee,ht=Ue):ht=Math.max(ht,Ue),l.setTranslate(this,xt,Ct),xt+=nt}),me._width=Math.max(st,xt)+ye,me._height=Ct+ht+te}else{var St=ce.size(),kt=ot+Ae+(St-1)*Me<me._maxWidth,Nt=0,Dt=0,Et=0,Wt=0;ce.each(function($e){var Ue=$e[0].height,nt=d($e,me,ke),ct=kt?nt:Ge;Le||(ct+=Me),ct+ye+Dt-Me>=me._maxWidth&&(st=Math.max(st,Wt),Dt=0,Et+=Nt,me._height+=Nt,Nt=0),l.setTranslate(this,je[0]+ye+Dt,je[1]+ye+Et+Ue/2+Me),Wt=Dt+nt+Me,Dt+=ct,Nt=Math.max(Nt,Ue)}),kt?(me._width=Dt+Ae,me._height=Nt+te):(me._width=Math.max(st,Wt)+Ae,me._height+=Nt+te)}}me._width=Math.ceil(Math.max(me._width+je[0],me._titleWidth+2*(ye+n.titlePad))),me._height=Math.ceil(Math.max(me._height+je[1],me._titleHeight+2*(ye+n.itemGap))),me._effHeight=Math.min(me._height,me._maxHeight);var Ht=oe._context.edits,Ke=Ht.legendText||Ht.legendPosition;ce.each(function($e){var Ue=b.select(this).select(".legendtoggle"),nt=$e[0].height,ct=$e[0].trace.legendgroup,Oe=d($e,me,ke);pe&&ct!==""&&(Oe=Be[ct]);var Ne=Ke?ke:Re||Oe;fe||Le||(Ne+=Me/2),l.setRect(Ue,0,-nt/2,Ne,nt)})}(P,ne,ae,D)},function(){var oe,se,ce,me,xe=F._size,ve=D.borderwidth;if(!B){var fe=function(Te){var Fe=Te._fullLayout.legend,Ye=E(Fe),Ge=A(Fe);return a.autoMargin(Te,"legend",{x:Fe.x,y:Fe.y,l:Fe._width*u[Ye],r:Fe._width*p[Ye],b:Fe._effHeight*p[Ge],t:Fe._effHeight*u[Ge]})}(P);if(fe)return;var pe=xe.l+xe.w*D.x-u[E(D)]*D._width,Le=xe.t+xe.h*(1-D.y)-u[A(D)]*D._effHeight;if(F.margin.autoexpand){var ye=pe,Ae=Le;pe=w.constrain(pe,0,F.width-D._width),Le=w.constrain(Le,0,F.height-D._effHeight),pe!==ye&&w.log("Constrain legend.x to make legend fit inside graph"),Le!==Ae&&w.log("Constrain legend.y to make legend fit inside graph")}l.setTranslate(H,pe,Le)}if($.on(".drag",null),H.on("wheel",null),B||D._height<=D._maxHeight||P._context.staticPlot){var Me=D._effHeight;B&&(Me=D._height),ee.attr({width:D._width-ve,height:Me-ve,x:ve/2,y:ve/2}),l.setTranslate(K,0,0),q.select("rect").attr({width:D._width-2*ve,height:Me-2*ve,x:ve,y:ve}),l.setClipUrl(K,W,P),l.setRect($,0,0,0,0),delete D._scrollY}else{var ke,te,ue,ge=Math.max(n.scrollBarMinHeight,D._effHeight*D._effHeight/D._height),we=D._effHeight-ge-2*n.scrollBarMargin,Ee=D._height-D._effHeight,Be=we/Ee,Re=Math.min(D._scrollY||0,Ee);ee.attr({width:D._width-2*ve+n.scrollBarWidth+n.scrollBarMargin,height:D._effHeight-ve,x:ve/2,y:ve/2}),q.select("rect").attr({width:D._width-2*ve+n.scrollBarWidth+n.scrollBarMargin,height:D._effHeight-2*ve,x:ve,y:ve+Re}),l.setClipUrl(K,W,P),_e(Re,ge,Be),H.on("wheel",function(){_e(Re=w.constrain(D._scrollY+b.event.deltaY/we*Ee,0,Ee),ge,Be),Re!==0&&Re!==Ee&&b.event.preventDefault()});var je=b.behavior.drag().on("dragstart",function(){var Te=b.event.sourceEvent;ke=Te.type==="touchstart"?Te.changedTouches[0].clientY:Te.clientY,ue=Re}).on("drag",function(){var Te=b.event.sourceEvent;Te.buttons===2||Te.ctrlKey||(te=Te.type==="touchmove"?Te.changedTouches[0].clientY:Te.clientY,_e(Re=function(Fe,Ye,Ge){var ot=(Ge-Ye)/Be+Fe;return w.constrain(ot,0,Ee)}(ue,ke,te),ge,Be))});$.call(je);var he=b.behavior.drag().on("dragstart",function(){var Te=b.event.sourceEvent;Te.type==="touchstart"&&(ke=Te.changedTouches[0].clientY,ue=Re)}).on("drag",function(){var Te=b.event.sourceEvent;Te.type==="touchmove"&&(te=Te.changedTouches[0].clientY,_e(Re=function(Fe,Ye,Ge){var ot=(Ye-Ge)/Be+Fe;return w.constrain(ot,0,Ee)}(ue,ke,te),ge,Be))});K.call(he)}function _e(Te,Fe,Ye){D._scrollY=P._fullLayout.legend._scrollY=Te,l.setTranslate(K,0,-Te),l.setRect($,D._width,n.scrollBarMargin+Te*Ye,n.scrollBarWidth,Fe),q.select("rect").attr("y",ve+Te)}P._context.edits.legendPosition&&(H.classed("cursor-move",!0),f.init({element:H.node(),gd:P,prepFn:function(){var Te=l.getTranslate(H);ce=Te.x,me=Te.y},moveFn:function(Te,Fe){var Ye=ce+Te,Ge=me+Fe;l.setTranslate(H,Ye,Ge),oe=f.align(Ye,D._width,xe.l,xe.l+xe.w,D.xanchor),se=f.align(Ge+D._height,-D._height,xe.t+xe.h,xe.t,D.yanchor)},doneFn:function(){oe!==void 0&&se!==void 0&&k.call("_guiRelayout",P,{"legend.x":oe,"legend.y":se})},clickFn:function(Te,Fe){var Ye=z.selectAll("g.traces").filter(function(){var Ge=this.getBoundingClientRect();return Fe.clientX>=Ge.left&&Fe.clientX<=Ge.right&&Fe.clientY>=Ge.top&&Fe.clientY<=Ge.bottom});Ye.size()>0&&x(P,H,Ye,Te,Fe)}}))}],P)}}(C,O)}},82424:function(L,M,e){"use strict";var b=e(73972),w=e(10130);L.exports=function(a,k){var y,f,l=k._inHover,t=w.isGrouped(k),s=w.isReversed(k),o={},n=[],r=!1,i={},u=0,p=0;function h(V,F){if(V!==""&&w.isGrouped(k))n.indexOf(V)===-1?(n.push(V),r=!0,o[V]=[F]):o[V].push(F);else{var W="~~i"+u;n.push(W),o[W]=[F],u++}}for(y=0;y<a.length;y++){var _=a[y],m=_[0],d=m.trace,x=d.legendgroup;if(l||d.visible&&d.showlegend)if(b.traceIs(d,"pie-like"))for(i[x]||(i[x]={}),f=0;f<_.length;f++){var g=_[f].label;i[x][g]||(h(x,{label:g,color:_[f].color,i:_[f].i,trace:d,pts:_[f].pts}),i[x][g]=!0,p=Math.max(p,(g||"").length))}else h(x,m),p=Math.max(p,(d.name||"").length)}if(!n.length)return[];var v=!r||!t,T=[];for(y=0;y<n.length;y++){var c=o[n[y]];v?T.push(c[0]):T.push(c)}for(v&&(T=[T]),y=0;y<T.length;y++){var E=1/0;for(f=0;f<T[y].length;f++){var A=T[y][f].trace.legendrank;E>A&&(E=A)}T[y][0]._groupMinRank=E,T[y][0]._preGroupSort=y}var C=function(V,F){return V.trace.legendrank-F.trace.legendrank||V._preSort-F._preSort};for(T.forEach(function(V,F){V[0]._preGroupSort=F}),T.sort(function(V,F){return V[0]._groupMinRank-F[0]._groupMinRank||V[0]._preGroupSort-F[0]._preGroupSort}),y=0;y<T.length;y++){T[y].forEach(function(V,F){V._preSort=F}),T[y].sort(C);var O=T[y][0].trace,P=null;for(f=0;f<T[y].length;f++){var D=T[y][f].trace.legendgrouptitle;if(D&&D.text){P=D,l&&(D.font=k._groupTitleFont);break}}if(s&&T[y].reverse(),P){var z=!1;for(f=0;f<T[y].length;f++)if(b.traceIs(T[y][f].trace,"pie-like")){z=!0;break}T[y].unshift({i:-1,groupTitle:P,noClick:z,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:k.groupclick==="toggleitem"||O.visible}})}for(f=0;f<T[y].length;f++)T[y][f]=[T[y][f]]}return k._lgroupsLength=T.length,k._maxNameLength=p,T}},85167:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=!0;L.exports=function(k,y,f){var l=y._fullLayout;if(!y._dragged&&!y._editing){var t,s=l.legend.itemclick,o=l.legend.itemdoubleclick,n=l.legend.groupclick;if(f===1&&s==="toggle"&&o==="toggleothers"&&a&&y.data&&y._context.showTips&&b.notifier(b._(y,"Double-click on legend to isolate one trace"),"long"),a=!1,f===1?t=s:f===2&&(t=o),t){var r=n==="togglegroup",i=l.hiddenlabels?l.hiddenlabels.slice():[],u=k.data()[0][0];if(!u.groupTitle||!u.noClick){var p,h,_,m,d,x=y._fullData,g=u.trace,v=g.legendgroup,T={},c=[],E=[],A=[];if(w.traceIs(g,"pie-like")){var C=u.label,O=i.indexOf(C);t==="toggle"?O===-1?i.push(C):i.splice(O,1):t==="toggleothers"&&(i=[],y.calcdata[0].forEach(function(Z){C!==Z.label&&i.push(Z.label)}),y._fullLayout.hiddenlabels&&y._fullLayout.hiddenlabels.length===i.length&&O===-1&&(i=[])),w.call("_guiRelayout",y,"hiddenlabels",i)}else{var P,D=v&&v.length,z=[];if(D)for(p=0;p<x.length;p++)(P=x[p]).visible&&P.legendgroup===v&&z.push(p);if(t==="toggle"){var V;switch(g.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0}if(D)if(r)for(p=0;p<x.length;p++)x[p].visible!==!1&&x[p].legendgroup===v&&J(x[p],V);else J(g,V);else J(g,V)}else if(t==="toggleothers"){var F,W,B,U,H=!0;for(p=0;p<x.length;p++)if(F=x[p]===g,B=x[p].showlegend!==!0,!(F||B||(W=D&&x[p].legendgroup===v)||x[p].visible!==!0||w.traceIs(x[p],"notLegendIsolatable"))){H=!1;break}for(p=0;p<x.length;p++)if(x[p].visible!==!1&&!w.traceIs(x[p],"notLegendIsolatable"))switch(g.visible){case"legendonly":J(x[p],!0);break;case!0:U=!!H||"legendonly",F=x[p]===g,B=x[p].showlegend!==!0&&!x[p].legendgroup,W=F||D&&x[p].legendgroup===v,J(x[p],!(!W&&!B)||U)}}for(p=0;p<E.length;p++)if(_=E[p]){var q=_.constructUpdate(),ee=Object.keys(q);for(h=0;h<ee.length;h++)m=ee[h],(T[m]=T[m]||[])[A[p]]=q[m]}for(d=Object.keys(T),p=0;p<d.length;p++)for(m=d[p],h=0;h<c.length;h++)T[m].hasOwnProperty(h)||(T[m][h]=void 0);w.call("_guiRestyle",y,T,c)}}}}function K(Z,$,ne){var ae=c.indexOf(Z),oe=T[$];return oe||(oe=T[$]=[]),c.indexOf(Z)===-1&&(c.push(Z),ae=c.length-1),oe[ae]=ne,ae}function J(Z,$){if(!u.groupTitle||r){var ne=Z._fullInput;if(w.hasTransform(ne,"groupby")){var ae=E[ne.index];if(!ae){var oe=w.getTransformIndices(ne,"groupby"),se=oe[oe.length-1];ae=b.keyedContainer(ne,"transforms["+se+"].styles","target","value.visible"),E[ne.index]=ae}var ce=ae.get(Z._group);ce===void 0&&(ce=!0),ce!==!1&&ae.set(Z._group,$),A[ne.index]=K(ne.index,"visible",ne.visible!==!1)}else{var me=ne.visible!==!1&&$;K(ne.index,"visible",me)}}}}},10130:function(L,M){"use strict";M.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},M.isVertical=function(e){return e.orientation!=="h"},M.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2199:function(L,M,e){"use strict";L.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(71828),k=a.strTranslate,y=e(91424),f=e(7901),l=e(52075).extractOpts,t=e(34098),s=e(63463),o=e(53581).castOption,n=e(14928);function r(p,h){return(h?"radial":"horizontal")+(p?"":"reversed")}function i(p){var h=p[0].trace,_=h.contours,m=t.hasLines(h),d=t.hasMarkers(h),x=h.visible&&h.fill&&h.fill!=="none",g=!1,v=!1;if(_){var T=_.coloring;T==="lines"?g=!0:m=T==="none"||T==="heatmap"||_.showlines,_.type==="constraint"?x=_._operation!=="=":T!=="fill"&&T!=="heatmap"||(v=!0)}return{showMarker:d,showLine:m,showFill:x,showGradientLine:g,showGradientFill:v,anyLine:m||g,anyFill:x||v}}function u(p,h,_){return p&&a.isArrayOrTypedArray(p)?h:p>_?_:p}L.exports=function(p,h,_){var m=h._fullLayout;_||(_=m.legend);var d=_.itemsizing==="constant",x=_.itemwidth,g=(x+2*n.itemGap)/2,v=k(g,0),T=function(A,C,O,P){var D;if(A+1)D=A;else{if(!(C&&C.width>0))return 0;D=C.width}return d?P:Math.min(D,O)};function c(A,C,O){var P=A[0].trace,D=P.marker||{},z=D.line||{},V=O?P.visible&&P.type===O:w.traceIs(P,"bar"),F=b.select(C).select("g.legendpoints").selectAll("path.legend"+O).data(V?[A]:[]);F.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",v),F.exit().remove(),F.each(function(W){var B=b.select(this),U=W[0],H=T(U.mlw,D.line,5,2);B.style("stroke-width",H+"px");var q=U.mcc;if(!_._inHover&&"mc"in U){var ee=l(D),K=ee.mid;K===void 0&&(K=(ee.max+ee.min)/2),q=y.tryColorscale(D,"")(K)}var J=q||U.mc||D.color,Z=D.pattern,$=Z&&y.getPatternAttr(Z.shape,0,"");if($){var ne=y.getPatternAttr(Z.bgcolor,0,null),ae=y.getPatternAttr(Z.fgcolor,0,null),oe=Z.fgopacity,se=u(Z.size,8,10),ce=u(Z.solidity,.5,1),me="legend-"+P.uid;B.call(y.pattern,"legend",h,me,$,se,ce,q,Z.fillmode,ne,ae,oe)}else B.call(f.fill,J);H&&f.stroke(B,U.mlc||z.color)})}function E(A,C,O){var P=A[0],D=P.trace,z=O?D.visible&&D.type===O:w.traceIs(D,O),V=b.select(C).select("g.legendpoints").selectAll("path.legend"+O).data(z?[A]:[]);if(V.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",v),V.exit().remove(),V.size()){var F=(D.marker||{}).line,W=T(o(F.width,P.pts),F,5,2),B=a.minExtend(D,{marker:{line:{width:W}}});B.marker.line.color=F.color;var U=a.minExtend(P,{trace:B});s(V,U,B)}}p.each(function(A){var C=b.select(this),O=a.ensureSingle(C,"g","layers");O.style("opacity",A[0].trace.opacity);var P=_.valign,D=A[0].lineHeight,z=A[0].height;if(P!=="middle"&&D&&z){var V={top:1,bottom:-1}[P]*(.5*(D-z+3));O.attr("transform",k(0,V))}else O.attr("transform",null);O.selectAll("g.legendfill").data([A]).enter().append("g").classed("legendfill",!0),O.selectAll("g.legendlines").data([A]).enter().append("g").classed("legendlines",!0);var F=O.selectAll("g.legendsymbols").data([A]);F.enter().append("g").classed("legendsymbols",!0),F.selectAll("g.legendpoints").data([A]).enter().append("g").classed("legendpoints",!0)}).each(function(A){var C,O=A[0].trace,P=[];if(O.visible)switch(O.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],C=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],C=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],C="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],C=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],C=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],C=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],C=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],C=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],C=!1}var D=b.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);D.enter().append("path").classed("legend3dandfriends",!0).attr("transform",v).style("stroke-miterlimit",1),D.exit().remove(),D.each(function(z,V){var F,W=b.select(this),B=l(O),U=B.colorscale,H=B.reversescale;if(U){if(!C){var q=U.length;F=V===0?U[H?q-1:0][1]:V===1?U[H?0:q-1][1]:U[Math.floor((q-1)/2)][1]}}else{var ee=O.vertexcolor||O.facecolor||O.color;F=a.isArrayOrTypedArray(ee)?ee[V]||ee[0]:ee}W.attr("d",z[0]),F?W.call(f.fill,F):W.call(function(K){if(K.size()){var J="legendfill-"+O.uid;y.gradient(K,h,J,r(H,C==="radial"),U,"fill")}})})}).each(function(A){var C=A[0].trace,O=C.type==="waterfall";if(A[0]._distinct&&O){var P=A[0].trace[A[0].dir].marker;return A[0].mc=P.color,A[0].mlw=P.line.width,A[0].mlc=P.line.color,c(A,this,"waterfall")}var D=[];C.visible&&O&&(D=A[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=b.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(D);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",v).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(V){var F=b.select(this),W=C[V[0]].marker,B=T(void 0,W.line,5,2);F.attr("d",V[1]).style("stroke-width",B+"px").call(f.fill,W.color),B&&F.call(f.stroke,W.line.color)})}).each(function(A){c(A,this,"funnel")}).each(function(A){c(A,this)}).each(function(A){var C=A[0].trace,O=b.select(this).select("g.legendpoints").selectAll("path.legendbox").data(C.visible&&w.traceIs(C,"box-violin")?[A]:[]);O.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",v),O.exit().remove(),O.each(function(){var P=b.select(this);if(C.boxpoints!=="all"&&C.points!=="all"||f.opacity(C.fillcolor)!==0||f.opacity((C.line||{}).color)!==0){var D=T(void 0,C.line,5,2);P.style("stroke-width",D+"px").call(f.fill,C.fillcolor),D&&f.stroke(P,C.line.color)}else{var z=a.minExtend(C,{marker:{size:d?12:a.constrain(C.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});O.call(y.pointStyle,z,h)}})}).each(function(A){E(A,this,"funnelarea")}).each(function(A){E(A,this,"pie")}).each(function(A){var C,O,P=i(A),D=P.showFill,z=P.showLine,V=P.showGradientLine,F=P.showGradientFill,W=P.anyFill,B=P.anyLine,U=A[0],H=U.trace,q=l(H),ee=q.colorscale,K=q.reversescale,J=t.hasMarkers(H)||!W?"M5,0":B?"M5,-2":"M5,-3",Z=b.select(this),$=Z.select(".legendfill").selectAll("path").data(D||F?[A]:[]);if($.enter().append("path").classed("js-fill",!0),$.exit().remove(),$.attr("d",J+"h"+x+"v6h-"+x+"z").call(function(oe){if(oe.size())if(D)y.fillGroupStyle(oe,h);else{var se="legendfill-"+H.uid;y.gradient(oe,h,se,r(K),ee,"fill")}}),z||V){var ne=T(void 0,H.line,10,5);O=a.minExtend(H,{line:{width:ne}}),C=[a.minExtend(U,{trace:O})]}var ae=Z.select(".legendlines").selectAll("path").data(z||V?[C]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",J+(V?"l"+x+",0.0001":"h"+x)).call(z?y.lineGroupStyle:function(oe){if(oe.size()){var se="legendline-"+H.uid;y.lineGroupStyle(oe),y.gradient(oe,h,se,r(K),ee,"stroke")}})}).each(function(A){var C,O,P=i(A),D=P.anyFill,z=P.anyLine,V=P.showLine,F=P.showMarker,W=A[0],B=W.trace,U=!F&&!z&&!D&&t.hasText(B);function H(ae,oe,se,ce){var me=a.nestedProperty(B,ae).get(),xe=a.isArrayOrTypedArray(me)&&oe?oe(me):me;if(d&&xe&&ce!==void 0&&(xe=ce),se){if(xe<se[0])return se[0];if(xe>se[1])return se[1]}return xe}function q(ae){return W._distinct&&W.index&&ae[W.index]?ae[W.index]:ae[0]}if(F||U||V){var ee={},K={};if(F){ee.mc=H("marker.color",q),ee.mx=H("marker.symbol",q),ee.mo=H("marker.opacity",a.mean,[.2,1]),ee.mlc=H("marker.line.color",q),ee.mlw=H("marker.line.width",a.mean,[0,5],2),K.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var J=H("marker.size",a.mean,[2,16],12);ee.ms=J,K.marker.size=J}V&&(K.line={width:H("line.width",q,[0,10],5)}),U&&(ee.tx="Aa",ee.tp=H("textposition",q),ee.ts=10,ee.tc=H("textfont.color",q),ee.tf=H("textfont.family",q)),C=[a.minExtend(W,ee)],(O=a.minExtend(B,K)).selectedpoints=null,O.texttemplate=null}var Z=b.select(this).select("g.legendpoints"),$=Z.selectAll("path.scatterpts").data(F?C:[]);$.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",v),$.exit().remove(),$.call(y.pointStyle,O,h),F&&(C[0].mrc=3);var ne=Z.selectAll("g.pointtext").data(U?C:[]);ne.enter().append("g").classed("pointtext",!0).append("text").attr("transform",v),ne.exit().remove(),ne.selectAll("text").call(y.textPointStyle,O,h)}).each(function(A){var C=A[0].trace,O=b.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(C.visible&&C.type==="candlestick"?[A,A]:[]);O.enter().append("path").classed("legendcandle",!0).attr("d",function(P,D){return D?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",v).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,D){var z=b.select(this),V=C[D?"increasing":"decreasing"],F=T(void 0,V.line,5,2);z.style("stroke-width",F+"px").call(f.fill,V.fillcolor),F&&f.stroke(z,V.line.color)})}).each(function(A){var C=A[0].trace,O=b.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(C.visible&&C.type==="ohlc"?[A,A]:[]);O.enter().append("path").classed("legendohlc",!0).attr("d",function(P,D){return D?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",v).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,D){var z=b.select(this),V=C[D?"increasing":"decreasing"],F=T(void 0,V.line,5,2);z.style("fill","none").call(y.dashLine,V.line.dash,F),F&&f.stroke(z,V.line.color)})})}},42068:function(L,M,e){"use strict";e(93348),L.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(L,M,e){"use strict";var b=e(73972),w=e(74875),a=e(41675),k=e(24255),y=e(34031).eraseActiveShape,f=e(71828),l=f._,t=L.exports={};function s(m,d){var x,g,v=d.currentTarget,T=v.getAttribute("data-attr"),c=v.getAttribute("data-val")||!0,E=m._fullLayout,A={},C=a.list(m,null,!0),O=E._cartesianSpikesEnabled;if(T==="zoom"){var P,D=c==="in"?.5:2,z=(1+D)/2,V=(1-D)/2;for(g=0;g<C.length;g++)if(!(x=C[g]).fixedrange)if(P=x._name,c==="auto")A[P+".autorange"]=!0;else if(c==="reset"){if(x._rangeInitial===void 0)A[P+".autorange"]=!0;else{var F=x._rangeInitial.slice();A[P+".range[0]"]=F[0],A[P+".range[1]"]=F[1]}x._showSpikeInitial!==void 0&&(A[P+".showspikes"]=x._showSpikeInitial,O!=="on"||x._showSpikeInitial||(O="off"))}else{var W=[x.r2l(x.range[0]),x.r2l(x.range[1])],B=[z*W[0]+V*W[1],z*W[1]+V*W[0]];A[P+".range[0]"]=x.l2r(B[0]),A[P+".range[1]"]=x.l2r(B[1])}}else T!=="hovermode"||c!=="x"&&c!=="y"||(c=E._isHoriz?"y":"x",v.setAttribute("data-val",c)),A[T]=c;E._cartesianSpikesEnabled=O,b.call("_guiRelayout",m,A)}function o(m,d){for(var x=d.currentTarget,g=x.getAttribute("data-attr"),v=x.getAttribute("data-val")||!0,T=m._fullLayout._subplots.gl3d||[],c={},E=g.split("."),A=0;A<T.length;A++)c[T[A]+"."+E[1]]=v;var C=v==="pan"?v:"zoom";c.dragmode=C,b.call("_guiRelayout",m,c)}function n(m,d){for(var x=d.currentTarget.getAttribute("data-attr"),g=x==="resetLastSave",v=x==="resetDefault",T=m._fullLayout,c=T._subplots.gl3d||[],E={},A=0;A<c.length;A++){var C,O=c[A],P=O+".camera",D=O+".aspectratio",z=O+".aspectmode",V=T[O]._scene;g?(E[P+".up"]=V.viewInitial.up,E[P+".eye"]=V.viewInitial.eye,E[P+".center"]=V.viewInitial.center,C=!0):v&&(E[P+".up"]=null,E[P+".eye"]=null,E[P+".center"]=null,C=!0),C&&(E[D+".x"]=V.viewInitial.aspectratio.x,E[D+".y"]=V.viewInitial.aspectratio.y,E[D+".z"]=V.viewInitial.aspectratio.z,E[z]=V.viewInitial.aspectmode)}b.call("_guiRelayout",m,E)}function r(m,d){var x=d.currentTarget,g=x._previousVal,v=m._fullLayout,T=v._subplots.gl3d||[],c=["xaxis","yaxis","zaxis"],E={},A={};if(g)A=g,x._previousVal=null;else{for(var C=0;C<T.length;C++){var O=T[C],P=v[O],D=O+".hovermode";E[D]=P.hovermode,A[D]=!1;for(var z=0;z<3;z++){var V=c[z],F=O+"."+V+".showspikes";A[F]=!1,E[F]=P[V].showspikes}}x._previousVal=E}return A}function i(m,d){for(var x=d.currentTarget,g=x.getAttribute("data-attr"),v=x.getAttribute("data-val")||!0,T=m._fullLayout,c=T._subplots.geo||[],E=0;E<c.length;E++){var A=c[E],C=T[A];if(g==="zoom"){var O=C.projection.scale,P=v==="in"?2*O:.5*O;b.call("_guiRelayout",m,A+".projection.scale",P)}}g==="reset"&&_(m,"geo")}function u(m){var d=m._fullLayout;return!d.hovermode&&(d._has("cartesian")?d._isHoriz?"y":"x":"closest")}function p(m){var d=u(m);b.call("_guiRelayout",m,"hovermode",d)}function h(m,d){for(var x=d.currentTarget.getAttribute("data-val"),g=m._fullLayout,v=g._subplots.mapbox||[],T={},c=0;c<v.length;c++){var E=v[c],A=g[E].zoom,C=x==="in"?1.05*A:A/1.05;T[E+".zoom"]=C}b.call("_guiRelayout",m,T)}function _(m,d){for(var x=m._fullLayout,g=x._subplots[d]||[],v={},T=0;T<g.length;T++)for(var c=g[T],E=x[c]._subplot.viewInitial,A=Object.keys(E),C=0;C<A.length;C++){var O=A[C];v[c+"."+O]=E[O]}b.call("_guiRelayout",m,v)}t.toImage={name:"toImage",title:function(m){var d=(m._context.toImageButtonOptions||{}).format||"png";return l(m,d==="png"?"Download plot as a png":"Download plot")},icon:k.camera,click:function(m){var d=m._context.toImageButtonOptions,x={format:d.format||"png"};f.notifier(l(m,"Taking snapshot - this may take a few seconds"),"long"),x.format!=="svg"&&f.isIE()&&(f.notifier(l(m,"IE only supports svg.  Changing format to svg."),"long"),x.format="svg"),["filename","width","height","scale"].forEach(function(g){g in d&&(x[g]=d[g])}),b.call("downloadImage",m,x).then(function(g){f.notifier(l(m,"Snapshot succeeded")+" - "+g,"long")}).catch(function(){f.notifier(l(m,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(m){return l(m,"Edit in Chart Studio")},icon:k.disk,click:function(m){w.sendDataToCloud(m)}},t.editInChartStudio={name:"editInChartStudio",title:function(m){return l(m,"Edit in Chart Studio")},icon:k.pencil,click:function(m){w.sendDataToCloud(m)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(m){return l(m,"Zoom")},attr:"dragmode",val:"zoom",icon:k.zoombox,click:s},t.pan2d={name:"pan2d",_cat:"pan",title:function(m){return l(m,"Pan")},attr:"dragmode",val:"pan",icon:k.pan,click:s},t.select2d={name:"select2d",_cat:"select",title:function(m){return l(m,"Box Select")},attr:"dragmode",val:"select",icon:k.selectbox,click:s},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(m){return l(m,"Lasso Select")},attr:"dragmode",val:"lasso",icon:k.lasso,click:s},t.drawclosedpath={name:"drawclosedpath",title:function(m){return l(m,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:k.drawclosedpath,click:s},t.drawopenpath={name:"drawopenpath",title:function(m){return l(m,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:k.drawopenpath,click:s},t.drawline={name:"drawline",title:function(m){return l(m,"Draw line")},attr:"dragmode",val:"drawline",icon:k.drawline,click:s},t.drawrect={name:"drawrect",title:function(m){return l(m,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:k.drawrect,click:s},t.drawcircle={name:"drawcircle",title:function(m){return l(m,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:k.drawcircle,click:s},t.eraseshape={name:"eraseshape",title:function(m){return l(m,"Erase active shape")},icon:k.eraseshape,click:y},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(m){return l(m,"Zoom in")},attr:"zoom",val:"in",icon:k.zoom_plus,click:s},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(m){return l(m,"Zoom out")},attr:"zoom",val:"out",icon:k.zoom_minus,click:s},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(m){return l(m,"Autoscale")},attr:"zoom",val:"auto",icon:k.autoscale,click:s},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(m){return l(m,"Reset axes")},attr:"zoom",val:"reset",icon:k.home,click:s},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(m){return l(m,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:k.tooltip_basic,gravity:"ne",click:s},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(m){return l(m,"Compare data on hover")},attr:"hovermode",val:function(m){return m._fullLayout._isHoriz?"y":"x"},icon:k.tooltip_compare,gravity:"ne",click:s},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(m){return l(m,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:k.zoombox,click:o},t.pan3d={name:"pan3d",_cat:"pan",title:function(m){return l(m,"Pan")},attr:"scene.dragmode",val:"pan",icon:k.pan,click:o},t.orbitRotation={name:"orbitRotation",title:function(m){return l(m,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:k["3d_rotate"],click:o},t.tableRotation={name:"tableRotation",title:function(m){return l(m,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:k["z-axis"],click:o},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(m){return l(m,"Reset camera to default")},attr:"resetDefault",icon:k.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(m){return l(m,"Reset camera to last save")},attr:"resetLastSave",icon:k.movie,click:n},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(m){return l(m,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:function(m,d){var x=r(m,d);b.call("_guiRelayout",m,x)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(m){return l(m,"Zoom in")},attr:"zoom",val:"in",icon:k.zoom_plus,click:i},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(m){return l(m,"Zoom out")},attr:"zoom",val:"out",icon:k.zoom_minus,click:i},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(m){return l(m,"Reset")},attr:"reset",val:null,icon:k.autoscale,click:i},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(m){return l(m,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:p},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(m){return l(m,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:p},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(m){return l(m,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:k.tooltip_basic,gravity:"ne",click:p},t.resetViewSankey={name:"resetSankeyGroup",title:function(m){return l(m,"Reset view")},icon:k.home,click:function(m){for(var d={"node.groups":[],"node.x":[],"node.y":[]},x=0;x<m._fullData.length;x++){var g=m._fullData[x]._viewInitial;d["node.groups"].push(g.node.groups.slice()),d["node.x"].push(g.node.x.slice()),d["node.y"].push(g.node.y.slice())}b.call("restyle",m,d)}},t.toggleHover={name:"toggleHover",title:function(m){return l(m,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:function(m,d){var x=r(m,d);x.hovermode=u(m),b.call("_guiRelayout",m,x)}},t.resetViews={name:"resetViews",title:function(m){return l(m,"Reset views")},icon:k.home,click:function(m,d){var x=d.currentTarget;x.setAttribute("data-attr","zoom"),x.setAttribute("data-val","reset"),s(m,d),x.setAttribute("data-attr","resetLastSave"),n(m,d),_(m,"geo"),_(m,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(m){return l(m,"Toggle Spike Lines")},icon:k.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(m){var d=m._fullLayout,x=d._cartesianSpikesEnabled;d._cartesianSpikesEnabled=x==="on"?"off":"on",b.call("_guiRelayout",m,function(g){for(var v=g._fullLayout._cartesianSpikesEnabled==="on",T=a.list(g,null,!0),c={},E=0;E<T.length;E++){var A=T[E];c[A._name+".showspikes"]=!!v||A._showSpikeInitial}return c}(m))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(m){return l(m,"Reset view")},attr:"reset",icon:k.home,click:function(m){_(m,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(m){return l(m,"Zoom in")},attr:"zoom",val:"in",icon:k.zoom_plus,click:h},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(m){return l(m,"Zoom out")},attr:"zoom",val:"out",icon:k.zoom_minus,click:h}},93348:function(L,M,e){"use strict";var b=e(26023),w=Object.keys(b),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],k=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),y=[];w.forEach(function(f){(function(l){if(k.indexOf(l._cat||l.name)===-1){var t=l.name,s=(l._cat||l.name).toLowerCase();y.indexOf(t)===-1&&y.push(t),y.indexOf(s)===-1&&y.push(s)}})(b[f])}),y.sort(),L.exports={DRAW_MODES:a,backButtons:k,foreButtons:y}},35750:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(44467),k=e(42068);L.exports=function(y,f){var l=y.modebar||{},t=a.newContainer(f,"modebar");function s(n,r){return b.coerce(l,t,k,n,r)}s("orientation"),s("bgcolor",w.addOpacity(f.paper_bgcolor,.5));var o=w.contrast(w.rgb(f.modebar.bgcolor));s("color",w.addOpacity(o,.3)),s("activecolor",w.addOpacity(o,.7)),s("uirevision",f.uirevision),s("add"),s("remove")}},64168:function(L,M,e){"use strict";L.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(L,M,e){"use strict";var b=e(41675),w=e(34098),a=e(73972),k=e(23469).isUnifiedHover,y=e(37676),f=e(26023),l=e(93348).DRAW_MODES,t=e(71828).extendDeep;L.exports=function(s){var o=s._fullLayout,n=s._context,r=o._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,u=n.modeBarButtons;i=Array.isArray(u)&&u.length?function(p){for(var h=t([],p),_=0;_<h.length;_++)for(var m=h[_],d=0;d<m.length;d++){var x=m[d];if(typeof x=="string"){if(f[x]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));h[_][d]=f[x]}}return h}(u):!n.displayModeBar&&n.watermark?[]:function(p){var h=p._fullLayout,_=p._fullData,m=p._context;function d(me,xe){if(typeof xe=="string"){if(xe.toLowerCase()===me.toLowerCase())return!0}else{var ve=xe.name,fe=xe._cat||xe.name;if(ve===me||fe===me.toLowerCase())return!0}return!1}var x=h.modebar.add;typeof x=="string"&&(x=[x]);var g=h.modebar.remove;typeof g=="string"&&(g=[g]);var v=m.modeBarButtonsToAdd.concat(x.filter(function(me){for(var xe=0;xe<m.modeBarButtonsToRemove.length;xe++)if(d(me,m.modeBarButtonsToRemove[xe]))return!1;return!0})),T=m.modeBarButtonsToRemove.concat(g.filter(function(me){for(var xe=0;xe<m.modeBarButtonsToAdd.length;xe++)if(d(me,m.modeBarButtonsToAdd[xe]))return!1;return!0})),c=h._has("cartesian"),E=h._has("gl3d"),A=h._has("geo"),C=h._has("pie"),O=h._has("funnelarea"),P=h._has("gl2d"),D=h._has("ternary"),z=h._has("mapbox"),V=h._has("polar"),F=h._has("smith"),W=h._has("sankey"),B=function(me){for(var xe=b.list({_fullLayout:me},null,!0),ve=0;ve<xe.length;ve++)if(!xe[ve].fixedrange)return!1;return!0}(h),U=k(h.hovermode),H=[];function q(me){if(me.length){for(var xe=[],ve=0;ve<me.length;ve++){for(var fe=me[ve],pe=f[fe],Le=pe.name.toLowerCase(),ye=(pe._cat||pe.name).toLowerCase(),Ae=!1,Me=0;Me<T.length;Me++){var ke=T[Me].toLowerCase();if(ke===Le||ke===ye){Ae=!0;break}}Ae||xe.push(f[fe])}H.push(xe)}}var ee=["toImage"];m.showEditInChartStudio?ee.push("editInChartStudio"):m.showSendToCloud&&ee.push("sendDataToCloud"),q(ee);var K=[],J=[],Z=[],$=[];(c||P||C||O||D)+A+E+z+V+F>1?(J=["toggleHover"],Z=["resetViews"]):A?(K=["zoomInGeo","zoomOutGeo"],J=["hoverClosestGeo"],Z=["resetGeo"]):E?(J=["hoverClosest3d"],Z=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(K=["zoomInMapbox","zoomOutMapbox"],J=["toggleHover"],Z=["resetViewMapbox"]):P?J=["hoverClosestGl2d"]:C?J=["hoverClosestPie"]:W?(J=["hoverClosestCartesian","hoverCompareCartesian"],Z=["resetViewSankey"]):J=["toggleHover"],c&&(J=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(me){for(var xe=0;xe<me.length;xe++)if(!a.traceIs(me[xe],"noHover"))return!1;return!0}(_)||U)&&(J=[]),!c&&!P||B||(K=["zoomIn2d","zoomOut2d","autoScale2d"],Z[0]!=="resetViews"&&(Z=["resetScale2d"])),E?$=["zoom3d","pan3d","orbitRotation","tableRotation"]:(c||P)&&!B||D?$=["zoom2d","pan2d"]:z||A?$=["pan2d"]:V&&($=["zoom2d"]),function(me){for(var xe=!1,ve=0;ve<me.length&&!xe;ve++){var fe=me[ve];fe._module&&fe._module.selectPoints&&(a.traceIs(fe,"scatter-like")?(w.hasMarkers(fe)||w.hasText(fe))&&(xe=!0):a.traceIs(fe,"box-violin")&&fe.boxpoints!=="all"&&fe.points!=="all"||(xe=!0))}return xe}(_)&&$.push("select2d","lasso2d");var ne=[],ae=function(me){ne.indexOf(me)===-1&&J.indexOf(me)!==-1&&ne.push(me)};if(Array.isArray(v)){for(var oe=[],se=0;se<v.length;se++){var ce=v[se];typeof ce=="string"?(ce=ce.toLowerCase(),l.indexOf(ce)!==-1?(h._has("mapbox")||h._has("cartesian"))&&$.push(ce):ce==="togglespikelines"?ae("toggleSpikelines"):ce==="togglehover"?ae("toggleHover"):ce==="hovercompare"?ae("hoverCompareCartesian"):ce==="hoverclosest"?(ae("hoverClosestCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie")):ce==="v1hovermode"&&(ae("toggleHover"),ae("hoverClosestCartesian"),ae("hoverCompareCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie"))):oe.push(ce)}v=oe}return q($),q(K.concat(Z)),q(ne),function(me,xe){if(xe.length)if(Array.isArray(xe[0]))for(var ve=0;ve<xe.length;ve++)me.push(xe[ve]);else me.push(xe);return me}(H,v)}(s),r?r.update(s,i):o._modeBar=y(s,i)}else r&&(r.destroy(),delete o._modeBar)}},37676:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(71828),k=e(24255),y=e(11506).version,f=new DOMParser;function l(s){this.container=s.container,this.element=document.createElement("div"),this.update(s.graphInfo,s.buttons),this.container.appendChild(this.element)}var t=l.prototype;t.update=function(s,o){this.graphInfo=s;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar",n.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),r.modebar.orientation==="v"&&(this.element.className+=" vertical",o=o.reverse());var u=r.modebar,p=n.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(i),a.addRelatedStyleRule(i,p+"#"+i+" .modebar-group","background-color: "+u.bgcolor),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+u.color),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+u.activecolor),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+u.activecolor);var h=!this.hasButtons(o),_=this.hasLogo!==n.displaylogo,m=this.locale!==n.locale;if(this.locale=n.locale,(h||_||m)&&(this.removeAllButtons(),this.updateButtons(o),n.watermark||n.displaylogo)){var d=this.getLogo();n.watermark&&(d.className=d.className+" watermark"),r.modebar.orientation==="v"?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(s){var o=this;this.buttons=s,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(n){var r=o.createGroup();n.forEach(function(i){var u=i.name;if(!u)throw new Error("must provide button 'name' in button config");if(o.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");o.buttonsNames.push(u);var p=o.createButton(i);o.buttonElements.push(p),r.appendChild(p)}),o.element.appendChild(r)})},t.createGroup=function(){var s=document.createElement("div");return s.className="modebar-group",s},t.createButton=function(s){var o=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=s.title;r===void 0?r=s.name:typeof r=="function"&&(r=r(this.graphInfo)),(r||r===0)&&n.setAttribute("data-title",r),s.attr!==void 0&&n.setAttribute("data-attr",s.attr);var i=s.val;if(i!==void 0&&(typeof i=="function"&&(i=i(this.graphInfo)),n.setAttribute("data-val",i)),typeof s.click!="function")throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(p){s.click(o.graphInfo,p),o.updateActiveButton(p.currentTarget)}),n.setAttribute("data-toggle",s.toggle||!1),s.toggle&&b.select(n).classed("active",!0);var u=s.icon;return typeof u=="function"?n.appendChild(u()):n.appendChild(this.createIcon(u||k.question)),n.setAttribute("data-gravity",s.gravity||"n"),n},t.createIcon=function(s){var o,n=w(s.height)?Number(s.height):s.ascent-s.descent,r="http://www.w3.org/2000/svg";if(s.path){(o=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,s.width,n].join(" ")),o.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",s.path),s.transform?i.setAttribute("transform",s.transform):s.ascent!==void 0&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+s.ascent+")"),o.appendChild(i)}return s.svg&&(o=f.parseFromString(s.svg,"application/xml").childNodes[0]),o.setAttribute("height","1em"),o.setAttribute("width","1em"),o},t.updateActiveButton=function(s){var o=this.graphInfo._fullLayout,n=s!==void 0?s.getAttribute("data-attr"):null;this.buttonElements.forEach(function(r){var i=r.getAttribute("data-val")||!0,u=r.getAttribute("data-attr"),p=r.getAttribute("data-toggle")==="true",h=b.select(r);if(p)u===n&&h.classed("active",!h.classed("active"));else{var _=u===null?u:a.nestedProperty(o,u).get();h.classed("active",_===i)}})},t.hasButtons=function(s){var o=this.buttons;if(!o||s.length!==o.length)return!1;for(var n=0;n<s.length;++n){if(s[n].length!==o[n].length)return!1;for(var r=0;r<s[n].length;r++)if(s[n][r].name!==o[n][r].name)return!1}return!0},t.getLogo=function(){var s=this.createGroup(),o=document.createElement("a");return o.href="https://plotly.com/",o.target="_blank",o.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+y+")"),o.className="modebar-btn plotlyjsicon modebar-btn--logo",o.appendChild(this.createIcon(k.newplotlylogo)),s.appendChild(o),s},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},L.exports=function(s,o){var n=s._fullLayout,r=new l({graphInfo:s,container:n._modebardiv.node(),buttons:o});return n._privateplot&&b.select(r.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),r}},37113:function(L,M,e){"use strict";var b=e(41940),w=e(22399),a=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});L.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:b({editType:"plot"}),bgcolor:{valType:"color",dflt:w.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(L){"use strict";L.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(44467),k=e(85501),y=e(37113),f=e(89573);function l(t,s,o,n){var r=n.calendar;function i(p,h){return b.coerce(t,s,y.buttons,p,h)}if(i("visible")){var u=i("step");u!=="all"&&(!r||r==="gregorian"||u!=="month"&&u!=="year"?i("stepmode"):s.stepmode="backward",i("count")),i("label")}}L.exports=function(t,s,o,n,r){var i=t.rangeselector||{},u=a.newContainer(s,"rangeselector");function p(m,d){return b.coerce(i,u,y,m,d)}if(p("visible",k(i,u,{name:"buttons",handleItemDefaults:l,calendar:r}).length>0)){var h=function(m,d,x){for(var g=x.filter(function(E){return d[E].anchor===m._id}),v=0,T=0;T<g.length;T++){var c=d[g[T]].domain;c&&(v=Math.max(c[1],v))}return[m.domain[0],v+f.yPad]}(s,o,n);p("x",h[0]),p("y",h[1]),b.noneOrAll(t,s,["x","y"]),p("xanchor"),p("yanchor"),b.coerceFont(p,"font",o.font);var _=p("bgcolor");p("activecolor",w.contrast(_,f.lightAmount,f.darkAmount)),p("bordercolor"),p("borderwidth")}}},21598:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(74875),k=e(7901),y=e(91424),f=e(71828),l=f.strTranslate,t=e(63893),s=e(41675),o=e(18783),n=o.LINE_SPACING,r=o.FROM_TL,i=o.FROM_BR,u=e(89573),p=e(70565);function h(d){return d._id}function _(d,x,g){var v=f.ensureSingle(d,"rect","selector-rect",function(T){T.attr("shape-rendering","crispEdges")});v.attr({rx:u.rx,ry:u.ry}),v.call(k.stroke,x.bordercolor).call(k.fill,function(T,c){return c._isActive||c._isHovered?T.activecolor:T.bgcolor}(x,g)).style("stroke-width",x.borderwidth+"px")}function m(d,x,g,v){var T,c;f.ensureSingle(d,"text","selector-text",function(E){E.attr("text-anchor","middle")}).call(y.font,x.font).text((T=g,c=v._fullLayout._meta,T.label?c?f.templateString(T.label,c):T.label:T.step==="all"?"all":T.count+T.step.charAt(0))).call(function(E){t.convertToTspans(E,v)})}L.exports=function(d){var x=d._fullLayout._infolayer.selectAll(".rangeselector").data(function(g){for(var v=s.list(g,"x",!0),T=[],c=0;c<v.length;c++){var E=v[c];E.rangeselector&&E.rangeselector.visible&&T.push(E)}return T}(d),h);x.enter().append("g").classed("rangeselector",!0),x.exit().remove(),x.style({cursor:"pointer","pointer-events":"all"}),x.each(function(g){var v=b.select(this),T=g,c=T.rangeselector,E=v.selectAll("g.button").data(f.filterVisible(c.buttons));E.enter().append("g").classed("button",!0),E.exit().remove(),E.each(function(A){var C=b.select(this),O=p(T,A);A._isActive=function(P,D,z){if(D.step==="all")return P.autorange===!0;var V=Object.keys(z);return P.range[0]===z[V[0]]&&P.range[1]===z[V[1]]}(T,A,O),C.call(_,c,A),C.call(m,c,A,d),C.on("click",function(){d._dragged||w.call("_guiRelayout",d,O)}),C.on("mouseover",function(){A._isHovered=!0,C.call(_,c,A)}),C.on("mouseout",function(){A._isHovered=!1,C.call(_,c,A)})}),function(A,C,O,P,D){var z=0,V=0,F=O.borderwidth;C.each(function(){var ee=b.select(this).select(".selector-text"),K=O.font.size*n,J=Math.max(K*t.lineCount(ee),16)+3;V=Math.max(V,J)}),C.each(function(){var ee=b.select(this),K=ee.select(".selector-rect"),J=ee.select(".selector-text"),Z=J.node()&&y.bBox(J.node()).width,$=O.font.size*n,ne=t.lineCount(J),ae=Math.max(Z+10,u.minButtonWidth);ee.attr("transform",l(F+z,F)),K.attr({x:0,y:0,width:ae,height:V}),t.positionText(J,ae/2,V/2-(ne-1)*$/2+3),z+=ae+5});var W=A._fullLayout._size,B=W.l+W.w*O.x,U=W.t+W.h*(1-O.y),H="left";f.isRightAnchor(O)&&(B-=z,H="right"),f.isCenterAnchor(O)&&(B-=z/2,H="center");var q="top";f.isBottomAnchor(O)&&(U-=V,q="bottom"),f.isMiddleAnchor(O)&&(U-=V/2,q="middle"),z=Math.ceil(z),V=Math.ceil(V),B=Math.round(B),U=Math.round(U),a.autoMargin(A,P+"-range-selector",{x:O.x,y:O.y,l:z*r[H],r:z*i[H],b:V*i[q],t:V*r[q]}),D.attr("transform",l(B,U))}(d,E,c,T._name,v)})}},70565:function(L,M,e){"use strict";var b=e(81041),w=e(71828).titleCase;L.exports=function(a,k){var y=a._name,f={};if(k.step==="all")f[y+".autorange"]=!0;else{var l=function(t,s){var o,n=t.range,r=new Date(t.r2l(n[1])),i=s.step,u=b["utc"+w(i)],p=s.count;switch(s.stepmode){case"backward":o=t.l2r(+u.offset(r,-p));break;case"todate":var h=u.offset(r,-p);o=t.l2r(+u.ceil(h))}return[o,n[1]]}(a,k);f[y+".range[0]"]=l[0],f[y+".range[1]"]=l[1]}return f}},97218:function(L,M,e){"use strict";L.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(L,M,e){"use strict";var b=e(22399);L.exports={bgcolor:{valType:"color",dflt:b.background,editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(L,M,e){"use strict";var b=e(41675).list,w=e(71739).getAutoRange,a=e(73251);L.exports=function(k){for(var y=b(k,"x",!0),f=0;f<y.length;f++){var l=y[f],t=l[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=w(k,l))}}},73251:function(L){"use strict";L.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(L,M,e){"use strict";var b=e(71828),w=e(44467),a=e(41675),k=e(75148),y=e(47850);L.exports=function(f,l,t){var s=f[t],o=l[t];if(s.rangeslider||l._requestRangeslider[o._id]){b.isPlainObject(s.rangeslider)||(s.rangeslider={});var n,r,i=s.rangeslider,u=w.newContainer(o,"rangeslider");if(v("visible")){v("bgcolor",l.plot_bgcolor),v("bordercolor"),v("borderwidth"),v("thickness"),v("autorange",!o.isValidRange(i.range)),v("range");var p=l._subplots;if(p)for(var h=p.cartesian.filter(function(c){return c.substr(0,c.indexOf("y"))===a.name2id(t)}).map(function(c){return c.substr(c.indexOf("y"),c.length)}),_=b.simpleMap(h,a.id2name),m=0;m<_.length;m++){var d=_[m];n=i[d]||{},r=w.newContainer(u,d,"yaxis");var x,g=l[d];n.range&&g.isValidRange(n.range)&&(x="fixed"),T("rangemode",x)!=="match"&&T("range",g.range.slice())}u._input=i}}function v(c,E){return b.coerce(i,u,k,c,E)}function T(c,E){return b.coerce(n,r,y,c,E)}}},72413:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(74875),k=e(71828),y=k.strTranslate,f=e(91424),l=e(7901),t=e(92998),s=e(93612),o=e(41675),n=e(28569),r=e(6964),i=e(73251);function u(x,g,v,T){var c=k.ensureSingle(x,"rect",i.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),E=T.borderwidth%2==0?T.borderwidth:T.borderwidth-1,A=-T._offsetShift,C=f.crispRound(g,T.borderwidth);c.attr({width:T._width+E,height:T._height+E,transform:y(A,A),"stroke-width":C}).call(l.stroke,T.bordercolor).call(l.fill,T.bgcolor)}function p(x,g,v,T){var c=g._fullLayout;k.ensureSingleById(c._topdefs,"clipPath",T._clipId,function(E){E.append("rect").attr({x:0,y:0})}).select("rect").attr({width:T._width,height:T._height})}function h(x,g,v,T){var c,E=g.calcdata,A=x.selectAll("g."+i.rangePlotClassName).data(v._subplotsWith,k.identity);A.enter().append("g").attr("class",function(C){return i.rangePlotClassName+" "+C}).call(f.setClipUrl,T._clipId,g),A.order(),A.exit().remove(),A.each(function(C,O){var P=b.select(this),D=O===0,z=o.getFromId(g,C,"y"),V=z._name,F=T[V],W={data:[],layout:{xaxis:{type:v.type,domain:[0,1],range:T.range.slice(),calendar:v.calendar},width:T._width,height:T._height,margin:{t:0,b:0,l:0,r:0}},_context:g._context};v.rangebreaks&&(W.layout.xaxis.rangebreaks=v.rangebreaks),W.layout[V]={type:z.type,domain:[0,1],range:F.rangemode!=="match"?F.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(W.layout[V].rangebreaks=z.rangebreaks),a.supplyDefaults(W);var B=W._fullLayout.xaxis,U=W._fullLayout[V];B.clearCalc(),B.setScale(),U.clearCalc(),U.setScale();var H={id:C,plotgroup:P,xaxis:B,yaxis:U,isRangePlot:!0};D?c=H:(H.mainplot="xy",H.mainplotinfo=c),s.rangePlot(g,H,function(q,ee){for(var K=[],J=0;J<q.length;J++){var Z=q[J],$=Z[0].trace;$.xaxis+$.yaxis===ee&&K.push(Z)}return K}(E,C))})}function _(x,g,v,T,c){k.ensureSingle(x,"rect",i.maskMinClassName,function(E){E.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",T._height).call(l.fill,i.maskColor),k.ensureSingle(x,"rect",i.maskMaxClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",T._height).call(l.fill,i.maskColor),c.rangemode!=="match"&&(k.ensureSingle(x,"rect",i.maskMinOppAxisClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",T._width).call(l.fill,i.maskOppAxisColor),k.ensureSingle(x,"rect",i.maskMaxOppAxisClassName,function(E){E.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",T._width).style("border-top",i.maskOppBorder).call(l.fill,i.maskOppAxisColor))}function m(x,g,v,T){g._context.staticPlot||k.ensureSingle(x,"rect",i.slideBoxClassName,function(c){c.attr({y:0,cursor:i.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:T._height,fill:i.slideBoxFill})}function d(x,g,v,T){var c=k.ensureSingle(x,"g",i.grabberMinClassName),E=k.ensureSingle(x,"g",i.grabberMaxClassName),A={x:0,width:i.handleWidth,rx:i.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":i.handleStrokeWidth,"shape-rendering":"crispEdges"},C={y:Math.round(T._height/4),height:Math.round(T._height/2)};k.ensureSingle(c,"rect",i.handleMinClassName,function(P){P.attr(A)}).attr(C),k.ensureSingle(E,"rect",i.handleMaxClassName,function(P){P.attr(A)}).attr(C);var O={width:i.grabAreaWidth,x:0,y:0,fill:i.grabAreaFill,cursor:g._context.staticPlot?void 0:i.grabAreaCursor};k.ensureSingle(c,"rect",i.grabAreaMinClassName,function(P){P.attr(O)}).attr("height",T._height),k.ensureSingle(E,"rect",i.grabAreaMaxClassName,function(P){P.attr(O)}).attr("height",T._height)}L.exports=function(x){for(var g=x._fullLayout,v=g._rangeSliderData,T=0;T<v.length;T++){var c=v[T][i.name];c._clipId=c._id+"-"+g._uid}var E=g._infolayer.selectAll("g."+i.containerClassName).data(v,function(A){return A._name});E.exit().each(function(A){var C=A[i.name];g._topdefs.select("#"+C._clipId).remove()}).remove(),v.length!==0&&(E.enter().append("g").classed(i.containerClassName,!0).attr("pointer-events","all"),E.each(function(A){var C=b.select(this),O=A[i.name],P=g[o.id2name(A.anchor)],D=O[o.id2name(A.anchor)];if(O.range){var z,V=k.simpleMap(O.range,A.r2l),F=k.simpleMap(A.range,A.r2l);z=F[0]<F[1]?[Math.min(V[0],F[0]),Math.max(V[1],F[1])]:[Math.max(V[0],F[0]),Math.min(V[1],F[1])],O.range=O._input.range=k.simpleMap(z,A.l2r)}A.cleanRange("rangeslider.range");var W=g._size,B=A.domain;O._width=W.w*(B[1]-B[0]);var U=Math.round(W.l+W.w*B[0]),H=Math.round(W.t+W.h*(1-A._counterDomainMin)+(A.side==="bottom"?A._depth:0)+O._offsetShift+i.extraPad);C.attr("transform",y(U,H)),O._rl=k.simpleMap(O.range,A.r2l);var q=O._rl[0],ee=O._rl[1],K=ee-q;if(O.p2d=function(me){return me/O._width*K+q},O.d2p=function(me){return(me-q)/K*O._width},A.rangebreaks){var J=A.locateBreaks(q,ee);if(J.length){var Z,$,ne=0;for(Z=0;Z<J.length;Z++)ne+=($=J[Z]).max-$.min;var ae=O._width/(ee-q-ne),oe=[-ae*q];for(Z=0;Z<J.length;Z++)$=J[Z],oe.push(oe[oe.length-1]-ae*($.max-$.min));for(O.d2p=function(me){for(var xe=oe[0],ve=0;ve<J.length;ve++){var fe=J[ve];if(me>=fe.max)xe=oe[ve+1];else if(me<fe.min)break}return xe+ae*me},Z=0;Z<J.length;Z++)($=J[Z]).pmin=O.d2p($.min),$.pmax=O.d2p($.max);O.p2d=function(me){for(var xe=oe[0],ve=0;ve<J.length;ve++){var fe=J[ve];if(me>=fe.pmax)xe=oe[ve+1];else if(me<fe.pmin)break}return(me-xe)/ae}}}if(D.rangemode!=="match"){var se=P.r2l(D.range[0]),ce=P.r2l(D.range[1])-se;O.d2pOppAxis=function(me){return(me-se)/ce*O._height}}C.call(u,x,A,O).call(p,x,A,O).call(h,x,A,O).call(_,x,A,O,D).call(m,x,A,O).call(d,x,A,O),function(me,xe,ve,fe){if(!xe._context.staticPlot){var pe=me.select("rect."+i.slideBoxClassName).node(),Le=me.select("rect."+i.grabAreaMinClassName).node(),ye=me.select("rect."+i.grabAreaMaxClassName).node();me.on("mousedown",Ae),me.on("touchstart",Ae)}function Ae(){var Me=b.event,ke=Me.target,te=Me.clientX||Me.touches[0].clientX,ue=te-me.node().getBoundingClientRect().left,ge=fe.d2p(ve._rl[0]),we=fe.d2p(ve._rl[1]),Ee=n.coverSlip();function Be(je){var he,_e,Te,Fe=+(je.clientX||je.touches[0].clientX)-te;switch(ke){case pe:if(Te="ew-resize",ge+Fe>ve._length||we+Fe<0)return;he=ge+Fe,_e=we+Fe;break;case Le:if(Te="col-resize",ge+Fe>ve._length)return;he=ge+Fe,_e=we;break;case ye:if(Te="col-resize",we+Fe<0)return;he=ge,_e=we+Fe;break;default:Te="ew-resize",he=ue,_e=ue+Fe}if(_e<he){var Ye=_e;_e=he,he=Ye}fe._pixelMin=he,fe._pixelMax=_e,r(b.select(Ee),Te),function(Ge,ot,st,ht){function xt(kt){return st.l2r(k.constrain(kt,ht._rl[0],ht._rl[1]))}var Ct=xt(ht.p2d(ht._pixelMin)),St=xt(ht.p2d(ht._pixelMax));window.requestAnimationFrame(function(){w.call("_guiRelayout",ot,st._name+".range",[Ct,St])})}(0,xe,ve,fe)}function Re(){Ee.removeEventListener("mousemove",Be),Ee.removeEventListener("mouseup",Re),this.removeEventListener("touchmove",Be),this.removeEventListener("touchend",Re),k.removeElement(Ee)}this.addEventListener("touchmove",Be),this.addEventListener("touchend",Re),Ee.addEventListener("mousemove",Be),Ee.addEventListener("mouseup",Re)}}(C,x,A,O),function(me,xe,ve,fe,pe,Le){var ye=i.handleWidth/2;function Ae(je){return k.constrain(je,0,fe._width)}function Me(je){return k.constrain(je,0,fe._height)}function ke(je){return k.constrain(je,-ye,fe._width+ye)}var te=Ae(fe.d2p(ve._rl[0])),ue=Ae(fe.d2p(ve._rl[1]));if(me.select("rect."+i.slideBoxClassName).attr("x",te).attr("width",ue-te),me.select("rect."+i.maskMinClassName).attr("width",te),me.select("rect."+i.maskMaxClassName).attr("x",ue).attr("width",fe._width-ue),Le.rangemode!=="match"){var ge=fe._height-Me(fe.d2pOppAxis(pe._rl[1])),we=fe._height-Me(fe.d2pOppAxis(pe._rl[0]));me.select("rect."+i.maskMinOppAxisClassName).attr("x",te).attr("height",ge).attr("width",ue-te),me.select("rect."+i.maskMaxOppAxisClassName).attr("x",te).attr("y",we).attr("height",fe._height-we).attr("width",ue-te),me.select("rect."+i.slideBoxClassName).attr("y",ge).attr("height",we-ge)}var Ee=.5,Be=Math.round(ke(te-ye))-Ee,Re=Math.round(ke(ue-ye))+Ee;me.select("g."+i.grabberMinClassName).attr("transform",y(Be,Ee)),me.select("g."+i.grabberMaxClassName).attr("transform",y(Re,Ee))}(C,0,A,O,P,D),A.side==="bottom"&&t.draw(x,A._id+"title",{propContainer:A,propName:A._name+".title",placeholder:g._dfltTitle.x,attributes:{x:A._offset+A._length/2,y:H+O._height+O._offsetShift+10+1.5*A.title.font.size,"text-anchor":"middle"}})}))}},549:function(L,M,e){"use strict";var b=e(41675),w=e(63893),a=e(73251),k=e(18783).LINE_SPACING,y=a.name;function f(l){var t=l&&l[y];return t&&t.visible}M.isVisible=f,M.makeData=function(l){var t=b.list({_fullLayout:l},"x",!0),s=l.margin,o=[];if(!l._has("gl2d"))for(var n=0;n<t.length;n++){var r=t[n];if(f(r)){o.push(r);var i=r[y];i._id=y+r._id,i._height=(l.height-s.b-s.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}l._rangeSliderData=o},M.autoMarginOpts=function(l,t){var s=l._fullLayout,o=t[y],n=t._id.charAt(0),r=0,i=0;return t.side==="bottom"&&(r=t._depth,t.title.text!==s._dfltTitle[n]&&(i=1.5*t.title.font.size+10+o._offsetShift,i+=(t.title.text.match(w.BR_TAG_ALL)||[]).length*t.title.font.size*k)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:o._height+r+Math.max(s.margin.b,i),pad:a.extraPad+2*o._offsetShift}}},13137:function(L,M,e){"use strict";var b=e(71828),w=e(75148),a=e(47850),k=e(549);L.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:b.extendFlat({},w,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:k.isVisible,makeData:k.makeData,autoMarginOpts:k.autoMarginOpts}},47850:function(L){"use strict";L.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(L,M,e){"use strict";var b=e(50215),w=e(82196).line,a=e(79952).P,k=e(1426).extendFlat,y=e(30962).overrideAll,f=e(44467).templatedArray;e(24695),L.exports=y(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:k({},b.xref,{}),yref:k({},b.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:w.color,width:k({},w.width,{min:1,dflt:1}),dash:k({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(L){"use strict";L.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(85501),k=e(8389),y=e(30477);function f(l,t,s){function o(C,O){return b.coerce(l,t,k,C,O)}var n=o("path"),r=o("type",n?"path":"rect")!=="path";r&&delete t.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var i=["x","y"],u=0;u<2;u++){var p,h,_,m=i[u],d={_fullLayout:s},x=w.coerceRef(l,t,d,m);if((p=w.getFromId(d,x))._selectionIndices.push(t._index),_=y.rangeToShapePosition(p),h=y.shapePositionToRange(p),r){var g=m+"0",v=m+"1",T=l[g],c=l[v];l[g]=h(l[g],!0),l[v]=h(l[v],!0),w.coercePosition(t,d,o,x,g),w.coercePosition(t,d,o,x,v);var E=t[g],A=t[v];E!==void 0&&A!==void 0&&(t[g]=_(E),t[v]=_(A),l[g]=T,l[v]=c)}}r&&b.noneOrAll(l,t,["x0","x1","y0","y1"])}L.exports=function(l,t){a(l,t,{name:"selections",handleItemDefaults:f});for(var s=t.selections,o=0;o<s.length;o++){var n=s[o];n&&n.path===void 0&&(n.x0!==void 0&&n.x1!==void 0&&n.y0!==void 0&&n.y1!==void 0||(t.selections[o]=null))}}},32485:function(L,M,e){"use strict";var b=e(60165).readPaths,w=e(42359),a=e(51873).clearOutlineControllers,k=e(7901),y=e(91424),f=e(44467).arrayEditor,l=e(30477),t=l.getPathString;function s(u){var p=u._fullLayout;for(var h in a(u),p._selectionLayer.selectAll("path").remove(),p._plots){var _=p._plots[h].selectionLayer;_&&_.selectAll("path").remove()}for(var m=0;m<p.selections.length;m++)n(u,m)}function o(u){return u._context.editSelection}function n(u,p){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+p+'"]').remove();var h=l.makeSelectionsOptionsAndPlotinfo(u,p),_=h.options,m=h.plotinfo;_._input&&function(d){var x=t(u,_),g={"data-index":p,"fill-rule":"evenodd",d:x},v=_.opacity,T="rgba(0,0,0,0)",c=_.line.color||k.contrast(u._fullLayout.plot_bgcolor),E=_.line.width,A=_.line.dash;E||(E=5,A="solid");var C=o(u)&&u._fullLayout._activeSelectionIndex===p;C&&(T=u._fullLayout.activeselection.fillcolor,v=u._fullLayout.activeselection.opacity);for(var O=[],P=1;P>=0;P--){var D=d.append("path").attr(g).style("opacity",P?.1:v).call(k.stroke,c).call(k.fill,T).call(y.dashLine,P?"solid":A,P?4+E:E);if(r(D,u,_),C){var z=f(u.layout,"selections",_);D.style({cursor:"move"});var V={element:D.node(),plotinfo:m,gd:u,editHelpers:z,isActiveSelection:!0},F=b(x,u);w(F,D,V)}else D.style("pointer-events",P?"all":"none");O[P]=D}var W=O[0];O[1].node().addEventListener("click",function(){return function(B,U){if(o(B)){var H=+U.node().getAttribute("data-index");if(H>=0){if(H===B._fullLayout._activeSelectionIndex)return void i(B);B._fullLayout._activeSelectionIndex=H,B._fullLayout._deactivateSelection=i,s(B)}}}(u,W)})}(u._fullLayout._selectionLayer)}function r(u,p,h){var _=h.xref+h.yref;y.setClipUrl(u,"clip"+p._fullLayout._uid+_,p)}function i(u){o(u)&&u._fullLayout._activeSelectionIndex>=0&&(a(u),delete u._fullLayout._activeSelectionIndex,s(u))}L.exports={draw:s,drawOne:n,activateLastSelection:function(u){if(o(u)){var p=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=p,u._fullLayout._deactivateSelection=i,s(u)}}}},53777:function(L,M,e){"use strict";var b=e(79952).P,w=e(1426).extendFlat;L.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:w({},b,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(L){"use strict";L.exports=function(M,e,b){b("newselection.mode"),b("newselection.line.width")&&(b("newselection.line.color"),b("newselection.line.dash")),b("activeselection.fillcolor"),b("activeselection.opacity")}},35855:function(L,M,e){"use strict";var b=e(64505).selectMode,w=e(51873).clearOutline,a=e(60165),k=a.readPaths,y=a.writePaths,f=a.fixDatesForPaths;L.exports=function(l,t){if(l.length){var s=l[0][0];if(s){var o=s.getAttribute("d"),n=t.gd,r=n._fullLayout.newselection,i=t.plotinfo,u=i.xaxis,p=i.yaxis,h=t.isActiveSelection,_=t.dragmode,m=(n.layout||{}).selections||[];if(!b(_)&&h!==void 0){var d=n._fullLayout._activeSelectionIndex;if(d<m.length)switch(n._fullLayout.selections[d].type){case"rect":_="select";break;case"path":_="lasso"}}var x,g=k(o,n,i,h),v={xref:u._id,yref:p._id,opacity:r.opacity,line:{color:r.line.color,width:r.line.width,dash:r.line.dash}};g.length===1&&(x=g[0]),x&&x.length===5&&_==="select"?(v.type="rect",v.x0=x[0][1],v.y0=x[0][2],v.x1=x[2][1],v.y1=x[2][2]):(v.type="path",u&&p&&f(g,u,p),v.path=y(g),x=null),w(n);for(var T=t.editHelpers,c=(T||{}).modifyItem,E=[],A=0;A<m.length;A++){var C=n._fullLayout.selections[A];if(C){if(E[A]=C._input,h!==void 0&&A===n._fullLayout._activeSelectionIndex){var O=v;switch(C.type){case"rect":c("x0",O.x0),c("x1",O.x1),c("y0",O.y0),c("y1",O.y1);break;case"path":c("path",O.path)}}}else E[A]=C}return h===void 0?(E.push(v),E):T?T.getUpdateObj():{}}}}},75549:function(L,M,e){"use strict";var b=e(71828).strTranslate;function w(a,k){switch(a.type){case"log":return a.p2d(k);case"date":return a.p2r(k,0,a.calendar);default:return a.p2r(k)}}L.exports={p2r:w,r2p:function(a,k){switch(a.type){case"log":return a.d2p(k);case"date":return a.r2p(k,0,a.calendar);default:return a.r2p(k)}},axValue:function(a){var k=a._id.charAt(0)==="y"?1:0;return function(y){return w(a,y[k])}},getTransform:function(a){return b(a.xaxis._offset,a.yaxis._offset)}}},47322:function(L,M,e){"use strict";var b=e(32485),w=e(3937);L.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:b.draw,drawOne:b.drawOne,reselect:w.reselect,prepSelect:w.prepSelect,clearOutline:w.clearOutline,clearSelectionsCache:w.clearSelectionsCache,selectOnClick:w.selectOnClick}},3937:function(L,M,e){"use strict";var b=e(52142),w=e(38258),a=e(73972),k=e(91424).dashStyle,y=e(7901),f=e(30211),l=e(23469).makeEventData,t=e(64505),s=t.freeMode,o=t.rectMode,n=t.drawMode,r=t.openMode,i=t.selectMode,u=e(30477),p=e(21459),h=e(42359),_=e(51873).clearOutline,m=e(60165),d=m.handleEllipse,x=m.readPaths,g=e(90551),v=e(35855),T=e(32485).activateLastSelection,c=e(71828),E=c.sorterAsc,A=e(61082),C=e(79990),O=e(41675).getFromId,P=e(33306),D=e(61549).redrawReglTraces,z=e(34122),V=z.MINSELECT,F=A.filter,W=A.tester,B=e(75549),U=B.p2r,H=B.axValue,q=B.getTransform;function ee(Re){return Re.subplot!==void 0}function K(Re,je,he,_e,Te,Fe,Ye){var Ge,ot,st,ht,xt,Ct,St,kt,Nt,Dt=je._hoverdata,Et=je._fullLayout.clickmode.indexOf("event")>-1,Wt=[];if(function(nt){return nt&&Array.isArray(nt)&&nt[0].hoverOnBox!==!0}(Dt)){ne(Re,je,Fe);var Ht=function(nt,ct){var Oe,Ne,Qe=nt[0],ut=-1,pt=[];for(Ne=0;Ne<ct.length;Ne++)if(Oe=ct[Ne],Qe.fullData._expandedIndex===Oe.cd[0].trace._expandedIndex){if(Qe.hoverOnBox===!0)break;Qe.pointNumber!==void 0?ut=Qe.pointNumber:Qe.binNumber!==void 0&&(ut=Qe.binNumber,pt=Qe.pointNumbers);break}return{pointNumber:ut,pointNumbers:pt,searchInfo:Oe}}(Dt,Ge=se(je,he,_e,Te));if(Ht.pointNumbers.length>0?function(nt,ct){var Oe,Ne,Qe,ut=[];for(Qe=0;Qe<nt.length;Qe++)(Oe=nt[Qe]).cd[0].trace.selectedpoints&&Oe.cd[0].trace.selectedpoints.length>0&&ut.push(Oe);if(ut.length===1&&ut[0]===ct.searchInfo&&(Ne=ct.searchInfo.cd[0].trace).selectedpoints.length===ct.pointNumbers.length){for(Qe=0;Qe<ct.pointNumbers.length;Qe++)if(Ne.selectedpoints.indexOf(ct.pointNumbers[Qe])<0)return!1;return!0}return!1}(Ge,Ht):function(nt){var ct,Oe,Ne=0;for(Oe=0;Oe<nt.length;Oe++)if((ct=nt[Oe].cd[0].trace).selectedpoints&&(ct.selectedpoints.length>1||(Ne+=ct.selectedpoints.length)>1))return!1;return Ne===1}(Ge)&&(Ct=me(Ht))){for(Ye&&Ye.remove(),Nt=0;Nt<Ge.length;Nt++)(ot=Ge[Nt])._module.selectPoints(ot,!1);xe(je,Ge),ae(Fe),Et&&Be(je)}else{for(St=Re.shiftKey&&(Ct!==void 0?Ct:me(Ht)),st=function(nt,ct,Oe){return{pointNumber:nt,searchInfo:ct,subtract:!!Oe}}(Ht.pointNumber,Ht.searchInfo,St),ht=$(Fe.selectionDefs.concat([st])),Nt=0;Nt<Ge.length;Nt++)if(xt=fe(Ge[Nt]._module.selectPoints(Ge[Nt],ht),Ge[Nt]),Wt.length)for(var Ke=0;Ke<xt.length;Ke++)Wt.push(xt[Ke]);else Wt=xt;if(xe(je,Ge,kt={points:Wt}),st&&Fe&&Fe.selectionDefs.push(st),Ye){var $e=Fe.mergedPolygons,Ue=r(Fe.dragmode);h(pe($e,Ue),Ye,Fe)}Et&&Ee(je,kt)}}}function J(Re){return"pointNumber"in Re&&"searchInfo"in Re}function Z(Re){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(je,he,_e,Te){var Fe=Re.searchInfo.cd[0].trace._expandedIndex;return Te.cd[0].trace._expandedIndex===Fe&&_e===Re.pointNumber},isRect:!1,degenerate:!1,subtract:!!Re.subtract}}function $(Re){if(Re.length){for(var je=[],he=J(Re[0])?0:Re[0][0][0],_e=he,Te=J(Re[0])?0:Re[0][0][1],Fe=Te,Ye=0;Ye<Re.length;Ye++)if(J(Re[Ye]))je.push(Z(Re[Ye]));else{var Ge=W(Re[Ye]);Ge.subtract=!!Re[Ye].subtract,je.push(Ge),he=Math.min(he,Ge.xmin),_e=Math.max(_e,Ge.xmax),Te=Math.min(Te,Ge.ymin),Fe=Math.max(Fe,Ge.ymax)}return{xmin:he,xmax:_e,ymin:Te,ymax:Fe,pts:[],contains:function(ot,st,ht,xt){for(var Ct=!1,St=0;St<je.length;St++)je[St].contains(ot,st,ht,xt)&&(Ct=!je[St].subtract);return Ct},isRect:!1,degenerate:!1}}}function ne(Re,je,he){var _e=je._fullLayout,Te=he.plotinfo,Fe=he.dragmode,Ye=_e._lastSelectedSubplot&&_e._lastSelectedSubplot===Te.id,Ge=(Re.shiftKey||Re.altKey)&&!(n(Fe)&&r(Fe));Ye&&Ge&&Te.selection&&Te.selection.selectionDefs&&!he.selectionDefs?(he.selectionDefs=Te.selection.selectionDefs,he.mergedPolygons=Te.selection.mergedPolygons):Ge&&Te.selection||ae(he),Ye||(_(je),_e._lastSelectedSubplot=Te.id)}function ae(Re,je){var he=Re.dragmode,_e=Re.plotinfo,Te=Re.gd;(function(xt){return xt._fullLayout._activeShapeIndex>=0})(Te)&&Te._fullLayout._deactivateShape(Te),function(xt){return xt._fullLayout._activeSelectionIndex>=0}(Te)&&Te._fullLayout._deactivateSelection(Te);var Fe=Te._fullLayout._zoomlayer,Ye=n(he),Ge=i(he);if(Ye||Ge){var ot,st,ht=Fe.selectAll(".select-outline-"+_e.id);ht&&Te._fullLayout._outlining&&(Ye&&(ot=g(ht,Re)),ot&&a.call("_guiRelayout",Te,{shapes:ot}),Ge&&!ee(Re)&&(st=v(ht,Re)),st&&(Te._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Te,{selections:st}).then(function(){je&&T(Te)})),Te._fullLayout._outlining=!1)}_e.selection={},_e.selection.selectionDefs=Re.selectionDefs=[],_e.selection.mergedPolygons=Re.mergedPolygons=[]}function oe(Re){return Re._id}function se(Re,je,he,_e){if(!Re.calcdata)return[];var Te,Fe,Ye,Ge=[],ot=je.map(oe),st=he.map(oe);for(Ye=0;Ye<Re.calcdata.length;Ye++)if((Fe=(Te=Re.calcdata[Ye])[0].trace).visible===!0&&Fe._module&&Fe._module.selectPoints)if(!ee({subplot:_e})||Fe.subplot!==_e&&Fe.geo!==_e)if(Fe.type==="splom"){if(Fe._xaxes[ot[0]]&&Fe._yaxes[st[0]]){var ht=ce(Fe._module,Te,je[0],he[0]);ht.scene=Re._fullLayout._splomScenes[Fe.uid],Ge.push(ht)}}else if(Fe.type==="sankey"){var xt=ce(Fe._module,Te,je[0],he[0]);Ge.push(xt)}else{if(ot.indexOf(Fe.xaxis)===-1||st.indexOf(Fe.yaxis)===-1)continue;Ge.push(ce(Fe._module,Te,O(Re,Fe.xaxis),O(Re,Fe.yaxis)))}else Ge.push(ce(Fe._module,Te,je[0],he[0]));return Ge}function ce(Re,je,he,_e){return{_module:Re,cd:je,xaxis:he,yaxis:_e}}function me(Re){var je=Re.searchInfo.cd[0].trace,he=Re.pointNumber,_e=Re.pointNumbers,Te=_e.length>0?_e[0]:he;return!!je.selectedpoints&&je.selectedpoints.indexOf(Te)>-1}function xe(Re,je,he){var _e,Te;for(_e=0;_e<je.length;_e++){var Fe=je[_e].cd[0].trace._fullInput,Ye=Re._fullLayout._tracePreGUI[Fe.uid]||{};Ye.selectedpoints===void 0&&(Ye.selectedpoints=Fe._input.selectedpoints||null)}if(he){var Ge=he.points||[];for(_e=0;_e<je.length;_e++)(Te=je[_e].cd[0].trace)._input.selectedpoints=Te._fullInput.selectedpoints=[],Te._fullInput!==Te&&(Te.selectedpoints=[]);for(var ot=0;ot<Ge.length;ot++){var st=Ge[ot],ht=st.data,xt=st.fullData,Ct=st.pointIndex,St=st.pointIndices;St?([].push.apply(ht.selectedpoints,St),Te._fullInput!==Te&&[].push.apply(xt.selectedpoints,St)):(ht.selectedpoints.push(Ct),Te._fullInput!==Te&&xt.selectedpoints.push(Ct))}}else for(_e=0;_e<je.length;_e++)delete(Te=je[_e].cd[0].trace).selectedpoints,delete Te._input.selectedpoints,Te._fullInput!==Te&&delete Te._fullInput.selectedpoints;(function(kt,Nt){for(var Dt=!1,Et=0;Et<Nt.length;Et++){var Wt=Nt[Et],Ht=Wt.cd;a.traceIs(Ht[0].trace,"regl")&&(Dt=!0);var Ke=Wt._module,$e=Ke.styleOnSelect||Ke.style;$e&&($e(kt,Ht,Ht[0].node3),Ht[0].nodeRangePlot3&&$e(kt,Ht,Ht[0].nodeRangePlot3))}Dt&&(P(kt),D(kt))})(Re,je)}function ve(Re,je,he){for(var _e=(he?b.difference:b.union)({regions:Re},{regions:[je]}).regions.reverse(),Te=0;Te<_e.length;Te++){var Fe=_e[Te];Fe.subtract=te(Fe,_e.slice(0,Te))}return _e}function fe(Re,je){if(Array.isArray(Re))for(var he=je.cd,_e=je.cd[0].trace,Te=0;Te<Re.length;Te++)Re[Te]=l(Re[Te],_e,he);return Re}function pe(Re,je){for(var he=[],_e=0;_e<Re.length;_e++){he[_e]=[];for(var Te=0;Te<Re[_e].length;Te++){he[_e][Te]=[],he[_e][Te][0]=Te?"L":"M";for(var Fe=0;Fe<Re[_e][Te].length;Fe++)he[_e][Te].push(Re[_e][Te][Fe])}je||he[_e].push(["Z",he[_e][0][1],he[_e][0][2]])}return he}function Le(Re,je){for(var he,_e,Te=[],Fe=[],Ye=0;Ye<je.length;Ye++){var Ge=je[Ye];_e=Ge._module.selectPoints(Ge,Re),Fe.push(_e),he=fe(_e,Ge),Te=Te.concat(he)}return Te}function ye(Re,je,he,_e,Te){var Fe,Ye,Ge,ot=!!_e;Te&&(Fe=Te.plotinfo,Ye=Te.xaxes[0]._id,Ge=Te.yaxes[0]._id);var st=[],ht=[],xt=ke(Re),Ct=Re._fullLayout;if(Fe){var St=Ct._zoomlayer,kt=Ct.dragmode,Nt=n(kt),Dt=i(kt);if(Nt||Dt){var Et=O(Re,Ye,"x"),Wt=O(Re,Ge,"y");if(Et&&Wt){var Ht=St.selectAll(".select-outline-"+Fe.id);if(Ht&&Re._fullLayout._outlining&&Ht.length){for(var Ke=Ht[0][0].getAttribute("d"),$e=x(Ke,Re,Fe),Ue=[],nt=0;nt<$e.length;nt++){for(var ct=$e[nt],Oe=[],Ne=0;Ne<ct.length;Ne++)Oe.push([ue(Et,ct[Ne][1]),ue(Wt,ct[Ne][2])]);Oe.xref=Ye,Oe.yref=Ge,Oe.subtract=te(Oe,Ue),Ue.push(Oe)}xt=xt.concat(Ue)}}}}var Qe=Ye&&Ge?[Ye+Ge]:Ct._subplots.cartesian;(function(Hn){var Yn=Hn.calcdata;if(Yn)for(var Gn=0;Gn<Yn.length;Gn++){var cr=Yn[Gn][0].trace,ir=Hn._fullLayout._splomScenes;if(ir){var Mr=ir[cr.uid];Mr&&(Mr.selectBatch=[])}}})(Re);for(var ut={},pt=0;pt<Qe.length;pt++){var wt=Qe[pt],Lt=wt.indexOf("y"),It=wt.slice(0,Lt),yt=wt.slice(Lt),Rt=Ye&&Ge?he:void 0;if(Rt=Me(xt,It,yt,Rt)){var bt=_e;if(!ot){var Pt=O(Re,It,"x"),Bt=O(Re,yt,"y");bt=se(Re,[Pt],[Bt],wt);for(var Zt=0;Zt<bt.length;Zt++){var Yt=bt[Zt],Kt=Yt.cd[0],tn=Kt.trace;if(Yt._module.name==="scattergl"&&!Kt.t.xpx){var on=tn.x,_n=tn.y,fn=tn._length;Kt.t.xpx=[],Kt.t.ypx=[];for(var Sn=0;Sn<fn;Sn++)Kt.t.xpx[Sn]=Pt.c2p(on[Sn]),Kt.t.ypx[Sn]=Bt.c2p(_n[Sn])}Yt._module.name==="splom"&&(ut[tn.uid]||(ut[tn.uid]=!0))}}var Xn=Le(Rt,bt);st=st.concat(Xn),ht=ht.concat(bt)}}var An={points:st};xe(Re,ht,An);var un=Ct.clickmode.indexOf("event")>-1&&je;if(!Fe&&je){var Tn=ke(Re,!0);if(Tn.length){var gn=Tn[0].xref,dn=Tn[0].yref;if(gn&&dn){var Rn=ge(Tn);we([O(Re,gn,"x"),O(Re,dn,"y")])(An,Rn)}}Re._fullLayout._noEmitSelectedAtStart?Re._fullLayout._noEmitSelectedAtStart=!1:un&&Ee(Re,An),Ct._reselect=!1}if(!Fe&&Ct._deselect){var In=Ct._deselect;(function(Hn,Yn,Gn){for(var cr=0;cr<Gn.length;cr++){var ir=Gn[cr];if(ir.xaxis&&ir.xaxis._id===Hn&&ir.yaxis&&ir.yaxis._id===Yn)return!0}return!1})(Ye=In.xref,Ge=In.yref,ht)||Ae(Re,Ye,Ge,_e),un&&(An.points.length?Ee(Re,An):Be(Re)),Ct._deselect=!1}return{eventData:An,selectionTesters:he}}function Ae(Re,je,he,_e){_e=se(Re,[O(Re,je,"x")],[O(Re,he,"y")],je+he);for(var Te=0;Te<_e.length;Te++){var Fe=_e[Te];Fe._module.selectPoints(Fe,!1)}xe(Re,_e)}function Me(Re,je,he,_e){for(var Te,Fe=0;Fe<Re.length;Fe++){var Ye=Re[Fe];je===Ye.xref&&he===Ye.yref&&(Te?_e=$(Te=ve(Te,Ye,!!Ye.subtract)):(Te=[Ye],_e=W(Ye)))}return _e}function ke(Re,je){for(var he=[],_e=Re._fullLayout,Te=_e.selections,Fe=Te.length,Ye=0;Ye<Fe;Ye++)if(!je||Ye===_e._activeSelectionIndex){var Ge=Te[Ye];if(Ge){var ot,st,ht,xt,Ct,St=Ge.xref,kt=Ge.yref,Nt=O(Re,St,"x"),Dt=O(Re,kt,"y");if(Ge.type==="rect"){Ct=[];var Et=ue(Nt,Ge.x0),Wt=ue(Nt,Ge.x1),Ht=ue(Dt,Ge.y0),Ke=ue(Dt,Ge.y1);Ct=[[Et,Ht],[Et,Ke],[Wt,Ke],[Wt,Ht]],ot=Math.min(Et,Wt),st=Math.max(Et,Wt),ht=Math.min(Ht,Ke),xt=Math.max(Ht,Ke),Ct.xmin=ot,Ct.xmax=st,Ct.ymin=ht,Ct.ymax=xt,Ct.xref=St,Ct.yref=kt,Ct.subtract=!1,Ct.isRect=!0,he.push(Ct)}else if(Ge.type==="path")for(var $e=Ge.path.split("Z"),Ue=[],nt=0;nt<$e.length;nt++){var ct=$e[nt];if(ct){ct+="Z";var Oe=u.extractPathCoords(ct,p.paramIsX,"raw"),Ne=u.extractPathCoords(ct,p.paramIsY,"raw");ot=1/0,st=-1/0,ht=1/0,xt=-1/0,Ct=[];for(var Qe=0;Qe<Oe.length;Qe++){var ut=ue(Nt,Oe[Qe]),pt=ue(Dt,Ne[Qe]);Ct.push([ut,pt]),ot=Math.min(ut,ot),st=Math.max(ut,st),ht=Math.min(pt,ht),xt=Math.max(pt,xt)}Ct.xmin=ot,Ct.xmax=st,Ct.ymin=ht,Ct.ymax=xt,Ct.xref=St,Ct.yref=kt,Ct.subtract=te(Ct,Ue),Ue.push(Ct),he.push(Ct)}}}}return he}function te(Re,je){for(var he=!1,_e=0;_e<je.length;_e++)for(var Te=je[_e],Fe=0;Fe<Re.length;Fe++)if(w(Re[Fe],Te)){he=!he;break}return he}function ue(Re,je){return Re.type==="date"&&(je=je.replace("_"," ")),Re.type==="log"?Re.c2p(je):Re.r2p(je,null,Re.calendar)}function ge(Re){for(var je=Re.length,he=[],_e=0;_e<je;_e++){var Te=Re[_e];he=(he=he.concat(Te)).concat([Te[0]])}return(Fe=he).isRect=Fe.length===5&&Fe[0][0]===Fe[4][0]&&Fe[0][1]===Fe[4][1]&&Fe[0][0]===Fe[1][0]&&Fe[2][0]===Fe[3][0]&&Fe[0][1]===Fe[3][1]&&Fe[1][1]===Fe[2][1]||Fe[0][1]===Fe[1][1]&&Fe[2][1]===Fe[3][1]&&Fe[0][0]===Fe[3][0]&&Fe[1][0]===Fe[2][0],Fe.isRect&&(Fe.xmin=Math.min(Fe[0][0],Fe[2][0]),Fe.xmax=Math.max(Fe[0][0],Fe[2][0]),Fe.ymin=Math.min(Fe[0][1],Fe[2][1]),Fe.ymax=Math.max(Fe[0][1],Fe[2][1])),Fe;var Fe}function we(Re){return function(je,he){for(var _e,Te,Fe=0;Fe<Re.length;Fe++){var Ye=Re[Fe],Ge=Ye._id,ot=Ge.charAt(0);if(he.isRect){_e||(_e={});var st=he[ot+"min"],ht=he[ot+"max"];st!==void 0&&ht!==void 0&&(_e[Ge]=[U(Ye,st),U(Ye,ht)].sort(E))}else Te||(Te={}),Te[Ge]=he.map(H(Ye))}_e&&(je.range=_e),Te&&(je.lassoPoints=Te)}}function Ee(Re,je){je&&(je.selections=(Re.layout||{}).selections||[]),Re.emit("plotly_selected",je)}function Be(Re){Re.emit("plotly_deselect",null)}L.exports={reselect:ye,prepSelect:function(Re,je,he,_e,Te){var Fe=!ee(_e),Ye=s(Te),Ge=o(Te),ot=r(Te),st=n(Te),ht=i(Te),xt=Te==="drawcircle",Ct=Te==="drawline"||xt,St=_e.gd,kt=St._fullLayout,Nt=ht&&kt.newselection.mode==="immediate"&&Fe,Dt=kt._zoomlayer,Et=_e.element.getBoundingClientRect(),Wt=_e.plotinfo,Ht=q(Wt),Ke=je-Et.left,$e=he-Et.top;kt._calcInverseTransform(St);var Ue=c.apply3DTransform(kt._invTransform)(Ke,$e);Ke=Ue[0],$e=Ue[1];var nt,ct,Oe,Ne,Qe,ut,pt,wt=kt._invScaleX,Lt=kt._invScaleY,It=Ke,yt=$e,Rt="M"+Ke+","+$e,bt=_e.xaxes[0],Pt=_e.yaxes[0],Bt=bt._length,Zt=Pt._length,Yt=Re.altKey&&!(n(Te)&&ot);ne(Re,St,_e),Ye&&(nt=F([[Ke,$e]],z.BENDPX));var Kt=Dt.selectAll("path.select-outline-"+Wt.id).data([1]),tn=st?kt.newshape:kt.newselection,on=st&&!ot?tn.fillcolor:"rgba(0,0,0,0)",_n=tn.line.color||(Fe?y.contrast(St._fullLayout.plot_bgcolor):"#7f7f7f");Kt.enter().append("path").attr("class","select-outline select-outline-"+Wt.id).style({opacity:st?tn.opacity/2:1,"stroke-dasharray":k(tn.line.dash,tn.line.width),"stroke-width":tn.line.width+"px","shape-rendering":"crispEdges"}).call(y.stroke,_n).call(y.fill,on).attr("fill-rule","evenodd").classed("cursor-move",!!st).attr("transform",Ht).attr("d",Rt+"Z");var fn=Dt.append("path").attr("class","zoombox-corners").style({fill:y.background,stroke:y.defaultLine,"stroke-width":1}).attr("transform",Ht).attr("d","M0,0Z"),Sn=kt._uid+z.SELECTID,Xn=[],An=se(St,_e.xaxes,_e.yaxes,_e.subplot);Nt&&!Re.shiftKey&&(_e._clearSubplotSelections=function(){if(Fe){var Tn=bt._id,gn=Pt._id;Ae(St,Tn,gn,An);for(var dn=(St.layout||{}).selections||[],Rn=[],In=!1,Hn=0;Hn<dn.length;Hn++){var Yn=kt.selections[Hn];Yn.xref!==Tn||Yn.yref!==gn?Rn.push(dn[Hn]):In=!0}In&&(St._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",St,{selections:Rn}))}});var un=function(Tn){return Tn.plotinfo.fillRangeItems||we(Tn.xaxes.concat(Tn.yaxes))}(_e);_e.moveFn=function(Tn,gn){_e._clearSubplotSelections&&(_e._clearSubplotSelections(),_e._clearSubplotSelections=void 0),It=Math.max(0,Math.min(Bt,wt*Tn+Ke)),yt=Math.max(0,Math.min(Zt,Lt*gn+$e));var dn=Math.abs(It-Ke),Rn=Math.abs(yt-$e);if(Ge){var In,Hn,Yn;if(ht){var Gn=kt.selectdirection;switch(In=Gn==="any"?Rn<Math.min(.6*dn,V)?"h":dn<Math.min(.6*Rn,V)?"v":"d":Gn){case"h":Hn=xt?Zt/2:0,Yn=Zt;break;case"v":Hn=xt?Bt/2:0,Yn=Bt}}if(st)switch(kt.newshape.drawdirection){case"vertical":In="h",Hn=xt?Zt/2:0,Yn=Zt;break;case"horizontal":In="v",Hn=xt?Bt/2:0,Yn=Bt;break;case"ortho":dn<Rn?(In="h",Hn=$e,Yn=yt):(In="v",Hn=Ke,Yn=It);break;default:In="d"}In==="h"?((Ne=Ct?d(xt,[It,Hn],[It,Yn]):[[Ke,Hn],[Ke,Yn],[It,Yn],[It,Hn]]).xmin=Ct?It:Math.min(Ke,It),Ne.xmax=Ct?It:Math.max(Ke,It),Ne.ymin=Math.min(Hn,Yn),Ne.ymax=Math.max(Hn,Yn),fn.attr("d","M"+Ne.xmin+","+($e-V)+"h-4v"+2*V+"h4ZM"+(Ne.xmax-1)+","+($e-V)+"h4v"+2*V+"h-4Z")):In==="v"?((Ne=Ct?d(xt,[Hn,yt],[Yn,yt]):[[Hn,$e],[Hn,yt],[Yn,yt],[Yn,$e]]).xmin=Math.min(Hn,Yn),Ne.xmax=Math.max(Hn,Yn),Ne.ymin=Ct?yt:Math.min($e,yt),Ne.ymax=Ct?yt:Math.max($e,yt),fn.attr("d","M"+(Ke-V)+","+Ne.ymin+"v-4h"+2*V+"v4ZM"+(Ke-V)+","+(Ne.ymax-1)+"v4h"+2*V+"v-4Z")):In==="d"&&((Ne=Ct?d(xt,[Ke,$e],[It,yt]):[[Ke,$e],[Ke,yt],[It,yt],[It,$e]]).xmin=Math.min(Ke,It),Ne.xmax=Math.max(Ke,It),Ne.ymin=Math.min($e,yt),Ne.ymax=Math.max($e,yt),fn.attr("d","M0,0Z"))}else Ye&&(nt.addPt([It,yt]),Ne=nt.filtered);if(_e.selectionDefs&&_e.selectionDefs.length?(Oe=ve(_e.mergedPolygons,Ne,Yt),Ne.subtract=Yt,ct=$(_e.selectionDefs.concat([Ne]))):(Oe=[Ne],ct=W(Ne)),h(pe(Oe,ot),Kt,_e),ht){var cr,ir=ye(St,!1),Mr=ir.eventData?ir.eventData.points.slice():[];ir=ye(St,!1,ct,An,_e),ct=ir.selectionTesters,pt=ir.eventData,cr=nt?nt.filtered:ge(Oe),C.throttle(Sn,z.SELECTDELAY,function(){for(var gr=(Xn=Le(ct,An)).slice(),sr=0;sr<Mr.length;sr++){for(var xr=Mr[sr],kr=!1,Qt=0;Qt<gr.length;Qt++)if(gr[Qt].curveNumber===xr.curveNumber&&gr[Qt].pointNumber===xr.pointNumber){kr=!0;break}kr||gr.push(xr)}gr.length&&(pt||(pt={}),pt.points=gr),un(pt,cr),function(bn,Dn){bn.emit("plotly_selecting",Dn)}(St,pt)})}},_e.clickFn=function(Tn,gn){if(fn.remove(),St._fullLayout._activeShapeIndex>=0)St._fullLayout._deactivateShape(St);else if(!st){var dn=kt.clickmode;C.done(Sn).then(function(){if(C.clear(Sn),Tn===2){for(Kt.remove(),Qe=0;Qe<An.length;Qe++)(ut=An[Qe])._module.selectPoints(ut,!1);if(xe(St,An),ae(_e),Be(St),An.length){var Rn=An[0].xaxis,In=An[0].yaxis;if(Rn&&In){for(var Hn=[],Yn=St._fullLayout.selections,Gn=0;Gn<Yn.length;Gn++){var cr=Yn[Gn];cr&&(cr.xref===Rn._id&&cr.yref===In._id||Hn.push(cr))}Hn.length<Yn.length&&(St._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",St,{selections:Hn}))}}}else dn.indexOf("select")>-1&&K(gn,St,_e.xaxes,_e.yaxes,_e.subplot,_e,Kt),dn==="event"&&Ee(St,void 0);f.click(St,gn)}).catch(c.error)}},_e.doneFn=function(){fn.remove(),C.done(Sn).then(function(){C.clear(Sn),!Nt&&Ne&&_e.selectionDefs&&(Ne.subtract=Yt,_e.selectionDefs.push(Ne),_e.mergedPolygons.length=0,[].push.apply(_e.mergedPolygons,Oe)),(Nt||st)&&ae(_e,Nt),_e.doneFnCompleted&&_e.doneFnCompleted(Xn),ht&&Ee(St,pt)}).catch(c.error)}},clearOutline:_,clearSelectionsCache:ae,selectOnClick:K}},89827:function(L,M,e){"use strict";var b=e(50215),w=e(41940),a=e(82196).line,k=e(79952).P,y=e(1426).extendFlat,f=e(44467).templatedArray,l=(e(24695),e(5386).R),t=e(37281);L.exports=f("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:y({},b.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:y({},b.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:y({},a.color,{editType:"arraydraw"}),width:y({},a.width,{editType:"calc+arraydraw"}),dash:y({},k,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:l({},{keys:Object.keys(t)}),font:w({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(21459),k=e(30477);function y(s){return l(s.line.width,s.xsizemode,s.x0,s.x1,s.path,!1)}function f(s){return l(s.line.width,s.ysizemode,s.y0,s.y1,s.path,!0)}function l(s,o,n,r,i,u){var p=s/2,h=u;if(o==="pixel"){var _=i?k.extractPathCoords(i,u?a.paramIsY:a.paramIsX):[n,r],m=b.aggNums(Math.max,null,_),d=b.aggNums(Math.min,null,_),x=d<0?Math.abs(d)+p:p,g=m>0?m+p:p;return{ppad:p,ppadplus:h?x:g,ppadminus:h?g:x}}return{ppad:p}}function t(s,o,n,r,i){var u=s.type==="category"||s.type==="multicategory"?s.r2c:s.d2c;if(o!==void 0)return[u(o),u(n)];if(r){var p,h,_,m,d=1/0,x=-1/0,g=r.match(a.segmentRE);for(s.type==="date"&&(u=k.decodeDate(u)),p=0;p<g.length;p++)(h=i[g[p].charAt(0)].drawn)!==void 0&&(!(_=g[p].substr(1).match(a.paramRE))||_.length<h||((m=u(_[h]))<d&&(d=m),m>x&&(x=m)));return x>=d?[d,x]:void 0}}L.exports=function(s){var o=s._fullLayout,n=b.filterVisible(o.shapes);if(n.length&&s._fullData.length)for(var r=0;r<n.length;r++){var i,u,p=n[r];p._extremes={};var h=w.getRefType(p.xref),_=w.getRefType(p.yref);if(p.xref!=="paper"&&h!=="domain"){var m=p.xsizemode==="pixel"?p.xanchor:p.x0,d=p.xsizemode==="pixel"?p.xanchor:p.x1;(u=t(i=w.getFromId(s,p.xref),m,d,p.path,a.paramIsX))&&(p._extremes[i._id]=w.findExtremes(i,u,y(p)))}if(p.yref!=="paper"&&_!=="domain"){var x=p.ysizemode==="pixel"?p.yanchor:p.y0,g=p.ysizemode==="pixel"?p.yanchor:p.y1;(u=t(i=w.getFromId(s,p.yref),x,g,p.path,a.paramIsY))&&(p._extremes[i._id]=w.findExtremes(i,u,f(p)))}}}},21459:function(L){"use strict";L.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(85501),k=e(89827),y=e(30477);function f(l,t,s){function o(B,U){return b.coerce(l,t,k,B,U)}if(o("visible")){var n=o("path"),r=o("type",n?"path":"rect"),i=r!=="path";i&&delete t.path,o("editable"),o("layer"),o("opacity"),o("fillcolor"),o("fillrule"),o("line.width")&&(o("line.color"),o("line.dash"));for(var u=o("xsizemode"),p=o("ysizemode"),h=["x","y"],_=0;_<2;_++){var m,d,x,g=h[_],v=g+"anchor",T=g==="x"?u:p,c={_fullLayout:s},E=w.coerceRef(l,t,c,g,void 0,"paper");if(w.getRefType(E)==="range"?((m=w.getFromId(c,E))._shapeIndices.push(t._index),x=y.rangeToShapePosition(m),d=y.shapePositionToRange(m)):d=x=b.identity,i){var A=g+"0",C=g+"1",O=l[A],P=l[C];l[A]=d(l[A],!0),l[C]=d(l[C],!0),T==="pixel"?(o(A,0),o(C,10)):(w.coercePosition(t,c,o,E,A,.25),w.coercePosition(t,c,o,E,C,.75)),t[A]=x(t[A]),t[C]=x(t[C]),l[A]=O,l[C]=P}if(T==="pixel"){var D=l[v];l[v]=d(l[v],!0),w.coercePosition(t,c,o,E,v,.25),t[v]=x(t[v]),l[v]=D}}i&&b.noneOrAll(l,t,["x0","x1","y0","y1"]);var z,V,F=r==="line";if(i&&(z=o("label.texttemplate")),z||(V=o("label.text")),V||z){o("label.textangle");var W=o("label.textposition",F?"middle":"middle center");o("label.xanchor"),o("label.yanchor",function(B,U){return B?"bottom":U.indexOf("top")!==-1?"top":U.indexOf("bottom")!==-1?"bottom":"middle"}(F,W)),o("label.padding"),b.coerceFont(o,"label.font",s.font)}}}L.exports=function(l,t){a(l,t,{name:"shapes",handleItemDefaults:f})}},42359:function(L,M,e){"use strict";var b=e(71828).strTranslate,w=e(28569),a=e(64505),k=a.drawMode,y=a.selectMode,f=e(73972),l=e(7901),t=e(89995),s=t.i000,o=t.i090,n=t.i180,r=t.i270,i=e(51873).clearOutlineControllers,u=e(60165),p=u.pointsOnRectangle,h=u.pointsOnEllipse,_=u.writePaths,m=e(90551),d=e(35855);function x(g,v){var T,c,E,A=g[v][1],C=g[v][2],O=g.length;return c=g[T=(v+1)%O][1],E=g[T][2],c===A&&E===C&&(c=g[T=(v+2)%O][1],E=g[T][2]),[T,c,E]}L.exports=function g(v,T,c,E){E||(E=0);var A=c.gd;function C(){g(v,T,c,E++),(h(v[0])||c.hasText)&&O({redrawing:!0})}function O(oe){var se={};c.isActiveShape!==void 0&&(c.isActiveShape=!1,se=m(T,c)),c.isActiveSelection!==void 0&&(c.isActiveSelection=!1,se=d(T,c),A._fullLayout._reselect=!0),Object.keys(se).length&&f.call((oe||{}).redrawing?"relayout":"_guiRelayout",A,se)}var P,D,z,V,F,W=A._fullLayout._zoomlayer,B=c.dragmode,U=k(B),H=y(B);function q(oe){z=+oe.srcElement.getAttribute("data-i"),V=+oe.srcElement.getAttribute("data-j"),P[z][V].moveFn=ee}function ee(oe,se){if(v.length){var ce=F[z][V][1],me=F[z][V][2],xe=v[z],ve=xe.length;if(p(xe)){var fe=oe,pe=se;c.isActiveSelection&&(x(xe,V)[1]===xe[V][1]?pe=0:fe=0);for(var Le=0;Le<ve;Le++)if(Le!==V){var ye=xe[Le];ye[1]===xe[V][1]&&(ye[1]=ce+fe),ye[2]===xe[V][2]&&(ye[2]=me+pe)}if(xe[V][1]=ce+fe,xe[V][2]=me+pe,!p(xe))for(var Ae=0;Ae<ve;Ae++)for(var Me=0;Me<xe[Ae].length;Me++)xe[Ae][Me]=F[z][Ae][Me]}else xe[V][1]=ce+oe,xe[V][2]=me+se;C()}}function K(){O()}function J(oe,se){if(oe===2){z=+se.srcElement.getAttribute("data-i"),V=+se.srcElement.getAttribute("data-j");var ce=v[z];p(ce)||h(ce)||function(){if(v.length&&v[z]&&v[z].length){for(var me=[],xe=0;xe<v[z].length;xe++)xe!==V&&me.push(v[z][xe]);me.length>1&&(me.length!==2||me[1][0]!=="Z")&&(V===0&&(me[0][0]="M"),v[z]=me,C(),O())}}()}}function Z(oe,se){(function(ce,me){if(v.length)for(var xe=0;xe<v.length;xe++)for(var ve=0;ve<v[xe].length;ve++)for(var fe=0;fe+2<v[xe][ve].length;fe+=2)v[xe][ve][fe+1]=F[xe][ve][fe+1]+ce,v[xe][ve][fe+2]=F[xe][ve][fe+2]+me})(oe,se),C()}function $(oe){(z=+oe.srcElement.getAttribute("data-i"))||(z=0),D[z].moveFn=Z}function ne(){O()}function ae(oe){oe===2&&function(se){if(y(se._fullLayout.dragmode)){i(se);var ce=se._fullLayout._activeSelectionIndex,me=(se.layout||{}).selections||[];if(ce<me.length){for(var xe=[],ve=0;ve<me.length;ve++)ve!==ce&&xe.push(me[ve]);delete se._fullLayout._activeSelectionIndex;var fe=se._fullLayout.selections[ce];se._fullLayout._deselect={xref:fe.xref,yref:fe.yref},f.call("_guiRelayout",se,{selections:xe})}}}(A)}(U||H)&&(A._fullLayout._outlining=!0),i(A),T.attr("d",_(v)),E||!c.isActiveShape&&!c.isActiveSelection||(F=function(oe,se){for(var ce=0;ce<se.length;ce++){var me=se[ce];oe[ce]=[];for(var xe=0;xe<me.length;xe++){oe[ce][xe]=[];for(var ve=0;ve<me[xe].length;ve++)oe[ce][xe][ve]=me[xe][ve]}}return oe}([],v),function(oe){P=[];for(var se=0;se<v.length;se++){var ce=v[se],me=p(ce),xe=!me&&h(ce);P[se]=[];for(var ve=ce.length,fe=0;fe<ve;fe++)if(ce[fe][0]!=="Z"&&(!xe||fe===s||fe===o||fe===n||fe===r)){var pe,Le=me&&c.isActiveSelection;Le&&(pe=x(ce,fe));var ye=ce[fe][1],Ae=ce[fe][2],Me=oe.append(Le?"rect":"circle").attr("data-i",se).attr("data-j",fe).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Le){var ke=pe[1]-ye,te=pe[2]-Ae,ue=te?5:Math.max(Math.min(25,Math.abs(ke)-5),5),ge=ke?5:Math.max(Math.min(25,Math.abs(te)-5),5);Me.classed(te?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ue).attr("height",ge).attr("x",ye-ue/2).attr("y",Ae-ge/2).attr("transform",b(ke/2,te/2))}else Me.classed("cursor-grab",!0).attr("r",5).attr("cx",ye).attr("cy",Ae);P[se][fe]={element:Me.node(),gd:A,prepFn:q,doneFn:K,clickFn:J},w.init(P[se][fe])}}}(W.append("g").attr("class","outline-controllers")),function(){D=[],v.length&&(D[0]={element:T[0][0],gd:A,prepFn:$,doneFn:ne,clickFn:ae},w.init(D[0]))}())}},34031:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(71828),k=e(89298),y=e(60165).readPaths,f=e(42359),l=e(51873).clearOutlineControllers,t=e(7901),s=e(91424),o=e(44467).arrayEditor,n=e(28569),r=e(6964),i=e(63893),u=e(21459),p=e(30477),h=p.getPathString,_=e(37281),m=e(18783).FROM_TL;function d(C){var O=C._fullLayout;for(var P in O._shapeUpperLayer.selectAll("path").remove(),O._shapeLowerLayer.selectAll("path").remove(),O._shapeUpperLayer.selectAll("text").remove(),O._shapeLowerLayer.selectAll("text").remove(),O._plots){var D=O._plots[P].shapelayer;D&&(D.selectAll("path").remove(),D.selectAll("text").remove())}for(var z=0;z<O.shapes.length;z++)O.shapes[z].visible&&v(C,z)}function x(C){return!!C._fullLayout._outlining}function g(C){return!C._context.edits.shapePosition}function v(C,O){C._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+O+'"]').remove();var P=p.makeShapesOptionsAndPlotinfo(C,O),D=P.options,z=P.plotinfo;function V(F){var W=h(C,D),B={"data-index":O,"fill-rule":D.fillrule,d:W},U=D.opacity,H=D.fillcolor,q=D.line.width?D.line.color:"rgba(0,0,0,0)",ee=D.line.width,K=D.line.dash;ee||D.editable!==!0||(ee=5,K="solid");var J=W[W.length-1]!=="Z",Z=g(C)&&D.editable&&C._fullLayout._activeShapeIndex===O;Z&&(H=J?"rgba(0,0,0,0)":C._fullLayout.activeshape.fillcolor,U=C._fullLayout.activeshape.opacity);var $,ne=F.append("g").classed("shape-group",!0).attr({"data-index":O}),ae=ne.append("path").attr(B).style("opacity",U).call(t.stroke,q).call(t.fill,H).call(s.dashLine,K,ee);if(T(ne,C,D),c(C,O,D,ne),(Z||C._context.edits.shapePosition)&&($=o(C.layout,"shapes",D)),Z){ae.style({cursor:"move"});var oe={element:ae.node(),plotinfo:z,gd:C,editHelpers:$,hasText:D.label.text||D.label.texttemplate,isActiveShape:!0},se=y(W,C);f(se,ae,oe)}else C._context.edits.shapePosition?function(ce,me,xe,ve,fe,pe){var Le,ye,Ae,Me,ke,te,ue,ge,we,Ee,Be,Re,je,he,_e,Te,Fe=xe.xsizemode==="pixel",Ye=xe.ysizemode==="pixel",Ge=xe.type==="line",ot=xe.type==="path",st=pe.modifyItem,ht=b.select(me.node().parentNode),xt=k.getFromId(ce,xe.xref),Ct=k.getRefType(xe.xref),St=k.getFromId(ce,xe.yref),kt=k.getRefType(xe.yref),Nt=p.getDataToPixel(ce,xt,!1,Ct),Dt=p.getDataToPixel(ce,St,!0,kt),Et=p.getPixelToData(ce,xt,!1,Ct),Wt=p.getPixelToData(ce,St,!0,kt),Ht=Ge?function(){var Ne=10,Qe=Math.max(xe.line.width,Ne),ut=fe.append("g").attr("data-index",ve).attr("drag-helper",!0);ut.append("path").attr("d",me.attr("d")).style({cursor:"move","stroke-width":Qe,"stroke-opacity":"0"});var pt={"fill-opacity":"0"},wt=Math.max(Qe/2,Ne);return ut.append("circle").attr({"data-line-point":"start-point",cx:Fe?Nt(xe.xanchor)+xe.x0:Nt(xe.x0),cy:Ye?Dt(xe.yanchor)-xe.y0:Dt(xe.y0),r:wt}).style(pt).classed("cursor-grab",!0),ut.append("circle").attr({"data-line-point":"end-point",cx:Fe?Nt(xe.xanchor)+xe.x1:Nt(xe.x1),cy:Ye?Dt(xe.yanchor)-xe.y1:Dt(xe.y1),r:wt}).style(pt).classed("cursor-grab",!0),ut}():me,Ke={element:Ht.node(),gd:ce,prepFn:function(Ne){x(ce)||(Fe&&(ke=Nt(xe.xanchor)),Ye&&(te=Dt(xe.yanchor)),xe.type==="path"?_e=xe.path:(Le=Fe?xe.x0:Nt(xe.x0),ye=Ye?xe.y0:Dt(xe.y0),Ae=Fe?xe.x1:Nt(xe.x1),Me=Ye?xe.y1:Dt(xe.y1)),Le<Ae?(we=Le,je="x0",Ee=Ae,he="x1"):(we=Ae,je="x1",Ee=Le,he="x0"),!Ye&&ye<Me||Ye&&ye>Me?(ue=ye,Be="y0",ge=Me,Re="y1"):(ue=Me,Be="y1",ge=ye,Re="y0"),$e(Ne),ct(fe,xe),function(Qe,ut,pt){var wt=ut.xref,Lt=ut.yref,It=k.getFromId(pt,wt),yt=k.getFromId(pt,Lt),Rt="";wt==="paper"||It.autorange||(Rt+=wt),Lt==="paper"||yt.autorange||(Rt+=Lt),s.setClipUrl(Qe,Rt?"clip"+pt._fullLayout._uid+Rt:null,pt)}(me,xe,ce),Ke.moveFn=Te==="move"?Ue:nt,Ke.altKey=Ne.altKey)},doneFn:function(){x(ce)||(r(me),Oe(fe),T(me,ce,xe),w.call("_guiRelayout",ce,pe.getUpdateObj()))},clickFn:function(){x(ce)||Oe(fe)}};function $e(Ne){if(x(ce))Te=null;else if(Ge)Te=Ne.target.tagName==="path"?"move":Ne.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Qe=Ke.element.getBoundingClientRect(),ut=Qe.right-Qe.left,pt=Qe.bottom-Qe.top,wt=Ne.clientX-Qe.left,Lt=Ne.clientY-Qe.top,It=!ot&&ut>10&&pt>10&&!Ne.shiftKey?n.getCursor(wt/ut,1-Lt/pt):"move";r(me,It),Te=It.split("-")[0]}}function Ue(Ne,Qe){if(xe.type==="path"){var ut=function(Lt){return Lt},pt=ut,wt=ut;Fe?st("xanchor",xe.xanchor=Et(ke+Ne)):(pt=function(Lt){return Et(Nt(Lt)+Ne)},xt&&xt.type==="date"&&(pt=p.encodeDate(pt))),Ye?st("yanchor",xe.yanchor=Wt(te+Qe)):(wt=function(Lt){return Wt(Dt(Lt)+Qe)},St&&St.type==="date"&&(wt=p.encodeDate(wt))),st("path",xe.path=E(_e,pt,wt))}else Fe?st("xanchor",xe.xanchor=Et(ke+Ne)):(st("x0",xe.x0=Et(Le+Ne)),st("x1",xe.x1=Et(Ae+Ne))),Ye?st("yanchor",xe.yanchor=Wt(te+Qe)):(st("y0",xe.y0=Wt(ye+Qe)),st("y1",xe.y1=Wt(Me+Qe)));me.attr("d",h(ce,xe)),ct(fe,xe),c(ce,ve,xe,ht)}function nt(Ne,Qe){if(ot){var ut=function(fn){return fn},pt=ut,wt=ut;Fe?st("xanchor",xe.xanchor=Et(ke+Ne)):(pt=function(fn){return Et(Nt(fn)+Ne)},xt&&xt.type==="date"&&(pt=p.encodeDate(pt))),Ye?st("yanchor",xe.yanchor=Wt(te+Qe)):(wt=function(fn){return Wt(Dt(fn)+Qe)},St&&St.type==="date"&&(wt=p.encodeDate(wt))),st("path",xe.path=E(_e,pt,wt))}else if(Ge){if(Te==="resize-over-start-point"){var Lt=Le+Ne,It=Ye?ye-Qe:ye+Qe;st("x0",xe.x0=Fe?Lt:Et(Lt)),st("y0",xe.y0=Ye?It:Wt(It))}else if(Te==="resize-over-end-point"){var yt=Ae+Ne,Rt=Ye?Me-Qe:Me+Qe;st("x1",xe.x1=Fe?yt:Et(yt)),st("y1",xe.y1=Ye?Rt:Wt(Rt))}}else{var bt=function(fn){return Te.indexOf(fn)!==-1},Pt=bt("n"),Bt=bt("s"),Zt=bt("w"),Yt=bt("e"),Kt=Pt?ue+Qe:ue,tn=Bt?ge+Qe:ge,on=Zt?we+Ne:we,_n=Yt?Ee+Ne:Ee;Ye&&(Pt&&(Kt=ue-Qe),Bt&&(tn=ge-Qe)),(!Ye&&tn-Kt>10||Ye&&Kt-tn>10)&&(st(Be,xe[Be]=Ye?Kt:Wt(Kt)),st(Re,xe[Re]=Ye?tn:Wt(tn))),_n-on>10&&(st(je,xe[je]=Fe?on:Et(on)),st(he,xe[he]=Fe?_n:Et(_n)))}me.attr("d",h(ce,xe)),ct(fe,xe),c(ce,ve,xe,ht)}function ct(Ne,Qe){(Fe||Ye)&&function(){var ut=Qe.type!=="path",pt=Ne.selectAll(".visual-cue").data([0]);pt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var wt=Nt(Fe?Qe.xanchor:a.midRange(ut?[Qe.x0,Qe.x1]:p.extractPathCoords(Qe.path,u.paramIsX))),Lt=Dt(Ye?Qe.yanchor:a.midRange(ut?[Qe.y0,Qe.y1]:p.extractPathCoords(Qe.path,u.paramIsY)));if(wt=p.roundPositionForSharpStrokeRendering(wt,1),Lt=p.roundPositionForSharpStrokeRendering(Lt,1),Fe&&Ye){var It="M"+(wt-1-1)+","+(Lt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";pt.attr("d",It)}else if(Fe){var yt="M"+(wt-1-1)+","+(Lt-9-1)+"v18 h2 v-18 Z";pt.attr("d",yt)}else{var Rt="M"+(wt-9-1)+","+(Lt-1-1)+"h18 v2 h-18 Z";pt.attr("d",Rt)}}()}function Oe(Ne){Ne.selectAll(".visual-cue").remove()}n.init(Ke),Ht.node().onmousemove=$e}(C,ae,D,O,F,$):D.editable===!0&&ae.style("pointer-events",J||t.opacity(H)*U<=.5?"stroke":"all");ae.node().addEventListener("click",function(){return function(ce,me){if(g(ce)){var xe=+me.node().getAttribute("data-index");if(xe>=0){if(xe===ce._fullLayout._activeShapeIndex)return void A(ce);ce._fullLayout._activeShapeIndex=xe,ce._fullLayout._deactivateShape=A,d(ce)}}}(C,ae)})}D._input&&D.visible!==!1&&(D.layer!=="below"?V(C._fullLayout._shapeUpperLayer):D.xref==="paper"||D.yref==="paper"?V(C._fullLayout._shapeLowerLayer):z._hadPlotinfo?V((z.mainplotinfo||z).shapelayer):V(C._fullLayout._shapeLowerLayer))}function T(C,O,P){var D=(P.xref+P.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(C,D?"clip"+O._fullLayout._uid+D:null,O)}function c(C,O,P,D){if(D.selectAll(".shape-label").remove(),P.label.text||P.label.texttemplate){var z;if(P.label.texttemplate){var V={};if(P.type!=="path"){var F=k.getFromId(C,P.xref),W=k.getFromId(C,P.yref);for(var B in _){var U=_[B](P,F,W);U!==void 0&&(V[B]=U)}}z=a.texttemplateStringForShapes(P.label.texttemplate,{},C._fullLayout._d3locale,V)}else z=P.label.text;var H,q,ee,K,J={"data-index":O},Z=P.label.font,$=D.append("g").attr(J).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(z);if(P.path){var ne=h(C,P),ae=y(ne,C);H=1/0,ee=1/0,q=-1/0,K=-1/0;for(var oe=0;oe<ae.length;oe++)for(var se=0;se<ae[oe].length;se++)for(var ce=ae[oe][se],me=1;me<ce.length;me+=2){var xe=ce[me],ve=ce[me+1];H=Math.min(H,xe),q=Math.max(q,xe),ee=Math.min(ee,ve),K=Math.max(K,ve)}}else{var fe=k.getFromId(C,P.xref),pe=k.getRefType(P.xref),Le=k.getFromId(C,P.yref),ye=k.getRefType(P.yref),Ae=p.getDataToPixel(C,fe,!1,pe),Me=p.getDataToPixel(C,Le,!0,ye);H=Ae(P.x0),q=Ae(P.x1),ee=Me(P.y0),K=Me(P.y1)}var ke=P.label.textangle;ke==="auto"&&(ke=P.type==="line"?function(Ee,Be,Re,je){var he,_e;return _e=Math.abs(Re-Ee),he=Re>=Ee?Be-je:je-Be,-180/Math.PI*Math.atan2(he,_e)}(H,ee,q,K):0),$.call(function(Ee){return Ee.call(s.font,Z).attr({}),i.convertToTspans(Ee,C),Ee});var te=function(Ee,Be,Re,je,he,_e,Te){var Fe,Ye,Ge,ot,st=he.label.textposition,ht=he.label.textangle,xt=he.label.padding,Ct=he.type,St=Math.PI/180*_e,kt=Math.sin(St),Nt=Math.cos(St),Dt=he.label.xanchor,Et=he.label.yanchor;if(Ct==="line"){st==="start"?(Fe=Ee,Ye=Be):st==="end"?(Fe=Re,Ye=je):(Fe=(Ee+Re)/2,Ye=(Be+je)/2),Dt==="auto"&&(Dt=st==="start"?ht==="auto"?Re>Ee?"left":Re<Ee?"right":"center":Re>Ee?"right":Re<Ee?"left":"center":st==="end"?ht==="auto"?Re>Ee?"right":Re<Ee?"left":"center":Re>Ee?"left":Re<Ee?"right":"center":"center");var Wt={bottom:-1,middle:0,top:1};if(ht==="auto"){var Ht=Wt[Et];Ge=-xt*kt*Ht,ot=xt*Nt*Ht}else Ge=xt*{left:1,center:0,right:-1}[Dt],ot=xt*Wt[Et];Fe+=Ge,Ye+=ot}else Ge=xt+3,st.indexOf("right")!==-1?(Fe=Math.max(Ee,Re)-Ge,Dt==="auto"&&(Dt="right")):st.indexOf("left")!==-1?(Fe=Math.min(Ee,Re)+Ge,Dt==="auto"&&(Dt="left")):(Fe=(Ee+Re)/2,Dt==="auto"&&(Dt="center")),Ye=st.indexOf("top")!==-1?Math.min(Be,je):st.indexOf("bottom")!==-1?Math.max(Be,je):(Be+je)/2,ot=xt,Et==="bottom"?Ye-=ot:Et==="top"&&(Ye+=ot);var Ke=m[Et],$e=he.label.font.size,Ue=Te.height;return{textx:Fe+(Ue*Ke-$e)*kt,texty:Ye+-(Ue*Ke-$e)*Nt,xanchor:Dt}}(H,ee,q,K,P,ke,s.bBox($.node())),ue=te.textx,ge=te.texty,we=te.xanchor;$.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[we],y:ge,x:ue,transform:"rotate("+ke+","+ue+","+ge+")"}).call(i.positionText,ue,ge)}}function E(C,O,P){return C.replace(u.segmentRE,function(D){var z=0,V=D.charAt(0),F=u.paramIsX[V],W=u.paramIsY[V],B=u.numParams[V];return V+D.substr(1).replace(u.paramRE,function(U){return z>=B||(F[z]?U=O(U):W[z]&&(U=P(U)),z++),U})})}function A(C){g(C)&&C._fullLayout._activeShapeIndex>=0&&(l(C),delete C._fullLayout._activeShapeIndex,d(C))}L.exports={draw:d,drawOne:v,eraseActiveShape:function(C){if(g(C)){l(C);var O=C._fullLayout._activeShapeIndex,P=(C.layout||{}).shapes||[];if(O<P.length){for(var D=[],z=0;z<P.length;z++)z!==O&&D.push(P[z]);delete C._fullLayout._activeShapeIndex,w.call("_guiRelayout",C,{shapes:D})}}},drawLabel:c}},29241:function(L,M,e){"use strict";var b=e(41940),w=e(79952).P,a=e(1426).extendFlat,k=e(5386).R,y=e(37281);L.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:a({},w,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:k({newshape:!0,editType:"none"},{keys:Object.keys(y)}),font:b({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(L){"use strict";L.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(L,M,e){"use strict";var b=e(7901),w=e(71828);L.exports=function(a,k,y){if(y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity"),y("newshape.line.width")){var f=(a||{}).plot_bgcolor||"#FFF";y("newshape.line.color",b.contrast(f)),y("newshape.line.dash")}var l=a.dragmode==="drawline",t=y("newshape.label.text"),s=y("newshape.label.texttemplate");if(t||s){y("newshape.label.textangle");var o=y("newshape.label.textposition",l?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",function(n,r){return n?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}(l,o)),y("newshape.label.padding"),w.coerceFont(y,"newshape.label.font",k.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},60165:function(L,M,e){"use strict";var b=e(95616),w=e(89995),a=w.CIRCLE_SIDES,k=w.SQRT2,y=e(75549),f=y.p2r,l=y.r2p,t=[0,3,4,5,6,1,2],s=[0,3,4,1,2];function o(r,i){return Math.abs(r-i)<=1e-6}function n(r,i){var u=i[1]-r[1],p=i[2]-r[2];return Math.sqrt(u*u+p*p)}M.writePaths=function(r){var i=r.length;if(!i)return"M0,0Z";for(var u="",p=0;p<i;p++)for(var h=r[p].length,_=0;_<h;_++){var m=r[p][_][0];if(m==="Z")u+="Z";else for(var d=r[p][_].length,x=0;x<d;x++){var g=x;m==="Q"||m==="S"?g=s[x]:m==="C"&&(g=t[x]),u+=r[p][_][g],x>0&&x<d-1&&(u+=",")}}return u},M.readPaths=function(r,i,u,p){var h,_,m,d=b(r),x=[],g=-1,v=0,T=0,c=function(){_=v,m=T};c();for(var E=0;E<d.length;E++){var A,C,O,P,D=[],z=d[E][0],V=z;switch(z){case"M":x[++g]=[],v=+d[E][1],T=+d[E][2],D.push([V,v,T]),c();break;case"Q":case"S":A=+d[E][1],O=+d[E][2],v=+d[E][3],T=+d[E][4],D.push([V,v,T,A,O]);break;case"C":A=+d[E][1],O=+d[E][2],C=+d[E][3],P=+d[E][4],v=+d[E][5],T=+d[E][6],D.push([V,v,T,A,O,C,P]);break;case"T":case"L":v=+d[E][1],T=+d[E][2],D.push([V,v,T]);break;case"H":V="L",v=+d[E][1],D.push([V,v,T]);break;case"V":V="L",T=+d[E][1],D.push([V,v,T]);break;case"A":V="L";var F=+d[E][1],W=+d[E][2];+d[E][4]||(F=-F,W=-W);var B=v-F,U=T;for(h=1;h<=a/2;h++){var H=2*Math.PI*h/a;D.push([V,B+F*Math.cos(H),U+W*Math.sin(H)])}break;case"Z":v===_&&T===m||(v=_,T=m,D.push([V,v,T]))}for(var q=(u||{}).domain,ee=i._fullLayout._size,K=u&&u.xsizemode==="pixel",J=u&&u.ysizemode==="pixel",Z=p===!1,$=0;$<D.length;$++){for(h=0;h+2<7;h+=2){var ne=D[$][h+1],ae=D[$][h+2];ne!==void 0&&ae!==void 0&&(v=ne,T=ae,u&&(u.xaxis&&u.xaxis.p2r?(Z&&(ne-=u.xaxis._offset),ne=K?l(u.xaxis,u.xanchor)+ne:f(u.xaxis,ne)):(Z&&(ne-=ee.l),q?ne=q.x[0]+ne/ee.w:ne/=ee.w),u.yaxis&&u.yaxis.p2r?(Z&&(ae-=u.yaxis._offset),ae=J?l(u.yaxis,u.yanchor)-ae:f(u.yaxis,ae)):(Z&&(ae-=ee.t),ae=q?q.y[1]-ae/ee.h:1-ae/ee.h)),D[$][h+1]=ne,D[$][h+2]=ae)}x[g].push(D[$].slice())}}return x},M.pointsOnRectangle=function(r){if(r.length!==5)return!1;for(var i=1;i<3;i++)if(!o(r[0][i]-r[1][i],r[3][i]-r[2][i])||!o(r[0][i]-r[3][i],r[1][i]-r[2][i]))return!1;return!(!o(r[0][1],r[1][1])&&!o(r[0][1],r[3][1])||!(n(r[0],r[1])*n(r[0],r[3])))},M.pointsOnEllipse=function(r){var i=r.length;if(i!==a+1)return!1;i=a;for(var u=0;u<i;u++){var p=(2*i-u)%i,h=(i/2+p)%i,_=(i/2+u)%i;if(!o(n(r[u],r[_]),n(r[p],r[h])))return!1}return!0},M.handleEllipse=function(r,i,u){if(!r)return[i,u];var p=M.ellipseOver({x0:i[0],y0:i[1],x1:u[0],y1:u[1]}),h=(p.x1+p.x0)/2,_=(p.y1+p.y0)/2,m=(p.x1-p.x0)/2,d=(p.y1-p.y0)/2;m||(m=d/=k),d||(d=m/=k);for(var x=[],g=0;g<a;g++){var v=2*g*Math.PI/a;x.push([h+m*Math.cos(v),_+d*Math.sin(v)])}return x},M.ellipseOver=function(r){var i=r.x0,u=r.y0,p=r.x1,h=r.y1,_=p-i,m=h-u,d=((i-=_)+p)/2,x=((u-=m)+h)/2;return{x0:d-(_*=k),y0:x-(m*=k),x1:d+_,y1:x+m}},M.fixDatesForPaths=function(r,i,u){var p=i.type==="date",h=u.type==="date";if(!p&&!h)return r;for(var _=0;_<r.length;_++)for(var m=0;m<r[_].length;m++)for(var d=0;d+2<r[_][m].length;d+=2)p&&(r[_][m][d+1]=r[_][m][d+1].replace(" ","_")),h&&(r[_][m][d+2]=r[_][m][d+2].replace(" ","_"));return r}},90551:function(L,M,e){"use strict";var b=e(64505),w=b.drawMode,a=b.openMode,k=e(89995),y=k.i000,f=k.i090,l=k.i180,t=k.i270,s=k.cos45,o=k.sin45,n=e(75549),r=n.p2r,i=n.r2p,u=e(51873).clearOutline,p=e(60165),h=p.readPaths,_=p.writePaths,m=p.ellipseOver,d=p.fixDatesForPaths;L.exports=function(x,g){if(x.length){var v=x[0][0];if(v){var T=v.getAttribute("d"),c=g.gd,E=c._fullLayout.newshape,A=g.plotinfo,C=A.xaxis,O=A.yaxis,P=!!A.domain||!A.xaxis,D=!!A.domain||!A.yaxis,z=g.isActiveShape,V=g.dragmode,F=(c.layout||{}).shapes||[];if(!w(V)&&z!==void 0){var W=c._fullLayout._activeShapeIndex;if(W<F.length)switch(c._fullLayout.shapes[W].type){case"rect":V="drawrect";break;case"circle":V="drawcircle";break;case"line":V="drawline";break;case"path":var B=F[W].path||"";V=B[B.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var U,H=a(V),q=h(T,c,A,z),ee={editable:!0,label:E.label,xref:P?"paper":C._id,yref:D?"paper":O._id,layer:E.layer,opacity:E.opacity,line:{color:E.line.color,width:E.line.width,dash:E.line.dash}};if(H||(ee.fillcolor=E.fillcolor,ee.fillrule=E.fillrule),q.length===1&&(U=q[0]),U&&U.length===5&&V==="drawrect")ee.type="rect",ee.x0=U[0][1],ee.y0=U[0][2],ee.x1=U[2][1],ee.y1=U[2][2];else if(U&&V==="drawline")ee.type="line",ee.x0=U[0][1],ee.y0=U[0][2],ee.x1=U[1][1],ee.y1=U[1][2];else if(U&&V==="drawcircle"){ee.type="circle";var K=U[y][1],J=U[f][1],Z=U[l][1],$=U[t][1],ne=U[y][2],ae=U[f][2],oe=U[l][2],se=U[t][2],ce=A.xaxis&&(A.xaxis.type==="date"||A.xaxis.type==="log"),me=A.yaxis&&(A.yaxis.type==="date"||A.yaxis.type==="log");ce&&(K=i(A.xaxis,K),J=i(A.xaxis,J),Z=i(A.xaxis,Z),$=i(A.xaxis,$)),me&&(ne=i(A.yaxis,ne),ae=i(A.yaxis,ae),oe=i(A.yaxis,oe),se=i(A.yaxis,se));var xe=(J+$)/2,ve=(ne+oe)/2,fe=m({x0:xe,y0:ve,x1:xe+($-J+Z-K)/2*s,y1:ve+(se-ae+oe-ne)/2*o});ce&&(fe.x0=r(A.xaxis,fe.x0),fe.x1=r(A.xaxis,fe.x1)),me&&(fe.y0=r(A.yaxis,fe.y0),fe.y1=r(A.yaxis,fe.y1)),ee.x0=fe.x0,ee.y0=fe.y0,ee.x1=fe.x1,ee.y1=fe.y1}else ee.type="path",C&&O&&d(q,C,O),ee.path=_(q),U=null;u(c);for(var pe=g.editHelpers,Le=(pe||{}).modifyItem,ye=[],Ae=0;Ae<F.length;Ae++){var Me=c._fullLayout.shapes[Ae];if(ye[Ae]=Me._input,z!==void 0&&Ae===c._fullLayout._activeShapeIndex){var ke=ee;switch(Me.type){case"line":case"rect":case"circle":Le("x0",ke.x0),Le("x1",ke.x1),Le("y0",ke.y0),Le("y1",ke.y1);break;case"path":Le("path",ke.path)}}}return z===void 0?(ye.push(ee),ye):pe?pe.getUpdateObj():{}}}}},51873:function(L){"use strict";L.exports={clearOutlineControllers:function(M){var e=M._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(M){var e=M._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),M._fullLayout._outlining=!1}}},30477:function(L,M,e){"use strict";var b=e(21459),w=e(71828),a=e(89298);M.rangeToShapePosition=function(k){return k.type==="log"?k.r2d:function(y){return y}},M.shapePositionToRange=function(k){return k.type==="log"?k.d2r:function(y){return y}},M.decodeDate=function(k){return function(y){return y.replace&&(y=y.replace("_"," ")),k(y)}},M.encodeDate=function(k){return function(y){return k(y).replace(" ","_")}},M.extractPathCoords=function(k,y,f){var l=[];return k.match(b.segmentRE).forEach(function(t){var s=y[t.charAt(0)].drawn;if(s!==void 0){var o=t.substr(1).match(b.paramRE);if(o&&!(o.length<s)){var n=o[s],r=f?n:w.cleanNumber(n);l.push(r)}}}),l},M.getDataToPixel=function(k,y,f,l){var t,s=k._fullLayout._size;if(y)if(l==="domain")t=function(n){return y._length*(f?1-n:n)+y._offset};else{var o=M.shapePositionToRange(y);t=function(n){return y._offset+y.r2p(o(n,!0))},y.type==="date"&&(t=M.decodeDate(t))}else t=f?function(n){return s.t+s.h*(1-n)}:function(n){return s.l+s.w*n};return t},M.getPixelToData=function(k,y,f,l){var t,s=k._fullLayout._size;if(y)if(l==="domain")t=function(n){var r=(n-y._offset)/y._length;return f?1-r:r};else{var o=M.rangeToShapePosition(y);t=function(n){return o(y.p2r(n-y._offset))}}else t=f?function(n){return 1-(n-s.t)/s.h}:function(n){return(n-s.l)/s.w};return t},M.roundPositionForSharpStrokeRendering=function(k,y){var f=Math.round(y%2)===1,l=Math.round(k);return f?l+.5:l},M.makeShapesOptionsAndPlotinfo=function(k,y){var f=k._fullLayout.shapes[y]||{},l=k._fullLayout._plots[f.xref+f.yref];return l?l._hadPlotinfo=!0:(l={},f.xref&&f.xref!=="paper"&&(l.xaxis=k._fullLayout[f.xref+"axis"]),f.yref&&f.yref!=="paper"&&(l.yaxis=k._fullLayout[f.yref+"axis"])),l.xsizemode=f.xsizemode,l.ysizemode=f.ysizemode,l.xanchor=f.xanchor,l.yanchor=f.yanchor,{options:f,plotinfo:l}},M.makeSelectionsOptionsAndPlotinfo=function(k,y){var f=k._fullLayout.selections[y]||{},l=k._fullLayout._plots[f.xref+f.yref];return l?l._hadPlotinfo=!0:(l={},f.xref&&(l.xaxis=k._fullLayout[f.xref+"axis"]),f.yref&&(l.yaxis=k._fullLayout[f.yref+"axis"])),{options:f,plotinfo:l}},M.getPathString=function(k,y){var f,l,t,s,o,n,r,i,u=y.type,p=a.getRefType(y.xref),h=a.getRefType(y.yref),_=a.getFromId(k,y.xref),m=a.getFromId(k,y.yref),d=k._fullLayout._size;if(_?p==="domain"?l=function(O){return _._offset+_._length*O}:(f=M.shapePositionToRange(_),l=function(O){return _._offset+_.r2p(f(O,!0))}):l=function(O){return d.l+d.w*O},m?h==="domain"?s=function(O){return m._offset+m._length*(1-O)}:(t=M.shapePositionToRange(m),s=function(O){return m._offset+m.r2p(t(O,!0))}):s=function(O){return d.t+d.h*(1-O)},u==="path")return _&&_.type==="date"&&(l=M.decodeDate(l)),m&&m.type==="date"&&(s=M.decodeDate(s)),function(O,P,D){var z=O.path,V=O.xsizemode,F=O.ysizemode,W=O.xanchor,B=O.yanchor;return z.replace(b.segmentRE,function(U){var H=0,q=U.charAt(0),ee=b.paramIsX[q],K=b.paramIsY[q],J=b.numParams[q],Z=U.substr(1).replace(b.paramRE,function($){return ee[H]?$=V==="pixel"?P(W)+Number($):P($):K[H]&&($=F==="pixel"?D(B)-Number($):D($)),++H>J&&($="X"),$});return H>J&&(Z=Z.replace(/[\s,]*X.*/,""),w.log("Ignoring extra params in segment "+U)),q+Z})}(y,l,s);if(y.xsizemode==="pixel"){var x=l(y.xanchor);o=x+y.x0,n=x+y.x1}else o=l(y.x0),n=l(y.x1);if(y.ysizemode==="pixel"){var g=s(y.yanchor);r=g-y.y0,i=g-y.y1}else r=s(y.y0),i=s(y.y1);if(u==="line")return"M"+o+","+r+"L"+n+","+i;if(u==="rect")return"M"+o+","+r+"H"+n+"V"+i+"H"+o+"Z";var v=(o+n)/2,T=(r+i)/2,c=Math.abs(v-o),E=Math.abs(T-r),A="A"+c+","+E,C=v+c+","+T;return"M"+C+A+" 0 1,1 "+v+","+(T-E)+A+" 0 0,1 "+C+"Z"}},89853:function(L,M,e){"use strict";var b=e(34031);L.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:b.draw,drawOne:b.drawOne}},37281:function(L){"use strict";function M(a,k){return k?k.d2l(a):a}function e(a,k){return k?k.l2d(a):a}function b(a,k){return M(a.x1,k)-M(a.x0,k)}function w(a,k,y){return M(a.y1,y)-M(a.y0,y)}L.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,k,y){return a.type!=="line"?void 0:w(a,0,y)/b(a,k)},dx:b,dy:w,width:function(a,k){return Math.abs(b(a,k))},height:function(a,k,y){return Math.abs(w(a,0,y))},length:function(a,k,y){return a.type!=="line"?void 0:Math.sqrt(Math.pow(b(a,k),2)+Math.pow(w(a,0,y),2))},xcenter:function(a,k){return e((M(a.x1,k)+M(a.x0,k))/2,k)},ycenter:function(a,k,y){return e((M(a.y1,y)+M(a.y0,y))/2,y)}}},75067:function(L,M,e){"use strict";var b=e(41940),w=e(35025),a=e(1426).extendDeepAll,k=e(30962).overrideAll,y=e(85594),f=e(44467).templatedArray,l=e(98292),t=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});L.exports=k(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(w({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:y.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:b({})},font:b({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")},98292:function(L){"use strict";L.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(L,M,e){"use strict";var b=e(71828),w=e(85501),a=e(75067),k=e(98292).name,y=a.steps;function f(t,s,o){function n(h,_){return b.coerce(t,s,a,h,_)}for(var r=w(t,s,{name:"steps",handleItemDefaults:l}),i=0,u=0;u<r.length;u++)r[u].visible&&i++;if(i<2?s.visible=!1:n("visible")){s._stepCount=i;var p=s._visibleSteps=b.filterVisible(r);(r[n("active")]||{}).visible||(s.active=p[0]._index),n("x"),n("y"),b.noneOrAll(t,s,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),b.coerceFont(n,"font",o.font),n("currentvalue.visible")&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),b.coerceFont(n,"currentvalue.font",s.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function l(t,s){function o(r,i){return b.coerce(t,s,y,r,i)}if(t.method==="skip"||Array.isArray(t.args)?o("visible"):s.visible=!1){o("method"),o("args");var n=o("label","step-"+s._index);o("value",n),o("execute")}}L.exports=function(t,s){w(t,s,{name:k,handleItemDefaults:f})}},44504:function(L,M,e){"use strict";var b=e(39898),w=e(74875),a=e(7901),k=e(91424),y=e(71828),f=y.strTranslate,l=e(63893),t=e(44467).arrayEditor,s=e(98292),o=e(18783),n=o.LINE_SPACING,r=o.FROM_TL,i=o.FROM_BR;function u(D){return s.autoMarginIdRoot+D._index}function p(D){return D._index}function h(D,z){var V=k.tester.selectAll("g."+s.labelGroupClass).data(z._visibleSteps);V.enter().append("g").classed(s.labelGroupClass,!0);var F=0,W=0;V.each(function($){var ne=d(b.select(this),{step:$},z).node();if(ne){var ae=k.bBox(ne);W=Math.max(W,ae.height),F=Math.max(F,ae.width)}}),V.remove();var B=z._dims={};B.inputAreaWidth=Math.max(s.railWidth,s.gripHeight);var U=D._fullLayout._size;B.lx=U.l+U.w*z.x,B.ly=U.t+U.h*(1-z.y),z.lenmode==="fraction"?B.outerLength=Math.round(U.w*z.len):B.outerLength=z.len,B.inputAreaStart=0,B.inputAreaLength=Math.round(B.outerLength-z.pad.l-z.pad.r);var H=(B.inputAreaLength-2*s.stepInset)/(z._stepCount-1),q=F+s.labelPadding;if(B.labelStride=Math.max(1,Math.ceil(q/H)),B.labelHeight=W,B.currentValueMaxWidth=0,B.currentValueHeight=0,B.currentValueTotalHeight=0,B.currentValueMaxLines=1,z.currentvalue.visible){var ee=k.tester.append("g");V.each(function($){var ne=_(ee,z,$.label),ae=ne.node()&&k.bBox(ne.node())||{width:0,height:0},oe=l.lineCount(ne);B.currentValueMaxWidth=Math.max(B.currentValueMaxWidth,Math.ceil(ae.width)),B.currentValueHeight=Math.max(B.currentValueHeight,Math.ceil(ae.height)),B.currentValueMaxLines=Math.max(B.currentValueMaxLines,oe)}),B.currentValueTotalHeight=B.currentValueHeight+z.currentvalue.offset,ee.remove()}B.height=B.currentValueTotalHeight+s.tickOffset+z.ticklen+s.labelOffset+B.labelHeight+z.pad.t+z.pad.b;var K="left";y.isRightAnchor(z)&&(B.lx-=B.outerLength,K="right"),y.isCenterAnchor(z)&&(B.lx-=B.outerLength/2,K="center");var J="top";y.isBottomAnchor(z)&&(B.ly-=B.height,J="bottom"),y.isMiddleAnchor(z)&&(B.ly-=B.height/2,J="middle"),B.outerLength=Math.ceil(B.outerLength),B.height=Math.ceil(B.height),B.lx=Math.round(B.lx),B.ly=Math.round(B.ly);var Z={y:z.y,b:B.height*i[J],t:B.height*r[J]};z.lenmode==="fraction"?(Z.l=0,Z.xl=z.x-z.len*r[K],Z.r=0,Z.xr=z.x+z.len*i[K]):(Z.x=z.x,Z.l=B.outerLength*r[K],Z.r=B.outerLength*i[K]),w.autoMargin(D,u(z),Z)}function _(D,z,V){if(z.currentvalue.visible){var F,W,B=z._dims;switch(z.currentvalue.xanchor){case"right":F=B.inputAreaLength-s.currentValueInset-B.currentValueMaxWidth,W="left";break;case"center":F=.5*B.inputAreaLength,W="middle";break;default:F=s.currentValueInset,W="left"}var U=y.ensureSingle(D,"text",s.labelClass,function(Z){Z.attr({"text-anchor":W,"data-notex":1})}),H=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof V=="string")H+=V;else{var q=z.steps[z.active].label,ee=z._gd._fullLayout._meta;ee&&(q=y.templateString(q,ee)),H+=q}z.currentvalue.suffix&&(H+=z.currentvalue.suffix),U.call(k.font,z.currentvalue.font).text(H).call(l.convertToTspans,z._gd);var K=l.lineCount(U),J=(B.currentValueMaxLines+1-K)*z.currentvalue.font.size*n;return l.positionText(U,F,J),U}}function m(D,z,V){y.ensureSingle(D,"rect",s.gripRectClass,function(F){F.call(T,z,D,V).style("pointer-events","all")}).attr({width:s.gripWidth,height:s.gripHeight,rx:s.gripRadius,ry:s.gripRadius}).call(a.stroke,V.bordercolor).call(a.fill,V.bgcolor).style("stroke-width",V.borderwidth+"px")}function d(D,z,V){var F=y.ensureSingle(D,"text",s.labelClass,function(U){U.attr({"text-anchor":"middle","data-notex":1})}),W=z.step.label,B=V._gd._fullLayout._meta;return B&&(W=y.templateString(W,B)),F.call(k.font,V.font).text(W).call(l.convertToTspans,V._gd),F}function x(D,z){var V=y.ensureSingle(D,"g",s.labelsClass),F=z._dims,W=V.selectAll("g."+s.labelGroupClass).data(F.labelSteps);W.enter().append("g").classed(s.labelGroupClass,!0),W.exit().remove(),W.each(function(B){var U=b.select(this);U.call(d,B,z),k.setTranslate(U,A(z,B.fraction),s.tickOffset+z.ticklen+z.font.size*n+s.labelOffset+F.currentValueTotalHeight)})}function g(D,z,V,F,W){var B=Math.round(F*(V._stepCount-1)),U=V._visibleSteps[B]._index;U!==V.active&&v(D,z,V,U,!0,W)}function v(D,z,V,F,W,B){var U=V.active;V.active=F,t(D.layout,s.name,V).applyUpdate("active",F);var H=V.steps[V.active];z.call(E,V,B),z.call(_,V),D.emit("plotly_sliderchange",{slider:V,step:V.steps[V.active],interaction:W,previousActive:U}),H&&H.method&&W&&(z._nextMethod?(z._nextMethod.step=H,z._nextMethod.doCallback=W,z._nextMethod.doTransition=B):(z._nextMethod={step:H,doCallback:W,doTransition:B},z._nextMethodRaf=window.requestAnimationFrame(function(){var q=z._nextMethod.step;q.method&&(q.execute&&w.executeAPICommand(D,q.method,q.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function T(D,z,V){if(!z._context.staticPlot){var F=V.node(),W=b.select(z);D.on("mousedown",U),D.on("touchstart",U)}function B(){return V.data()[0]}function U(){var H=B();z.emit("plotly_sliderstart",{slider:H});var q=V.select("."+s.gripRectClass);b.event.stopPropagation(),b.event.preventDefault(),q.call(a.fill,H.activebgcolor);var ee=C(H,b.mouse(F)[0]);function K(){var Z=B(),$=C(Z,b.mouse(F)[0]);g(z,V,Z,$,!1)}function J(){var Z=B();Z._dragging=!1,q.call(a.fill,Z.bgcolor),W.on("mouseup",null),W.on("mousemove",null),W.on("touchend",null),W.on("touchmove",null),z.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}g(z,V,H,ee,!0),H._dragging=!0,W.on("mousemove",K),W.on("touchmove",K),W.on("mouseup",J),W.on("touchend",J)}}function c(D,z){var V=D.selectAll("rect."+s.tickRectClass).data(z._visibleSteps),F=z._dims;V.enter().append("rect").classed(s.tickRectClass,!0),V.exit().remove(),V.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),V.each(function(W,B){var U=B%F.labelStride==0,H=b.select(this);H.attr({height:U?z.ticklen:z.minorticklen}).call(a.fill,z.tickcolor),k.setTranslate(H,A(z,B/(z._stepCount-1))-.5*z.tickwidth,(U?s.tickOffset:s.minorTickOffset)+F.currentValueTotalHeight)})}function E(D,z,V){for(var F=D.select("rect."+s.gripRectClass),W=0,B=0;B<z._stepCount;B++)if(z._visibleSteps[B]._index===z.active){W=B;break}var U=A(z,W/(z._stepCount-1));if(!z._invokingCommand){var H=F;V&&z.transition.duration>0&&(H=H.transition().duration(z.transition.duration).ease(z.transition.easing)),H.attr("transform",f(U-.5*s.gripWidth,z._dims.currentValueTotalHeight))}}function A(D,z){var V=D._dims;return V.inputAreaStart+s.stepInset+(V.inputAreaLength-2*s.stepInset)*Math.min(1,Math.max(0,z))}function C(D,z){var V=D._dims;return Math.min(1,Math.max(0,(z-s.stepInset-V.inputAreaStart)/(V.inputAreaLength-2*s.stepInset-2*V.inputAreaStart)))}function O(D,z,V){var F=V._dims,W=y.ensureSingle(D,"rect",s.railTouchRectClass,function(B){B.call(T,z,D,V).style("pointer-events","all")});W.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,s.tickOffset+V.ticklen+F.labelHeight)}).call(a.fill,V.bgcolor).attr("opacity",0),k.setTranslate(W,0,F.currentValueTotalHeight)}function P(D,z){var V=z._dims,F=V.inputAreaLength-2*s.railInset,W=y.ensureSingle(D,"rect",s.railRectClass);W.attr({width:F,height:s.railWidth,rx:s.railRadius,ry:s.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),k.setTranslate(W,s.railInset,.5*(V.inputAreaWidth-s.railWidth)+V.currentValueTotalHeight)}L.exports=function(D){var z=D._context.staticPlot,V=D._fullLayout,F=function(ee,K){for(var J=ee[s.name],Z=[],$=0;$<J.length;$++){var ne=J[$];ne.visible&&(ne._gd=K,Z.push(ne))}return Z}(V,D),W=V._infolayer.selectAll("g."+s.containerClassName).data(F.length>0?[0]:[]);function B(ee){ee._commandObserver&&(ee._commandObserver.remove(),delete ee._commandObserver),w.autoMargin(D,u(ee))}if(W.enter().append("g").classed(s.containerClassName,!0).style("cursor",z?null:"ew-resize"),W.exit().each(function(){b.select(this).selectAll("g."+s.groupClassName).each(B)}).remove(),F.length!==0){var U=W.selectAll("g."+s.groupClassName).data(F,p);U.enter().append("g").classed(s.groupClassName,!0),U.exit().each(B).remove();for(var H=0;H<F.length;H++){var q=F[H];h(D,q)}U.each(function(ee){var K=b.select(this);(function(J){var Z=J._dims;Z.labelSteps=[];for(var $=J._stepCount,ne=0;ne<$;ne+=Z.labelStride)Z.labelSteps.push({fraction:ne/($-1),step:J._visibleSteps[ne]})})(ee),w.manageCommandObserver(D,ee,ee._visibleSteps,function(J){var Z=K.data()[0];Z.active!==J.index&&(Z._dragging||v(D,K,Z,J.index,!1,!0))}),function(J,Z,$){($.steps[$.active]||{}).visible||($.active=$._visibleSteps[0]._index),Z.call(_,$).call(P,$).call(x,$).call(c,$).call(O,J,$).call(m,J,$);var ne=$._dims;k.setTranslate(Z,ne.lx+$.pad.l,ne.ly+$.pad.t),Z.call(E,$,!1),Z.call(_,$)}(D,b.select(this),ee)})}}},23243:function(L,M,e){"use strict";var b=e(98292);L.exports={moduleType:"component",name:b.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(74875),k=e(73972),y=e(71828),f=y.strTranslate,l=e(91424),t=e(7901),s=e(63893),o=e(37822),n=e(18783).OPPOSITE_SIDE,r=/ [XY][0-9]* /;L.exports={draw:function(i,u,p){var h,_=p.propContainer,m=p.propName,d=p.placeholder,x=p.traceIndex,g=p.avoid||{},v=p.attributes,T=p.transform,c=p.containerGroup,E=i._fullLayout,A=1,C=!1,O=_.title,P=(O&&O.text?O.text:"").trim(),D=O&&O.font?O.font:{},z=D.family,V=D.size,F=D.color;m==="title.text"?h="titleText":m.indexOf("axis")!==-1?h="axisTitleText":m.indexOf(!0)&&(h="colorbarTitleText");var W=i._context.edits[h];P===""?A=0:P.replace(r," % ")===d.replace(r," % ")&&(A=.2,C=!0,W||(P="")),p._meta?P=y.templateString(P,p._meta):E._meta&&(P=y.templateString(P,E._meta));var B,U=P||W;c||(c=y.ensureSingle(E._infolayer,"g","g-"+u),B=E._hColorbarMoveTitle);var H=c.selectAll("text").data(U?[0]:[]);if(H.enter().append("text"),H.text(P).attr("class",u),H.exit().remove(),!U)return c;function q(J){y.syncOrAsync([ee,K],J)}function ee(J){var Z;return!T&&B&&(T={}),T?(Z="",T.rotate&&(Z+="rotate("+[T.rotate,v.x,v.y]+")"),(T.offset||B)&&(Z+=f(0,(T.offset||0)-(B||0)))):Z=null,J.attr("transform",Z),J.style({"font-family":z,"font-size":b.round(V,2)+"px",fill:t.rgb(F),opacity:A*t.opacity(F),"font-weight":a.fontWeight}).attr(v).call(s.convertToTspans,i),a.previousPromises(i)}function K(J){var Z=b.select(J.node().parentNode);if(g&&g.selection&&g.side&&P){Z.attr("transform",null);var $=n[g.side],ne=g.side==="left"||g.side==="top"?-1:1,ae=w(g.pad)?g.pad:2,oe=l.bBox(Z.node()),se={t:0,b:0,l:0,r:0},ce=i._fullLayout._reservedMargin;for(var me in ce)for(var xe in ce[me]){var ve=ce[me][xe];se[xe]=Math.max(se[xe],ve)}var fe={left:se.l,top:se.t,right:E.width-se.r,bottom:E.height-se.b},pe=g.maxShift||ne*(fe[g.side]-oe[g.side]),Le=0;if(pe<0)Le=pe;else{var ye=g.offsetLeft||0,Ae=g.offsetTop||0;oe.left-=ye,oe.right-=ye,oe.top-=Ae,oe.bottom-=Ae,g.selection.each(function(){var ke=l.bBox(this);y.bBoxIntersect(oe,ke,ae)&&(Le=Math.max(Le,ne*(ke[g.side]-oe[$])+ae))}),Le=Math.min(pe,Le),_._titleScoot=Math.abs(Le)}if(Le>0||pe<0){var Me={left:[-Le,0],right:[Le,0],top:[0,-Le],bottom:[0,Le]}[g.side];Z.attr("transform",f(Me[0],Me[1]))}}}return H.call(q),W&&(P?H.on(".opacity",null):(A=0,C=!0,H.text(d).on("mouseover.opacity",function(){b.select(this).transition().duration(o.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){b.select(this).transition().duration(o.HIDE_PLACEHOLDER).style("opacity",0)})),H.call(s.makeEditable,{gd:i}).on("edit",function(J){x!==void 0?k.call("_guiRestyle",i,m,J,x):k.call("_guiRelayout",i,m,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(J){this.text(J||" ").call(s.positionText,v.x,v.y)})),H.classed("js-placeholder",C),c}}},7163:function(L,M,e){"use strict";var b=e(41940),w=e(22399),a=e(1426).extendFlat,k=e(30962).overrideAll,y=e(35025),f=e(44467).templatedArray,l=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});L.exports=k(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(y({editType:"arraydraw"}),{}),font:b({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:w.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(L){"use strict";L.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},64897:function(L,M,e){"use strict";var b=e(71828),w=e(85501),a=e(7163),k=e(75909).name,y=a.buttons;function f(t,s,o){function n(r,i){return b.coerce(t,s,a,r,i)}n("visible",w(t,s,{name:"buttons",handleItemDefaults:l}).length>0)&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),b.noneOrAll(t,s,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),b.coerceFont(n,"font",o.font),n("bgcolor",o.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function l(t,s){function o(n,r){return b.coerce(t,s,y,n,r)}o("visible",t.method==="skip"||Array.isArray(t.args))&&(o("method"),o("args"),o("args2"),o("label"),o("execute"))}L.exports=function(t,s){w(t,s,{name:k,handleItemDefaults:f})}},13689:function(L,M,e){"use strict";var b=e(39898),w=e(74875),a=e(7901),k=e(91424),y=e(71828),f=e(63893),l=e(44467).arrayEditor,t=e(18783).LINE_SPACING,s=e(75909),o=e(25849);function n(A){return A._index}function r(A,C){return+A.attr(s.menuIndexAttrName)===C._index}function i(A,C,O,P,D,z,V,F){C.active=V,l(A.layout,s.name,C).applyUpdate("active",V),C.type==="buttons"?p(A,P,null,null,C):C.type==="dropdown"&&(D.attr(s.menuIndexAttrName,"-1"),u(A,P,D,z,C),F||p(A,P,D,z,C))}function u(A,C,O,P,D){var z=y.ensureSingle(C,"g",s.headerClassName,function(H){H.style("pointer-events","all")}),V=D._dims,F=D.active,W=D.buttons[F]||s.blankHeaderOpts,B={y:D.pad.t,yPad:0,x:D.pad.l,xPad:0,index:0},U={width:V.headerWidth,height:V.headerHeight};z.call(h,D,W,A).call(c,D,B,U),y.ensureSingle(C,"text",s.headerArrowClassName,function(H){H.attr("text-anchor","end").call(k.font,D.font).text(s.arrowSymbol[D.direction])}).attr({x:V.headerWidth-s.arrowOffsetX+D.pad.l,y:V.headerHeight/2+s.textOffsetY+D.pad.t}),z.on("click",function(){O.call(E,String(r(O,D)?-1:D._index)),p(A,C,O,P,D)}),z.on("mouseover",function(){z.call(x)}),z.on("mouseout",function(){z.call(g,D)}),k.setTranslate(C,V.lx,V.ly)}function p(A,C,O,P,D){O||(O=C).attr("pointer-events","all");var z=function(Z){return+Z.attr(s.menuIndexAttrName)==-1}(O)&&D.type!=="buttons"?[]:D.buttons,V=D.type==="dropdown"?s.dropdownButtonClassName:s.buttonClassName,F=O.selectAll("g."+V).data(y.filterVisible(z)),W=F.enter().append("g").classed(V,!0),B=F.exit();D.type==="dropdown"?(W.attr("opacity","0").transition().attr("opacity","1"),B.transition().attr("opacity","0").remove()):B.remove();var U=0,H=0,q=D._dims,ee=["up","down"].indexOf(D.direction)!==-1;D.type==="dropdown"&&(ee?H=q.headerHeight+s.gapButtonHeader:U=q.headerWidth+s.gapButtonHeader),D.type==="dropdown"&&D.direction==="up"&&(H=-s.gapButtonHeader+s.gapButton-q.openHeight),D.type==="dropdown"&&D.direction==="left"&&(U=-s.gapButtonHeader+s.gapButton-q.openWidth);var K={x:q.lx+U+D.pad.l,y:q.ly+H+D.pad.t,yPad:s.gapButton,xPad:s.gapButton,index:0},J={l:K.x+D.borderwidth,t:K.y+D.borderwidth};F.each(function(Z,$){var ne=b.select(this);ne.call(h,D,Z,A).call(c,D,K),ne.on("click",function(){b.event.defaultPrevented||(Z.execute&&(Z.args2&&D.active===$?(i(A,D,0,C,O,P,-1),w.executeAPICommand(A,Z.method,Z.args2)):(i(A,D,0,C,O,P,$),w.executeAPICommand(A,Z.method,Z.args))),A.emit("plotly_buttonclicked",{menu:D,button:Z,active:D.active}))}),ne.on("mouseover",function(){ne.call(x)}),ne.on("mouseout",function(){ne.call(g,D),F.call(d,D)})}),F.call(d,D),ee?(J.w=Math.max(q.openWidth,q.headerWidth),J.h=K.y-J.t):(J.w=K.x-J.l,J.h=Math.max(q.openHeight,q.headerHeight)),J.direction=D.direction,P&&(F.size()?function(Z,$,ne,ae,oe,se){var ce,me,xe,ve=oe.direction,fe=ve==="up"||ve==="down",pe=oe._dims,Le=oe.active;if(fe)for(me=0,xe=0;xe<Le;xe++)me+=pe.heights[xe]+s.gapButton;else for(ce=0,xe=0;xe<Le;xe++)ce+=pe.widths[xe]+s.gapButton;ae.enable(se,ce,me),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,D,J):function(Z){var $=!!Z.hbar,ne=!!Z.vbar;$&&Z.hbar.transition().attr("opacity","0").each("end",function(){$=!1,ne||Z.disable()}),ne&&Z.vbar.transition().attr("opacity","0").each("end",function(){ne=!1,$||Z.disable()})}(P))}function h(A,C,O,P){A.call(_,C).call(m,C,O,P)}function _(A,C){y.ensureSingle(A,"rect",s.itemRectClassName,function(O){O.attr({rx:s.rx,ry:s.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,C.bordercolor).call(a.fill,C.bgcolor).style("stroke-width",C.borderwidth+"px")}function m(A,C,O,P){var D=y.ensureSingle(A,"text",s.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),z=O.label,V=P._fullLayout._meta;V&&(z=y.templateString(z,V)),D.call(k.font,C.font).text(z).call(f.convertToTspans,P)}function d(A,C){var O=C.active;A.each(function(P,D){var z=b.select(this);D===O&&C.showactive&&z.select("rect."+s.itemRectClassName).call(a.fill,s.activeColor)})}function x(A){A.select("rect."+s.itemRectClassName).call(a.fill,s.hoverColor)}function g(A,C){A.select("rect."+s.itemRectClassName).call(a.fill,C.bgcolor)}function v(A,C){var O=C._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=k.tester.selectAll("g."+s.dropdownButtonClassName).data(y.filterVisible(C.buttons));P.enter().append("g").classed(s.dropdownButtonClassName,!0);var D=["up","down"].indexOf(C.direction)!==-1;P.each(function(U,H){var q=b.select(this);q.call(h,C,U,A);var ee=q.select("."+s.itemTextClassName),K=ee.node()&&k.bBox(ee.node()).width,J=Math.max(K+s.textPadX,s.minWidth),Z=C.font.size*t,$=f.lineCount(ee),ne=Math.max(Z*$,s.minHeight)+s.textOffsetY;ne=Math.ceil(ne),J=Math.ceil(J),O.widths[H]=J,O.heights[H]=ne,O.height1=Math.max(O.height1,ne),O.width1=Math.max(O.width1,J),D?(O.totalWidth=Math.max(O.totalWidth,J),O.openWidth=O.totalWidth,O.totalHeight+=ne+s.gapButton,O.openHeight+=ne+s.gapButton):(O.totalWidth+=J+s.gapButton,O.openWidth+=J+s.gapButton,O.totalHeight=Math.max(O.totalHeight,ne),O.openHeight=O.totalHeight)}),D?O.totalHeight-=s.gapButton:O.totalWidth-=s.gapButton,O.headerWidth=O.width1+s.arrowPadX,O.headerHeight=O.height1,C.type==="dropdown"&&(D?(O.width1+=s.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=s.arrowPadX),P.remove();var z=O.totalWidth+C.pad.l+C.pad.r,V=O.totalHeight+C.pad.t+C.pad.b,F=A._fullLayout._size;O.lx=F.l+F.w*C.x,O.ly=F.t+F.h*(1-C.y);var W="left";y.isRightAnchor(C)&&(O.lx-=z,W="right"),y.isCenterAnchor(C)&&(O.lx-=z/2,W="center");var B="top";y.isBottomAnchor(C)&&(O.ly-=V,B="bottom"),y.isMiddleAnchor(C)&&(O.ly-=V/2,B="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),w.autoMargin(A,T(C),{x:C.x,y:C.y,l:z*({right:1,center:.5}[W]||0),r:z*({left:1,center:.5}[W]||0),b:V*({top:1,middle:.5}[B]||0),t:V*({bottom:1,middle:.5}[B]||0)})}function T(A){return s.autoMarginIdRoot+A._index}function c(A,C,O,P){P=P||{};var D=A.select("."+s.itemRectClassName),z=A.select("."+s.itemTextClassName),V=C.borderwidth,F=O.index,W=C._dims;k.setTranslate(A,V+O.x,V+O.y);var B=["up","down"].indexOf(C.direction)!==-1,U=P.height||(B?W.heights[F]:W.height1);D.attr({x:0,y:0,width:P.width||(B?W.width1:W.widths[F]),height:U});var H=C.font.size*t,q=(f.lineCount(z)-1)*H/2;f.positionText(z,s.textOffsetX,U/2-q+s.textOffsetY),B?O.y+=W.heights[F]+O.yPad:O.x+=W.widths[F]+O.xPad,O.index++}function E(A,C){A.attr(s.menuIndexAttrName,C||"-1").selectAll("g."+s.dropdownButtonClassName).remove()}L.exports=function(A){var C=A._fullLayout,O=y.filterVisible(C[s.name]);function P(H){w.autoMargin(A,T(H))}var D=C._menulayer.selectAll("g."+s.containerClassName).data(O.length>0?[0]:[]);if(D.enter().append("g").classed(s.containerClassName,!0).style("cursor","pointer"),D.exit().each(function(){b.select(this).selectAll("g."+s.headerGroupClassName).each(P)}).remove(),O.length!==0){var z=D.selectAll("g."+s.headerGroupClassName).data(O,n);z.enter().append("g").classed(s.headerGroupClassName,!0);for(var V=y.ensureSingle(D,"g",s.dropdownButtonGroupClassName,function(H){H.style("pointer-events","all")}),F=0;F<O.length;F++){var W=O[F];v(A,W)}var B="updatemenus"+C._uid,U=new o(A,V,B);z.enter().size()&&(V.node().parentNode.appendChild(V.node()),V.call(E)),z.exit().each(function(H){V.call(E),P(H)}).remove(),z.each(function(H){var q=b.select(this),ee=H.type==="dropdown"?V:null;w.manageCommandObserver(A,H,H.buttons,function(K){i(A,H,H.buttons[K.index],q,ee,U,K.index,!0)}),H.type==="dropdown"?(u(A,q,V,U,H),r(V,H)&&p(A,q,V,U,H)):p(A,q,null,null,H)})}}},20763:function(L,M,e){"use strict";var b=e(75909);L.exports={moduleType:"component",name:b.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(L,M,e){"use strict";L.exports=y;var b=e(39898),w=e(7901),a=e(91424),k=e(71828);function y(f,l,t){this.gd=f,this.container=l,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}y.barWidth=2,y.barLength=20,y.barRadius=2,y.barPad=1,y.barColor="#808BA4",y.prototype.enable=function(f,l,t){var s=this.gd._fullLayout,o=s.width,n=s.height;this.position=f;var r,i,u,p,h=this.position.l,_=this.position.w,m=this.position.t,d=this.position.h,x=this.position.direction,g=x==="down",v=x==="left",T=x==="up",c=_,E=d;g||v||x==="right"||T||(this.position.direction="down",g=!0),g||T?(i=(r=h)+c,g?(u=m,E=(p=Math.min(u+E,n))-u):E=(p=m+E)-(u=Math.max(p-E,0))):(p=(u=m)+E,v?c=(i=h+c)-(r=Math.max(i-c,0)):(r=h,c=(i=Math.min(r+c,o))-r)),this._box={l:r,t:u,w:c,h:E};var A=_>c,C=y.barLength+2*y.barPad,O=y.barWidth+2*y.barPad,P=h,D=m+d;D+O>n&&(D=n-O);var z=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(w.fill,y.barColor),A?(this.hbar=z.attr({rx:y.barRadius,ry:y.barRadius,x:P,y:D,width:C,height:O}),this._hbarXMin=P+C/2,this._hbarTranslateMax=c-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var V=d>E,F=y.barWidth+2*y.barPad,W=y.barLength+2*y.barPad,B=h+_,U=m;B+F>o&&(B=o-F);var H=this.container.selectAll("rect.scrollbar-vertical").data(V?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-vertical",!0).call(w.fill,y.barColor),V?(this.vbar=H.attr({rx:y.barRadius,ry:y.barRadius,x:B,y:U,width:F,height:W}),this._vbarYMin=U+W/2,this._vbarTranslateMax=E-W):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var q=this.id,ee=r-.5,K=V?i+F+.5:i+.5,J=u-.5,Z=A?p+O+.5:p+.5,$=s._topdefs.selectAll("#"+q).data(A||V?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",q).append("rect"),A||V?(this._clipRect=$.select("rect").attr({x:Math.floor(ee),y:Math.floor(J),width:Math.ceil(K)-Math.floor(ee),height:Math.ceil(Z)-Math.floor(J)}),this.container.call(a.setClipUrl,q,this.gd),this.bg.attr({x:h,y:m,width:_,height:d})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),A||V){var ne=b.behavior.drag().on("dragstart",function(){b.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ne);var ae=b.behavior.drag().on("dragstart",function(){b.event.sourceEvent.preventDefault(),b.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(ae),V&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(l,t)},y.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},y.prototype._onBoxDrag=function(){var f=this.translateX,l=this.translateY;this.hbar&&(f-=b.event.dx),this.vbar&&(l-=b.event.dy),this.setTranslate(f,l)},y.prototype._onBoxWheel=function(){var f=this.translateX,l=this.translateY;this.hbar&&(f+=b.event.deltaY),this.vbar&&(l+=b.event.deltaY),this.setTranslate(f,l)},y.prototype._onBarDrag=function(){var f=this.translateX,l=this.translateY;if(this.hbar){var t=f+this._hbarXMin,s=t+this._hbarTranslateMax;f=(k.constrain(b.event.x,t,s)-t)/(s-t)*(this.position.w-this._box.w)}if(this.vbar){var o=l+this._vbarYMin,n=o+this._vbarTranslateMax;l=(k.constrain(b.event.y,o,n)-o)/(n-o)*(this.position.h-this._box.h)}this.setTranslate(f,l)},y.prototype.setTranslate=function(f,l){var t=this.position.w-this._box.w,s=this.position.h-this._box.h;if(f=k.constrain(f||0,0,t),l=k.constrain(l||0,0,s),this.translateX=f,this.translateY=l,this.container.call(a.setTranslate,this._box.l-this.position.l-f,this._box.t-this.position.t-l),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+f-.5),y:Math.floor(this.position.t+l-.5)}),this.hbar){var o=f/t;this.hbar.call(a.setTranslate,f+o*this._hbarTranslateMax,l)}if(this.vbar){var n=l/s;this.vbar.call(a.setTranslate,f,l+n*this._vbarTranslateMax)}}},18783:function(L){"use strict";L.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(L){"use strict";L.exports={axisRefDescription:function(M,e,b){return["If set to a",M,"axis id (e.g. *"+M+"* or","*"+M+"2*), the `"+M+"` position refers to a",M,"coordinate. If set to *paper*, the `"+M+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+b+"). If set to a",M,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+M+"2 domain* refers to the domain of the second",M," axis and a",M,"position of 0.5 refers to the","point between the",e,"and the",b,"of the domain of the","second",M,"axis."].join(" ")}}},22372:function(L){"use strict";L.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}},31562:function(L){"use strict";L.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(L){"use strict";L.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(L){"use strict";L.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(L){"use strict";L.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}},37822:function(L){"use strict";L.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(L){"use strict";L.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},77922:function(L,M){"use strict";M.xmlns="http://www.w3.org/2000/xmlns/",M.svg="http://www.w3.org/2000/svg",M.xlink="http://www.w3.org/1999/xlink",M.svgAttrs={xmlns:M.svg,"xmlns:xlink":M.xlink}},8729:function(L,M,e){"use strict";M.version=e(11506).version,e(7417),e(98847);for(var b=e(73972),w=M.register=b.register,a=e(10641),k=Object.keys(a),y=0;y<k.length;y++){var f=k[y];f.charAt(0)!=="_"&&(M[f]=a[f]),w({moduleType:"apiMethod",name:f,fn:a[f]})}w(e(67368)),w([e(2199),e(30211),e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(64168)]),w([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(w(window.PlotlyLocales),delete window.PlotlyLocales),M.Icons=e(24255);var l=e(30211),t=e(74875);M.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},M.Fx={hover:l.hover,unhover:l.unhover,loneHover:l.loneHover,loneUnhover:l.loneUnhover},M.Snapshot=e(44511),M.PlotSchema=e(86281)},24255:function(L){"use strict";L.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(L,M){"use strict";M.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},M.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},M.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},M.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},M.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},M.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},26348:function(L,M,e){"use strict";var b=e(64872),w=b.mod,a=b.modHalf,k=Math.PI,y=2*k;function f(o){return Math.abs(o[1]-o[0])>y-1e-14}function l(o,n){return a(n-o,y)}function t(o,n){if(f(n))return!0;var r,i;n[0]<n[1]?(r=n[0],i=n[1]):(r=n[1],i=n[0]),(r=w(r,y))>(i=w(i,y))&&(i+=y);var u=w(o,y),p=u+y;return u>=r&&u<=i||p>=r&&p<=i}function s(o,n,r,i,u,p,h){u=u||0,p=p||0;var _,m,d,x,g,v=f([r,i]);function T(C,O){return[C*Math.cos(O)+u,p-C*Math.sin(O)]}v?(_=0,m=k,d=y):r<i?(_=r,d=i):(_=i,d=r),o<n?(x=o,g=n):(x=n,g=o);var c,E=Math.abs(d-_)<=k?0:1;function A(C,O,P){return"A"+[C,C]+" "+[0,E,P]+" "+T(C,O)}return v?c=x===null?"M"+T(g,_)+A(g,m,0)+A(g,d,0)+"Z":"M"+T(x,_)+A(x,m,0)+A(x,d,0)+"ZM"+T(g,_)+A(g,m,1)+A(g,d,1)+"Z":x===null?(c="M"+T(g,_)+A(g,d,0),h&&(c+="L0,0Z")):c="M"+T(x,_)+"L"+T(g,_)+A(g,d,0)+"L"+T(x,d)+A(x,_,1)+"Z",c}L.exports={deg2rad:function(o){return o/180*k},rad2deg:function(o){return o/k*180},angleDelta:l,angleDist:function(o,n){return Math.abs(l(o,n))},isFullCircle:f,isAngleInsideSector:t,isPtInsideSector:function(o,n,r,i){return!!t(n,i)&&(r[0]<r[1]?(u=r[0],p=r[1]):(u=r[1],p=r[0]),o>=u&&o<=p);var u,p},pathArc:function(o,n,r,i,u){return s(null,o,n,r,i,u,0)},pathSector:function(o,n,r,i,u){return s(null,o,n,r,i,u,1)},pathAnnulus:function(o,n,r,i,u,p){return s(o,n,r,i,u,p,1)}}},73627:function(L,M){"use strict";var e=Array.isArray,b=ArrayBuffer,w=DataView;function a(f){return b.isView(f)&&!(f instanceof w)}function k(f){return e(f)||a(f)}function y(f,l,t){if(k(f)){if(k(f[0])){for(var s=t,o=0;o<f.length;o++)s=l(s,f[o].length);return s}return f.length}return 0}M.isTypedArray=a,M.isArrayOrTypedArray=k,M.isArray1D=function(f){return!k(f[0])},M.ensureArray=function(f,l){return e(f)||(f=[]),f.length=l,f},M.concat=function(){var f,l,t,s,o,n,r,i,u=[],p=!0,h=0;for(t=0;t<arguments.length;t++)(n=(s=arguments[t]).length)&&(l?u.push(s):(l=s,o=n),e(s)?f=!1:(p=!1,h?f!==s.constructor&&(f=!1):f=s.constructor),h+=n);if(!h)return[];if(!u.length)return l;if(p)return l.concat.apply(l,u);if(f){for((r=new f(h)).set(l),t=0;t<u.length;t++)s=u[t],r.set(s,o),o+=s.length;return r}for(r=new Array(h),i=0;i<l.length;i++)r[i]=l[i];for(t=0;t<u.length;t++){for(s=u[t],i=0;i<s.length;i++)r[o+i]=s[i];o+=i}return r},M.maxRowLength=function(f){return y(f,Math.max,0)},M.minRowLength=function(f){return y(f,Math.min,1/0)}},95218:function(L,M,e){"use strict";var b=e(92770),w=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;L.exports=function(k){return typeof k=="string"&&(k=k.replace(a,"")),b(k)?Number(k):w}},33306:function(L){"use strict";L.exports=function(M){var e=M._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(b){b.regl&&b.regl.clear({color:!0,depth:!0})})}},86367:function(L){"use strict";L.exports=function(M){M._responsiveChartHandler&&(window.removeEventListener("resize",M._responsiveChartHandler),delete M._responsiveChartHandler)}},96554:function(L,M,e){"use strict";var b=e(92770),w=e(84267),a=e(9012),k=e(63282),y=e(7901),f=e(37822).DESELECTDIM,l=e(65487),t=e(30587).counter,s=e(64872).modHalf,o=e(73627).isArrayOrTypedArray;function n(r,i){var u=M.valObjectMeta[i.valType];if(i.arrayOk&&o(r))return!0;if(u.validateFunction)return u.validateFunction(r,i);var p={},h=p,_={set:function(m){h=m}};return u.coerceFunction(r,_,p,i),h!==p}M.valObjectMeta={data_array:{coerceFunction:function(r,i,u){o(r)?i.set(r):u!==void 0&&i.set(u)}},enumerated:{coerceFunction:function(r,i,u,p){p.coerceNumber&&(r=+r),p.values.indexOf(r)===-1?i.set(u):i.set(r)},validateFunction:function(r,i){i.coerceNumber&&(r=+r);for(var u=i.values,p=0;p<u.length;p++){var h=String(u[p]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){if(new RegExp(h.substr(1,h.length-2)).test(r))return!0}else if(r===u[p])return!0}return!1}},boolean:{coerceFunction:function(r,i,u){r===!0||r===!1?i.set(r):i.set(u)}},number:{coerceFunction:function(r,i,u,p){!b(r)||p.min!==void 0&&r<p.min||p.max!==void 0&&r>p.max?i.set(u):i.set(+r)}},integer:{coerceFunction:function(r,i,u,p){r%1||!b(r)||p.min!==void 0&&r<p.min||p.max!==void 0&&r>p.max?i.set(u):i.set(+r)}},string:{coerceFunction:function(r,i,u,p){if(typeof r!="string"){var h=typeof r=="number";p.strict!==!0&&h?i.set(String(r)):i.set(u)}else p.noBlank&&!r?i.set(u):i.set(r)}},color:{coerceFunction:function(r,i,u){w(r).isValid()?i.set(r):i.set(u)}},colorlist:{coerceFunction:function(r,i,u){Array.isArray(r)&&r.length&&r.every(function(p){return w(p).isValid()})?i.set(r):i.set(u)}},colorscale:{coerceFunction:function(r,i,u){i.set(k.get(r,u))}},angle:{coerceFunction:function(r,i,u){r==="auto"?i.set("auto"):b(r)?i.set(s(+r,360)):i.set(u)}},subplotid:{coerceFunction:function(r,i,u,p){var h=p.regex||t(u);typeof r=="string"&&h.test(r)?i.set(r):i.set(u)},validateFunction:function(r,i){var u=i.dflt;return r===u||typeof r=="string"&&!!t(u).test(r)}},flaglist:{coerceFunction:function(r,i,u,p){if((p.extras||[]).indexOf(r)===-1)if(typeof r=="string"){for(var h=r.split("+"),_=0;_<h.length;){var m=h[_];p.flags.indexOf(m)===-1||h.indexOf(m)<_?h.splice(_,1):_++}h.length?i.set(h.join("+")):i.set(u)}else i.set(u);else i.set(r)}},any:{coerceFunction:function(r,i,u){r===void 0?i.set(u):i.set(r)}},info_array:{coerceFunction:function(r,i,u,p){function h(D,z,V){var F,W={set:function(B){F=B}};return V===void 0&&(V=z.dflt),M.valObjectMeta[z.valType].coerceFunction(D,W,V,z),F}var _=p.dimensions===2||p.dimensions==="1-2"&&Array.isArray(r)&&Array.isArray(r[0]);if(Array.isArray(r)){var m,d,x,g,v,T,c=p.items,E=[],A=Array.isArray(c),C=A&&_&&Array.isArray(c[0]),O=_&&A&&!C,P=A&&!O?c.length:r.length;if(u=Array.isArray(u)?u:[],_)for(m=0;m<P;m++)for(E[m]=[],x=Array.isArray(r[m])?r[m]:[],v=O?c.length:A?c[m].length:x.length,d=0;d<v;d++)g=O?c[d]:A?c[m][d]:c,(T=h(x[d],g,(u[m]||[])[d]))!==void 0&&(E[m][d]=T);else for(m=0;m<P;m++)(T=h(r[m],A?c[m]:c,u[m]))!==void 0&&(E[m]=T);i.set(E)}else i.set(u)},validateFunction:function(r,i){if(!Array.isArray(r))return!1;var u=i.items,p=Array.isArray(u),h=i.dimensions===2;if(!i.freeLength&&r.length!==u.length)return!1;for(var _=0;_<r.length;_++)if(h){if(!Array.isArray(r[_])||!i.freeLength&&r[_].length!==u[_].length)return!1;for(var m=0;m<r[_].length;m++)if(!n(r[_][m],p?u[_][m]:u))return!1}else if(!n(r[_],p?u[_]:u))return!1;return!0}}},M.coerce=function(r,i,u,p,h){var _=l(u,p).get(),m=l(r,p),d=l(i,p),x=m.get(),g=i._template;if(x===void 0&&g&&(x=l(g,p).get(),g=0),h===void 0&&(h=_.dflt),_.arrayOk&&o(x))return d.set(x),x;var v=M.valObjectMeta[_.valType].coerceFunction;v(x,d,h,_);var T=d.get();return g&&T===h&&!n(x,_)&&(v(x=l(g,p).get(),d,h,_),T=d.get()),T},M.coerce2=function(r,i,u,p,h){var _=l(r,p),m=M.coerce(r,i,u,p,h);return _.get()!=null&&m},M.coerceFont=function(r,i,u){var p={};return u=u||{},p.family=r(i+".family",u.family),p.size=r(i+".size",u.size),p.color=r(i+".color",u.color),p},M.coercePattern=function(r,i,u,p){if(r(i+".shape")){r(i+".solidity"),r(i+".size");var h=r(i+".fillmode")==="overlay";if(!p){var _=r(i+".bgcolor",h?u:void 0);r(i+".fgcolor",h?y.contrast(_):u)}r(i+".fgopacity",h?.5:1)}},M.coerceHoverinfo=function(r,i,u){var p,h=i._module.attributes,_=h.hoverinfo?h:a,m=_.hoverinfo;if(u._dataLength===1){var d=m.dflt==="all"?m.flags.slice():m.dflt.split("+");d.splice(d.indexOf("name"),1),p=d.join("+")}return M.coerce(r,i,_,"hoverinfo",p)},M.coerceSelectionMarkerOpacity=function(r,i){if(r.marker){var u,p,h=r.marker.opacity;h!==void 0&&(o(h)||r.selected||r.unselected||(u=h,p=f*h),i("selected.marker.opacity",u),i("unselected.marker.opacity",p))}},M.validate=n},41631:function(L,M,e){"use strict";var b,w,a=e(84096).i$,k=e(92770),y=e(47769),f=e(64872).mod,l=e(50606),t=l.BADNUM,s=l.ONEDAY,o=l.ONEHOUR,n=l.ONEMIN,r=l.ONESEC,i=l.EPOCHJD,u=e(73972),p=e(84096).g0,h=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=new Date().getFullYear()-70;function d(z){return z&&u.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}function x(z,V){return String(z+Math.pow(10,V)).substr(1)}M.dateTick0=function(z,V){var F=function(B,U){return d(B)?U?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[B]:u.getComponentMethod("calendars","CANONICAL_TICK")[B]:U?"2000-01-02":"2000-01-01"}(z,!!V);if(V<2)return F;var W=M.dateTime2ms(F,z);return W+=s*(V-1),M.ms2DateTime(W,0,z)},M.dfltRange=function(z){return d(z)?u.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},M.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"},M.dateTime2ms=function(z,V){if(M.isJSDate(z)){var F=z.getTimezoneOffset()*n,W=(z.getUTCMinutes()-z.getMinutes())*n+(z.getUTCSeconds()-z.getSeconds())*r+(z.getUTCMilliseconds()-z.getMilliseconds());if(W){var B=3*n;F=F-B/2+f(W-F+B/2,B)}return(z=Number(z)-F)>=b&&z<=w?z:t}if(typeof z!="string"&&typeof z!="number")return t;z=String(z);var U=d(V),H=z.charAt(0);!U||H!=="G"&&H!=="g"||(z=z.substr(1),V="");var q=U&&V.substr(0,7)==="chinese",ee=z.match(q?_:h);if(!ee)return t;var K=ee[1],J=ee[3]||"1",Z=Number(ee[5]||1),$=Number(ee[7]||0),ne=Number(ee[9]||0),ae=Number(ee[11]||0);if(U){if(K.length===2)return t;var oe;K=Number(K);try{var se=u.getComponentMethod("calendars","getCal")(V);if(q){var ce=J.charAt(J.length-1)==="i";J=parseInt(J,10),oe=se.newDate(K,se.toMonthIndex(K,J,ce),Z)}else oe=se.newDate(K,Number(J),Z)}catch{return t}return oe?(oe.toJD()-i)*s+$*o+ne*n+ae*r:t}K=K.length===2?(Number(K)+2e3-m)%100+m:Number(K),J-=1;var me=new Date(Date.UTC(2e3,J,Z,$,ne));return me.setUTCFullYear(K),me.getUTCMonth()!==J||me.getUTCDate()!==Z?t:me.getTime()+ae*r},b=M.MIN_MS=M.dateTime2ms("-9999"),w=M.MAX_MS=M.dateTime2ms("9999-12-31 23:59:59.9999"),M.isDateTime=function(z,V){return M.dateTime2ms(z,V)!==t};var g=90*s,v=3*o,T=5*n;function c(z,V,F,W,B){if((V||F||W||B)&&(z+=" "+x(V,2)+":"+x(F,2),(W||B)&&(z+=":"+x(W,2),B))){for(var U=4;B%10==0;)U-=1,B/=10;z+="."+x(B,U)}return z}M.ms2DateTime=function(z,V,F){if(typeof z!="number"||!(z>=b&&z<=w))return t;V||(V=0);var W,B,U,H,q,ee,K=Math.floor(10*f(z+.05,1)),J=Math.round(z-K/10);if(d(F)){var Z=Math.floor(J/s)+i,$=Math.floor(f(z,s));try{W=u.getComponentMethod("calendars","getCal")(F).fromJD(Z).formatDate("yyyy-mm-dd")}catch{W=p("G%Y-%m-%d")(new Date(J))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;B=V<g?Math.floor($/o):0,U=V<g?Math.floor($%o/n):0,H=V<v?Math.floor($%n/r):0,q=V<T?$%r*10+K:0}else ee=new Date(J),W=p("%Y-%m-%d")(ee),B=V<g?ee.getUTCHours():0,U=V<g?ee.getUTCMinutes():0,H=V<v?ee.getUTCSeconds():0,q=V<T?10*ee.getUTCMilliseconds()+K:0;return c(W,B,U,H,q)},M.ms2DateTimeLocal=function(z){if(!(z>=b+s&&z<=w-s))return t;var V=Math.floor(10*f(z+.05,1)),F=new Date(Math.round(z-V/10));return c(a("%Y-%m-%d")(F),F.getHours(),F.getMinutes(),F.getSeconds(),10*F.getUTCMilliseconds()+V)},M.cleanDate=function(z,V,F){if(z===t)return V;if(M.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(d(F))return y.error("JS Dates and milliseconds are incompatible with world calendars",z),V;if(!(z=M.ms2DateTimeLocal(+z))&&V!==void 0)return V}else if(!M.isDateTime(z,F))return y.error("unrecognized date",z),V;return z};var E=/%\d?f/g,A=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function O(z,V,F,W){z=z.replace(E,function(U){var H=Math.min(+U.charAt(1)||6,6);return(V/1e3%1+2).toFixed(H).substr(2).replace(/0+$/,"")||"0"});var B=new Date(Math.floor(V+.05));if(z=z.replace(A,function(){return C[F("%q")(B)]}),d(W))try{z=u.getComponentMethod("calendars","worldCalFmt")(z,V,W)}catch{return"Invalid"}return F(z)(B)}var P=[59,59.9,59.99,59.999,59.9999];M.formatDate=function(z,V,F,W,B,U){if(B=d(B)&&B,!V)if(F==="y")V=U.year;else if(F==="m")V=U.month;else{if(F!=="d")return function(H,q){var ee=f(H+.05,s),K=x(Math.floor(ee/o),2)+":"+x(f(Math.floor(ee/n),60),2);if(q!=="M"){k(q)||(q=0);var J=(100+Math.min(f(H/r,60),P[q])).toFixed(q).substr(1);q>0&&(J=J.replace(/0+$/,"").replace(/[\.]$/,"")),K+=":"+J}return K}(z,F)+`
`+O(U.dayMonthYear,z,W,B);V=U.dayMonth+`
`+U.year}return O(V,z,W,B)};var D=3*s;M.incrementMonth=function(z,V,F){F=d(F)&&F;var W=f(z,s);if(z=Math.round(z-W),F)try{var B=Math.round(z/s)+i,U=u.getComponentMethod("calendars","getCal")(F),H=U.fromJD(B);return V%12?U.add(H,V,"m"):U.add(H,V/12,"y"),(H.toJD()-i)*s+W}catch{y.error("invalid ms "+z+" in calendar "+F)}var q=new Date(z+D);return q.setUTCMonth(q.getUTCMonth()+V)+W-D},M.findExactDates=function(z,V){for(var F,W,B=0,U=0,H=0,q=0,ee=d(V)&&u.getComponentMethod("calendars","getCal")(V),K=0;K<z.length;K++)if(W=z[K],k(W)){if(!(W%s))if(ee)try{(F=ee.fromJD(W/s+i)).day()===1?F.month()===1?B++:U++:H++}catch{}else(F=new Date(W)).getUTCDate()===1?F.getUTCMonth()===0?B++:U++:H++}else q++;H+=U+=B;var J=z.length-q;return{exactYears:B/J,exactMonths:U/J,exactDays:H/J}}},24401:function(L,M,e){"use strict";var b=e(39898),w=e(47769),a=e(35657),k=e(79576);function y(o){var n=o&&o.parentNode;n&&n.removeChild(o)}function f(o,n,r){var i="plotly.js-style-"+o,u=document.getElementById(i);u||((u=document.createElement("style")).setAttribute("id",i),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var p=u.sheet;p.insertRule?p.insertRule(n+"{"+r+"}",0):p.addRule?p.addRule(n,r,0):w.warn("addStyleRule failed")}function l(o){var n=window.getComputedStyle(o,null),r=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return r==="none"?null:r.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function t(o){for(var n=[];s(o);)n.push(o),o=o.parentNode;return n}function s(o){return o&&(o instanceof Element||o instanceof HTMLElement)}L.exports={getGraphDiv:function(o){var n;if(typeof o=="string"){if((n=document.getElementById(o))===null)throw new Error("No DOM element with id '"+o+"' exists on the page.");return n}if(o==null)throw new Error("DOM element provided is null or undefined");return o},isPlotDiv:function(o){var n=b.select(o);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:y,addStyleRule:function(o,n){f("global",o,n)},addRelatedStyleRule:f,deleteRelatedStyleRule:function(o){var n="plotly.js-style-"+o,r=document.getElementById(n);r&&y(r)},getFullTransformMatrix:function(o){var n=t(o),r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach(function(i){var u=l(i);if(u){var p=a.convertCssMatrix(u);r=k.multiply(r,r,p)}}),r},getElementTransformMatrix:l,getElementAndAncestors:t,equalDomRects:function(o,n){return o&&n&&o.top===n.top&&o.left===n.left&&o.right===n.right&&o.bottom===n.bottom}}},11086:function(L,M,e){"use strict";var b=e(15398).EventEmitter,w={init:function(a){if(a._ev instanceof b)return a;var k=new b,y=new b;return a._ev=k,a._internalEv=y,a.on=k.on.bind(k),a.once=k.once.bind(k),a.removeListener=k.removeListener.bind(k),a.removeAllListeners=k.removeAllListeners.bind(k),a._internalOn=y.on.bind(y),a._internalOnce=y.once.bind(y),a._removeInternalListener=y.removeListener.bind(y),a._removeAllInternalListeners=y.removeAllListeners.bind(y),a.emit=function(f,l){typeof jQuery<"u"&&jQuery(a).trigger(f,l),k.emit(f,l),y.emit(f,l)},a},triggerHandler:function(a,k,y){var f,l;typeof jQuery<"u"&&(f=jQuery(a).triggerHandler(k,y));var t=a._ev;if(!t)return f;var s,o=t._events[k];if(!o)return f;function n(r){return r.listener?(t.removeListener(k,r.listener),r.fired?void 0:(r.fired=!0,r.listener.apply(t,[y]))):r.apply(t,[y])}for(o=Array.isArray(o)?o:[o],s=0;s<o.length-1;s++)n(o[s]);return l=n(o[s]),f!==void 0?f:l},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};L.exports=w},1426:function(L,M,e){"use strict";var b=e(41965),w=Array.isArray;function a(k,y,f,l){var t,s,o,n,r,i,u,p=k[0],h=k.length;if(h===2&&w(p)&&w(k[1])&&p.length===0){if(u=function(m,d){var x,g;for(x=0;x<m.length;x++){if((g=m[x])!==null&&typeof g=="object")return!1;g!==void 0&&(d[x]=g)}return!0}(k[1],p),u)return p;p.splice(0,p.length)}for(var _=1;_<h;_++)for(s in t=k[_])o=p[s],n=t[s],l&&w(n)?p[s]=n:y&&n&&(b(n)||(r=w(n)))?(r?(r=!1,i=o&&w(o)?o:[]):i=o&&b(o)?o:{},p[s]=a([i,n],y,f,l)):(n!==void 0||f)&&(p[s]=n);return p}M.extendFlat=function(){return a(arguments,!1,!1,!1)},M.extendDeep=function(){return a(arguments,!0,!1,!1)},M.extendDeepAll=function(){return a(arguments,!0,!0,!1)},M.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},75744:function(L){"use strict";L.exports=function(M){for(var e={},b=[],w=0,a=0;a<M.length;a++){var k=M[a];e[k]!==1&&(e[k]=1,b[w++]=k)}return b}},76756:function(L){"use strict";function M(b){return b.visible===!0}function e(b){var w=b[0].trace;return w.visible===!0&&w._length!==0}L.exports=function(b){for(var w,a=(w=b,Array.isArray(w)&&Array.isArray(w[0])&&w[0][0]&&w[0][0].trace?e:M),k=[],y=0;y<b.length;y++){var f=b[y];a(f)&&k.push(f)}return k}},41327:function(L,M,e){"use strict";var b=e(39898),w=e(24138),a=e(30774),k=e(29261),y=e(85268),f=e(23389),l=e(47769),t=e(41965),s=e(65487),o=e(61082),n=Object.keys(w),r={"ISO-3":f,"USA-states":f,"country names":function(u){for(var p=0;p<n.length;p++){var h=n[p];if(new RegExp(w[h]).test(u.trim().toLowerCase()))return h}return l.log("Unrecognized country name: "+u+"."),!1}};function i(u){var p=u.geojson,h=window.PlotlyGeoAssets||{},_=typeof p=="string"?h[p]:p;return t(_)?_:(l.error("Oops ... something went wrong when fetching "+p),!1)}L.exports={locationToFeature:function(u,p,h){if(!p||typeof p!="string")return!1;var _,m,d,x=r[u](p);if(x){if(u==="USA-states")for(_=[],d=0;d<h.length;d++)(m=h[d]).properties&&m.properties.gu&&m.properties.gu==="USA"&&_.push(m);else _=h;for(d=0;d<_.length;d++)if((m=_[d]).id===x)return m;l.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var p,h,_,m,d=u.geometry,x=d.coordinates,g=u.id,v=[];function T(c){for(var E=0;E<c.length-1;E++)if(c[E][0]>0&&c[E+1][0]<0)return E;return null}switch(p=g==="RUS"||g==="FJI"?function(c){var E;if(T(c)===null)E=c;else for(E=new Array(c.length),m=0;m<c.length;m++)E[m]=[c[m][0]<0?c[m][0]+360:c[m][0],c[m][1]];v.push(o.tester(E))}:g==="ATA"?function(c){var E=T(c);if(E===null)return v.push(o.tester(c));var A=new Array(c.length+1),C=0;for(m=0;m<c.length;m++)m>E?A[C++]=[c[m][0]+360,c[m][1]]:m===E?(A[C++]=c[m],A[C++]=[c[m][0],-90]):A[C++]=c[m];var O=o.tester(A);O.pts.pop(),v.push(O)}:function(c){v.push(o.tester(c))},d.type){case"MultiPolygon":for(h=0;h<x.length;h++)for(_=0;_<x[h].length;_++)p(x[h][_]);break;case"Polygon":for(h=0;h<x.length;h++)p(x[h])}return v},getTraceGeojson:i,extractTraceFeature:function(u){var p=u[0].trace,h=i(p);if(!h)return!1;var _,m={},d=[];for(_=0;_<p._length;_++){var x=u[_];(x.loc||x.loc===0)&&(m[x.loc]=x)}function g(c){var E=s(c,p.featureidkey||"id").get(),A=m[E];if(A){var C=c.geometry;if(C.type==="Polygon"||C.type==="MultiPolygon"){var O={type:"Feature",id:E,geometry:C,properties:{}};O.properties.ct=function(P){var D,z=P.geometry;if(z.type==="MultiPolygon")for(var V=z.coordinates,F=0,W=0;W<V.length;W++){var B={type:"Polygon",coordinates:V[W]},U=a.default(B);U>F&&(F=U,D=B)}else D=z;return k.default(D).geometry.coordinates}(O),A.fIn=c,A.fOut=O,d.push(O)}else l.log(["Location",A.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[E]}switch(h.type){case"FeatureCollection":var v=h.features;for(_=0;_<v.length;_++)g(v[_]);break;case"Feature":g(h);break;default:return l.warn(["Invalid GeoJSON type",(h.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var T in m)l.log(["Location *"+T+"*","does not have a matching feature with id-key","*"+p.featureidkey+"*."].join(" "));return d},fetchTraceGeoData:function(u){var p=window.PlotlyGeoAssets||{},h=[];function _(g){return new Promise(function(v,T){b.json(g,function(c,E){if(c){delete p[g];var A=c.status===404?'GeoJSON at URL "'+g+'" does not exist.':"Unexpected error while fetching from "+g;return T(new Error(A))}return p[g]=E,v(E)})})}function m(g){return new Promise(function(v,T){var c=0,E=setInterval(function(){return p[g]&&p[g]!=="pending"?(clearInterval(E),v(p[g])):c>100?(clearInterval(E),T("Unexpected error while fetching from "+g)):void c++},50)})}for(var d=0;d<u.length;d++){var x=u[d][0].trace.geojson;typeof x=="string"&&(p[x]?p[x]==="pending"&&h.push(m(x)):(p[x]="pending",h.push(_(x))))}return h},computeBbox:function(u){return y.default(u)}}},18214:function(L,M,e){"use strict";var b=e(50606).BADNUM;M.calcTraceToLineCoords=function(w){for(var a=w[0].trace.connectgaps,k=[],y=[],f=0;f<w.length;f++){var l=w[f].lonlat;l[0]!==b?y.push(l):!a&&y.length>0&&(k.push(y),y=[])}return y.length>0&&k.push(y),k},M.makeLine=function(w){return w.length===1?{type:"LineString",coordinates:w[0]}:{type:"MultiLineString",coordinates:w}},M.makePolygon=function(w){if(w.length===1)return{type:"Polygon",coordinates:w};for(var a=new Array(w.length),k=0;k<w.length;k++)a[k]=[w[k]];return{type:"MultiPolygon",coordinates:a}},M.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(L,M,e){"use strict";var b,w,a,k=e(64872).mod;function y(l,t,s,o,n,r,i,u){var p=s-l,h=n-l,_=i-n,m=o-t,d=r-t,x=u-r,g=p*x-_*m;if(g===0)return null;var v=(h*x-_*d)/g,T=(h*m-p*d)/g;return T<0||T>1||v<0||v>1?null:{x:l+p*v,y:t+m*v}}function f(l,t,s,o,n){var r=o*l+n*t;if(r<0)return o*o+n*n;if(r>s){var i=o-l,u=n-t;return i*i+u*u}var p=o*t-n*l;return p*p/s}M.segmentsIntersect=y,M.segmentDistance=function(l,t,s,o,n,r,i,u){if(y(l,t,s,o,n,r,i,u))return 0;var p=s-l,h=o-t,_=i-n,m=u-r,d=p*p+h*h,x=_*_+m*m,g=Math.min(f(p,h,d,n-l,r-t),f(p,h,d,i-l,u-t),f(_,m,x,l-n,t-r),f(_,m,x,s-n,o-r));return Math.sqrt(g)},M.getTextLocation=function(l,t,s,o){if(l===w&&o===a||(b={},w=l,a=o),b[s])return b[s];var n=l.getPointAtLength(k(s-o/2,t)),r=l.getPointAtLength(k(s+o/2,t)),i=Math.atan((r.y-n.y)/(r.x-n.x)),u=l.getPointAtLength(k(s,t)),p={x:(4*u.x+n.x+r.x)/6,y:(4*u.y+n.y+r.y)/6,theta:i};return b[s]=p,p},M.clearLocationCache=function(){w=null},M.getVisibleSegment=function(l,t,s){var o,n,r=t.left,i=t.right,u=t.top,p=t.bottom,h=0,_=l.getTotalLength(),m=_;function d(g){var v=l.getPointAtLength(g);g===0?o=v:g===_&&(n=v);var T=v.x<r?r-v.x:v.x>i?v.x-i:0,c=v.y<u?u-v.y:v.y>p?v.y-p:0;return Math.sqrt(T*T+c*c)}for(var x=d(h);x;){if((h+=x+s)>m)return;x=d(h)}for(x=d(m);x;){if(h>(m-=x+s))return;x=d(m)}return{min:h,max:m,len:m-h,total:_,isClosed:h===0&&m===_&&Math.abs(o.x-n.x)<.1&&Math.abs(o.y-n.y)<.1}},M.findPointOnPath=function(l,t,s,o){for(var n,r,i,u=(o=o||{}).pathLength||l.getTotalLength(),p=o.tolerance||.001,h=o.iterationLimit||30,_=l.getPointAtLength(0)[s]>l.getPointAtLength(u)[s]?-1:1,m=0,d=0,x=u;m<h;){if(n=(d+x)/2,i=(r=l.getPointAtLength(n))[s]-t,Math.abs(i)<p)return r;_*i>0?x=n:d=n,m++}return r}},81697:function(L,M,e){"use strict";var b=e(92770),w=e(84267),a=e(25075),k=e(21081),y=e(22399).defaultLine,f=e(73627).isArrayOrTypedArray,l=a(y);function t(n,r){var i=n;return i[3]*=r,i}function s(n){if(b(n))return l;var r=a(n);return r.length?r:l}function o(n){return b(n)?n:1}L.exports={formatColor:function(n,r,i){var u,p,h,_,m,d=n.color,x=f(d),g=f(r),v=k.extractOpts(n),T=[];if(u=v.colorscale!==void 0?k.makeColorScaleFuncFromTrace(n):s,p=x?function(E,A){return E[A]===void 0?l:a(u(E[A]))}:s,h=g?function(E,A){return E[A]===void 0?1:o(E[A])}:o,x||g)for(var c=0;c<i;c++)_=p(d,c),m=h(r,c),T[c]=t(_,m);else T=t(a(d),r);return T},parseColorScale:function(n){var r=k.extractOpts(n),i=r.colorscale;return r.reversescale&&(i=k.flipScale(r.colorscale)),i.map(function(u){var p=u[0],h=w(u[1]).toRgb();return{index:p,rgb:[h.r,h.g,h.b,h.a]}})}}},28984:function(L,M,e){"use strict";var b=e(23389);function w(a){return[a]}L.exports={keyFun:function(a){return a.key},repeat:w,descend:b,wrap:w,unwrap:function(a){return a[0]}}},23389:function(L){"use strict";L.exports=function(M){return M}},39240:function(L){"use strict";L.exports=function(M,e){if(!e)return M;var b=1/Math.abs(e),w=b>1?(b*M+b*e)/b:M+e,a=String(w).length;if(a>16){var k=String(e).length;if(a>=String(M).length+k){var y=parseFloat(w).toPrecision(12);y.indexOf("e+")===-1&&(w=+y)}}return w}},71828:function(L,M,e){"use strict";var b=e(39898),w=e(84096).g0,a=e(60721).WU,k=e(92770),y=e(50606),f=y.FP_SAFE,l=-f,t=y.BADNUM,s=L.exports={};s.adjustFormat=function($){return!$||/^\d[.]\df/.test($)||/[.]\d%/.test($)?$:$==="0.f"?"~f":/^\d%/.test($)?"~%":/^\ds/.test($)?"~s":!/^[~,.0$]/.test($)&&/[&fps]/.test($)?"~"+$:$};var o={};s.warnBadFormat=function($){var ne=String($);o[ne]||(o[ne]=1,s.warn('encountered bad format: "'+ne+'"'))},s.noFormat=function($){return String($)},s.numberFormat=function($){var ne;try{ne=a(s.adjustFormat($))}catch{return s.warnBadFormat($),s.noFormat}return ne},s.nestedProperty=e(65487),s.keyedContainer=e(66636),s.relativeAttr=e(6962),s.isPlainObject=e(41965),s.toLogRange=e(58163),s.relinkPrivateKeys=e(51332);var n=e(73627);s.isTypedArray=n.isTypedArray,s.isArrayOrTypedArray=n.isArrayOrTypedArray,s.isArray1D=n.isArray1D,s.ensureArray=n.ensureArray,s.concat=n.concat,s.maxRowLength=n.maxRowLength,s.minRowLength=n.minRowLength;var r=e(64872);s.mod=r.mod,s.modHalf=r.modHalf;var i=e(96554);s.valObjectMeta=i.valObjectMeta,s.coerce=i.coerce,s.coerce2=i.coerce2,s.coerceFont=i.coerceFont,s.coercePattern=i.coercePattern,s.coerceHoverinfo=i.coerceHoverinfo,s.coerceSelectionMarkerOpacity=i.coerceSelectionMarkerOpacity,s.validate=i.validate;var u=e(41631);s.dateTime2ms=u.dateTime2ms,s.isDateTime=u.isDateTime,s.ms2DateTime=u.ms2DateTime,s.ms2DateTimeLocal=u.ms2DateTimeLocal,s.cleanDate=u.cleanDate,s.isJSDate=u.isJSDate,s.formatDate=u.formatDate,s.incrementMonth=u.incrementMonth,s.dateTick0=u.dateTick0,s.dfltRange=u.dfltRange,s.findExactDates=u.findExactDates,s.MIN_MS=u.MIN_MS,s.MAX_MS=u.MAX_MS;var p=e(65888);s.findBin=p.findBin,s.sorterAsc=p.sorterAsc,s.sorterDes=p.sorterDes,s.distinctVals=p.distinctVals,s.roundUp=p.roundUp,s.sort=p.sort,s.findIndexOfMin=p.findIndexOfMin,s.sortObjectKeys=e(78607);var h=e(80038);s.aggNums=h.aggNums,s.len=h.len,s.mean=h.mean,s.median=h.median,s.midRange=h.midRange,s.variance=h.variance,s.stdev=h.stdev,s.interp=h.interp;var _=e(35657);s.init2dArray=_.init2dArray,s.transposeRagged=_.transposeRagged,s.dot=_.dot,s.translationMatrix=_.translationMatrix,s.rotationMatrix=_.rotationMatrix,s.rotationXYMatrix=_.rotationXYMatrix,s.apply3DTransform=_.apply3DTransform,s.apply2DTransform=_.apply2DTransform,s.apply2DTransform2=_.apply2DTransform2,s.convertCssMatrix=_.convertCssMatrix,s.inverseTransformMatrix=_.inverseTransformMatrix;var m=e(26348);s.deg2rad=m.deg2rad,s.rad2deg=m.rad2deg,s.angleDelta=m.angleDelta,s.angleDist=m.angleDist,s.isFullCircle=m.isFullCircle,s.isAngleInsideSector=m.isAngleInsideSector,s.isPtInsideSector=m.isPtInsideSector,s.pathArc=m.pathArc,s.pathSector=m.pathSector,s.pathAnnulus=m.pathAnnulus;var d=e(99863);s.isLeftAnchor=d.isLeftAnchor,s.isCenterAnchor=d.isCenterAnchor,s.isRightAnchor=d.isRightAnchor,s.isTopAnchor=d.isTopAnchor,s.isMiddleAnchor=d.isMiddleAnchor,s.isBottomAnchor=d.isBottomAnchor;var x=e(87642);s.segmentsIntersect=x.segmentsIntersect,s.segmentDistance=x.segmentDistance,s.getTextLocation=x.getTextLocation,s.clearLocationCache=x.clearLocationCache,s.getVisibleSegment=x.getVisibleSegment,s.findPointOnPath=x.findPointOnPath;var g=e(1426);s.extendFlat=g.extendFlat,s.extendDeep=g.extendDeep,s.extendDeepAll=g.extendDeepAll,s.extendDeepNoArrays=g.extendDeepNoArrays;var v=e(47769);s.log=v.log,s.warn=v.warn,s.error=v.error;var T=e(30587);s.counterRegex=T.counter;var c=e(79990);s.throttle=c.throttle,s.throttleDone=c.done,s.clearThrottle=c.clear;var E=e(24401);function A($){var ne={};for(var ae in $)for(var oe=$[ae],se=0;se<oe.length;se++)ne[oe[se]]=+ae;return ne}s.getGraphDiv=E.getGraphDiv,s.isPlotDiv=E.isPlotDiv,s.removeElement=E.removeElement,s.addStyleRule=E.addStyleRule,s.addRelatedStyleRule=E.addRelatedStyleRule,s.deleteRelatedStyleRule=E.deleteRelatedStyleRule,s.getFullTransformMatrix=E.getFullTransformMatrix,s.getElementTransformMatrix=E.getElementTransformMatrix,s.getElementAndAncestors=E.getElementAndAncestors,s.equalDomRects=E.equalDomRects,s.clearResponsive=e(86367),s.preserveDrawingBuffer=e(45142),s.makeTraceGroups=e(77310),s._=e(15867),s.notifier=e(75046),s.filterUnique=e(75744),s.filterVisible=e(76756),s.pushUnique=e(75138),s.increment=e(39240),s.cleanNumber=e(95218),s.ensureNumber=function($){return k($)?($=Number($))>f||$<l?t:$:t},s.isIndex=function($,ne){return!(ne!==void 0&&$>=ne)&&k($)&&$>=0&&$%1==0},s.noop=e(64213),s.identity=e(23389),s.repeat=function($,ne){for(var ae=new Array(ne),oe=0;oe<ne;oe++)ae[oe]=$;return ae},s.swapAttrs=function($,ne,ae,oe){ae||(ae="x"),oe||(oe="y");for(var se=0;se<ne.length;se++){var ce=ne[se],me=s.nestedProperty($,ce.replace("?",ae)),xe=s.nestedProperty($,ce.replace("?",oe)),ve=me.get();me.set(xe.get()),xe.set(ve)}},s.raiseToTop=function($){$.parentNode.appendChild($)},s.cancelTransition=function($){return $.transition().duration(0)},s.constrain=function($,ne,ae){return ne>ae?Math.max(ae,Math.min(ne,$)):Math.max(ne,Math.min(ae,$))},s.bBoxIntersect=function($,ne,ae){return ae=ae||0,$.left<=ne.right+ae&&ne.left<=$.right+ae&&$.top<=ne.bottom+ae&&ne.top<=$.bottom+ae},s.simpleMap=function($,ne,ae,oe,se){for(var ce=$.length,me=new Array(ce),xe=0;xe<ce;xe++)me[xe]=ne($[xe],ae,oe,se);return me},s.randstr=function $(ne,ae,oe,se){if(oe||(oe=16),ae===void 0&&(ae=24),ae<=0)return"0";var ce,me,xe=Math.log(Math.pow(2,ae))/Math.log(oe),ve="";for(ce=2;xe===1/0;ce*=2)xe=Math.log(Math.pow(2,ae/ce))/Math.log(oe)*ce;var fe=xe-Math.floor(xe);for(ce=0;ce<Math.floor(xe);ce++)ve=Math.floor(Math.random()*oe).toString(oe)+ve;fe&&(me=Math.pow(oe,fe),ve=Math.floor(Math.random()*me).toString(oe)+ve);var pe=parseInt(ve,oe);return ne&&ne[ve]||pe!==1/0&&pe>=Math.pow(2,ae)?se>10?(s.warn("randstr failed uniqueness"),ve):$(ne,ae,oe,(se||0)+1):ve},s.OptionControl=function($,ne){$||($={}),ne||(ne="opt");var ae={optionList:[],_newoption:function(oe){oe[ne]=$,ae[oe.name]=oe,ae.optionList.push(oe)}};return ae["_"+ne]=$,ae},s.smooth=function($,ne){if((ne=Math.round(ne)||0)<2)return $;var ae,oe,se,ce,me=$.length,xe=2*me,ve=2*ne-1,fe=new Array(ve),pe=new Array(me);for(ae=0;ae<ve;ae++)fe[ae]=(1-Math.cos(Math.PI*(ae+1)/ne))/(2*ne);for(ae=0;ae<me;ae++){for(ce=0,oe=0;oe<ve;oe++)(se=ae+oe+1-ne)<-me?se-=xe*Math.round(se/xe):se>=xe&&(se-=xe*Math.floor(se/xe)),se<0?se=-1-se:se>=me&&(se=xe-1-se),ce+=$[se]*fe[oe];pe[ae]=ce}return pe},s.syncOrAsync=function($,ne,ae){var oe;function se(){return s.syncOrAsync($,ne,ae)}for(;$.length;)if((oe=(0,$.splice(0,1)[0])(ne))&&oe.then)return oe.then(se);return ae&&ae(ne)},s.stripTrailingSlash=function($){return $.substr(-1)==="/"?$.substr(0,$.length-1):$},s.noneOrAll=function($,ne,ae){if($){var oe,se=!1,ce=!0;for(oe=0;oe<ae.length;oe++)$[ae[oe]]!=null?se=!0:ce=!1;if(se&&!ce)for(oe=0;oe<ae.length;oe++)$[ae[oe]]=ne[ae[oe]]}},s.mergeArray=function($,ne,ae,oe){var se=typeof oe=="function";if(s.isArrayOrTypedArray($))for(var ce=Math.min($.length,ne.length),me=0;me<ce;me++){var xe=$[me];ne[me][ae]=se?oe(xe):xe}},s.mergeArrayCastPositive=function($,ne,ae){return s.mergeArray($,ne,ae,function(oe){var se=+oe;return isFinite(se)&&se>0?se:0})},s.fillArray=function($,ne,ae,oe){if(oe=oe||s.identity,s.isArrayOrTypedArray($))for(var se=0;se<ne.length;se++)ne[se][ae]=oe($[se])},s.castOption=function($,ne,ae,oe){oe=oe||s.identity;var se=s.nestedProperty($,ae).get();return s.isArrayOrTypedArray(se)?Array.isArray(ne)&&s.isArrayOrTypedArray(se[ne[0]])?oe(se[ne[0]][ne[1]]):oe(se[ne]):se},s.extractOption=function($,ne,ae,oe){if(ae in $)return $[ae];var se=s.nestedProperty(ne,oe).get();return Array.isArray(se)?void 0:se},s.tagSelected=function($,ne,ae){var oe,se,ce=ne.selectedpoints,me=ne._indexToPoints;me&&(oe=A(me));for(var xe=0;xe<ce.length;xe++){var ve=ce[xe];if(s.isIndex(ve)||s.isArrayOrTypedArray(ve)&&s.isIndex(ve[0])&&s.isIndex(ve[1])){var fe=oe?oe[ve]:ve,pe=ae?ae[fe]:fe;(se=pe)!==void 0&&se<$.length&&($[pe].selected=1)}}},s.selIndices2selPoints=function($){var ne=$.selectedpoints,ae=$._indexToPoints;if(ae){for(var oe=A(ae),se=[],ce=0;ce<ne.length;ce++){var me=ne[ce];if(s.isIndex(me)){var xe=oe[me];s.isIndex(xe)&&se.push(xe)}}return se}return ne},s.getTargetArray=function($,ne){var ae=ne.target;if(typeof ae=="string"&&ae){var oe=s.nestedProperty($,ae).get();return!!Array.isArray(oe)&&oe}return!!Array.isArray(ae)&&ae},s.minExtend=function($,ne){var ae={};typeof ne!="object"&&(ne={});var oe,se,ce,me=Object.keys($);for(oe=0;oe<me.length;oe++)ce=$[se=me[oe]],se.charAt(0)!=="_"&&typeof ce!="function"&&(se==="module"?ae[se]=ce:Array.isArray(ce)?ae[se]=se==="colorscale"?ce.slice():ce.slice(0,3):s.isTypedArray(ce)?ae[se]=ce.subarray(0,3):ae[se]=ce&&typeof ce=="object"?s.minExtend($[se],ne[se]):ce);for(me=Object.keys(ne),oe=0;oe<me.length;oe++)typeof(ce=ne[se=me[oe]])=="object"&&se in ae&&typeof ae[se]=="object"||(ae[se]=ce);return ae},s.titleCase=function($){return $.charAt(0).toUpperCase()+$.substr(1)},s.containsAny=function($,ne){for(var ae=0;ae<ne.length;ae++)if($.indexOf(ne[ae])!==-1)return!0;return!1},s.isIE=function(){return window.navigator.msSaveBlob!==void 0};var C=/Version\/[\d\.]+.*Safari/;s.isSafari=function(){return C.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;s.isIOS=function(){return O.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;s.getFirefoxVersion=function(){var $=P.exec(window.navigator.userAgent);if($&&$.length===2){var ne=parseInt($[1]);if(!isNaN(ne))return ne}return null},s.isD3Selection=function($){return $ instanceof b.selection},s.ensureSingle=function($,ne,ae,oe){var se=$.select(ne+(ae?"."+ae:""));if(se.size())return se;var ce=$.append(ne);return ae&&ce.classed(ae,!0),oe&&ce.call(oe),ce},s.ensureSingleById=function($,ne,ae,oe){var se=$.select(ne+"#"+ae);if(se.size())return se;var ce=$.append(ne).attr("id",ae);return oe&&ce.call(oe),ce},s.objectFromPath=function($,ne){for(var ae,oe=$.split("."),se=ae={},ce=0;ce<oe.length;ce++){var me=oe[ce],xe=null,ve=oe[ce].match(/(.*)\[([0-9]+)\]/);ve?(me=ve[1],xe=ve[2],ae=ae[me]=[],ce===oe.length-1?ae[xe]=ne:ae[xe]={},ae=ae[xe]):(ce===oe.length-1?ae[me]=ne:ae[me]={},ae=ae[me])}return se};var D=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;s.expandObjectPaths=function($){var ne,ae,oe,se,ce,me,xe;if(typeof $=="object"&&!Array.isArray($))for(ae in $)$.hasOwnProperty(ae)&&((ne=ae.match(D))?(se=$[ae],oe=ne[1],delete $[ae],$[oe]=s.extendDeepNoArrays($[oe]||{},s.objectFromPath(ae,s.expandObjectPaths(se))[oe])):(ne=ae.match(z))?(se=$[ae],oe=ne[1],ce=parseInt(ne[2]),delete $[ae],$[oe]=$[oe]||[],ne[3]==="."?(xe=ne[4],me=$[oe][ce]=$[oe][ce]||{},s.extendDeepNoArrays(me,s.objectFromPath(xe,s.expandObjectPaths(se)))):$[oe][ce]=s.expandObjectPaths(se)):$[ae]=s.expandObjectPaths($[ae]));return $},s.numSeparate=function($,ne,ae){if(ae||(ae=!1),typeof ne!="string"||ne.length===0)throw new Error("Separator string required for formatting!");typeof $=="number"&&($=String($));var oe=/(\d+)(\d{3})/,se=ne.charAt(0),ce=ne.charAt(1),me=$.split("."),xe=me[0],ve=me.length>1?se+me[1]:"";if(ce&&(me.length>1||xe.length>4||ae))for(;oe.test(xe);)xe=xe.replace(oe,"$1"+ce+"$2");return xe+ve},s.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var V=/^\w*$/;s.templateString=function($,ne){var ae={};return $.replace(s.TEMPLATE_STRING_REGEX,function(oe,se){var ce;return V.test(se)?ce=ne[se]:(ae[se]=ae[se]||s.nestedProperty(ne,se).get,ce=ae[se]()),s.isValidTextValue(ce)?ce:""})};var F={max:10,count:0,name:"hovertemplate"};s.hovertemplateString=function(){return ee.apply(F,arguments)};var W={max:10,count:0,name:"texttemplate"};s.texttemplateString=function(){return ee.apply(W,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function U($){var ne=$.match(B);return ne?{key:ne[1],op:ne[2],number:Number(ne[3])}:{key:$,op:null,number:null}}var H={max:10,count:0,name:"texttemplate",parseMultDiv:!0};s.texttemplateStringForShapes=function(){return ee.apply(H,arguments)};var q=/^[:|\|]/;function ee($,ne,ae){var oe=this,se=arguments;ne||(ne={});var ce={};return $.replace(s.TEMPLATE_STRING_REGEX,function(me,xe,ve){var fe=xe==="_xother"||xe==="_yother",pe=xe==="_xother_"||xe==="_yother_",Le=xe==="xother_"||xe==="yother_",ye=xe==="xother"||xe==="yother"||fe||Le||pe,Ae=xe;(fe||pe)&&(Ae=Ae.substring(1)),(Le||pe)&&(Ae=Ae.substring(0,Ae.length-1));var Me,ke,te,ue=null,ge=null;if(oe.parseMultDiv){var we=U(Ae);Ae=we.key,ue=we.op,ge=we.number}if(ye){if((Me=ne[Ae])===void 0)return""}else for(te=3;te<se.length;te++)if(ke=se[te]){if(ke.hasOwnProperty(Ae)){Me=ke[Ae];break}if(V.test(Ae)||(Me=s.nestedProperty(ke,Ae).get(),(Me=ce[Ae]||s.nestedProperty(ke,Ae).get())&&(ce[Ae]=Me)),Me!==void 0)break}if(Me!==void 0&&(ue==="*"&&(Me*=ge),ue==="/"&&(Me/=ge)),Me===void 0&&oe)return oe.count<oe.max&&(s.warn("Variable '"+Ae+"' in "+oe.name+" could not be found!"),Me=me),oe.count===oe.max&&s.warn("Too many "+oe.name+" warnings - additional warnings will be suppressed"),oe.count++,me;if(ve){var Ee;if(ve[0]===":"&&(Me=(Ee=ae?ae.numberFormat:s.numberFormat)(ve.replace(q,""))(Me)),ve[0]==="|"){Ee=ae?ae.timeFormat:w;var Be=s.dateTime2ms(Me);Me=s.formatDate(Be,ve.replace(q,""),!1,Ee)}}else{var Re=Ae+"Label";ne.hasOwnProperty(Re)&&(Me=ne[Re])}return ye&&(Me="("+Me+")",(fe||pe)&&(Me=" "+Me),(Le||pe)&&(Me+=" ")),Me})}s.subplotSort=function($,ne){for(var ae=Math.min($.length,ne.length)+1,oe=0,se=0,ce=0;ce<ae;ce++){var me=$.charCodeAt(ce)||0,xe=ne.charCodeAt(ce)||0,ve=me>=48&&me<=57,fe=xe>=48&&xe<=57;if(ve&&(oe=10*oe+me-48),fe&&(se=10*se+xe-48),!ve||!fe){if(oe!==se)return oe-se;if(me!==xe)return me-xe}}return se-oe};var K=2e9;s.seedPseudoRandom=function(){K=2e9},s.pseudoRandom=function(){var $=K;return K=(69069*K+1)%4294967296,Math.abs(K-$)<429496729?s.pseudoRandom():K/4294967296},s.fillText=function($,ne,ae){var oe=Array.isArray(ae)?function(me){ae.push(me)}:function(me){ae.text=me},se=s.extractOption($,ne,"htx","hovertext");if(s.isValidTextValue(se))return oe(se);var ce=s.extractOption($,ne,"tx","text");return s.isValidTextValue(ce)?oe(ce):void 0},s.isValidTextValue=function($){return $||$===0},s.formatPercent=function($,ne){ne=ne||0;for(var ae=(Math.round(100*$*Math.pow(10,ne))*Math.pow(.1,ne)).toFixed(ne)+"%",oe=0;oe<ne;oe++)ae.indexOf(".")!==-1&&(ae=(ae=ae.replace("0%","%")).replace(".%","%"));return ae},s.isHidden=function($){var ne=window.getComputedStyle($).display;return!ne||ne==="none"},s.strTranslate=function($,ne){return $||ne?"translate("+$+","+ne+")":""},s.strRotate=function($){return $?"rotate("+$+")":""},s.strScale=function($){return $!==1?"scale("+$+")":""},s.getTextTransform=function($){var ne=$.noCenter,ae=$.textX,oe=$.textY,se=$.targetX,ce=$.targetY,me=$.anchorX||0,xe=$.anchorY||0,ve=$.rotate,fe=$.scale;return fe?fe>1&&(fe=1):fe=0,s.strTranslate(se-fe*(ae+me),ce-fe*(oe+xe))+s.strScale(fe)+(ve?"rotate("+ve+(ne?"":" "+ae+" "+oe)+")":"")},s.setTransormAndDisplay=function($,ne){$.attr("transform",s.getTextTransform(ne)),$.style("display",ne.scale?null:"none")},s.ensureUniformFontSize=function($,ne){var ae=s.extendFlat({},ne);return ae.size=Math.max(ne.size,$._fullLayout.uniformtext.minsize||0),ae},s.join2=function($,ne,ae){var oe=$.length;return oe>1?$.slice(0,-1).join(ne)+ae+$[oe-1]:$.join(ne)},s.bigFont=function($){return Math.round(1.2*$)};var J=s.getFirefoxVersion(),Z=J!==null&&J<86;s.getPositionFromD3Event=function(){return Z?[b.event.layerX,b.event.layerY]:[b.event.offsetX,b.event.offsetY]}},41965:function(L){"use strict";L.exports=function(M){return window&&window.process&&window.process.versions?Object.prototype.toString.call(M)==="[object Object]":Object.prototype.toString.call(M)==="[object Object]"&&Object.getPrototypeOf(M).hasOwnProperty("hasOwnProperty")}},66636:function(L,M,e){"use strict";var b=e(65487),w=/^\w*$/;L.exports=function(a,k,y,f){var l,t,s;y=y||"name",f=f||"value";var o={};k&&k.length?(s=b(a,k),t=s.get()):t=a,k=k||"";var n={};if(t)for(l=0;l<t.length;l++)n[t[l][y]]=l;var r=w.test(f),i={set:function(u,p){var h=p===null?4:0;if(!t){if(!s||h===4)return;t=[],s.set(t)}var _=n[u];if(_===void 0){if(h===4)return;h|=3,_=t.length,n[u]=_}else p!==(r?t[_][f]:b(t[_],f).get())&&(h|=2);var m=t[_]=t[_]||{};return m[y]=u,r?m[f]=p:b(m,f).set(p),p!==null&&(h&=-5),o[_]=o[_]|h,i},get:function(u){if(t){var p=n[u];return p===void 0?void 0:r?t[p][f]:b(t[p],f).get()}},rename:function(u,p){var h=n[u];return h===void 0||(o[h]=1|o[h],n[p]=h,delete n[u],t[h][y]=p),i},remove:function(u){var p=n[u];if(p===void 0)return i;var h=t[p];if(Object.keys(h).length>2)return o[p]=2|o[p],i.set(u,null);if(r){for(l=p;l<t.length;l++)o[l]=3|o[l];for(l=p;l<t.length;l++)n[t[l][y]]--;t.splice(p,1),delete n[u]}else b(h,f).set(null),o[p]=6|o[p];return i},constructUpdate:function(){for(var u,p,h={},_=Object.keys(o),m=0;m<_.length;m++)p=_[m],u=k+"["+p+"]",t[p]?(1&o[p]&&(h[u+"."+y]=t[p][y]),2&o[p]&&(h[u+"."+f]=r?4&o[p]?null:t[p][f]:4&o[p]?null:b(t[p],f).get())):h[u]=null;return h}};return i}},15867:function(L,M,e){"use strict";var b=e(73972);L.exports=function(w,a){for(var k=w._context.locale,y=0;y<2;y++){for(var f=w._context.locales,l=0;l<2;l++){var t=(f[k]||{}).dictionary;if(t){var s=t[a];if(s)return s}f=b.localeRegistry}var o=k.split("-")[0];if(o===k)break;k=o}return a}},47769:function(L,M,e){"use strict";var b=e(72075).dfltConfig,w=e(75046),a=L.exports={};a.log=function(){var k;if(b.logging>1){var y=["LOG:"];for(k=0;k<arguments.length;k++)y.push(arguments[k]);console.trace.apply(console,y)}if(b.notifyOnLogging>1){var f=[];for(k=0;k<arguments.length;k++)f.push(arguments[k]);w(f.join("<br>"),"long")}},a.warn=function(){var k;if(b.logging>0){var y=["WARN:"];for(k=0;k<arguments.length;k++)y.push(arguments[k]);console.trace.apply(console,y)}if(b.notifyOnLogging>0){var f=[];for(k=0;k<arguments.length;k++)f.push(arguments[k]);w(f.join("<br>"),"stick")}},a.error=function(){var k;if(b.logging>0){var y=["ERROR:"];for(k=0;k<arguments.length;k++)y.push(arguments[k]);console.error.apply(console,y)}if(b.notifyOnLogging>0){var f=[];for(k=0;k<arguments.length;k++)f.push(arguments[k]);w(f.join("<br>"),"stick")}}},77310:function(L,M,e){"use strict";var b=e(39898);L.exports=function(w,a,k){var y=w.selectAll("g."+k.replace(/\s/g,".")).data(a,function(l){return l[0].trace.uid});y.exit().remove(),y.enter().append("g").attr("class",k),y.order();var f=w.classed("rangeplot")?"nodeRangePlot3":"node3";return y.each(function(l){l[0][f]=b.select(this)}),y}},35657:function(L,M,e){"use strict";var b=e(79576);M.init2dArray=function(w,a){for(var k=new Array(w),y=0;y<w;y++)k[y]=new Array(a);return k},M.transposeRagged=function(w){var a,k,y=0,f=w.length;for(a=0;a<f;a++)y=Math.max(y,w[a].length);var l=new Array(y);for(a=0;a<y;a++)for(l[a]=new Array(f),k=0;k<f;k++)l[a][k]=w[k][a];return l},M.dot=function(w,a){if(!w.length||!a.length||w.length!==a.length)return null;var k,y,f=w.length;if(w[0].length)for(k=new Array(f),y=0;y<f;y++)k[y]=M.dot(w[y],a);else if(a[0].length){var l=M.transposeRagged(a);for(k=new Array(l.length),y=0;y<l.length;y++)k[y]=M.dot(w,l[y])}else for(k=0,y=0;y<f;y++)k+=w[y]*a[y];return k},M.translationMatrix=function(w,a){return[[1,0,w],[0,1,a],[0,0,1]]},M.rotationMatrix=function(w){var a=w*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},M.rotationXYMatrix=function(w,a,k){return M.dot(M.dot(M.translationMatrix(a,k),M.rotationMatrix(w)),M.translationMatrix(-a,-k))},M.apply3DTransform=function(w){return function(){var a=arguments,k=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return M.dot(w,[k[0],k[1],k[2],1]).slice(0,3)}},M.apply2DTransform=function(w){return function(){var a=arguments;a.length===3&&(a=a[0]);var k=arguments.length===1?a[0]:[a[0],a[1]];return M.dot(w,[k[0],k[1],1]).slice(0,2)}},M.apply2DTransform2=function(w){var a=M.apply2DTransform(w);return function(k){return a(k.slice(0,2)).concat(a(k.slice(2,4)))}},M.convertCssMatrix=function(w){if(w){var a=w.length;if(a===16)return w;if(a===6)return[w[0],w[1],0,0,w[2],w[3],0,0,0,0,1,0,w[4],w[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},M.inverseTransformMatrix=function(w){var a=[];return b.invert(a,w),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(L){"use strict";L.exports={mod:function(M,e){var b=M%e;return b<0?b+e:b},modHalf:function(M,e){return Math.abs(M)>e/2?M-Math.round(M/e)*e:M}}},65487:function(L,M,e){"use strict";var b=e(92770),w=e(73627).isArrayOrTypedArray;function a(o,n){return function(){var r,i,u,p,h,_=o;for(p=0;p<n.length-1;p++){if((r=n[p])===-1){for(i=!0,u=[],h=0;h<_.length;h++)u[h]=a(_[h],n.slice(p+1))(),u[h]!==u[0]&&(i=!1);return i?u[0]:u}if(typeof r=="number"&&!w(_)||typeof(_=_[r])!="object"||_===null)return}if(typeof _=="object"&&_!==null&&(u=_[n[p]])!==null)return u}}L.exports=function(o,n){if(b(n))n=String(n);else if(typeof n!="string"||n.substr(n.length-4)==="[-1]")throw"bad property string";for(var r,i,u,p=0,h=n.split(".");p<h.length;){if(r=String(h[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])h[p]=r[1];else{if(p!==0)throw"bad property string";h.splice(0,1)}for(i=r[2].substr(1,r[2].length-2).split("]["),u=0;u<i.length;u++)p++,h.splice(p,0,Number(i[u]))}p++}return typeof o!="object"?function(_,m,d){return{set:function(){throw"bad container"},get:function(){},astr:m,parts:d,obj:_}}(o,n,h):{set:f(o,h,n),get:a(o,h),astr:n,parts:h,obj:o}};var k=/(^|\.)args\[/;function y(o,n){return o===void 0||o===null&&!n.match(k)}function f(o,n,r){return function(i){var u,p,h=o,_="",m=[[o,_]],d=y(i,r);for(p=0;p<n.length-1;p++){if(typeof(u=n[p])=="number"&&!w(h))throw"array index but container is not an array";if(u===-1){if(d=!t(h,n.slice(p+1),i,r))break;return}if(!s(h,u,n[p+1],d))break;if(typeof(h=h[u])!="object"||h===null)throw"container is not an object";_=l(_,u),m.push([h,_])}if(d){if(p===n.length-1&&(delete h[n[p]],Array.isArray(h)&&+n[p]==h.length-1))for(;h.length&&h[h.length-1]===void 0;)h.pop()}else h[n[p]]=i}}function l(o,n){var r=n;return b(n)?r="["+n+"]":o&&(r="."+n),o+r}function t(o,n,r,i){var u,p=w(r),h=!0,_=r,m=i.replace("-1",0),d=!p&&y(r,m),x=n[0];for(u=0;u<o.length;u++)m=i.replace("-1",u),p&&(d=y(_=r[u%r.length],m)),d&&(h=!1),s(o,u,x,d)&&f(o[u],n,i.replace("-1",u))(_);return h}function s(o,n,r,i){if(o[n]===void 0){if(i)return!1;o[n]=typeof r=="number"?[]:{}}return!0}},64213:function(L){"use strict";L.exports=function(){}},75046:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=[];L.exports=function(k,y){if(a.indexOf(k)===-1){a.push(k);var f=1e3;w(y)?f=y:y==="long"&&(f=3e3);var l=b.select("body").selectAll(".plotly-notifier").data([0]);l.enter().append("div").classed("plotly-notifier",!0),l.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var o=b.select(this);o.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){o.transition().call(t)});for(var n=o.append("p"),r=s.split(/<br\s*\/?>/g),i=0;i<r.length;i++)i&&n.append("br"),n.append("span").text(r[i]);y==="stick"?o.transition().duration(350).style("opacity",1):o.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}function t(s){s.duration(700).style("opacity",0).each("end",function(o){var n=a.indexOf(o);n!==-1&&a.splice(n,1),b.select(this).remove()})}}},39918:function(L,M,e){"use strict";var b=e(6964),w="data-savedcursor";L.exports=function(a,k){var y=a.attr(w);if(k){if(!y){for(var f=(a.attr("class")||"").split(" "),l=0;l<f.length;l++){var t=f[l];t.indexOf("cursor-")===0&&a.attr(w,t.substr(7)).classed(t,!1)}a.attr(w)||a.attr(w,"!!")}b(a,k)}else y&&(a.attr(w,null),y==="!!"?b(a):b(a,y))}},61082:function(L,M,e){"use strict";var b=e(35657).dot,w=e(50606).BADNUM,a=L.exports={};a.tester=function(k){var y,f=k.slice(),l=f[0][0],t=l,s=f[0][1],o=s;for(f[f.length-1][0]===f[0][0]&&f[f.length-1][1]===f[0][1]||f.push(f[0]),y=1;y<f.length;y++)l=Math.min(l,f[y][0]),t=Math.max(t,f[y][0]),s=Math.min(s,f[y][1]),o=Math.max(o,f[y][1]);var n,r=!1;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(r=!0,n=function(p){return p[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(r=!0,n=function(p){return p[1]===f[0][1]}));var i=!0,u=f[0];for(y=1;y<f.length;y++)if(u[0]!==f[y][0]||u[1]!==f[y][1]){i=!1;break}return{xmin:l,xmax:t,ymin:s,ymax:o,pts:f,contains:r?function(p,h){var _=p[0],m=p[1];return!(_===w||_<l||_>t||m===w||m<s||m>o||h&&n(p))}:function(p,h){var _=p[0],m=p[1];if(_===w||_<l||_>t||m===w||m<s||m>o)return!1;var d,x,g,v,T,c=f.length,E=f[0][0],A=f[0][1],C=0;for(d=1;d<c;d++)if(x=E,g=A,E=f[d][0],A=f[d][1],!(_<(v=Math.min(x,E))||_>Math.max(x,E)||m>Math.max(g,A)))if(m<Math.min(g,A))_!==v&&C++;else{if(m===(T=E===x?m:g+(_-x)*(A-g)/(E-x)))return d!==1||!h;m<=T&&_!==v&&C++}return C%2==1},isRect:r,degenerate:i}},a.isSegmentBent=function(k,y,f,l){var t,s,o,n=k[y],r=[k[f][0]-n[0],k[f][1]-n[1]],i=b(r,r),u=Math.sqrt(i),p=[-r[1]/u,r[0]/u];for(t=y+1;t<f;t++)if(s=[k[t][0]-n[0],k[t][1]-n[1]],(o=b(s,r))<0||o>i||Math.abs(b(s,p))>l)return!0;return!1},a.filter=function(k,y){var f=[k[0]],l=0,t=0;function s(o){k.push(o);var n=f.length,r=l;f.splice(t+1);for(var i=r+1;i<k.length;i++)(i===k.length-1||a.isSegmentBent(k,r,i+1,y))&&(f.push(k[i]),f.length<n-2&&(l=i,t=f.length-1),r=i)}return k.length>1&&s(k.pop()),{addPt:s,raw:k,filtered:f}}},79749:function(L,M,e){"use strict";var b=e(58617),w=e(98580);L.exports=function(a,k,y){var f=a._fullLayout,l=!0;return f._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(y);else if(!t.pick||f._has("parcoords")){try{t.regl=w({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:k||[],cachedCode:y||{}})}catch{l=!1}t.regl||(l=!1),l&&this.addEventListener("webglcontextlost",function(s){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:s,layer:t.key})},!1)}}),l||b({container:f._glcontainer.node()}),l}},45142:function(L,M,e){"use strict";var b=e(92770),w=e(35791);L.exports=function(a){var k;if(typeof(k=a&&a.hasOwnProperty("userAgent")?a.userAgent:function(){var n;return typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),n}())!="string")return!0;var y=w({ua:{headers:{"user-agent":k}},tablet:!0,featureDetect:!1});if(!y){for(var f=k.split(" "),l=1;l<f.length;l++)if(f[l].indexOf("Safari")!==-1)for(var t=l-1;t>-1;t--){var s=f[t];if(s.substr(0,8)==="Version/"){var o=s.substr(8).split(".")[0];if(b(o)&&(o=+o),o>=13)return!0}}}return y}},75138:function(L){"use strict";L.exports=function(M,e){if(e instanceof RegExp){for(var b=e.toString(),w=0;w<M.length;w++)if(M[w]instanceof RegExp&&M[w].toString()===b)return M;M.push(e)}else!e&&e!==0||M.indexOf(e)!==-1||M.push(e);return M}},10847:function(L,M,e){"use strict";var b=e(71828),w=e(72075).dfltConfig,a={add:function(k,y,f,l,t){var s,o;k.undoQueue=k.undoQueue||{index:0,queue:[],sequence:!1},o=k.undoQueue.index,k.autoplay?k.undoQueue.inSequence||(k.autoplay=!1):(!k.undoQueue.sequence||k.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},k.undoQueue.queue.splice(o,k.undoQueue.queue.length-o,s),k.undoQueue.index+=1):s=k.undoQueue.queue[o-1],k.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(y),s.undo.args.unshift(f),s.redo.calls.push(l),s.redo.args.push(t)),k.undoQueue.queue.length>w.queueLength&&(k.undoQueue.queue.shift(),k.undoQueue.index--))},startSequence:function(k){k.undoQueue=k.undoQueue||{index:0,queue:[],sequence:!1},k.undoQueue.sequence=!0,k.undoQueue.beginSequence=!0},stopSequence:function(k){k.undoQueue=k.undoQueue||{index:0,queue:[],sequence:!1},k.undoQueue.sequence=!1,k.undoQueue.beginSequence=!1},undo:function(k){var y,f;if(!(k.undoQueue===void 0||isNaN(k.undoQueue.index)||k.undoQueue.index<=0)){for(k.undoQueue.index--,y=k.undoQueue.queue[k.undoQueue.index],k.undoQueue.inSequence=!0,f=0;f<y.undo.calls.length;f++)a.plotDo(k,y.undo.calls[f],y.undo.args[f]);k.undoQueue.inSequence=!1,k.autoplay=!1}},redo:function(k){var y,f;if(!(k.undoQueue===void 0||isNaN(k.undoQueue.index)||k.undoQueue.index>=k.undoQueue.queue.length)){for(y=k.undoQueue.queue[k.undoQueue.index],k.undoQueue.inSequence=!0,f=0;f<y.redo.calls.length;f++)a.plotDo(k,y.redo.calls[f],y.redo.args[f]);k.undoQueue.inSequence=!1,k.autoplay=!1,k.undoQueue.index++}},plotDo:function(k,y,f){k.autoplay=!0,f=function(l,t){for(var s,o=[],n=0;n<t.length;n++)s=t[n],o[n]=s===l?s:typeof s=="object"?Array.isArray(s)?b.extendDeep([],s):b.extendDeepAll({},s):s;return o}(k,f),y.apply(null,f)}};L.exports=a},30587:function(L,M){"use strict";M.counter=function(e,b,w,a){var k=(b||"")+(w?"":"$"),y=a===!1?"":"^";return e==="xy"?new RegExp(y+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+k):new RegExp(y+e+"([2-9]|[1-9][0-9]+)?"+k)}},6962:function(L){"use strict";var M=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;L.exports=function(b,w){for(;w;){var a=b.match(M);if(a)b=a[1];else{if(!b.match(e))throw new Error("bad relativeAttr call:"+[b,w]);b=""}if(w.charAt(0)!=="^")break;w=w.slice(1)}return b&&w.charAt(0)!=="["?b+"."+w:b+w}},51332:function(L,M,e){"use strict";var b=e(73627).isArrayOrTypedArray,w=e(41965);L.exports=function a(k,y){for(var f in y){var l=y[f],t=k[f];if(t!==l)if(f.charAt(0)==="_"||typeof l=="function"){if(f in k)continue;k[f]=l}else if(b(l)&&b(t)&&w(l[0])){if(f==="customdata"||f==="ids")continue;for(var s=Math.min(l.length,t.length),o=0;o<s;o++)t[o]!==l[o]&&w(l[o])&&w(t[o])&&a(t[o],l[o])}else w(l)&&w(t)&&(a(t,l),Object.keys(t).length||delete k[f])}}},65888:function(L,M,e){"use strict";var b=e(92770),w=e(47769),a=e(23389),k=e(50606).BADNUM,y=1e-9;function f(o,n){return o<n}function l(o,n){return o<=n}function t(o,n){return o>n}function s(o,n){return o>=n}M.findBin=function(o,n,r){if(b(n.start))return r?Math.ceil((o-n.start)/n.size-y)-1:Math.floor((o-n.start)/n.size+y);var i,u,p=0,h=n.length,_=0,m=h>1?(n[h-1]-n[0])/(h-1):1;for(u=m>=0?r?f:l:r?s:t,o+=m*y*(r?-1:1)*(m>=0?1:-1);p<h&&_++<100;)u(n[i=Math.floor((p+h)/2)],o)?p=i+1:h=i;return _>90&&w.log("Long binary search..."),p-1},M.sorterAsc=function(o,n){return o-n},M.sorterDes=function(o,n){return n-o},M.distinctVals=function(o){var n,r=o.slice();for(r.sort(M.sorterAsc),n=r.length-1;n>-1&&r[n]===k;n--);for(var i,u=r[n]-r[0]||1,p=u/(n||1)/1e4,h=[],_=0;_<=n;_++){var m=r[_],d=m-i;i===void 0?(h.push(m),i=m):d>p&&(u=Math.min(u,d),h.push(m),i=m)}return{vals:h,minDiff:u}},M.roundUp=function(o,n,r){for(var i,u=0,p=n.length-1,h=0,_=r?0:1,m=r?1:0,d=r?Math.ceil:Math.floor;u<p&&h++<100;)n[i=d((u+p)/2)]<=o?u=i+_:p=i-m;return n[u]},M.sort=function(o,n){for(var r=0,i=0,u=1;u<o.length;u++){var p=n(o[u],o[u-1]);if(p<0?r=1:p>0&&(i=1),r&&i)return o.sort(n)}return i?o:o.reverse()},M.findIndexOfMin=function(o,n){n=n||a;for(var r,i=1/0,u=0;u<o.length;u++){var p=n(o[u]);p<i&&(i=p,r=u)}return r}},6964:function(L){"use strict";L.exports=function(M,e){(M.attr("class")||"").split(" ").forEach(function(b){b.indexOf("cursor-")===0&&M.classed(b,!1)}),e&&M.classed("cursor-"+e,!0)}},58617:function(L,M,e){"use strict";var b=e(7901),w=function(){};L.exports=function(a){for(var k in a)typeof a[k]=="function"&&(a[k]=w);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var y=document.createElement("div");y.className="no-webgl",y.style.cursor="pointer",y.style.fontSize="24px",y.style.color=b.defaults[0],y.style.position="absolute",y.style.left=y.style.top="0px",y.style.width=y.style.height="100%",y.style["background-color"]=b.lightLine,y.style["z-index"]=30;var f=document.createElement("p");return f.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",f.style.position="relative",f.style.top="50%",f.style.left="50%",f.style.height="30%",f.style.width="50%",f.style.margin="-15% 0 0 -25%",y.appendChild(f),a.container.appendChild(y),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(L){"use strict";L.exports=function(M){return Object.keys(M).sort()}},80038:function(L,M,e){"use strict";var b=e(92770),w=e(73627).isArrayOrTypedArray;M.aggNums=function(a,k,y,f){var l,t;if((!f||f>y.length)&&(f=y.length),b(k)||(k=!1),w(y[0])){for(t=new Array(f),l=0;l<f;l++)t[l]=M.aggNums(a,k,y[l]);y=t}for(l=0;l<f;l++)b(k)?b(y[l])&&(k=a(+k,+y[l])):k=y[l];return k},M.len=function(a){return M.aggNums(function(k){return k+1},0,a)},M.mean=function(a,k){return k||(k=M.len(a)),M.aggNums(function(y,f){return y+f},0,a)/k},M.midRange=function(a){if(a!==void 0&&a.length!==0)return(M.aggNums(Math.max,null,a)+M.aggNums(Math.min,null,a))/2},M.variance=function(a,k,y){return k||(k=M.len(a)),b(y)||(y=M.mean(a,k)),M.aggNums(function(f,l){return f+Math.pow(l-y,2)},0,a)/k},M.stdev=function(a,k,y){return Math.sqrt(M.variance(a,k,y))},M.median=function(a){var k=a.slice().sort();return M.interp(k,.5)},M.interp=function(a,k){if(!b(k))throw"n should be a finite number";if((k=k*a.length-.5)<0)return a[0];if(k>a.length-1)return a[a.length-1];var y=k%1;return y*a[Math.ceil(k)]+(1-y)*a[Math.floor(k)]}},78614:function(L,M,e){"use strict";var b=e(25075);L.exports=function(w){return w?b(w):[0,0,0,1]}},63893:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=w.strTranslate,k=e(77922),y=e(18783).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;M.convertToTspans=function(z,V,F){var W=z.text(),B=!z.attr("data-notex")&&V&&V._context.typesetMath&&typeof MathJax<"u"&&W.match(f),U=b.select(z.node().parentNode);if(!U.empty()){var H=z.attr("class")?z.attr("class").split(" ")[0]:"text";return H+="-math",U.selectAll("svg."+H).remove(),U.selectAll("g."+H+"-group").remove(),z.style("display",null).attr({"data-unformatted":W,"data-math":"N"}),B?(V&&V._promises||[]).push(new Promise(function(ee){z.style("display","none");var K=parseInt(z.node().style.fontSize,10),J={fontSize:K};(function(Z,$,ne){var ae,oe,se,ce,me=parseInt((MathJax.version||"").split(".")[0]);if(me===2||me===3){var xe=function(){var fe="math-output-"+w.randstr({},64),pe=(ce=b.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":$.fontSize+"px"}).text(Z.replace(l,"\\lt ").replace(t,"\\gt "))).node();return me===2?MathJax.Hub.Typeset(pe):MathJax.typeset([pe])},ve=function(){var fe=ce.select(me===2?".MathJax_SVG":".MathJax"),pe=!fe.empty()&&ce.select("svg").node();if(pe){var Le,ye=pe.getBoundingClientRect();Le=me===2?b.select("body").select("#MathJax_SVG_glyphs"):fe.select("defs"),ne(fe,Le,ye)}else w.log("There was an error in the tex syntax.",Z),ne();ce.remove()};me===2?MathJax.Hub.Queue(function(){return oe=w.extendDeepAll({},MathJax.Hub.config),se=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},function(){if((ae=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},xe,ve,function(){if(ae!=="SVG")return MathJax.Hub.setRenderer(ae)},function(){return se!==void 0&&(MathJax.Hub.processSectionDelay=se),MathJax.Hub.Config(oe)}):me===3&&(oe=w.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s,(ae=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){xe(),ve(),ae!=="svg"&&(MathJax.config.startup.output=ae),MathJax.config=oe}))}else w.warn("No MathJax version:",MathJax.version)})(B[2],J,function(Z,$,ne){U.selectAll("svg."+H).remove(),U.selectAll("g."+H+"-group").remove();var ae=Z&&Z.select("svg");if(!ae||!ae.node())return q(),void ee();var oe=U.append("g").classed(H+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});oe.node().appendChild(ae.node()),$&&$.node()&&ae.node().insertBefore($.node().cloneNode(!0),ae.node().firstChild);var se=ne.width,ce=ne.height;ae.attr({class:H,height:ce,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var me=z.node().style.fill||"black",xe=ae.select("g");xe.attr({fill:me,stroke:me});var ve=xe.node().getBoundingClientRect(),fe=ve.width,pe=ve.height;(fe>se||pe>ce)&&(ae.style("overflow","hidden"),fe=(ve=ae.node().getBoundingClientRect()).width,pe=ve.height);var Le=+z.attr("x"),ye=+z.attr("y"),Ae=-(K||z.node().getBoundingClientRect().height)/4;if(H[0]==="y")oe.attr({transform:"rotate("+[-90,Le,ye]+")"+a(-fe/2,Ae-pe/2)});else if(H[0]==="l")ye=Ae-pe/2;else if(H[0]==="a"&&H.indexOf("atitle")!==0)Le=0,ye=Ae;else{var Me=z.attr("text-anchor");Le-=fe*(Me==="middle"?.5:Me==="end"?1:0),ye=ye+Ae-pe/2}ae.attr({x:Le,y:ye}),F&&F.call(z,oe),ee(oe)})})):q(),z}function q(){U.empty()||(H=z.attr("class")+"-math",U.select("svg."+H).remove()),z.text("").style("white-space","pre");var ee=function(K,J){J=J.replace(p," ");var Z,$=!1,ne=[],ae=-1;function oe(){ae++;var ge=document.createElementNS(k.svg,"tspan");b.select(ge).attr({class:"line",dy:ae*y+"em"}),K.appendChild(ge),Z=ge;var we=ne;if(ne=[{node:ge}],we.length>1)for(var Ee=1;Ee<we.length;Ee++)se(we[Ee])}function se(ge){var we,Ee=ge.type,Be={};if(Ee==="a"){we="a";var Re=ge.target,je=ge.href,he=ge.popup;je&&(Be={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":je},he&&(Be.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+he+'");return false;'))}else we="tspan";ge.style&&(Be.style=ge.style);var _e=document.createElementNS(k.svg,we);if(Ee==="sup"||Ee==="sub"){ce(Z,i),Z.appendChild(_e);var Te=document.createElementNS(k.svg,"tspan");ce(Te,i),b.select(Te).attr("dy",r[Ee]),Be.dy=n[Ee],Z.appendChild(_e),Z.appendChild(Te)}else Z.appendChild(_e);b.select(_e).attr(Be),Z=ge.node=_e,ne.push(ge)}function ce(ge,we){ge.appendChild(document.createTextNode(we))}function me(ge){if(ne.length!==1){var we=ne.pop();ge!==we.type&&w.log("Start tag <"+we.type+"> doesnt match end tag <"+ge+">. Pretending it did match.",J),Z=ne[ne.length-1].node}else w.log("Ignoring unexpected end tag </"+ge+">.",J)}m.test(J)?oe():(Z=K,ne=[{node:K}]);for(var xe=J.split(h),ve=0;ve<xe.length;ve++){var fe=xe[ve],pe=fe.match(_),Le=pe&&pe[2].toLowerCase(),ye=o[Le];if(Le==="br")oe();else if(ye===void 0)ce(Z,C(fe));else if(pe[1])me(Le);else{var Ae=pe[4],Me={type:Le},ke=T(Ae,d);if(ke?(ke=ke.replace(c,"$1 fill:"),ye&&(ke+=";"+ye)):ye&&(ke=ye),ke&&(Me.style=ke),Le==="a"){$=!0;var te=T(Ae,x);if(te){var ue=O(te);ue&&(Me.href=ue,Me.target=T(Ae,g)||"_blank",Me.popup=T(Ae,v))}}se(Me)}}return $}(z.node(),W);ee&&z.style("pointer-events","all"),M.positionText(z),F&&F.call(z)}};var l=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,s=[["$","$"],["\\(","\\)"]],o={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},n={sub:"0.3em",sup:"-0.6em"},r={sub:"-0.21em",sup:"0.42em"},i="\u200B",u=["http:","https:","mailto:","",void 0,":"],p=M.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,_=/<(\/?)([^ >]*)(\s+(.*))?>/i,m=/<br(\s+.*)?>/i;M.BR_TAG_ALL=/<br(\s+.*)?>/gi;var d=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,x=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,g=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,v=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(z,V){if(!z)return null;var F=z.match(V),W=F&&(F[3]||F[4]);return W&&C(W)}var c=/(^|;)\s*color:/;M.plainText=function(z,V){for(var F=(V=V||{}).len!==void 0&&V.len!==-1?V.len:1/0,W=V.allowedTags!==void 0?V.allowedTags:["br"],B=3,U=z.split(h),H=[],q="",ee=0,K=0;K<U.length;K++){var J=U[K],Z=J.match(_),$=Z&&Z[2].toLowerCase();if($)W.indexOf($)!==-1&&(H.push(J),q=$);else{var ne=J.length;if(ee+ne<F)H.push(J),ee+=ne;else if(ee<F){var ae=F-ee;q&&(q!=="br"||ae<=B||ne<=B)&&H.pop(),F>B?H.push(J.substr(0,ae-B)+"..."):H.push(J.substr(0,ae));break}q=""}}return H.join("")};var E={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},A=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(z){return z.replace(A,function(V,F){return(F.charAt(0)==="#"?function(W){if(!(W>1114111)){var B=String.fromCodePoint;if(B)return B(W);var U=String.fromCharCode;return W<=65535?U(W):U(55232+(W>>10),W%1024+56320)}}(F.charAt(1)==="x"?parseInt(F.substr(2),16):parseInt(F.substr(1),10)):E[F])||V})}function O(z){var V=encodeURI(decodeURI(z)),F=document.createElement("a"),W=document.createElement("a");F.href=z,W.href=V;var B=F.protocol,U=W.protocol;return u.indexOf(B)!==-1&&u.indexOf(U)!==-1?V:""}function P(z,V,F){var W,B,U,H=F.horizontalAlign,q=F.verticalAlign||"top",ee=z.node().getBoundingClientRect(),K=V.node().getBoundingClientRect();return B=q==="bottom"?function(){return ee.bottom-W.height}:q==="middle"?function(){return ee.top+(ee.height-W.height)/2}:function(){return ee.top},U=H==="right"?function(){return ee.right-W.width}:H==="center"?function(){return ee.left+(ee.width-W.width)/2}:function(){return ee.left},function(){W=this.node().getBoundingClientRect();var J=U()-K.left,Z=B()-K.top,$=F.gd||{};if(F.gd){$._fullLayout._calcInverseTransform($);var ne=w.apply3DTransform($._fullLayout._invTransform)(J,Z);J=ne[0],Z=ne[1]}return this.style({top:Z+"px",left:J+"px","z-index":1e3}),this}}M.convertEntities=C,M.sanitizeHTML=function(z){z=z.replace(p," ");for(var V=document.createElement("p"),F=V,W=[],B=z.split(h),U=0;U<B.length;U++){var H=B[U],q=H.match(_),ee=q&&q[2].toLowerCase();if(ee in o)if(q[1])W.length&&(F=W.pop());else{var K=q[4],J=T(K,d),Z=J?{style:J}:{};if(ee==="a"){var $=T(K,x);if($){var ne=O($);if(ne){Z.href=ne;var ae=T(K,g);ae&&(Z.target=ae)}}}var oe=document.createElement(ee);F.appendChild(oe),b.select(oe).attr(Z),F=oe,W.push(oe)}else F.appendChild(document.createTextNode(C(H)))}return V.innerHTML},M.lineCount=function(z){return z.selectAll("tspan.line").size()||1},M.positionText=function(z,V,F){return z.each(function(){var W=b.select(this);function B(q,ee){return ee===void 0?(ee=W.attr(q))===null&&(W.attr(q,0),ee=0):W.attr(q,ee),ee}var U=B("x",V),H=B("y",F);this.nodeName==="text"&&W.selectAll("tspan.line").attr({x:U,y:H})})};var D="1px ";M.makeTextShadow=function(z){return"1px 1px 1px "+z+", -1px -"+D+D+z+", 1px -"+D+D+z+", -"+D+D+D+z},M.makeEditable=function(z,V){var F=V.gd,W=V.delegate,B=b.dispatch("edit","input","cancel"),U=W||z;if(z.style({"pointer-events":W?"none":"all"}),z.size()!==1)throw new Error("boo");function H(){var ee,K,J,Z,$;ee=b.select(F).select(".svg-container"),K=ee.append("div"),J=z.node().style,Z=parseFloat(J.fontSize||12),($=V.text)===void 0&&($=z.attr("data-unformatted")),K.classed("plugin-editable editable",!0).style({position:"absolute","font-family":J.fontFamily||"Arial","font-size":Z,color:V.fill||J.fill||"black",opacity:1,"background-color":V.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Z/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(P(z,ee,V)).on("blur",function(){F._editing=!1,z.text(this.textContent).style({opacity:1});var oe,se=b.select(this).attr("class");(oe=se?"."+se.split(" ")[0]+"-math-group":"[class*=-math-group]")&&b.select(z.node().parentNode).select(oe).style({opacity:0});var ce=this.textContent;b.select(this).transition().duration(0).remove(),b.select(document).on("mouseup",null),B.edit.call(z,ce)}).on("focus",function(){var oe=this;F._editing=!0,b.select(document).on("mouseup",function(){if(b.event.target===oe)return!1;document.activeElement===K.node()&&K.node().blur()})}).on("keyup",function(){b.event.which===27?(F._editing=!1,z.style({opacity:1}),b.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),B.cancel.call(z,this.textContent)):(B.input.call(z,this.textContent),b.select(this).call(P(z,ee,V)))}).on("keydown",function(){b.event.which===13&&this.blur()}).call(q),z.style({opacity:0});var ne,ae=U.attr("class");(ne=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&b.select(z.node().parentNode).select(ne).style({opacity:0})}function q(ee){var K=ee.node(),J=document.createRange();J.selectNodeContents(K);var Z=window.getSelection();Z.removeAllRanges(),Z.addRange(J),K.focus()}return V.immediate?H():U.on("click",H),b.rebind(z,B,"on")}},79990:function(L,M){"use strict";var e={};function b(w){w&&w.timer!==null&&(clearTimeout(w.timer),w.timer=null)}M.throttle=function(w,a,k){var y=e[w],f=Date.now();if(!y){for(var l in e)e[l].ts<f-6e4&&delete e[l];y=e[w]={ts:0,timer:null}}function t(){k(),y.ts=Date.now(),y.onDone&&(y.onDone(),y.onDone=null)}b(y),f>y.ts+a?t():y.timer=setTimeout(function(){t(),y.timer=null},a)},M.done=function(w){var a=e[w];return a&&a.timer?new Promise(function(k){var y=a.onDone;a.onDone=function(){y&&y(),k(),a.onDone=null}}):Promise.resolve()},M.clear=function(w){if(w)b(e[w]),delete e[w];else for(var a in e)M.clear(a)}},58163:function(L,M,e){"use strict";var b=e(92770);L.exports=function(w,a){if(w>0)return Math.log(w)/Math.LN10;var k=Math.log(Math.min(a[0],a[1]))/Math.LN10;return b(k)||(k=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),k}},90973:function(L,M,e){"use strict";var b=L.exports={},w=e(78776).locationmodeToLayer,a=e(96892).zL;b.getTopojsonName=function(k){return[k.scope.replace(/ /g,"-"),"_",k.resolution.toString(),"m"].join("")},b.getTopojsonPath=function(k,y){return k+y+".json"},b.getTopojsonFeatures=function(k,y){var f=w[k.locationmode],l=y.objects[f];return a(y,l).features}},37815:function(L){"use strict";L.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(L){"use strict";L.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(L,M,e){"use strict";var b=e(73972);L.exports=function(w){for(var a,k,y=b.layoutArrayContainers,f=b.layoutArrayRegexes,l=w.split("[")[0],t=0;t<f.length;t++)if((k=w.match(f[t]))&&k.index===0){a=k[0];break}if(a||(a=y[y.indexOf(l)]),!a)return!1;var s=w.substr(a.length);return s?!!(k=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(k[1]),property:k[3]||""}:{array:a,index:"",property:""}}},30962:function(L,M,e){"use strict";var b=e(71828),w=b.extendFlat,a=b.isPlainObject,k={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},y={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},f=k.flags.slice().concat(["fullReplot"]),l=y.flags.slice().concat("layoutReplot");function t(n){for(var r={},i=0;i<n.length;i++)r[n[i]]=!1;return r}function s(n,r,i){var u=w({},n);for(var p in u){var h=u[p];a(h)&&(u[p]=o(h,r,0,p))}return i==="from-root"&&(u.editType=r),u}function o(n,r,i,u){if(n.valType){var p=w({},n);if(p.editType=r,Array.isArray(n.items)){p.items=new Array(n.items.length);for(var h=0;h<n.items.length;h++)p.items[h]=o(n.items[h],r)}return p}return s(n,r,u.charAt(0)==="_"?"nested":"from-root")}L.exports={traces:k,layout:y,traceFlags:function(){return t(f)},layoutFlags:function(){return t(l)},update:function(n,r){var i=r.editType;if(i&&i!=="none")for(var u=i.split("+"),p=0;p<u.length;p++)n[u[p]]=!0},overrideAll:s}},58377:function(L,M,e){"use strict";var b=e(92770),w=e(27812),a=e(73972),k=e(71828),y=e(74875),f=e(41675),l=e(7901),t=f.cleanId,s=f.getFromTrace,o=a.traceIs;function n(x,g){var v=x[g],T=g.charAt(0);v&&v!=="paper"&&(x[g]=t(v,T,!0))}function r(x){function g(v,T){var c=x[v],E=x.title&&x.title[T];c&&!E&&(x.title||(x.title={}),x.title[T]=x[v],delete x[v])}x&&(typeof x.title!="string"&&typeof x.title!="number"||(x.title={text:x.title}),g("titlefont","font"),g("titleposition","position"),g("titleside","side"),g("titleoffset","offset"))}function i(x){if(!k.isPlainObject(x))return!1;var g=x.name;return delete x.name,delete x.showlegend,(typeof g=="string"||typeof g=="number")&&String(g)}function u(x,g,v,T){if(v&&!T)return x;if(T&&!v||!x.trim())return g;if(!g.trim())return x;var c,E=Math.min(x.length,g.length);for(c=0;c<E&&x.charAt(c)===g.charAt(c);c++);return x.substr(0,c).trim()}function p(x){var g="middle",v="center";return typeof x=="string"&&(x.indexOf("top")!==-1?g="top":x.indexOf("bottom")!==-1&&(g="bottom"),x.indexOf("left")!==-1?v="left":x.indexOf("right")!==-1&&(v="right")),g+" "+v}function h(x,g){return g in x&&typeof x[g]=="object"&&Object.keys(x[g]).length===0}M.clearPromiseQueue=function(x){Array.isArray(x._promises)&&x._promises.length>0&&k.log("Clearing previous rejected promises from queue."),x._promises=[]},M.cleanLayout=function(x){var g,v;x||(x={}),x.xaxis1&&(x.xaxis||(x.xaxis=x.xaxis1),delete x.xaxis1),x.yaxis1&&(x.yaxis||(x.yaxis=x.yaxis1),delete x.yaxis1),x.scene1&&(x.scene||(x.scene=x.scene1),delete x.scene1);var T=(y.subplotsRegistry.cartesian||{}).attrRegex,c=(y.subplotsRegistry.polar||{}).attrRegex,E=(y.subplotsRegistry.ternary||{}).attrRegex,A=(y.subplotsRegistry.gl3d||{}).attrRegex,C=Object.keys(x);for(g=0;g<C.length;g++){var O=C[g];if(T&&T.test(O)){var P=x[O];P.anchor&&P.anchor!=="free"&&(P.anchor=t(P.anchor)),P.overlaying&&(P.overlaying=t(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":P.isdate===!1&&P.islog===!1&&(P.type="linear")),P.autorange!=="withzero"&&P.autorange!=="tozero"||(P.autorange=!0,P.rangemode="tozero"),delete P.islog,delete P.isdate,delete P.categories,h(P,"domain")&&delete P.domain,P.autotick!==void 0&&(P.tickmode===void 0&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),r(P)}else if(c&&c.test(O))r(x[O].radialaxis);else if(E&&E.test(O)){var D=x[O];r(D.aaxis),r(D.baxis),r(D.caxis)}else if(A&&A.test(O)){var z=x[O],V=z.cameraposition;if(Array.isArray(V)&&V[0].length===4){var F=V[0],W=V[1],B=V[2],U=w([],F),H=[];for(v=0;v<3;++v)H[v]=W[v]+B*U[2+4*v];z.camera={eye:{x:H[0],y:H[1],z:H[2]},center:{x:W[0],y:W[1],z:W[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}r(z.xaxis),r(z.yaxis),r(z.zaxis)}}var q=Array.isArray(x.annotations)?x.annotations.length:0;for(g=0;g<q;g++){var ee=x.annotations[g];k.isPlainObject(ee)&&(ee.ref&&(ee.ref==="paper"?(ee.xref="paper",ee.yref="paper"):ee.ref==="data"&&(ee.xref="x",ee.yref="y"),delete ee.ref),n(ee,"xref"),n(ee,"yref"))}var K=Array.isArray(x.shapes)?x.shapes.length:0;for(g=0;g<K;g++){var J=x.shapes[g];k.isPlainObject(J)&&(n(J,"xref"),n(J,"yref"))}var Z=Array.isArray(x.images)?x.images.length:0;for(g=0;g<Z;g++){var $=x.images[g];k.isPlainObject($)&&(n($,"xref"),n($,"yref"))}var ne=x.legend;return ne&&(ne.x>3?(ne.x=1.02,ne.xanchor="left"):ne.x<-2&&(ne.x=-.02,ne.xanchor="right"),ne.y>3?(ne.y=1.02,ne.yanchor="bottom"):ne.y<-2&&(ne.y=-.02,ne.yanchor="top")),r(x),x.dragmode==="rotate"&&(x.dragmode="orbit"),l.clean(x),x.template&&x.template.layout&&M.cleanLayout(x.template.layout),x},M.cleanData=function(x){for(var g=0;g<x.length;g++){var v,T=x[g];if(T.type==="histogramy"&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var c=l.defaults,E=T.error_y.color||(o(T,"bar")?l.defaultLine:c[g%c.length]);T.error_y.color=l.addOpacity(l.rgb(E),l.opacity(E)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&(T.bardir!=="h"||!o(T,"bar")&&T.type.substr(0,9)!=="histogram"||(T.orientation="h",M.swapXYData(T)),delete T.bardir),T.type==="histogramy"&&M.swapXYData(T),T.type!=="histogramx"&&T.type!=="histogramy"||(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=t(T.xaxis,"x")),T.yaxis&&(T.yaxis=t(T.yaxis,"y")),o(T,"gl3d")&&T.scene&&(T.scene=y.subplotsRegistry.gl3d.cleanId(T.scene)),!o(T,"pie-like")&&!o(T,"bar-like"))if(Array.isArray(T.textposition))for(v=0;v<T.textposition.length;v++)T.textposition[v]=p(T.textposition[v]);else T.textposition&&(T.textposition=p(T.textposition));var A=a.getModule(T);if(A&&A.colorbar){var C=A.colorbar.container,O=C?T[C]:T;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(T.type==="surface"&&k.isPlainObject(T.contours)){var P=["x","y","z"];for(v=0;v<P.length;v++){var D=T.contours[P[v]];k.isPlainObject(D)&&(D.highlightColor&&(D.highlightcolor=D.highlightColor,delete D.highlightColor),D.highlightWidth&&(D.highlightwidth=D.highlightWidth,delete D.highlightWidth))}}if(T.type==="candlestick"||T.type==="ohlc"){var z=(T.increasing||{}).showlegend!==!1,V=(T.decreasing||{}).showlegend!==!1,F=i(T.increasing),W=i(T.decreasing);if(F!==!1&&W!==!1){var B=u(F,W,z,V);B&&(T.name=B)}else!F&&!W||T.name||(T.name=F||W)}if(Array.isArray(T.transforms)){var U=T.transforms;for(v=0;v<U.length;v++){var H=U[v];if(k.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var q=H.styles,ee=Object.keys(q);H.styles=[];for(var K=0;K<ee.length;K++)H.styles.push({target:ee[K],value:q[ee[K]]})}}}}h(T,"line")&&delete T.line,"marker"in T&&(h(T.marker,"line")&&delete T.marker.line,h(T,"marker")&&delete T.marker),l.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),r(T),T.colorbar&&r(T.colorbar),T.marker&&T.marker.colorbar&&r(T.marker.colorbar),T.line&&T.line.colorbar&&r(T.line.colorbar),T.aaxis&&r(T.aaxis),T.baxis&&r(T.baxis)}},M.swapXYData=function(x){var g;if(k.swapAttrs(x,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(x.z)&&Array.isArray(x.z[0])&&(x.transpose?delete x.transpose:x.transpose=!0),x.error_x&&x.error_y){var v=x.error_y,T="copy_ystyle"in v?v.copy_ystyle:!(v.color||v.thickness||v.width);k.swapAttrs(x,["error_?.copy_ystyle"]),T&&k.swapAttrs(x,["error_?.color","error_?.thickness","error_?.width"])}if(typeof x.hoverinfo=="string"){var c=x.hoverinfo.split("+");for(g=0;g<c.length;g++)c[g]==="x"?c[g]="y":c[g]==="y"&&(c[g]="x");x.hoverinfo=c.join("+")}},M.coerceTraceIndices=function(x,g){if(b(g))return[g];if(!Array.isArray(g)||!g.length)return x.data.map(function(c,E){return E});if(Array.isArray(g)){for(var v=[],T=0;T<g.length;T++)k.isIndex(g[T],x.data.length)?v.push(g[T]):k.warn("trace index (",g[T],") is not a number or is out of bounds");return v}return g},M.manageArrayContainers=function(x,g,v){var T=x.obj,c=x.parts,E=c.length,A=c[E-1],C=b(A);if(C&&g===null){var O=c.slice(0,E-1).join(".");k.nestedProperty(T,O).get().splice(A,1)}else C&&x.get()===void 0&&x.get()===void 0&&(v[x.astr]=null),x.set(g)};var _=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function m(x){var g=x.search(_);if(g>0)return x.substr(0,g)}M.hasParent=function(x,g){for(var v=m(g);v;){if(v in x)return!0;v=m(v)}return!1};var d=["x","y","z"];M.clearAxisTypes=function(x,g,v){for(var T=0;T<g.length;T++)for(var c=x._fullData[T],E=0;E<3;E++){var A=s(x,c,d[E]);if(A&&A.type!=="log"){var C=A._name,O=A._id.substr(1);if(O.substr(0,5)==="scene"){if(v[O]!==void 0)continue;C=O+"."+C}var P=C+".type";v[C]===void 0&&v[P]===void 0&&k.nestedProperty(x.layout,P).set(null)}}}},10641:function(L,M,e){"use strict";var b=e(72391);M._doPlot=b._doPlot,M.newPlot=b.newPlot,M.restyle=b.restyle,M.relayout=b.relayout,M.redraw=b.redraw,M.update=b.update,M._guiRestyle=b._guiRestyle,M._guiRelayout=b._guiRelayout,M._guiUpdate=b._guiUpdate,M._storeDirectGUIEdit=b._storeDirectGUIEdit,M.react=b.react,M.extendTraces=b.extendTraces,M.prependTraces=b.prependTraces,M.addTraces=b.addTraces,M.deleteTraces=b.deleteTraces,M.moveTraces=b.moveTraces,M.purge=b.purge,M.addFrames=b.addFrames,M.deleteFrames=b.deleteFrames,M.animate=b.animate,M.setPlotConfig=b.setPlotConfig,M.toImage=e(403),M.validate=e(84936),M.downloadImage=e(7239);var w=e(96318);M.makeTemplate=w.makeTemplate,M.validateTemplate=w.validateTemplate},6611:function(L,M,e){"use strict";var b=e(41965),w=e(64213),a=e(47769),k=e(65888).sorterAsc,y=e(73972);M.containerArrayMatch=e(14458);var f=M.isAddVal=function(t){return t==="add"||b(t)},l=M.isRemoveVal=function(t){return t===null||t==="remove"};M.applyContainerArrayChanges=function(t,s,o,n,r){var i=s.astr,u=y.getComponentMethod(i,"supplyLayoutDefaults"),p=y.getComponentMethod(i,"draw"),h=y.getComponentMethod(i,"drawOne"),_=n.replot||n.recalc||u===w||p===w,m=t.layout,d=t._fullLayout;if(o[""]){Object.keys(o).length>1&&a.warn("Full array edits are incompatible with other edits",i);var x=o[""][""];if(l(x))s.set(null);else{if(!Array.isArray(x))return a.warn("Unrecognized full array edit value",i,x),!0;s.set(x)}return!_&&(u(m,d),p(t),!0)}var g,v,T,c,E,A,C,O,P=Object.keys(o).map(Number).sort(k),D=s.get(),z=D||[],V=r(d,i).get(),F=[],W=-1,B=z.length;for(g=0;g<P.length;g++)if(c=o[T=P[g]],E=Object.keys(c),A=c[""],C=f(A),T<0||T>z.length-(C?0:1))a.warn("index out of range",i,T);else if(A!==void 0)E.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",i,T),l(A)?F.push(T):C?(A==="add"&&(A={}),z.splice(T,0,A),V&&V.splice(T,0,{})):a.warn("Unrecognized full object edit value",i,T,A),W===-1&&(W=T);else for(v=0;v<E.length;v++)O=i+"["+T+"].",r(z[T],E[v],O).set(c[E[v]]);for(g=F.length-1;g>=0;g--)z.splice(F[g],1),V&&V.splice(F[g],1);if(z.length?D||s.set(z):s.set(null),_)return!1;if(u(m,d),h!==w){var U;if(W===-1)U=P;else{for(B=Math.max(z.length,B),U=[],g=0;g<P.length&&!((T=P[g])>=W);g++)U.push(T);for(g=W;g<B;g++)U.push(g)}for(g=0;g<U.length;g++)h(t,U[g])}else p(t);return!0}},72391:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(57035),k=e(71828),y=k.nestedProperty,f=e(11086),l=e(10847),t=e(73972),s=e(86281),o=e(74875),n=e(89298),r=e(91424),i=e(7901),u=e(4305).initInteractions,p=e(77922),h=e(47322).clearOutline,_=e(72075).dfltConfig,m=e(6611),d=e(58377),x=e(61549),g=e(30962),v=e(85555).AX_NAME_PATTERN,T=0;function c(te){var ue=te._fullLayout;ue._redrawFromAutoMarginCount?ue._redrawFromAutoMarginCount--:te.emit("plotly_afterplot")}function E(te,ue){try{te._fullLayout._paper.style("background",ue)}catch(ge){k.error(ge)}}function A(te,ue){E(te,i.combine(ue,"white"))}function C(te,ue){if(!te._context){te._context=k.extendDeep({},_);var ge=b.select("base");te._context._baseUrl=ge.size()&&ge.attr("href")?window.location.href.split("#")[0]:""}var we,Ee,Be,Re=te._context;if(ue){for(Ee=Object.keys(ue),we=0;we<Ee.length;we++)(Be=Ee[we])!=="editable"&&Be!=="edits"&&Be in Re&&(Be==="setBackground"&&ue[Be]==="opaque"?Re[Be]=A:Re[Be]=ue[Be]);ue.plot3dPixelRatio&&!Re.plotGlPixelRatio&&(Re.plotGlPixelRatio=Re.plot3dPixelRatio);var je=ue.editable;if(je!==void 0)for(Re.editable=je,Ee=Object.keys(Re.edits),we=0;we<Ee.length;we++)Re.edits[Ee[we]]=je;if(ue.edits)for(Ee=Object.keys(ue.edits),we=0;we<Ee.length;we++)(Be=Ee[we])in Re.edits&&(Re.edits[Be]=ue.edits[Be]);Re._exportedPlot=ue._exportedPlot}Re.staticPlot&&(Re.editable=!1,Re.edits={},Re.autosizable=!1,Re.scrollZoom=!1,Re.doubleClick=!1,Re.showTips=!1,Re.showLink=!1,Re.displayModeBar=!1),Re.displayModeBar!=="hover"||a||(Re.displayModeBar=!0),Re.setBackground!=="transparent"&&typeof Re.setBackground=="function"||(Re.setBackground=E),Re._hasZeroHeight=Re._hasZeroHeight||te.clientHeight===0,Re._hasZeroWidth=Re._hasZeroWidth||te.clientWidth===0;var he=Re.scrollZoom,_e=Re._scrollZoom={};if(he===!0)_e.cartesian=1,_e.gl3d=1,_e.geo=1,_e.mapbox=1;else if(typeof he=="string"){var Te=he.split("+");for(we=0;we<Te.length;we++)_e[Te[we]]=1}else he!==!1&&(_e.gl3d=1,_e.geo=1,_e.mapbox=1)}function O(te,ue){var ge,we,Ee=ue+1,Be=[];for(ge=0;ge<te.length;ge++)(we=te[ge])<0?Be.push(Ee+we):Be.push(we);return Be}function P(te,ue,ge){var we,Ee;for(we=0;we<ue.length;we++){if((Ee=ue[we])!==parseInt(Ee,10))throw new Error("all values in "+ge+" must be integers");if(Ee>=te.data.length||Ee<-te.data.length)throw new Error(ge+" must be valid indices for gd.data.");if(ue.indexOf(Ee,we+1)>-1||Ee>=0&&ue.indexOf(-te.data.length+Ee)>-1||Ee<0&&ue.indexOf(te.data.length+Ee)>-1)throw new Error("each index in "+ge+" must be unique.")}}function D(te,ue,ge){if(!Array.isArray(te.data))throw new Error("gd.data must be an array.");if(ue===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(ue)||(ue=[ue]),P(te,ue,"currentIndices"),ge===void 0||Array.isArray(ge)||(ge=[ge]),ge!==void 0&&P(te,ge,"newIndices"),ge!==void 0&&ue.length!==ge.length)throw new Error("current and new indices must be of equal length.")}function z(te,ue,ge,we,Ee){(function(Ye,Ge,ot,st){var ht=k.isPlainObject(st);if(!Array.isArray(Ye.data))throw new Error("gd.data must be an array");if(!k.isPlainObject(Ge))throw new Error("update must be a key:value object");if(ot===void 0)throw new Error("indices must be an integer or array of integers");for(var xt in P(Ye,ot,"indices"),Ge){if(!Array.isArray(Ge[xt])||Ge[xt].length!==ot.length)throw new Error("attribute "+xt+" must be an array of length equal to indices array length");if(ht&&(!(xt in st)||!Array.isArray(st[xt])||st[xt].length!==Ge[xt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(te,ue,ge,we);for(var Be=function(Ye,Ge,ot,st){var ht,xt,Ct,St,kt,Nt=k.isPlainObject(st),Dt=[];for(var Et in Array.isArray(ot)||(ot=[ot]),ot=O(ot,Ye.data.length-1),Ge)for(var Wt=0;Wt<ot.length;Wt++){if(ht=Ye.data[ot[Wt]],xt=(Ct=y(ht,Et)).get(),St=Ge[Et][Wt],!k.isArrayOrTypedArray(St))throw new Error("attribute: "+Et+" index: "+Wt+" must be an array");if(!k.isArrayOrTypedArray(xt))throw new Error("cannot extend missing or non-array attribute: "+Et);if(xt.constructor!==St.constructor)throw new Error("cannot extend array with an array of a different type: "+Et);kt=Nt?st[Et][Wt]:st,w(kt)||(kt=-1),Dt.push({prop:Ct,target:xt,insert:St,maxp:Math.floor(kt)})}return Dt}(te,ue,ge,we),Re={},je={},he=0;he<Be.length;he++){var _e=Be[he].prop,Te=Be[he].maxp,Fe=Ee(Be[he].target,Be[he].insert,Te);_e.set(Fe[0]),Array.isArray(Re[_e.astr])||(Re[_e.astr]=[]),Re[_e.astr].push(Fe[1]),Array.isArray(je[_e.astr])||(je[_e.astr]=[]),je[_e.astr].push(Be[he].target.length)}return{update:Re,maxPoints:je}}function V(te,ue){var ge=new te.constructor(te.length+ue.length);return ge.set(te),ge.set(ue,te.length),ge}function F(te,ue,ge,we){te=k.getGraphDiv(te),d.clearPromiseQueue(te);var Ee={};if(typeof ue=="string")Ee[ue]=ge;else{if(!k.isPlainObject(ue))return k.warn("Restyle fail.",ue,ge,we),Promise.reject();Ee=k.extendFlat({},ue),we===void 0&&(we=ge)}Object.keys(Ee).length&&(te.changed=!0);var Be=d.coerceTraceIndices(te,we),Re=H(te,Ee,Be),je=Re.flags;je.calc&&(te.calcdata=void 0),je.clearAxisTypes&&d.clearAxisTypes(te,Be,{});var he=[];je.fullReplot?he.push(M._doPlot):(he.push(o.previousPromises),o.supplyDefaults(te),je.markerSize&&(o.doCalcdata(te),J(he)),je.style&&he.push(x.doTraceStyle),je.colorbars&&he.push(x.doColorBars),he.push(c)),he.push(o.rehover,o.redrag,o.reselect),l.add(te,F,[te,Re.undoit,Re.traces],F,[te,Re.redoit,Re.traces]);var _e=k.syncOrAsync(he,te);return _e&&_e.then||(_e=Promise.resolve()),_e.then(function(){return te.emit("plotly_restyle",Re.eventData),te})}function W(te){return te===void 0?null:te}function B(te,ue){return ue?function(ge,we,Ee){var Be=y(ge,we),Re=Be.set;return Be.set=function(je){U((Ee||"")+we,Be.get(),je,te),Re(je)},Be}:y}function U(te,ue,ge,we){if(Array.isArray(ue)||Array.isArray(ge))for(var Ee=Array.isArray(ue)?ue:[],Be=Array.isArray(ge)?ge:[],Re=Math.max(Ee.length,Be.length),je=0;je<Re;je++)U(te+"["+je+"]",Ee[je],Be[je],we);else if(k.isPlainObject(ue)||k.isPlainObject(ge)){var he=k.isPlainObject(ue)?ue:{},_e=k.isPlainObject(ge)?ge:{},Te=k.extendFlat({},he,_e);for(var Fe in Te)U(te+"."+Fe,he[Fe],_e[Fe],we)}else we[te]===void 0&&(we[te]=W(ue))}function H(te,ue,ge){var we,Ee=te._fullLayout,Be=te._fullData,Re=te.data,je=Ee._guiEditing,he=B(Ee._preGUI,je),_e=k.extendDeepAll({},ue);q(ue);var Te,Fe=g.traceFlags(),Ye={},Ge={};function ot(){return ge.map(function(){})}function st(Kt){var tn=n.id2name(Kt);Te.indexOf(tn)===-1&&Te.push(tn)}function ht(Kt){return"LAYOUT"+Kt+".autorange"}function xt(Kt){return"LAYOUT"+Kt+".range"}function Ct(Kt){for(var tn=Kt;tn<Be.length;tn++)if(Be[tn]._input===Re[Kt])return Be[tn]}function St(Kt,tn,on){if(Array.isArray(Kt))Kt.forEach(function(Sn){St(Sn,tn,on)});else if(!(Kt in ue)&&!d.hasParent(ue,Kt)){var _n;if(Kt.substr(0,6)==="LAYOUT")_n=he(te.layout,Kt.replace("LAYOUT",""));else{var fn=ge[on];_n=B(Ee._tracePreGUI[Ct(fn)._fullInput.uid],je)(Re[fn],Kt)}Kt in Ge||(Ge[Kt]=ot()),Ge[Kt][on]===void 0&&(Ge[Kt][on]=W(_n.get())),tn!==void 0&&_n.set(tn)}}function kt(Kt){return function(tn){return Be[tn][Kt]}}function Nt(Kt){return function(tn,on){return tn===!1?Be[ge[on]][Kt]:null}}for(var Dt in ue){if(d.hasParent(ue,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");var Et,Wt,Ht,Ke,$e,Ue,nt=ue[Dt];if(Dt!=="autobinx"&&Dt!=="autobiny"||(Dt=Dt.charAt(Dt.length-1)+"bins",nt=Array.isArray(nt)?nt.map(Nt(Dt)):nt===!1?ge.map(kt(Dt)):null),Ye[Dt]=nt,Dt.substr(0,6)!=="LAYOUT"){for(Ge[Dt]=ot(),we=0;we<ge.length;we++)if(Et=Re[ge[we]],Wt=Ct(ge[we]),Ke=(Ht=B(Ee._tracePreGUI[Wt._fullInput.uid],je)(Et,Dt)).get(),($e=Array.isArray(nt)?nt[we%nt.length]:nt)!==void 0){var ct=Ht.parts[Ht.parts.length-1],Oe=Dt.substr(0,Dt.length-ct.length-1),Ne=Oe?Oe+".":"",Qe=Oe?y(Wt,Oe).get():Wt;if((Ue=s.getTraceValObject(Wt,Ht.parts))&&Ue.impliedEdits&&$e!==null)for(var ut in Ue.impliedEdits)St(k.relativeAttr(Dt,ut),Ue.impliedEdits[ut],we);else if(ct!=="thicknessmode"&&ct!=="lenmode"||Ke===$e||$e!=="fraction"&&$e!=="pixels"||!Qe){if(Dt==="type"&&($e==="pie"!=(Ke==="pie")||$e==="funnelarea"!=(Ke==="funnelarea"))){var pt="x",wt="y";$e!=="bar"&&Ke!=="bar"||Et.orientation!=="h"||(pt="y",wt="x"),k.swapAttrs(Et,["?","?src"],"labels",pt),k.swapAttrs(Et,["d?","?0"],"label",pt),k.swapAttrs(Et,["?","?src"],"values",wt),Ke==="pie"||Ke==="funnelarea"?(y(Et,"marker.color").set(y(Et,"marker.colors").get()),Ee._pielayer.selectAll("g.trace").remove()):t.traceIs(Et,"cartesian")&&y(Et,"marker.colors").set(y(Et,"marker.color").get())}}else{var Lt=Ee._size,It=Qe.orient,yt=It==="top"||It==="bottom";if(ct==="thicknessmode"){var Rt=yt?Lt.h:Lt.w;St(Ne+"thickness",Qe.thickness*($e==="fraction"?1/Rt:Rt),we)}else{var bt=yt?Lt.w:Lt.h;St(Ne+"len",Qe.len*($e==="fraction"?1/bt:bt),we)}}if(Ge[Dt][we]=W(Ke),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Dt)!==-1){if(Dt==="orientation"){Ht.set($e);var Pt=Et.x&&!Et.y?"h":"v";if((Ht.get()||Pt)===Wt.orientation)continue}else Dt==="orientationaxes"&&(Et.orientation={v:"h",h:"v"}[Wt.orientation]);d.swapXYData(Et),Fe.calc=Fe.clearAxisTypes=!0}else o.dataArrayContainers.indexOf(Ht.parts[0])!==-1?(d.manageArrayContainers(Ht,$e,Ge),Fe.calc=!0):(Ue?Ue.arrayOk&&!t.traceIs(Wt,"regl")&&(k.isArrayOrTypedArray($e)||k.isArrayOrTypedArray(Ke))?Fe.calc=!0:g.update(Fe,Ue):Fe.calc=!0,Ht.set($e))}if(["swapxyaxes","orientationaxes"].indexOf(Dt)!==-1&&n.swap(te,ge),Dt==="orientationaxes"){var Bt=y(te.layout,"hovermode"),Zt=Bt.get();Zt==="x"?Bt.set("y"):Zt==="y"?Bt.set("x"):Zt==="x unified"?Bt.set("y unified"):Zt==="y unified"&&Bt.set("x unified")}if(["orientation","type"].indexOf(Dt)!==-1){for(Te=[],we=0;we<ge.length;we++){var Yt=Re[ge[we]];t.traceIs(Yt,"cartesian")&&(st(Yt.xaxis||"x"),st(Yt.yaxis||"y"))}St(Te.map(ht),!0,0),St(Te.map(xt),[0,1],0)}}else Ht=he(te.layout,Dt.replace("LAYOUT","")),Ge[Dt]=[W(Ht.get())],Ht.set(Array.isArray(nt)?nt[0]:nt),Fe.calc=!0}return(Fe.calc||Fe.plot)&&(Fe.fullReplot=!0),{flags:Fe,undoit:Ge,redoit:Ye,traces:ge,eventData:k.extendDeepNoArrays([],[_e,ge])}}function q(te){var ue,ge,we,Ee=k.counterRegex("axis",".title",!1,!1),Be=/colorbar\.title$/,Re=Object.keys(te);for(ue=0;ue<Re.length;ue++)ge=Re[ue],we=te[ge],ge!=="title"&&!Ee.test(ge)&&!Be.test(ge)||typeof we!="string"&&typeof we!="number"?ge.indexOf("titlefont")>-1&&ge.indexOf("grouptitlefont")===-1?je(ge,ge.replace("titlefont","title.font")):ge.indexOf("titleposition")>-1?je(ge,ge.replace("titleposition","title.position")):ge.indexOf("titleside")>-1?je(ge,ge.replace("titleside","title.side")):ge.indexOf("titleoffset")>-1&&je(ge,ge.replace("titleoffset","title.offset")):je(ge,ge.replace("title","title.text"));function je(he,_e){te[_e]=te[he],delete te[he]}}function ee(te,ue,ge){te=k.getGraphDiv(te),d.clearPromiseQueue(te);var we={};if(typeof ue=="string")we[ue]=ge;else{if(!k.isPlainObject(ue))return k.warn("Relayout fail.",ue,ge),Promise.reject();we=k.extendFlat({},ue)}Object.keys(we).length&&(te.changed=!0);var Ee=ae(te,we),Be=Ee.flags;Be.calc&&(te.calcdata=void 0);var Re=[o.previousPromises];Be.layoutReplot?Re.push(x.layoutReplot):Object.keys(we).length&&(K(te,Be,Ee)||o.supplyDefaults(te),Be.legend&&Re.push(x.doLegend),Be.layoutstyle&&Re.push(x.layoutStyles),Be.axrange&&J(Re,Ee.rangesAltered),Be.ticks&&Re.push(x.doTicksRelayout),Be.modebar&&Re.push(x.doModeBar),Be.camera&&Re.push(x.doCamera),Be.colorbars&&Re.push(x.doColorBars),Re.push(c)),Re.push(o.rehover,o.redrag,o.reselect),l.add(te,ee,[te,Ee.undoit],ee,[te,Ee.redoit]);var je=k.syncOrAsync(Re,te);return je&&je.then||(je=Promise.resolve(te)),je.then(function(){return te.emit("plotly_relayout",Ee.eventData),te})}function K(te,ue,ge){var we=te._fullLayout;if(!ue.axrange)return!1;for(var Ee in ue)if(Ee!=="axrange"&&ue[Ee])return!1;for(var Be in ge.rangesAltered){var Re=n.id2name(Be),je=te.layout[Re],he=we[Re];if(he.autorange=je.autorange,je.range&&(he.range=je.range.slice()),he.cleanRange(),he._matchGroup){for(var _e in he._matchGroup)if(_e!==Be){var Te=we[n.id2name(_e)];Te.autorange=he.autorange,Te.range=he.range.slice(),Te._input.range=he.range.slice()}}}return!0}function J(te,ue){var ge=ue?function(we){var Ee=[];for(var Be in ue){var Re=n.getFromId(we,Be);if(Ee.push(Be),(Re.ticklabelposition||"").indexOf("inside")!==-1&&Re._anchorAxis&&Ee.push(Re._anchorAxis._id),Re._matchGroup)for(var je in Re._matchGroup)ue[je]||Ee.push(je)}return n.draw(we,Ee,{skipTitle:!0})}:function(we){return n.draw(we,"redraw")};te.push(h,x.doAutoRangeAndConstraints,ge,x.drawData,x.finalDraw)}var Z=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,$=/^[xyz]axis[0-9]*\.autorange$/,ne=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(te,ue){var ge,we,Ee,Be=te.layout,Re=te._fullLayout,je=Re._guiEditing,he=B(Re._preGUI,je),_e=Object.keys(ue),Te=n.list(te),Fe=k.extendDeepAll({},ue),Ye={};for(q(ue),_e=Object.keys(ue),we=0;we<_e.length;we++)if(_e[we].indexOf("allaxes")===0){for(Ee=0;Ee<Te.length;Ee++){var Ge=Te[Ee]._id.substr(1),ot=Ge.indexOf("scene")!==-1?Ge+".":"",st=_e[we].replace("allaxes",ot+Te[Ee]._name);ue[st]||(ue[st]=ue[_e[we]])}delete ue[_e[we]]}var ht=g.layoutFlags(),xt={},Ct={};function St(fn,Sn){if(Array.isArray(fn))fn.forEach(function(An){St(An,Sn)});else if(!(fn in ue)&&!d.hasParent(ue,fn)){var Xn=he(Be,fn);fn in Ct||(Ct[fn]=W(Xn.get())),Sn!==void 0&&Xn.set(Sn)}}var kt,Nt={};function Dt(fn){var Sn=n.name2id(fn.split(".")[0]);return Nt[Sn]=1,Sn}for(var Et in ue){if(d.hasParent(ue,Et))throw new Error("cannot set "+Et+" and a parent attribute simultaneously");for(var Wt=he(Be,Et),Ht=ue[Et],Ke=Wt.parts.length-1;Ke>0&&typeof Wt.parts[Ke]!="string";)Ke--;var $e=Wt.parts[Ke],Ue=Wt.parts[Ke-1]+"."+$e,nt=Wt.parts.slice(0,Ke).join("."),ct=y(te.layout,nt).get(),Oe=y(Re,nt).get(),Ne=Wt.get();if(Ht!==void 0){xt[Et]=Ht,Ct[Et]=$e==="reverse"?Ht:W(Ne);var Qe=s.getLayoutValObject(Re,Wt.parts);if(Qe&&Qe.impliedEdits&&Ht!==null)for(var ut in Qe.impliedEdits)St(k.relativeAttr(Et,ut),Qe.impliedEdits[ut]);if(["width","height"].indexOf(Et)!==-1)if(Ht){St("autosize",null);var pt=Et==="height"?"width":"height";St(pt,Re[pt])}else Re[Et]=te._initialAutoSize[Et];else if(Et==="autosize")St("width",Ht?null:Re.width),St("height",Ht?null:Re.height);else if(Ue.match(Z))Dt(Ue),y(Re,nt+"._inputRange").set(null);else if(Ue.match($)){Dt(Ue),y(Re,nt+"._inputRange").set(null);var wt=y(Re,nt).get();wt._inputDomain&&(wt._input.domain=wt._inputDomain.slice())}else Ue.match(ne)&&y(Re,nt+"._inputDomain").set(null);if($e==="type"){kt=ct;var Lt=Oe.type==="linear"&&Ht==="log",It=Oe.type==="log"&&Ht==="linear";if(Lt||It){if(kt&&kt.range)if(Oe.autorange)Lt&&(kt.range=kt.range[1]>kt.range[0]?[1,2]:[2,1]);else{var yt=kt.range[0],Rt=kt.range[1];Lt?(yt<=0&&Rt<=0&&St(nt+".autorange",!0),yt<=0?yt=Rt/1e6:Rt<=0&&(Rt=yt/1e6),St(nt+".range[0]",Math.log(yt)/Math.LN10),St(nt+".range[1]",Math.log(Rt)/Math.LN10)):(St(nt+".range[0]",Math.pow(10,yt)),St(nt+".range[1]",Math.pow(10,Rt)))}else St(nt+".autorange",!0);Array.isArray(Re._subplots.polar)&&Re._subplots.polar.length&&Re[Wt.parts[0]]&&Wt.parts[1]==="radialaxis"&&delete Re[Wt.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(te,Oe,Ht,St),t.getComponentMethod("images","convertCoords")(te,Oe,Ht,St)}else St(nt+".autorange",!0),St(nt+".range",null);y(Re,nt+"._inputRange").set(null)}else if($e.match(v)){var bt=y(Re,Et).get(),Pt=(Ht||{}).type;Pt&&Pt!=="-"||(Pt="linear"),t.getComponentMethod("annotations","convertCoords")(te,bt,Pt,St),t.getComponentMethod("images","convertCoords")(te,bt,Pt,St)}var Bt=m.containerArrayMatch(Et);if(Bt){ge=Bt.array,we=Bt.index;var Zt=Bt.property,Yt=Qe||{editType:"calc"};we!==""&&Zt===""&&(m.isAddVal(Ht)?Ct[Et]=null:m.isRemoveVal(Ht)?Ct[Et]=(y(Be,ge).get()||[])[we]:k.warn("unrecognized full object value",ue)),g.update(ht,Yt),Ye[ge]||(Ye[ge]={});var Kt=Ye[ge][we];Kt||(Kt=Ye[ge][we]={}),Kt[Zt]=Ht,delete ue[Et]}else $e==="reverse"?(ct.range?ct.range.reverse():(St(nt+".autorange",!0),ct.range=[1,0]),Oe.autorange?ht.calc=!0:ht.plot=!0):(Et==="dragmode"&&(Ht===!1&&Ne!==!1||Ht!==!1&&Ne===!1)||Re._has("scatter-like")&&Re._has("regl")&&Et==="dragmode"&&(Ht==="lasso"||Ht==="select")&&Ne!=="lasso"&&Ne!=="select"||Re._has("gl2d")?ht.plot=!0:Qe?g.update(ht,Qe):ht.calc=!0,Wt.set(Ht))}}for(ge in Ye)m.applyContainerArrayChanges(te,he(Be,ge),Ye[ge],ht,he)||(ht.plot=!0);for(var tn in Nt){var on=(kt=n.getFromId(te,tn))&&kt._constraintGroup;if(on)for(var _n in ht.calc=!0,on)Nt[_n]||(n.getFromId(te,_n)._constraintShrinkable=!0)}return(oe(te)||ue.height||ue.width)&&(ht.plot=!0),(ht.plot||ht.calc)&&(ht.layoutReplot=!0),{flags:ht,rangesAltered:Nt,undoit:Ct,redoit:xt,eventData:Fe}}function oe(te){var ue=te._fullLayout,ge=ue.width,we=ue.height;return te.layout.autosize&&o.plotAutoSize(te,te.layout,ue),ue.width!==ge||ue.height!==we}function se(te,ue,ge,we){te=k.getGraphDiv(te),d.clearPromiseQueue(te),k.isPlainObject(ue)||(ue={}),k.isPlainObject(ge)||(ge={}),Object.keys(ue).length&&(te.changed=!0),Object.keys(ge).length&&(te.changed=!0);var Ee=d.coerceTraceIndices(te,we),Be=H(te,k.extendFlat({},ue),Ee),Re=Be.flags,je=ae(te,k.extendFlat({},ge)),he=je.flags;(Re.calc||he.calc)&&(te.calcdata=void 0),Re.clearAxisTypes&&d.clearAxisTypes(te,Ee,ge);var _e=[];he.layoutReplot?_e.push(x.layoutReplot):Re.fullReplot?_e.push(M._doPlot):(_e.push(o.previousPromises),K(te,he,je)||o.supplyDefaults(te),Re.style&&_e.push(x.doTraceStyle),(Re.colorbars||he.colorbars)&&_e.push(x.doColorBars),he.legend&&_e.push(x.doLegend),he.layoutstyle&&_e.push(x.layoutStyles),he.axrange&&J(_e,je.rangesAltered),he.ticks&&_e.push(x.doTicksRelayout),he.modebar&&_e.push(x.doModeBar),he.camera&&_e.push(x.doCamera),_e.push(c)),_e.push(o.rehover,o.redrag,o.reselect),l.add(te,se,[te,Be.undoit,je.undoit,Be.traces],se,[te,Be.redoit,je.redoit,Be.traces]);var Te=k.syncOrAsync(_e,te);return Te&&Te.then||(Te=Promise.resolve(te)),Te.then(function(){return te.emit("plotly_update",{data:Be.eventData,layout:je.eventData}),te})}function ce(te){return function(ue){ue._fullLayout._guiEditing=!0;var ge=te.apply(null,arguments);return ue._fullLayout._guiEditing=!1,ge}}var me=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],xe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ve(te,ue){for(var ge=0;ge<ue.length;ge++){var we=ue[ge],Ee=te.match(we.pattern);if(Ee){var Be=Ee[1]||"";return{head:Be,tail:te.substr(Be.length+1),attr:we.attr}}}}function fe(te,ue){var ge=y(ue,te).get();if(ge!==void 0)return ge;var we=te.split(".");for(we.pop();we.length>1;)if(we.pop(),(ge=y(ue,we.join(".")+".uirevision").get())!==void 0)return ge;return ue.uirevision}function pe(te,ue){for(var ge=0;ge<ue.length;ge++)if(ue[ge]._fullInput.uid===te)return ge;return-1}function Le(te,ue,ge){for(var we=0;we<ue.length;we++)if(ue[we].uid===te)return we;return!ue[ge]||ue[ge].uid?-1:ge}function ye(te,ue){var ge=k.isPlainObject(te),we=Array.isArray(te);return ge||we?(ge&&k.isPlainObject(ue)||we&&Array.isArray(ue))&&JSON.stringify(te)===JSON.stringify(ue):te===ue}function Ae(te,ue,ge,we){var Ee,Be,Re,je=we.getValObject,he=we.flags,_e=we.immutable,Te=we.inArray,Fe=we.arrayIndex;function Ye(){var ct=Ee.editType;Te&&ct.indexOf("arraydraw")!==-1?k.pushUnique(he.arrays[Te],Fe):(g.update(he,Ee),ct!=="none"&&he.nChanges++,we.transition&&Ee.anim&&he.nChangesAnim++,(Z.test(Re)||$.test(Re))&&(he.rangesAltered[ge[0]]=1),ne.test(Re)&&y(ue,"_inputDomain").set(null),Be==="datarevision"&&(he.newDataRevision=1))}function Ge(ct){return ct.valType==="data_array"||ct.arrayOk}for(Be in te){if(he.calc&&!we.transition)return;var ot=te[Be],st=ue[Be],ht=ge.concat(Be);if(Re=ht.join("."),Be.charAt(0)!=="_"&&typeof ot!="function"&&ot!==st){if((Be==="tick0"||Be==="dtick")&&ge[0]!=="geo"){var xt=ue.tickmode;if(xt==="auto"||xt==="array"||!xt)continue}if((Be!=="range"||!ue.autorange)&&(Be!=="zmin"&&Be!=="zmax"||ue.type!=="contourcarpet")&&(Ee=je(ht))&&(!Ee._compareAsJSON||JSON.stringify(ot)!==JSON.stringify(st))){var Ct,St=Ee.valType,kt=Ge(Ee),Nt=Array.isArray(ot),Dt=Array.isArray(st);if(Nt&&Dt){var Et="_input_"+Be,Wt=te[Et],Ht=ue[Et];if(Array.isArray(Wt)&&Wt===Ht)continue}if(st===void 0)kt&&Nt?he.calc=!0:Ye();else if(Ee._isLinkedToArray){var Ke=[],$e=!1;Te||(he.arrays[Be]=Ke);var Ue=Math.min(ot.length,st.length),nt=Math.max(ot.length,st.length);if(Ue!==nt){if(Ee.editType!=="arraydraw"){Ye();continue}$e=!0}for(Ct=0;Ct<Ue;Ct++)Ae(ot[Ct],st[Ct],ht.concat(Ct),k.extendFlat({inArray:Be,arrayIndex:Ct},we));if($e)for(Ct=Ue;Ct<nt;Ct++)Ke.push(Ct)}else!St&&k.isPlainObject(ot)?Ae(ot,st,ht,we):kt?Nt&&Dt?(_e&&(he.calc=!0),(_e||we.newDataRevision)&&Ye()):Nt!==Dt?he.calc=!0:Ye():Nt&&Dt&&ot.length===st.length&&String(ot)===String(st)||Ye()}}}for(Be in ue)if(!(Be in te)&&Be.charAt(0)!=="_"&&typeof ue[Be]!="function"){if(Ge(Ee=je(ge.concat(Be)))&&Array.isArray(ue[Be]))return void(he.calc=!0);Ye()}}function Me(te,ue){var ge;for(ge in te)if(ge.charAt(0)!=="_"){var we=te[ge],Ee=ue[ge];if(we!==Ee)if(k.isPlainObject(we)&&k.isPlainObject(Ee)){if(Me(we,Ee))return!0}else{if(!Array.isArray(we)||!Array.isArray(Ee)||we.length!==Ee.length)return!0;for(var Be=0;Be<we.length;Be++)if(we[Be]!==Ee[Be]&&(!k.isPlainObject(we[Be])||!k.isPlainObject(Ee[Be])||Me(we[Be],Ee[Be])))return!0}}}function ke(te){var ue=te._fullLayout,ge=te.getBoundingClientRect();if(!k.equalDomRects(ge,ue._lastBBox)){var we=ue._invTransform=k.inverseTransformMatrix(k.getFullTransformMatrix(te));ue._invScaleX=Math.sqrt(we[0][0]*we[0][0]+we[0][1]*we[0][1]+we[0][2]*we[0][2]),ue._invScaleY=Math.sqrt(we[1][0]*we[1][0]+we[1][1]*we[1][1]+we[1][2]*we[1][2]),ue._lastBBox=ge}}M.animate=function(te,ue,ge){if(te=k.getGraphDiv(te),!k.isPlotDiv(te))throw new Error("This element is not a Plotly plot: "+te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var we=te._transitionData;we._frameQueue||(we._frameQueue=[]);var Ee=(ge=o.supplyAnimationDefaults(ge)).transition,Be=ge.frame;function Re(_e){return Array.isArray(Ee)?_e>=Ee.length?Ee[0]:Ee[_e]:Ee}function je(_e){return Array.isArray(Be)?_e>=Be.length?Be[0]:Be[_e]:Be}function he(_e,Te){var Fe=0;return function(){if(_e&&++Fe===Te)return _e()}}return we._frameWaitingCnt===void 0&&(we._frameWaitingCnt=0),new Promise(function(_e,Te){function Fe(){te.emit("plotly_animating"),we._lastFrameAt=-1/0,we._timeToNext=0,we._runningTransitions=0,we._currentFrame=null;var Et=function(){we._animationRaf=window.requestAnimationFrame(Et),Date.now()-we._lastFrameAt>we._timeToNext&&function(){we._currentFrame&&we._currentFrame.onComplete&&we._currentFrame.onComplete();var Wt=we._currentFrame=we._frameQueue.shift();if(Wt){var Ht=Wt.name?Wt.name.toString():null;te._fullLayout._currentFrame=Ht,we._lastFrameAt=Date.now(),we._timeToNext=Wt.frameOpts.duration,o.transition(te,Wt.frame.data,Wt.frame.layout,d.coerceTraceIndices(te,Wt.frame.traces),Wt.frameOpts,Wt.transitionOpts).then(function(){Wt.onComplete&&Wt.onComplete()}),te.emit("plotly_animatingframe",{name:Ht,frame:Wt.frame,animation:{frame:Wt.frameOpts,transition:Wt.transitionOpts}})}else te.emit("plotly_animated"),window.cancelAnimationFrame(we._animationRaf),we._animationRaf=null}()};Et()}var Ye,Ge,ot=0;function st(Et){return Array.isArray(Ee)?ot>=Ee.length?Et.transitionOpts=Ee[ot]:Et.transitionOpts=Ee[0]:Et.transitionOpts=Ee,ot++,Et}var ht=[],xt=ue==null,Ct=Array.isArray(ue);if(xt||Ct||!k.isPlainObject(ue)){if(xt||["string","number"].indexOf(typeof ue)!==-1)for(Ye=0;Ye<we._frames.length;Ye++)(Ge=we._frames[Ye])&&(xt||String(Ge.group)===String(ue))&&ht.push({type:"byname",name:String(Ge.name),data:st({name:Ge.name})});else if(Ct)for(Ye=0;Ye<ue.length;Ye++){var St=ue[Ye];["number","string"].indexOf(typeof St)!==-1?(St=String(St),ht.push({type:"byname",name:St,data:st({name:St})})):k.isPlainObject(St)&&ht.push({type:"object",data:st(k.extendFlat({},St))})}}else ht.push({type:"object",data:st(k.extendFlat({},ue))});for(Ye=0;Ye<ht.length;Ye++)if((Ge=ht[Ye]).type==="byname"&&!we._frameHash[Ge.data.name])return k.warn('animate failure: frame not found: "'+Ge.data.name+'"'),void Te();["next","immediate"].indexOf(ge.mode)!==-1&&function(){if(we._frameQueue.length!==0){for(;we._frameQueue.length;){var Et=we._frameQueue.pop();Et.onInterrupt&&Et.onInterrupt()}te.emit("plotly_animationinterrupted",[])}}(),ge.direction==="reverse"&&ht.reverse();var kt=te._fullLayout._currentFrame;if(kt&&ge.fromcurrent){var Nt=-1;for(Ye=0;Ye<ht.length;Ye++)if((Ge=ht[Ye]).type==="byname"&&Ge.name===kt){Nt=Ye;break}if(Nt>0&&Nt<ht.length-1){var Dt=[];for(Ye=0;Ye<ht.length;Ye++)Ge=ht[Ye],(ht[Ye].type!=="byname"||Ye>Nt)&&Dt.push(Ge);ht=Dt}}ht.length>0?function(Et){if(Et.length!==0){for(var Wt=0;Wt<Et.length;Wt++){var Ht;Ht=Et[Wt].type==="byname"?o.computeFrame(te,Et[Wt].name):Et[Wt].data;var Ke=je(Wt),$e=Re(Wt);$e.duration=Math.min($e.duration,Ke.duration);var Ue={frame:Ht,name:Et[Wt].name,frameOpts:Ke,transitionOpts:$e};Wt===Et.length-1&&(Ue.onComplete=he(_e,2),Ue.onInterrupt=Te),we._frameQueue.push(Ue)}ge.mode==="immediate"&&(we._lastFrameAt=-1/0),we._animationRaf||Fe()}}(ht):(te.emit("plotly_animated"),_e())})},M.addFrames=function(te,ue,ge){if(te=k.getGraphDiv(te),ue==null)return Promise.resolve();if(!k.isPlotDiv(te))throw new Error("This element is not a Plotly plot: "+te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var we,Ee,Be,Re,je=te._transitionData._frames,he=te._transitionData._frameHash;if(!Array.isArray(ue))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ue);var _e=je.length+2*ue.length,Te=[],Fe={};for(we=ue.length-1;we>=0;we--)if(k.isPlainObject(ue[we])){var Ye=ue[we].name,Ge=(he[Ye]||Fe[Ye]||{}).name,ot=ue[we].name,st=he[Ge]||Fe[Ge];Ge&&ot&&typeof ot=="number"&&st&&T<5&&(T++,k.warn('addFrames: overwriting frame "'+(he[Ge]||Fe[Ge]).name+'" with a frame whose name of type "number" also equates to "'+Ge+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),T===5&&k.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Fe[Ye]={name:Ye},Te.push({frame:o.supplyFrameDefaults(ue[we]),index:ge&&ge[we]!==void 0&&ge[we]!==null?ge[we]:_e+we})}Te.sort(function(Et,Wt){return Et.index>Wt.index?-1:Et.index<Wt.index?1:0});var ht=[],xt=[],Ct=je.length;for(we=Te.length-1;we>=0;we--){if(typeof(Ee=Te[we].frame).name=="number"&&k.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ee.name)for(;he[Ee.name="frame "+te._transitionData._counter++];);if(he[Ee.name]){for(Be=0;Be<je.length&&(je[Be]||{}).name!==Ee.name;Be++);ht.push({type:"replace",index:Be,value:Ee}),xt.unshift({type:"replace",index:Be,value:je[Be]})}else Re=Math.max(0,Math.min(Te[we].index,Ct)),ht.push({type:"insert",index:Re,value:Ee}),xt.unshift({type:"delete",index:Re}),Ct++}var St=o.modifyFrames,kt=o.modifyFrames,Nt=[te,xt],Dt=[te,ht];return l&&l.add(te,St,Nt,kt,Dt),o.modifyFrames(te,ht)},M.deleteFrames=function(te,ue){if(te=k.getGraphDiv(te),!k.isPlotDiv(te))throw new Error("This element is not a Plotly plot: "+te);var ge,we,Ee=te._transitionData._frames,Be=[],Re=[];if(!ue)for(ue=[],ge=0;ge<Ee.length;ge++)ue.push(ge);for((ue=ue.slice()).sort(),ge=ue.length-1;ge>=0;ge--)we=ue[ge],Be.push({type:"delete",index:we}),Re.unshift({type:"insert",index:we,value:Ee[we]});var je=o.modifyFrames,he=o.modifyFrames,_e=[te,Re],Te=[te,Be];return l&&l.add(te,je,_e,he,Te),o.modifyFrames(te,Be)},M.addTraces=function te(ue,ge,we){ue=k.getGraphDiv(ue);var Ee,Be,Re=[],je=M.deleteTraces,he=te,_e=[ue,Re],Te=[ue,ge];for(function(Fe,Ye,Ge){var ot,st;if(!Array.isArray(Fe.data))throw new Error("gd.data must be an array.");if(Ye===void 0)throw new Error("traces must be defined.");for(Array.isArray(Ye)||(Ye=[Ye]),ot=0;ot<Ye.length;ot++)if(typeof(st=Ye[ot])!="object"||Array.isArray(st)||st===null)throw new Error("all values in traces array must be non-array objects");if(Ge===void 0||Array.isArray(Ge)||(Ge=[Ge]),Ge!==void 0&&Ge.length!==Ye.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ue,ge,we),Array.isArray(ge)||(ge=[ge]),ge=ge.map(function(Fe){return k.extendFlat({},Fe)}),d.cleanData(ge),Ee=0;Ee<ge.length;Ee++)ue.data.push(ge[Ee]);for(Ee=0;Ee<ge.length;Ee++)Re.push(-ge.length+Ee);if(we===void 0)return Be=M.redraw(ue),l.add(ue,je,_e,he,Te),Be;Array.isArray(we)||(we=[we]);try{D(ue,Re,we)}catch(Fe){throw ue.data.splice(ue.data.length-ge.length,ge.length),Fe}return l.startSequence(ue),l.add(ue,je,_e,he,Te),Be=M.moveTraces(ue,Re,we),l.stopSequence(ue),Be},M.deleteTraces=function te(ue,ge){ue=k.getGraphDiv(ue);var we,Ee,Be=[],Re=M.addTraces,je=te,he=[ue,Be,ge],_e=[ue,ge];if(ge===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ge)||(ge=[ge]),P(ue,ge,"indices"),(ge=O(ge,ue.data.length-1)).sort(k.sorterDes),we=0;we<ge.length;we+=1)Ee=ue.data.splice(ge[we],1)[0],Be.push(Ee);var Te=M.redraw(ue);return l.add(ue,Re,he,je,_e),Te},M.extendTraces=function te(ue,ge,we,Ee){function Be(_e,Te,Fe){var Ye,Ge;if(k.isTypedArray(_e))if(Fe<0){var ot=new _e.constructor(0),st=V(_e,Te);Fe<0?(Ye=st,Ge=ot):(Ye=ot,Ge=st)}else if(Ye=new _e.constructor(Fe),Ge=new _e.constructor(_e.length+Te.length-Fe),Fe===Te.length)Ye.set(Te),Ge.set(_e);else if(Fe<Te.length){var ht=Te.length-Fe;Ye.set(Te.subarray(ht)),Ge.set(_e),Ge.set(Te.subarray(0,ht),_e.length)}else{var xt=Fe-Te.length,Ct=_e.length-xt;Ye.set(_e.subarray(Ct)),Ye.set(Te,xt),Ge.set(_e.subarray(0,Ct))}else Ye=_e.concat(Te),Ge=Fe>=0&&Fe<Ye.length?Ye.splice(0,Ye.length-Fe):[];return[Ye,Ge]}var Re=z(ue=k.getGraphDiv(ue),ge,we,Ee,Be),je=M.redraw(ue),he=[ue,Re.update,we,Re.maxPoints];return l.add(ue,M.prependTraces,he,te,arguments),je},M.moveTraces=function te(ue,ge,we){var Ee,Be=[],Re=[],je=te,he=te,_e=[ue=k.getGraphDiv(ue),we,ge],Te=[ue,ge,we];if(D(ue,ge,we),ge=Array.isArray(ge)?ge:[ge],we===void 0)for(we=[],Ee=0;Ee<ge.length;Ee++)we.push(-ge.length+Ee);for(we=Array.isArray(we)?we:[we],ge=O(ge,ue.data.length-1),we=O(we,ue.data.length-1),Ee=0;Ee<ue.data.length;Ee++)ge.indexOf(Ee)===-1&&Be.push(ue.data[Ee]);for(Ee=0;Ee<ge.length;Ee++)Re.push({newIndex:we[Ee],trace:ue.data[ge[Ee]]});for(Re.sort(function(Ye,Ge){return Ye.newIndex-Ge.newIndex}),Ee=0;Ee<Re.length;Ee+=1)Be.splice(Re[Ee].newIndex,0,Re[Ee].trace);ue.data=Be;var Fe=M.redraw(ue);return l.add(ue,je,_e,he,Te),Fe},M.prependTraces=function te(ue,ge,we,Ee){function Be(_e,Te,Fe){var Ye,Ge;if(k.isTypedArray(_e))if(Fe<=0){var ot=new _e.constructor(0),st=V(Te,_e);Fe<0?(Ye=st,Ge=ot):(Ye=ot,Ge=st)}else if(Ye=new _e.constructor(Fe),Ge=new _e.constructor(_e.length+Te.length-Fe),Fe===Te.length)Ye.set(Te),Ge.set(_e);else if(Fe<Te.length){var ht=Te.length-Fe;Ye.set(Te.subarray(0,ht)),Ge.set(Te.subarray(ht)),Ge.set(_e,ht)}else{var xt=Fe-Te.length;Ye.set(Te),Ye.set(_e.subarray(0,xt),Te.length),Ge.set(_e.subarray(xt))}else Ye=Te.concat(_e),Ge=Fe>=0&&Fe<Ye.length?Ye.splice(Fe,Ye.length):[];return[Ye,Ge]}var Re=z(ue=k.getGraphDiv(ue),ge,we,Ee,Be),je=M.redraw(ue),he=[ue,Re.update,we,Re.maxPoints];return l.add(ue,M.extendTraces,he,te,arguments),je},M.newPlot=function(te,ue,ge,we){return te=k.getGraphDiv(te),o.cleanPlot([],{},te._fullData||[],te._fullLayout||{}),o.purge(te),M._doPlot(te,ue,ge,we)},M._doPlot=function(te,ue,ge,we){var Ee;if(te=k.getGraphDiv(te),f.init(te),k.isPlainObject(ue)){var Be=ue;ue=Be.data,ge=Be.layout,we=Be.config,Ee=Be.frames}if(f.triggerHandler(te,"plotly_beforeplot",[ue,ge,we])===!1)return Promise.reject();ue||ge||k.isPlotDiv(te)||k.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",te),C(te,we),ge||(ge={}),b.select(te).classed("js-plotly-plot",!0),r.makeTester(),Array.isArray(te._promises)||(te._promises=[]);var Re=(te.data||[]).length===0&&Array.isArray(ue);Array.isArray(ue)&&(d.cleanData(ue),Re?te.data=ue:te.data.push.apply(te.data,ue),te.empty=!1),te.layout&&!Re||(te.layout=d.cleanLayout(ge)),o.supplyDefaults(te);var je=te._fullLayout,he=je._has("cartesian");je._replotting=!0,(Re||je._shouldCreateBgLayer)&&(function(xt){var Ct=b.select(xt),St=xt._fullLayout;if(St._calcInverseTransform=ke,St._calcInverseTransform(xt),St._container=Ct.selectAll(".plot-container").data([0]),St._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),St._paperdiv=St._container.selectAll(".svg-container").data([0]),St._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),St._glcontainer=St._paperdiv.selectAll(".gl-container").data([{}]),St._glcontainer.enter().append("div").classed("gl-container",!0),St._paperdiv.selectAll(".main-svg").remove(),St._paperdiv.select(".modebar-container").remove(),St._paper=St._paperdiv.insert("svg",":first-child").classed("main-svg",!0),St._toppaper=St._paperdiv.append("svg").classed("main-svg",!0),St._modebardiv=St._paperdiv.append("div"),delete St._modeBar,St._hoverpaper=St._paperdiv.append("svg").classed("main-svg",!0),!St._uid){var kt={};b.selectAll("defs").each(function(){this.id&&(kt[this.id.split("-")[1]]=1)}),St._uid=k.randstr(kt)}St._paperdiv.selectAll(".main-svg").attr(p.svgAttrs),St._defs=St._paper.append("defs").attr("id","defs-"+St._uid),St._clips=St._defs.append("g").classed("clips",!0),St._topdefs=St._toppaper.append("defs").attr("id","topdefs-"+St._uid),St._topclips=St._topdefs.append("g").classed("clips",!0),St._bgLayer=St._paper.append("g").classed("bglayer",!0),St._draggers=St._paper.append("g").classed("draglayer",!0);var Nt=St._paper.append("g").classed("layer-below",!0);St._imageLowerLayer=Nt.append("g").classed("imagelayer",!0),St._shapeLowerLayer=Nt.append("g").classed("shapelayer",!0),St._cartesianlayer=St._paper.append("g").classed("cartesianlayer",!0),St._polarlayer=St._paper.append("g").classed("polarlayer",!0),St._smithlayer=St._paper.append("g").classed("smithlayer",!0),St._ternarylayer=St._paper.append("g").classed("ternarylayer",!0),St._geolayer=St._paper.append("g").classed("geolayer",!0),St._funnelarealayer=St._paper.append("g").classed("funnelarealayer",!0),St._pielayer=St._paper.append("g").classed("pielayer",!0),St._iciclelayer=St._paper.append("g").classed("iciclelayer",!0),St._treemaplayer=St._paper.append("g").classed("treemaplayer",!0),St._sunburstlayer=St._paper.append("g").classed("sunburstlayer",!0),St._indicatorlayer=St._toppaper.append("g").classed("indicatorlayer",!0),St._glimages=St._paper.append("g").classed("glimages",!0);var Dt=St._toppaper.append("g").classed("layer-above",!0);St._imageUpperLayer=Dt.append("g").classed("imagelayer",!0),St._shapeUpperLayer=Dt.append("g").classed("shapelayer",!0),St._selectionLayer=St._toppaper.append("g").classed("selectionlayer",!0),St._infolayer=St._toppaper.append("g").classed("infolayer",!0),St._menulayer=St._toppaper.append("g").classed("menulayer",!0),St._zoomlayer=St._toppaper.append("g").classed("zoomlayer",!0),St._hoverlayer=St._hoverpaper.append("g").classed("hoverlayer",!0),St._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),xt.emit("plotly_framework")}(te),je._shouldCreateBgLayer&&delete je._shouldCreateBgLayer),r.initGradients(te),r.initPatterns(te),Re&&n.saveShowSpikeInitial(te);var _e=!te.calcdata||te.calcdata.length!==(te._fullData||[]).length;_e&&o.doCalcdata(te);for(var Te=0;Te<te.calcdata.length;Te++)te.calcdata[Te][0].trace=te._fullData[Te];te._context.responsive?te._responsiveChartHandler||(te._responsiveChartHandler=function(){k.isHidden(te)||o.resize(te)},window.addEventListener("resize",te._responsiveChartHandler)):k.clearResponsive(te);var Fe=k.extendFlat({},je._size),Ye=0;function Ge(){if(o.clearAutoMarginIds(te),x.drawMarginPushers(te),n.allowAutoMargin(te),te._fullLayout.title.text&&te._fullLayout.title.automargin&&o.allowAutoMargin(te,"title.automargin"),je._has("pie"))for(var xt=te._fullData,Ct=0;Ct<xt.length;Ct++){var St=xt[Ct];St.type==="pie"&&St.automargin&&o.allowAutoMargin(te,"pie."+St.uid+".automargin")}return o.doAutoMargin(te),o.previousPromises(te)}function ot(){te._transitioning||(x.doAutoRangeAndConstraints(te),Re&&n.saveRangeInitial(te),t.getComponentMethod("rangeslider","calcAutorange")(te))}var st=[o.previousPromises,function(){if(Ee)return M.addFrames(te,Ee)},function xt(){for(var Ct=je._basePlotModules,St=0;St<Ct.length;St++)Ct[St].drawFramework&&Ct[St].drawFramework(te);!je._glcanvas&&je._has("gl")&&(je._glcanvas=je._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Et){return Et.key}),je._glcanvas.enter().append("canvas").attr("class",function(Et){return"gl-canvas gl-canvas-"+Et.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var kt=te._context.plotGlPixelRatio;if(je._glcanvas){je._glcanvas.attr("width",je.width*kt).attr("height",je.height*kt).style("width",je.width+"px").style("height",je.height+"px");var Nt=je._glcanvas.data()[0].regl;if(Nt&&(Math.floor(je.width*kt)!==Nt._gl.drawingBufferWidth||Math.floor(je.height*kt)!==Nt._gl.drawingBufferHeight)){var Dt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ye)return k.log(Dt+" Clearing graph and plotting again."),o.cleanPlot([],{},te._fullData,je),o.supplyDefaults(te),je=te._fullLayout,o.doCalcdata(te),Ye++,xt();k.error(Dt)}}return je.modebar.orientation==="h"?je._modebardiv.style("height",null).style("width","100%"):je._modebardiv.style("width",null).style("height",je.height+"px"),o.previousPromises(te)},Ge,function(){if(o.didMarginChange(Fe,je._size))return k.syncOrAsync([Ge,x.layoutStyles],te)}];he&&st.push(function(){if(_e)return k.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ot],te);ot()}),st.push(x.layoutStyles),he&&st.push(function(){return n.draw(te,Re?"":"redraw")},function(xt){xt._fullLayout._insideTickLabelsAutorange&&ee(xt,xt._fullLayout._insideTickLabelsAutorange).then(function(){xt._fullLayout._insideTickLabelsAutorange=void 0})}),st.push(x.drawData,x.finalDraw,u,o.addLinks,o.rehover,o.redrag,o.reselect,o.doAutoMargin,function(xt){xt._fullLayout._insideTickLabelsAutorange&&Re&&n.saveRangeInitial(xt,!0)},o.previousPromises);var ht=k.syncOrAsync(st,te);return ht&&ht.then||(ht=Promise.resolve()),ht.then(function(){return c(te),te})},M.purge=function(te){var ue=(te=k.getGraphDiv(te))._fullLayout||{},ge=te._fullData||[];return o.cleanPlot([],{},ge,ue),o.purge(te),f.purge(te),ue._container&&ue._container.remove(),delete te._context,te},M.react=function(te,ue,ge,we){var Ee,Be;te=k.getGraphDiv(te),d.clearPromiseQueue(te);var Re=te._fullData,je=te._fullLayout;if(k.isPlotDiv(te)&&Re&&je){if(k.isPlainObject(ue)){var he=ue;ue=he.data,ge=he.layout,we=he.config,Ee=he.frames}var _e=!1;if(we){var Te=k.extendDeep({},te._context);te._context=void 0,C(te,we),_e=Me(Te,te._context)}te.data=ue||[],d.cleanData(te.data),te.layout=ge||{},d.cleanLayout(te.layout),function(nt,ct,Oe,Ne){var Qe,ut,pt,wt,Lt,It,yt,Rt,bt,Pt,Bt=Ne._preGUI,Zt=[],Yt={},Kt={};for(Qe in Bt){if(Lt=ve(Qe,me)){if(bt=Lt.head,Pt=Lt.tail,ut=Lt.attr||bt+".uirevision",(wt=(pt=y(Ne,ut).get())&&fe(ut,ct))&&wt===pt){if((It=Bt[Qe])===null&&(It=void 0),ye(Rt=(yt=y(ct,Qe)).get(),It)){Rt===void 0&&Pt==="autorange"&&Zt.push(bt),yt.set(W(y(Ne,Qe).get()));continue}if(Pt==="autorange"||Pt.substr(0,6)==="range["){var tn=Bt[bt+".range[0]"],on=Bt[bt+".range[1]"],_n=Bt[bt+".autorange"];if(_n||_n===null&&tn===null&&on===null){if(!(bt in Yt)){var fn=y(ct,bt).get();Yt[bt]=fn&&(fn.autorange||fn.autorange!==!1&&(!fn.range||fn.range.length!==2))}if(Yt[bt]){yt.set(W(y(Ne,Qe).get()));continue}}}}}else k.warn("unrecognized GUI edit: "+Qe);delete Bt[Qe],Lt&&Lt.tail.substr(0,6)==="range["&&(Kt[Lt.head]=1)}for(var Sn=0;Sn<Zt.length;Sn++){var Xn=Zt[Sn];if(Kt[Xn]){var An=y(ct,Xn).get();An&&delete An.autorange}}var un=Ne._tracePreGUI;for(var Tn in un){var gn,dn=un[Tn],Rn=null;for(Qe in dn){if(!Rn){var In=pe(Tn,Oe);if(In<0){delete un[Tn];break}var Hn=Le(Tn,nt,(gn=Oe[In]._fullInput).index);if(Hn<0){delete un[Tn];break}Rn=nt[Hn]}if(Lt=ve(Qe,xe)){if(Lt.attr?wt=(pt=y(Ne,Lt.attr).get())&&fe(Lt.attr,ct):(pt=gn.uirevision,(wt=Rn.uirevision)===void 0&&(wt=ct.uirevision)),wt&&wt===pt&&((It=dn[Qe])===null&&(It=void 0),ye(Rt=(yt=y(Rn,Qe)).get(),It))){yt.set(W(y(gn,Qe).get()));continue}}else k.warn("unrecognized GUI edit: "+Qe+" in trace uid "+Tn);delete dn[Qe]}}}(te.data,te.layout,Re,je),o.supplyDefaults(te,{skipUpdateCalc:!0});var Fe=te._fullData,Ye=te._fullLayout,Ge=Ye.datarevision===void 0,ot=Ye.transition,st=function(nt,ct,Oe,Ne,Qe){var ut=g.layoutFlags();return ut.arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0,Ae(ct,Oe,[],{getValObject:function(pt){return s.getLayoutValObject(Oe,pt)},flags:ut,immutable:Ne,transition:Qe,gd:nt}),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),Qe&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut}(te,je,Ye,Ge,ot),ht=st.newDataRevision,xt=function(nt,ct,Oe,Ne,Qe,ut){var pt=ct.length===Oe.length;if(!Qe&&!pt)return{fullReplot:!0,calc:!0};var wt,Lt,It=g.traceFlags();It.arrays={},It.nChanges=0,It.nChangesAnim=0;var yt={getValObject:function(bt){var Pt=s.getTraceValObject(Lt,bt);return!Lt._module.animatable&&Pt.anim&&(Pt.anim=!1),Pt},flags:It,immutable:Ne,transition:Qe,newDataRevision:ut,gd:nt},Rt={};for(wt=0;wt<ct.length;wt++)if(Oe[wt]){if(Lt=Oe[wt]._fullInput,o.hasMakesDataTransform(Lt)&&(Lt=Oe[wt]),Rt[Lt.uid])continue;Rt[Lt.uid]=1,Ae(ct[wt]._fullInput,Lt,[],yt)}return(It.calc||It.plot)&&(It.fullReplot=!0),Qe&&It.nChanges&&It.nChangesAnim&&(It.anim=It.nChanges===It.nChangesAnim&&pt?"all":"some"),It}(te,Re,Fe,Ge,ot,ht);if(oe(te)&&(st.layoutReplot=!0),xt.calc||st.calc){te.calcdata=void 0;for(var Ct=Object.getOwnPropertyNames(Ye),St=0;St<Ct.length;St++){var kt=Ct[St],Nt=kt.substring(0,5);if(Nt==="xaxis"||Nt==="yaxis"){var Dt=Ye[kt]._emptyCategories;Dt&&Dt()}}}else o.supplyDefaultsUpdateCalc(te.calcdata,Fe);var Et=[];if(Ee&&(te._transitionData={},o.createTransitionData(te),Et.push(function(){return M.addFrames(te,Ee)})),Ye.transition&&!_e&&(xt.anim||st.anim))st.ticks&&Et.push(x.doTicksRelayout),o.doCalcdata(te),x.doAutoRangeAndConstraints(te),Et.push(function(){return o.transitionFromReact(te,xt,st,je)});else if(xt.fullReplot||st.layoutReplot||_e)te._fullLayout._skipDefaults=!0,Et.push(M._doPlot);else{for(var Wt in st.arrays){var Ht=st.arrays[Wt];if(Ht.length){var Ke=t.getComponentMethod(Wt,"drawOne");if(Ke!==k.noop)for(var $e=0;$e<Ht.length;$e++)Ke(te,Ht[$e]);else{var Ue=t.getComponentMethod(Wt,"draw");if(Ue===k.noop)throw new Error("cannot draw components: "+Wt);Ue(te)}}}Et.push(o.previousPromises),xt.style&&Et.push(x.doTraceStyle),(xt.colorbars||st.colorbars)&&Et.push(x.doColorBars),st.legend&&Et.push(x.doLegend),st.layoutstyle&&Et.push(x.layoutStyles),st.axrange&&J(Et),st.ticks&&Et.push(x.doTicksRelayout),st.modebar&&Et.push(x.doModeBar),st.camera&&Et.push(x.doCamera),Et.push(c)}Et.push(o.rehover,o.redrag,o.reselect),(Be=k.syncOrAsync(Et,te))&&Be.then||(Be=Promise.resolve(te))}else Be=M.newPlot(te,ue,ge,we);return Be.then(function(){return te.emit("plotly_react",{data:ue,layout:ge}),te})},M.redraw=function(te){if(te=k.getGraphDiv(te),!k.isPlotDiv(te))throw new Error("This element is not a Plotly plot: "+te);return d.cleanData(te.data),d.cleanLayout(te.layout),te.calcdata=void 0,M._doPlot(te).then(function(){return te.emit("plotly_redraw"),te})},M.relayout=ee,M.restyle=F,M.setPlotConfig=function(te){return k.extendFlat(_,te)},M.update=se,M._guiRelayout=ce(ee),M._guiRestyle=ce(F),M._guiUpdate=ce(se),M._storeDirectGUIEdit=function(te,ue,ge){for(var we in ge)U(we,y(te,we).get(),ge[we],ue)}},72075:function(L){"use strict";var M={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function b(w,a){for(var k in w){var y=w[k];y.valType?a[k]=y.dflt:(a[k]||(a[k]={}),b(y,a[k]))}})(M,e),L.exports={configAttributes:M,dfltConfig:e}},86281:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(9012),k=e(10820),y=e(31391),f=e(85594),l=e(72075).configAttributes,t=e(30962),s=w.extendDeepAll,o=w.isPlainObject,n=w.isArrayOrTypedArray,r=w.nestedProperty,i=w.valObjectMeta,u="_isSubplotObj",p="_isLinkedToArray",h="_deprecated",_=[u,p,"_arrayAttrRegexps",h];function m(c,E,A){if(!c)return!1;if(c._isLinkedToArray){if(d(E[A]))A++;else if(A<E.length)return!1}for(;A<E.length;A++){var C=c[E[A]];if(!o(C)||(c=C,A===E.length-1))break;if(c._isLinkedToArray){if(!d(E[++A]))return!1}else if(c.valType==="info_array"){var O=E[++A];if(!d(O))return!1;var P=c.items;if(Array.isArray(P)){if(O>=P.length)return!1;if(c.dimensions===2){if(A++,E.length===A)return c;var D=E[A];if(!d(D))return!1;c=P[O][D]}else c=P[O]}else c=P}}return c}function d(c){return c===Math.round(c)&&c>=0}function x(){var c,E,A={};for(c in s(A,k),b.subplotsRegistry)if((E=b.subplotsRegistry[c]).layoutAttributes)if(Array.isArray(E.attr))for(var C=0;C<E.attr.length;C++)v(A,E,E.attr[C]);else v(A,E,E.attr==="subplot"?E.name:E.attr);for(c in b.componentsRegistry){var O=(E=b.componentsRegistry[c]).schema;if(O&&(O.subplots||O.layout)){var P=O.subplots;if(P&&P.xaxis&&!P.yaxis)for(var D in P.xaxis)delete A.yaxis[D];delete A.xaxis.shift,delete A.xaxis.autoshift}else E.name==="colorscale"?s(A,E.layoutAttributes):E.layoutAttributes&&T(A,E.layoutAttributes,E.name)}return{layoutAttributes:g(A)}}function g(c){return function(E){M.crawl(E,function(A,C,O){M.isValObject(A)?A.arrayOk!==!0&&A.valType!=="data_array"||(O[C+"src"]={valType:"string",editType:"none"}):o(A)&&(A.role="object")})}(c),function(E){M.crawl(E,function(A,C,O){if(A){var P=A._isLinkedToArray;P&&(delete A._isLinkedToArray,O[C]={items:{}},O[C].items[P]=A,O[C].role="object")}})}(c),function(E){(function A(C){for(var O in C)if(o(C[O]))A(C[O]);else if(Array.isArray(C[O]))for(var P=0;P<C[O].length;P++)A(C[O][P]);else C[O]instanceof RegExp&&(C[O]=C[O].toString())})(E)}(c),c}function v(c,E,A){var C=r(c,A),O=s({},E.layoutAttributes);O._isSubplotObj=!0,C.set(O)}function T(c,E,A){var C=r(c,A);C.set(s(C.get()||{},E))}M.IS_SUBPLOT_OBJ=u,M.IS_LINKED_TO_ARRAY=p,M.DEPRECATED=h,M.UNDERSCORE_ATTRS=_,M.get=function(){var c={};b.allTypes.forEach(function(C){c[C]=function(O){var P,D;D=(P=b.modules[O]._module).basePlotModule;var z={type:null},V=s({},a),F=s({},P.attributes);M.crawl(F,function(U,H,q,ee,K){r(V,K).set(void 0),U===void 0&&r(F,K).set(void 0)}),s(z,V),b.traceIs(O,"noOpacity")&&delete z.opacity,b.traceIs(O,"showLegend")||(delete z.showlegend,delete z.legendgroup),b.traceIs(O,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),P.selectPoints||delete z.selectedpoints,s(z,F),D.attributes&&s(z,D.attributes),z.type=O;var W={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:O,attributes:g(z)};if(P.layoutAttributes){var B={};s(B,P.layoutAttributes),W.layoutAttributes=g(B)}return P.animatable||M.crawl(W,function(U){M.isValObject(U)&&"anim"in U&&delete U.anim}),W}(C)});var E,A={};return Object.keys(b.transformsRegistry).forEach(function(C){A[C]=function(O){var P=b.transformsRegistry[O],D=s({},P.attributes);return Object.keys(b.componentsRegistry).forEach(function(z){var V=b.componentsRegistry[z];V.schema&&V.schema.transforms&&V.schema.transforms[O]&&Object.keys(V.schema.transforms[O]).forEach(function(F){T(D,V.schema.transforms[O][F],F)})}),{attributes:g(D)}}(C)}),{defs:{valObjects:i,metaKeys:_.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:c,layout:x(),transforms:A,frames:(E={frames:s({},y)},g(E),E.frames),animation:g(f),config:g(l)}},M.crawl=function(c,E,A,C){var O=A||0;C=C||"",Object.keys(c).forEach(function(P){var D=c[P];if(_.indexOf(P)===-1){var z=(C?C+".":"")+P;E(D,P,c,O,z),M.isValObject(D)||o(D)&&P!=="impliedEdits"&&M.crawl(D,E,O+1,z)}})},M.isValObject=function(c){return c&&c.valType!==void 0},M.findArrayAttributes=function(c){var E,A,C=[],O=[],P=[];function D(U,H,q,ee){O=O.slice(0,ee).concat([H]),P=P.slice(0,ee).concat([U&&U._isLinkedToArray]),U&&(U.valType==="data_array"||U.arrayOk===!0)&&(O[ee-1]!=="colorbar"||H!=="ticktext"&&H!=="tickvals")&&z(E,0,"")}function z(U,H,q){var ee=U[O[H]],K=q+O[H];if(H===O.length-1)n(ee)&&C.push(A+K);else if(P[H]){if(Array.isArray(ee))for(var J=0;J<ee.length;J++)o(ee[J])&&z(ee[J],H+1,K+"["+J+"].")}else o(ee)&&z(ee,H+1,K+".")}E=c,A="",M.crawl(a,D),c._module&&c._module.attributes&&M.crawl(c._module.attributes,D);var V=c.transforms;if(V)for(var F=0;F<V.length;F++){var W=V[F],B=W._module;B&&(A="transforms["+F+"].",E=W,M.crawl(B.attributes,D))}return C},M.getTraceValObject=function(c,E){var A,C,O=E[0],P=1;if(O==="transforms"){if(E.length===1)return a.transforms;var D=c.transforms;if(!Array.isArray(D)||!D.length)return!1;var z=E[1];if(!d(z)||z>=D.length)return!1;C=(A=(b.transformsRegistry[D[z].type]||{}).attributes)&&A[E[2]],P=3}else{var V=c._module;if(V||(V=(b.modules[c.type||a.type.dflt]||{})._module),!V)return!1;if(!(C=(A=V.attributes)&&A[O])){var F=V.basePlotModule;F&&F.attributes&&(C=F.attributes[O])}C||(C=a[O])}return m(C,E,P)},M.getLayoutValObject=function(c,E){var A=function(C,O){var P,D,z,V,F=C._basePlotModules;if(F){var W;for(P=0;P<F.length;P++){if((z=F[P]).attrRegex&&z.attrRegex.test(O)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!W&&z.layoutAttributes&&(W=z.layoutAttributes)}var B=z.baseLayoutAttrOverrides;if(B&&O in B)return B[O]}if(W)return W}var U=C._modules;if(U){for(P=0;P<U.length;P++)if((V=U[P].layoutAttributes)&&O in V)return V[O]}for(D in b.componentsRegistry){if((z=b.componentsRegistry[D]).name==="colorscale"&&O.indexOf("coloraxis")===0)return z.layoutAttributes[O];if(!z.schema&&O===z.name)return z.layoutAttributes}return O in k&&k[O]}(c,E[0]);return m(A,E,1)}},44467:function(L,M,e){"use strict";var b=e(71828),w=e(9012),a={name:{valType:"string",editType:"none"}};function k(f){return f&&typeof f=="string"}function y(f){var l=f.length-1;return f.charAt(l)!=="s"&&b.warn("bad argument to arrayDefaultKey: "+f),f.substr(0,f.length-1)+"defaults"}a.templateitemname={valType:"string",editType:"calc"},M.templatedArray=function(f,l){return l._isLinkedToArray=f,l.name=a.name,l.templateitemname=a.templateitemname,l},M.traceTemplater=function(f){var l,t,s={};for(l in f)t=f[l],Array.isArray(t)&&t.length&&(s[l]=0);return{newTrace:function(o){var n={type:l=b.coerce(o,{},w,"type"),_template:null};if(l in s){t=f[l];var r=s[l]%t.length;s[l]++,n._template=t[r]}return n}}},M.newContainer=function(f,l,t){var s=f._template,o=s&&(s[l]||t&&s[t]);return b.isPlainObject(o)||(o=null),f[l]={_template:o}},M.arrayTemplater=function(f,l,t){var s=f._template,o=s&&s[y(l)],n=s&&s[l];Array.isArray(n)&&n.length||(n=[]);var r={};return{newItem:function(i){var u={name:i.name,_input:i},p=u.templateitemname=i.templateitemname;if(!k(p))return u._template=o,u;for(var h=0;h<n.length;h++){var _=n[h];if(_.name===p)return r[p]=1,u._template=_,u}return u[t]=i[t]||!1,u._template=!1,u},defaultItems:function(){for(var i=[],u=0;u<n.length;u++){var p=n[u],h=p.name;if(k(h)&&!r[h]){var _={_template:p,name:h,_input:{_templateitemname:h}};_.templateitemname=p.templateitemname,i.push(_),r[h]=1}}return i}}},M.arrayDefaultKey=y,M.arrayEditor=function(f,l,t){var s=(b.nestedProperty(f,l).get()||[]).length,o=t._index,n=o>=s&&(t._input||{})._templateitemname;n&&(o=s);var r,i=l+"["+o+"]";function u(){r={},n&&(r[i]={},r[i].templateitemname=n)}function p(_,m){n?b.nestedProperty(r[i],_).set(m):r[i+"."+_]=m}function h(){var _=r;return u(),_}return u(),{modifyBase:function(_,m){r[_]=m},modifyItem:p,getUpdateObj:h,applyUpdate:function(_,m){_&&p(_,m);var d=h();for(var x in d)b.nestedProperty(f,x).set(d[x])}}}},61549:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(74875),k=e(71828),y=e(63893),f=e(33306),l=e(7901),t=e(91424),s=e(92998),o=e(64168),n=e(89298),r=e(18783),i=e(99082),u=i.enforce,p=i.clean,h=e(71739).doAutoRange,_="start";function m(T,c,E){for(var A=0;A<E.length;A++){var C=E[A][0],O=E[A][1];if(!(C[0]>=T[1]||C[1]<=T[0])&&O[0]<c[1]&&O[1]>c[0])return!0}return!1}function d(T){var c,E,A,C,O,P,D=T._fullLayout,z=D._size,V=z.p,F=n.list(T,"",!0);if(D._paperdiv.style({width:T._context.responsive&&D.autosize&&!T._context._hasZeroWidth&&!T.layout.width?"100%":D.width+"px",height:T._context.responsive&&D.autosize&&!T._context._hasZeroHeight&&!T.layout.height?"100%":D.height+"px"}).selectAll(".main-svg").call(t.setSize,D.width,D.height),T._context.setBackground(T,D.paper_bgcolor),M.drawMainTitle(T),o.manage(T),!D._has("cartesian"))return a.previousPromises(T);function W(Fe,Ye,Ge){var ot=Fe._lw/2;return Fe._id.charAt(0)==="x"?Ye?Ge==="top"?Ye._offset-V-ot:Ye._offset+Ye._length+V+ot:z.t+z.h*(1-(Fe.position||0))+ot%1:Ye?Ge==="right"?Ye._offset+Ye._length+V+ot:Ye._offset-V-ot:z.l+z.w*(Fe.position||0)+ot%1}for(c=0;c<F.length;c++){var B=(C=F[c])._anchorAxis;C._linepositions={},C._lw=t.crispRound(T,C.linewidth,1),C._mainLinePosition=W(C,B,C.side),C._mainMirrorPosition=C.mirror&&B?W(C,B,r.OPPOSITE_SIDE[C.side]):null}var U=[],H=[],q=[],ee=l.opacity(D.paper_bgcolor)===1&&l.opacity(D.plot_bgcolor)===1&&D.paper_bgcolor===D.plot_bgcolor;for(E in D._plots)if((A=D._plots[E]).mainplot)A.bg&&A.bg.remove(),A.bg=void 0;else{var K=A.xaxis.domain,J=A.yaxis.domain,Z=A.plotgroup;if(m(K,J,q)){var $=Z.node(),ne=A.bg=k.ensureSingle(Z,"rect","bg");$.insertBefore(ne.node(),$.childNodes[0]),H.push(E)}else Z.select("rect.bg").remove(),q.push([K,J]),ee||(U.push(E),H.push(E))}var ae,oe,se,ce,me,xe,ve,fe,pe,Le,ye,Ae,Me,ke=D._bgLayer.selectAll(".bg").data(U);for(ke.enter().append("rect").classed("bg",!0),ke.exit().remove(),ke.each(function(Fe){D._plots[Fe].bg=b.select(this)}),c=0;c<H.length;c++)A=D._plots[H[c]],O=A.xaxis,P=A.yaxis,A.bg&&O._offset!==void 0&&P._offset!==void 0&&A.bg.call(t.setRect,O._offset-V,P._offset-V,O._length+2*V,P._length+2*V).call(l.fill,D.plot_bgcolor).style("stroke-width",0);if(!D._hasOnlyLargeSploms)for(E in D._plots){A=D._plots[E],O=A.xaxis,P=A.yaxis;var te,ue,ge=A.clipId="clip"+D._uid+E+"plot",we=k.ensureSingleById(D._clips,"clipPath",ge,function(Fe){Fe.classed("plotclip",!0).append("rect")});A.clipRect=we.select("rect").attr({width:O._length,height:P._length}),t.setTranslate(A.plot,O._offset,P._offset),A._hasClipOnAxisFalse?(te=null,ue=ge):(te=ge,ue=null),t.setClipUrl(A.plot,te,T),A.layerClipId=ue}function Ee(Fe){return"M"+ae+","+Fe+"H"+oe}function Be(Fe){return"M"+O._offset+","+Fe+"h"+O._length}function Re(Fe){return"M"+Fe+","+fe+"V"+ve}function je(Fe){return P._shift!==void 0&&(Fe+=P._shift),"M"+Fe+","+P._offset+"v"+P._length}function he(Fe,Ye,Ge){if(!Fe.showline||E!==Fe._mainSubplot)return"";if(!Fe._anchorAxis)return Ge(Fe._mainLinePosition);var ot=Ye(Fe._mainLinePosition);return Fe.mirror&&(ot+=Ye(Fe._mainMirrorPosition)),ot}for(E in D._plots){A=D._plots[E],O=A.xaxis,P=A.yaxis;var _e="M0,0";x(O,E)&&(me=v(O,"left",P,F),ae=O._offset-(me?V+me:0),xe=v(O,"right",P,F),oe=O._offset+O._length+(xe?V+xe:0),se=W(O,P,"bottom"),ce=W(O,P,"top"),!(Me=!O._anchorAxis||E!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[E]=[se,ce]),_e=he(O,Ee,Be),Me&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(_e+=Ee(se)+Ee(ce)),A.xlines.style("stroke-width",O._lw+"px").call(l.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),A.xlines.attr("d",_e);var Te="M0,0";x(P,E)&&(ye=v(P,"bottom",O,F),ve=P._offset+P._length+(ye?V:0),Ae=v(P,"top",O,F),fe=P._offset-(Ae?V:0),pe=W(P,O,"left"),Le=W(P,O,"right"),!(Me=!P._anchorAxis||E!==P._mainSubplot)||P.mirror!=="allticks"&&P.mirror!=="all"||(P._linepositions[E]=[pe,Le]),Te=he(P,Re,je),Me&&P.showline&&(P.mirror==="all"||P.mirror==="allticks")&&(Te+=Re(pe)+Re(Le)),A.ylines.style("stroke-width",P._lw+"px").call(l.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),A.ylines.attr("d",Te)}return n.makeClipPaths(T),a.previousPromises(T)}function x(T,c){return(T.ticks||T.showline)&&(c===T._mainSubplot||T.mirror==="all"||T.mirror==="allticks")}function g(T,c,E){if(!E.showline||!E._lw)return!1;if(E.mirror==="all"||E.mirror==="allticks")return!0;var A=E._anchorAxis;if(!A)return!1;var C=r.FROM_BL[c];return E.side===c?A.domain[C]===T.domain[C]:E.mirror&&A.domain[1-C]===T.domain[1-C]}function v(T,c,E,A){if(g(T,c,E))return E._lw;for(var C=0;C<A.length;C++){var O=A[C];if(O._mainAxis===E._mainAxis&&g(T,c,O))return O._lw}return 0}M.layoutStyles=function(T){return k.syncOrAsync([a.doAutoMargin,d],T)},M.drawMainTitle=function(T){var c,E=T._fullLayout.title,A=T._fullLayout,C=function(W){var B=W.title,U="middle";return k.isRightAnchor(B)?U="end":k.isLeftAnchor(B)&&(U=_),U}(A),O=function(W){var B=W.title,U="0em";return k.isTopAnchor(B)?U=r.CAP_SHIFT+"em":k.isMiddleAnchor(B)&&(U=r.MID_SHIFT+"em"),U}(A),P=function(W,B){var U=W.title,H=W._size,q=0;return B!=="0em"&&B?B===r.CAP_SHIFT+"em"&&(q=U.pad.t):q=-U.pad.b,U.y==="auto"?H.t/2:U.yref==="paper"?H.t+H.h-H.h*U.y+q:W.height-W.height*U.y+q}(A,O),D=function(W,B){var U=W.title,H=W._size,q=0;return B===_?q=U.pad.l:B==="end"&&(q=-U.pad.r),U.xref==="paper"?H.l+H.w*U.x+q:W.width*U.x+q}(A,C);if(s.draw(T,"gtitle",{propContainer:A,propName:"title.text",placeholder:A._dfltTitle.plot,attributes:{x:D,y:P,"text-anchor":C,dy:O}}),E.text&&E.automargin){var z=b.selectAll(".gtitle"),V=t.bBox(z.node()).height,F=function(W,B,U){var H=B.y,q=B.yanchor,ee=H>.5?"t":"b",K=W._fullLayout.margin[ee],J=0;return B.yref==="paper"?J=U+B.pad.t+B.pad.b:B.yref==="container"&&(J=function(Z,$,ne,ae,oe){var se=0;return ne==="middle"&&(se+=oe/2),Z==="t"?(ne==="top"&&(se+=oe),se+=ae-$*ae):(ne==="bottom"&&(se+=oe),se+=$*ae),se}(ee,H,q,W._fullLayout.height,U)+B.pad.t+B.pad.b),J>K?J:0}(T,E,V);F>0&&(function(W,B,U,H){var q="title.automargin",ee=W._fullLayout.title,K=ee.y>.5?"t":"b",J={x:ee.x,y:ee.y,t:0,b:0},Z={};ee.yref==="paper"&&function($,ne,ae,oe,se){var ce=ne.yref==="paper"?$._fullLayout._size.h:$._fullLayout.height,me=k.isTopAnchor(ne)?oe:oe-se,xe=ae==="b"?ce-me:me;return!(k.isTopAnchor(ne)&&ae==="t"||k.isBottomAnchor(ne)&&ae==="b")&&xe<se}(W,ee,K,B,H)?J[K]=U:ee.yref==="container"&&(Z[K]=U,W._fullLayout._reservedMargin[q]=Z),a.allowAutoMargin(W,q),a.autoMargin(W,q,J)}(T,P,F,V),z.attr({x:D,y:P,"text-anchor":C,dy:(c=E.yanchor,c==="top"?r.CAP_SHIFT+.3+"em":c==="bottom"?"-0.3em":r.MID_SHIFT+"em")}).call(y.positionText,D,P))}},M.doTraceStyle=function(T){var c,E=T.calcdata,A=[];for(c=0;c<E.length;c++){var C=E[c],O=C[0]||{},P=O.trace||{},D=P._module||{},z=D.arraysToCalcdata;z&&z(C,P);var V=D.editStyle;V&&A.push({fn:V,cd0:O})}if(A.length){for(c=0;c<A.length;c++){var F=A[c];F.fn(T,F.cd0)}f(T),M.redrawReglTraces(T)}return a.style(T),w.getComponentMethod("legend","draw")(T),a.previousPromises(T)},M.doColorBars=function(T){return w.getComponentMethod("colorbar","draw")(T),a.previousPromises(T)},M.layoutReplot=function(T){var c=T.layout;return T.layout=void 0,w.call("_doPlot",T,"",c)},M.doLegend=function(T){return w.getComponentMethod("legend","draw")(T),a.previousPromises(T)},M.doTicksRelayout=function(T){return n.draw(T,"redraw"),T._fullLayout._hasOnlyLargeSploms&&(w.subplotsRegistry.splom.updateGrid(T),f(T),M.redrawReglTraces(T)),M.drawMainTitle(T),a.previousPromises(T)},M.doModeBar=function(T){var c=T._fullLayout;o.manage(T);for(var E=0;E<c._basePlotModules.length;E++){var A=c._basePlotModules[E].updateFx;A&&A(T)}return a.previousPromises(T)},M.doCamera=function(T){for(var c=T._fullLayout,E=c._subplots.gl3d,A=0;A<E.length;A++){var C=c[E[A]];C._scene.setViewport(C)}},M.drawData=function(T){var c=T._fullLayout;f(T);for(var E=c._basePlotModules,A=0;A<E.length;A++)E[A].plot(T);return M.redrawReglTraces(T),a.style(T),w.getComponentMethod("selections","draw")(T),w.getComponentMethod("shapes","draw")(T),w.getComponentMethod("annotations","draw")(T),w.getComponentMethod("images","draw")(T),c._replotting=!1,a.previousPromises(T)},M.redrawReglTraces=function(T){var c=T._fullLayout;if(c._has("regl")){var E,A,C=T._fullData,O=[],P=[];for(c._hasOnlyLargeSploms&&c._splomGrid.draw(),E=0;E<C.length;E++){var D=C[E];D.visible===!0&&D._length!==0&&(D.type==="splom"?c._splomScenes[D.uid].draw():D.type==="scattergl"?k.pushUnique(O,D.xaxis+D.yaxis):D.type==="scatterpolargl"&&k.pushUnique(P,D.subplot))}for(E=0;E<O.length;E++)(A=c._plots[O[E]])._scene&&A._scene.draw();for(E=0;E<P.length;E++)(A=c[P[E]]._subplot)._scene&&A._scene.draw()}},M.doAutoRangeAndConstraints=function(T){for(var c,E=n.list(T,"",!0),A={},C=0;C<E.length;C++)if(!A[(c=E[C])._id]){A[c._id]=1,p(T,c),h(T,c);var O=c._matchGroup;if(O)for(var P in O){var D=n.getFromId(T,P);h(T,D,c.range),A[P]=1}}u(T)},M.finalDraw=function(T){w.getComponentMethod("rangeslider","draw")(T),w.getComponentMethod("rangeselector","draw")(T)},M.drawMarginPushers=function(T){w.getComponentMethod("legend","draw")(T),w.getComponentMethod("rangeselector","draw")(T),w.getComponentMethod("sliders","draw")(T),w.getComponentMethod("updatemenus","draw")(T),w.getComponentMethod("colorbar","draw")(T)}},96318:function(L,M,e){"use strict";var b=e(71828),w=b.isPlainObject,a=e(86281),k=e(74875),y=e(9012),f=e(44467),l=e(72075).dfltConfig;function t(h,_){h=b.extendDeep({},h);var m,d,x=Object.keys(h).sort();function g(A,C,O){if(w(C)&&w(A))t(A,C);else if(Array.isArray(C)&&Array.isArray(A)){var P=f.arrayTemplater({_template:h},O);for(d=0;d<C.length;d++){var D=C[d],z=P.newItem(D)._template;z&&t(z,D)}var V=P.defaultItems();for(d=0;d<V.length;d++)C.push(V[d]._template);for(d=0;d<C.length;d++)delete C[d].templateitemname}}for(m=0;m<x.length;m++){var v=x[m],T=h[v];if(v in _?g(T,_[v],v):_[v]=T,s(v)===v)for(var c in _){var E=s(c);c===E||E!==v||c in h||g(T,_[c],v)}}}function s(h){return h.replace(/[0-9]+$/,"")}function o(h,_,m,d,x){var g=x&&m(x);for(var v in h){var T=h[v],c=i(h,v,d),E=i(h,v,x),A=m(E);if(!A){var C=s(v);C!==v&&(A=m(E=i(h,C,x)))}if(!(g&&g===A||!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(T)))if(!A.valType&&w(T))o(T,_,m,c,E);else if(A._isLinkedToArray&&Array.isArray(T))for(var O=!1,P=0,D={},z=0;z<T.length;z++){var V=T[z];if(w(V)){var F=V.name;if(F)D[F]||(o(V,_,m,i(T,P,c),i(T,P,E)),P++,D[F]=1);else if(!O){var W=i(h,f.arrayDefaultKey(v),d),B=i(T,P,c);o(V,_,m,B,i(T,P,E));var U=b.nestedProperty(_,B);b.nestedProperty(_,W).set(U.get()),U.set(null),O=!0}}}else b.nestedProperty(_,c).set(T)}}function n(h,_){return a.getLayoutValObject(h,b.nestedProperty({},_).parts)}function r(h,_){return a.getTraceValObject(h,b.nestedProperty({},_).parts)}function i(h,_,m){return m?Array.isArray(h)?m+"["+_+"]":m+"."+_:_}function u(h){for(var _=0;_<h.length;_++)if(w(h[_]))return!0}function p(h){var _;switch(h.code){case"data":_="The template has no key data.";break;case"layout":_="The template has no key layout.";break;case"missing":_=h.path?"There are no templates for item "+h.path+" with name "+h.templateitemname:"There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":_=h.path?"The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?"Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":"The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":_="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type."}return h.msg=_,h}M.makeTemplate=function(h){h=b.isPlainObject(h)?h:b.getGraphDiv(h),h=b.extendDeep({_context:l},{data:h.data,layout:h.layout}),k.supplyDefaults(h);var _=h.data||[],m=h.layout||{};m._basePlotModules=h._fullLayout._basePlotModules,m._modules=h._fullLayout._modules;var d={data:{},layout:{}};_.forEach(function(P){var D={};o(P,D,r.bind(null,P));var z=b.coerce(P,{},y,"type"),V=d.data[z];V||(V=d.data[z]=[]),V.push(D)}),o(m,d.layout,n.bind(null,m)),delete d.layout.template;var x=m.template;if(w(x)){var g,v,T,c,E,A,C=x.layout;w(C)&&t(C,d.layout);var O=x.data;if(w(O)){for(v in d.data)if(T=O[v],Array.isArray(T)){for(A=(E=d.data[v]).length,c=T.length,g=0;g<A;g++)t(T[g%c],E[g]);for(g=A;g<c;g++)E.push(b.extendDeep({},T[g]))}for(v in O)v in d.data||(d.data[v]=b.extendDeep([],O[v]))}}return d},M.validateTemplate=function(h,_){var m=b.extendDeep({},{_context:l,data:h.data,layout:h.layout}),d=m.layout||{};w(_)||(_=d.template||{});var x=_.layout,g=_.data,v=[];m.layout=d,m.layout.template=_,k.supplyDefaults(m);var T=m._fullLayout,c=m._fullData,E={};if(w(x)?(function V(F,W){for(var B in F)if(B.charAt(0)!=="_"&&w(F[B])){var U,H=s(B),q=[];for(U=0;U<W.length;U++)q.push(i(F,B,W[U])),H!==B&&q.push(i(F,H,W[U]));for(U=0;U<q.length;U++)E[q[U]]=1;V(F[B],q)}}(T,["layout"]),function V(F,W){for(var B in F)if(B.indexOf("defaults")===-1&&w(F[B])){var U=i(F,B,W);E[U]?V(F[B],U):v.push({code:"unused",path:U})}}(x,"layout")):v.push({code:"layout"}),w(g)){for(var A,C={},O=0;O<c.length;O++){var P=c[O];C[A=P.type]=(C[A]||0)+1,P._fullInput._template||v.push({code:"missing",index:P._fullInput.index,traceType:A})}for(A in g){var D=g[A].length,z=C[A]||0;D>z?v.push({code:"unused",traceType:A,templateCount:D,dataCount:z}):z>D&&v.push({code:"reused",traceType:A,templateCount:D,dataCount:z})}}else v.push({code:"data"});if(function V(F,W){for(var B in F)if(B.charAt(0)!=="_"){var U=F[B],H=i(F,B,W);w(U)?(Array.isArray(F)&&U._template===!1&&U.templateitemname&&v.push({code:"missing",path:H,templateitemname:U.templateitemname}),V(U,H)):Array.isArray(U)&&u(U)&&V(U,H)}}({data:c,layout:T},""),v.length)return v.map(p)}},403:function(L,M,e){"use strict";var b=e(92770),w=e(72391),a=e(74875),k=e(71828),y=e(25095),f=e(5900),l=e(70942),t=e(11506).version,s={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};L.exports=function(o,n){var r,i,u,p;function h(z){return!(z in n)||k.validate(n[z],s[z])}if(n=n||{},k.isPlainObject(o)?(r=o.data||[],i=o.layout||{},u=o.config||{},p={}):(o=k.getGraphDiv(o),r=k.extendDeep([],o.data),i=k.extendDeep({},o.layout),u=o._context,p=o._fullLayout||{}),!h("width")&&n.width!==null||!h("height")&&n.height!==null)throw new Error("Height and width should be pixel values.");if(!h("format"))throw new Error("Export format is not "+k.join2(s.format.values,", "," or ")+".");var _={};function m(z,V){return k.coerce(n,_,s,z,V)}var d=m("format"),x=m("width"),g=m("height"),v=m("scale"),T=m("setBackground"),c=m("imageDataOnly"),E=document.createElement("div");E.style.position="absolute",E.style.left="-5000px",document.body.appendChild(E);var A=k.extendFlat({},i);x?A.width=x:n.width===null&&b(p.width)&&(A.width=p.width),g?A.height=g:n.height===null&&b(p.height)&&(A.height=p.height);var C=k.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:T}),O=y.getRedrawFunc(E);function P(){return new Promise(function(z){setTimeout(z,y.getDelay(E._fullLayout))})}function D(){return new Promise(function(z,V){var F=f(E,d,v),W=E._fullLayout.width,B=E._fullLayout.height;function U(){w.purge(E),document.body.removeChild(E)}if(d==="full-json"){var H=a.graphJson(E,!1,"keepdata","object",!0,!0);return H.version=t,H=JSON.stringify(H),U(),z(c?H:y.encodeJSON(H))}if(U(),d==="svg")return z(c?F:y.encodeSVG(F));var q=document.createElement("canvas");q.id=k.randstr(),l({format:d,width:W,height:B,scale:v,canvas:q,svg:F,promise:!0}).then(z).catch(V)})}return new Promise(function(z,V){w.newPlot(E,r,A,C).then(O).then(P).then(D).then(function(F){z(function(W){return c?W.replace(y.IMAGE_URL_PREFIX,""):W}(F))}).catch(function(F){V(F)})})}},84936:function(L,M,e){"use strict";var b=e(71828),w=e(74875),a=e(86281),k=e(72075).dfltConfig,y=b.isPlainObject,f=Array.isArray,l=b.isArrayOrTypedArray;function t(_,m,d,x,g,v){v=v||[];for(var T=Object.keys(_),c=0;c<T.length;c++){var E=T[c];if(E!=="transforms"){var A=v.slice();A.push(E);var C=_[E],O=m[E],P=u(d,E),D=(P||{}).valType,z=D==="info_array",V=D==="colorscale",F=(P||{}).items;if(i(d,E))if(y(C)&&y(O)&&D!=="any")t(C,O,P,x,g,A);else if(z&&f(C)){C.length>O.length&&x.push(r("unused",g,A.concat(O.length)));var W,B,U,H,q,ee=O.length,K=Array.isArray(F);if(K&&(ee=Math.min(ee,F.length)),P.dimensions===2)for(B=0;B<ee;B++)if(f(C[B])){C[B].length>O[B].length&&x.push(r("unused",g,A.concat(B,O[B].length)));var J=O[B].length;for(W=0;W<(K?Math.min(J,F[B].length):J);W++)U=K?F[B][W]:F,H=C[B][W],q=O[B][W],b.validate(H,U)?q!==H&&q!==+H&&x.push(r("dynamic",g,A.concat(B,W),H,q)):x.push(r("value",g,A.concat(B,W),H))}else x.push(r("array",g,A.concat(B),C[B]));else for(B=0;B<ee;B++)U=K?F[B]:F,H=C[B],q=O[B],b.validate(H,U)?q!==H&&q!==+H&&x.push(r("dynamic",g,A.concat(B),H,q)):x.push(r("value",g,A.concat(B),H))}else if(P.items&&!z&&f(C)){var Z,$,ne=F[Object.keys(F)[0]],ae=[];for(Z=0;Z<O.length;Z++){var oe=O[Z]._index||Z;if(($=A.slice()).push(oe),y(C[oe])&&y(O[Z])){ae.push(oe);var se=C[oe],ce=O[Z];y(se)&&se.visible!==!1&&ce.visible===!1?x.push(r("invisible",g,$)):t(se,ce,ne,x,g,$)}}for(Z=0;Z<C.length;Z++)($=A.slice()).push(Z),y(C[Z])?ae.indexOf(Z)===-1&&x.push(r("unused",g,$)):x.push(r("object",g,$,C[Z]))}else!y(C)&&y(O)?x.push(r("object",g,A,C)):l(C)||!l(O)||z||V?E in m?b.validate(C,P)?P.valType==="enumerated"&&(P.coerceNumber&&C!==+O||C!==O)&&x.push(r("dynamic",g,A,C,O)):x.push(r("value",g,A,C)):x.push(r("unused",g,A,C)):x.push(r("array",g,A,C));else x.push(r("schema",g,A))}}return x}function s(_,m){for(var d=_.layout.layoutAttributes,x=0;x<m.length;x++){var g=m[x],v=_.traces[g.type],T=v.layoutAttributes;T&&(g.subplot?b.extendFlat(d[v.attributes.subplot.dflt],T):b.extendFlat(d,T))}return d}L.exports=function(_,m){_===void 0&&(_=[]),m===void 0&&(m={});var d,x,g=a.get(),v=[],T={_context:b.extendFlat({},k)};f(_)?(T.data=b.extendDeep([],_),d=_):(T.data=[],d=[],v.push(r("array","data"))),y(m)?(T.layout=b.extendDeep({},m),x=m):(T.layout={},x={},arguments.length>1&&v.push(r("object","layout"))),w.supplyDefaults(T);for(var c=T._fullData,E=d.length,A=0;A<E;A++){var C=d[A],O=["data",A];if(y(C)){var P=c[A],D=P.type,z=g.traces[D].attributes;z.type={valType:"enumerated",values:[D]},P.visible===!1&&C.visible!==!1&&v.push(r("invisible",O)),t(C,P,z,v,O);var V=C.transforms,F=P.transforms;if(V){f(V)||v.push(r("array",O,["transforms"])),O.push("transforms");for(var W=0;W<V.length;W++){var B=["transforms",W],U=V[W].type;if(y(V[W])){var H=g.transforms[U]?g.transforms[U].attributes:{};H.type={valType:"enumerated",values:Object.keys(g.transforms)},t(V[W],F[W],H,v,O,B)}else v.push(r("object",O,B))}}}else v.push(r("object",O))}var q=T._fullLayout,ee=s(g,c);return t(x,q,ee,v,"layout"),v.length===0?void 0:v};var o={object:function(_,m){return(_==="layout"&&m===""?"The layout argument":_[0]==="data"&&m===""?"Trace "+_[1]+" in the data argument":n(_)+"key "+m)+" must be linked to an object container"},array:function(_,m){return(_==="data"?"The data argument":n(_)+"key "+m)+" must be linked to an array container"},schema:function(_,m){return n(_)+"key "+m+" is not part of the schema"},unused:function(_,m,d){var x=y(d)?"container":"key";return n(_)+x+" "+m+" did not get coerced"},dynamic:function(_,m,d,x){return[n(_)+"key",m,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(_,m){return(m?n(_)+"item "+m:"Trace "+_[1])+" got defaulted to be not visible"},value:function(_,m,d){return[n(_)+"key "+m,"is set to an invalid value ("+d+")"].join(" ")}};function n(_){return f(_)?"In data trace "+_[1]+", ":"In "+_+", "}function r(_,m,d,x,g){var v,T;d=d||"",f(m)?(v=m[0],T=m[1]):(v=m,T=null);var c=function(A){if(!f(A))return String(A);for(var C="",O=0;O<A.length;O++){var P=A[O];typeof P=="number"?C=C.substr(0,C.length-1)+"["+P+"]":C+=P,O<A.length-1&&(C+=".")}return C}(d),E=o[_](m,c,x,g);return b.log(E),{code:_,container:v,trace:T,path:d,astr:c,msg:E}}function i(_,m){var d=h(m),x=d.keyMinusId,g=d.id;return!!(x in _&&_[x]._isSubplotObj&&g)||m in _}function u(_,m){return m in _?_[m]:_[h(m).keyMinusId]}var p=b.counterRegex("([a-z]+)");function h(_){var m=_.match(p);return{keyMinusId:m&&m[1],id:m&&m[2]}}},85594:function(L){"use strict";L.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(L,M,e){"use strict";var b=e(71828),w=e(44467);L.exports=function(a,k,y){var f,l,t=y.name,s=y.inclusionAttr||"visible",o=k[t],n=b.isArrayOrTypedArray(a[t])?a[t]:[],r=k[t]=[],i=w.arrayTemplater(k,t,s);for(f=0;f<n.length;f++){var u=n[f];b.isPlainObject(u)?l=i.newItem(u):(l=i.newItem({}))[s]=!1,l._index=f,l[s]!==!1&&y.handleItemDefaults(u,l,k,y),r.push(l)}var p=i.defaultItems();for(f=0;f<p.length;f++)(l=p[f])._index=r.length,y.handleItemDefaults({},l,k,y,{}),r.push(l);if(b.isArrayOrTypedArray(o)){var h=Math.min(o.length,r.length);for(f=0;f<h;f++)b.relinkPrivateKeys(r[f],o[f])}return r}},9012:function(L,M,e){"use strict";var b=e(41940),w=e(77914);L.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:b({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:w.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=w.dateTime2ms,k=w.incrementMonth,y=e(50606).ONEAVGMONTH;L.exports=function(f,l,t,s){if(l.type!=="date")return{vals:s};var o=f[t+"periodalignment"];if(!o)return{vals:s};var n,r=f[t+"period"];if(b(r)){if((r=+r)<=0)return{vals:s}}else if(typeof r=="string"&&r.charAt(0)==="M"){var i=+r.substring(1);if(!(i>0&&Math.round(i)===i))return{vals:s};n=i}for(var u=l.calendar,p=o==="start",h=o==="end",_=f[t+"period0"],m=a(_,u)||0,d=[],x=[],g=[],v=s.length,T=0;T<v;T++){var c,E,A,C=s[T];if(n){for(c=Math.round((C-m)/(n*y)),A=k(m,n*c,u);A>C;)A=k(A,-n,u);for(;A<=C;)A=k(A,n,u);E=k(A,-n,u)}else{for(A=m+(c=Math.round((C-m)/r))*r;A>C;)A-=r;for(;A<=C;)A+=r;E=A-r}d[T]=p?E:h?A:(E+A)/2,x[T]=E,g[T]=A}return{vals:d,starts:x,ends:g}}},89502:function(L){"use strict";L.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(71828),k=e(50606).FP_SAFE,y=e(73972),f=e(91424),l=e(41675),t=l.getFromId,s=l.isLinked;function o(x,g){var v,T,c=[],E=x._fullLayout,A=r(E,g,0),C=r(E,g,1),O=i(x,g),P=O.min,D=O.max;if(P.length===0||D.length===0)return a.simpleMap(g.range,g.r2l);var z=P[0].val,V=D[0].val;for(v=1;v<P.length&&z===V;v++)z=Math.min(z,P[v].val);for(v=1;v<D.length&&z===V;v++)V=Math.max(V,D[v].val);var F=!1;if(g.range){var W=a.simpleMap(g.range,g.r2l);F=W[1]<W[0]}g.autorange==="reversed"&&(F=!0,g.autorange=!0);var B,U,H,q,ee,K,J=g.rangemode,Z=J==="tozero",$=J==="nonnegative",ne=g._length,ae=ne/10,oe=0;for(v=0;v<P.length;v++)for(B=P[v],T=0;T<D.length;T++)(K=(U=D[T]).val-B.val-n(g,B.val,U.val))>0&&((ee=ne-A(B)-C(U))>ae?K/ee>oe&&(H=B,q=U,oe=K/ee):K/ne>oe&&(H={val:B.val,nopad:1},q={val:U.val,nopad:1},oe=K/ne));if(z===V){var se=z-1,ce=z+1;if(Z)if(z===0)c=[0,1];else{var me=(z>0?D:P).reduce(function(ve,fe){return Math.max(ve,C(fe))},0),xe=z/(1-Math.min(.5,me/ne));c=z>0?[0,xe]:[xe,0]}else c=$?[Math.max(0,se),Math.max(1,ce)]:[se,ce]}else Z?(H.val>=0&&(H={val:0,nopad:1}),q.val<=0&&(q={val:0,nopad:1})):$&&(H.val-oe*A(H)<0&&(H={val:0,nopad:1}),q.val<=0&&(q={val:1,nopad:1})),oe=(q.val-H.val-n(g,B.val,U.val))/(ne-A(H)-C(q)),c=[H.val-oe*A(H),q.val+oe*C(q)];return F&&c.reverse(),a.simpleMap(c,g.l2r||Number)}function n(x,g,v){var T=0;if(x.rangebreaks)for(var c=x.locateBreaks(g,v),E=0;E<c.length;E++){var A=c[E];T+=A.max-A.min}return T}function r(x,g,v){var T=.05*g._length,c=g._anchorAxis||{};if((g.ticklabelposition||"").indexOf("inside")!==-1||(c.ticklabelposition||"").indexOf("inside")!==-1){var E=g.autorange==="reversed";if(!E){var A=a.simpleMap(g.range,g.r2l);E=A[1]<A[0]}E&&(v=!v)}var C=0;return s(x,g._id)||(C=function(O,P,D){var z=0,V=P._id.charAt(0)==="x";for(var F in O._plots){var W=O._plots[F];if(P._id===W.xaxis._id||P._id===W.yaxis._id){var B=(V?W.yaxis:W.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!D&&(B.side==="left"||B.side==="bottom")||D&&(B.side==="top"||B.side==="right"))){if(B._vals){var U=a.deg2rad(B._tickAngles[B._id+"tick"]||0),H=Math.abs(Math.cos(U)),q=Math.abs(Math.sin(U));if(!B._vals[0].bb){var ee=B._id+"tick";B._selections[ee].each(function(ne){var ae=b.select(this);ae.select(".text-math-group").empty()&&(ne.bb=f.bBox(ae.node()))})}for(var K=0;K<B._vals.length;K++){var J=B._vals[K].bb;if(J){var Z=6+J.width,$=6+J.height;z=Math.max(z,V?Math.max(Z*H,$*q):Math.max($*H,Z*q))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(z+=B.ticklen||0)}}}return z}(x,g,v)),T=Math.max(C,T),g.constrain==="domain"&&g._inputDomain&&(T*=(g._inputDomain[1]-g._inputDomain[0])/(g.domain[1]-g.domain[0])),function(O){return O.nopad?0:O.pad+(O.extrapad?T:C)}}function i(x,g,v){var T,c,E,A=g._id,C=x._fullData,O=x._fullLayout,P=[],D=[];function z(U,H){for(T=0;T<H.length;T++){var q=U[H[T]],ee=(q._extremes||{})[A];if(q.visible===!0&&ee){for(c=0;c<ee.min.length;c++)E=ee.min[c],u(P,E.val,E.pad,{extrapad:E.extrapad});for(c=0;c<ee.max.length;c++)E=ee.max[c],p(D,E.val,E.pad,{extrapad:E.extrapad})}}}if(z(C,g._traceIndices),z(O.annotations||[],g._annIndices||[]),z(O.shapes||[],g._shapeIndices||[]),g._matchGroup&&!v){for(var V in g._matchGroup)if(V!==g._id){var F=t(x,V),W=i(x,F,!0),B=g._length/F._length;for(c=0;c<W.min.length;c++)E=W.min[c],u(P,E.val,E.pad*B,{extrapad:E.extrapad});for(c=0;c<W.max.length;c++)E=W.max[c],p(D,E.val,E.pad*B,{extrapad:E.extrapad})}}return{min:P,max:D}}function u(x,g,v,T){h(x,g,v,T,m)}function p(x,g,v,T){h(x,g,v,T,d)}function h(x,g,v,T,c){for(var E=T.tozero,A=T.extrapad,C=!0,O=0;O<x.length&&C;O++){var P=x[O];if(c(P.val,g)&&P.pad>=v&&(P.extrapad||!A)){C=!1;break}c(g,P.val)&&P.pad<=v&&(A||!P.extrapad)&&(x.splice(O,1),O--)}if(C){var D=E&&g===0;x.push({val:g,pad:D?0:v,extrapad:!D&&A})}}function _(x){return w(x)&&Math.abs(x)<k}function m(x,g){return x<=g}function d(x,g){return x>=g}L.exports={getAutoRange:o,makePadFn:r,doAutoRange:function(x,g,v){if(g.setScale(),g.autorange){g.range=v?v.slice():o(x,g),g._r=g.range.slice(),g._rl=a.simpleMap(g._r,g.r2l);var T=g._input,c={};c[g._attr+".range"]=g.range,c[g._attr+".autorange"]=g.autorange,y.call("_storeDirectGUIEdit",x.layout,x._fullLayout._preGUI,c),T.range=g.range.slice(),T.autorange=g.autorange}var E=g._anchorAxis;if(E&&E.rangeslider){var A=E.rangeslider[g._name];A&&A.rangemode==="auto"&&(A.range=o(x,g)),E._input.rangeslider[g._name]=a.extendFlat({},A)}},findExtremes:function(x,g,v){v||(v={}),x._m||x.setScale();var T,c,E,A,C,O,P,D,z,V=[],F=[],W=g.length,B=v.padded||!1,U=v.tozero&&(x.type==="linear"||x.type==="-"),H=x.type==="log",q=!1,ee=v.vpadLinearized||!1;function K(ce){if(Array.isArray(ce))return q=!0,function(xe){return Math.max(Number(ce[xe]||0),0)};var me=Math.max(Number(ce||0),0);return function(){return me}}var J=K((x._m>0?v.ppadplus:v.ppadminus)||v.ppad||0),Z=K((x._m>0?v.ppadminus:v.ppadplus)||v.ppad||0),$=K(v.vpadplus||v.vpad),ne=K(v.vpadminus||v.vpad);if(!q){if(D=1/0,z=-1/0,H)for(T=0;T<W;T++)(c=g[T])<D&&c>0&&(D=c),c>z&&c<k&&(z=c);else for(T=0;T<W;T++)(c=g[T])<D&&c>-k&&(D=c),c>z&&c<k&&(z=c);g=[D,z],W=2}var ae={tozero:U,extrapad:B};function oe(ce){E=g[ce],w(E)&&(O=J(ce),P=Z(ce),ee?(A=x.c2l(E)-ne(ce),C=x.c2l(E)+$(ce)):(D=E-ne(ce),z=E+$(ce),H&&D<z/10&&(D=z/10),A=x.c2l(D),C=x.c2l(z)),U&&(A=Math.min(0,A),C=Math.max(0,C)),_(A)&&u(V,A,P,ae),_(C)&&p(F,C,O,ae))}var se=Math.min(6,W);for(T=0;T<se;T++)oe(T);for(T=W-1;T>=se;T--)oe(T);return{min:V,max:F,opts:v}},concatExtremes:i}},89298:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(74875),k=e(73972),y=e(71828),f=y.strTranslate,l=e(63893),t=e(92998),s=e(7901),o=e(91424),n=e(13838),r=e(66287),i=e(50606),u=i.ONEMAXYEAR,p=i.ONEAVGYEAR,h=i.ONEMINYEAR,_=i.ONEMAXQUARTER,m=i.ONEAVGQUARTER,d=i.ONEMINQUARTER,x=i.ONEMAXMONTH,g=i.ONEAVGMONTH,v=i.ONEMINMONTH,T=i.ONEWEEK,c=i.ONEDAY,E=c/2,A=i.ONEHOUR,C=i.ONEMIN,O=i.ONESEC,P=i.MINUS_SIGN,D=i.BADNUM,z={K:"zeroline"},V={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},W={K:"tick",L:"path"},B={K:"tick",L:"text"},U={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(18783),q=H.MID_SHIFT,ee=H.CAP_SHIFT,K=H.LINE_SPACING,J=H.OPPOSITE_SIDE,Z=L.exports={};Z.setConvert=e(21994);var $=e(4322),ne=e(41675),ae=ne.idSort,oe=ne.isLinked;Z.id2name=ne.id2name,Z.name2id=ne.name2id,Z.cleanId=ne.cleanId,Z.list=ne.list,Z.listIds=ne.listIds,Z.getFromId=ne.getFromId,Z.getFromTrace=ne.getFromTrace;var se=e(71739);function ce(Oe){var Ne=1e-4*(Oe[1]-Oe[0]);return[Oe[0]-Ne,Oe[1]+Ne]}Z.getAutoRange=se.getAutoRange,Z.findExtremes=se.findExtremes,Z.coerceRef=function(Oe,Ne,Qe,ut,pt,wt){var Lt=ut.charAt(ut.length-1),It=Qe._fullLayout._subplots[Lt+"axis"],yt=ut+"ref",Rt={};return pt||(pt=It[0]||(typeof wt=="string"?wt:wt[0])),wt||(wt=pt),It=It.concat(It.map(function(bt){return bt+" domain"})),Rt[yt]={valType:"enumerated",values:It.concat(wt?typeof wt=="string"?[wt]:wt:[]),dflt:pt},y.coerce(Oe,Ne,Rt,yt)},Z.getRefType=function(Oe){return Oe===void 0?Oe:Oe==="paper"?"paper":Oe==="pixel"?"pixel":/( domain)$/.test(Oe)?"domain":"range"},Z.coercePosition=function(Oe,Ne,Qe,ut,pt,wt){var Lt,It;if(Z.getRefType(ut)!=="range")Lt=y.ensureNumber,It=Qe(pt,wt);else{var yt=Z.getFromId(Ne,ut);It=Qe(pt,wt=yt.fraction2r(wt)),Lt=yt.cleanPos}Oe[pt]=Lt(It)},Z.cleanPosition=function(Oe,Ne,Qe){return(Qe==="paper"||Qe==="pixel"?y.ensureNumber:Z.getFromId(Ne,Qe).cleanPos)(Oe)},Z.redrawComponents=function(Oe,Ne){Ne=Ne||Z.listIds(Oe);var Qe=Oe._fullLayout;function ut(pt,wt,Lt,It){for(var yt=k.getComponentMethod(pt,wt),Rt={},bt=0;bt<Ne.length;bt++)for(var Pt=Qe[Z.id2name(Ne[bt])][Lt],Bt=0;Bt<Pt.length;Bt++){var Zt=Pt[Bt];if(!Rt[Zt]&&(yt(Oe,Zt),Rt[Zt]=1,It))return}}ut("annotations","drawOne","_annIndices"),ut("shapes","drawOne","_shapeIndices"),ut("images","draw","_imgIndices",!0),ut("selections","drawOne","_selectionIndices")};var me=Z.getDataConversions=function(Oe,Ne,Qe,ut){var pt,wt=Qe==="x"||Qe==="y"||Qe==="z"?Qe:ut;if(Array.isArray(wt)){if(pt={type:$(ut,void 0,{autotypenumbers:Oe._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(pt),pt.type==="category")for(var Lt=0;Lt<ut.length;Lt++)pt.d2c(ut[Lt])}else pt=Z.getFromTrace(Oe,Ne,wt);return pt?{d2c:pt.d2c,c2d:pt.c2d}:wt==="ids"?{d2c:ve,c2d:ve}:{d2c:xe,c2d:xe}};function xe(Oe){return+Oe}function ve(Oe){return String(Oe)}function fe(Oe,Ne){return Math.abs((Oe/Ne+.5)%1-.5)<.001}function pe(Oe,Ne){return Math.abs(Oe/Ne-1)<.001}function Le(Oe){return+Oe.substring(1)}function ye(Oe,Ne){return Oe.rangebreaks&&(Ne=Ne.filter(function(Qe){return Oe.maskBreaks(Qe.x)!==D})),Ne}function Ae(Oe){var Ne=Oe._mainAxis,Qe=[];if(Ne._vals){for(var ut=0;ut<Ne._vals.length;ut++)if(!Ne._vals[ut].noTick){var pt=Ne.l2p(Ne._vals[ut].x),wt=Oe.p2l(pt),Lt=Z.tickText(Oe,wt);Ne._vals[ut].minor&&(Lt.minor=!0,Lt.text=""),Qe.push(Lt)}}return ye(Oe,Qe)}function Me(Oe){var Ne=ce(y.simpleMap(Oe.range,Oe.r2l)),Qe=Math.min(Ne[0],Ne[1]),ut=Math.max(Ne[0],Ne[1]),pt=Oe.type==="category"?Oe.d2l_noadd:Oe.d2l;Oe.type==="log"&&String(Oe.dtick).charAt(0)!=="L"&&(Oe.dtick="L"+Math.pow(10,Math.floor(Math.min(Oe.range[0],Oe.range[1]))-1));for(var wt=[],Lt=0;Lt<=1;Lt++)if(!Lt||Oe.minor){var It=Lt?Oe.minor.tickvals:Oe.tickvals,yt=Lt?[]:Oe.ticktext;if(It){Array.isArray(yt)||(yt=[]);for(var Rt=0;Rt<It.length;Rt++){var bt=pt(It[Rt]);if(bt>Qe&&bt<ut){var Pt=yt[Rt]===void 0?Z.tickText(Oe,bt):he(Oe,bt,String(yt[Rt]));Lt&&(Pt.minor=!0,Pt.text=""),wt.push(Pt)}}}}return ye(Oe,wt)}Z.getDataToCoordFunc=function(Oe,Ne,Qe,ut){return me(Oe,Ne,Qe,ut).d2c},Z.counterLetter=function(Oe){var Ne=Oe.charAt(0);return Ne==="x"?"y":Ne==="y"?"x":void 0},Z.minDtick=function(Oe,Ne,Qe,ut){["log","category","multicategory"].indexOf(Oe.type)===-1&&ut?Oe._minDtick===void 0?(Oe._minDtick=Ne,Oe._forceTick0=Qe):Oe._minDtick&&((Oe._minDtick/Ne+1e-6)%1<2e-6&&((Qe-Oe._forceTick0)/Ne%1+1.000001)%1<2e-6?(Oe._minDtick=Ne,Oe._forceTick0=Qe):((Ne/Oe._minDtick+1e-6)%1>2e-6||((Qe-Oe._forceTick0)/Oe._minDtick%1+1.000001)%1>2e-6)&&(Oe._minDtick=0)):Oe._minDtick=0},Z.saveRangeInitial=function(Oe,Ne){for(var Qe=Z.list(Oe,"",!0),ut=!1,pt=0;pt<Qe.length;pt++){var wt=Qe[pt],Lt=wt._rangeInitial===void 0,It=Lt||!(wt.range[0]===wt._rangeInitial[0]&&wt.range[1]===wt._rangeInitial[1]);(Lt&&wt.autorange===!1||Ne&&It)&&(wt._rangeInitial=wt.range.slice(),ut=!0)}return ut},Z.saveShowSpikeInitial=function(Oe,Ne){for(var Qe=Z.list(Oe,"",!0),ut=!1,pt="on",wt=0;wt<Qe.length;wt++){var Lt=Qe[wt],It=Lt._showSpikeInitial===void 0,yt=It||Lt.showspikes!==Lt._showspikes;(It||Ne&&yt)&&(Lt._showSpikeInitial=Lt.showspikes,ut=!0),pt!=="on"||Lt.showspikes||(pt="off")}return Oe._fullLayout._cartesianSpikesEnabled=pt,ut},Z.autoBin=function(Oe,Ne,Qe,ut,pt,wt){var Lt,It=y.aggNums(Math.min,null,Oe),yt=y.aggNums(Math.max,null,Oe);if(Ne.type==="category"||Ne.type==="multicategory")return{start:It-.5,end:yt+.5,size:Math.max(1,Math.round(wt)||1),_dataSpan:yt-It};if(pt||(pt=Ne.calendar),Lt=Ne.type==="log"?{type:"linear",range:[It,yt]}:{type:Ne.type,range:y.simpleMap([It,yt],Ne.c2r,0,pt),calendar:pt},Z.setConvert(Lt),wt=wt&&r.dtick(wt,Lt.type))Lt.dtick=wt,Lt.tick0=r.tick0(void 0,Lt.type,pt);else{var Rt;if(Qe)Rt=(yt-It)/Qe;else{var bt=y.distinctVals(Oe),Pt=Math.pow(10,Math.floor(Math.log(bt.minDiff)/Math.LN10)),Bt=Pt*y.roundUp(bt.minDiff/Pt,[.9,1.9,4.9,9.9],!0);Rt=Math.max(Bt,2*y.stdev(Oe)/Math.pow(Oe.length,ut?.25:.4)),w(Rt)||(Rt=1)}Z.autoTicks(Lt,Rt)}var Zt,Yt=Lt.dtick,Kt=Z.tickIncrement(Z.tickFirst(Lt),Yt,"reverse",pt);if(typeof Yt=="number")Kt=function(tn,on,_n,fn,Sn){var Xn=0,An=0,un=0,Tn=0;function gn(Hn){return(1+100*(Hn-tn)/_n.dtick)%100<2}for(var dn=0;dn<on.length;dn++)on[dn]%1==0?un++:w(on[dn])||Tn++,gn(on[dn])&&Xn++,gn(on[dn]+_n.dtick/2)&&An++;var Rn=on.length-Tn;if(un===Rn&&_n.type!=="date")_n.dtick<1?tn=fn-.5*_n.dtick:(tn-=.5)+_n.dtick<fn&&(tn+=_n.dtick);else if(An<.1*Rn&&(Xn>.3*Rn||gn(fn)||gn(Sn))){var In=_n.dtick/2;tn+=tn+In<fn?In:-In}return tn}(Kt,Oe,Lt,It,yt),Zt=Kt+(1+Math.floor((yt-Kt)/Yt))*Yt;else for(Lt.dtick.charAt(0)==="M"&&(Kt=function(tn,on,_n,fn,Sn){var Xn=y.findExactDates(on,Sn);if(Xn.exactDays>.8){var An=Number(_n.substr(1));Xn.exactYears>.8&&An%12==0?tn=Z.tickIncrement(tn,"M6","reverse")+1.5*c:Xn.exactMonths>.8?tn=Z.tickIncrement(tn,"M1","reverse")+15.5*c:tn-=E;var un=Z.tickIncrement(tn,_n);if(un<=fn)return un}return tn}(Kt,Oe,Yt,It,pt)),Zt=Kt;Zt<=yt;)Zt=Z.tickIncrement(Zt,Yt,!1,pt);return{start:Ne.c2r(Kt,0,pt),end:Ne.c2r(Zt,0,pt),size:Yt,_dataSpan:yt-It}},Z.prepMinorTicks=function(Oe,Ne,Qe){if(!Ne.minor.dtick){delete Oe.dtick;var ut,pt=Ne.dtick&&w(Ne._tmin);if(pt){var wt=Z.tickIncrement(Ne._tmin,Ne.dtick,!0);ut=[Ne._tmin,.99*wt+.01*Ne._tmin]}else{var Lt=y.simpleMap(Ne.range,Ne.r2l);ut=[Lt[0],.8*Lt[0]+.2*Lt[1]]}if(Oe.range=y.simpleMap(ut,Ne.l2r),Oe._isMinor=!0,Z.prepTicks(Oe,Qe),pt){var It=w(Ne.dtick),yt=w(Oe.dtick),Rt=It?Ne.dtick:+Ne.dtick.substring(1),bt=yt?Oe.dtick:+Oe.dtick.substring(1);It&&yt?fe(Rt,bt)?Rt===2*T&&bt===2*c&&(Oe.dtick=T):Rt===2*T&&bt===3*c?Oe.dtick=T:Rt!==T||(Ne._input.minor||{}).nticks?pe(Rt/bt,2.5)?Oe.dtick=Rt/2:Oe.dtick=Rt:Oe.dtick=c:String(Ne.dtick).charAt(0)==="M"?yt?Oe.dtick="M1":fe(Rt,bt)?Rt>=12&&bt===2&&(Oe.dtick="M3"):Oe.dtick=Ne.dtick:String(Oe.dtick).charAt(0)==="L"?String(Ne.dtick).charAt(0)==="L"?fe(Rt,bt)||(Oe.dtick=pe(Rt/bt,2.5)?Ne.dtick/2:Ne.dtick):Oe.dtick="D1":Oe.dtick==="D2"&&+Ne.dtick>1&&(Oe.dtick=1)}Oe.range=Ne.range}Ne.minor._tick0Init===void 0&&(Oe.tick0=Ne.tick0)},Z.prepTicks=function(Oe,Ne){var Qe=y.simpleMap(Oe.range,Oe.r2l,void 0,void 0,Ne);if(Oe.tickmode==="auto"||!Oe.dtick){var ut,pt=Oe.nticks;pt||(Oe.type==="category"||Oe.type==="multicategory"?(ut=Oe.tickfont?y.bigFont(Oe.tickfont.size||12):15,pt=Oe._length/ut):(ut=Oe._id.charAt(0)==="y"?40:80,pt=y.constrain(Oe._length/ut,4,9)+1),Oe._name==="radialaxis"&&(pt*=2)),Oe.minor&&Oe.minor.tickmode!=="array"||Oe.tickmode==="array"&&(pt*=100),Oe._roughDTick=Math.abs(Qe[1]-Qe[0])/pt,Z.autoTicks(Oe,Oe._roughDTick),Oe._minDtick>0&&Oe.dtick<2*Oe._minDtick&&(Oe.dtick=Oe._minDtick,Oe.tick0=Oe.l2r(Oe._forceTick0))}Oe.ticklabelmode==="period"&&function(wt){var Lt;function It(){return!(w(wt.dtick)||wt.dtick.charAt(0)!=="M")}var yt=It(),Rt=Z.getTickFormat(wt);if(Rt){var bt=wt._dtickInit!==wt.dtick;/%[fLQsSMX]/.test(Rt)||(/%[HI]/.test(Rt)?(Lt=A,bt&&!yt&&wt.dtick<A&&(wt.dtick=A)):/%p/.test(Rt)?(Lt=E,bt&&!yt&&wt.dtick<E&&(wt.dtick=E)):/%[Aadejuwx]/.test(Rt)?(Lt=c,bt&&!yt&&wt.dtick<c&&(wt.dtick=c)):/%[UVW]/.test(Rt)?(Lt=T,bt&&!yt&&wt.dtick<T&&(wt.dtick=T)):/%[Bbm]/.test(Rt)?(Lt=g,bt&&(yt?Le(wt.dtick)<1:wt.dtick<v)&&(wt.dtick="M1")):/%[q]/.test(Rt)?(Lt=m,bt&&(yt?Le(wt.dtick)<3:wt.dtick<d)&&(wt.dtick="M3")):/%[Yy]/.test(Rt)&&(Lt=p,bt&&(yt?Le(wt.dtick)<12:wt.dtick<h)&&(wt.dtick="M12")))}(yt=It())&&wt.tick0===wt._dowTick0&&(wt.tick0=wt._rawTick0),wt._definedDelta=Lt}(Oe),Oe.tick0||(Oe.tick0=Oe.type==="date"?"2000-01-01":0),Oe.type==="date"&&Oe.dtick<.1&&(Oe.dtick=.1),je(Oe)},Z.calcTicks=function(Oe,Ne){for(var Qe,ut,pt=Oe.type,wt=Oe.calendar,Lt=Oe.ticklabelstep,It=Oe.ticklabelmode==="period",yt=y.simpleMap(Oe.range,Oe.r2l,void 0,void 0,Ne),Rt=yt[1]<yt[0],bt=Math.min(yt[0],yt[1]),Pt=Math.max(yt[0],yt[1]),Bt=Math.max(1e3,Oe._length||0),Zt=[],Yt=[],Kt=[],tn=[],on=Oe.minor&&(Oe.minor.ticks||Oe.minor.showgrid),_n=1;_n>=(on?0:1);_n--){var fn=!_n;_n?(Oe._dtickInit=Oe.dtick,Oe._tick0Init=Oe.tick0):(Oe.minor._dtickInit=Oe.minor.dtick,Oe.minor._tick0Init=Oe.minor.tick0);var Sn=_n?Oe:y.extendFlat({},Oe,Oe.minor);if(fn?Z.prepMinorTicks(Sn,Oe,Ne):Z.prepTicks(Sn,Ne),Sn.tickmode!=="array")if(Sn.tickmode!=="sync"){var Xn=ce(yt),An=Xn[0],un=Xn[1],Tn=w(Sn.dtick),gn=pt==="log"&&!(Tn||Sn.dtick.charAt(0)==="L"),dn=Z.tickFirst(Sn,Ne);if(_n){if(Oe._tmin=dn,dn<An!==Rt)break;pt!=="category"&&pt!=="multicategory"||(un=Rt?Math.max(-.5,un):Math.min(Oe._categories.length-.5,un))}var Rn,In,Hn=null,Yn=dn;_n&&(Tn?In=Oe.dtick:pt==="date"?typeof Oe.dtick=="string"&&Oe.dtick.charAt(0)==="M"&&(In=g*Oe.dtick.substring(1)):In=Oe._roughDTick,Rn=Math.round((Oe.r2l(Yn)-Oe.r2l(Oe.tick0))/In)-1);var Gn=Sn.dtick;for(Sn.rangebreaks&&Sn._tick0Init!==Sn.tick0&&(Yn=$e(Yn,Oe),Rt||(Yn=Z.tickIncrement(Yn,Gn,!Rt,wt))),_n&&It&&(Yn=Z.tickIncrement(Yn,Gn,!Rt,wt),Rn--);Rt?Yn>=un:Yn<=un;Yn=Z.tickIncrement(Yn,Gn,Rt,wt)){if(_n&&Rn++,Sn.rangebreaks&&!Rt){if(Yn<An)continue;if(Sn.maskBreaks(Yn)===D&&$e(Yn,Sn)>=Pt)break}if(Kt.length>Bt||Yn===Hn)break;Hn=Yn;var cr={value:Yn};_n?(gn&&Yn!==(0|Yn)&&(cr.simpleLabel=!0),Lt>1&&Rn%Lt&&(cr.skipLabel=!0),Kt.push(cr)):(cr.minor=!0,tn.push(cr))}}else Kt=[],Zt=Ae(Oe);else _n?(Kt=[],Zt=Me(Oe)):(tn=[],Yt=Me(Oe))}if(on&&!(Oe.minor.ticks==="inside"&&Oe.ticks==="outside"||Oe.minor.ticks==="outside"&&Oe.ticks==="inside")){for(var ir=Kt.map(function(zn){return zn.value}),Mr=[],gr=0;gr<tn.length;gr++){var sr=tn[gr],xr=sr.value;if(ir.indexOf(xr)===-1){for(var kr=!1,Qt=0;!kr&&Qt<Kt.length;Qt++)1e7+Kt[Qt].value===1e7+xr&&(kr=!0);kr||Mr.push(sr)}}tn=Mr}if(It&&function(zn,Vt,en){for(var pn=0;pn<zn.length;pn++){var Nn=zn[pn].value,Fn=pn,On=pn+1;pn<zn.length-1?(Fn=pn,On=pn+1):pn>0?(Fn=pn-1,On=pn):(Fn=pn,On=pn);var mn,kn=zn[Fn].value,vn=zn[On].value,xn=Math.abs(vn-kn),En=en||xn,Vn=0;En>=h?Vn=xn>=h&&xn<=u?xn:p:en===m&&En>=d?Vn=xn>=d&&xn<=_?xn:m:En>=v?Vn=xn>=v&&xn<=x?xn:g:en===T&&En>=T?Vn=T:En>=c?Vn=c:en===E&&En>=E?Vn=E:en===A&&En>=A&&(Vn=A),Vn>=xn&&(Vn=xn,mn=!0);var $n=Nn+Vn;if(Vt.rangebreaks&&Vn>0){for(var rr=0,er=0;er<84;er++){var pr=(er+.5)/84;Vt.maskBreaks(Nn*(1-pr)+pr*$n)!==D&&rr++}(Vn*=rr/84)||(zn[pn].drop=!0),mn&&xn>T&&(Vn=xn)}(Vn>0||pn===0)&&(zn[pn].periodX=Nn+Vn/2)}}(Kt,Oe,Oe._definedDelta),Oe.rangebreaks){var bn=Oe._id.charAt(0)==="y",Dn=1;Oe.tickmode==="auto"&&(Dn=Oe.tickfont?Oe.tickfont.size:12);var Pn=NaN;for(Qe=Kt.length-1;Qe>-1;Qe--)if(Kt[Qe].drop)Kt.splice(Qe,1);else{Kt[Qe].value=$e(Kt[Qe].value,Oe);var qn=Oe.c2p(Kt[Qe].value);(bn?Pn>qn-Dn:Pn<qn+Dn)?Kt.splice(Rt?Qe+1:Qe,1):Pn=qn}}Ke(Oe)&&Math.abs(yt[1]-yt[0])===360&&Kt.pop(),Oe._tmax=(Kt[Kt.length-1]||{}).value,Oe._prevDateHead="",Oe._inCalcTicks=!0;var Qn,Jn,nr=function(zn){zn.text="",Oe._prevDateHead=ut};for(Kt=Kt.concat(tn),Qe=0;Qe<Kt.length;Qe++){var yr=Kt[Qe].minor,an=Kt[Qe].value;yr?Yt.push({x:an,minor:!0}):(ut=Oe._prevDateHead,Qn=Z.tickText(Oe,an,!1,Kt[Qe].simpleLabel),(Jn=Kt[Qe].periodX)!==void 0&&(Qn.periodX=Jn,(Jn>Pt||Jn<bt)&&(Jn>Pt&&(Qn.periodX=Pt),Jn<bt&&(Qn.periodX=bt),nr(Qn))),Kt[Qe].skipLabel&&nr(Qn),Zt.push(Qn))}return Zt=Zt.concat(Yt),Oe._inCalcTicks=!1,It&&Zt.length&&(Zt[0].noTick=!0),Zt};var ke=[2,5,10],te=[1,2,3,6,12],ue=[1,2,5,10,15,30],ge=[1,2,3,7,14],we=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ee=[-.301,0,.301,.699,1],Be=[15,30,45,90,180];function Re(Oe,Ne,Qe){return Ne*y.roundUp(Oe/Ne,Qe)}function je(Oe){var Ne=Oe.dtick;if(Oe._tickexponent=0,w(Ne)||typeof Ne=="string"||(Ne=1),Oe.type!=="category"&&Oe.type!=="multicategory"||(Oe._tickround=null),Oe.type==="date"){var Qe=Oe.r2l(Oe.tick0),ut=Oe.l2r(Qe).replace(/(^-|i)/g,""),pt=ut.length;if(String(Ne).charAt(0)==="M")pt>10||ut.substr(5)!=="01-01"?Oe._tickround="d":Oe._tickround=+Ne.substr(1)%12==0?"y":"m";else if(Ne>=c&&pt<=10||Ne>=15*c)Oe._tickround="d";else if(Ne>=C&&pt<=16||Ne>=A)Oe._tickround="M";else if(Ne>=O&&pt<=19||Ne>=C)Oe._tickround="S";else{var wt=Oe.l2r(Qe+Ne).replace(/^-/,"").length;Oe._tickround=Math.max(pt,wt)-20,Oe._tickround<0&&(Oe._tickround=4)}}else if(w(Ne)||Ne.charAt(0)==="L"){var Lt=Oe.range.map(Oe.r2d||Number);w(Ne)||(Ne=Number(Ne.substr(1))),Oe._tickround=2-Math.floor(Math.log(Ne)/Math.LN10+.01);var It=Math.max(Math.abs(Lt[0]),Math.abs(Lt[1])),yt=Math.floor(Math.log(It)/Math.LN10+.01),Rt=Oe.minexponent===void 0?3:Oe.minexponent;Math.abs(yt)>Rt&&(Te(Oe.exponentformat)&&!Fe(yt)?Oe._tickexponent=3*Math.round((yt-1)/3):Oe._tickexponent=yt)}else Oe._tickround=null}function he(Oe,Ne,Qe){var ut=Oe.tickfont||{};return{x:Ne,dx:0,dy:0,text:Qe||"",fontSize:ut.size,font:ut.family,fontColor:ut.color}}Z.autoTicks=function(Oe,Ne,Qe){var ut;function pt(Pt){return Math.pow(Pt,Math.floor(Math.log(Ne)/Math.LN10))}if(Oe.type==="date"){Oe.tick0=y.dateTick0(Oe.calendar,0);var wt=2*Ne;if(wt>p)Ne/=p,ut=pt(10),Oe.dtick="M"+12*Re(Ne,ut,ke);else if(wt>g)Ne/=g,Oe.dtick="M"+Re(Ne,1,te);else if(wt>c){if(Oe.dtick=Re(Ne,c,Oe._hasDayOfWeekBreaks?[1,2,7,14]:ge),!Qe){var Lt=Z.getTickFormat(Oe),It=Oe.ticklabelmode==="period";It&&(Oe._rawTick0=Oe.tick0),/%[uVW]/.test(Lt)?Oe.tick0=y.dateTick0(Oe.calendar,2):Oe.tick0=y.dateTick0(Oe.calendar,1),It&&(Oe._dowTick0=Oe.tick0)}}else wt>A?Oe.dtick=Re(Ne,A,te):wt>C?Oe.dtick=Re(Ne,C,ue):wt>O?Oe.dtick=Re(Ne,O,ue):(ut=pt(10),Oe.dtick=Re(Ne,ut,ke))}else if(Oe.type==="log"){Oe.tick0=0;var yt=y.simpleMap(Oe.range,Oe.r2l);if(Oe._isMinor&&(Ne*=1.5),Ne>.7)Oe.dtick=Math.ceil(Ne);else if(Math.abs(yt[1]-yt[0])<1){var Rt=1.5*Math.abs((yt[1]-yt[0])/Ne);Ne=Math.abs(Math.pow(10,yt[1])-Math.pow(10,yt[0]))/Rt,ut=pt(10),Oe.dtick="L"+Re(Ne,ut,ke)}else Oe.dtick=Ne>.3?"D2":"D1"}else Oe.type==="category"||Oe.type==="multicategory"?(Oe.tick0=0,Oe.dtick=Math.ceil(Math.max(Ne,1))):Ke(Oe)?(Oe.tick0=0,ut=1,Oe.dtick=Re(Ne,ut,Be)):(Oe.tick0=0,ut=pt(10),Oe.dtick=Re(Ne,ut,ke));if(Oe.dtick===0&&(Oe.dtick=1),!w(Oe.dtick)&&typeof Oe.dtick!="string"){var bt=Oe.dtick;throw Oe.dtick=1,"ax.dtick error: "+String(bt)}},Z.tickIncrement=function(Oe,Ne,Qe,ut){var pt=Qe?-1:1;if(w(Ne))return y.increment(Oe,pt*Ne);var wt=Ne.charAt(0),Lt=pt*Number(Ne.substr(1));if(wt==="M")return y.incrementMonth(Oe,Lt,ut);if(wt==="L")return Math.log(Math.pow(10,Oe)+Lt)/Math.LN10;if(wt==="D"){var It=Ne==="D2"?Ee:we,yt=Oe+.01*pt,Rt=y.roundUp(y.mod(yt,1),It,Qe);return Math.floor(yt)+Math.log(b.round(Math.pow(10,Rt),1))/Math.LN10}throw"unrecognized dtick "+String(Ne)},Z.tickFirst=function(Oe,Ne){var Qe=Oe.r2l||Number,ut=y.simpleMap(Oe.range,Qe,void 0,void 0,Ne),pt=ut[1]<ut[0],wt=pt?Math.floor:Math.ceil,Lt=ce(ut)[0],It=Oe.dtick,yt=Qe(Oe.tick0);if(w(It)){var Rt=wt((Lt-yt)/It)*It+yt;return Oe.type!=="category"&&Oe.type!=="multicategory"||(Rt=y.constrain(Rt,0,Oe._categories.length-1)),Rt}var bt=It.charAt(0),Pt=Number(It.substr(1));if(bt==="M"){for(var Bt,Zt,Yt,Kt=0,tn=yt;Kt<10;){if(((Bt=Z.tickIncrement(tn,It,pt,Oe.calendar))-Lt)*(tn-Lt)<=0)return pt?Math.min(tn,Bt):Math.max(tn,Bt);Zt=(Lt-(tn+Bt)/2)/(Bt-tn),Yt=bt+(Math.abs(Math.round(Zt))||1)*Pt,tn=Z.tickIncrement(tn,Yt,Zt<0?!pt:pt,Oe.calendar),Kt++}return y.error("tickFirst did not converge",Oe),tn}if(bt==="L")return Math.log(wt((Math.pow(10,Lt)-yt)/Pt)*Pt+yt)/Math.LN10;if(bt==="D"){var on=It==="D2"?Ee:we,_n=y.roundUp(y.mod(Lt,1),on,pt);return Math.floor(Lt)+Math.log(b.round(Math.pow(10,_n),1))/Math.LN10}throw"unrecognized dtick "+String(It)},Z.tickText=function(Oe,Ne,Qe,ut){var pt,wt=he(Oe,Ne),Lt=Oe.tickmode==="array",It=Qe||Lt,yt=Oe.type,Rt=yt==="category"?Oe.d2l_noadd:Oe.d2l;if(Lt&&Array.isArray(Oe.ticktext)){var bt=y.simpleMap(Oe.range,Oe.r2l),Pt=(Math.abs(bt[1]-bt[0])-(Oe._lBreaks||0))/1e4;for(pt=0;pt<Oe.ticktext.length&&!(Math.abs(Ne-Rt(Oe.tickvals[pt]))<Pt);pt++);if(pt<Oe.ticktext.length)return wt.text=String(Oe.ticktext[pt]),wt}function Bt(tn){if(tn===void 0)return!0;if(Qe)return tn==="none";var on={first:Oe._tmin,last:Oe._tmax}[tn];return tn!=="all"&&Ne!==on}var Zt=Qe?"never":Oe.exponentformat!=="none"&&Bt(Oe.showexponent)?"hide":"";if(yt==="date"?function(tn,on,_n,fn){var Sn=tn._tickround,Xn=_n&&tn.hoverformat||Z.getTickFormat(tn);fn&&(Sn=w(Sn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Sn]);var An,un=y.formatDate(on.x,Xn,Sn,tn._dateFormat,tn.calendar,tn._extraFormat),Tn=un.indexOf(`
`);if(Tn!==-1&&(An=un.substr(Tn+1),un=un.substr(0,Tn)),fn&&(un==="00:00:00"||un==="00:00"?(un=An,An=""):un.length===8&&(un=un.replace(/:00$/,""))),An)if(_n)Sn==="d"?un+=", "+An:un=An+(un?", "+un:"");else if(tn._inCalcTicks&&tn._prevDateHead===An){var gn=Ue(tn),dn=tn._trueSide||tn.side;(!gn&&dn==="top"||gn&&dn==="bottom")&&(un+="<br> ")}else tn._prevDateHead=An,un+="<br>"+An;on.text=un}(Oe,wt,Qe,It):yt==="log"?function(tn,on,_n,fn,Sn){var Xn=tn.dtick,An=on.x,un=tn.tickformat,Tn=typeof Xn=="string"&&Xn.charAt(0);if(Sn==="never"&&(Sn=""),fn&&Tn!=="L"&&(Xn="L3",Tn="L"),un||Tn==="L")on.text=Ye(Math.pow(10,An),tn,Sn,fn);else if(w(Xn)||Tn==="D"&&y.mod(An+.01,1)<.1){var gn=Math.round(An),dn=Math.abs(gn),Rn=tn.exponentformat;Rn==="power"||Te(Rn)&&Fe(gn)?(on.text=gn===0?1:gn===1?"10":"10<sup>"+(gn>1?"":P)+dn+"</sup>",on.fontSize*=1.25):(Rn==="e"||Rn==="E")&&dn>2?on.text="1"+Rn+(gn>0?"+":P)+dn:(on.text=Ye(Math.pow(10,An),tn,"","fakehover"),Xn==="D1"&&tn._id.charAt(0)==="y"&&(on.dy-=on.fontSize/6))}else{if(Tn!=="D")throw"unrecognized dtick "+String(Xn);on.text=String(Math.round(Math.pow(10,y.mod(An,1)))),on.fontSize*=.75}if(tn.dtick==="D1"){var In=String(on.text).charAt(0);In!=="0"&&In!=="1"||(tn._id.charAt(0)==="y"?on.dx-=on.fontSize/4:(on.dy+=on.fontSize/2,on.dx+=(tn.range[1]>tn.range[0]?1:-1)*on.fontSize*(An<0?.5:.25)))}}(Oe,wt,0,It,Zt):yt==="category"?function(tn,on){var _n=tn._categories[Math.round(on.x)];_n===void 0&&(_n=""),on.text=String(_n)}(Oe,wt):yt==="multicategory"?function(tn,on,_n){var fn=Math.round(on.x),Sn=tn._categories[fn]||[],Xn=Sn[1]===void 0?"":String(Sn[1]),An=Sn[0]===void 0?"":String(Sn[0]);_n?on.text=An+" - "+Xn:(on.text=Xn,on.text2=An)}(Oe,wt,Qe):Ke(Oe)?function(tn,on,_n,fn,Sn){if(tn.thetaunit!=="radians"||_n)on.text=Ye(on.x,tn,Sn,fn);else{var Xn=on.x/180;if(Xn===0)on.text="0";else{var An=function(Tn){function gn(Hn,Yn){return Math.abs(Hn-Yn)<=1e-6}var dn=function(Hn){for(var Yn=1;!gn(Math.round(Hn*Yn)/Yn,Hn);)Yn*=10;return Yn}(Tn),Rn=Tn*dn,In=Math.abs(function Hn(Yn,Gn){return gn(Gn,0)?Yn:Hn(Gn,Yn%Gn)}(Rn,dn));return[Math.round(Rn/In),Math.round(dn/In)]}(Xn);if(An[1]>=100)on.text=Ye(y.deg2rad(on.x),tn,Sn,fn);else{var un=on.x<0;An[1]===1?An[0]===1?on.text="\u03C0":on.text=An[0]+"\u03C0":on.text=["<sup>",An[0],"</sup>","\u2044","<sub>",An[1],"</sub>","\u03C0"].join(""),un&&(on.text=P+on.text)}}}}(Oe,wt,Qe,It,Zt):function(tn,on,_n,fn,Sn){Sn==="never"?Sn="":tn.showexponent==="all"&&Math.abs(on.x/tn.dtick)<1e-6&&(Sn="hide"),on.text=Ye(on.x,tn,Sn,fn)}(Oe,wt,0,It,Zt),ut||(Oe.tickprefix&&!Bt(Oe.showtickprefix)&&(wt.text=Oe.tickprefix+wt.text),Oe.ticksuffix&&!Bt(Oe.showticksuffix)&&(wt.text+=Oe.ticksuffix)),Oe.labelalias&&Oe.labelalias.hasOwnProperty(wt.text)){var Yt=Oe.labelalias[wt.text];typeof Yt=="string"&&(wt.text=Yt)}if(Oe.tickson==="boundaries"||Oe.showdividers){var Kt=function(tn){var on=Oe.l2p(tn);return on>=0&&on<=Oe._length?tn:null};wt.xbnd=[Kt(wt.x-.5),Kt(wt.x+Oe.dtick-.5)]}return wt},Z.hoverLabelText=function(Oe,Ne,Qe){Qe&&(Oe=y.extendFlat({},Oe,{hoverformat:Qe}));var ut=Array.isArray(Ne)?Ne[0]:Ne,pt=Array.isArray(Ne)?Ne[1]:void 0;if(pt!==void 0&&pt!==ut)return Z.hoverLabelText(Oe,ut,Qe)+" - "+Z.hoverLabelText(Oe,pt,Qe);var wt=Oe.type==="log"&&ut<=0,Lt=Z.tickText(Oe,Oe.c2l(wt?-ut:ut),"hover").text;return wt?ut===0?"0":P+Lt:Lt};var _e=["f","p","n","\u03BC","m","","k","M","G","T"];function Te(Oe){return Oe==="SI"||Oe==="B"}function Fe(Oe){return Oe>14||Oe<-15}function Ye(Oe,Ne,Qe,ut){var pt=Oe<0,wt=Ne._tickround,Lt=Qe||Ne.exponentformat||"B",It=Ne._tickexponent,yt=Z.getTickFormat(Ne),Rt=Ne.separatethousands;if(ut){var bt={exponentformat:Lt,minexponent:Ne.minexponent,dtick:Ne.showexponent==="none"?Ne.dtick:w(Oe)&&Math.abs(Oe)||1,range:Ne.showexponent==="none"?Ne.range.map(Ne.r2d):[0,Oe||1]};je(bt),wt=(Number(bt._tickround)||0)+4,It=bt._tickexponent,Ne.hoverformat&&(yt=Ne.hoverformat)}if(yt)return Ne._numFormat(yt)(Oe).replace(/-/g,P);var Pt,Bt=Math.pow(10,-wt)/2;if(Lt==="none"&&(It=0),(Oe=Math.abs(Oe))<Bt)Oe="0",pt=!1;else{if(Oe+=Bt,It&&(Oe*=Math.pow(10,-It),wt+=It),wt===0)Oe=String(Math.floor(Oe));else if(wt<0){Oe=(Oe=String(Math.round(Oe))).substr(0,Oe.length+wt);for(var Zt=wt;Zt<0;Zt++)Oe+="0"}else{var Yt=(Oe=String(Oe)).indexOf(".")+1;Yt&&(Oe=Oe.substr(0,Yt+wt).replace(/\.?0+$/,""))}Oe=y.numSeparate(Oe,Ne._separators,Rt)}return It&&Lt!=="hide"&&(Te(Lt)&&Fe(It)&&(Lt="power"),Pt=It<0?P+-It:Lt!=="power"?"+"+It:String(It),Lt==="e"||Lt==="E"?Oe+=Lt+Pt:Lt==="power"?Oe+="\xD710<sup>"+Pt+"</sup>":Lt==="B"&&It===9?Oe+="B":Te(Lt)&&(Oe+=_e[It/3+5])),pt?P+Oe:Oe}function Ge(Oe,Ne){if(Oe){var Qe=Object.keys(U).reduce(function(ut,pt){return Ne.indexOf(pt)!==-1&&U[pt].forEach(function(wt){ut[wt]=1}),ut},{});Object.keys(Oe).forEach(function(ut){Qe[ut]||(ut.length===1?Oe[ut]=0:delete Oe[ut])})}}function ot(Oe,Ne){for(var Qe=[],ut={},pt=0;pt<Ne.length;pt++){var wt=Ne[pt];ut[wt.text2]?ut[wt.text2].push(wt.x):ut[wt.text2]=[wt.x]}for(var Lt in ut)Qe.push(he(Oe,y.interp(ut[Lt],.5),Lt));return Qe}function st(Oe){return Oe.periodX!==void 0?Oe.periodX:Oe.x}function ht(Oe){return[Oe.text,Oe.x,Oe.axInfo,Oe.font,Oe.fontSize,Oe.fontColor].join("_")}function xt(Oe){var Ne=Oe.title.font.size,Qe=(Oe.title.text.match(l.BR_TAG_ALL)||[]).length;return Oe.title.hasOwnProperty("standoff")?Qe?Ne*(ee+Qe*K):Ne*ee:Qe?Ne*(Qe+1)*K:Ne}function Ct(Oe,Ne){var Qe=Oe.l2p(Ne);return Qe>1&&Qe<Oe._length-1}function St(Oe){var Ne=b.select(Oe),Qe=Ne.select(".text-math-group");return Qe.empty()?Ne.select("text"):Qe}function kt(Oe){return Oe._id+".automargin"}function Nt(Oe){return kt(Oe)+".mirror"}function Dt(Oe){return Oe._id+".rangeslider"}function Et(Oe,Ne){for(var Qe=0;Qe<Ne.length;Qe++)Oe.indexOf(Ne[Qe])===-1&&Oe.push(Ne[Qe])}function Wt(Oe,Ne,Qe){var ut,pt,wt=[],Lt=[],It=Oe.layout;for(ut=0;ut<Ne.length;ut++)wt.push(Z.getFromId(Oe,Ne[ut]));for(ut=0;ut<Qe.length;ut++)Lt.push(Z.getFromId(Oe,Qe[ut]));var yt=Object.keys(n),Rt=["anchor","domain","overlaying","position","side","tickangle","editType"],bt=["linear","log"];for(ut=0;ut<yt.length;ut++){var Pt=yt[ut],Bt=wt[0][Pt],Zt=Lt[0][Pt],Yt=!0,Kt=!1,tn=!1;if(Pt.charAt(0)!=="_"&&typeof Bt!="function"&&Rt.indexOf(Pt)===-1){for(pt=1;pt<wt.length&&Yt;pt++){var on=wt[pt][Pt];Pt==="type"&&bt.indexOf(Bt)!==-1&&bt.indexOf(on)!==-1&&Bt!==on?Kt=!0:on!==Bt&&(Yt=!1)}for(pt=1;pt<Lt.length&&Yt;pt++){var _n=Lt[pt][Pt];Pt==="type"&&bt.indexOf(Zt)!==-1&&bt.indexOf(_n)!==-1&&Zt!==_n?tn=!0:Lt[pt][Pt]!==Zt&&(Yt=!1)}Yt&&(Kt&&(It[wt[0]._name].type="linear"),tn&&(It[Lt[0]._name].type="linear"),Ht(It,Pt,wt,Lt,Oe._fullLayout._dfltTitle))}}for(ut=0;ut<Oe._fullLayout.annotations.length;ut++){var fn=Oe._fullLayout.annotations[ut];Ne.indexOf(fn.xref)!==-1&&Qe.indexOf(fn.yref)!==-1&&y.swapAttrs(It.annotations[ut],["?"])}}function Ht(Oe,Ne,Qe,ut,pt){var wt,Lt=y.nestedProperty,It=Lt(Oe[Qe[0]._name],Ne).get(),yt=Lt(Oe[ut[0]._name],Ne).get();for(Ne==="title"&&(It&&It.text===pt.x&&(It.text=pt.y),yt&&yt.text===pt.y&&(yt.text=pt.x)),wt=0;wt<Qe.length;wt++)Lt(Oe,Qe[wt]._name+"."+Ne).set(yt);for(wt=0;wt<ut.length;wt++)Lt(Oe,ut[wt]._name+"."+Ne).set(It)}function Ke(Oe){return Oe._id==="angularaxis"}function $e(Oe,Ne){for(var Qe=Ne._rangebreaks.length,ut=0;ut<Qe;ut++){var pt=Ne._rangebreaks[ut];if(Oe>=pt.min&&Oe<pt.max)return pt.max}return Oe}function Ue(Oe){return(Oe.ticklabelposition||"").indexOf("inside")!==-1}function nt(Oe,Ne){Ue(Oe._anchorAxis||{})&&Oe._hideCounterAxisInsideTickLabels&&Oe._hideCounterAxisInsideTickLabels(Ne)}function ct(Oe,Ne,Qe,ut){var pt,wt=Oe.anchor==="free"||Oe.overlaying!==void 0&&Oe.overlaying!==!1?Oe.overlaying:Oe._id;pt=ut?Oe.side==="right"?Ne:-Ne:Ne,wt in Qe||(Qe[wt]={}),Oe.side in Qe[wt]||(Qe[wt][Oe.side]=0),Qe[wt][Oe.side]+=pt}Z.getTickFormat=function(Oe){var Ne,Qe,ut,pt,wt,Lt,It,yt;function Rt(Bt){return typeof Bt!="string"?Bt:Number(Bt.replace("M",""))*g}function bt(Bt,Zt){var Yt=["L","D"];if(typeof Bt==typeof Zt){if(typeof Bt=="number")return Bt-Zt;var Kt=Yt.indexOf(Bt.charAt(0)),tn=Yt.indexOf(Zt.charAt(0));return Kt===tn?Number(Bt.replace(/(L|D)/g,""))-Number(Zt.replace(/(L|D)/g,"")):Kt-tn}return typeof Bt=="number"?1:-1}function Pt(Bt,Zt){var Yt=Zt[0]===null,Kt=Zt[1]===null,tn=bt(Bt,Zt[0])>=0,on=bt(Bt,Zt[1])<=0;return(Yt||tn)&&(Kt||on)}if(Oe.tickformatstops&&Oe.tickformatstops.length>0)switch(Oe.type){case"date":case"linear":for(Ne=0;Ne<Oe.tickformatstops.length;Ne++)if((ut=Oe.tickformatstops[Ne]).enabled&&(pt=Oe.dtick,wt=ut.dtickrange,Lt=void 0,It=void 0,yt=void 0,Lt=Rt||function(Bt){return Bt},It=wt[0],yt=wt[1],(!It&&typeof It!="number"||Lt(It)<=Lt(pt))&&(!yt&&typeof yt!="number"||Lt(yt)>=Lt(pt)))){Qe=ut;break}break;case"log":for(Ne=0;Ne<Oe.tickformatstops.length;Ne++)if((ut=Oe.tickformatstops[Ne]).enabled&&Pt(Oe.dtick,ut.dtickrange)){Qe=ut;break}}return Qe?Qe.value:Oe.tickformat},Z.getSubplots=function(Oe,Ne){var Qe=Oe._fullLayout._subplots,ut=Qe.cartesian.concat(Qe.gl2d||[]),pt=Ne?Z.findSubplotsWithAxis(ut,Ne):ut;return pt.sort(function(wt,Lt){var It=wt.substr(1).split("y"),yt=Lt.substr(1).split("y");return It[0]===yt[0]?+It[1]-+yt[1]:+It[0]-+yt[0]}),pt},Z.findSubplotsWithAxis=function(Oe,Ne){for(var Qe=new RegExp(Ne._id.charAt(0)==="x"?"^"+Ne._id+"y":Ne._id+"$"),ut=[],pt=0;pt<Oe.length;pt++){var wt=Oe[pt];Qe.test(wt)&&ut.push(wt)}return ut},Z.makeClipPaths=function(Oe){var Ne=Oe._fullLayout;if(!Ne._hasOnlyLargeSploms){var Qe,ut,pt={_offset:0,_length:Ne.width,_id:""},wt={_offset:0,_length:Ne.height,_id:""},Lt=Z.list(Oe,"x",!0),It=Z.list(Oe,"y",!0),yt=[];for(Qe=0;Qe<Lt.length;Qe++)for(yt.push({x:Lt[Qe],y:wt}),ut=0;ut<It.length;ut++)Qe===0&&yt.push({x:pt,y:It[ut]}),yt.push({x:Lt[Qe],y:It[ut]});var Rt=Ne._clips.selectAll(".axesclip").data(yt,function(bt){return bt.x._id+bt.y._id});Rt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(bt){return"clip"+Ne._uid+bt.x._id+bt.y._id}).append("rect"),Rt.exit().remove(),Rt.each(function(bt){b.select(this).select("rect").attr({x:bt.x._offset||0,y:bt.y._offset||0,width:bt.x._length||1,height:bt.y._length||1})})}},Z.draw=function(Oe,Ne,Qe){var ut=Oe._fullLayout;Ne==="redraw"&&ut._paper.selectAll("g.subplot").each(function(It){var yt=It[0],Rt=ut._plots[yt];if(Rt){var bt=Rt.xaxis,Pt=Rt.yaxis;Rt.xaxislayer.selectAll("."+bt._id+"tick").remove(),Rt.yaxislayer.selectAll("."+Pt._id+"tick").remove(),Rt.xaxislayer.selectAll("."+bt._id+"tick2").remove(),Rt.yaxislayer.selectAll("."+Pt._id+"tick2").remove(),Rt.xaxislayer.selectAll("."+bt._id+"divider").remove(),Rt.yaxislayer.selectAll("."+Pt._id+"divider").remove(),Rt.minorGridlayer&&Rt.minorGridlayer.selectAll("path").remove(),Rt.gridlayer&&Rt.gridlayer.selectAll("path").remove(),Rt.zerolinelayer&&Rt.zerolinelayer.selectAll("path").remove(),ut._infolayer.select(".g-"+bt._id+"title").remove(),ut._infolayer.select(".g-"+Pt._id+"title").remove()}});var pt=Ne&&Ne!=="redraw"?Ne:Z.listIds(Oe),wt=Z.list(Oe).filter(function(It){return It.autoshift}).map(function(It){return It.overlaying});pt.map(function(It){var yt=Z.getFromId(Oe,It);if(yt.tickmode==="sync"&&yt.overlaying){var Rt=pt.findIndex(function(bt){return bt===yt.overlaying});Rt>=0&&pt.unshift(pt.splice(Rt,1).shift())}});var Lt={false:{left:0,right:0}};return y.syncOrAsync(pt.map(function(It){return function(){if(It){var yt=Z.getFromId(Oe,It);Qe||(Qe={}),Qe.axShifts=Lt,Qe.overlayingShiftedAx=wt;var Rt=Z.drawOne(Oe,yt,Qe);return yt._shiftPusher&&ct(yt,yt._fullDepth||0,Lt,!0),yt._r=yt.range.slice(),yt._rl=y.simpleMap(yt._r,yt.r2l),Rt}}}))},Z.drawOne=function(Oe,Ne,Qe){var ut,pt,wt,Lt=(Qe=Qe||{}).axShifts||{},It=Qe.overlayingShiftedAx||[];Ne.setScale();var yt=Oe._fullLayout,Rt=Ne._id,bt=Rt.charAt(0),Pt=Z.counterLetter(Rt),Bt=yt._plots[Ne._mainSubplot];if(Bt){if(Ne._shiftPusher=Ne.autoshift||It.indexOf(Ne._id)!==-1||It.indexOf(Ne.overlaying)!==-1,Ne._shiftPusher&Ne.anchor==="free"){var Zt=Ne.linewidth/2||0;Ne.ticks==="inside"&&(Zt+=Ne.ticklen),ct(Ne,Zt,Lt,!0),ct(Ne,Ne.shift||0,Lt,!1)}Qe.skipTitle===!0&&Ne._shift!==void 0||(Ne._shift=function(On,mn){return On.autoshift?mn[On.overlaying][On.side]:On.shift||0}(Ne,Lt));var Yt=Bt[bt+"axislayer"],Kt=Ne._mainLinePosition,tn=Kt+=Ne._shift,on=Ne._mainMirrorPosition,_n=Ne._vals=Z.calcTicks(Ne),fn=[Ne.mirror,tn,on].join("_");for(ut=0;ut<_n.length;ut++)_n[ut].axInfo=fn;Ne._selections={},Ne._tickAngles&&(Ne._prevTickAngles=Ne._tickAngles),Ne._tickAngles={},Ne._depth=null;var Sn={};if(Ne.visible){var Xn,An,un=Z.makeTransTickFn(Ne),Tn=Z.makeTransTickLabelFn(Ne),gn=Ne.ticks==="inside",dn=Ne.ticks==="outside";if(Ne.tickson==="boundaries"){var Rn=function(On,mn){var kn,vn=[],xn=function(En,Vn){var $n=En.xbnd[Vn];$n!==null&&vn.push(y.extendFlat({},En,{x:$n}))};if(mn.length){for(kn=0;kn<mn.length;kn++)xn(mn[kn],0);xn(mn[kn-1],1)}return vn}(0,_n);An=Z.clipEnds(Ne,Rn),Xn=gn?An:Rn}else An=Z.clipEnds(Ne,_n),Xn=gn&&Ne.ticklabelmode!=="period"?An:_n;var In,Hn=Ne._gridVals=An,Yn=function(On,mn){var kn,vn,xn=[],En=mn.length&&mn[mn.length-1].x<mn[0].x,Vn=function(rr,er){var pr=rr.xbnd[er];pr!==null&&xn.push(y.extendFlat({},rr,{x:pr}))};if(On.showdividers&&mn.length){for(kn=0;kn<mn.length;kn++){var $n=mn[kn];$n.text2!==vn&&Vn($n,En?1:0),vn=$n.text2}Vn(mn[kn-1],En?0:1)}return xn}(Ne,_n);if(!yt._hasOnlyLargeSploms){var Gn=Ne._subplotsWith,cr={};for(ut=0;ut<Gn.length;ut++){pt=Gn[ut];var ir=(wt=yt._plots[pt])[Pt+"axis"],Mr=ir._mainAxis._id;if(!cr[Mr]){cr[Mr]=1;var gr=bt==="x"?"M0,"+ir._offset+"v"+ir._length:"M"+ir._offset+",0h"+ir._length;Z.drawGrid(Oe,Ne,{vals:Hn,counterAxis:ir,layer:wt.gridlayer.select("."+Rt),minorLayer:wt.minorGridlayer.select("."+Rt),path:gr,transFn:un}),Z.drawZeroLine(Oe,Ne,{counterAxis:ir,layer:wt.zerolinelayer,path:gr,transFn:un})}}}var sr=Z.getTickSigns(Ne),xr=Z.getTickSigns(Ne,"minor");if(Ne.ticks||Ne.minor&&Ne.minor.ticks){var kr,Qt,bn,Dn,Pn=Z.makeTickPath(Ne,tn,sr[2]),qn=Z.makeTickPath(Ne,tn,xr[2],{minor:!0});if(Ne._anchorAxis&&Ne.mirror&&Ne.mirror!==!0?(kr=Z.makeTickPath(Ne,on,sr[3]),Qt=Z.makeTickPath(Ne,on,xr[3],{minor:!0}),bn=Pn+kr,Dn=qn+Qt):(kr="",Qt="",bn=Pn,Dn=qn),Ne.showdividers&&dn&&Ne.tickson==="boundaries"){var Qn={};for(ut=0;ut<Yn.length;ut++)Qn[Yn[ut].x]=1;In=function(On){return Qn[On.x]?kr:bn}}else In=function(On){return On.minor?Dn:bn}}if(Z.drawTicks(Oe,Ne,{vals:Xn,layer:Yt,path:In,transFn:un}),Ne.mirror==="allticks"){var Jn=Object.keys(Ne._linepositions||{});for(ut=0;ut<Jn.length;ut++){pt=Jn[ut],wt=yt._plots[pt];var nr=Ne._linepositions[pt]||[],yr=nr[0],an=nr[1],zn=nr[2],Vt=Z.makeTickPath(Ne,yr,zn?sr[0]:xr[0],{minor:zn})+Z.makeTickPath(Ne,an,zn?sr[1]:xr[1],{minor:zn});Z.drawTicks(Oe,Ne,{vals:Xn,layer:wt[bt+"axislayer"],path:Vt,transFn:un})}}var en=[];if(en.push(function(){return Z.drawLabels(Oe,Ne,{vals:_n,layer:Yt,plotinfo:wt,transFn:Tn,labelFns:Z.makeLabelFns(Ne,tn)})}),Ne.type==="multicategory"){var pn={x:2,y:10}[bt];en.push(function(){var On={x:"height",y:"width"}[bt],mn=Fn()[On]+pn+(Ne._tickAngles[Rt+"tick"]?Ne.tickfont.size*K:0);return Z.drawLabels(Oe,Ne,{vals:ot(Ne,_n),layer:Yt,cls:Rt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:un,labelFns:Z.makeLabelFns(Ne,tn+mn*sr[4])})}),en.push(function(){return Ne._depth=sr[4]*(Fn("tick2")[Ne.side]-tn),function(On,mn,kn){var vn=mn._id+"divider",xn=kn.vals,En=kn.layer.selectAll("path."+vn).data(xn,ht);En.exit().remove(),En.enter().insert("path",":first-child").classed(vn,1).classed("crisp",1).call(s.stroke,mn.dividercolor).style("stroke-width",o.crispRound(On,mn.dividerwidth,1)+"px"),En.attr("transform",kn.transFn).attr("d",kn.path)}(Oe,Ne,{vals:Yn,layer:Yt,path:Z.makeTickPath(Ne,tn,sr[4],{len:Ne._depth}),transFn:un})})}else Ne.title.hasOwnProperty("standoff")&&en.push(function(){Ne._depth=sr[4]*(Fn()[Ne.side]-tn)});var Nn=k.getComponentMethod("rangeslider","isVisible")(Ne);return Qe.skipTitle||Nn&&Ne.side==="bottom"||en.push(function(){return function(On,mn){var kn,vn=On._fullLayout,xn=mn._id,En=xn.charAt(0),Vn=mn.title.font.size;if(mn.title.hasOwnProperty("standoff"))kn=mn._depth+mn.title.standoff+xt(mn);else{var $n=Ue(mn);if(mn.type==="multicategory")kn=mn._depth;else{var rr=1.5*Vn;$n&&(rr=.5*Vn,mn.ticks==="outside"&&(rr+=mn.ticklen)),kn=10+rr+(mn.linewidth?mn.linewidth-1:0)}$n||(kn+=En==="x"?mn.side==="top"?Vn*(mn.showticklabels?1:0):Vn*(mn.showticklabels?1.5:.5):mn.side==="right"?Vn*(mn.showticklabels?1:.5):Vn*(mn.showticklabels?.5:0))}var er,pr,fr,vr,mr=Z.getPxPosition(On,mn);if(En==="x"?(pr=mn._offset+mn._length/2,fr=mn.side==="top"?mr-kn:mr+kn):(fr=mn._offset+mn._length/2,pr=mn.side==="right"?mr+kn:mr-kn,er={rotate:"-90",offset:0}),mn.type!=="multicategory"){var br=mn._selections[mn._id+"tick"];if(vr={selection:br,side:mn.side},br&&br.node()&&br.node().parentNode){var Or=o.getTranslate(br.node().parentNode);vr.offsetLeft=Or.x,vr.offsetTop=Or.y}mn.title.hasOwnProperty("standoff")&&(vr.pad=0)}return mn._titleStandoff=kn,t.draw(On,xn+"title",{propContainer:mn,propName:mn._name+".title.text",placeholder:vn._dfltTitle[En],avoid:vr,transform:er,attributes:{x:pr,y:fr,"text-anchor":"middle"}})}(Oe,Ne)}),en.push(function(){var On,mn,kn,vn,xn=Ne.side.charAt(0),En=J[Ne.side].charAt(0),Vn=Z.getPxPosition(Oe,Ne),$n=dn?Ne.ticklen:0;(Ne.automargin||Nn||Ne._shiftPusher)&&(Ne.type==="multicategory"?On=Fn("tick2"):(On=Fn(),bt==="x"&&xn==="b"&&(Ne._depth=Math.max(On.width>0?On.bottom-Vn:0,$n))));var rr=0,er=0;if(Ne._shiftPusher&&(rr=Math.max($n,On.height>0?xn==="l"?Vn-On.left:On.right-Vn:0),Ne.title.text!==yt._dfltTitle[bt]&&(er=(Ne._titleStandoff||0)+(Ne._titleScoot||0),xn==="l"&&(er+=xt(Ne))),Ne._fullDepth=Math.max(rr,er)),Ne.automargin){mn={x:0,y:0,r:0,l:0,t:0,b:0};var pr=[0,1],fr=typeof Ne._shift=="number"?Ne._shift:0;if(bt==="x"){if(xn==="b"?mn[xn]=Ne._depth:(mn[xn]=Ne._depth=Math.max(On.width>0?Vn-On.top:0,$n),pr.reverse()),On.width>0){var vr=On.right-(Ne._offset+Ne._length);vr>0&&(mn.xr=1,mn.r=vr);var mr=Ne._offset-On.left;mr>0&&(mn.xl=0,mn.l=mr)}}else if(xn==="l"?(Ne._depth=Math.max(On.height>0?Vn-On.left:0,$n),mn[xn]=Ne._depth-fr):(Ne._depth=Math.max(On.height>0?On.right-Vn:0,$n),mn[xn]=Ne._depth+fr,pr.reverse()),On.height>0){var br=On.bottom-(Ne._offset+Ne._length);br>0&&(mn.yb=0,mn.b=br);var Or=Ne._offset-On.top;Or>0&&(mn.yt=1,mn.t=Or)}mn[Pt]=Ne.anchor==="free"?Ne.position:Ne._anchorAxis.domain[pr[0]],Ne.title.text!==yt._dfltTitle[bt]&&(mn[xn]+=xt(Ne)+(Ne.title.standoff||0)),Ne.mirror&&Ne.anchor!=="free"&&((kn={x:0,y:0,r:0,l:0,t:0,b:0})[En]=Ne.linewidth,Ne.mirror&&Ne.mirror!==!0&&(kn[En]+=$n),Ne.mirror===!0||Ne.mirror==="ticks"?kn[Pt]=Ne._anchorAxis.domain[pr[1]]:Ne.mirror!=="all"&&Ne.mirror!=="allticks"||(kn[Pt]=[Ne._counterDomainMin,Ne._counterDomainMax][pr[1]]))}Nn&&(vn=k.getComponentMethod("rangeslider","autoMarginOpts")(Oe,Ne)),typeof Ne.automargin=="string"&&(Ge(mn,Ne.automargin),Ge(kn,Ne.automargin)),a.autoMargin(Oe,kt(Ne),mn),a.autoMargin(Oe,Nt(Ne),kn),a.autoMargin(Oe,Dt(Ne),vn)}),y.syncOrAsync(en)}}function Fn(On){var mn=Rt+(On||"tick");return Sn[mn]||(Sn[mn]=function(kn,vn){var xn,En,Vn,$n;return kn._selections[vn].size()?(xn=1/0,En=-1/0,Vn=1/0,$n=-1/0,kn._selections[vn].each(function(){var rr=St(this),er=o.bBox(rr.node().parentNode);xn=Math.min(xn,er.top),En=Math.max(En,er.bottom),Vn=Math.min(Vn,er.left),$n=Math.max($n,er.right)})):(xn=0,En=0,Vn=0,$n=0),{top:xn,bottom:En,left:Vn,right:$n,height:En-xn,width:$n-Vn}}(Ne,mn)),Sn[mn]}},Z.getTickSigns=function(Oe,Ne){var Qe=Oe._id.charAt(0),ut={x:"top",y:"right"}[Qe],pt=Oe.side===ut?1:-1,wt=[-1,1,pt,-pt];return(Ne?(Oe.minor||{}).ticks:Oe.ticks)!=="inside"==(Qe==="x")&&(wt=wt.map(function(Lt){return-Lt})),Oe.side&&wt.push({l:-1,t:-1,r:1,b:1}[Oe.side.charAt(0)]),wt},Z.makeTransTickFn=function(Oe){return Oe._id.charAt(0)==="x"?function(Ne){return f(Oe._offset+Oe.l2p(Ne.x),0)}:function(Ne){return f(0,Oe._offset+Oe.l2p(Ne.x))}},Z.makeTransTickLabelFn=function(Oe){var Ne=function(pt){var wt=pt.ticklabelposition||"",Lt=function(on){return wt.indexOf(on)!==-1},It=Lt("top"),yt=Lt("left"),Rt=Lt("right"),bt=Lt("bottom"),Pt=Lt("inside"),Bt=bt||yt||It||Rt;if(!Bt&&!Pt)return[0,0];var Zt=pt.side,Yt=Bt?(pt.tickwidth||0)/2:0,Kt=3,tn=pt.tickfont?pt.tickfont.size:12;return(bt||It)&&(Yt+=tn*ee,Kt+=(pt.linewidth||0)/2),(yt||Rt)&&(Yt+=(pt.linewidth||0)/2,Kt+=3),Pt&&Zt==="top"&&(Kt-=tn*(1-ee)),(yt||It)&&(Yt=-Yt),Zt!=="bottom"&&Zt!=="right"||(Kt=-Kt),[Bt?Yt:0,Pt?Kt:0]}(Oe),Qe=Ne[0],ut=Ne[1];return Oe._id.charAt(0)==="x"?function(pt){return f(Qe+Oe._offset+Oe.l2p(st(pt)),ut)}:function(pt){return f(ut,Qe+Oe._offset+Oe.l2p(st(pt)))}},Z.makeTickPath=function(Oe,Ne,Qe,ut){ut||(ut={});var pt=ut.minor;if(pt&&!Oe.minor)return"";var wt=ut.len!==void 0?ut.len:pt?Oe.minor.ticklen:Oe.ticklen,Lt=Oe._id.charAt(0),It=(Oe.linewidth||1)/2;return Lt==="x"?"M0,"+(Ne+It*Qe)+"v"+wt*Qe:"M"+(Ne+It*Qe)+",0h"+wt*Qe},Z.makeLabelFns=function(Oe,Ne,Qe){var ut=Oe.ticklabelposition||"",pt=function(Rn){return ut.indexOf(Rn)!==-1},wt=pt("top"),Lt=pt("left"),It=pt("right"),yt=pt("bottom")||Lt||wt||It,Rt=pt("inside"),bt=ut==="inside"&&Oe.ticks==="inside"||!Rt&&Oe.ticks==="outside"&&Oe.tickson!=="boundaries",Pt=0,Bt=0,Zt=bt?Oe.ticklen:0;if(Rt?Zt*=-1:yt&&(Zt=0),bt&&(Pt+=Zt,Qe)){var Yt=y.deg2rad(Qe);Pt=Zt*Math.cos(Yt)+1,Bt=Zt*Math.sin(Yt)}Oe.showticklabels&&(bt||Oe.showline)&&(Pt+=.2*Oe.tickfont.size);var Kt,tn,on,_n,fn,Sn={labelStandoff:Pt+=(Oe.linewidth||1)/2*(Rt?-1:1),labelShift:Bt},Xn=0,An=Oe.side,un=Oe._id.charAt(0),Tn=Oe.tickangle;if(un==="x")_n=(fn=!Rt&&An==="bottom"||Rt&&An==="top")?1:-1,Rt&&(_n*=-1),Kt=Bt*_n,tn=Ne+Pt*_n,on=fn?1:-.2,Math.abs(Tn)===90&&(Rt?on+=q:on=Tn===-90&&An==="bottom"?ee:Tn===90&&An==="top"?q:.5,Xn=q/2*(Tn/90)),Sn.xFn=function(Rn){return Rn.dx+Kt+Xn*Rn.fontSize},Sn.yFn=function(Rn){return Rn.dy+tn+Rn.fontSize*on},Sn.anchorFn=function(Rn,In){if(yt){if(Lt)return"end";if(It)return"start"}return w(In)&&In!==0&&In!==180?In*_n<0!==Rt?"end":"start":"middle"},Sn.heightFn=function(Rn,In,Hn){return In<-60||In>60?-.5*Hn:Oe.side==="top"!==Rt?-Hn:0};else if(un==="y"){if(_n=(fn=!Rt&&An==="left"||Rt&&An==="right")?1:-1,Rt&&(_n*=-1),Kt=Pt,tn=Bt*_n,on=0,Rt||Math.abs(Tn)!==90||(on=Tn===-90&&An==="left"||Tn===90&&An==="right"?ee:.5),Rt){var gn=w(Tn)?+Tn:0;if(gn!==0){var dn=y.deg2rad(gn);Xn=Math.abs(Math.sin(dn))*ee*_n,on=0}}Sn.xFn=function(Rn){return Rn.dx+Ne-(Kt+Rn.fontSize*on)*_n+Xn*Rn.fontSize},Sn.yFn=function(Rn){return Rn.dy+tn+Rn.fontSize*q},Sn.anchorFn=function(Rn,In){return w(In)&&Math.abs(In)===90?"middle":fn?"end":"start"},Sn.heightFn=function(Rn,In,Hn){return Oe.side==="right"&&(In*=-1),In<-30?-Hn:In<30?-.5*Hn:0}}return Sn},Z.drawTicks=function(Oe,Ne,Qe){Qe=Qe||{};var ut=Ne._id+"tick",pt=[].concat(Ne.minor&&Ne.minor.ticks?Qe.vals.filter(function(Lt){return Lt.minor&&!Lt.noTick}):[]).concat(Ne.ticks?Qe.vals.filter(function(Lt){return!Lt.minor&&!Lt.noTick}):[]),wt=Qe.layer.selectAll("path."+ut).data(pt,ht);wt.exit().remove(),wt.enter().append("path").classed(ut,1).classed("ticks",1).classed("crisp",Qe.crisp!==!1).each(function(Lt){return s.stroke(b.select(this),Lt.minor?Ne.minor.tickcolor:Ne.tickcolor)}).style("stroke-width",function(Lt){return o.crispRound(Oe,Lt.minor?Ne.minor.tickwidth:Ne.tickwidth,1)+"px"}).attr("d",Qe.path).style("display",null),nt(Ne,[W]),wt.attr("transform",Qe.transFn)},Z.drawGrid=function(Oe,Ne,Qe){if(Qe=Qe||{},Ne.tickmode!=="sync"){var ut=Ne._id+"grid",pt=Ne.minor&&Ne.minor.showgrid,wt=pt?Qe.vals.filter(function(on){return on.minor}):[],Lt=Ne.showgrid?Qe.vals.filter(function(on){return!on.minor}):[],It=Qe.counterAxis;if(It&&Z.shouldShowZeroLine(Oe,Ne,It))for(var yt=Ne.tickmode==="array",Rt=0;Rt<Lt.length;Rt++){var bt=Lt[Rt].x;if(yt?!bt:Math.abs(bt)<Ne.dtick/100){if(Lt=Lt.slice(0,Rt).concat(Lt.slice(Rt+1)),!yt)break;Rt--}}Ne._gw=o.crispRound(Oe,Ne.gridwidth,1);for(var Pt=pt?o.crispRound(Oe,Ne.minor.gridwidth,1):0,Bt=Qe.layer,Zt=Qe.minorLayer,Yt=1;Yt>=0;Yt--){var Kt=Yt?Bt:Zt;if(Kt){var tn=Kt.selectAll("path."+ut).data(Yt?Lt:wt,ht);tn.exit().remove(),tn.enter().append("path").classed(ut,1).classed("crisp",Qe.crisp!==!1),tn.attr("transform",Qe.transFn).attr("d",Qe.path).each(function(on){return s.stroke(b.select(this),on.minor?Ne.minor.gridcolor:Ne.gridcolor||"#ddd")}).style("stroke-dasharray",function(on){return o.dashStyle(on.minor?Ne.minor.griddash:Ne.griddash,on.minor?Ne.minor.gridwidth:Ne.gridwidth)}).style("stroke-width",function(on){return(on.minor?Pt:Ne._gw)+"px"}).style("display",null),typeof Qe.path=="function"&&tn.attr("d",Qe.path)}}nt(Ne,[V,F])}},Z.drawZeroLine=function(Oe,Ne,Qe){Qe=Qe||Qe;var ut=Ne._id+"zl",pt=Z.shouldShowZeroLine(Oe,Ne,Qe.counterAxis),wt=Qe.layer.selectAll("path."+ut).data(pt?[{x:0,id:Ne._id}]:[]);wt.exit().remove(),wt.enter().append("path").classed(ut,1).classed("zl",1).classed("crisp",Qe.crisp!==!1).each(function(){Qe.layer.selectAll("path").sort(function(Lt,It){return ae(Lt.id,It.id)})}),wt.attr("transform",Qe.transFn).attr("d",Qe.path).call(s.stroke,Ne.zerolinecolor||s.defaultLine).style("stroke-width",o.crispRound(Oe,Ne.zerolinewidth,Ne._gw||1)+"px").style("display",null),nt(Ne,[z])},Z.drawLabels=function(Oe,Ne,Qe){Qe=Qe||{};var ut=Oe._fullLayout,pt=Ne._id,wt=pt.charAt(0),Lt=Qe.cls||pt+"tick",It=Qe.vals.filter(function(_n){return _n.text}),yt=Qe.labelFns,Rt=Qe.secondary?0:Ne.tickangle,bt=(Ne._prevTickAngles||{})[Lt],Pt=Qe.layer.selectAll("g."+Lt).data(Ne.showticklabels?It:[],ht),Bt=[];function Zt(_n,fn){_n.each(function(Sn){var Xn=b.select(this),An=Xn.select(".text-math-group"),un=yt.anchorFn(Sn,fn),Tn=Qe.transFn.call(Xn.node(),Sn)+(w(fn)&&+fn!=0?" rotate("+fn+","+yt.xFn(Sn)+","+(yt.yFn(Sn)-Sn.fontSize/2)+")":""),gn=l.lineCount(Xn),dn=K*Sn.fontSize,Rn=yt.heightFn(Sn,w(fn)?+fn:0,(gn-1)*dn);if(Rn&&(Tn+=f(0,Rn)),An.empty()){var In=Xn.select("text");In.attr({transform:Tn,"text-anchor":un}),In.style("opacity",1),Ne._adjustTickLabelsOverflow&&Ne._adjustTickLabelsOverflow()}else{var Hn=o.bBox(An.node()).width*{end:-.5,start:.5}[un];An.attr("transform",Tn+f(Hn,0))}})}Pt.enter().append("g").classed(Lt,1).append("text").attr("text-anchor","middle").each(function(_n){var fn=b.select(this),Sn=Oe._promises.length;fn.call(l.positionText,yt.xFn(_n),yt.yFn(_n)).call(o.font,_n.font,_n.fontSize,_n.fontColor).text(_n.text).call(l.convertToTspans,Oe),Oe._promises[Sn]?Bt.push(Oe._promises.pop().then(function(){Zt(fn,Rt)})):Zt(fn,Rt)}),nt(Ne,[B]),Pt.exit().remove(),Qe.repositionOnUpdate&&Pt.each(function(_n){b.select(this).select("text").call(l.positionText,yt.xFn(_n),yt.yFn(_n))}),Ne._adjustTickLabelsOverflow=function(){var _n=Ne.ticklabeloverflow;if(_n&&_n!=="allow"){var fn=_n.indexOf("hide")!==-1,Sn=Ne._id.charAt(0)==="x",Xn=0,An=Sn?Oe._fullLayout.width:Oe._fullLayout.height;if(_n.indexOf("domain")!==-1){var un=y.simpleMap(Ne.range,Ne.r2l);Xn=Ne.l2p(un[0])+Ne._offset,An=Ne.l2p(un[1])+Ne._offset}var Tn=Math.min(Xn,An),gn=Math.max(Xn,An),dn=Ne.side,Rn=1/0,In=-1/0;for(var Hn in Pt.each(function(cr){var ir=b.select(this);if(ir.select(".text-math-group").empty()){var Mr=o.bBox(ir.node()),gr=0;Sn?(Mr.right>gn||Mr.left<Tn)&&(gr=1):(Mr.bottom>gn||Mr.top+(Ne.tickangle?0:cr.fontSize/4)<Tn)&&(gr=1);var sr=ir.select("text");gr?fn&&sr.style("opacity",0):(sr.style("opacity",1),Rn=dn==="bottom"||dn==="right"?Math.min(Rn,Sn?Mr.top:Mr.left):-1/0,In=dn==="top"||dn==="left"?Math.max(In,Sn?Mr.bottom:Mr.right):1/0)}}),ut._plots){var Yn=ut._plots[Hn];if(Ne._id===Yn.xaxis._id||Ne._id===Yn.yaxis._id){var Gn=Sn?Yn.yaxis:Yn.xaxis;Gn&&(Gn["_visibleLabelMin_"+Ne._id]=Rn,Gn["_visibleLabelMax_"+Ne._id]=In)}}}},Ne._hideCounterAxisInsideTickLabels=function(_n){var fn=Ne._id.charAt(0)==="x",Sn=[];for(var Xn in ut._plots){var An=ut._plots[Xn];Ne._id!==An.xaxis._id&&Ne._id!==An.yaxis._id||Sn.push(fn?An.yaxis:An.xaxis)}Sn.forEach(function(un,Tn){un&&Ue(un)&&(_n||[z,F,V,W,B]).forEach(function(gn){var dn=gn.K==="tick"&&gn.L==="text"&&Ne.ticklabelmode==="period",Rn=ut._plots[Ne._mainSubplot];(gn.K===z.K?Rn.zerolinelayer.selectAll("."+Ne._id+"zl"):gn.K===F.K?Rn.minorGridlayer.selectAll("."+Ne._id):gn.K===V.K?Rn.gridlayer.selectAll("."+Ne._id):Rn[Ne._id.charAt(0)+"axislayer"]).each(function(){var In=b.select(this);gn.L&&(In=In.selectAll(gn.L)),In.each(function(Hn){var Yn=Ne.l2p(dn?st(Hn):Hn.x)+Ne._offset,Gn=b.select(this);Yn<Ne["_visibleLabelMax_"+un._id]&&Yn>Ne["_visibleLabelMin_"+un._id]?Gn.style("display","none"):gn.K!=="tick"||Tn||Gn.style("display",null)})})})})},Zt(Pt,bt+1?bt:Rt);var Yt=null;Ne._selections&&(Ne._selections[Lt]=Pt);var Kt=[function(){return Bt.length&&Promise.all(Bt)}];Ne.automargin&&ut._redrawFromAutoMarginCount&&bt===90?(Yt=90,Kt.push(function(){Zt(Pt,bt)})):Kt.push(function(){if(Zt(Pt,Rt),It.length&&wt==="x"&&!w(Rt)&&(Ne.type!=="log"||String(Ne.dtick).charAt(0)!=="D")){Yt=0;var _n,fn=0,Sn=[];if(Pt.each(function(ir){fn=Math.max(fn,ir.fontSize);var Mr=Ne.l2p(ir.x),gr=St(this),sr=o.bBox(gr.node());Sn.push({top:0,bottom:10,height:10,left:Mr-sr.width/2,right:Mr+sr.width/2+2,width:sr.width+2})}),Ne.tickson!=="boundaries"&&!Ne.showdividers||Qe.secondary){var Xn=It.length,An=Math.abs((It[Xn-1].x-It[0].x)*Ne._m)/(Xn-1),un=Ne.ticklabelposition||"",Tn=function(ir){return un.indexOf(ir)!==-1},gn=Tn("top"),dn=Tn("left"),Rn=Tn("right"),In=Tn("bottom")||dn||gn||Rn?(Ne.tickwidth||0)+6:0,Hn=An<2.5*fn||Ne.type==="multicategory"||Ne._name==="realaxis";for(_n=0;_n<Sn.length-1;_n++)if(y.bBoxIntersect(Sn[_n],Sn[_n+1],In)){Yt=Hn?90:30;break}}else{var Yn=2;for(Ne.ticks&&(Yn+=Ne.tickwidth/2),_n=0;_n<Sn.length;_n++){var Gn=It[_n].xbnd,cr=Sn[_n];if(Gn[0]!==null&&cr.left-Ne.l2p(Gn[0])<Yn||Gn[1]!==null&&Ne.l2p(Gn[1])-cr.right<Yn){Yt=90;break}}}Yt&&Zt(Pt,Yt)}}),Ne._tickAngles&&Kt.push(function(){Ne._tickAngles[Lt]=Yt===null?w(Rt)?Rt:0:Yt});var tn=Ne._anchorAxis;tn&&tn.autorange&&Ue(Ne)&&!oe(ut,Ne._id)&&(ut._insideTickLabelsAutorange||(ut._insideTickLabelsAutorange={}),ut._insideTickLabelsAutorange[tn._name+".autorange"]=tn.autorange,Kt.push(function(){Pt.each(function(_n,fn){var Sn=St(this);Sn.select(".text-math-group").empty()&&(Ne._vals[fn].bb=o.bBox(Sn.node()))})}));var on=y.syncOrAsync(Kt);return on&&on.then&&Oe._promises.push(on),on},Z.getPxPosition=function(Oe,Ne){var Qe,ut=Oe._fullLayout._size,pt=Ne._id.charAt(0),wt=Ne.side;return Ne.anchor!=="free"?Qe=Ne._anchorAxis:pt==="x"?Qe={_offset:ut.t+(1-(Ne.position||0))*ut.h,_length:0}:pt==="y"&&(Qe={_offset:ut.l+(Ne.position||0)*ut.w+Ne._shift,_length:0}),wt==="top"||wt==="left"?Qe._offset:wt==="bottom"||wt==="right"?Qe._offset+Qe._length:void 0},Z.shouldShowZeroLine=function(Oe,Ne,Qe){var ut=y.simpleMap(Ne.range,Ne.r2l);return ut[0]*ut[1]<=0&&Ne.zeroline&&(Ne.type==="linear"||Ne.type==="-")&&!(Ne.rangebreaks&&Ne.maskBreaks(0)===D)&&(Ct(Ne,0)||!function(pt,wt,Lt,It){var yt=Lt._mainAxis;if(yt){var Rt=pt._fullLayout,bt=wt._id.charAt(0),Pt=Z.counterLetter(wt._id),Bt=wt._offset+(Math.abs(It[0])<Math.abs(It[1])==(bt==="x")?0:wt._length),Zt=Rt._plots[Lt._mainSubplot];if(!(Zt.mainplotinfo||Zt).overlays.length)return on(Lt);for(var Yt=Z.list(pt,Pt),Kt=0;Kt<Yt.length;Kt++){var tn=Yt[Kt];if(tn._mainAxis===yt&&on(tn))return!0}}function on(_n){if(!_n.showline||!_n.linewidth)return!1;var fn=Math.max((_n.linewidth+wt.zerolinewidth)/2,1);function Sn(un){return typeof un=="number"&&Math.abs(un-Bt)<fn}if(Sn(_n._mainLinePosition)||Sn(_n._mainMirrorPosition))return!0;var Xn=_n._linepositions||{};for(var An in Xn)if(Sn(Xn[An][0])||Sn(Xn[An][1]))return!0}}(Oe,Ne,Qe,ut)||function(pt,wt){for(var Lt=pt._fullData,It=wt._mainSubplot,yt=wt._id.charAt(0),Rt=0;Rt<Lt.length;Rt++){var bt=Lt[Rt];if(bt.visible===!0&&bt.xaxis+bt.yaxis===It&&(k.traceIs(bt,"bar-like")&&bt.orientation==={x:"h",y:"v"}[yt]||bt.fill&&bt.fill.charAt(bt.fill.length-1)===yt))return!0}return!1}(Oe,Ne))},Z.clipEnds=function(Oe,Ne){return Ne.filter(function(Qe){return Ct(Oe,Qe.x)})},Z.allowAutoMargin=function(Oe){for(var Ne=Z.list(Oe,"",!0),Qe=0;Qe<Ne.length;Qe++){var ut=Ne[Qe];ut.automargin&&(a.allowAutoMargin(Oe,kt(ut)),ut.mirror&&a.allowAutoMargin(Oe,Nt(ut))),k.getComponentMethod("rangeslider","isVisible")(ut)&&a.allowAutoMargin(Oe,Dt(ut))}},Z.swap=function(Oe,Ne){for(var Qe=function(pt,wt){var Lt,It,yt=[];for(Lt=0;Lt<wt.length;Lt++){var Rt=[],bt=pt._fullData[wt[Lt]].xaxis,Pt=pt._fullData[wt[Lt]].yaxis;if(bt&&Pt){for(It=0;It<yt.length;It++)yt[It].x.indexOf(bt)===-1&&yt[It].y.indexOf(Pt)===-1||Rt.push(It);if(Rt.length){var Bt,Zt=yt[Rt[0]];if(Rt.length>1)for(It=1;It<Rt.length;It++)Bt=yt[Rt[It]],Et(Zt.x,Bt.x),Et(Zt.y,Bt.y);Et(Zt.x,[bt]),Et(Zt.y,[Pt])}else yt.push({x:[bt],y:[Pt]})}}return yt}(Oe,Ne),ut=0;ut<Qe.length;ut++)Wt(Oe,Qe[ut].x,Qe[ut].y)}},4322:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(50606).BADNUM,k=w.isArrayOrTypedArray,y=w.isDateTime,f=w.cleanNumber,l=Math.round;function t(o,n){return n?b(o):typeof o=="number"}function s(o){return Math.max(1,(o-1)/1e3)}L.exports=function(o,n,r){var i=o,u=r.noMultiCategory;if(k(i)&&!i.length)return"-";if(!u&&function(d){return k(d[0])&&k(d[1])}(i))return"multicategory";if(u&&Array.isArray(i[0])){for(var p=[],h=0;h<i.length;h++)if(k(i[h]))for(var _=0;_<i[h].length;_++)p.push(i[h][_]);i=p}if(function(d,x){for(var g=d.length,v=s(g),T=0,c=0,E={},A=0;A<g;A+=v){var C=d[l(A)],O=String(C);E[O]||(E[O]=1,y(C,x)&&T++,b(C)&&c++)}return T>2*c}(i,n))return"date";var m=r.autotypenumbers!=="strict";return function(d,x){for(var g=d.length,v=s(g),T=0,c=0,E={},A=0;A<g;A+=v){var C=d[l(A)],O=String(C);if(!E[O]){E[O]=1;var P=typeof C;P==="boolean"?c++:(x?f(C)!==a:P==="number")?T++:P==="string"&&c++}}return c>2*T}(i,m)?"category":function(d,x){for(var g=d.length,v=0;v<g;v++)if(t(d[v],x))return!0;return!1}(i,m)?"linear":"-"}},71453:function(L,M,e){"use strict";var b=e(92770),w=e(73972),a=e(71828),k=e(44467),y=e(85501),f=e(13838),l=e(26218),t=e(38701),s=e(96115),o=e(89426),n=e(15258),r=e(92128),i=e(21994),u=e(85555).WEEKDAY_PATTERN,p=e(85555).HOUR_PATTERN;function h(d,x,g){function v(D,z){return a.coerce(d,x,f.rangebreaks,D,z)}if(v("enabled")){var T=v("bounds");if(T&&T.length>=2){var c,E,A="";if(T.length===2){for(c=0;c<2;c++)if(E=m(T[c])){A=u;break}}var C=v("pattern",A);if(C===u)for(c=0;c<2;c++)(E=m(T[c]))&&(x.bounds[c]=T[c]=E-1);if(C)for(c=0;c<2;c++)switch(E=T[c],C){case u:if(!b(E)||(E=+E)!==Math.floor(E)||E<0||E>=7)return void(x.enabled=!1);x.bounds[c]=T[c]=E;break;case p:if(!b(E)||(E=+E)<0||E>24)return void(x.enabled=!1);x.bounds[c]=T[c]=E}if(g.autorange===!1){var O=g.range;if(O[0]<O[1]){if(T[0]<O[0]&&T[1]>O[1])return void(x.enabled=!1)}else if(T[0]>O[0]&&T[1]<O[1])return void(x.enabled=!1)}}else{var P=v("values");if(!P||!P.length)return void(x.enabled=!1);v("dvalue")}}}L.exports=function(d,x,g,v,T){var c,E=v.letter,A=v.font||{},C=v.splomStash||{},O=g("visible",!v.visibleDflt),P=x._template||{},D=x.type||P.type||"-";D==="date"&&(w.getComponentMethod("calendars","handleDefaults")(d,x,"calendar",v.calendar),v.noTicklabelmode||(c=g("ticklabelmode")));var z="";v.noTicklabelposition&&D!=="multicategory"||(z=a.coerce(d,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c==="period"?["outside","inside"]:E==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),v.noTicklabeloverflow||g("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),i(x,T);var V=!x.isValidRange(d.range);V&&v.reverseDflt&&(V="reversed"),!g("autorange",V)||D!=="linear"&&D!=="-"||g("rangemode"),g("range"),x.cleanRange(),n(d,x,g,v),D==="category"||v.noHover||g("hoverformat");var F=g("color"),W=F!==f.color.dflt?F:A.color,B=C.label||T._dfltTitle[E];if(o(d,x,g,D,v),!O)return x;g("title.text",B),a.coerceFont(g,"title.font",{family:A.family,size:a.bigFont(A.size),color:W}),l(d,x,g,D);var U=v.hasMinor;if(U&&(k.newContainer(x,"minor"),l(d,x,g,D,{isMinor:!0})),s(d,x,g,D,v),t(d,x,g,v),U){var H=v.isMinor;v.isMinor=!0,t(d,x,g,v),v.isMinor=H}r(d,x,g,{dfltColor:F,bgColor:v.bgColor,showGrid:v.showGrid,hasMinor:U,attributes:f}),!U||x.minor.ticks||x.minor.showgrid||delete x.minor,(x.showline||x.ticks)&&g("mirror");var q,ee=D==="multicategory";if(v.noTickson||D!=="category"&&!ee||!x.ticks&&!x.showgrid||(ee&&(q="boundaries"),g("tickson",q)==="boundaries"&&delete x.ticklabelposition),ee&&g("showdividers")&&(g("dividercolor"),g("dividerwidth")),D==="date")if(y(d,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:h}),x.rangebreaks.length){for(var K=0;K<x.rangebreaks.length;K++)if(x.rangebreaks[K].pattern===u){x._hasDayOfWeekBreaks=!0;break}if(i(x,T),T._has("scattergl")||T._has("splom"))for(var J=0;J<v.data.length;J++){var Z=v.data[J];Z.type!=="scattergl"&&Z.type!=="splom"||(Z.visible=!1,a.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var _={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(d){if(typeof d=="string")return _[d.substr(0,3).toLowerCase()]}},12663:function(L,M,e){"use strict";var b=e(31562),w=b.FORMAT_LINK,a=b.DATE_FORMAT_LINK;function k(f,l){return["Sets the "+f+" formatting rule"+(l?"for `"+l+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+w+"."].join(" ")}function y(f,l){return k(f,l)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}L.exports={axisHoverFormat:function(f,l){return{valType:"string",dflt:"",editType:"none",description:(l?k:y)("hover text",f)+["By default the values are formatted using "+(l?"generic number format":"`"+f+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:k,descriptionWithDates:y}},41675:function(L,M,e){"use strict";var b=e(73972),w=e(85555);function a(k,y){if(y&&y.length){for(var f=0;f<y.length;f++)if(y[f][k])return!0}return!1}M.id2name=function(k){if(typeof k=="string"&&k.match(w.AX_ID_PATTERN)){var y=k.split(" ")[0].substr(1);return y==="1"&&(y=""),k.charAt(0)+"axis"+y}},M.name2id=function(k){if(k.match(w.AX_NAME_PATTERN)){var y=k.substr(5);return y==="1"&&(y=""),k.charAt(0)+y}},M.cleanId=function(k,y,f){var l=/( domain)$/.test(k);if(typeof k=="string"&&k.match(w.AX_ID_PATTERN)&&(!y||k.charAt(0)===y)&&(!l||f)){var t=k.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),k.charAt(0)+t+(l&&f?" domain":"")}},M.list=function(k,y,f){var l=k._fullLayout;if(!l)return[];var t,s=M.listIds(k,y),o=new Array(s.length);for(t=0;t<s.length;t++){var n=s[t];o[t]=l[n.charAt(0)+"axis"+n.substr(1)]}if(!f){var r=l._subplots.gl3d||[];for(t=0;t<r.length;t++){var i=l[r[t]];y?o.push(i[y+"axis"]):o.push(i.xaxis,i.yaxis,i.zaxis)}}return o},M.listIds=function(k,y){var f=k._fullLayout;if(!f)return[];var l=f._subplots;return y?l[y+"axis"]:l.xaxis.concat(l.yaxis)},M.getFromId=function(k,y,f){var l=k._fullLayout;return y=y===void 0||typeof y!="string"?y:y.replace(" domain",""),f==="x"?y=y.replace(/y[0-9]*/,""):f==="y"&&(y=y.replace(/x[0-9]*/,"")),l[M.id2name(y)]},M.getFromTrace=function(k,y,f){var l=k._fullLayout,t=null;if(b.traceIs(y,"gl3d")){var s=y.scene;s.substr(0,5)==="scene"&&(t=l[s][f+"axis"])}else t=M.getFromId(k,y[f+"axis"]||f);return t},M.idSort=function(k,y){var f=k.charAt(0),l=y.charAt(0);return f!==l?f>l?1:-1:+(k.substr(1)||1)-+(y.substr(1)||1)},M.ref2id=function(k){return!!/^[xyz]/.test(k)&&k.split(" ")[0]},M.isLinked=function(k,y){return a(y,k._axisMatchGroups)||a(y,k._axisConstraintGroups)}},15258:function(L){"use strict";L.exports=function(M,e,b,w){if(e.type==="category"){var a,k=M.categoryarray,y=Array.isArray(k)&&k.length>0;y&&(a="array");var f,l=b("categoryorder",a);l==="array"&&(f=b("categoryarray")),y||l!=="array"||(l=e.categoryorder="trace"),l==="trace"?e._initialCategories=[]:l==="array"?e._initialCategories=f.slice():(f=function(t,s){var o,n,r,i=s.dataAttr||t._id.charAt(0),u={};if(s.axData)o=s.axData;else for(o=[],n=0;n<s.data.length;n++){var p=s.data[n];p[i+"axis"]===t._id&&o.push(p)}for(n=0;n<o.length;n++){var h=o[n][i];for(r=0;r<h.length;r++){var _=h[r];_!=null&&(u[_]=1)}}return Object.keys(u)}(e,w).sort(),l==="category ascending"?e._initialCategories=f:l==="category descending"&&(e._initialCategories=f.reverse()))}}},66287:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(50606),k=a.ONEDAY,y=a.ONEWEEK;M.dtick=function(f,l){var t=l==="log",s=l==="date",o=l==="category",n=s?k:1;if(!f)return n;if(b(f))return(f=Number(f))<=0?n:o?Math.max(1,Math.round(f)):s?Math.max(.1,f):f;if(typeof f!="string"||!s&&!t)return n;var r=f.charAt(0),i=f.substr(1);return(i=b(i)?Number(i):0)<=0||!(s&&r==="M"&&i===Math.round(i)||t&&r==="L"||t&&r==="D"&&(i===1||i===2))?n:f},M.tick0=function(f,l,t,s){return l==="date"?w.cleanDate(f,w.dateTick0(t,s%y==0?1:0)):s!=="D1"&&s!=="D2"?b(f)?Number(f):0:void 0}},85555:function(L,M,e){"use strict";var b=e(30587).counter;L.exports={idRegex:{x:b("x","( domain)?"),y:b("y","( domain)?")},attrRegex:b("[xy]axis"),xAxisMatch:b("xaxis"),yAxisMatch:b("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(L,M,e){"use strict";var b=e(71828),w=e(71739),a=e(41675).id2name,k=e(13838),y=e(42449),f=e(21994),l=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function s(h,_,m){var d=m.axIds,x=m.layoutOut,g=m.hasImage,v=x._axisConstraintGroups,T=x._axisMatchGroups,c=_._id,E=c.charAt(0),A=((x._splomAxes||{})[E]||{})[c]||{},C=_._id,O=C.charAt(0)==="x";function P($,ne){return b.coerce(h,_,k,$,ne)}_._matchGroup=null,_._constraintGroup=null,P("constrain",g?"domain":"range"),b.coerce(h,_,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var D,z,V=_.type,F=[];for(D=0;D<d.length;D++)(z=d[D])!==C&&x[a(z)].type===V&&F.push(z);var W=n(v,C);if(W){var B=[];for(D=0;D<F.length;D++)W[z=F[D]]||B.push(z);F=B}var U,H,q=F.length;q&&(h.matches||A.matches)&&(U=b.coerce(h,_,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var ee=g&&!O?_.anchor:void 0;if(q&&!U&&(h.scaleanchor||ee)&&(H=b.coerce(h,_,{scaleanchor:{valType:"enumerated",values:F}},"scaleanchor",ee)),U){_._matchGroup=r(T,C,U,1);var K=x[a(U)],J=o(x,_)/o(x,K);O!==(U.charAt(0)==="x")&&(J=(O?"x":"y")+J),r(v,C,U,J)}else h.matches&&d.indexOf(h.matches)!==-1&&b.warn("ignored "+_._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(H){var Z=P("scaleratio");Z||(Z=_.scaleratio=1),r(v,C,H,Z)}else h.scaleanchor&&d.indexOf(h.scaleanchor)!==-1&&b.warn("ignored "+_._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function o(h,_){var m=_.domain;return m||(m=h[a(_.overlaying)].domain),m[1]-m[0]}function n(h,_){for(var m=0;m<h.length;m++)if(h[m][_])return h[m];return null}function r(h,_,m,d){var x,g,v,T,c,E=n(h,_);E===null?((E={})[_]=1,c=h.length,h.push(E)):c=h.indexOf(E);var A=Object.keys(E);for(x=0;x<h.length;x++)if(v=h[x],x!==c&&v[m]){var C=v[m];for(g=0;g<A.length;g++)v[T=A[g]]=i(C,i(d,E[T]));return void h.splice(c,1)}if(d!==1)for(g=0;g<A.length;g++){var O=A[g];E[O]=i(d,E[O])}E[m]=1}function i(h,_){var m,d,x="",g="";typeof h=="string"&&(m=(x=h.match(/^[xy]*/)[0]).length,h=+h.substr(m)),typeof _=="string"&&(d=(g=_.match(/^[xy]*/)[0]).length,_=+_.substr(d));var v=h*_;return m||d?m&&d&&x.charAt(0)!==g.charAt(0)?m===d?v:(m>d?x.substr(d):g.substr(m))+v:x+g+h*_:v}function u(h,_){for(var m=_._size,d=m.h/m.w,x={},g=Object.keys(h),v=0;v<g.length;v++){var T=g[v],c=h[T];if(typeof c=="string"){var E=c.match(/^[xy]*/)[0],A=E.length;c=+c.substr(A);for(var C=E.charAt(0)==="y"?d:1/d,O=0;O<A;O++)c*=C}x[T]=c}return x}function p(h,_){var m=h._inputDomain,d=t[h.constraintoward],x=m[0]+(m[1]-m[0])*d;h.domain=h._input.domain=[x+(m[0]-x)/_,x+(m[1]-x)/_],h.setScale()}M.handleDefaults=function(h,_,m){var d,x,g,v,T,c,E,A,C=m.axIds,O=m.axHasImage,P=_._axisConstraintGroups=[],D=_._axisMatchGroups=[];for(d=0;d<C.length;d++)s(T=h[v=a(C[d])],c=_[v],{axIds:C,layoutOut:_,hasImage:O[v]});function z(K,J){for(d=0;d<K.length;d++)for(g in x=K[d])_[a(g)][J]=x}for(z(D,"_matchGroup"),d=0;d<P.length;d++)for(g in x=P[d])if((c=_[a(g)]).fixedrange){for(var V in x){var F=a(V);(h[F]||{}).fixedrange===!1&&b.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),_[F].fixedrange=!0}break}for(d=0;d<P.length;){for(g in x=P[d]){(c=_[a(g)])._matchGroup&&Object.keys(c._matchGroup).length===Object.keys(x).length&&(P.splice(d,1),d--);break}d++}z(P,"_constraintGroup");var W=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,U=!1;function H(){A=c[E],E==="rangebreaks"&&(U=c._hasDayOfWeekBreaks)}for(d=0;d<D.length;d++){x=D[d];for(var q=0;q<W.length;q++){var ee;for(g in E=W[q],A=null,x)if(T=h[v=a(g)],c=_[v],E in c){if(!c.matches&&(ee=c,E in T)){H();break}A===null&&E in T&&H()}if(E==="range"&&A&&(B=!0),E==="autorange"&&A===null&&B&&(A=!1),A===null&&E in ee&&(A=ee[E]),A!==null)for(g in x)(c=_[a(g)])[E]=E==="range"?A.slice():A,E==="rangebreaks"&&(c._hasDayOfWeekBreaks=U,f(c,_))}}},M.enforce=function(h){var _,m,d,x,g,v,T,c,E=h._fullLayout,A=E._axisConstraintGroups||[];for(_=0;_<A.length;_++){d=u(A[_],E);var C=Object.keys(d),O=1/0,P=0,D=1/0,z={},V={},F=!1;for(m=0;m<C.length;m++)V[x=C[m]]=g=E[a(x)],g._inputDomain?g.domain=g._inputDomain.slice():g._inputDomain=g.domain.slice(),g._inputRange||(g._inputRange=g.range.slice()),g.setScale(),z[x]=v=Math.abs(g._m)/d[x],O=Math.min(O,v),g.constrain!=="domain"&&g._constraintShrinkable||(D=Math.min(D,v)),delete g._constraintShrinkable,P=Math.max(P,v),g.constrain==="domain"&&(F=!0);if(!(O>l*P)||F){for(m=0;m<C.length;m++)if(v=z[x=C[m]],T=(g=V[x]).constrain,v!==D||T==="domain")if(c=v/D,T==="range")y(g,c);else{var W=g._inputDomain,B=(g.domain[1]-g.domain[0])/(W[1]-W[0]),U=(g.r2l(g.range[1])-g.r2l(g.range[0]))/(g.r2l(g._inputRange[1])-g.r2l(g._inputRange[0]));if((c/=B)*U<1){g.domain=g._input.domain=W.slice(),y(g,c);continue}if(U<1&&(g.range=g._input.range=g._inputRange.slice(),c*=U),g.autorange){var H=g.r2l(g.range[0]),q=g.r2l(g.range[1]),ee=(H+q)/2,K=ee,J=ee,Z=Math.abs(q-ee),$=ee-Z*c*1.0001,ne=ee+Z*c*1.0001,ae=w.makePadFn(E,g,0),oe=w.makePadFn(E,g,1);p(g,c);var se,ce,me=Math.abs(g._m),xe=w.concatExtremes(h,g),ve=xe.min,fe=xe.max;for(ce=0;ce<ve.length;ce++)(se=ve[ce].val-ae(ve[ce])/me)>$&&se<K&&(K=se);for(ce=0;ce<fe.length;ce++)(se=fe[ce].val+oe(fe[ce])/me)<ne&&se>J&&(J=se);c/=(J-K)/(2*Z),K=g.l2r(K),J=g.l2r(J),g.range=g._input.range=H<q?[K,J]:[J,K]}p(g,c)}}}},M.getAxisGroup=function(h,_){for(var m=h._axisMatchGroups,d=0;d<m.length;d++)if(m[d][_])return"g"+d;return _},M.clean=function(h,_){if(_._inputDomain){for(var m=!1,d=_._id,x=h._fullLayout._axisConstraintGroups,g=0;g<x.length;g++)if(x[g][d]){m=!0;break}m&&_.constrain==="domain"||(_._input.domain=_.domain=_._inputDomain,delete _._inputDomain)}}},29323:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=w.numberFormat,k=e(84267),y=e(38520),f=e(73972),l=w.strTranslate,t=e(63893),s=e(7901),o=e(91424),n=e(30211),r=e(89298),i=e(6964),u=e(28569),p=e(64505),h=p.selectingOrDrawing,_=p.freeMode,m=e(18783).FROM_TL,d=e(33306),x=e(61549).redrawReglTraces,g=e(74875),v=e(41675).getFromId,T=e(47322).prepSelect,c=e(47322).clearOutline,E=e(47322).selectOnClick,A=e(42449),C=e(85555),O=C.MINDRAG,P=C.MINZOOM,D=!0;function z(se,ce,me,xe){var ve=w.ensureSingle(se.draglayer,ce,me,function(fe){fe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",se.id)});return ve.call(i,xe),ve.node()}function V(se,ce,me,xe,ve,fe,pe){var Le=z(se,"rect",ce,me);return b.select(Le).call(o.setRect,xe,ve,fe,pe),Le}function F(se,ce){for(var me=0;me<se.length;me++)if(!se[me].fixedrange)return ce;return""}function W(se,ce,me,xe,ve){for(var fe=0;fe<se.length;fe++){var pe=se[fe];if(!pe.fixedrange)if(pe.rangebreaks){var Le=pe._id.charAt(0)==="y",ye=Le?1-ce:ce,Ae=Le?1-me:me;xe[pe._name+".range[0]"]=pe.l2r(pe.p2l(ye*pe._length)),xe[pe._name+".range[1]"]=pe.l2r(pe.p2l(Ae*pe._length))}else{var Me=pe._rl[0],ke=pe._rl[1]-Me;xe[pe._name+".range[0]"]=pe.l2r(Me+ke*ce),xe[pe._name+".range[1]"]=pe.l2r(Me+ke*me)}}if(ve&&ve.length){var te=(ce+(1-me))/2;W(ve,te,1-te,xe,[])}}function B(se,ce){for(var me=0;me<se.length;me++){var xe=se[me];if(!xe.fixedrange)if(xe.rangebreaks){var ve=xe._length,fe=(xe.p2l(0+ce)-xe.p2l(0)+(xe.p2l(ve+ce)-xe.p2l(ve)))/2;xe.range=[xe.l2r(xe._rl[0]-fe),xe.l2r(xe._rl[1]-fe)]}else xe.range=[xe.l2r(xe._rl[0]-ce/xe._m),xe.l2r(xe._rl[1]-ce/xe._m)]}}function U(se){return 1-(se>=0?Math.min(se,.9):1/(1/Math.max(se,-.3)+3.222))}function H(se,ce,me,xe,ve){return se.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",l(me,xe)).attr("d",ve+"Z")}function q(se,ce,me){return se.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("transform",l(ce,me)).attr("d","M0,0Z")}function ee(se,ce,me,xe,ve,fe){se.attr("d",xe+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),K(se,ce,ve,fe)}function K(se,ce,me,xe){me||(se.transition().style("fill",xe>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function J(se){b.select(se).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(se){D&&se.data&&se._context.showTips&&(w.notifier(w._(se,"Double-click to zoom back out"),"long"),D=!1)}function $(se){var ce=Math.floor(Math.min(se.b-se.t,se.r-se.l,P)/2);return"M"+(se.l-3.5)+","+(se.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(se.r+3.5)+","+(se.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(se.r+3.5)+","+(se.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(se.l-3.5)+","+(se.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function ne(se,ce,me,xe,ve){for(var fe,pe,Le,ye,Ae=!1,Me={},ke={},te=(ve||{}).xaHash,ue=(ve||{}).yaHash,ge=0;ge<ce.length;ge++){var we=ce[ge];for(fe in me)if(we[fe]){for(Le in we)ve&&(te[Le]||ue[Le])||(Le.charAt(0)==="x"?me:xe)[Le]||(Me[Le]=fe);for(pe in xe)ve&&(te[pe]||ue[pe])||!we[pe]||(Ae=!0)}for(pe in xe)if(we[pe])for(ye in we)ve&&(te[ye]||ue[ye])||(ye.charAt(0)==="x"?me:xe)[ye]||(ke[ye]=pe)}Ae&&(w.extendFlat(Me,ke),ke={});var Ee={},Be=[];for(Le in Me){var Re=v(se,Le);Be.push(Re),Ee[Re._id]=Re}var je={},he=[];for(ye in ke){var _e=v(se,ye);he.push(_e),je[_e._id]=_e}return{xaHash:Ee,yaHash:je,xaxes:Be,yaxes:he,xLinks:Me,yLinks:ke,isSubplotConstrained:Ae}}function ae(se,ce){if(y){var me=se.onwheel!==void 0?"wheel":"mousewheel";se._onwheel&&se.removeEventListener(me,se._onwheel),se._onwheel=ce,se.addEventListener(me,ce,{passive:!1})}else se.onwheel!==void 0?se.onwheel=ce:se.onmousewheel!==void 0?se.onmousewheel=ce:se.isAddedWheelEvent||(se.isAddedWheelEvent=!0,se.addEventListener("wheel",ce,{passive:!1}))}function oe(se){var ce=[];for(var me in se)ce.push(se[me]);return ce}L.exports={makeDragBox:function(se,ce,me,xe,ve,fe,pe,Le){var ye,Ae,Me,ke,te,ue,ge,we,Ee,Be,Re,je,he,_e,Te,Fe,Ye,Ge,ot,st,ht,xt,Ct,St=se._fullLayout._zoomlayer,kt=pe+Le==="nsew",Nt=(pe+Le).length===1;function Dt(){if(ye=ce.xaxis,Ae=ce.yaxis,Ee=ye._length,Be=Ae._length,ge=ye._offset,we=Ae._offset,(Me={})[ye._id]=ye,(ke={})[Ae._id]=Ae,pe&&Le)for(var un=ce.overlays,Tn=0;Tn<un.length;Tn++){var gn=un[Tn].xaxis;Me[gn._id]=gn;var dn=un[Tn].yaxis;ke[dn._id]=dn}te=oe(Me),ue=oe(ke),he=F(te,Le),_e=F(ue,pe),Te=!_e&&!he,je=ne(se,se._fullLayout._axisMatchGroups,Me,ke);var Rn=(Re=ne(se,se._fullLayout._axisConstraintGroups,Me,ke,je)).isSubplotConstrained||je.isSubplotConstrained;Fe=Le||Rn,Ye=pe||Rn;var In=se._fullLayout;Ge=In._has("scattergl"),ot=In._has("splom"),st=In._has("svg")}me+=ce.yaxis._shift,Dt();var Et=function(un,Tn,gn){return un?un==="nsew"?gn?"":Tn==="pan"?"move":"crosshair":un.toLowerCase()+"-resize":"pointer"}(_e+he,se._fullLayout.dragmode,kt),Wt=V(ce,pe+Le+"drag",Et,me,xe,ve,fe);if(Te&&!kt)return Wt.onmousedown=null,Wt.style.pointerEvents="none",Wt;var Ht,Ke,$e,Ue,nt,ct,Oe,Ne,Qe,ut,pt={element:Wt,gd:se,plotinfo:ce};function wt(){pt.plotinfo.selection=!1,c(se)}function Lt(un,Tn){var gn=pt.gd;if(gn._fullLayout._activeShapeIndex>=0)gn._fullLayout._deactivateShape(gn);else{var dn=gn._fullLayout.clickmode;if(J(gn),un!==2||Nt||on(),kt)dn.indexOf("select")>-1&&E(Tn,gn,te,ue,ce.id,pt),dn.indexOf("event")>-1&&n.click(gn,Tn,ce.id);else if(un===1&&Nt){var Rn=pe?Ae:ye,In=pe==="s"||Le==="w"?0:1,Hn=Rn._name+".range["+In+"]",Yn=function(ir,Mr){var gr,sr=ir.range[Mr],xr=Math.abs(sr-ir.range[1-Mr]);return ir.type==="date"?sr:ir.type==="log"?(gr=Math.ceil(Math.max(0,-Math.log(xr)/Math.LN10))+3,a("."+gr+"g")(Math.pow(10,sr))):(gr=Math.floor(Math.log(Math.abs(sr))/Math.LN10)-Math.floor(Math.log(xr)/Math.LN10)+4,a("."+String(gr)+"g")(sr))}(Rn,In),Gn="left",cr="middle";if(Rn.fixedrange)return;pe?(cr=pe==="n"?"top":"bottom",Rn.side==="right"&&(Gn="right")):Le==="e"&&(Gn="right"),gn._context.showAxisRangeEntryBoxes&&b.select(Wt).call(t.makeEditable,{gd:gn,immediate:!0,background:gn._fullLayout.paper_bgcolor,text:String(Yn),fill:Rn.tickfont?Rn.tickfont.color:"#444",horizontalAlign:Gn,verticalAlign:cr}).on("edit",function(ir){var Mr=Rn.d2r(ir);Mr!==void 0&&f.call("_guiRelayout",gn,Hn,Mr)})}}}function It(un,Tn){if(se._transitioningWithDuration)return!1;var gn=Math.max(0,Math.min(Ee,xt*un+Ht)),dn=Math.max(0,Math.min(Be,Ct*Tn+Ke)),Rn=Math.abs(gn-Ht),In=Math.abs(dn-Ke);function Hn(){Oe="",$e.r=$e.l,$e.t=$e.b,Qe.attr("d","M0,0Z")}if($e.l=Math.min(Ht,gn),$e.r=Math.max(Ht,gn),$e.t=Math.min(Ke,dn),$e.b=Math.max(Ke,dn),Re.isSubplotConstrained)Rn>P||In>P?(Oe="xy",Rn/Ee>In/Be?(In=Rn*Be/Ee,Ke>dn?$e.t=Ke-In:$e.b=Ke+In):(Rn=In*Ee/Be,Ht>gn?$e.l=Ht-Rn:$e.r=Ht+Rn),Qe.attr("d",$($e))):Hn();else if(je.isSubplotConstrained)if(Rn>P||In>P){Oe="xy";var Yn=Math.min($e.l/Ee,(Be-$e.b)/Be),Gn=Math.max($e.r/Ee,(Be-$e.t)/Be);$e.l=Yn*Ee,$e.r=Gn*Ee,$e.b=(1-Yn)*Be,$e.t=(1-Gn)*Be,Qe.attr("d",$($e))}else Hn();else!_e||In<Math.min(Math.max(.6*Rn,O),P)?Rn<O||!he?Hn():($e.t=0,$e.b=Be,Oe="x",Qe.attr("d",function(cr,ir){return"M"+(cr.l-.5)+","+(ir-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(cr.r+.5)+","+(ir-P-.5)+"h3v"+(2*P+1)+"h-3Z"}($e,Ke))):!he||Rn<Math.min(.6*In,P)?($e.l=0,$e.r=Ee,Oe="y",Qe.attr("d",function(cr,ir){return"M"+(ir-P-.5)+","+(cr.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(ir-P-.5)+","+(cr.b+.5)+"v3h"+(2*P+1)+"v-3Z"}($e,Ht))):(Oe="xy",Qe.attr("d",$($e)));$e.w=$e.r-$e.l,$e.h=$e.b-$e.t,Oe&&(ut=!0),se._dragged=ut,ee(Ne,Qe,$e,nt,ct,Ue),yt(),se.emit("plotly_relayouting",ht),ct=!0}function yt(){ht={},Oe!=="xy"&&Oe!=="x"||(W(te,$e.l/Ee,$e.r/Ee,ht,Re.xaxes),Kt("x",ht)),Oe!=="xy"&&Oe!=="y"||(W(ue,(Be-$e.b)/Be,(Be-$e.t)/Be,ht,Re.yaxes),Kt("y",ht))}function Rt(){yt(),J(se),_n(),Z(se)}pt.prepFn=function(un,Tn,gn){var dn=pt.dragmode,Rn=se._fullLayout.dragmode;Rn!==dn&&(pt.dragmode=Rn),Dt(),xt=se._fullLayout._invScaleX,Ct=se._fullLayout._invScaleY,Te||(kt?un.shiftKey?Rn==="pan"?Rn="zoom":h(Rn)||(Rn="pan"):un.ctrlKey&&(Rn="pan"):Rn="pan"),_(Rn)?pt.minDrag=1:pt.minDrag=void 0,h(Rn)?(pt.xaxes=te,pt.yaxes=ue,T(un,Tn,gn,pt,Rn)):(pt.clickFn=Lt,h(dn)&&wt(),Te||(Rn==="zoom"?(pt.moveFn=It,pt.doneFn=Rt,pt.minDrag=1,function(In,Hn,Yn){var Gn=Wt.getBoundingClientRect();Ht=Hn-Gn.left,Ke=Yn-Gn.top,se._fullLayout._calcInverseTransform(se);var cr=w.apply3DTransform(se._fullLayout._invTransform)(Ht,Ke);Ht=cr[0],Ke=cr[1],$e={l:Ht,r:Ht,w:0,t:Ke,b:Ke,h:0},Ue=se._hmpixcount?se._hmlumcount/se._hmpixcount:k(se._fullLayout.plot_bgcolor).getLuminance(),ct=!1,Oe="xy",ut=!1,Ne=H(St,Ue,ge,we,nt="M0,0H"+Ee+"V"+Be+"H0V0"),Qe=q(St,ge,we)}(0,Tn,gn)):Rn==="pan"&&(pt.moveFn=Yt,pt.doneFn=_n))),se._fullLayout._redrag=function(){var In=se._dragdata;if(In&&In.element===Wt){var Hn=se._fullLayout.dragmode;h(Hn)||(Dt(),fn([0,0,Ee,Be]),pt.moveFn(In.dx,In.dy))}}},u.init(pt);var bt=[0,0,Ee,Be],Pt=null,Bt=C.REDRAWDELAY,Zt=ce.mainplot?se._fullLayout._plots[ce.mainplot]:ce;function Yt(un,Tn){if(un*=xt,Tn*=Ct,!se._transitioningWithDuration){if(se._fullLayout._replotting=!0,he==="ew"||_e==="ns"){var gn=he?-un:0,dn=_e?-Tn:0;if(je.isSubplotConstrained){if(he&&_e){var Rn=(un/Ee-Tn/Be)/2;gn=-(un=Rn*Ee),dn=-(Tn=-Rn*Be)}_e?gn=-dn*Ee/Be:dn=-gn*Be/Ee}return he&&(B(te,un),Kt("x")),_e&&(B(ue,Tn),Kt("y")),fn([gn,dn,Ee,Be]),tn(),void se.emit("plotly_relayouting",ht)}var In,Hn,Yn=he==="w"==(_e==="n")?1:-1;if(he&&_e&&(Re.isSubplotConstrained||je.isSubplotConstrained)){var Gn=(un/Ee+Yn*Tn/Be)/2;un=Gn*Ee,Tn=Yn*Gn*Be}if(he==="w"?un=gr(te,0,un):he==="e"?un=gr(te,1,-un):he||(un=0),_e==="n"?Tn=gr(ue,1,Tn):_e==="s"?Tn=gr(ue,0,-Tn):_e||(Tn=0),In=he==="w"?un:0,Hn=_e==="n"?Tn:0,Re.isSubplotConstrained&&!je.isSubplotConstrained||je.isSubplotConstrained&&he&&_e&&Yn>0){var cr;if(je.isSubplotConstrained||!he&&_e.length===1){for(cr=0;cr<te.length;cr++)te[cr].range=te[cr]._r.slice(),A(te[cr],1-Tn/Be);In=(un=Tn*Ee/Be)/2}if(je.isSubplotConstrained||!_e&&he.length===1){for(cr=0;cr<ue.length;cr++)ue[cr].range=ue[cr]._r.slice(),A(ue[cr],1-un/Ee);Hn=(Tn=un*Be/Ee)/2}}je.isSubplotConstrained&&_e||Kt("x"),je.isSubplotConstrained&&he||Kt("y");var ir=Ee-un,Mr=Be-Tn;!je.isSubplotConstrained||he&&_e||(he?(Hn=In?0:un*Be/Ee,Mr=ir*Be/Ee):(In=Hn?0:Tn*Ee/Be,ir=Mr*Ee/Be)),fn([In,Hn,ir,Mr]),tn(),se.emit("plotly_relayouting",ht)}function gr(sr,xr,kr){for(var Qt,bn,Dn=1-xr,Pn=0;Pn<sr.length;Pn++){var qn=sr[Pn];if(!qn.fixedrange){Qt=qn,bn=qn._rl[Dn]+(qn._rl[xr]-qn._rl[Dn])/U(kr/qn._length);var Qn=qn.l2r(bn);Qn!==!1&&Qn!==void 0&&(qn.range[xr]=Qn)}}return Qt._length*(Qt._rl[xr]-bn)/(Qt._rl[xr]-Qt._rl[Dn])}}function Kt(un,Tn){for(var gn=je.isSubplotConstrained?{x:ue,y:te}[un]:je[un+"axes"],dn=je.isSubplotConstrained?{x:te,y:ue}[un]:[],Rn=0;Rn<gn.length;Rn++){var In=gn[Rn],Hn=In._id,Yn=je.xLinks[Hn]||je.yLinks[Hn],Gn=dn[0]||Me[Yn]||ke[Yn];Gn&&(Tn?(Tn[In._name+".range[0]"]=Tn[Gn._name+".range[0]"],Tn[In._name+".range[1]"]=Tn[Gn._name+".range[1]"]):In.range=Gn.range.slice())}}function tn(){var un,Tn=[];function gn(Hn){for(un=0;un<Hn.length;un++)Hn[un].fixedrange||Tn.push(Hn[un]._id)}function dn(Hn,Yn){for(un=0;un<Hn.length;un++){var Gn=Hn[un],cr=Gn[Yn];Gn.fixedrange||cr.tickmode!=="sync"||Tn.push(cr._id)}}for(Fe&&(gn(te),gn(Re.xaxes),gn(je.xaxes),dn(ce.overlays,"xaxis")),Ye&&(gn(ue),gn(Re.yaxes),gn(je.yaxes),dn(ce.overlays,"yaxis")),ht={},un=0;un<Tn.length;un++){var Rn=Tn[un],In=v(se,Rn);r.drawOne(se,In,{skipTitle:!0}),ht[In._name+".range[0]"]=In.range[0],ht[In._name+".range[1]"]=In.range[1]}r.redrawComponents(se,Tn)}function on(){if(!se._transitioningWithDuration){var un=se._context.doubleClick,Tn=[];he&&(Tn=Tn.concat(te)),_e&&(Tn=Tn.concat(ue)),je.xaxes&&(Tn=Tn.concat(je.xaxes)),je.yaxes&&(Tn=Tn.concat(je.yaxes));var gn,dn,Rn,In={};if(un==="reset+autosize"){for(un="autosize",dn=0;dn<Tn.length;dn++)if((gn=Tn[dn])._rangeInitial&&(gn.range[0]!==gn._rangeInitial[0]||gn.range[1]!==gn._rangeInitial[1])||!gn._rangeInitial&&!gn.autorange){un="reset";break}}if(un==="autosize")for(dn=0;dn<Tn.length;dn++)(gn=Tn[dn]).fixedrange||(In[gn._name+".autorange"]=!0);else if(un==="reset")for((he||Re.isSubplotConstrained)&&(Tn=Tn.concat(Re.xaxes)),_e&&!Re.isSubplotConstrained&&(Tn=Tn.concat(Re.yaxes)),Re.isSubplotConstrained&&(he?_e||(Tn=Tn.concat(ue)):Tn=Tn.concat(te)),dn=0;dn<Tn.length;dn++)(gn=Tn[dn]).fixedrange||(gn._rangeInitial?(Rn=gn._rangeInitial,In[gn._name+".range[0]"]=Rn[0],In[gn._name+".range[1]"]=Rn[1]):In[gn._name+".autorange"]=!0);se.emit("plotly_doubleclick",null),f.call("_guiRelayout",se,In)}}function _n(){fn([0,0,Ee,Be]),w.syncOrAsync([g.previousPromises,function(){se._fullLayout._replotting=!1,f.call("_guiRelayout",se,ht)}],se)}function fn(un){var Tn,gn,dn,Rn,In=se._fullLayout,Hn=In._plots,Yn=In._subplots.cartesian;if(ot&&f.subplotsRegistry.splom.drag(se),Ge){for(Tn=0;Tn<Yn.length;Tn++)if(dn=(gn=Hn[Yn[Tn]]).xaxis,Rn=gn.yaxis,gn._scene){var Gn=w.simpleMap(dn.range,dn.r2l),cr=w.simpleMap(Rn.range,Rn.r2l);gn._scene.update({range:[Gn[0],cr[0],Gn[1],cr[1]]})}}if((ot||Ge)&&(d(se),x(se)),st){var ir=un[2]/ye._length,Mr=un[3]/Ae._length;for(Tn=0;Tn<Yn.length;Tn++){dn=(gn=Hn[Yn[Tn]]).xaxis,Rn=gn.yaxis;var gr,sr,xr,kr,Qt=(Fe||je.isSubplotConstrained)&&!dn.fixedrange&&Me[dn._id],bn=(Ye||je.isSubplotConstrained)&&!Rn.fixedrange&&ke[Rn._id];if(Qt?(gr=ir,xr=Le||je.isSubplotConstrained?un[0]:An(dn,gr)):je.xaHash[dn._id]?(gr=ir,xr=un[0]*dn._length/ye._length):je.yaHash[dn._id]?(gr=Mr,xr=_e==="ns"?-un[1]*dn._length/Ae._length:An(dn,gr,{n:"top",s:"bottom"}[_e])):xr=Xn(dn,gr=Sn(dn,ir,Mr)),bn?(sr=Mr,kr=pe||je.isSubplotConstrained?un[1]:An(Rn,sr)):je.yaHash[Rn._id]?(sr=Mr,kr=un[1]*Rn._length/Ae._length):je.xaHash[Rn._id]?(sr=ir,kr=he==="ew"?-un[0]*Rn._length/ye._length:An(Rn,sr,{e:"right",w:"left"}[he])):kr=Xn(Rn,sr=Sn(Rn,ir,Mr)),gr||sr){gr||(gr=1),sr||(sr=1);var Dn=dn._offset-xr/gr,Pn=Rn._offset-kr/sr;gn.clipRect.call(o.setTranslate,xr,kr).call(o.setScale,gr,sr),gn.plot.call(o.setTranslate,Dn,Pn).call(o.setScale,1/gr,1/sr),gr===gn.xScaleFactor&&sr===gn.yScaleFactor||(o.setPointGroupScale(gn.zoomScalePts,gr,sr),o.setTextPointsScale(gn.zoomScaleTxt,gr,sr)),o.hideOutsideRangePoints(gn.clipOnAxisFalseTraces,gn),gn.xScaleFactor=gr,gn.yScaleFactor=sr}}}}function Sn(un,Tn,gn){return un.fixedrange?0:Fe&&Re.xaHash[un._id]?Tn:Ye&&(Re.isSubplotConstrained?Re.xaHash:Re.yaHash)[un._id]?gn:0}function Xn(un,Tn){return Tn?(un.range=un._r.slice(),A(un,Tn),An(un,Tn)):0}function An(un,Tn,gn){return un._length*(1-Tn)*m[gn||un.constraintoward||"middle"]}return pe.length*Le.length!=1&&ae(Wt,function(un){if(se._context._scrollZoom.cartesian||se._fullLayout._enablescrollzoom){if(wt(),se._transitioningWithDuration)return un.preventDefault(),void un.stopPropagation();Dt(),clearTimeout(Pt);var Tn=-un.deltaY;if(isFinite(Tn)||(Tn=un.wheelDelta/10),isFinite(Tn)){var gn,dn=Math.exp(-Math.min(Math.max(Tn,-20),20)/200),Rn=Zt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),In=(un.clientX-Rn.left)/Rn.width,Hn=(Rn.bottom-un.clientY)/Rn.height;if(Fe){for(Le||(In=.5),gn=0;gn<te.length;gn++)Yn(te[gn],In,dn);Kt("x"),bt[2]*=dn,bt[0]+=bt[2]*In*(1/dn-1)}if(Ye){for(pe||(Hn=.5),gn=0;gn<ue.length;gn++)Yn(ue[gn],Hn,dn);Kt("y"),bt[3]*=dn,bt[1]+=bt[3]*(1-Hn)*(1/dn-1)}fn(bt),tn(),se.emit("plotly_relayouting",ht),Pt=setTimeout(function(){se._fullLayout&&(bt=[0,0,Ee,Be],_n())},Bt),un.preventDefault()}else w.log("Did not find wheel motion attributes: ",un)}function Yn(Gn,cr,ir){if(!Gn.fixedrange){var Mr=w.simpleMap(Gn.range,Gn.r2l),gr=Mr[0]+(Mr[1]-Mr[0])*cr;Gn.range=Mr.map(function(sr){return Gn.l2r(gr+(sr-gr)*ir)})}}}),Wt},makeDragger:z,makeRectDragger:V,makeZoombox:H,makeCorners:q,updateZoombox:ee,xyCorners:$,transitionZoombox:K,removeZoombox:J,showDoubleClickNotifier:Z,attachWheelEventHandler:ae}},4305:function(L,M,e){"use strict";var b=e(39898),w=e(30211),a=e(28569),k=e(6964),y=e(29323).makeDragBox,f=e(85555).DRAGGERSIZE;M.initInteractions=function(l){var t=l._fullLayout;if(l._context.staticPlot)b.select(l).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(o,n){if((t._plots[o].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=o.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[o].mainplot?1:-1}).forEach(function(o){var n=t._plots[o],r=n.xaxis,i=n.yaxis;if(!n.mainplot){var u=y(l,n,r._offset,i._offset,r._length,i._length,"ns","ew");u.onmousemove=function(_){l._fullLayout._rehover=function(){l._fullLayout._hoversubplot===o&&l._fullLayout._plots[o]&&w.hover(l,_,o)},w.hover(l,_,o),l._fullLayout._lasthover=u,l._fullLayout._hoversubplot=o},u.onmouseout=function(_){l._dragging||(l._fullLayout._hoversubplot=null,a.unhover(l,_))},l._context.showAxisDragHandles&&(y(l,n,r._offset-f,i._offset-f,f,f,"n","w"),y(l,n,r._offset+r._length,i._offset-f,f,f,"n","e"),y(l,n,r._offset-f,i._offset+i._length,f,f,"s","w"),y(l,n,r._offset+r._length,i._offset+i._length,f,f,"s","e"))}if(l._context.showAxisDragHandles){if(o===r._mainSubplot){var p=r._mainLinePosition;r.side==="top"&&(p-=f),y(l,n,r._offset+.1*r._length,p,.8*r._length,f,"","ew"),y(l,n,r._offset,p,.1*r._length,f,"","w"),y(l,n,r._offset+.9*r._length,p,.1*r._length,f,"","e")}if(o===i._mainSubplot){var h=i._mainLinePosition;i.side!=="right"&&(h-=f),y(l,n,h,i._offset+.1*i._length,f,.8*i._length,"ns",""),y(l,n,h,i._offset+.9*i._length,f,.1*i._length,"s",""),y(l,n,h,i._offset,f,.1*i._length,"n","")}}});var s=t._hoverlayer.node();s.onmousemove=function(o){o.target=l._fullLayout._lasthover,w.hover(l,o,t._hoversubplot)},s.onclick=function(o){o.target=l._fullLayout._lasthover,w.click(l,o)},s.onmousedown=function(o){l._fullLayout._lasthover.onmousedown(o)},M.updateFx(l)}},M.updateFx=function(l){var t=l._fullLayout,s=t.dragmode==="pan"?"move":"crosshair";k(t._draggers,s)}},76325:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(41675);L.exports=function(k){return function(y,f){var l=y[k];if(Array.isArray(l))for(var t=b.subplotsRegistry.cartesian,s=t.idRegex,o=f._subplots,n=o.xaxis,r=o.yaxis,i=o.cartesian,u=f._has("cartesian")||f._has("gl2d"),p=0;p<l.length;p++){var h=l[p];if(w.isPlainObject(h)){var _=a.cleanId(h.xref,"x",!1),m=a.cleanId(h.yref,"y",!1),d=s.x.test(_),x=s.y.test(m);if(d||x){u||w.pushUnique(f._basePlotModules,t);var g=!1;d&&n.indexOf(_)===-1&&(n.push(_),g=!0),x&&r.indexOf(m)===-1&&(r.push(m),g=!0),g&&d&&x&&i.push(_+m)}}}}}},93612:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(71828),k=e(74875),y=e(91424),f=e(27659).a0,l=e(41675),t=e(85555),s=e(77922),o=a.ensureSingle;function n(h,_,m){return a.ensureSingle(h,_,m,function(d){d.datum(m)})}function r(h,_,m,d,x){for(var g,v,T,c=t.traceLayerClasses,E=h._fullLayout,A=E._modules,C=[],O=[],P=0;P<A.length;P++){var D=(g=A[P]).name,z=w.modules[D].categories;if(z.svg){var V=g.layerName||D+"layer",F=g.plot;T=(v=f(m,F))[0],m=v[1],T.length&&C.push({i:c.indexOf(V),className:V,plotMethod:F,cdModule:T}),z.zoomScale&&O.push("."+V)}}C.sort(function(U,H){return U.i-H.i});var W=_.plot.selectAll("g.mlayer").data(C,function(U){return U.className});if(W.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",_.isRangePlot),W.exit().remove(),W.order(),W.each(function(U){var H=b.select(this),q=U.className;U.plotMethod(h,_,U.cdModule,H,d,x),t.clipOnAxisFalseQuery.indexOf("."+q)===-1&&y.setClipUrl(H,_.layerClipId,h)}),E._has("scattergl")&&(g=w.getModule("scattergl"),T=f(m,g)[0],g.plot(h,_,T)),!h._context.staticPlot&&(_._hasClipOnAxisFalse&&(_.clipOnAxisFalseTraces=_.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),O.length)){var B=_.plot.selectAll(O.join(",")).selectAll(".trace");_.zoomScalePts=B.selectAll("path.point"),_.zoomScaleTxt=B.selectAll(".textpoint")}}function i(h,_){var m=_.plotgroup,d=_.id,x=t.layerValue2layerClass[_.xaxis.layer],g=t.layerValue2layerClass[_.yaxis.layer],v=h._fullLayout._hasOnlyLargeSploms;if(_.mainplot){var T=_.mainplotinfo,c=T.plotgroup,E=d+"-x",A=d+"-y";_.minorGridlayer=T.minorGridlayer,_.gridlayer=T.gridlayer,_.zerolinelayer=T.zerolinelayer,o(T.overlinesBelow,"path",E),o(T.overlinesBelow,"path",A),o(T.overaxesBelow,"g",E),o(T.overaxesBelow,"g",A),_.plot=o(T.overplot,"g",d),o(T.overlinesAbove,"path",E),o(T.overlinesAbove,"path",A),o(T.overaxesAbove,"g",E),o(T.overaxesAbove,"g",A),_.xlines=c.select(".overlines-"+x).select("."+E),_.ylines=c.select(".overlines-"+g).select("."+A),_.xaxislayer=c.select(".overaxes-"+x).select("."+E),_.yaxislayer=c.select(".overaxes-"+g).select("."+A)}else if(v)_.xlines=o(m,"path","xlines-above"),_.ylines=o(m,"path","ylines-above"),_.xaxislayer=o(m,"g","xaxislayer-above"),_.yaxislayer=o(m,"g","yaxislayer-above");else{var C=o(m,"g","layer-subplot");_.shapelayer=o(C,"g","shapelayer"),_.imagelayer=o(C,"g","imagelayer"),_.minorGridlayer=o(m,"g","minor-gridlayer"),_.gridlayer=o(m,"g","gridlayer"),_.zerolinelayer=o(m,"g","zerolinelayer"),o(m,"path","xlines-below"),o(m,"path","ylines-below"),_.overlinesBelow=o(m,"g","overlines-below"),o(m,"g","xaxislayer-below"),o(m,"g","yaxislayer-below"),_.overaxesBelow=o(m,"g","overaxes-below"),_.plot=o(m,"g","plot"),_.overplot=o(m,"g","overplot"),_.xlines=o(m,"path","xlines-above"),_.ylines=o(m,"path","ylines-above"),_.overlinesAbove=o(m,"g","overlines-above"),o(m,"g","xaxislayer-above"),o(m,"g","yaxislayer-above"),_.overaxesAbove=o(m,"g","overaxes-above"),_.xlines=m.select(".xlines-"+x),_.ylines=m.select(".ylines-"+g),_.xaxislayer=m.select(".xaxislayer-"+x),_.yaxislayer=m.select(".yaxislayer-"+g)}v||(n(_.minorGridlayer,"g",_.xaxis._id),n(_.minorGridlayer,"g",_.yaxis._id),_.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(l.idSort),n(_.gridlayer,"g",_.xaxis._id),n(_.gridlayer,"g",_.yaxis._id),_.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(l.idSort)),_.xlines.style("fill","none").classed("crisp",!0),_.ylines.style("fill","none").classed("crisp",!0)}function u(h,_){if(h){var m={};for(var d in h.each(function(T){var c=T[0];b.select(this).remove(),p(c,_),m[c]=!0}),_._plots)for(var x=_._plots[d].overlays||[],g=0;g<x.length;g++){var v=x[g];m[v.id]&&v.plot.selectAll(".trace").remove()}}}function p(h,_){_._draggers.selectAll("g."+h).remove(),_._defs.select("#clip"+_._uid+h+"plot").remove()}M.name="cartesian",M.attr=["xaxis","yaxis"],M.idRoot=["x","y"],M.idRegex=t.idRegex,M.attrRegex=t.attrRegex,M.attributes=e(89502),M.layoutAttributes=e(13838),M.supplyLayoutDefaults=e(86763),M.transitionAxes=e(66847),M.finalizeSubplots=function(h,_){var m,d,x,g=_._subplots,v=g.xaxis,T=g.yaxis,c=g.cartesian,E=c.concat(g.gl2d||[]),A={},C={};for(m=0;m<E.length;m++){var O=E[m].split("y");A[O[0]]=1,C["y"+O[1]]=1}for(m=0;m<v.length;m++)A[d=v[m]]||(x=(h[l.id2name(d)]||{}).anchor,t.idRegex.y.test(x)||(x="y"),c.push(d+x),E.push(d+x),C[x]||(C[x]=1,a.pushUnique(T,x)));for(m=0;m<T.length;m++)C[x=T[m]]||(d=(h[l.id2name(x)]||{}).anchor,t.idRegex.x.test(d)||(d="x"),c.push(d+x),E.push(d+x),A[d]||(A[d]=1,a.pushUnique(v,d)));if(!E.length){for(var P in d="",x="",h)t.attrRegex.test(P)&&(P.charAt(0)==="x"?(!d||+P.substr(5)<+d.substr(5))&&(d=P):(!x||+P.substr(5)<+x.substr(5))&&(x=P));d=d?l.name2id(d):"x",x=x?l.name2id(x):"y",v.push(d),T.push(x),c.push(d+x)}},M.plot=function(h,_,m,d){var x,g=h._fullLayout,v=g._subplots.cartesian,T=h.calcdata;if(!Array.isArray(_))for(_=[],x=0;x<T.length;x++)_.push(x);for(x=0;x<v.length;x++){for(var c,E=v[x],A=g._plots[E],C=[],O=0;O<T.length;O++){var P=T[O],D=P[0].trace;D.xaxis+D.yaxis===E&&((_.indexOf(D.index)!==-1||D.carpet)&&(c&&c[0].trace.xaxis+c[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&C.indexOf(c)===-1&&C.push(c),C.push(P)),c=P)}r(h,A,C,m,d)}},M.clean=function(h,_,m,d){var x,g,v,T=d._plots||{},c=_._plots||{},E=d._subplots||{};if(d._hasOnlyLargeSploms&&!_._hasOnlyLargeSploms)for(v in T)(x=T[v]).plotgroup&&x.plotgroup.remove();var A=d._has&&d._has("gl"),C=_._has&&_._has("gl");if(A&&!C)for(v in T)(x=T[v])._scene&&x._scene.destroy();if(E.xaxis&&E.yaxis){var O=l.listIds({_fullLayout:d});for(g=0;g<O.length;g++){var P=O[g];_[l.id2name(P)]||d._infolayer.selectAll(".g-"+P+"title").remove()}}var D=d._has&&d._has("cartesian"),z=_._has&&_._has("cartesian");if(D&&!z)u(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(E.cartesian)for(g=0;g<E.cartesian.length;g++){var V=E.cartesian[g];if(!c[V]){var F="."+V+",."+V+"-x,."+V+"-y";d._cartesianlayer.selectAll(F).remove(),p(V,d)}}},M.drawFramework=function(h){var _=h._fullLayout,m=function(x){var g,v,T,c,E,A,C=x._fullLayout,O=C._subplots.cartesian,P=O.length,D=[],z=[];for(g=0;g<P;g++){T=O[g],E=(c=C._plots[T]).xaxis,A=c.yaxis;var V=E._mainAxis,F=A._mainAxis,W=V._id+F._id,B=C._plots[W];c.overlays=[],W!==T&&B?(c.mainplot=W,c.mainplotinfo=B,z.push(T)):(c.mainplot=void 0,c.mainplotinfo=void 0,D.push(T))}for(g=0;g<z.length;g++)T=z[g],(c=C._plots[T]).mainplotinfo.overlays.push(c);var U=D.concat(z),H=new Array(P);for(g=0;g<P;g++){T=U[g],E=(c=C._plots[T]).xaxis,A=c.yaxis;var q=[T,E.layer,A.layer,E.overlaying||"",A.overlaying||""];for(v=0;v<c.overlays.length;v++)q.push(c.overlays[v].id);H[g]=q}return H}(h),d=_._cartesianlayer.selectAll(".subplot").data(m,String);d.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),d.order(),d.exit().call(u,_),d.each(function(x){var g=x[0],v=_._plots[g];v.plotgroup=b.select(this),i(h,v),v.draglayer=o(_._draggers,"g",g)})},M.rangePlot=function(h,_,m){i(h,_),r(h,_,m),k.style(h)},M.toSVG=function(h){var _=h._fullLayout._glimages,m=b.select(h).selectAll(".svg-container");m.filter(function(d,x){return x===m.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var d=this,x=d.toDataURL("image/png");_.append("svg:image").attr({xmlns:s.svg,"xlink:href":x,preserveAspectRatio:"none",x:0,y:0,width:d.style.width,height:d.style.height})})},M.updateFx=e(4305).updateFx},13838:function(L,M,e){"use strict";var b=e(41940),w=e(22399),a=e(79952).P,k=e(1426).extendFlat,y=e(44467).templatedArray,f=e(12663).descriptionWithDates,l=e(50606).ONEDAY,t=e(85555),s=t.HOUR_PATTERN,o=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},r=k({},n,{values:n.values.slice().concat(["sync"])});function i(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},_={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function m(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=5),A}function d(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var x={valType:"color",dflt:w.defaultLine,editType:"ticks"},g={valType:"color",dflt:w.lightLine,editType:"ticks"};function v(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var T=k({},a,{editType:"ticks"}),c={valType:"boolean",editType:"ticks"};L.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:w.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:b({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:y("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[o,s,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:r,nticks:i(),tick0:u,dtick:p,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:_,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:m(),tickwidth:d(),tickcolor:x,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:k({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:b({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:y("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:w.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:c,gridcolor:g,gridwidth:v(),griddash:T,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:w.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:w.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:i("minor"),tick0:u,dtick:p,tickvals:h,ticks:_,ticklen:m("minor"),tickwidth:d("minor"),tickcolor:x,gridcolor:g,gridwidth:v("minor"),griddash:T,showgrid:c,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:b({editType:"ticks"})}}},86763:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(23469).isUnifiedHover,k=e(98212),y=e(44467),f=e(10820),l=e(13838),t=e(951),s=e(71453),o=e(99082),n=e(52830),r=e(41675),i=r.id2name,u=r.name2id,p=e(85555).AX_ID_PATTERN,h=e(73972),_=h.traceIs,m=h.getComponentMethod;function d(x,g,v){Array.isArray(x[g])?x[g].push(v):x[g]=[v]}L.exports=function(x,g,v){var T,c,E=g.autotypenumbers,A={},C={},O={},P={},D={},z={},V={},F={},W={},B={};for(T=0;T<v.length;T++){var U=v[T];if(_(U,"cartesian")||_(U,"gl2d")){var H,q;if(U.xaxis)H=i(U.xaxis),d(A,H,U);else if(U.xaxes)for(c=0;c<U.xaxes.length;c++)d(A,i(U.xaxes[c]),U);if(U.yaxis)q=i(U.yaxis),d(A,q,U);else if(U.yaxes)for(c=0;c<U.yaxes.length;c++)d(A,i(U.yaxes[c]),U);U.type==="funnel"?U.orientation==="h"?(H&&(C[H]=!0),q&&(V[q]=!0)):q&&(O[q]=!0):U.type==="image"?(q&&(F[q]=!0),H&&(F[H]=!0)):(q&&(D[q]=!0,z[q]=!0),_(U,"carpet")&&(U.type!=="carpet"||U._cheater)||H&&(P[H]=!0)),U.type==="carpet"&&U._cheater&&H&&(C[H]=!0),_(U,"2dMap")&&(W[H]=!0,W[q]=!0),_(U,"oriented")&&(B[U.orientation==="h"?q:H]=!0)}}var ee=g._subplots,K=ee.xaxis,J=ee.yaxis,Z=b.simpleMap(K,i),$=b.simpleMap(J,i),ne=Z.concat($),ae=w.background;K.length&&J.length&&(ae=b.coerce(x,g,f,"plot_bgcolor"));var oe,se,ce,me,xe,ve=w.combine(ae,g.paper_bgcolor);function fe(){var Nt=A[oe]||[];xe._traceIndices=Nt.map(function(Dt){return Dt._expandedIndex}),xe._annIndices=[],xe._shapeIndices=[],xe._selectionIndices=[],xe._imgIndices=[],xe._subplotsWith=[],xe._counterAxes=[],xe._name=xe._attr=oe,xe._id=se}function pe(Nt,Dt){return b.coerce(me,xe,l,Nt,Dt)}function Le(Nt,Dt){return b.coerce2(me,xe,l,Nt,Dt)}function ye(Nt){return Nt==="x"?J:K}function Ae(Nt,Dt){for(var Et=Nt==="x"?Z:$,Wt=[],Ht=0;Ht<Et.length;Ht++){var Ke=Et[Ht];Ke===Dt||(x[Ke]||{}).overlaying||Wt.push(u(Ke))}return Wt}var Me={x:ye("x"),y:ye("y")},ke=Me.x.concat(Me.y),te={},ue=[];function ge(){var Nt=me.matches;p.test(Nt)&&ke.indexOf(Nt)===-1&&(te[Nt]=me.type,ue=Object.keys(te))}var we=k(x,g),Ee=a(we);for(T=0;T<ne.length;T++){oe=ne[T],se=u(oe),ce=oe.charAt(0),b.isPlainObject(x[oe])||(x[oe]={}),me=x[oe],xe=y.newContainer(g,oe,ce+"axis"),fe();var Be=ce==="x"&&!P[oe]&&C[oe]||ce==="y"&&!D[oe]&&O[oe],Re=ce==="y"&&(!z[oe]&&V[oe]||F[oe]),je={hasMinor:!0,letter:ce,font:g.font,outerTicks:W[oe],showGrid:!B[oe],data:A[oe]||[],bgColor:ve,calendar:g.calendar,automargin:!0,visibleDflt:Be,reverseDflt:Re,autotypenumbersDflt:E,splomStash:((g._splomAxes||{})[ce]||{})[se]};pe("uirevision",g.uirevision),t(me,xe,pe,je),s(me,xe,pe,je,g);var he=Ee&&ce===we.charAt(0),_e=Le("spikecolor",Ee?xe.color:void 0),Te=Le("spikethickness",Ee?1.5:void 0),Fe=Le("spikedash",Ee?"dot":void 0),Ye=Le("spikemode",Ee?"across":void 0),Ge=Le("spikesnap");pe("showspikes",!!(he||_e||Te||Fe||Ye||Ge))||(delete xe.spikecolor,delete xe.spikethickness,delete xe.spikedash,delete xe.spikemode,delete xe.spikesnap);var ot=i(me.overlaying),st=[0,1];if(g[ot]!==void 0){var ht=i(g[ot].anchor);g[ht]!==void 0&&(st=g[ht].domain)}n(me,xe,pe,{letter:ce,counterAxes:Me[ce],overlayableAxes:Ae(ce,oe),grid:g.grid,overlayingDomain:st}),pe("title.standoff"),ge(),xe._input=me}for(T=0;T<ue.length;){se=ue[T++],ce=(oe=i(se)).charAt(0),b.isPlainObject(x[oe])||(x[oe]={}),me=x[oe],xe=y.newContainer(g,oe,ce+"axis"),fe();var xt={letter:ce,font:g.font,outerTicks:W[oe],showGrid:!B[oe],data:[],bgColor:ve,calendar:g.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:E,splomStash:((g._splomAxes||{})[ce]||{})[se]};pe("uirevision",g.uirevision),xe.type=te[se]||"linear",s(me,xe,pe,xt,g),n(me,xe,pe,{letter:ce,counterAxes:Me[ce],overlayableAxes:Ae(ce,oe),grid:g.grid}),pe("fixedrange"),ge(),xe._input=me}var Ct=m("rangeslider","handleDefaults"),St=m("rangeselector","handleDefaults");for(T=0;T<Z.length;T++)oe=Z[T],me=x[oe],xe=g[oe],Ct(x,g,oe),xe.type==="date"&&St(me,xe,g,$,xe.calendar),pe("fixedrange");for(T=0;T<$.length;T++){oe=$[T],me=x[oe],xe=g[oe];var kt=g[i(xe.anchor)];pe("fixedrange",m("rangeslider","isVisible")(kt))}o.handleDefaults(x,g,{axIds:ke.concat(ue).sort(r.idSort),axHasImage:F})}},92128:function(L,M,e){"use strict";var b=e(84267).mix,w=e(22399),a=e(71828);L.exports=function(k,y,f,l){var t=(l=l||{}).dfltColor;function s(x,g){return a.coerce2(k,y,l.attributes,x,g)}var o=s("linecolor",t),n=s("linewidth");f("showline",l.showLine||!!o||!!n)||(delete y.linecolor,delete y.linewidth);var r=s("gridcolor",b(t,l.bgColor,l.blend||w.lightFraction).toRgbString()),i=s("gridwidth"),u=s("griddash");if(f("showgrid",l.showGrid||!!r||!!i||!!u)||(delete y.gridcolor,delete y.gridwidth,delete y.griddash),l.hasMinor){var p=s("minor.gridcolor",b(y.gridcolor,l.bgColor,67).toRgbString()),h=s("minor.gridwidth",y.gridwidth||1),_=s("minor.griddash",y.griddash||"solid");f("minor.showgrid",!!p||!!h||!!_)||(delete y.minor.gridcolor,delete y.minor.gridwidth,delete y.minor.griddash)}if(!l.noZeroLine){var m=s("zerolinecolor",t),d=s("zerolinewidth");f("zeroline",l.showGrid||!!m||!!d)||(delete y.zerolinecolor,delete y.zerolinewidth)}}},52830:function(L,M,e){"use strict";var b=e(92770),w=e(71828);L.exports=function(a,k,y,f){var l,t,s,o,n,r,i=f.counterAxes||[],u=f.overlayableAxes||[],p=f.letter,h=f.grid,_=f.overlayingDomain;h&&(t=h._domains[p][h._axisMap[k._id]],l=h._anchors[k._id],t&&(s=h[p+"side"].split(" ")[0],o=h.domain[p][s==="right"||s==="top"?1:0])),t=t||[0,1],l=l||(b(a.position)?"free":i[0]||"free"),s=s||(p==="x"?"bottom":"left"),o=o||0,n=0,r=!1;var m=w.coerce(a,k,{anchor:{valType:"enumerated",values:["free"].concat(i),dflt:l}},"anchor"),d=w.coerce(a,k,{side:{valType:"enumerated",values:p==="x"?["bottom","top"]:["left","right"],dflt:s}},"side");m==="free"&&(p==="y"&&(y("autoshift")&&(o=d==="left"?_[0]:_[1],r=!k.automargin||k.automargin,n=d==="left"?-3:3),y("shift",n)),y("position",o)),y("automargin",r);var x=!1;if(u.length&&(x=w.coerce(a,k,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!x){var g=y("domain",t);g[0]>g[1]-.000244140625&&(k.domain=t),w.noneOrAll(a.domain,k.domain,t),k.tickmode==="sync"&&(k.tickmode="auto")}return y("layer"),k}},89426:function(L,M,e){"use strict";var b=e(59652);L.exports=function(w,a,k,y,f){f||(f={});var l=f.tickSuffixDflt,t=b(w);k("tickprefix")&&k("showtickprefix",t),k("ticksuffix",l)&&k("showticksuffix",t)}},42449:function(L,M,e){"use strict";var b=e(18783).FROM_BL;L.exports=function(w,a,k){k===void 0&&(k=b[w.constraintoward||"center"]);var y=[w.r2l(w.range[0]),w.r2l(w.range[1])],f=y[0]+(y[1]-y[0])*k;w.range=w._input.range=[w.l2r(f+(y[0]-f)*a),w.l2r(f+(y[1]-f)*a)],w.setScale()}},21994:function(L,M,e){"use strict";var b=e(39898),w=e(84096).g0,a=e(71828),k=a.numberFormat,y=e(92770),f=a.cleanNumber,l=a.ms2DateTime,t=a.dateTime2ms,s=a.ensureNumber,o=a.isArrayOrTypedArray,n=e(50606),r=n.FP_SAFE,i=n.BADNUM,u=n.LOG_CLIP,p=n.ONEWEEK,h=n.ONEDAY,_=n.ONEHOUR,m=n.ONEMIN,d=n.ONESEC,x=e(41675),g=e(85555),v=g.HOUR_PATTERN,T=g.WEEKDAY_PATTERN;function c(A){return Math.pow(10,A)}function E(A){return A!=null}L.exports=function(A,C){C=C||{};var O=A._id||"x",P=O.charAt(0);function D(ne,ae){if(ne>0)return Math.log(ne)/Math.LN10;if(ne<=0&&ae&&A.range&&A.range.length===2){var oe=A.range[0],se=A.range[1];return .5*(oe+se-2*u*Math.abs(oe-se))}return i}function z(ne,ae,oe,se){if((se||{}).msUTC&&y(ne))return+ne;var ce=t(ne,oe||A.calendar);if(ce===i){if(!y(ne))return i;ne=+ne;var me=Math.floor(10*a.mod(ne+.05,1)),xe=Math.round(ne-me/10);ce=t(new Date(xe))+me/10}return ce}function V(ne,ae,oe){return l(ne,ae,oe||A.calendar)}function F(ne){return A._categories[Math.round(ne)]}function W(ne){if(E(ne)){if(A._categoriesMap===void 0&&(A._categoriesMap={}),A._categoriesMap[ne]!==void 0)return A._categoriesMap[ne];A._categories.push(typeof ne=="number"?String(ne):ne);var ae=A._categories.length-1;return A._categoriesMap[ne]=ae,ae}return i}function B(ne){if(A._categoriesMap)return A._categoriesMap[ne]}function U(ne){var ae=B(ne);return ae!==void 0?ae:y(ne)?+ne:void 0}function H(ne){return y(ne)?+ne:B(ne)}function q(ne,ae,oe){return b.round(oe+ae*ne,2)}function ee(ne,ae,oe){return(ne-oe)/ae}var K=function(ne){return y(ne)?q(ne,A._m,A._b):i},J=function(ne){return ee(ne,A._m,A._b)};if(A.rangebreaks){var Z=P==="y";K=function(ne){if(!y(ne))return i;var ae=A._rangebreaks.length;if(!ae)return q(ne,A._m,A._b);var oe=Z;A.range[0]>A.range[1]&&(oe=!oe);for(var se=oe?-1:1,ce=se*ne,me=0,xe=0;xe<ae;xe++){var ve=se*A._rangebreaks[xe].min,fe=se*A._rangebreaks[xe].max;if(ce<ve)break;if(!(ce>fe)){me=ce<(ve+fe)/2?xe:xe+1;break}me=xe+1}var pe=A._B[me]||0;return isFinite(pe)?q(ne,A._m2,pe):0},J=function(ne){var ae=A._rangebreaks.length;if(!ae)return ee(ne,A._m,A._b);for(var oe=0,se=0;se<ae&&!(ne<A._rangebreaks[se].pmin);se++)ne>A._rangebreaks[se].pmax&&(oe=se+1);return ee(ne,A._m2,A._B[oe])}}A.c2l=A.type==="log"?D:s,A.l2c=A.type==="log"?c:s,A.l2p=K,A.p2l=J,A.c2p=A.type==="log"?function(ne,ae){return K(D(ne,ae))}:K,A.p2c=A.type==="log"?function(ne){return c(J(ne))}:J,["linear","-"].indexOf(A.type)!==-1?(A.d2r=A.r2d=A.d2c=A.r2c=A.d2l=A.r2l=f,A.c2d=A.c2r=A.l2d=A.l2r=s,A.d2p=A.r2p=function(ne){return A.l2p(f(ne))},A.p2d=A.p2r=J,A.cleanPos=s):A.type==="log"?(A.d2r=A.d2l=function(ne,ae){return D(f(ne),ae)},A.r2d=A.r2c=function(ne){return c(f(ne))},A.d2c=A.r2l=f,A.c2d=A.l2r=s,A.c2r=D,A.l2d=c,A.d2p=function(ne,ae){return A.l2p(A.d2r(ne,ae))},A.p2d=function(ne){return c(J(ne))},A.r2p=function(ne){return A.l2p(f(ne))},A.p2r=J,A.cleanPos=s):A.type==="date"?(A.d2r=A.r2d=a.identity,A.d2c=A.r2c=A.d2l=A.r2l=z,A.c2d=A.c2r=A.l2d=A.l2r=V,A.d2p=A.r2p=function(ne,ae,oe){return A.l2p(z(ne,0,oe))},A.p2d=A.p2r=function(ne,ae,oe){return V(J(ne),ae,oe)},A.cleanPos=function(ne){return a.cleanDate(ne,i,A.calendar)}):A.type==="category"?(A.d2c=A.d2l=W,A.r2d=A.c2d=A.l2d=F,A.d2r=A.d2l_noadd=U,A.r2c=function(ne){var ae=H(ne);return ae!==void 0?ae:A.fraction2r(.5)},A.l2r=A.c2r=s,A.r2l=H,A.d2p=function(ne){return A.l2p(A.r2c(ne))},A.p2d=function(ne){return F(J(ne))},A.r2p=A.d2p,A.p2r=J,A.cleanPos=function(ne){return typeof ne=="string"&&ne!==""?ne:s(ne)}):A.type==="multicategory"&&(A.r2d=A.c2d=A.l2d=F,A.d2r=A.d2l_noadd=U,A.r2c=function(ne){var ae=U(ne);return ae!==void 0?ae:A.fraction2r(.5)},A.r2c_just_indices=B,A.l2r=A.c2r=s,A.r2l=U,A.d2p=function(ne){return A.l2p(A.r2c(ne))},A.p2d=function(ne){return F(J(ne))},A.r2p=A.d2p,A.p2r=J,A.cleanPos=function(ne){return Array.isArray(ne)||typeof ne=="string"&&ne!==""?ne:s(ne)},A.setupMultiCategory=function(ne){var ae,oe,se=A._traceIndices,ce=A._matchGroup;if(ce&&A._categories.length===0){for(var me in ce)if(me!==O){var xe=C[x.id2name(me)];se=se.concat(xe._traceIndices)}}var ve=[[0,{}],[0,{}]],fe=[];for(ae=0;ae<se.length;ae++){var pe=ne[se[ae]];if(P in pe){var Le=pe[P],ye=pe._length||a.minRowLength(Le);if(o(Le[0])&&o(Le[1]))for(oe=0;oe<ye;oe++){var Ae=Le[0][oe],Me=Le[1][oe];E(Ae)&&E(Me)&&(fe.push([Ae,Me]),Ae in ve[0][1]||(ve[0][1][Ae]=ve[0][0]++),Me in ve[1][1]||(ve[1][1][Me]=ve[1][0]++))}}}for(fe.sort(function(ke,te){var ue=ve[0][1],ge=ue[ke[0]]-ue[te[0]];if(ge)return ge;var we=ve[1][1];return we[ke[1]]-we[te[1]]}),ae=0;ae<fe.length;ae++)W(fe[ae])}),A.fraction2r=function(ne){var ae=A.r2l(A.range[0]),oe=A.r2l(A.range[1]);return A.l2r(ae+ne*(oe-ae))},A.r2fraction=function(ne){var ae=A.r2l(A.range[0]),oe=A.r2l(A.range[1]);return(A.r2l(ne)-ae)/(oe-ae)},A.cleanRange=function(ne,ae){ae||(ae={}),ne||(ne="range");var oe,se,ce=a.nestedProperty(A,ne).get();if(se=(se=A.type==="date"?a.dfltRange(A.calendar):P==="y"?g.DFLTRANGEY:A._name==="realaxis"?[0,1]:ae.dfltRange||g.DFLTRANGEX).slice(),A.rangemode!=="tozero"&&A.rangemode!=="nonnegative"||(se[0]=0),ce&&ce.length===2)for(A.type!=="date"||A.autorange||(ce[0]=a.cleanDate(ce[0],i,A.calendar),ce[1]=a.cleanDate(ce[1],i,A.calendar)),oe=0;oe<2;oe++)if(A.type==="date"){if(!a.isDateTime(ce[oe],A.calendar)){A[ne]=se;break}if(A.r2l(ce[0])===A.r2l(ce[1])){var me=a.constrain(A.r2l(ce[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ce[0]=A.l2r(me-1e3),ce[1]=A.l2r(me+1e3);break}}else{if(!y(ce[oe])){if(!y(ce[1-oe])){A[ne]=se;break}ce[oe]=ce[1-oe]*(oe?10:.1)}if(ce[oe]<-r?ce[oe]=-r:ce[oe]>r&&(ce[oe]=r),ce[0]===ce[1]){var xe=Math.max(1,Math.abs(1e-6*ce[0]));ce[0]-=xe,ce[1]+=xe}}else a.nestedProperty(A,ne).set(se)},A.setScale=function(ne){var ae=C._size;if(A.overlaying){var oe=x.getFromId({_fullLayout:C},A.overlaying);A.domain=oe.domain}var se=ne&&A._r?"_r":"range",ce=A.calendar;A.cleanRange(se);var me,xe,ve=A.r2l(A[se][0],ce),fe=A.r2l(A[se][1],ce),pe=P==="y";if(pe?(A._offset=ae.t+(1-A.domain[1])*ae.h,A._length=ae.h*(A.domain[1]-A.domain[0]),A._m=A._length/(ve-fe),A._b=-A._m*fe):(A._offset=ae.l+A.domain[0]*ae.w,A._length=ae.w*(A.domain[1]-A.domain[0]),A._m=A._length/(fe-ve),A._b=-A._m*ve),A._rangebreaks=[],A._lBreaks=0,A._m2=0,A._B=[],A.rangebreaks&&(A._rangebreaks=A.locateBreaks(Math.min(ve,fe),Math.max(ve,fe)),A._rangebreaks.length)){for(me=0;me<A._rangebreaks.length;me++)xe=A._rangebreaks[me],A._lBreaks+=Math.abs(xe.max-xe.min);var Le=pe;ve>fe&&(Le=!Le),Le&&A._rangebreaks.reverse();var ye=Le?-1:1;for(A._m2=ye*A._length/(Math.abs(fe-ve)-A._lBreaks),A._B.push(-A._m2*(pe?fe:ve)),me=0;me<A._rangebreaks.length;me++)xe=A._rangebreaks[me],A._B.push(A._B[A._B.length-1]-ye*A._m2*(xe.max-xe.min));for(me=0;me<A._rangebreaks.length;me++)(xe=A._rangebreaks[me]).pmin=K(xe.min),xe.pmax=K(xe.max)}if(!isFinite(A._m)||!isFinite(A._b)||A._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},A.maskBreaks=function(ne){var ae,oe,se,ce,me,xe=A.rangebreaks||[];xe._cachedPatterns||(xe._cachedPatterns=xe.map(function(Ae){return Ae.enabled&&Ae.bounds?a.simpleMap(Ae.bounds,Ae.pattern?f:A.d2c):null})),xe._cachedValues||(xe._cachedValues=xe.map(function(Ae){return Ae.enabled&&Ae.values?a.simpleMap(Ae.values,A.d2c).sort(a.sorterAsc):null}));for(var ve=0;ve<xe.length;ve++){var fe=xe[ve];if(fe.enabled){if(fe.bounds){var pe=fe.pattern;switch(oe=(ae=xe._cachedPatterns[ve])[0],se=ae[1],pe){case T:ce=(me=new Date(ne)).getUTCDay(),oe>se&&(se+=7,ce<oe&&(ce+=7));break;case v:ce=(me=new Date(ne)).getUTCHours()+(me.getUTCMinutes()/60+me.getUTCSeconds()/3600+me.getUTCMilliseconds()/36e5),oe>se&&(se+=24,ce<oe&&(ce+=24));break;case"":ce=ne}if(ce>=oe&&ce<se)return i}else for(var Le=xe._cachedValues[ve],ye=0;ye<Le.length;ye++)if(se=(oe=Le[ye])+fe.dvalue,ne>=oe&&ne<se)return i}}return ne},A.locateBreaks=function(ne,ae){var oe,se,ce,me,xe=[];if(!A.rangebreaks)return xe;var ve=A.rangebreaks.slice().sort(function(we,Ee){return we.pattern===T&&Ee.pattern===v?-1:Ee.pattern===T&&we.pattern===v?1:0}),fe=function(we,Ee){if((we=a.constrain(we,ne,ae))!==(Ee=a.constrain(Ee,ne,ae))){for(var Be=!0,Re=0;Re<xe.length;Re++){var je=xe[Re];we<je.max&&Ee>=je.min&&(we<je.min&&(je.min=we),Ee>je.max&&(je.max=Ee),Be=!1)}Be&&xe.push({min:we,max:Ee})}};for(oe=0;oe<ve.length;oe++){var pe=ve[oe];if(pe.enabled)if(pe.bounds){var Le=ne,ye=ae;pe.pattern&&(Le=Math.floor(Le)),ce=(se=a.simpleMap(pe.bounds,pe.pattern?f:A.r2l))[0],me=se[1];var Ae,Me,ke=new Date(Le);switch(pe.pattern){case T:Me=p,Ae=(me-ce+(me<ce?7:0))*h,Le+=ce*h-(ke.getUTCDay()*h+ke.getUTCHours()*_+ke.getUTCMinutes()*m+ke.getUTCSeconds()*d+ke.getUTCMilliseconds());break;case v:Me=h,Ae=(me-ce+(me<ce?24:0))*_,Le+=ce*_-(ke.getUTCHours()*_+ke.getUTCMinutes()*m+ke.getUTCSeconds()*d+ke.getUTCMilliseconds());break;default:Le=Math.min(se[0],se[1]),Ae=Me=(ye=Math.max(se[0],se[1]))-Le}for(var te=Le;te<ye;te+=Me)fe(te,te+Ae)}else for(var ue=a.simpleMap(pe.values,A.d2c),ge=0;ge<ue.length;ge++)fe(ce=ue[ge],me=ce+pe.dvalue)}return xe.sort(function(we,Ee){return we.min-Ee.min}),xe},A.makeCalcdata=function(ne,ae,oe){var se,ce,me,xe,ve=A.type,fe=ve==="date"&&ne[ae+"calendar"];if(ae in ne){if(se=ne[ae],xe=ne._length||a.minRowLength(se),a.isTypedArray(se)&&(ve==="linear"||ve==="log")){if(xe===se.length)return se;if(se.subarray)return se.subarray(0,xe)}if(ve==="multicategory")return function(ye,Ae){for(var Me=new Array(Ae),ke=0;ke<Ae;ke++){var te=(ye[0]||[])[ke],ue=(ye[1]||[])[ke];Me[ke]=B([te,ue])}return Me}(se,xe);for(ce=new Array(xe),me=0;me<xe;me++)ce[me]=A.d2c(se[me],0,fe,oe)}else{var pe=ae+"0"in ne?A.d2c(ne[ae+"0"],0,fe):0,Le=ne["d"+ae]?Number(ne["d"+ae]):1;for(se=ne[{x:"y",y:"x"}[ae]],xe=ne._length||se.length,ce=new Array(xe),me=0;me<xe;me++)ce[me]=pe+me*Le}if(A.rangebreaks)for(me=0;me<xe;me++)ce[me]=A.maskBreaks(ce[me]);return ce},A.isValidRange=function(ne){return Array.isArray(ne)&&ne.length===2&&y(A.r2l(ne[0]))&&y(A.r2l(ne[1]))},A.isPtWithinRange=function(ne,ae){var oe=A.c2l(ne[P],null,ae),se=A.r2l(A.range[0]),ce=A.r2l(A.range[1]);return se<ce?se<=oe&&oe<=ce:ce<=oe&&oe<=se},A._emptyCategories=function(){A._categories=[],A._categoriesMap={}},A.clearCalc=function(){var ne=A._matchGroup;if(ne){var ae=null,oe=null;for(var se in ne){var ce=C[x.id2name(se)];if(ce._categories){ae=ce._categories,oe=ce._categoriesMap;break}}ae&&oe?(A._categories=ae,A._categoriesMap=oe):A._emptyCategories()}else A._emptyCategories();if(A._initialCategories)for(var me=0;me<A._initialCategories.length;me++)W(A._initialCategories[me])},A.sortByInitialCategories=function(){var ne=[];if(A._emptyCategories(),A._initialCategories)for(var ae=0;ae<A._initialCategories.length;ae++)W(A._initialCategories[ae]);ne=ne.concat(A._traceIndices);var oe=A._matchGroup;for(var se in oe)if(O!==se){var ce=C[x.id2name(se)];ce._categories=A._categories,ce._categoriesMap=A._categoriesMap,ne=ne.concat(ce._traceIndices)}return ne};var $=C._d3locale;A.type==="date"&&(A._dateFormat=$?$.timeFormat:w,A._extraFormat=C._extraFormat),A._separators=C.separators,A._numFormat=$?$.numberFormat:k,delete A._minDtick,delete A._forceTick0}},59652:function(L){"use strict";L.exports=function(M){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(b){return M[b]!==void 0});if(e.every(function(b){return M[b]===M[e[0]]})||e.length===1)return M[e[0]]}},96115:function(L,M,e){"use strict";var b=e(71828),w=e(7901).contrast,a=e(13838),k=e(59652),y=e(85501);function f(l,t){function s(o,n){return b.coerce(l,t,a.tickformatstops,o,n)}s("enabled")&&(s("dtickrange"),s("value"))}L.exports=function(l,t,s,o,n){n||(n={});var r=s("labelalias");b.isPlainObject(r)||delete t.labelalias;var i=k(l);if(s("showticklabels")){var u=n.font||{},p=t.color,h=(t.ticklabelposition||"").indexOf("inside")!==-1?w(n.bgColor):p&&p!==a.color.dflt?p:u.color;if(b.coerceFont(s,"tickfont",{family:u.family,size:u.size,color:h}),n.noTicklabelstep||o==="multicategory"||o==="log"||s("ticklabelstep"),n.noAng||s("tickangle"),o!=="category"){var _=s("tickformat");y(l,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,n.noExp||_||o==="date"||(s("showexponent",i),s("exponentformat"),s("minexponent"),s("separatethousands"))}}}},38701:function(L,M,e){"use strict";var b=e(71828),w=e(13838);L.exports=function(a,k,y,f){var l=f.isMinor,t=l?a.minor||{}:a,s=l?k.minor:k,o=l?w.minor:w,n=l?"minor.":"",r=b.coerce2(t,s,o,"ticklen",l?.6*(k.ticklen||5):void 0),i=b.coerce2(t,s,o,"tickwidth",l?k.tickwidth||1:void 0),u=b.coerce2(t,s,o,"tickcolor",(l?k.tickcolor:void 0)||s.color);y(n+"ticks",!l&&f.outerTicks||r||i||u?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(L,M,e){"use strict";var b=e(66287),w=e(71828).isArrayOrTypedArray;L.exports=function(a,k,y,f,l){l||(l={});var t=l.isMinor,s=t?a.minor||{}:a,o=t?k.minor:k,n=t?"minor.":"";function r(m){var d=s[m];return d!==void 0?d:(o._template||{})[m]}var i=r("tick0"),u=r("dtick"),p=r("tickvals"),h=y(n+"tickmode",w(p)?"array":u?"linear":"auto");if(h==="auto"||h==="sync")y(n+"nticks");else if(h==="linear"){var _=o.dtick=b.dtick(u,f);o.tick0=b.tick0(i,f,k.calendar,_)}else f!=="multicategory"&&(y(n+"tickvals")===void 0?o.tickmode="auto":t||y("ticktext"))}},66847:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(71828),k=e(91424),y=e(89298);L.exports=function(f,l,t,s){var o=f._fullLayout;if(l.length!==0){var n,r,i,u;s&&(n=s());var p=b.ease(t.easing);return f._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var m={},d=0;d<l.length;d++){var x=l[d],g=x.plotinfo.xaxis,v=x.plotinfo.yaxis;x.xr0&&(m[g._name+".range"]=x.xr0.slice()),x.yr0&&(m[v._name+".range"]=x.yr0.slice())}return w.call("relayout",f,m).then(function(){for(var T=0;T<l.length;T++)h(l[T].plotinfo)})}()}),r=Date.now(),u=window.requestAnimationFrame(function m(){i=Date.now();for(var d=Math.min(1,(i-r)/t.duration),x=p(d),g=0;g<l.length;g++)_(l[g],x);i-r>t.duration?(function(){for(var v={},T=0;T<l.length;T++){var c=l[T],E=c.plotinfo.xaxis,A=c.plotinfo.yaxis;c.xr1&&(v[E._name+".range"]=c.xr1.slice()),c.yr1&&(v[A._name+".range"]=c.yr1.slice())}n&&n(),w.call("relayout",f,v).then(function(){for(var C=0;C<l.length;C++)h(l[C].plotinfo)})}(),u=window.cancelAnimationFrame(m)):u=window.requestAnimationFrame(m)}),Promise.resolve()}function h(m){var d=m.xaxis,x=m.yaxis;o._defs.select("#"+m.clipId+"> rect").call(k.setTranslate,0,0).call(k.setScale,1,1),m.plot.call(k.setTranslate,d._offset,x._offset).call(k.setScale,1,1);var g=m.plot.selectAll(".scatterlayer .trace");g.selectAll(".point").call(k.setPointGroupScale,1,1),g.selectAll(".textpoint").call(k.setTextPointsScale,1,1),g.call(k.hideOutsideRangePoints,m)}function _(m,d){var x=m.plotinfo,g=x.xaxis,v=x.yaxis,T=g._length,c=v._length,E=!!m.xr1,A=!!m.yr1,C=[];if(E){var O=a.simpleMap(m.xr0,g.r2l),P=a.simpleMap(m.xr1,g.r2l),D=O[1]-O[0],z=P[1]-P[0];C[0]=(O[0]*(1-d)+d*P[0]-O[0])/(O[1]-O[0])*T,C[2]=T*(1-d+d*z/D),g.range[0]=g.l2r(O[0]*(1-d)+d*P[0]),g.range[1]=g.l2r(O[1]*(1-d)+d*P[1])}else C[0]=0,C[2]=T;if(A){var V=a.simpleMap(m.yr0,v.r2l),F=a.simpleMap(m.yr1,v.r2l),W=V[1]-V[0],B=F[1]-F[0];C[1]=(V[1]*(1-d)+d*F[1]-V[1])/(V[0]-V[1])*c,C[3]=c*(1-d+d*B/W),v.range[0]=g.l2r(V[0]*(1-d)+d*F[0]),v.range[1]=v.l2r(V[1]*(1-d)+d*F[1])}else C[1]=0,C[3]=c;y.drawOne(f,g,{skipTitle:!0}),y.drawOne(f,v,{skipTitle:!0}),y.redrawComponents(f,[g._id,v._id]);var U=E?T/C[2]:1,H=A?c/C[3]:1,q=E?C[0]:0,ee=A?C[1]:0,K=E?C[0]/C[2]*T:0,J=A?C[1]/C[3]*c:0,Z=g._offset-K,$=v._offset-J;x.clipRect.call(k.setTranslate,q,ee).call(k.setScale,1/U,1/H),x.plot.call(k.setTranslate,Z,$).call(k.setScale,U,H),k.setPointGroupScale(x.zoomScalePts,1/U,1/H),k.setTextPointsScale(x.zoomScaleTxt,1/U,1/H)}y.redrawComponents(f)}},951:function(L,M,e){"use strict";var b=e(73972).traceIs,w=e(4322);function a(y){return{v:"x",h:"y"}[y.orientation||"v"]}function k(y,f){var l=a(y),t=b(y,"box-violin"),s=b(y._fullInput||{},"candlestick");return t&&!s&&f===l&&y[l]===void 0&&y[l+"0"]===void 0}L.exports=function(y,f,l,t){l("autotypenumbers",t.autotypenumbersDflt),l("type",(t.splomStash||{}).type)==="-"&&(function(s,o){if(s.type==="-"){var n,r=s._id,i=r.charAt(0);r.indexOf("scene")!==-1&&(r=i);var u=function(v,T,c){for(var E=0;E<v.length;E++){var A=v[E];if(A.type==="splom"&&A._length>0&&(A["_"+c+"axes"]||{})[T]||(A[c+"axis"]||c)===T&&(k(A,c)||(A[c]||[]).length||A[c+"0"]))return A}}(o,r,i);if(u)if(u.type!=="histogram"||i!=={v:"y",h:"x"}[u.orientation||"v"]){var p=i+"calendar",h=u[p],_={noMultiCategory:!b(u,"cartesian")||b(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&i==={h:"x",v:"y"}[u.orientation||"v"]&&(_.noMultiCategory=!0),_.autotypenumbers=s.autotypenumbers,k(u,i)){var m=a(u),d=[];for(n=0;n<o.length;n++){var x=o[n];b(x,"box-violin")&&(x[i+"axis"]||i)===r&&(x[m]!==void 0?d.push(x[m][0]):x.name!==void 0?d.push(x.name):d.push("text"),x[p]!==h&&(h=void 0))}s.type=w(d,h,_)}else if(u.type==="splom"){var g=u.dimensions[u._axesDim[r]];g.visible&&(s.type=w(g.values,h,_))}else s.type=w(u[i]||[u[i+"0"]],h,_)}else s.type="linear"}}(f,t.data),f.type==="-"?f.type="linear":y.type=f.type)}},31137:function(L,M,e){"use strict";var b=e(73972),w=e(71828);function a(l,t,s){var o,n,r,i=!1;if(t.type==="data")o=l._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;o=l._fullLayout}return n=w.nestedProperty(o,t.prop).get(),(r=s[t.type]=s[t.type]||{}).hasOwnProperty(t.prop)&&r[t.prop]!==n&&(i=!0),r[t.prop]=n,{changed:i,value:n}}function k(l,t){var s=[],o=t[0],n={};if(typeof o=="string")n[o]=t[1];else{if(!w.isPlainObject(o))return s;n=o}return f(n,function(r,i,u){s.push({type:"layout",prop:r,value:u})},"",0),s}function y(l,t){var s,o,n,r,i=[];if(o=t[0],n=t[1],s=t[2],r={},typeof o=="string")r[o]=n;else{if(!w.isPlainObject(o))return i;r=o,s===void 0&&(s=n)}return s===void 0&&(s=null),f(r,function(u,p,h){var _,m;if(Array.isArray(h)){m=h.slice();var d=Math.min(m.length,l.data.length);s&&(d=Math.min(d,s.length)),_=[];for(var x=0;x<d;x++)_[x]=s?s[x]:x}else m=h,_=s?s.slice():null;if(_===null)Array.isArray(m)&&(m=m[0]);else if(Array.isArray(_)){if(!Array.isArray(m)){var g=m;m=[];for(var v=0;v<_.length;v++)m[v]=g}m.length=Math.min(_.length,m.length)}i.push({type:"data",prop:u,traces:_,value:m})},"",0),i}function f(l,t,s,o){Object.keys(l).forEach(function(n){var r=l[n];if(n[0]!=="_"){var i=s+(o>0?".":"")+n;w.isPlainObject(r)?f(r,t,i,o+1):t(i,n,r)}})}M.manageCommandObserver=function(l,t,s,o){var n={},r=!0;t&&t._commandObserver&&(n=t._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var i=M.hasSimpleAPICommandBindings(l,s,n.lookupTable);if(t&&t._commandObserver){if(i)return n;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,n}if(i){a(l,i,n.cache),n.check=function(){if(r){var h=a(l,i,n.cache);return h.changed&&o&&n.lookupTable[h.value]!==void 0&&(n.disable(),Promise.resolve(o({value:h.value,type:i.type,prop:i.prop,traces:i.traces,index:n.lookupTable[h.value]})).then(n.enable,n.enable)),h.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<u.length;p++)l._internalOn(u[p],n.check);n.remove=function(){for(var h=0;h<u.length;h++)l._removeInternalListener(u[h],n.check)}}else w.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){r=!1},n.enable=function(){r=!0},t&&(t._commandObserver=n),n},M.hasSimpleAPICommandBindings=function(l,t,s){var o,n,r=t.length;for(o=0;o<r;o++){var i,u=t[o],p=u.method,h=u.args;if(Array.isArray(h)||(h=[]),!p)return!1;var _=M.computeAPICommandBindings(l,p,h);if(_.length!==1)return!1;if(n){if((i=_[0]).type!==n.type||i.prop!==n.prop)return!1;if(Array.isArray(n.traces)){if(!Array.isArray(i.traces))return!1;i.traces.sort();for(var m=0;m<n.traces.length;m++)if(n.traces[m]!==i.traces[m])return!1}else if(i.prop!==n.prop)return!1}else n=_[0],Array.isArray(n.traces)&&n.traces.sort();var d=(i=_[0]).value;if(Array.isArray(d)){if(d.length!==1)return!1;d=d[0]}s&&(s[d]=o)}return n},M.executeAPICommand=function(l,t,s){if(t==="skip")return Promise.resolve();var o=b.apiMethodRegistry[t],n=[l];Array.isArray(s)||(s=[]);for(var r=0;r<s.length;r++)n.push(s[r]);return o.apply(null,n).catch(function(i){return w.warn("API call to Plotly."+t+" rejected.",i),Promise.reject(i)})},M.computeAPICommandBindings=function(l,t,s){var o;switch(Array.isArray(s)||(s=[]),t){case"restyle":o=y(l,s);break;case"relayout":o=k(0,s);break;case"update":o=y(l,[s[0],s[2]]).concat(k(0,[s[1]]));break;case"animate":o=function(n,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}(0,s);break;default:o=[]}return o}},27670:function(L,M,e){"use strict";var b=e(1426).extendFlat;M.Y=function(w,a){a=a||{};var k={valType:"info_array",editType:(w=w||{}).editType,items:[{valType:"number",min:0,max:1,editType:w.editType},{valType:"number",min:0,max:1,editType:w.editType}],dflt:[0,1]},y=(w.name&&w.name,w.trace,a.description&&a.description,{x:b({},k,{}),y:b({},k,{}),editType:w.editType});return w.noGridCell||(y.row={valType:"integer",min:0,dflt:0,editType:w.editType},y.column={valType:"integer",min:0,dflt:0,editType:w.editType}),y},M.c=function(w,a,k,y){var f=y&&y.x||[0,1],l=y&&y.y||[0,1],t=a.grid;if(t){var s=k("domain.column");s!==void 0&&(s<t.columns?f=t._domains.x[s]:delete w.domain.column);var o=k("domain.row");o!==void 0&&(o<t.rows?l=t._domains.y[o]:delete w.domain.row)}var n=k("domain.x",f),r=k("domain.y",l);n[0]<n[1]||(w.domain.x=f.slice()),r[0]<r[1]||(w.domain.y=l.slice())}},41940:function(L){"use strict";L.exports=function(M){var e=M.editType,b=M.colorEditType;b===void 0&&(b=e);var w={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:b},editType:e};return M.autoSize&&(w.size.dflt="auto"),M.autoColor&&(w.color.dflt="auto"),M.arrayOk&&(w.family.arrayOk=!0,w.size.arrayOk=!0,w.color.arrayOk=!0),w}},31391:function(L){"use strict";L.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(L,M){"use strict";M.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},M.axesNames=["lonaxis","lataxis"],M.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},M.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},M.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},M.clipPad=.001,M.precision=.1,M.landColor="#F0DC82",M.waterColor="#3399FF",M.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},M.sphereSVG={type:"Sphere"},M.fillLayers={ocean:1,land:1,lakes:1},M.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},M.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],M.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],M.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(L,M,e){"use strict";var b=e(39898),w=e(27362),a=w.geoPath,k=w.geoDistance,y=e(65704),f=e(73972),l=e(71828),t=l.strTranslate,s=e(7901),o=e(91424),n=e(30211),r=e(74875),i=e(89298),u=e(71739).getAutoRange,p=e(28569),h=e(47322).prepSelect,_=e(47322).clearOutline,m=e(47322).selectOnClick,d=e(74455),x=e(78776),g=e(41327),v=e(90973),T=e(96892).zL;function c(C){this.id=C.id,this.graphDiv=C.graphDiv,this.container=C.container,this.topojsonURL=C.topojsonURL,this.isStatic=C.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=c.prototype;function A(C,O){var P=x.clipPad,D=C[0]+P,z=C[1]-P,V=O[0]+P,F=O[1]-P;D>0&&z<0&&(z+=360);var W=(z-D)/4;return{type:"Polygon",coordinates:[[[D,V],[D,F],[D+W,F],[D+2*W,F],[D+3*W,F],[z,F],[z,V],[z-W,V],[z-2*W,V],[z-3*W,V],[D,V]]]}}L.exports=function(C){return new c(C)},E.plot=function(C,O,P,D){var z=this;if(D)return z.update(C,O,!0);z._geoCalcData=C,z._fullLayout=O;var V=O[this.id],F=[],W=!1;for(var B in x.layerNameToAdjective)if(B!=="frame"&&V["show"+B]){W=!0;break}for(var U=!1,H=0;H<C.length;H++){var q=C[0][0].trace;q._geo=z,q.locationmode&&(W=!0);var ee=q.marker;if(ee){var K=ee.angle,J=ee.angleref;(K||J==="north"||J==="previous")&&(U=!0)}}if(this._hasMarkerAngles=U,W){var Z=v.getTopojsonName(V);z.topojson!==null&&Z===z.topojsonName||(z.topojsonName=Z,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&F.push(z.fetchTopojson()))}F=F.concat(g.fetchTraceGeoData(C)),P.push(new Promise(function($,ne){Promise.all(F).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(C,O),$()}).catch(ne)}))},E.fetchTopojson=function(){var C=this,O=v.getTopojsonPath(C.topojsonURL,C.topojsonName);return new Promise(function(P,D){b.json(O,function(z,V){if(z)return z.status===404?D(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):D(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[C.topojsonName]=V,P()})})},E.update=function(C,O,P){var D=O[this.id];this.hasChoropleth=!1;for(var z=0;z<C.length;z++){var V=C[z],F=V[0].trace;F.type==="choropleth"&&(this.hasChoropleth=!0),F.visible===!0&&F._length>0&&F._module.calcGeoJSON(V,O)}if(!P){if(this.updateProjection(C,O))return;this.viewInitial&&this.scope===D.scope||this.saveViewInitial(D)}this.scope=D.scope,this.updateBaseLayers(O,D),this.updateDims(O,D),this.updateFx(O,D),r.generalUpdatePerTraceModule(this.graphDiv,this,C,D);var W=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=W.selectAll(".point"),this.dataPoints.text=W.selectAll("text"),this.dataPaths.line=W.selectAll(".js-line");var B=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=B.selectAll("path"),this._render()},E.updateProjection=function(C,O){var P=this.graphDiv,D=O[this.id],z=O._size,V=D.domain,F=D.projection,W=D.lonaxis,B=D.lataxis,U=W._ax,H=B._ax,q=this.projection=function(ke){var te=ke.projection,ue=te.type,ge=x.projNames[ue];ge="geo"+l.titleCase(ge);for(var we=(w[ge]||y[ge])(),Ee=ke._isSatellite?180*Math.acos(1/te.distance)/Math.PI:ke._isClipped?x.lonaxisSpan[ue]/2:null,Be=["center","rotate","parallels","clipExtent"],Re=function(_e){return _e?we:[]},je=0;je<Be.length;je++){var he=Be[je];typeof we[he]!="function"&&(we[he]=Re)}return we.isLonLatOverEdges=function(_e){if(we(_e)===null)return!0;if(Ee){var Te=we.rotate();return k(_e,[-Te[0],-Te[1]])>Ee*Math.PI/180}return!1},we.getPath=function(){return a().projection(we)},we.getBounds=function(_e){return we.getPath().bounds(_e)},we.precision(x.precision),ke._isSatellite&&we.tilt(te.tilt).distance(te.distance),Ee&&we.clipAngle(Ee-x.clipPad),we}(D),ee=[[z.l+z.w*V.x[0],z.t+z.h*(1-V.y[1])],[z.l+z.w*V.x[1],z.t+z.h*(1-V.y[0])]],K=D.center||{},J=F.rotation||{},Z=W.range||[],$=B.range||[];if(D.fitbounds){U._length=ee[1][0]-ee[0][0],H._length=ee[1][1]-ee[0][1],U.range=u(P,U),H.range=u(P,H);var ne=(U.range[0]+U.range[1])/2,ae=(H.range[0]+H.range[1])/2;if(D._isScoped)K={lon:ne,lat:ae};else if(D._isClipped){K={lon:ne,lat:ae},J={lon:ne,lat:ae,roll:J.roll};var oe=F.type,se=x.lonaxisSpan[oe]/2||180,ce=x.lataxisSpan[oe]/2||90;Z=[ne-se,ne+se],$=[ae-ce,ae+ce]}else K={lon:ne,lat:ae},J={lon:ne,lat:J.lat,roll:J.roll}}q.center([K.lon-J.lon,K.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(F.parallels);var me=A(Z,$);q.fitExtent(ee,me);var xe=this.bounds=q.getBounds(me),ve=this.fitScale=q.scale(),fe=q.translate();if(D.fitbounds){var pe=q.getBounds(A(U.range,H.range)),Le=Math.min((xe[1][0]-xe[0][0])/(pe[1][0]-pe[0][0]),(xe[1][1]-xe[0][1])/(pe[1][1]-pe[0][1]));isFinite(Le)?q.scale(Le*ve):l.warn("Something went wrong during"+this.id+"fitbounds computations.")}else q.scale(F.scale*ve);var ye=this.midPt=[(xe[0][0]+xe[1][0])/2,(xe[0][1]+xe[1][1])/2];if(q.translate([fe[0]+(ye[0]-fe[0]),fe[1]+(ye[1]-fe[1])]).clipExtent(xe),D._isAlbersUsa){var Ae=q([K.lon,K.lat]),Me=q.translate();q.translate([Me[0]-(Ae[0]-Me[0]),Me[1]-(Ae[1]-Me[1])])}},E.updateBaseLayers=function(C,O){var P=this,D=P.topojson,z=P.layers,V=P.basePaths;function F(q){return q==="lonaxis"||q==="lataxis"}function W(q){return!!x.lineLayers[q]}function B(q){return!!x.fillLayers[q]}var U=(this.hasChoropleth?x.layersForChoropleth:x.layers).filter(function(q){return W(q)||B(q)?O["show"+q]:!F(q)||O[q].showgrid}),H=P.framework.selectAll(".layer").data(U,String);H.exit().each(function(q){delete z[q],delete V[q],b.select(this).remove()}),H.enter().append("g").attr("class",function(q){return"layer "+q}).each(function(q){var ee=z[q]=b.select(this);q==="bg"?P.bgRect=ee.append("rect").style("pointer-events","all"):F(q)?V[q]=ee.append("path").style("fill","none"):q==="backplot"?ee.append("g").classed("choroplethlayer",!0):q==="frontplot"?ee.append("g").classed("scatterlayer",!0):W(q)?V[q]=ee.append("path").style("fill","none").style("stroke-miterlimit",2):B(q)&&(V[q]=ee.append("path").style("stroke","none"))}),H.order(),H.each(function(q){var ee=V[q],K=x.layerNameToAdjective[q];q==="frame"?ee.datum(x.sphereSVG):W(q)||B(q)?ee.datum(T(D,D.objects[q])):F(q)&&ee.datum(function(J,Z,$){var ne,ae,oe,se=Z[J],ce=x.scopeDefaults[Z.scope];J==="lonaxis"?(ne=ce.lonaxisRange,ae=ce.lataxisRange,oe=function(Me,ke){return[Me,ke]}):J==="lataxis"&&(ne=ce.lataxisRange,ae=ce.lonaxisRange,oe=function(Me,ke){return[ke,Me]});var me={type:"linear",range:[ne[0],ne[1]-1e-6],tick0:se.tick0,dtick:se.dtick};i.setConvert(me,$);var xe=i.calcTicks(me);Z.isScoped||J!=="lonaxis"||xe.pop();for(var ve=xe.length,fe=new Array(ve),pe=0;pe<ve;pe++)for(var Le=xe[pe].x,ye=fe[pe]=[],Ae=ae[0];Ae<ae[1]+2.5;Ae+=2.5)ye.push(oe(Le,Ae));return{type:"MultiLineString",coordinates:fe}}(q,O,C)).call(s.stroke,O[q].gridcolor).call(o.dashLine,O[q].griddash,O[q].gridwidth),W(q)?ee.call(s.stroke,O[K+"color"]).call(o.dashLine,"",O[K+"width"]):B(q)&&ee.call(s.fill,O[K+"color"])})},E.updateDims=function(C,O){var P=this.bounds,D=(O.framewidth||0)/2,z=P[0][0]-D,V=P[0][1]-D,F=P[1][0]-z+D,W=P[1][1]-V+D;o.setRect(this.clipRect,z,V,F,W),this.bgRect.call(o.setRect,z,V,F,W).call(s.fill,O.bgcolor),this.xaxis._offset=z,this.xaxis._length=F,this.yaxis._offset=V,this.yaxis._length=W},E.updateFx=function(C,O){var P=this,D=P.graphDiv,z=P.bgRect,V=C.dragmode,F=C.clickmode;if(!P.isStatic){var W={element:P.bgRect.node(),gd:D,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(U,H){H.isRect?(U.range={})[P.id]=[B([H.xmin,H.ymin]),B([H.xmax,H.ymax])]:(U.lassoPoints={})[P.id]=H.map(B)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(U){U===2&&_(D)}};V==="pan"?(z.node().onmousedown=null,z.call(d(P,O)),z.on("dblclick.zoom",function(){var U=P.viewInitial,H={};for(var q in U)H[P.id+"."+q]=U[q];f.call("_guiRelayout",D,H),D.emit("plotly_doubleclick",null)}),D._context._scrollZoom.geo||z.on("wheel.zoom",null)):V!=="select"&&V!=="lasso"||(z.on(".zoom",null),W.prepFn=function(U,H,q){h(U,H,q,W,V)},p.init(W)),z.on("mousemove",function(){var U=P.projection.invert(l.getPositionFromD3Event());if(!U)return p.unhover(D,b.event);P.xaxis.p2c=function(){return U[0]},P.yaxis.p2c=function(){return U[1]},n.hover(D,b.event,P.id)}),z.on("mouseout",function(){D._dragging||p.unhover(D,b.event)}),z.on("click",function(){V!=="select"&&V!=="lasso"&&(F.indexOf("select")>-1&&m(b.event,D,[P.xaxis],[P.yaxis],P.id,W),F.indexOf("event")>-1&&n.click(D,b.event))})}function B(U){return P.projection.invert([U[0]+P.xaxis._offset,U[1]+P.yaxis._offset])}},E.makeFramework=function(){var C=this,O=C.graphDiv,P=O._fullLayout,D="clip"+P._uid+C.id;C.clipDef=P._clips.append("clipPath").attr("id",D),C.clipRect=C.clipDef.append("rect"),C.framework=b.select(C.container).append("g").attr("class","geo "+C.id).call(o.setClipUrl,D,O),C.project=function(z){var V=C.projection(z);return V?[V[0]-C.xaxis._offset,V[1]-C.yaxis._offset]:[null,null]},C.xaxis={_id:"x",c2p:function(z){return C.project(z)[0]}},C.yaxis={_id:"y",c2p:function(z){return C.project(z)[1]}},C.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},i.setConvert(C.mockAxis,P)},E.saveViewInitial=function(C){var O,P=C.center||{},D=C.projection,z=D.rotation||{};this.viewInitial={fitbounds:C.fitbounds,"projection.scale":D.scale},O=C._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:C._isClipped?{"projection.rotation.lon":z.lon,"projection.rotation.lat":z.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":z.lon},l.extendFlat(this.viewInitial,O)},E.render=function(C){this._hasMarkerAngles&&C?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var C,O=this.projection,P=O.getPath();function D(V){var F=O(V.lonlat);return F?t(F[0],F[1]):null}function z(V){return O.isLonLatOverEdges(V.lonlat)?"none":null}for(C in this.basePaths)this.basePaths[C].attr("d",P);for(C in this.dataPaths)this.dataPaths[C].attr("d",function(V){return P(V.geojson)});for(C in this.dataPoints)this.dataPoints[C].attr("display",z).attr("transform",D)}},44622:function(L,M,e){"use strict";var b=e(27659).AU,w=e(71828).counterRegex,a=e(69082),k="geo",y=w(k),f={};f.geo={valType:"subplotid",dflt:k,editType:"calc"},L.exports={attr:k,name:k,idRoot:k,idRegex:y,attrRegex:y,attributes:f,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function(l){for(var t=l._fullLayout,s=l.calcdata,o=t._subplots.geo,n=0;n<o.length;n++){var r=o[n],i=b(s,k,r),u=t[r]._subplot;u||(u=a({id:r,graphDiv:l,container:t._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),t[r]._subplot=u),u.plot(i,t,l._promises)}},updateFx:function(l){for(var t=l._fullLayout,s=t._subplots.geo,o=0;o<s.length;o++){var n=t[s[o]];n._subplot.updateFx(t,n)}},clean:function(l,t,s,o){for(var n=o._subplots.geo||[],r=0;r<n.length;r++){var i=n[r],u=o[i]._subplot;!t[i]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},77519:function(L,M,e){"use strict";var b=e(22399),w=e(27670).Y,a=e(79952).P,k=e(78776),y=e(30962).overrideAll,f=e(78607),l={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:b.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(L.exports=y({domain:w({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:f(k.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:f(k.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:b.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:k.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:k.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:k.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:k.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:b.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:b.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:b.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:b.background},lonaxis:l,lataxis:l},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(L,M,e){"use strict";var b=e(71828),w=e(49119),a=e(27659).NG,k=e(78776),y=e(77519),f=k.axesNames;function l(t,s,o,n){var r=a(n.fullData,"geo",n.id).map(function(J){return J._expandedIndex}),i=o("resolution"),u=o("scope"),p=k.scopeDefaults[u],h=o("projection.type",p.projType),_=s._isAlbersUsa=h==="albers usa";_&&(u=s.scope="usa");var m=s._isScoped=u!=="world",d=s._isSatellite=h==="satellite",x=s._isConic=h.indexOf("conic")!==-1||h==="albers",g=s._isClipped=!!k.lonaxisSpan[h];if(t.visible===!1){var v=b.extendDeep({},s._template);v.showcoastlines=!1,v.showcountries=!1,v.showframe=!1,v.showlakes=!1,v.showland=!1,v.showocean=!1,v.showrivers=!1,v.showsubunits=!1,v.lonaxis&&(v.lonaxis.showgrid=!1),v.lataxis&&(v.lataxis.showgrid=!1),s._template=v}for(var T=o("visible"),c=0;c<f.length;c++){var E,A=f[c],C=[30,10][c];if(m)E=p[A+"Range"];else{var O=k[A+"Span"],P=(O[h]||O["*"])/2,D=o("projection.rotation."+A.substr(0,3),p.projRotate[c]);E=[D-P,D+P]}var z=o(A+".range",E);o(A+".tick0"),o(A+".dtick",C),o(A+".showgrid",!!T&&void 0)&&(o(A+".gridcolor"),o(A+".gridwidth"),o(A+".griddash")),s[A]._ax={type:"linear",_id:A.slice(0,3),_traceIndices:r,setScale:b.identity,c2l:b.identity,r2l:b.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var V=s.lonaxis.range,F=s.lataxis.range,W=V[0],B=V[1];W>0&&B<0&&(B+=360);var U,H,q,ee=(W+B)/2;if(!_){var K=m?p.projRotate:[ee,0,0];U=o("projection.rotation.lon",K[0]),o("projection.rotation.lat",K[1]),o("projection.rotation.roll",K[2]),o("showcoastlines",!m&&T)&&(o("coastlinecolor"),o("coastlinewidth")),o("showocean",!!T&&void 0)&&o("oceancolor")}_?(H=-96.6,q=38.7):(H=m?ee:U,q=(F[0]+F[1])/2),o("center.lon",H),o("center.lat",q),d&&(o("projection.tilt"),o("projection.distance")),x&&o("projection.parallels",p.projParallels||[0,60]),o("projection.scale"),o("showland",!!T&&void 0)&&o("landcolor"),o("showlakes",!!T&&void 0)&&o("lakecolor"),o("showrivers",!!T&&void 0)&&(o("rivercolor"),o("riverwidth")),o("showcountries",m&&u!=="usa"&&T)&&(o("countrycolor"),o("countrywidth")),(u==="usa"||u==="north america"&&i===50)&&(o("showsubunits",T),o("subunitcolor"),o("subunitwidth")),m||o("showframe",T)&&(o("framecolor"),o("framewidth")),o("bgcolor"),o("fitbounds")&&(delete s.projection.scale,m?(delete s.center.lon,delete s.center.lat):g?(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon,delete s.projection.rotation.lat,delete s.lonaxis.range,delete s.lataxis.range):(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon))}L.exports=function(t,s,o){w(t,s,o,{type:"geo",attributes:y,handleDefaults:l,fullData:o,partition:"y"})}},74455:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(73972),k=Math.PI/180,y=180/Math.PI,f={cursor:"pointer"},l={cursor:"auto"};function t(T,c){return b.behavior.zoom().translate(c.translate()).scale(c.scale())}function s(T,c,E){var A=T.id,C=T.graphDiv,O=C.layout,P=O[A],D=C._fullLayout,z=D[A],V={},F={};function W(B,U){V[A+"."+B]=w.nestedProperty(P,B).get(),a.call("_storeDirectGUIEdit",O,D._preGUI,V);var H=w.nestedProperty(z,B);H.get()!==U&&(H.set(U),w.nestedProperty(P,B).set(U),F[A+"."+B]=U)}E(W),W("projection.scale",c.scale()/T.fitScale),W("fitbounds",!1),C.emit("plotly_relayout",F)}function o(T,c){var E=t(0,c);function A(C){var O=c.invert(T.midPt);C("center.lon",O[0]),C("center.lat",O[1])}return E.on("zoomstart",function(){b.select(this).style(f)}).on("zoom",function(){c.scale(b.event.scale).translate(b.event.translate),T.render(!0);var C=c.invert(T.midPt);T.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":c.scale()/T.fitScale,"geo.center.lon":C[0],"geo.center.lat":C[1]})}).on("zoomend",function(){b.select(this).style(l),s(T,c,A)}),E}function n(T,c){var E,A,C,O,P,D,z,V,F,W=t(0,c);function B(H){return c.invert(H)}function U(H){var q=c.rotate(),ee=c.invert(T.midPt);H("projection.rotation.lon",-q[0]),H("center.lon",ee[0]),H("center.lat",ee[1])}return W.on("zoomstart",function(){b.select(this).style(f),E=b.mouse(this),A=c.rotate(),C=c.translate(),O=A,P=B(E)}).on("zoom",function(){if(D=b.mouse(this),function(ee){var K=B(ee);if(!K)return!0;var J=c(K);return Math.abs(J[0]-ee[0])>2||Math.abs(J[1]-ee[1])>2}(E))return W.scale(c.scale()),void W.translate(c.translate());c.scale(b.event.scale),c.translate([C[0],b.event.translate[1]]),P?B(D)&&(V=B(D),z=[O[0]+(V[0]-P[0]),A[1],A[2]],c.rotate(z),O=z):P=B(E=D),F=!0,T.render(!0);var H=c.rotate(),q=c.invert(T.midPt);T.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":c.scale()/T.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-H[0]})}).on("zoomend",function(){b.select(this).style(l),F&&s(T,c,U)}),W}function r(T,c){var E,A={r:c.rotate(),k:c.scale()},C=t(0,c),O=function(B){for(var U=0,H=arguments.length,q=[];++U<H;)q.push(arguments[U]);var ee=b.dispatch.apply(null,q);return ee.of=function(K,J){return function(Z){var $;try{$=Z.sourceEvent=b.event,Z.target=B,b.event=Z,ee[Z.type].apply(K,J)}finally{b.event=$}}},ee}(C,"zoomstart","zoom","zoomend"),P=0,D=C.on;function z(B){P++||B({type:"zoomstart"})}function V(B){B({type:"zoom"})}function F(B){--P||B({type:"zoomend"})}function W(B){var U=c.rotate();B("projection.rotation.lon",-U[0]),B("projection.rotation.lat",-U[1])}return C.on("zoomstart",function(){b.select(this).style(f);var B=b.mouse(this),U=c.rotate(),H=U,q=c.translate(),ee=u(U);E=i(c,B),D.call(C,"zoom",function(){var K=b.mouse(this);if(c.scale(A.k=b.event.scale),E){if(i(c,K)){c.rotate(U).translate(q);var J=i(c,K),Z=h(E,J),$=g(p(ee,Z)),ne=A.r=_($,E,H);isFinite(ne[0])&&isFinite(ne[1])&&isFinite(ne[2])||(ne=H),c.rotate(ne),H=ne}}else E=i(c,B=K);V(O.of(this,arguments))}),z(O.of(this,arguments))}).on("zoomend",function(){b.select(this).style(l),D.call(C,"zoom",null),F(O.of(this,arguments)),s(T,c,W)}).on("zoom.redraw",function(){T.render(!0);var B=c.rotate();T.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":c.scale()/T.fitScale,"geo.projection.rotation.lon":-B[0],"geo.projection.rotation.lat":-B[1]})}),b.rebind(C,O,"on")}function i(T,c){var E=T.invert(c);return E&&isFinite(E[0])&&isFinite(E[1])&&function(A){var C=A[0]*k,O=A[1]*k,P=Math.cos(O);return[P*Math.cos(C),P*Math.sin(C),Math.sin(O)]}(E)}function u(T){var c=.5*T[0]*k,E=.5*T[1]*k,A=.5*T[2]*k,C=Math.sin(c),O=Math.cos(c),P=Math.sin(E),D=Math.cos(E),z=Math.sin(A),V=Math.cos(A);return[O*D*V+C*P*z,C*D*V-O*P*z,O*P*V+C*D*z,O*D*z-C*P*V]}function p(T,c){var E=T[0],A=T[1],C=T[2],O=T[3],P=c[0],D=c[1],z=c[2],V=c[3];return[E*P-A*D-C*z-O*V,E*D+A*P+C*V-O*z,E*z-A*V+C*P+O*D,E*V+A*z-C*D+O*P]}function h(T,c){if(T&&c){var E=function(P,D){return[P[1]*D[2]-P[2]*D[1],P[2]*D[0]-P[0]*D[2],P[0]*D[1]-P[1]*D[0]]}(T,c),A=Math.sqrt(v(E,E)),C=.5*Math.acos(Math.max(-1,Math.min(1,v(T,c)))),O=Math.sin(C)/A;return A&&[Math.cos(C),E[2]*O,-E[1]*O,E[0]*O]}}function _(T,c,E){var A=x(c,2,T[0]);A=x(A,1,T[1]),A=x(A,0,T[2]-E[2]);var C,O,P=c[0],D=c[1],z=c[2],V=A[0],F=A[1],W=A[2],B=Math.atan2(D,P)*y,U=Math.sqrt(P*P+D*D);Math.abs(F)>U?(O=(F>0?90:-90)-B,C=0):(O=Math.asin(F/U)*y-B,C=Math.sqrt(U*U-F*F));var H=180-O-2*B,q=(Math.atan2(W,V)-Math.atan2(z,C))*y,ee=(Math.atan2(W,V)-Math.atan2(z,-C))*y;return m(E[0],E[1],O,q)<=m(E[0],E[1],H,ee)?[O,q,E[2]]:[H,ee,E[2]]}function m(T,c,E,A){var C=d(E-T),O=d(A-c);return Math.sqrt(C*C+O*O)}function d(T){return(T%360+540)%360-180}function x(T,c,E){var A=E*k,C=T.slice(),O=c===0?1:0,P=c===2?1:2,D=Math.cos(A),z=Math.sin(A);return C[O]=T[O]*D-T[P]*z,C[P]=T[P]*D+T[O]*z,C}function g(T){return[Math.atan2(2*(T[0]*T[1]+T[2]*T[3]),1-2*(T[1]*T[1]+T[2]*T[2]))*y,Math.asin(Math.max(-1,Math.min(1,2*(T[0]*T[2]-T[3]*T[1]))))*y,Math.atan2(2*(T[0]*T[3]+T[1]*T[2]),1-2*(T[2]*T[2]+T[3]*T[3]))*y]}function v(T,c){for(var E=0,A=0,C=T.length;A<C;++A)E+=T[A]*c[A];return E}L.exports=function(T,c){var E=T.projection;return(c._isScoped?o:c._isClipped?r:n)(T,E)}},27659:function(L,M,e){"use strict";var b=e(73972),w=e(85555).SUBPLOT_PATTERN;M.AU=function(a,k,y){var f=b.subplotsRegistry[k];if(!f)return[];for(var l=f.attr,t=[],s=0;s<a.length;s++){var o=a[s];o[0].trace[l]===y&&t.push(o)}return t},M.a0=function(a,k){var y,f=[],l=[];if(!(y=typeof k=="string"?b.getModule(k).plot:typeof k=="function"?k:k.plot))return[f,a];for(var t=0;t<a.length;t++){var s=a[t],o=s[0].trace;o.visible===!0&&o._length!==0&&(o._module.plot===y?f.push(s):l.push(s))}return[f,l]},M.NG=function(a,k,y){if(!b.subplotsRegistry[k])return[];var f,l,t,s=b.subplotsRegistry[k].attr,o=[];if(k==="gl2d"){var n=y.match(w);l="x"+n[1],t="y"+n[2]}for(var r=0;r<a.length;r++)f=a[r],k==="gl2d"&&b.traceIs(f,"gl2d")?f[s[0]]===l&&f[s[1]]===t&&o.push(f):f[s]===y&&o.push(f);return o}},75071:function(L,M,e){"use strict";var b=e(16825),w=e(1195),a=e(48956),k=e(85555),y=e(38520);function f(l,t){this.element=l,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}L.exports=function(l){var t=l.mouseContainer,s=l.glplot,o=new f(t,s);function n(){l.xaxis.autorange=!1,l.yaxis.autorange=!1}function r(i,u,p){var h,_,m=l.calcDataBox(),d=s.viewBox,x=o.lastPos[0],g=o.lastPos[1],v=k.MINDRAG*s.pixelRatio,T=k.MINZOOM*s.pixelRatio;function c(D,z,V){var F=Math.min(z,V),W=Math.max(z,V);F!==W?(m[D]=F,m[D+2]=W,o.dataBox=m,l.setRanges(m)):(l.selectBox.selectBox=[0,0,1,1],l.glplot.setDirty())}switch(u*=s.pixelRatio,p*=s.pixelRatio,p=d[3]-d[1]-p,l.fullLayout.dragmode){case"zoom":if(i){var E=u/(d[2]-d[0])*(m[2]-m[0])+m[0],A=p/(d[3]-d[1])*(m[3]-m[1])+m[1];o.boxInited||(o.boxStart[0]=E,o.boxStart[1]=A,o.dragStart[0]=u,o.dragStart[1]=p),o.boxEnd[0]=E,o.boxEnd[1]=A,o.boxInited=!0,o.boxEnabled||o.boxStart[0]===o.boxEnd[0]&&o.boxStart[1]===o.boxEnd[1]||(o.boxEnabled=!0);var C=Math.abs(o.dragStart[0]-u)<T,O=Math.abs(o.dragStart[1]-p)<T;if(!function(){for(var D=l.graphDiv._fullLayout._axisConstraintGroups,z=l.xaxis._id,V=l.yaxis._id,F=0;F<D.length;F++)if(D[F][z]!==-1){if(D[F][V]!==-1)return!0;break}return!1}()||C&&O)C&&(o.boxEnd[0]=o.boxStart[0]),O&&(o.boxEnd[1]=o.boxStart[1]);else{h=o.boxEnd[0]-o.boxStart[0],_=o.boxEnd[1]-o.boxStart[1];var P=(m[3]-m[1])/(m[2]-m[0]);Math.abs(h*P)>Math.abs(_)?(o.boxEnd[1]=o.boxStart[1]+Math.abs(h)*P*(_>=0?1:-1),o.boxEnd[1]<m[1]?(o.boxEnd[1]=m[1],o.boxEnd[0]=o.boxStart[0]+(m[1]-o.boxStart[1])/Math.abs(P)):o.boxEnd[1]>m[3]&&(o.boxEnd[1]=m[3],o.boxEnd[0]=o.boxStart[0]+(m[3]-o.boxStart[1])/Math.abs(P))):(o.boxEnd[0]=o.boxStart[0]+Math.abs(_)/P*(h>=0?1:-1),o.boxEnd[0]<m[0]?(o.boxEnd[0]=m[0],o.boxEnd[1]=o.boxStart[1]+(m[0]-o.boxStart[0])*Math.abs(P)):o.boxEnd[0]>m[2]&&(o.boxEnd[0]=m[2],o.boxEnd[1]=o.boxStart[1]+(m[2]-o.boxStart[0])*Math.abs(P)))}}else o.boxEnabled?(h=o.boxStart[0]!==o.boxEnd[0],_=o.boxStart[1]!==o.boxEnd[1],h||_?(h&&(c(0,o.boxStart[0],o.boxEnd[0]),l.xaxis.autorange=!1),_&&(c(1,o.boxStart[1],o.boxEnd[1]),l.yaxis.autorange=!1),l.relayoutCallback()):l.glplot.setDirty(),o.boxEnabled=!1,o.boxInited=!1):o.boxInited&&(o.boxInited=!1);break;case"pan":o.boxEnabled=!1,o.boxInited=!1,i?(o.panning||(o.dragStart[0]=u,o.dragStart[1]=p),Math.abs(o.dragStart[0]-u)<v&&(u=o.dragStart[0]),Math.abs(o.dragStart[1]-p)<v&&(p=o.dragStart[1]),h=(x-u)*(m[2]-m[0])/(s.viewBox[2]-s.viewBox[0]),_=(g-p)*(m[3]-m[1])/(s.viewBox[3]-s.viewBox[1]),m[0]+=h,m[2]+=h,m[1]+=_,m[3]+=_,l.setRanges(m),o.panning=!0,o.lastInputTime=Date.now(),n(),l.cameraChanged(),l.handleAnnotations()):o.panning&&(o.panning=!1,l.relayoutCallback())}o.lastPos[0]=u,o.lastPos[1]=p}return o.mouseListener=b(t,r),t.addEventListener("touchstart",function(i){var u=a(i.changedTouches[0],t);r(0,u[0],u[1]),r(1,u[0],u[1]),i.preventDefault()},!!y&&{passive:!1}),t.addEventListener("touchmove",function(i){i.preventDefault();var u=a(i.changedTouches[0],t);r(1,u[0],u[1]),i.preventDefault()},!!y&&{passive:!1}),t.addEventListener("touchend",function(i){r(0,o.lastPos[0],o.lastPos[1]),i.preventDefault()},!!y&&{passive:!1}),o.wheelListener=w(t,function(i,u){if(!l.scrollZoom)return!1;var p=l.calcDataBox(),h=s.viewBox,_=o.lastPos[0],m=o.lastPos[1],d=Math.exp(5*u/(h[3]-h[1])),x=_/(h[2]-h[0])*(p[2]-p[0])+p[0],g=m/(h[3]-h[1])*(p[3]-p[1])+p[1];return p[0]=(p[0]-x)*d+x,p[2]=(p[2]-x)*d+x,p[1]=(p[1]-g)*d+g,p[3]=(p[3]-g)*d+g,l.setRanges(p),o.lastInputTime=Date.now(),n(),l.cameraChanged(),l.handleAnnotations(),l.relayoutCallback(),!0},!0),o}},82961:function(L,M,e){"use strict";var b=e(89298),w=e(78614);function a(f){this.scene=f,this.gl=f.gl,this.pixelRatio=f.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var k=a.prototype,y=["xaxis","yaxis"];k.merge=function(f){var l,t,s,o,n,r,i,u,p,h,_;for(this.titleEnable=!1,this.backgroundColor=w(f.plot_bgcolor),h=0;h<2;++h){var m=(l=y[h]).charAt(0);for(s=(t=f[this.scene[l]._name]).title.text===this.scene.fullLayout._dfltTitle[m]?"":t.title.text,_=0;_<=2;_+=2)this.labelEnable[h+_]=!1,this.labels[h+_]=s,this.labelColor[h+_]=w(t.title.font.color),this.labelFont[h+_]=t.title.font.family,this.labelSize[h+_]=t.title.font.size,this.labelPad[h+_]=this.getLabelPad(l,t),this.tickEnable[h+_]=!1,this.tickColor[h+_]=w((t.tickfont||{}).color),this.tickAngle[h+_]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[h+_]=this.getTickPad(t),this.tickMarkLength[h+_]=0,this.tickMarkWidth[h+_]=t.tickwidth||0,this.tickMarkColor[h+_]=w(t.tickcolor),this.borderLineEnable[h+_]=!1,this.borderLineColor[h+_]=w(t.linecolor),this.borderLineWidth[h+_]=t.linewidth||0;i=this.hasSharedAxis(t),n=this.hasAxisInDfltPos(l,t)&&!i,r=this.hasAxisInAltrPos(l,t)&&!i,o=t.mirror||!1,u=i?String(o).indexOf("all")!==-1:!!o,p=i?o==="allticks":String(o).indexOf("ticks")!==-1,n?this.labelEnable[h]=!0:r&&(this.labelEnable[h+2]=!0),n?this.tickEnable[h]=t.showticklabels:r&&(this.tickEnable[h+2]=t.showticklabels),(n||u)&&(this.borderLineEnable[h]=t.showline),(r||u)&&(this.borderLineEnable[h+2]=t.showline),(n||p)&&(this.tickMarkLength[h]=this.getTickMarkLength(t)),(r||p)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(t)),this.gridLineEnable[h]=t.showgrid,this.gridLineColor[h]=w(t.gridcolor),this.gridLineWidth[h]=t.gridwidth,this.zeroLineEnable[h]=t.zeroline,this.zeroLineColor[h]=w(t.zerolinecolor),this.zeroLineWidth[h]=t.zerolinewidth}},k.hasSharedAxis=function(f){var l=this.scene,t=l.fullLayout._subplots.gl2d;return b.findSubplotsWithAxis(t,f).indexOf(l.id)!==0},k.hasAxisInDfltPos=function(f,l){var t=l.side;return f==="xaxis"?t==="bottom":f==="yaxis"?t==="left":void 0},k.hasAxisInAltrPos=function(f,l){var t=l.side;return f==="xaxis"?t==="top":f==="yaxis"?t==="right":void 0},k.getLabelPad=function(f,l){var t=1.5,s=l.title.font.size,o=l.showticklabels;return f==="xaxis"?l.side==="top"?s*(t+(o?1:0))-10:s*(t+(o?.5:0))-10:f==="yaxis"?l.side==="right"?10+s*(t+(o?1:.5)):10+s*(t+(o?.5:0)):void 0},k.getTickPad=function(f){return f.ticks==="outside"?10+f.ticklen:15},k.getTickMarkLength=function(f){if(!f.ticks)return 0;var l=f.ticklen;return f.ticks==="inside"?-l:l},L.exports=function(f){return new a(f)}},4796:function(L,M,e){"use strict";var b=e(30962).overrideAll,w=e(92918),a=e(10820),k=e(77922),y=e(85555),f=e(93612),l=e(528),t=e(27659).NG;M.name="gl2d",M.attr=["xaxis","yaxis"],M.idRoot=["x","y"],M.idRegex=y.idRegex,M.attrRegex=y.attrRegex,M.attributes=e(89502),M.supplyLayoutDefaults=function(s,o,n){o._has("cartesian")||f.supplyLayoutDefaults(s,o,n)},M.layoutAttrOverrides=b(f.layoutAttributes,"plot","from-root"),M.baseLayoutAttrOverrides=b({plot_bgcolor:a.plot_bgcolor,hoverlabel:l.hoverlabel},"plot","nested"),M.plot=function(s){for(var o=s._fullLayout,n=s._fullData,r=o._subplots.gl2d,i=0;i<r.length;i++){var u=r[i],p=o._plots[u],h=t(n,"gl2d",u),_=p._scene2d;_===void 0&&(_=new w({id:u,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},o),p._scene2d=_),_.plot(h,s.calcdata,o,s.layout)}},M.clean=function(s,o,n,r){for(var i=r._subplots.gl2d||[],u=0;u<i.length;u++){var p=i[u],h=r._plots[p];if(h._scene2d){var _=t(s,"gl2d",p);_.length===0&&(h._scene2d.destroy(),delete r._plots[p])}}f.clean.apply(this,arguments)},M.drawFramework=function(s){s._context.staticPlot||f.drawFramework(s)},M.toSVG=function(s){for(var o=s._fullLayout,n=o._subplots.gl2d,r=0;r<n.length;r++){var i=o._plots[n[r]]._scene2d,u=i.toImage("png");o._glimages.append("svg:image").attr({xmlns:k.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),i.destroy()}},M.updateFx=function(s){for(var o=s._fullLayout,n=o._subplots.gl2d,r=0;r<n.length;r++)o._plots[n[r]]._scene2d.updateFx(o.dragmode)}},92918:function(L,M,e){"use strict";var b,w,a=e(73972),k=e(89298),y=e(30211),f=e(9330).gl_plot2d,l=e(9330).gl_spikes2d,t=e(9330).gl_select_box,s=e(40372),o=e(82961),n=e(75071),r=e(58617),i=e(99082),u=i.enforce,p=i.clean,h=e(71739).doAutoRange,_=e(64505),m=_.drawMode,d=_.selectMode,x=["xaxis","yaxis"],g=e(85555).SUBPLOT_PATTERN;function v(c,E){this.container=c.container,this.graphDiv=c.graphDiv,this.pixelRatio=c.plotGlPixelRatio||window.devicePixelRatio,this.id=c.id,this.staticPlot=!!c.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(E),this.makeFramework(),this.stopped||(this.glplotOptions=o(this),this.glplotOptions.merge(E),this.glplot=f(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=l(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}L.exports=v;var T=v.prototype;T.makeFramework=function(){if(this.staticPlot){if(!(w||(b=document.createElement("canvas"),w=s({canvas:b,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=b,this.gl=w}else{var c=this.container.querySelector(".gl-canvas-focus"),E=s({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!E)return r(this),void(this.stopped=!0);this.canvas=c,this.gl=E}var A=this.canvas;A.style.width="100%",A.style.height="100%",A.style.position="absolute",A.style.top="0px",A.style.left="0px",A.style["pointer-events"]="none",this.updateSize(A);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var O=this.mouseContainer=document.createElement("div");O.style.position="absolute",O.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(C),P.appendChild(O);var D=this;O.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),O.addEventListener("mouseover",function(){D.isMouseOver=!0})},T.toImage=function(c){c||(c="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(b),this.updateSize(this.canvas);var E=this.glplot.gl,A=E.drawingBufferWidth,C=E.drawingBufferHeight;E.clearColor(1,1,1,0),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),E.bindFramebuffer(E.FRAMEBUFFER,null);var O=new Uint8Array(A*C*4);E.readPixels(0,0,A,C,E.RGBA,E.UNSIGNED_BYTE,O);for(var P=0,D=C-1;P<D;++P,--D)for(var z=0;z<A;++z)for(var V=0;V<4;++V){var F=O[4*(A*P+z)+V];O[4*(A*P+z)+V]=O[4*(A*D+z)+V],O[4*(A*D+z)+V]=F}var W=document.createElement("canvas");W.width=A,W.height=C;var B,U=W.getContext("2d",{willReadFrequently:!0}),H=U.createImageData(A,C);switch(H.data.set(O),U.putImageData(H,0,0),c){case"jpeg":B=W.toDataURL("image/jpeg");break;case"webp":B=W.toDataURL("image/webp");break;default:B=W.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(b),B},T.updateSize=function(c){c||(c=this.canvas);var E=this.pixelRatio,A=this.fullLayout,C=A.width,O=A.height,P=0|Math.ceil(E*C),D=0|Math.ceil(E*O);return c.width===P&&c.height===D||(c.width=P,c.height=D),c},T.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var c=[k.calcTicks(this.xaxis),k.calcTicks(this.yaxis)],E=0;E<2;++E)for(var A=0;A<c[E].length;++A)c[E][A].text=c[E][A].text+"";return c},T.updateRefs=function(c){this.fullLayout=c;var E=this.id.match(g),A="xaxis"+E[1],C="yaxis"+E[2];this.xaxis=this.fullLayout[A],this.yaxis=this.fullLayout[C]},T.relayoutCallback=function(){var c=this.graphDiv,E=this.xaxis,A=this.yaxis,C=c.layout,O={},P=O[E._name+".range"]=E.range.slice(),D=O[A._name+".range"]=A.range.slice();O[E._name+".autorange"]=E.autorange,O[A._name+".autorange"]=A.autorange,a.call("_storeDirectGUIEdit",c.layout,c._fullLayout._preGUI,O);var z=C[E._name];z.range=P,z.autorange=E.autorange;var V=C[A._name];V.range=D,V.autorange=A.autorange,O.lastInputTime=this.camera.lastInputTime,c.emit("plotly_relayout",O)},T.cameraChanged=function(){var c=this.camera;this.glplot.setDataBox(this.calcDataBox());var E=this.computeTickMarks();(function(A,C){for(var O=0;O<2;++O){var P=A[O],D=C[O];if(P.length!==D.length)return!0;for(var z=0;z<P.length;++z)if(P[z].x!==D[z].x)return!0}return!1})(E,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=E,this.glplotOptions.dataBox=c.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},T.handleAnnotations=function(){for(var c=this.graphDiv,E=this.fullLayout.annotations,A=0;A<E.length;A++){var C=E[A];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(c,A)}},T.destroy=function(){if(this.glplot){var c=this.traces;c&&Object.keys(c).map(function(E){c[E].dispose(),delete c[E]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},T.plot=function(c,E,A){var C=this.glplot;this.updateRefs(A),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(c,E),this.updateFx(A.dragmode);var O=A.width,P=A.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(A),D.screenBox=[0,0,O,P];var z={_fullLayout:{_axisConstraintGroups:A._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:A._size}};p(z,this.xaxis),p(z,this.yaxis);var V,F,W=A._size,B=this.xaxis.domain,U=this.yaxis.domain;for(D.viewBox=[W.l+B[0]*W.w,W.b+U[0]*W.h,O-W.r-(1-B[1])*W.w,P-W.t-(1-U[1])*W.h],this.mouseContainer.style.width=W.w*(B[1]-B[0])+"px",this.mouseContainer.style.height=W.h*(U[1]-U[0])+"px",this.mouseContainer.height=W.h*(U[1]-U[0]),this.mouseContainer.style.left=W.l+B[0]*W.w+"px",this.mouseContainer.style.top=W.t+(1-U[1])*W.h+"px",F=0;F<2;++F)(V=this[x[F]])._length=D.viewBox[F+2]-D.viewBox[F],h(this.graphDiv,V),V.setScale();u(z),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(A),C.update(D),this.glplot.draw()},T.calcDataBox=function(){var c=this.xaxis,E=this.yaxis,A=c.range,C=E.range,O=c.r2l,P=E.r2l;return[O(A[0]),P(C[0]),O(A[1]),P(C[1])]},T.setRanges=function(c){var E=this.xaxis,A=this.yaxis,C=E.l2r,O=A.l2r;E.range=[C(c[0]),C(c[2])],A.range=[O(c[1]),O(c[3])]},T.updateTraces=function(c,E){var A,C,O,P=Object.keys(this.traces);this.fullData=c;e:for(A=0;A<P.length;A++){var D=P[A],z=this.traces[D];for(C=0;C<c.length;C++)if((O=c[C]).uid===D&&O.type===z.type)continue e;z.dispose(),delete this.traces[D]}for(A=0;A<c.length;A++){O=c[A];var V=E[A],F=this.traces[O.uid];F?F.update(O,V):(F=O._module.plot(this,O,V),this.traces[O.uid]=F)}this.glplot.objects.sort(function(W,B){return W._trace.index-B._trace.index})},T.updateFx=function(c){d(c)||m(c)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=c==="pan"?"move":c==="zoom"?"crosshair":null},T.emitPointAction=function(c,E){for(var A,C=c.trace.uid,O=c.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===C&&(A=this.fullData[P]);var D={x:c.traceCoord[0],y:c.traceCoord[1],curveNumber:A.index,pointNumber:O,data:A._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};y.appendArrayPointValue(D,A,O),this.graphDiv.emit(E,{points:[D]})},T.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var c=this.glplot,E=this.camera,A=E.mouseListener,C=this.lastButtonState===1&&A.buttons===0,O=this.fullLayout;this.lastButtonState=A.buttons,this.cameraChanged();var P,D=A.x*c.pixelRatio,z=this.canvas.height-c.pixelRatio*A.y;if(E.boxEnabled&&O.dragmode==="zoom"){this.selectBox.enabled=!0;for(var V=this.selectBox.selectBox=[Math.min(E.boxStart[0],E.boxEnd[0]),Math.min(E.boxStart[1],E.boxEnd[1]),Math.max(E.boxStart[0],E.boxEnd[0]),Math.max(E.boxStart[1],E.boxEnd[1])],F=0;F<2;F++)E.boxStart[F]===E.boxEnd[F]&&(V[F]=c.dataBox[F],V[F+2]=c.dataBox[F+2]);c.setDirty()}else if(!E.panning&&this.isMouseOver){this.selectBox.enabled=!1;var W=O._size,B=this.xaxis.domain,U=this.yaxis.domain,H=(P=c.pick(D/c.pixelRatio+W.l+B[0]*W.w,z/c.pixelRatio-(W.t+(1-U[1])*W.h)))&&P.object._trace.handlePick(P);if(H&&C&&this.emitPointAction(H,"plotly_click"),P&&P.object._trace.hoverinfo!=="skip"&&O.hovermode&&H&&(!this.lastPickResult||this.lastPickResult.traceUid!==H.trace.uid||this.lastPickResult.dataCoord[0]!==H.dataCoord[0]||this.lastPickResult.dataCoord[1]!==H.dataCoord[1])){var q=H;this.lastPickResult={traceUid:H.trace?H.trace.uid:null,dataCoord:H.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),q.screenCoord=[((c.viewBox[2]-c.viewBox[0])*(P.dataCoord[0]-c.dataBox[0])/(c.dataBox[2]-c.dataBox[0])+c.viewBox[0])/c.pixelRatio,(this.canvas.height-(c.viewBox[3]-c.viewBox[1])*(P.dataCoord[1]-c.dataBox[1])/(c.dataBox[3]-c.dataBox[1])-c.viewBox[1])/c.pixelRatio],this.emitPointAction(H,"plotly_hover");var ee=this.fullData[q.trace.index]||{},K=q.pointIndex,J=y.castHoverinfo(ee,O,K);if(J&&J!=="all"){var Z=J.split("+");Z.indexOf("x")===-1&&(q.traceCoord[0]=void 0),Z.indexOf("y")===-1&&(q.traceCoord[1]=void 0),Z.indexOf("z")===-1&&(q.traceCoord[2]=void 0),Z.indexOf("text")===-1&&(q.textLabel=void 0),Z.indexOf("name")===-1&&(q.name=void 0)}y.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:y.castHoverOption(ee,K,"bgcolor")||q.color,borderColor:y.castHoverOption(ee,K,"bordercolor"),fontFamily:y.castHoverOption(ee,K,"font.family"),fontSize:y.castHoverOption(ee,K,"font.size"),fontColor:y.castHoverOption(ee,K,"font.color"),nameLength:y.castHoverOption(ee,K,"namelength"),textAlign:y.castHoverOption(ee,K,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),c.draw()}},T.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),y.loneUnhover(this.svgContainer))},T.hoverFormatter=function(c,E){if(E!==void 0){var A=this[c];return k.tickText(A,A.c2l(E),"hover").text}}},58547:function(L,M,e){"use strict";var b=e(30962).overrideAll,w=e(528),a=e(33539),k=e(27659).NG,y=e(71828),f=e(77922),l="gl3d",t="scene";M.name=l,M.attr=t,M.idRoot=t,M.idRegex=M.attrRegex=y.counterRegex("scene"),M.attributes=e(59084),M.layoutAttributes=e(65500),M.baseLayoutAttrOverrides=b({hoverlabel:w.hoverlabel},"plot","nested"),M.supplyLayoutDefaults=e(24682),M.plot=function(s){for(var o=s._fullLayout,n=s._fullData,r=o._subplots.gl3d,i=0;i<r.length;i++){var u=r[i],p=k(n,l,u),h=o[u],_=h.camera,m=h._scene;m||(m=new a({id:u,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:_},o),h._scene=m),m.viewInitial||(m.viewInitial={up:{x:_.up.x,y:_.up.y,z:_.up.z},eye:{x:_.eye.x,y:_.eye.y,z:_.eye.z},center:{x:_.center.x,y:_.center.y,z:_.center.z}}),m.plot(p,o,s.layout)}},M.clean=function(s,o,n,r){for(var i=r._subplots.gl3d||[],u=0;u<i.length;u++){var p=i[u];!o[p]&&r[p]._scene&&(r[p]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(".annotation-"+p).remove())}},M.toSVG=function(s){for(var o=s._fullLayout,n=o._subplots.gl3d,r=o._size,i=0;i<n.length;i++){var u=o[n[i]],p=u.domain,h=u._scene,_=h.toImage("png");o._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":_,x:r.l+r.w*p.x[0],y:r.t+r.h*(1-p.y[1]),width:r.w*(p.x[1]-p.x[0]),height:r.h*(p.y[1]-p.y[0]),preserveAspectRatio:"none"}),h.destroy()}},M.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var o=s.substr(5);return o==="1"&&(o=""),t+o}},M.updateFx=function(s){for(var o=s._fullLayout,n=o._subplots.gl3d,r=0;r<n.length;r++)o[n[r]]._scene.updateFx(o.dragmode,o.hovermode)}},59084:function(L){"use strict";L.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(L,M,e){"use strict";var b=e(7901),w=e(13838),a=e(1426).extendFlat,k=e(30962).overrideAll;L.exports=k({visible:w.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:b.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:w.color,categoryorder:w.categoryorder,categoryarray:w.categoryarray,title:{text:w.title.text,font:w.title.font},type:a({},w.type,{values:["-","linear","log","date","category"]}),autotypenumbers:w.autotypenumbers,autorange:w.autorange,rangemode:w.rangemode,range:a({},w.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:w.minor.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:w.ticks,mirror:w.mirror,ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,showticklabels:w.showticklabels,labelalias:w.labelalias,tickfont:w.tickfont,tickangle:w.tickangle,tickprefix:w.tickprefix,showtickprefix:w.showtickprefix,ticksuffix:w.ticksuffix,showticksuffix:w.showticksuffix,showexponent:w.showexponent,exponentformat:w.exponentformat,minexponent:w.minexponent,separatethousands:w.separatethousands,tickformat:w.tickformat,tickformatstops:w.tickformatstops,hoverformat:w.hoverformat,showline:w.showline,linecolor:w.linecolor,linewidth:w.linewidth,showgrid:w.showgrid,gridcolor:a({},w.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:w.gridwidth,zeroline:w.zeroline,zerolinecolor:w.zerolinecolor,zerolinewidth:w.zerolinewidth,_deprecated:{title:w._deprecated.title,titlefont:w._deprecated.titlefont}},"plot","from-root")},3277:function(L,M,e){"use strict";var b=e(84267).mix,w=e(71828),a=e(44467),k=e(77894),y=e(951),f=e(71453),l=["xaxis","yaxis","zaxis"];L.exports=function(t,s,o){var n,r;function i(h,_){return w.coerce(n,r,k,h,_)}for(var u=0;u<l.length;u++){var p=l[u];n=t[p]||{},(r=a.newContainer(s,p))._id=p[0]+o.scene,r._name=p,y(n,r,i,o),f(n,r,i,{font:o.font,letter:p[0],data:o.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:o.bgColor,calendar:o.calendar},o.fullLayout),i("gridcolor",b(r.color,o.bgColor,72.72727272727273).toRgbString()),i("title.text",p[0]),r.setScale=w.noop,i("showspikes")&&(i("spikesides"),i("spikethickness"),i("spikecolor",r.color)),i("showaxeslabels"),i("showbackground")&&i("backgroundcolor")}}},30422:function(L,M,e){"use strict";var b=e(78614),w=e(71828),a=["xaxis","yaxis","zaxis"];function k(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}k.prototype.merge=function(y,f){for(var l=this,t=0;t<3;++t){var s=f[a[t]];s.visible?(l.labels[t]=y._meta?w.templateString(s.title.text,y._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(l.labelColor[t]=b(s.title.font.color)),s.title.font.family&&(l.labelFont[t]=s.title.font.family),s.title.font.size&&(l.labelSize[t]=s.title.font.size)),"showline"in s&&(l.lineEnable[t]=s.showline),"linecolor"in s&&(l.lineColor[t]=b(s.linecolor)),"linewidth"in s&&(l.lineWidth[t]=s.linewidth),"showgrid"in s&&(l.gridEnable[t]=s.showgrid),"gridcolor"in s&&(l.gridColor[t]=b(s.gridcolor)),"gridwidth"in s&&(l.gridWidth[t]=s.gridwidth),s.type==="log"?l.zeroEnable[t]=!1:"zeroline"in s&&(l.zeroEnable[t]=s.zeroline),"zerolinecolor"in s&&(l.zeroLineColor[t]=b(s.zerolinecolor)),"zerolinewidth"in s&&(l.zeroLineWidth[t]=s.zerolinewidth),"ticks"in s&&s.ticks?l.lineTickEnable[t]=!0:l.lineTickEnable[t]=!1,"ticklen"in s&&(l.lineTickLength[t]=l._defaultLineTickLength[t]=s.ticklen),"tickcolor"in s&&(l.lineTickColor[t]=b(s.tickcolor)),"tickwidth"in s&&(l.lineTickWidth[t]=s.tickwidth),"tickangle"in s&&(l.tickAngle[t]=s.tickangle==="auto"?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(l.tickEnable[t]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(l.tickColor[t]=b(s.tickfont.color)),s.tickfont.family&&(l.tickFont[t]=s.tickfont.family),s.tickfont.size&&(l.tickSize[t]=s.tickfont.size)),"mirror"in s?["ticks","all","allticks"].indexOf(s.mirror)!==-1?(l.lineTickMirror[t]=!0,l.lineMirror[t]=!0):s.mirror===!0?(l.lineTickMirror[t]=!1,l.lineMirror[t]=!0):(l.lineTickMirror[t]=!1,l.lineMirror[t]=!1):l.lineMirror[t]=!1,"showbackground"in s&&s.showbackground!==!1?(l.backgroundEnable[t]=!0,l.backgroundColor[t]=b(s.backgroundcolor)):l.backgroundEnable[t]=!1):(l.tickEnable[t]=!1,l.labelEnable[t]=!1,l.lineEnable[t]=!1,l.lineTickEnable[t]=!1,l.gridEnable[t]=!1,l.zeroEnable[t]=!1,l.backgroundEnable[t]=!1)}},L.exports=function(y,f){var l=new k;return l.merge(y,f),l}},24682:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(73972),k=e(49119),y=e(3277),f=e(65500),l=e(27659).NG,t="gl3d";function s(o,n,r,i){for(var u=r("bgcolor"),p=w.combine(u,i.paper_bgcolor),h=["up","center","eye"],_=0;_<h.length;_++)r("camera."+h[_]+".x"),r("camera."+h[_]+".y"),r("camera."+h[_]+".z");r("camera.projection.type");var m=!!r("aspectratio.x")&&!!r("aspectratio.y")&&!!r("aspectratio.z"),d=r("aspectmode",m?"manual":"auto");m||(o.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),o.aspectmode=n.aspectmode);var x=l(i.fullData,t,i.id);y(o,n,{font:i.font,scene:i.id,data:x,bgColor:p,calendar:i.calendar,autotypenumbersDflt:i.autotypenumbersDflt,fullLayout:i.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(o,n,i);var g=i.getDfltFromLayout("dragmode");if(g!==!1&&!g)if(g="orbit",o.camera&&o.camera.up){var v=o.camera.up.x,T=o.camera.up.y,c=o.camera.up.z;c!==0&&(v&&T&&c?c/Math.sqrt(v*v+T*T+c*c)>.999&&(g="turntable"):g="turntable")}else g="turntable";r("dragmode",g),r("hovermode",i.getDfltFromLayout("hovermode"))}L.exports=function(o,n,r){var i=n._basePlotModules.length>1;k(o,n,r,{type:t,attributes:f,handleDefaults:s,fullLayout:n,font:n.font,fullData:r,getDfltFromLayout:function(u){if(!i)return b.validate(o[u],f[u])?o[u]:void 0},autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})}},65500:function(L,M,e){"use strict";var b=e(77894),w=e(27670).Y,a=e(1426).extendFlat,k=e(71828).counterRegex;function y(f,l,t){return{x:{valType:"number",dflt:f,editType:"camera"},y:{valType:"number",dflt:l,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}L.exports={_arrayAttrRegexps:[k("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(y(0,0,1),{}),center:a(y(0,0,0),{}),eye:a(y(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:w({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:b,yaxis:b,zaxis:b,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(L,M,e){"use strict";var b=e(78614),w=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(k){for(var y=0;y<3;++y){var f=k[w[y]];f.visible?(this.enabled[y]=f.showspikes,this.colors[y]=b(f.spikecolor),this.drawSides[y]=f.spikesides,this.lineWidth[y]=f.spikethickness):(this.enabled[y]=!1,this.drawSides[y]=!1)}},L.exports=function(k){var y=new a;return y.merge(k),y}},96085:function(L,M,e){"use strict";L.exports=function(y){for(var f=y.axesOptions,l=y.glplot.axesPixels,t=y.fullSceneLayout,s=[[],[],[]],o=0;o<3;++o){var n=t[a[o]];if(n._length=(l[o].hi-l[o].lo)*l[o].pixelsPerDataUnit/y.dataScale[o],Math.abs(n._length)===1/0||isNaN(n._length))s[o]=[];else{n._input_range=n.range.slice(),n.range[0]=l[o].lo/y.dataScale[o],n.range[1]=l[o].hi/y.dataScale[o],n._m=1/(y.dataScale[o]*l[o].pixelsPerDataUnit),n.range[0]===n.range[1]&&(n.range[0]-=1,n.range[1]+=1);var r=n.tickmode;if(n.tickmode==="auto"){n.tickmode="linear";var i=n.nticks||w.constrain(n._length/40,4,9);b.autoTicks(n,Math.abs(n.range[1]-n.range[0])/i)}for(var u=b.calcTicks(n,{msUTC:!0}),p=0;p<u.length;++p)u[p].x=u[p].x*y.dataScale[o],n.type==="date"&&(u[p].text=u[p].text.replace(/\<br\>/g," "));s[o]=u,n.tickmode=r}}for(f.ticks=s,o=0;o<3;++o)for(k[o]=.5*(y.glplot.bounds[0][o]+y.glplot.bounds[1][o]),p=0;p<2;++p)f.bounds[p][o]=y.glplot.bounds[p][o];y.contourLevels=function(h){for(var _=new Array(3),m=0;m<3;++m){for(var d=h[m],x=new Array(d.length),g=0;g<d.length;++g)x[g]=d[g].x;_[m]=x}return _}(s)};var b=e(89298),w=e(71828),a=["xaxis","yaxis","zaxis"],k=[0,0,0]},63538:function(L){"use strict";function M(e,b){var w,a,k=[0,0,0,0];for(w=0;w<4;++w)for(a=0;a<4;++a)k[a]+=e[4*w+a]*b[w];return k}L.exports=function(e,b){return M(e.projection,M(e.view,M(e.model,[b[0],b[1],b[2],1])))}},33539:function(L,M,e){"use strict";var b,w,a=e(9330).gl_plot3d,k=a.createCamera,y=a.createScene,f=e(40372),l=e(38520),t=e(73972),s=e(71828),o=s.preserveDrawingBuffer(),n=e(89298),r=e(30211),i=e(78614),u=e(58617),p=e(63538),h=e(30422),_=e(13133),m=e(96085);function d(c,E){var A=document.createElement("div"),C=c.container;this.graphDiv=c.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",A.appendChild(O),this.svgContainer=O,A.id=c.id,A.style.position="absolute",A.style.top=A.style.left="0px",A.style.width=A.style.height="100%",C.appendChild(A),this.fullLayout=E,this.id=c.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=h(E,E[this.id]),this.spikeOptions=_(E[this.id]),this.container=A,this.staticMode=!!c.staticPlot,this.pixelRatio=this.pixelRatio||c.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var x=d.prototype;x.prepareOptions=function(){var c=this,E={canvas:c.canvas,gl:c.gl,glOptions:{preserveDrawingBuffer:o,premultipliedAlpha:!0,antialias:!0},container:c.container,axes:c.axesOptions,spikes:c.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:c.camera,pixelRatio:c.pixelRatio};if(c.staticMode){if(!(w||(b=document.createElement("canvas"),w=f({canvas:b,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=w,E.canvas=b}return E};var g=!0;x.tryCreatePlot=function(){var c=this,E=c.prepareOptions(),A=!0;try{c.glplot=y(E)}catch{if(c.staticMode||!g||o)A=!1;else{s.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{o=E.glOptions.preserveDrawingBuffer=!0,c.glplot=y(E)}catch{o=E.glOptions.preserveDrawingBuffer=!1,A=!1}}}return g=!1,A},x.initializeGLCamera=function(){var c=this,E=c.fullSceneLayout.camera,A=E.projection.type==="orthographic";c.camera=k(c.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:A,zoomMin:.01,zoomMax:100,mode:"orbit"})},x.initializeGLPlot=function(){var c=this;if(c.initializeGLCamera(),!c.tryCreatePlot())return u(c);c.traces={},c.make4thDimension();var E=c.graphDiv,A=E.layout,C=function(){var P={};return c.isCameraChanged(A)&&(P[c.id+".camera"]=c.getCamera()),c.isAspectChanged(A)&&(P[c.id+".aspectratio"]=c.glplot.getAspectratio(),A[c.id].aspectmode!=="manual"&&(c.fullSceneLayout.aspectmode=A[c.id].aspectmode=P[c.id+".aspectmode"]="manual")),P},O=function(P){if(P.fullSceneLayout.dragmode!==!1){var D=C();P.saveLayout(A),P.graphDiv.emit("plotly_relayout",D)}};return c.glplot.canvas&&(c.glplot.canvas.addEventListener("mouseup",function(){O(c)}),c.glplot.canvas.addEventListener("wheel",function(P){if(E._context._scrollZoom.gl3d){if(c.camera._ortho){var D=P.deltaX>P.deltaY?1.1:.9090909090909091,z=c.glplot.getAspectratio();c.glplot.setAspectratio({x:D*z.x,y:D*z.y,z:D*z.z})}O(c)}},!!l&&{passive:!1}),c.glplot.canvas.addEventListener("mousemove",function(){if(c.fullSceneLayout.dragmode!==!1&&c.camera.mouseListener.buttons!==0){var P=C();c.graphDiv.emit("plotly_relayouting",P)}}),c.staticMode||c.glplot.canvas.addEventListener("webglcontextlost",function(P){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:P,layer:c.id})},!1)),c.glplot.oncontextloss=function(){c.recoverContext()},c.glplot.onrender=function(){c.render()},!0},x.render=function(){var c,E=this,A=E.graphDiv,C=E.svgContainer,O=E.container.getBoundingClientRect();A._fullLayout._calcInverseTransform(A);var P=A._fullLayout._invScaleX,D=A._fullLayout._invScaleY,z=O.width*P,V=O.height*D;C.setAttributeNS(null,"viewBox","0 0 "+z+" "+V),C.setAttributeNS(null,"width",z),C.setAttributeNS(null,"height",V),m(E),E.glplot.axes.update(E.axesOptions);for(var F=Object.keys(E.traces),W=null,B=E.glplot.selection,U=0;U<F.length;++U)(c=E.traces[F[U]]).data.hoverinfo!=="skip"&&c.handlePick(B)&&(W=c),c.setContourLevels&&c.setContourLevels();function H(xe,ve,fe){var pe=E.fullSceneLayout[xe+"axis"];return pe.type!=="log"&&(ve=pe.d2l(ve)),n.hoverLabelText(pe,ve,fe)}if(W!==null){var q=p(E.glplot.cameraParams,B.dataCoordinate);c=W.data;var ee,K=A._fullData[c.index],J=B.index,Z={xLabel:H("x",B.traceCoordinate[0],c.xhoverformat),yLabel:H("y",B.traceCoordinate[1],c.yhoverformat),zLabel:H("z",B.traceCoordinate[2],c.zhoverformat)},$=r.castHoverinfo(K,E.fullLayout,J),ne=($||"").split("+"),ae=$&&$==="all";K.hovertemplate||ae||(ne.indexOf("x")===-1&&(Z.xLabel=void 0),ne.indexOf("y")===-1&&(Z.yLabel=void 0),ne.indexOf("z")===-1&&(Z.zLabel=void 0),ne.indexOf("text")===-1&&(B.textLabel=void 0),ne.indexOf("name")===-1&&(W.name=void 0));var oe=[];c.type==="cone"||c.type==="streamtube"?(Z.uLabel=H("x",B.traceCoordinate[3],c.uhoverformat),(ae||ne.indexOf("u")!==-1)&&oe.push("u: "+Z.uLabel),Z.vLabel=H("y",B.traceCoordinate[4],c.vhoverformat),(ae||ne.indexOf("v")!==-1)&&oe.push("v: "+Z.vLabel),Z.wLabel=H("z",B.traceCoordinate[5],c.whoverformat),(ae||ne.indexOf("w")!==-1)&&oe.push("w: "+Z.wLabel),Z.normLabel=B.traceCoordinate[6].toPrecision(3),(ae||ne.indexOf("norm")!==-1)&&oe.push("norm: "+Z.normLabel),c.type==="streamtube"&&(Z.divergenceLabel=B.traceCoordinate[7].toPrecision(3),(ae||ne.indexOf("divergence")!==-1)&&oe.push("divergence: "+Z.divergenceLabel)),B.textLabel&&oe.push(B.textLabel),ee=oe.join("<br>")):c.type==="isosurface"||c.type==="volume"?(Z.valueLabel=n.hoverLabelText(E._mockAxis,E._mockAxis.d2l(B.traceCoordinate[3]),c.valuehoverformat),oe.push("value: "+Z.valueLabel),B.textLabel&&oe.push(B.textLabel),ee=oe.join("<br>")):ee=B.textLabel;var se={x:B.traceCoordinate[0],y:B.traceCoordinate[1],z:B.traceCoordinate[2],data:K._input,fullData:K,curveNumber:K.index,pointNumber:J};r.appendArrayPointValue(se,K,J),c._module.eventData&&(se=K._module.eventData(se,B,K,{},J));var ce={points:[se]};if(E.fullSceneLayout.hovermode){var me=[];r.loneHover({trace:K,x:(.5+.5*q[0]/q[3])*z,y:(.5-.5*q[1]/q[3])*V,xLabel:Z.xLabel,yLabel:Z.yLabel,zLabel:Z.zLabel,text:ee,name:W.name,color:r.castHoverOption(K,J,"bgcolor")||W.color,borderColor:r.castHoverOption(K,J,"bordercolor"),fontFamily:r.castHoverOption(K,J,"font.family"),fontSize:r.castHoverOption(K,J,"font.size"),fontColor:r.castHoverOption(K,J,"font.color"),nameLength:r.castHoverOption(K,J,"namelength"),textAlign:r.castHoverOption(K,J,"align"),hovertemplate:s.castOption(K,J,"hovertemplate"),hovertemplateLabels:s.extendFlat({},se,Z),eventData:[se]},{container:C,gd:A,inOut_bbox:me}),se.bbox=me[0]}B.buttons&&B.distance<5?A.emit("plotly_click",ce):A.emit("plotly_hover",ce),this.oldEventData=ce}else r.loneUnhover(C),this.oldEventData&&A.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},x.recoverContext=function(){var c=this;c.glplot.dispose();var E=function(){c.glplot.gl.isContextLost()?requestAnimationFrame(E):c.initializeGLPlot()?c.plot.apply(c,c.plotArgs):s.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var v=["xaxis","yaxis","zaxis"];function T(c,E,A){for(var C=c.fullSceneLayout,O=0;O<3;O++){var P=v[O],D=P.charAt(0),z=C[P],V=E[D],F=E[D+"calendar"],W=E["_"+D+"length"];if(s.isArrayOrTypedArray(V))for(var B,U=0;U<(W||V.length);U++)if(s.isArrayOrTypedArray(V[U]))for(var H=0;H<V[U].length;++H)B=z.d2l(V[U][H],0,F),!isNaN(B)&&isFinite(B)&&(A[0][O]=Math.min(A[0][O],B),A[1][O]=Math.max(A[1][O],B));else B=z.d2l(V[U],0,F),!isNaN(B)&&isFinite(B)&&(A[0][O]=Math.min(A[0][O],B),A[1][O]=Math.max(A[1][O],B));else A[0][O]=Math.min(A[0][O],0),A[1][O]=Math.max(A[1][O],W-1)}}x.plot=function(c,E,A){var C=this;if(C.plotArgs=[c,E,A],!C.glplot.contextLost){var O,P,D,z,V,F,W=E[C.id],B=A[C.id];C.fullLayout=E,C.fullSceneLayout=W,C.axesOptions.merge(E,W),C.spikeOptions.merge(W),C.setViewport(W),C.updateFx(W.dragmode,W.hovermode),C.camera.enableWheel=C.graphDiv._context._scrollZoom.gl3d,C.glplot.setClearColor(i(W.bgcolor)),C.setConvert(V),c?Array.isArray(c)||(c=[c]):c=[];var U=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(D=0;D<c.length;++D)(O=c[D]).visible===!0&&O._length!==0&&T(this,O,U);(function(ge,we){for(var Ee=ge.fullSceneLayout,Be=Ee.annotations||[],Re=0;Re<3;Re++)for(var je=v[Re],he=je.charAt(0),_e=Ee[je],Te=0;Te<Be.length;Te++){var Fe=Be[Te];if(Fe.visible){var Ye=_e.r2l(Fe[he]);!isNaN(Ye)&&isFinite(Ye)&&(we[0][Re]=Math.min(we[0][Re],Ye),we[1][Re]=Math.max(we[1][Re],Ye))}}})(this,U);var H=[1,1,1];for(z=0;z<3;++z)U[1][z]===U[0][z]?H[z]=1:H[z]=1/(U[1][z]-U[0][z]);for(C.dataScale=H,C.convertAnnotations(this),D=0;D<c.length;++D)(O=c[D]).visible===!0&&O._length!==0&&((P=C.traces[O.uid])?P.data.type===O.type?P.update(O):(P.dispose(),P=O._module.plot(this,O),C.traces[O.uid]=P):(P=O._module.plot(this,O),C.traces[O.uid]=P),P.name=O.name);var q=Object.keys(C.traces);e:for(D=0;D<q.length;++D){for(z=0;z<c.length;++z)if(c[z].uid===q[D]&&c[z].visible===!0&&c[z]._length!==0)continue e;(P=C.traces[q[D]]).dispose(),delete C.traces[q[D]]}C.glplot.objects.sort(function(ge,we){return ge._trace.data.index-we._trace.data.index});var ee,K=[[0,0,0],[0,0,0]],J=[],Z={};for(D=0;D<3;++D){if((F=(V=W[v[D]]).type)in Z?(Z[F].acc*=H[D],Z[F].count+=1):Z[F]={acc:H[D],count:1},V.autorange){K[0][D]=1/0,K[1][D]=-1/0;var $=C.glplot.objects,ne=C.fullSceneLayout.annotations||[],ae=V._name.charAt(0);for(z=0;z<$.length;z++){var oe=$[z],se=oe.bounds,ce=oe._trace.data._pad||0;oe.constructor.name==="ErrorBars"&&V._lowerLogErrorBound?K[0][D]=Math.min(K[0][D],V._lowerLogErrorBound):K[0][D]=Math.min(K[0][D],se[0][D]/H[D]-ce),K[1][D]=Math.max(K[1][D],se[1][D]/H[D]+ce)}for(z=0;z<ne.length;z++){var me=ne[z];if(me.visible){var xe=V.r2l(me[ae]);K[0][D]=Math.min(K[0][D],xe),K[1][D]=Math.max(K[1][D],xe)}}if("rangemode"in V&&V.rangemode==="tozero"&&(K[0][D]=Math.min(K[0][D],0),K[1][D]=Math.max(K[1][D],0)),K[0][D]>K[1][D])K[0][D]=-1,K[1][D]=1;else{var ve=K[1][D]-K[0][D];K[0][D]-=ve/32,K[1][D]+=ve/32}if(V.autorange==="reversed"){var fe=K[0][D];K[0][D]=K[1][D],K[1][D]=fe}}else{var pe=V.range;K[0][D]=V.r2l(pe[0]),K[1][D]=V.r2l(pe[1])}K[0][D]===K[1][D]&&(K[0][D]-=1,K[1][D]+=1),J[D]=K[1][D]-K[0][D],C.glplot.setBounds(D,{min:K[0][D]*H[D],max:K[1][D]*H[D]})}var Le=W.aspectmode;if(Le==="cube")ee=[1,1,1];else if(Le==="manual"){var ye=W.aspectratio;ee=[ye.x,ye.y,ye.z]}else{if(Le!=="auto"&&Le!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var Ae=[1,1,1];for(D=0;D<3;++D){var Me=Z[F=(V=W[v[D]]).type];Ae[D]=Math.pow(Me.acc,1/Me.count)/H[D]}ee=Le==="data"||Math.max.apply(null,Ae)/Math.min.apply(null,Ae)<=4?Ae:[1,1,1]}W.aspectratio.x=B.aspectratio.x=ee[0],W.aspectratio.y=B.aspectratio.y=ee[1],W.aspectratio.z=B.aspectratio.z=ee[2],C.glplot.setAspectratio(W.aspectratio),C.viewInitial.aspectratio||(C.viewInitial.aspectratio={x:W.aspectratio.x,y:W.aspectratio.y,z:W.aspectratio.z}),C.viewInitial.aspectmode||(C.viewInitial.aspectmode=W.aspectmode);var ke=W.domain||null,te=E._size||null;if(ke&&te){var ue=C.container.style;ue.position="absolute",ue.left=te.l+ke.x[0]*te.w+"px",ue.top=te.t+(1-ke.y[1])*te.h+"px",ue.width=te.w*(ke.x[1]-ke.x[0])+"px",ue.height=te.h*(ke.y[1]-ke.y[0])+"px"}C.glplot.redraw()}},x.destroy=function(){var c=this;c.glplot&&(c.camera.mouseListener.enabled=!1,c.container.removeEventListener("wheel",c.camera.wheelListener),c.camera=null,c.glplot.dispose(),c.container.parentNode.removeChild(c.container),c.glplot=null)},x.getCamera=function(){var c,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(c=E.camera).up[0],y:c.up[1],z:c.up[2]},center:{x:c.center[0],y:c.center[1],z:c.center[2]},eye:{x:c.eye[0],y:c.eye[1],z:c.eye[2]},projection:{type:c._ortho===!0?"orthographic":"perspective"}}},x.setViewport=function(c){var E,A=this,C=c.camera;A.camera.lookAt.apply(this,[[(E=C).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),A.glplot.setAspectratio(c.aspectratio),C.projection.type==="orthographic"!==A.camera._ortho&&(A.glplot.redraw(),A.glplot.clearRGBA(),A.glplot.dispose(),A.initializeGLPlot())},x.isCameraChanged=function(c){var E=this.getCamera(),A=s.nestedProperty(c,this.id+".camera").get();function C(z,V,F,W){var B=["up","center","eye"],U=["x","y","z"];return V[B[F]]&&z[B[F]][U[W]]===V[B[F]][U[W]]}var O=!1;if(A===void 0)O=!0;else{for(var P=0;P<3;P++)for(var D=0;D<3;D++)if(!C(E,A,P,D)){O=!0;break}(!A.projection||E.projection&&E.projection.type!==A.projection.type)&&(O=!0)}return O},x.isAspectChanged=function(c){var E=this.glplot.getAspectratio(),A=s.nestedProperty(c,this.id+".aspectratio").get();return A===void 0||A.x!==E.x||A.y!==E.y||A.z!==E.z},x.saveLayout=function(c){var E,A,C,O,P,D,z=this,V=z.fullLayout,F=z.isCameraChanged(c),W=z.isAspectChanged(c),B=F||W;if(B){var U={};F&&(E=z.getCamera(),C=(A=s.nestedProperty(c,z.id+".camera")).get(),U[z.id+".camera"]=C),W&&(O=z.glplot.getAspectratio(),D=(P=s.nestedProperty(c,z.id+".aspectratio")).get(),U[z.id+".aspectratio"]=D),t.call("_storeDirectGUIEdit",c,V._preGUI,U),F&&(A.set(E),s.nestedProperty(V,z.id+".camera").set(E)),W&&(P.set(O),s.nestedProperty(V,z.id+".aspectratio").set(O),z.glplot.redraw())}return B},x.updateFx=function(c,E){var A=this,C=A.camera;if(C)if(c==="orbit")C.mode="orbit",C.keyBindingMode="rotate";else if(c==="turntable"){C.up=[0,0,1],C.mode="turntable",C.keyBindingMode="rotate";var O=A.graphDiv,P=O._fullLayout,D=A.fullSceneLayout.camera,z=D.up.x,V=D.up.y,F=D.up.z;if(F/Math.sqrt(z*z+V*V+F*F)<.999){var W=A.id+".camera.up",B={x:0,y:0,z:1},U={};U[W]=B;var H=O.layout;t.call("_storeDirectGUIEdit",H,P._preGUI,U),D.up=B,s.nestedProperty(H,W).set(B)}}else C.keyBindingMode=c;A.fullSceneLayout.hovermode=E},x.toImage=function(c){var E=this;c||(c="png"),E.staticMode&&E.container.appendChild(b),E.glplot.redraw();var A=E.glplot.gl,C=A.drawingBufferWidth,O=A.drawingBufferHeight;A.bindFramebuffer(A.FRAMEBUFFER,null);var P=new Uint8Array(C*O*4);A.readPixels(0,0,C,O,A.RGBA,A.UNSIGNED_BYTE,P),function(W,B,U){for(var H=0,q=U-1;H<q;++H,--q)for(var ee=0;ee<B;++ee)for(var K=0;K<4;++K){var J=4*(B*H+ee)+K,Z=4*(B*q+ee)+K,$=W[J];W[J]=W[Z],W[Z]=$}}(P,C,O),function(W,B,U){for(var H=0;H<U;++H)for(var q=0;q<B;++q){var ee=4*(B*H+q),K=W[ee+3];if(K>0)for(var J=255/K,Z=0;Z<3;++Z)W[ee+Z]=Math.min(J*W[ee+Z],255)}}(P,C,O);var D=document.createElement("canvas");D.width=C,D.height=O;var z,V=D.getContext("2d",{willReadFrequently:!0}),F=V.createImageData(C,O);switch(F.data.set(P),V.putImageData(F,0,0),c){case"jpeg":z=D.toDataURL("image/jpeg");break;case"webp":z=D.toDataURL("image/webp");break;default:z=D.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(b),z},x.setConvert=function(){for(var c=0;c<3;c++){var E=this.fullSceneLayout[v[c]];n.setConvert(E,this.fullLayout),E.setScale=s.noop}},x.make4thDimension=function(){var c=this,E=c.graphDiv._fullLayout;c._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(c._mockAxis,E)},L.exports=d},90060:function(L){"use strict";L.exports=function(M,e,b,w){w=w||M.length;for(var a=new Array(w),k=0;k<w;k++)a[k]=[M[k],e[k],b[k]];return a}},10820:function(L,M,e){"use strict";var b=e(41940),w=e(85594),a=e(22399),k=e(29241),y=e(53777),f=e(35025),l=e(1426).extendFlat,t=b({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,L.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:b({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:k.newshape,activeshape:k.activeshape,newselection:y.newselection,activeselection:y.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},w.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:b({editType:"layoutstyle"})}}},77734:function(L,M,e){"use strict";var b=e(78607),w='\xA9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',a=['\xA9 <a target="_blank" href="https://carto.com/">Carto</a>',w].join(" "),k=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:w,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:a,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:a,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:k,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:k,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},f=b(y);L.exports={requiredVersion:"1.10.1",styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:f,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@1.10.1."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",f.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){var k=w.split(" "),y=k[0],f=k[1],l=b.isArrayOrTypedArray(a)?b.mean(a):a,t=.5+l/100,s=1.5+l/100,o=["",""],n=[0,0];switch(y){case"top":o[0]="top",n[1]=-s;break;case"bottom":o[0]="bottom",n[1]=s}switch(f){case"left":o[1]="right",n[0]=-t;break;case"right":o[1]="left",n[0]=t}return{anchor:o[0]&&o[1]?o.join("-"):o[0]?o[0]:o[1]?o[1]:"center",offset:n}}},50101:function(L,M,e){"use strict";var b=e(44517),w=e(71828),a=w.strTranslate,k=w.strScale,y=e(27659).AU,f=e(77922),l=e(39898),t=e(91424),s=e(63893),o=e(10481),n="mapbox",r=M.constants=e(77734);function i(u){return typeof u=="string"&&(r.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0)}M.name=n,M.attr="subplot",M.idRoot=n,M.idRegex=M.attrRegex=w.counterRegex(n),M.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},M.layoutAttributes=e(23585),M.supplyLayoutDefaults=e(77882),M.plot=function(u){var p=u._fullLayout,h=u.calcdata,_=p._subplots.mapbox;if(b.version!==r.requiredVersion)throw new Error(r.wrongVersionErrorMsg);var m=function(c,E){var A=c._fullLayout;if(c._context.mapboxAccessToken==="")return"";for(var C=[],O=[],P=!1,D=!1,z=0;z<E.length;z++){var V=A[E[z]],F=V.accesstoken;i(V.style)&&(F?w.pushUnique(C,F):(i(V._input.style)&&(w.error("Uses Mapbox map style, but did not set an access token."),P=!0),D=!0)),F&&w.pushUnique(O,F)}if(D){var W=P?r.noAccessTokenErrorMsg:r.missingStyleErrorMsg;throw w.error(W),new Error(W)}return C.length?(C.length>1&&w.warn(r.multipleTokensErrorMsg),C[0]):(O.length&&w.log(["Listed mapbox access token(s)",O.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,_);b.accessToken=m;for(var d=0;d<_.length;d++){var x=_[d],g=y(h,n,x),v=p[x],T=v._subplot;T||(T=new o(u,x),p[x]._subplot=T),T.viewInitial||(T.viewInitial={center:w.extendFlat({},v.center),zoom:v.zoom,bearing:v.bearing,pitch:v.pitch}),T.plot(g,p,u._promises)}},M.clean=function(u,p,h,_){for(var m=_._subplots.mapbox||[],d=0;d<m.length;d++){var x=m[d];!p[x]&&_[x]._subplot&&_[x]._subplot.destroy()}},M.toSVG=function(u){for(var p=u._fullLayout,h=p._subplots.mapbox,_=p._size,m=0;m<h.length;m++){var d=p[h[m]],x=d.domain,g=d._subplot.toImage("png");p._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":g,x:_.l+_.w*x.x[0],y:_.t+_.h*(1-x.y[1]),width:_.w*(x.x[1]-x.x[0]),height:_.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var v=l.select(d._subplot.div);if(v.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var T=p._glimages.append("g");T.attr("transform",a(_.l+_.w*x.x[0]+10,_.t+_.h*(1-x.y[0])-31)),T.append("path").attr("d",r.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),T.append("path").attr("d",r.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),T.append("path").attr("d",r.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),T.append("polygon").attr("points",r.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var c=v.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),E=p._glimages.append("g"),A=E.append("text");A.text(c).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":c});var C=t.bBox(A.node()),O=_.w*(x.x[1]-x.x[0]);if(C.width>O/2){var P=c.split("|").join("<br>");A.text(P).attr("data-unformatted",P).call(s.convertToTspans,u),C=t.bBox(A.node())}A.attr("transform",a(-3,8-C.height)),E.insert("rect",".static-attribution").attr({x:-C.width-6,y:-C.height-3,width:C.width+6,height:C.height+3,fill:"rgba(255, 255, 255, 0.75)"});var D=1;C.width+6>O&&(D=O/(C.width+6));var z=[_.l+_.w*x.x[1],_.t+_.h*(1-x.y[0])];E.attr("transform",a(z[0],z[1])+k(D))}},M.updateFx=function(u){for(var p=u._fullLayout,h=p._subplots.mapbox,_=0;_<h.length;_++)p[h[_]]._subplot.updateFx(p)}},67911:function(L,M,e){"use strict";var b=e(71828),w=e(63893).sanitizeHTML,a=e(13056),k=e(77734);function y(s,o){this.subplot=s,this.uid=s.uid+"-"+o,this.index=o,this.idSource="source-"+this.uid,this.idLayer=k.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var f=y.prototype;function l(s){if(!s.visible)return!1;var o=s.source;if(Array.isArray(o)&&o.length>0){for(var n=0;n<o.length;n++)if(typeof o[n]!="string"||o[n].length===0)return!1;return!0}return b.isPlainObject(o)||typeof o=="string"&&o.length>0}function t(s){var o={},n={};switch(s.type){case"circle":b.extendFlat(n,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":b.extendFlat(n,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":b.extendFlat(n,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var r=s.symbol,i=a(r.textposition,r.iconsize);b.extendFlat(o,{"icon-image":r.icon+"-15","icon-size":r.iconsize/10,"text-field":r.text,"text-size":r.textfont.size,"text-anchor":i.anchor,"text-offset":i.offset,"symbol-placement":r.placement}),b.extendFlat(n,{"icon-color":s.color,"text-color":r.textfont.color,"text-opacity":s.opacity});break;case"raster":b.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":s.opacity})}return{layout:o,paint:n}}f.update=function(s){this.visible?this.needsNewImage(s)?this.updateImage(s):this.needsNewSource(s)?(this.removeLayer(),this.updateSource(s),this.updateLayer(s)):this.needsNewLayer(s)?this.updateLayer(s):this.updateStyle(s):(this.updateSource(s),this.updateLayer(s)),this.visible=l(s)},f.needsNewImage=function(s){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},f.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},f.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},f.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},f.updateImage=function(s){this.subplot.map.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var o=this.findFollowingMapboxLayerId(this.lookupBelow());o!==null&&this.subplot.map.moveLayer(this.idLayer,o)},f.updateSource=function(s){var o=this.subplot.map;if(o.getSource(this.idSource)&&o.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,l(s)){var n=function(r){var i,u=r.sourcetype,p=r.source,h={type:u};return u==="geojson"?i="data":u==="vector"?i=typeof p=="string"?"url":"tiles":u==="raster"?(i="tiles",h.tileSize=256):u==="image"&&(i="url",h.coordinates=r.coordinates),h[i]=p,r.sourceattribution&&(h.attribution=w(r.sourceattribution)),h}(s);o.addSource(this.idSource,n)}},f.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var o=this.subplot.getMapLayers(),n=0;n<o.length;n++){var r=o[n].id;if(typeof r=="string"&&r.indexOf(k.traceLayerPrefix)===0){s=r;break}}return s},f.updateLayer=function(s){var o=this.subplot,n=t(s),r=this.lookupBelow(),i=this.findFollowingMapboxLayerId(r);this.removeLayer(),l(s)&&o.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:n.layout,paint:n.paint},i),this.layerType=s.type,this.below=r},f.updateStyle=function(s){if(l(s)){var o=t(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",o.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",o.paint)}},f.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},f.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)},L.exports=function(s,o,n){var r=new y(s,o);return r.update(n),r}},23585:function(L,M,e){"use strict";var b=e(71828),w=e(7901).defaultLine,a=e(27670).Y,k=e(41940),y=e(82196).textposition,f=e(30962).overrideAll,l=e(44467).templatedArray,t=e(77734),s=k({});s.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(L.exports=f({_arrayAttrRegexps:[b.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:l("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:w},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:w}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:s,textposition:b.extendFlat({},y,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(L,M,e){"use strict";var b=e(71828),w=e(49119),a=e(85501),k=e(23585);function y(l,t,s,o){s("accesstoken",o.accessToken),s("style"),s("center.lon"),s("center.lat"),s("zoom"),s("bearing"),s("pitch");var n=s("bounds.west"),r=s("bounds.east"),i=s("bounds.south"),u=s("bounds.north");n!==void 0&&r!==void 0&&i!==void 0&&u!==void 0||delete t.bounds,a(l,t,{name:"layers",handleItemDefaults:f}),t._input=l}function f(l,t){function s(u,p){return b.coerce(l,t,k.layers,u,p)}if(s("visible")){var o,n=s("sourcetype"),r=n==="raster"||n==="image";s("source"),s("sourceattribution"),n==="vector"&&s("sourcelayer"),n==="image"&&s("coordinates"),r&&(o="raster");var i=s("type",o);r&&i!=="raster"&&(i=t.type="raster",b.log("Source types *raster* and *image* must drawn *raster* layer type.")),s("below"),s("color"),s("opacity"),s("minzoom"),s("maxzoom"),i==="circle"&&s("circle.radius"),i==="line"&&(s("line.width"),s("line.dash")),i==="fill"&&s("fill.outlinecolor"),i==="symbol"&&(s("symbol.icon"),s("symbol.iconsize"),s("symbol.text"),b.coerceFont(s,"symbol.textfont"),s("symbol.textposition"),s("symbol.placement"))}}L.exports=function(l,t,s){w(l,t,s,{type:"mapbox",attributes:k,handleDefaults:y,partition:"y",accessToken:t._mapboxAccessToken})}},10481:function(L,M,e){"use strict";var b=e(44517),w=e(71828),a=e(41327),k=e(73972),y=e(89298),f=e(28569),l=e(30211),t=e(64505),s=t.drawMode,o=t.selectMode,n=e(47322).prepSelect,r=e(47322).clearOutline,i=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,p=e(77734),h=e(67911);function _(T,c){this.id=c,this.gd=T;var E=T._fullLayout,A=T._context;this.container=E._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var m=_.prototype;m.plot=function(T,c,E){var A,C=this,O=c[C.id];C.map&&O.accesstoken!==C.accessToken&&(C.map.remove(),C.map=null,C.styleObj=null,C.traceHash={},C.layerList=[]),A=C.map?new Promise(function(P,D){C.updateMap(T,c,P,D)}):new Promise(function(P,D){C.createMap(T,c,P,D)}),E.push(A)},m.createMap=function(T,c,E,A){var C=this,O=c[C.id],P=C.styleObj=x(O.style);C.accessToken=O.accesstoken;var D=O.bounds,z=D?[[D.west,D.south],[D.east,D.north]]:null,V=C.map=new b.Map({container:C.div,style:P.style,center:v(O.center),zoom:O.zoom,bearing:O.bearing,pitch:O.pitch,maxBounds:z,interactive:!C.isStatic,preserveDrawingBuffer:C.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new b.AttributionControl({compact:!0}));V._canvas.style.left="0px",V._canvas.style.top="0px",C.rejectOnError(A),C.isStatic||C.initFx(T,c);var F=[];F.push(new Promise(function(W){V.once("load",W)})),F=F.concat(a.fetchTraceGeoData(T)),Promise.all(F).then(function(){C.fillBelowLookup(T,c),C.updateData(T),C.updateLayout(c),C.resolveOnRender(E)}).catch(A)},m.updateMap=function(T,c,E,A){var C=this,O=C.map,P=c[this.id];C.rejectOnError(A);var D=[],z=x(P.style);JSON.stringify(C.styleObj)!==JSON.stringify(z)&&(C.styleObj=z,O.setStyle(z.style),C.traceHash={},D.push(new Promise(function(V){O.once("styledata",V)}))),D=D.concat(a.fetchTraceGeoData(T)),Promise.all(D).then(function(){C.fillBelowLookup(T,c),C.updateData(T),C.updateLayout(c),C.resolveOnRender(E)}).catch(A)},m.fillBelowLookup=function(T,c){var E,A,C=c[this.id].layers,O=this.belowLookup={},P=!1;for(E=0;E<T.length;E++){var D=T[E][0].trace,z=D._module;typeof D.below=="string"?A=D.below:z.getBelow&&(A=z.getBelow(D,this)),A===""&&(P=!0),O["trace-"+D.uid]=A||""}for(E=0;E<C.length;E++){var V=C[E];A=typeof V.below=="string"?V.below:P?"traces":"",O["layout-"+E]=A}var F,W,B={};for(F in O)B[A=O[F]]?B[A].push(F):B[A]=[F];for(A in B){var U=B[A];if(U.length>1)for(E=0;E<U.length;E++)(F=U[E]).indexOf("trace-")===0?(W=F.split("trace-")[1],this.traceHash[W]&&(this.traceHash[W].below=null)):F.indexOf("layout-")===0&&(W=F.split("layout-")[1],this.layerList[W]&&(this.layerList[W].below=null))}};var d={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function x(T){var c={};return w.isPlainObject(T)?(c.id=T.id,c.style=T):typeof T=="string"?(c.id=T,p.styleValuesMapbox.indexOf(T)!==-1?c.style=g(T):p.stylesNonMapbox[T]?c.style=p.stylesNonMapbox[T]:c.style=T):(c.id=p.styleValueDflt,c.style=g(p.styleValueDflt)),c.transition={duration:0,delay:0},c}function g(T){return p.styleUrlPrefix+T+"-"+p.styleUrlSuffix}function v(T){return[T.lon,T.lat]}m.updateData=function(T){var c,E,A,C,O=this.traceHash,P=T.slice().sort(function(W,B){return d[W[0].trace.type]-d[B[0].trace.type]});for(A=0;A<P.length;A++){var D=P[A],z=!1;(c=O[(E=D[0].trace).uid])&&(c.type===E.type?(c.update(D),z=!0):c.dispose()),!z&&E._module&&(O[E.uid]=E._module.plot(this,D))}var V=Object.keys(O);e:for(A=0;A<V.length;A++){var F=V[A];for(C=0;C<T.length;C++)if(F===(E=T[C][0].trace).uid)continue e;(c=O[F]).dispose(),delete O[F]}},m.updateLayout=function(T){var c=this.map,E=T[this.id];this.dragging||this.wheeling||(c.setCenter(v(E.center)),c.setZoom(E.zoom),c.setBearing(E.bearing),c.setPitch(E.pitch)),this.updateLayers(T),this.updateFramework(T),this.updateFx(T),this.map.resize(),this.gd._context._scrollZoom.mapbox?c.scrollZoom.enable():c.scrollZoom.disable()},m.resolveOnRender=function(T){var c=this.map;c.on("render",function E(){c.loaded()&&(c.off("render",E),setTimeout(T,10))})},m.rejectOnError=function(T){var c=this.map;function E(){T(new Error(p.mapOnErrorMsg))}c.once("error",E),c.once("style.error",E),c.once("source.error",E),c.once("tile.error",E),c.once("layer.error",E)},m.createFramework=function(T){var c=this,E=c.div=document.createElement("div");E.id=c.uid,E.style.position="absolute",c.container.appendChild(E),c.xaxis={_id:"x",c2p:function(A){return c.project(A).x}},c.yaxis={_id:"y",c2p:function(A){return c.project(A).y}},c.updateFramework(T),c.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},y.setConvert(c.mockAxis,T)},m.initFx=function(T,c){var E=this,A=E.gd,C=E.map;function O(){l.loneUnhover(c._hoverlayer)}function P(){var D=E.getView();A.emit("plotly_relayouting",E.getViewEditsWithDerived(D))}C.on("moveend",function(D){if(E.map){var z=A._fullLayout;if(D.originalEvent||E.wheeling){var V=z[E.id];k.call("_storeDirectGUIEdit",A.layout,z._preGUI,E.getViewEdits(V));var F=E.getView();V._input.center=V.center=F.center,V._input.zoom=V.zoom=F.zoom,V._input.bearing=V.bearing=F.bearing,V._input.pitch=V.pitch=F.pitch,A.emit("plotly_relayout",E.getViewEditsWithDerived(F))}D.originalEvent&&D.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),z._rehover&&z._rehover()}}),C.on("wheel",function(){E.wheeling=!0}),C.on("mousemove",function(D){var z=E.div.getBoundingClientRect(),V=[D.originalEvent.offsetX,D.originalEvent.offsetY];D.target.getBoundingClientRect=function(){return z},E.xaxis.p2c=function(){return C.unproject(V).lng},E.yaxis.p2c=function(){return C.unproject(V).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===E.id&&A._fullLayout[E.id]&&l.hover(A,D,E.id)},l.hover(A,D,E.id),A._fullLayout._hoversubplot=E.id}),C.on("dragstart",function(){E.dragging=!0,O()}),C.on("zoomstart",O),C.on("mouseout",function(){A._fullLayout._hoversubplot=null}),C.on("drag",P),C.on("zoom",P),C.on("dblclick",function(){var D=A._fullLayout[E.id];k.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,E.getViewEdits(D));var z=E.viewInitial;C.setCenter(v(z.center)),C.setZoom(z.zoom),C.setBearing(z.bearing),C.setPitch(z.pitch);var V=E.getView();D._input.center=D.center=V.center,D._input.zoom=D.zoom=V.zoom,D._input.bearing=D.bearing=V.bearing,D._input.pitch=D.pitch=V.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",E.getViewEditsWithDerived(V))}),E.clearOutline=function(){i(E.dragOptions),r(E.dragOptions.gd)},E.onClickInPanFn=function(D){return function(z){var V=A._fullLayout.clickmode;V.indexOf("select")>-1&&u(z.originalEvent,A,[E.xaxis],[E.yaxis],E.id,D),V.indexOf("event")>-1&&l.click(A,z.originalEvent)}}},m.updateFx=function(T){var c=this,E=c.map,A=c.gd;if(!c.isStatic){var C,O=T.dragmode;C=function(z,V){V.isRect?(z.range={})[c.id]=[D([V.xmin,V.ymin]),D([V.xmax,V.ymax])]:(z.lassoPoints={})[c.id]=V.map(D)};var P=c.dragOptions;c.dragOptions=w.extendDeep(P||{},{dragmode:T.dragmode,element:c.div,gd:A,plotinfo:{id:c.id,domain:T[c.id].domain,xaxis:c.xaxis,yaxis:c.yaxis,fillRangeItems:C},xaxes:[c.xaxis],yaxes:[c.yaxis],subplot:c.id}),E.off("click",c.onClickInPanHandler),o(O)||s(O)?(E.dragPan.disable(),E.on("zoomstart",c.clearOutline),c.dragOptions.prepFn=function(z,V,F){n(z,V,F,c.dragOptions,O)},f.init(c.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",c.clearOutline),c.div.onmousedown=null,c.div.ontouchstart=null,c.div.removeEventListener("touchstart",c.div._ontouchstart),c.onClickInPanHandler=c.onClickInPanFn(c.dragOptions),E.on("click",c.onClickInPanHandler))}function D(z){var V=c.map.unproject(z);return[V.lng,V.lat]}},m.updateFramework=function(T){var c=T[this.id].domain,E=T._size,A=this.div.style;A.width=E.w*(c.x[1]-c.x[0])+"px",A.height=E.h*(c.y[1]-c.y[0])+"px",A.left=E.l+c.x[0]*E.w+"px",A.top=E.t+(1-c.y[1])*E.h+"px",this.xaxis._offset=E.l+c.x[0]*E.w,this.xaxis._length=E.w*(c.x[1]-c.x[0]),this.yaxis._offset=E.t+(1-c.y[1])*E.h,this.yaxis._length=E.h*(c.y[1]-c.y[0])},m.updateLayers=function(T){var c,E=T[this.id].layers,A=this.layerList;if(E.length!==A.length){for(c=0;c<A.length;c++)A[c].dispose();for(A=this.layerList=[],c=0;c<E.length;c++)A.push(h(this,c,E[c]))}else for(c=0;c<E.length;c++)A[c].update(E[c])},m.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},m.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},m.setOptions=function(T,c,E){for(var A in E)this.map[c](T,A,E[A])},m.getMapLayers=function(){return this.map.getStyle().layers},m.addLayer=function(T,c){var E=this.map;if(typeof c=="string"){if(c==="")return void E.addLayer(T,c);for(var A=this.getMapLayers(),C=0;C<A.length;C++)if(c===A[C].id)return void E.addLayer(T,c);w.warn(["Trying to add layer with *below* value",c,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(T)},m.project=function(T){return this.map.project(new b.LngLat(T[0],T[1]))},m.getView=function(){var T=this.map,c=T.getCenter(),E={lon:c.lng,lat:c.lat},A=T.getCanvas(),C=parseInt(A.style.width),O=parseInt(A.style.height);return{center:E,zoom:T.getZoom(),bearing:T.getBearing(),pitch:T.getPitch(),_derived:{coordinates:[T.unproject([0,0]).toArray(),T.unproject([C,0]).toArray(),T.unproject([C,O]).toArray(),T.unproject([0,O]).toArray()]}}},m.getViewEdits=function(T){for(var c=this.id,E=["center","zoom","bearing","pitch"],A={},C=0;C<E.length;C++){var O=E[C];A[c+"."+O]=T[O]}return A},m.getViewEditsWithDerived=function(T){var c=this.id,E=this.getViewEdits(T);return E[c+"._derived"]=T._derived,E},L.exports=_},35025:function(L){"use strict";L.exports=function(M){var e=M.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(L,M,e){"use strict";var b=e(39898),w=e(84096).Dq,a=e(60721).FF,k=e(92770),y=e(73972),f=e(86281),l=e(44467),t=e(71828),s=e(7901),o=e(50606).BADNUM,n=e(41675),r=e(51873).clearOutline,i=e(21479),u=e(85594),p=e(31391),h=e(27659).a0,_=t.relinkPrivateKeys,m=t._,d=L.exports={};t.extendFlat(d,y),d.attributes=e(9012),d.attributes.type.values=d.allTypes,d.fontAttrs=e(41940),d.layoutAttributes=e(10820),d.fontWeight="normal";var x=d.transformsRegistry,g=e(31137);d.executeAPICommand=g.executeAPICommand,d.computeAPICommandBindings=g.computeAPICommandBindings,d.manageCommandObserver=g.manageCommandObserver,d.hasSimpleAPICommandBindings=g.hasSimpleAPICommandBindings,d.redrawText=function(B){return B=t.getGraphDiv(B),new Promise(function(U){setTimeout(function(){B._fullLayout&&(y.getComponentMethod("annotations","draw")(B),y.getComponentMethod("legend","draw")(B),y.getComponentMethod("colorbar","draw")(B),U(d.previousPromises(B)))},300)})},d.resize=function(B){var U;B=t.getGraphDiv(B);var H=new Promise(function(q,ee){B&&!t.isHidden(B)||ee(new Error("Resize must be passed a displayed plot div element.")),B._redrawTimer&&clearTimeout(B._redrawTimer),B._resolveResize&&(U=B._resolveResize),B._resolveResize=q,B._redrawTimer=setTimeout(function(){if(!B.layout||B.layout.width&&B.layout.height||t.isHidden(B))q(B);else{delete B.layout.width,delete B.layout.height;var K=B.changed;B.autoplay=!0,y.call("relayout",B,{autosize:!0}).then(function(){B.changed=K,B._resolveResize===q&&(delete B._resolveResize,q(B))})}},100)});return U&&U(H),H},d.previousPromises=function(B){if((B._promises||[]).length)return Promise.all(B._promises).then(function(){B._promises=[]})},d.addLinks=function(B){if(B._context.showLink||B._context.showSources){var U=B._fullLayout,H=t.ensureSingle(U._paper,"text","js-plot-link-container",function($){$.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var ne=b.select(this);ne.append("tspan").classed("js-link-to-tool",!0),ne.append("tspan").classed("js-link-spacer",!0),ne.append("tspan").classed("js-sourcelinks",!0)})}),q=H.node(),ee={y:U._paper.attr("height")-9};document.body.contains(q)&&q.getComputedTextLength()>=U.width-20?(ee["text-anchor"]="start",ee.x=5):(ee["text-anchor"]="end",ee.x=U._paper.attr("width")-7),H.attr(ee);var K=H.select(".js-link-to-tool"),J=H.select(".js-link-spacer"),Z=H.select(".js-sourcelinks");B._context.showSources&&B._context.showSources(B),B._context.showLink&&function($,ne){ne.text("");var ae=ne.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text($._context.linkText+" "+String.fromCharCode(187));if($._context.sendData)ae.on("click",function(){d.sendDataToCloud($)});else{var oe=window.location.pathname.split("/"),se=window.location.search;ae.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+oe[2].split(".")[0]+"/"+oe[1]+se})}}(B,K),J.text(K.text()&&Z.text()?" - ":"")}},d.sendDataToCloud=function(B){var U=(window.PLOTLYENV||{}).BASE_URL||B._context.plotlyServerURL;if(U){B.emit("plotly_beforeexport");var H=b.select(B).append("div").attr("id","hiddenform").style("display","none"),q=H.append("form").attr({action:U+"/external",method:"post",target:"_blank"});return q.append("input").attr({type:"text",name:"data"}).node().value=d.graphJson(B,!1,"keepdata"),q.node().submit(),H.remove(),B.emit("plotly_afterexport"),!1}};var v=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],T=["year","month","dayMonth","dayMonthYear"];function c(B,U){var H=B._context.locale;H||(H="en-US");var q=!1,ee={};function K(oe){for(var se=!0,ce=0;ce<U.length;ce++){var me=U[ce];ee[me]||(oe[me]?ee[me]=oe[me]:se=!1)}se&&(q=!0)}for(var J=0;J<2;J++){for(var Z=B._context.locales,$=0;$<2;$++){var ne=(Z[H]||{}).format;if(ne&&(K(ne),q))break;Z=y.localeRegistry}var ae=H.split("-")[0];if(q||ae===H)break;H=ae}return q||K(y.localeRegistry.en.format),ee}function E(B,U){var H={_fullLayout:U},q=B._id.charAt(0)==="x",ee=B._mainAxis._anchorAxis,K="",J="",Z="";if(ee&&(Z=ee._mainAxis._id,K=q?B._id+Z:Z+B._id),!K||!U._plots[K]){K="";for(var $=B._counterAxes,ne=0;ne<$.length;ne++){var ae=$[ne],oe=q?B._id+ae:ae+B._id;J||(J=oe);var se=n.getFromId(H,ae);if(Z&&se.overlaying===Z){K=oe;break}}}return K||J}function A(B){var U=B.transforms;if(Array.isArray(U)&&U.length)for(var H=0;H<U.length;H++){var q=U[H],ee=q._module||x[q.type];if(ee&&ee.makesData)return!0}return!1}function C(B,U,H,q){for(var ee=B.transforms,K=[B],J=0;J<ee.length;J++){var Z=ee[J],$=x[Z.type];$&&$.transform&&(K=$.transform(K,{transform:Z,fullTrace:B,fullData:U,layout:H,fullLayout:q,transformIndex:J}))}return K}function O(B){return typeof B=="string"&&B.substr(B.length-2)==="px"&&parseFloat(B)}function P(B){var U=B.margin;if(!B._size){var H=B._size={l:Math.round(U.l),r:Math.round(U.r),t:Math.round(U.t),b:Math.round(U.b),p:Math.round(U.pad)};H.w=Math.round(B.width)-H.l-H.r,H.h=Math.round(B.height)-H.t-H.b}B._pushmargin||(B._pushmargin={}),B._pushmarginIds||(B._pushmarginIds={}),B._reservedMargin||(B._reservedMargin={})}d.supplyDefaults=function(B,U){var H=U&&U.skipUpdateCalc,q=B._fullLayout||{};if(q._skipDefaults)delete q._skipDefaults;else{var ee,K=B._fullLayout={},J=B.layout||{},Z=B._fullData||[],$=B._fullData=[],ne=B.data||[],ae=B.calcdata||[],oe=B._context||{};B._transitionData||d.createTransitionData(B),K._dfltTitle={plot:m(B,"Click to enter Plot title"),x:m(B,"Click to enter X axis title"),y:m(B,"Click to enter Y axis title"),colorbar:m(B,"Click to enter Colorscale title"),annotation:m(B,"new text")},K._traceWord=m(B,"trace");var se=c(B,v);if(K._mapboxAccessToken=oe.mapboxAccessToken,q._initialAutoSizeIsDone){var ce=q.width,me=q.height;d.supplyLayoutGlobalDefaults(J,K,se),J.width||(K.width=ce),J.height||(K.height=me),d.sanitizeMargins(K)}else{d.supplyLayoutGlobalDefaults(J,K,se);var xe=!J.width||!J.height,ve=K.autosize,fe=oe.autosizable;xe&&(ve||fe)?d.plotAutoSize(B,J,K):xe&&d.sanitizeMargins(K),!ve&&xe&&(J.width=K.width,J.height=K.height)}K._d3locale=function(Te,Fe){return Te.decimal=Fe.charAt(0),Te.thousands=Fe.charAt(1),{numberFormat:function(Ye){try{Ye=a(Te).format(t.adjustFormat(Ye))}catch{return t.warnBadFormat(Ye),t.noFormat}return Ye},timeFormat:w(Te).utcFormat}}(se,K.separators),K._extraFormat=c(B,T),K._initialAutoSizeIsDone=!0,K._dataLength=ne.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var pe=K._subplots=function(){var Te,Fe,Ye=y.collectableSubplotTypes,Ge={};if(!Ye){Ye=[];var ot=y.subplotsRegistry;for(var st in ot){var ht=ot[st].attr;if(ht&&(Ye.push(st),Array.isArray(ht)))for(Fe=0;Fe<ht.length;Fe++)t.pushUnique(Ye,ht[Fe])}}for(Te=0;Te<Ye.length;Te++)Ge[Ye[Te]]=[];return Ge}(),Le=K._splomAxes={x:{},y:{}},ye=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=function(Te,Fe){var Ye,Ge,ot=Fe.length,st=[];for(Ye=0;Ye<Te.length;Ye++){var ht=Te[Ye]._fullInput;ht!==Ge&&st.push(ht),Ge=ht}var xt=st.length,Ct=new Array(ot),St={};function kt(Et,Wt){Ct[Wt]=Et,St[Et]=1}function Nt(Et,Wt){if(Et&&typeof Et=="string"&&!St[Et])return kt(Et,Wt),!0}for(Ye=0;Ye<ot;Ye++){var Dt=Fe[Ye].uid;typeof Dt=="number"&&(Dt=String(Dt)),Nt(Dt,Ye)||Ye<xt&&Nt(st[Ye].uid,Ye)||kt(t.randstr(St),Ye)}return Ct}(Z,ne),K._globalTransforms=(B._context||{}).globalTransforms,d.supplyDataDefaults(ne,$,J,K);var Ae=Object.keys(Le.x),Me=Object.keys(Le.y);if(Ae.length>1&&Me.length>1){for(y.getComponentMethod("grid","sizeDefaults")(J,K),ee=0;ee<Ae.length;ee++)t.pushUnique(pe.xaxis,Ae[ee]);for(ee=0;ee<Me.length;ee++)t.pushUnique(pe.yaxis,Me[ee]);for(var ke in ye)t.pushUnique(pe.cartesian,ke)}if(K._has=d._hasPlotType.bind(K),Z.length===$.length)for(ee=0;ee<$.length;ee++)_($[ee],Z[ee]);d.supplyLayoutModuleDefaults(J,K,$,B._transitionData);var te=K._visibleModules,ue=[];for(ee=0;ee<te.length;ee++){var ge=te[ee].crossTraceDefaults;ge&&t.pushUnique(ue,ge)}for(ee=0;ee<ue.length;ee++)ue[ee]($,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&Ae.length>15&&Me.length>15&&K.shapes.length===0&&K.images.length===0,d.linkSubplots($,K,Z,q),d.cleanPlot($,K,Z,q);var we=!(!q._has||!q._has("gl2d")),Ee=!(!K._has||!K._has("gl2d")),Be=!(!q._has||!q._has("cartesian"))||we,Re=!(!K._has||!K._has("cartesian"))||Ee;Be&&!Re?q._bgLayer.remove():Re&&!Be&&(K._shouldCreateBgLayer=!0),q._zoomlayer&&!B._dragging&&r({_fullLayout:q}),function(Te,Fe){var Ye,Ge=[];Fe.meta&&(Ye=Fe._meta={meta:Fe.meta,layout:{meta:Fe.meta}});for(var ot=0;ot<Te.length;ot++){var st=Te[ot];st.meta?Ge[st.index]=st._meta={meta:st.meta}:Fe.meta&&(st._meta={meta:Fe.meta}),Fe.meta&&(st._meta.layout={meta:Fe.meta})}Ge.length&&(Ye||(Ye=Fe._meta={}),Ye.data=Ge)}($,K),_(K,q),y.getComponentMethod("colorscale","crossTraceDefaults")($,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var je,he=K._tracePreGUI,_e={};for(je in he)_e[je]="old";for(ee=0;ee<$.length;ee++)_e[je=$[ee]._fullInput.uid]||(he[je]={}),_e[je]="new";for(je in _e)_e[je]==="old"&&delete he[je];P(K),y.getComponentMethod("rangeslider","makeData")(K),H||ae.length!==$.length||d.supplyDefaultsUpdateCalc(ae,$)}},d.supplyDefaultsUpdateCalc=function(B,U){for(var H=0;H<U.length;H++){var q=U[H],ee=(B[H]||[])[0];if(ee&&ee.trace){var K=ee.trace;if(K._hasCalcTransform){var J,Z,$,ne=K._arrayAttrs;for(J=0;J<ne.length;J++)Z=ne[J],$=t.nestedProperty(K,Z).get().slice(),t.nestedProperty(q,Z).set($)}ee.trace=q}}},d.createTransitionData=function(B){B._transitionData||(B._transitionData={}),B._transitionData._frames||(B._transitionData._frames=[]),B._transitionData._frameHash||(B._transitionData._frameHash={}),B._transitionData._counter||(B._transitionData._counter=0),B._transitionData._interruptCallbacks||(B._transitionData._interruptCallbacks=[])},d._hasPlotType=function(B){var U,H=this._basePlotModules||[];for(U=0;U<H.length;U++)if(H[U].name===B)return!0;var q=this._modules||[];for(U=0;U<q.length;U++){var ee=q[U].name;if(ee===B)return!0;var K=y.modules[ee];if(K&&K.categories[B])return!0}return!1},d.cleanPlot=function(B,U,H,q){var ee,K,J=q._basePlotModules||[];for(ee=0;ee<J.length;ee++){var Z=J[ee];Z.clean&&Z.clean(B,U,H,q)}var $=q._has&&q._has("gl"),ne=U._has&&U._has("gl");$&&!ne&&q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.selectAll(".no-webgl").remove(),q._glcanvas=null);var ae=!!q._infolayer;e:for(ee=0;ee<H.length;ee++){var oe=H[ee].uid;for(K=0;K<B.length;K++)if(oe===B[K].uid)continue e;ae&&q._infolayer.select(".cb"+oe).remove()}},d.linkSubplots=function(B,U,H,q){var ee,K,J=q._plots||{},Z=U._plots={},$=U._subplots,ne={_fullData:B,_fullLayout:U},ae=$.cartesian.concat($.gl2d||[]);for(ee=0;ee<ae.length;ee++){var oe,se=ae[ee],ce=J[se],me=n.getFromId(ne,se,"x"),xe=n.getFromId(ne,se,"y");for(ce?oe=Z[se]=ce:(oe=Z[se]={}).id=se,me._counterAxes.push(xe._id),xe._counterAxes.push(me._id),me._subplotsWith.push(se),xe._subplotsWith.push(se),oe.xaxis=me,oe.yaxis=xe,oe._hasClipOnAxisFalse=!1,K=0;K<B.length;K++){var ve=B[K];if(ve.xaxis===oe.xaxis._id&&ve.yaxis===oe.yaxis._id&&ve.cliponaxis===!1){oe._hasClipOnAxisFalse=!0;break}}}var fe,pe=n.list(ne,null,!0);for(ee=0;ee<pe.length;ee++){var Le=null;(fe=pe[ee]).overlaying&&(Le=n.getFromId(ne,fe.overlaying))&&Le.overlaying&&(fe.overlaying=!1,Le=null),fe._mainAxis=Le||fe,Le&&(fe.domain=Le.domain.slice()),fe._anchorAxis=fe.anchor==="free"?null:n.getFromId(ne,fe.anchor)}for(ee=0;ee<pe.length;ee++)if((fe=pe[ee])._counterAxes.sort(n.idSort),fe._subplotsWith.sort(t.subplotSort),fe._mainSubplot=E(fe,U),fe._counterAxes.length&&(fe.spikemode&&fe.spikemode.indexOf("across")!==-1||fe.automargin&&fe.mirror&&fe.anchor!=="free"||y.getComponentMethod("rangeslider","isVisible")(fe))){var ye=1,Ae=0;for(K=0;K<fe._counterAxes.length;K++){var Me=n.getFromId(ne,fe._counterAxes[K]);ye=Math.min(ye,Me.domain[0]),Ae=Math.max(Ae,Me.domain[1])}ye<Ae&&(fe._counterDomainMin=ye,fe._counterDomainMax=Ae)}},d.clearExpandedTraceDefaultColors=function(B){var U,H,q;for(H=[],(U=B._module._colorAttrs)||(B._module._colorAttrs=U=[],f.crawl(B._module.attributes,function(ee,K,J,Z){H[Z]=K,H.length=Z+1,ee.valType==="color"&&ee.dflt===void 0&&U.push(H.join("."))})),q=0;q<U.length;q++)t.nestedProperty(B,"_input."+U[q]).get()||t.nestedProperty(B,U[q]).set(null)},d.supplyDataDefaults=function(B,U,H,q){var ee,K,J,Z=q._modules,$=q._visibleModules,ne=q._basePlotModules,ae=0,oe=0;function se(ke){U.push(ke);var te=ke._module;te&&(t.pushUnique(Z,te),ke.visible===!0&&t.pushUnique($,te),t.pushUnique(ne,ke._module.basePlotModule),ae++,ke._input.visible!==!1&&oe++)}q._transformModules=[];var ce={},me=[],xe=(H.template||{}).data||{},ve=l.traceTemplater(xe);for(ee=0;ee<B.length;ee++){if(J=B[ee],(K=ve.newTrace(J)).uid=q._traceUids[ee],d.supplyTraceDefaults(J,K,oe,q,ee),K.index=ee,K._input=J,K._expandedIndex=ae,K.transforms&&K.transforms.length)for(var fe=J.visible!==!1&&K.visible===!1,pe=C(K,U,H,q),Le=0;Le<pe.length;Le++){var ye=pe[Le],Ae={_template:K._template,type:K.type,uid:K.uid+Le};fe&&ye.visible===!1&&delete ye.visible,d.supplyTraceDefaults(ye,Ae,ae,q,ee),_(Ae,ye),Ae.index=ee,Ae._input=J,Ae._fullInput=K,Ae._expandedIndex=ae,Ae._expandedInput=ye,se(Ae)}else K._fullInput=K,K._expandedInput=K,se(K);y.traceIs(K,"carpetAxis")&&(ce[K.carpet]=K),y.traceIs(K,"carpetDependent")&&me.push(ee)}for(ee=0;ee<me.length;ee++)if((K=U[me[ee]]).visible){var Me=ce[K.carpet];K._carpet=Me,Me&&Me.visible?(K.xaxis=Me.xaxis,K.yaxis=Me.yaxis):K.visible=!1}},d.supplyAnimationDefaults=function(B){var U;B=B||{};var H={};function q(ee,K){return t.coerce(B||{},H,u,ee,K)}if(q("mode"),q("direction"),q("fromcurrent"),Array.isArray(B.frame))for(H.frame=[],U=0;U<B.frame.length;U++)H.frame[U]=d.supplyAnimationFrameDefaults(B.frame[U]||{});else H.frame=d.supplyAnimationFrameDefaults(B.frame||{});if(Array.isArray(B.transition))for(H.transition=[],U=0;U<B.transition.length;U++)H.transition[U]=d.supplyAnimationTransitionDefaults(B.transition[U]||{});else H.transition=d.supplyAnimationTransitionDefaults(B.transition||{});return H},d.supplyAnimationFrameDefaults=function(B){var U={};function H(q,ee){return t.coerce(B||{},U,u.frame,q,ee)}return H("duration"),H("redraw"),U},d.supplyAnimationTransitionDefaults=function(B){var U={};function H(q,ee){return t.coerce(B||{},U,u.transition,q,ee)}return H("duration"),H("easing"),U},d.supplyFrameDefaults=function(B){var U={};function H(q,ee){return t.coerce(B,U,p,q,ee)}return H("group"),H("name"),H("traces"),H("baseframe"),H("data"),H("layout"),U},d.supplyTraceDefaults=function(B,U,H,q,ee){var K,J=q.colorway||s.defaults,Z=J[H%J.length];function $(pe,Le){return t.coerce(B,U,d.attributes,pe,Le)}var ne=$("visible");$("type"),$("name",q._traceWord+" "+ee),$("uirevision",q.uirevision);var ae=d.getModule(U);if(U._module=ae,ae){var oe=ae.basePlotModule,se=oe.attr,ce=oe.attributes;if(se&&ce){var me=q._subplots,xe="";if(ne||oe.name!=="gl2d"){if(Array.isArray(se))for(K=0;K<se.length;K++){var ve=se[K],fe=t.coerce(B,U,ce,ve);me[ve]&&t.pushUnique(me[ve],fe),xe+=fe}else xe=t.coerce(B,U,ce,se);me[oe.name]&&t.pushUnique(me[oe.name],xe)}}}return ne&&($("customdata"),$("ids"),$("meta"),y.traceIs(U,"showLegend")?(t.coerce(B,U,ae.attributes.showlegend?ae.attributes:d.attributes,"showlegend"),$("legendwidth"),$("legendgroup"),$("legendgrouptitle.text"),$("legendrank"),U._dfltShowLegend=!0):U._dfltShowLegend=!1,ae&&ae.supplyDefaults(B,U,Z,q),y.traceIs(U,"noOpacity")||$("opacity"),y.traceIs(U,"notLegendIsolatable")&&(U.visible=!!U.visible),y.traceIs(U,"noHover")||(U.hovertemplate||t.coerceHoverinfo(B,U,q),U.type!=="parcats"&&y.getComponentMethod("fx","supplyDefaults")(B,U,Z,q)),ae&&ae.selectPoints&&$("selectedpoints"),d.supplyTransformDefaults(B,U,q)),U},d.hasMakesDataTransform=A,d.supplyTransformDefaults=function(B,U,H){if(U._length||A(B)){var q=H._globalTransforms||[],ee=H._transformModules||[];if(Array.isArray(B.transforms)||q.length!==0)for(var K=B.transforms||[],J=q.concat(K),Z=U.transforms=[],$=0;$<J.length;$++){var ne,ae=J[$],oe=ae.type,se=x[oe],ce=!(ae._module&&ae._module===se),me=se&&typeof se.transform=="function";se||t.warn("Unrecognized transform type "+oe+"."),se&&se.supplyDefaults&&(ce||me)?((ne=se.supplyDefaults(ae,U,H,B)).type=oe,ne._module=se,t.pushUnique(ee,se)):ne=t.extendFlat({},ae),Z.push(ne)}}},d.supplyLayoutGlobalDefaults=function(B,U,H){function q(ae,oe){return t.coerce(B,U,d.layoutAttributes,ae,oe)}var ee=B.template;t.isPlainObject(ee)&&(U.template=ee,U._template=ee.layout,U._dataTemplate=ee.data),q("autotypenumbers");var K=t.coerceFont(q,"font"),J=K.size;t.coerceFont(q,"title.font",t.extendFlat({},K,{size:Math.round(1.4*J)})),q("title.text",U._dfltTitle.plot),q("title.xref");var Z=q("title.yref");q("title.pad.t"),q("title.pad.r"),q("title.pad.b"),q("title.pad.l");var $=q("title.automargin");q("title.x"),q("title.xanchor"),q("title.y"),q("title.yanchor"),$&&(Z==="paper"&&(U.title.y!==0&&(U.title.y=1),U.title.yanchor==="auto"&&(U.title.yanchor=U.title.y===0?"top":"bottom")),Z==="container"&&(U.title.y==="auto"&&(U.title.y=1),U.title.yanchor==="auto"&&(U.title.yanchor=U.title.y<.5?"bottom":"top"))),q("uniformtext.mode")&&q("uniformtext.minsize"),q("autosize",!(B.width&&B.height)),q("width"),q("height"),q("minreducedwidth"),q("minreducedheight"),q("margin.l"),q("margin.r"),q("margin.t"),q("margin.b"),q("margin.pad"),q("margin.autoexpand"),B.width&&B.height&&d.sanitizeMargins(U),y.getComponentMethod("grid","sizeDefaults")(B,U),q("paper_bgcolor"),q("separators",H.decimal+H.thousands),q("hidesources"),q("colorway"),q("datarevision");var ne=q("uirevision");q("editrevision",ne),q("selectionrevision",ne),y.getComponentMethod("modebar","supplyLayoutDefaults")(B,U),y.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(B,U,q),y.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(B,U,q),q("meta"),t.isPlainObject(B.transition)&&(q("transition.duration"),q("transition.easing"),q("transition.ordering")),y.getComponentMethod("calendars","handleDefaults")(B,U,"calendar"),y.getComponentMethod("fx","supplyLayoutGlobalDefaults")(B,U,q),t.coerce(B,U,i,"scattermode")},d.plotAutoSize=function(B,U,H){var q,ee,K=B._context||{},J=K.frameMargins,Z=t.isPlotDiv(B);if(Z&&B.emit("plotly_autosize"),K.fillFrame)q=window.innerWidth,ee=window.innerHeight,document.body.style.overflow="hidden";else{var $=Z?window.getComputedStyle(B):{};if(q=O($.width)||O($.maxWidth)||H.width,ee=O($.height)||O($.maxHeight)||H.height,k(J)&&J>0){var ne=1-2*J;q=Math.round(ne*q),ee=Math.round(ne*ee)}}var ae=d.layoutAttributes.width.min,oe=d.layoutAttributes.height.min;q<ae&&(q=ae),ee<oe&&(ee=oe);var se=!U.width&&Math.abs(H.width-q)>1,ce=!U.height&&Math.abs(H.height-ee)>1;(ce||se)&&(se&&(H.width=q),ce&&(H.height=ee)),B._initialAutoSize||(B._initialAutoSize={width:q,height:ee}),d.sanitizeMargins(H)},d.supplyLayoutModuleDefaults=function(B,U,H,q){var ee,K,J,Z=y.componentsRegistry,$=U._basePlotModules,ne=y.subplotsRegistry.cartesian;for(ee in Z)(J=Z[ee]).includeBasePlot&&J.includeBasePlot(B,U);for(var ae in $.length||$.push(ne),U._has("cartesian")&&(y.getComponentMethod("grid","contentDefaults")(B,U),ne.finalizeSubplots(B,U)),U._subplots)U._subplots[ae].sort(t.subplotSort);for(K=0;K<$.length;K++)(J=$[K]).supplyLayoutDefaults&&J.supplyLayoutDefaults(B,U,H);var oe=U._modules;for(K=0;K<oe.length;K++)(J=oe[K]).supplyLayoutDefaults&&J.supplyLayoutDefaults(B,U,H);var se=U._transformModules;for(K=0;K<se.length;K++)(J=se[K]).supplyLayoutDefaults&&J.supplyLayoutDefaults(B,U,H,q);for(ee in Z)(J=Z[ee]).supplyLayoutDefaults&&J.supplyLayoutDefaults(B,U,H)},d.purge=function(B){var U=B._fullLayout||{};U._glcontainer!==void 0&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.remove(),U._glcanvas=null),U._modeBar&&U._modeBar.destroy(),B._transitionData&&(B._transitionData._interruptCallbacks&&(B._transitionData._interruptCallbacks.length=0),B._transitionData._animationRaf&&window.cancelAnimationFrame(B._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(B),delete B.data,delete B.layout,delete B._fullData,delete B._fullLayout,delete B.calcdata,delete B.empty,delete B.fid,delete B.undoqueue,delete B.undonum,delete B.autoplay,delete B.changed,delete B._promises,delete B._redrawTimer,delete B._hmlumcount,delete B._hmpixcount,delete B._transitionData,delete B._transitioning,delete B._initialAutoSize,delete B._transitioningWithDuration,delete B._dragging,delete B._dragged,delete B._dragdata,delete B._hoverdata,delete B._snapshotInProgress,delete B._editing,delete B._mouseDownTime,delete B._legendMouseDownTime,B.removeAllListeners&&B.removeAllListeners()},d.style=function(B){var U,H=B._fullLayout._visibleModules,q=[];for(U=0;U<H.length;U++){var ee=H[U];ee.style&&t.pushUnique(q,ee.style)}for(U=0;U<q.length;U++)q[U](B)},d.sanitizeMargins=function(B){if(B&&B.margin){var U,H=B.width,q=B.height,ee=B.margin,K=H-(ee.l+ee.r),J=q-(ee.t+ee.b);K<0&&(U=(H-1)/(ee.l+ee.r),ee.l=Math.floor(U*ee.l),ee.r=Math.floor(U*ee.r)),J<0&&(U=(q-1)/(ee.t+ee.b),ee.t=Math.floor(U*ee.t),ee.b=Math.floor(U*ee.b))}},d.clearAutoMarginIds=function(B){B._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(B,U){B._fullLayout._pushmarginIds[U]=1},d.autoMargin=function(B,U,H){var q=B._fullLayout,ee=q.width,K=q.height,J=q.margin,Z=q.minreducedwidth,$=q.minreducedheight,ne=t.constrain(ee-J.l-J.r,2,Z),ae=t.constrain(K-J.t-J.b,2,$),oe=Math.max(0,ee-ne),se=Math.max(0,K-ae),ce=q._pushmargin,me=q._pushmarginIds;if(J.autoexpand!==!1){if(H){var xe=H.pad;if(xe===void 0&&(xe=Math.min(12,J.l,J.r,J.t,J.b)),oe){var ve=(H.l+H.r)/oe;ve>1&&(H.l/=ve,H.r/=ve)}if(se){var fe=(H.t+H.b)/se;fe>1&&(H.t/=fe,H.b/=fe)}var pe=H.xl!==void 0?H.xl:H.x,Le=H.xr!==void 0?H.xr:H.x,ye=H.yt!==void 0?H.yt:H.y,Ae=H.yb!==void 0?H.yb:H.y;ce[U]={l:{val:pe,size:H.l+xe},r:{val:Le,size:H.r+xe},b:{val:Ae,size:H.b+xe},t:{val:ye,size:H.t+xe}},me[U]=1}else delete ce[U],delete me[U];if(!q._replotting)return d.doAutoMargin(B)}},d.doAutoMargin=function(B){var U=B._fullLayout,H=U.width,q=U.height;U._size||(U._size={}),P(U);var ee=U._size,K=U.margin,J={t:0,b:0,l:0,r:0},Z=t.extendFlat({},ee),$=B._fullLayout._reservedMargin;for(var ne in $)for(var ae in $[ne]){var oe=$[ne][ae];J[ae]=Math.max(J[ae],oe)}var se=K.l,ce=K.r,me=K.t,xe=K.b,ve=U._pushmargin,fe=U._pushmarginIds,pe=U.minreducedwidth,Le=U.minreducedheight;if(U.margin.autoexpand!==!1){for(var ye in ve)fe[ye]||delete ve[ye];for(var Ae in ve.base={l:{val:0,size:se},r:{val:1,size:ce},t:{val:1,size:me},b:{val:0,size:xe}},ve){var Me=ve[Ae].l||{},ke=ve[Ae].b||{},te=Me.val,ue=Me.size,ge=ke.val,we=ke.size,Ee=H-J.r-J.l,Be=q-J.t-J.b;for(var Re in ve){if(k(ue)&&ve[Re].r){var je=ve[Re].r.val,he=ve[Re].r.size;if(je>te){var _e=(ue*je+(he-Ee)*te)/(je-te),Te=(he*(1-te)+(ue-Ee)*(1-je))/(je-te);_e+Te>se+ce&&(se=_e,ce=Te)}}if(k(we)&&ve[Re].t){var Fe=ve[Re].t.val,Ye=ve[Re].t.size;if(Fe>ge){var Ge=(we*Fe+(Ye-Be)*ge)/(Fe-ge),ot=(Ye*(1-ge)+(we-Be)*(1-Fe))/(Fe-ge);Ge+ot>xe+me&&(xe=Ge,me=ot)}}}}}var st=t.constrain(H-K.l-K.r,2,pe),ht=t.constrain(q-K.t-K.b,2,Le),xt=Math.max(0,H-st),Ct=Math.max(0,q-ht);if(xt){var St=(se+ce)/xt;St>1&&(se/=St,ce/=St)}if(Ct){var kt=(xe+me)/Ct;kt>1&&(xe/=kt,me/=kt)}if(ee.l=Math.round(se)+J.l,ee.r=Math.round(ce)+J.r,ee.t=Math.round(me)+J.t,ee.b=Math.round(xe)+J.b,ee.p=Math.round(K.pad),ee.w=Math.round(H)-ee.l-ee.r,ee.h=Math.round(q)-ee.t-ee.b,!U._replotting&&(d.didMarginChange(Z,ee)||function(Dt){if("_redrawFromAutoMarginCount"in Dt._fullLayout)return!1;var Et=n.list(Dt,"",!0);for(var Wt in Et)if(Et[Wt].autoshift||Et[Wt].shift)return!0;return!1}(B))){"_redrawFromAutoMarginCount"in U?U._redrawFromAutoMarginCount++:U._redrawFromAutoMarginCount=1;var Nt=3*(1+Object.keys(fe).length);if(U._redrawFromAutoMarginCount<Nt)return y.call("_doPlot",B);U._size=Z,t.warn("Too many auto-margin redraws.")}(function(Dt){var Et=n.list(Dt,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Wt){for(var Ht=0;Ht<Et.length;Ht++){var Ke=Et[Ht][Wt];Ke&&Ke()}})})(B)};var D=["l","r","t","b","p","w","h"];function z(B,U,H){var q=!1,ee=[d.previousPromises,function(){if(B._transitionData)return B._transitioning=!1,function(J){var Z=Promise.resolve();if(!J)return Z;for(;J.length;)Z=Z.then(J.shift());return Z}(B._transitionData._interruptCallbacks)},H.prepareFn,d.rehover,d.reselect,function(){return B.emit("plotly_transitioning",[]),new Promise(function(J){B._transitioning=!0,U.duration>0&&(B._transitioningWithDuration=!0),B._transitionData._interruptCallbacks.push(function(){q=!0}),H.redraw&&B._transitionData._interruptCallbacks.push(function(){return y.call("redraw",B)}),B._transitionData._interruptCallbacks.push(function(){B.emit("plotly_transitioninterrupted",[])});var Z=0,$=0;function ne(){return Z++,function(){var ae;$++,q||$!==Z||(ae=J,B._transitionData&&(function(oe){if(oe)for(;oe.length;)oe.shift()}(B._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(H.redraw)return y.call("redraw",B)}).then(function(){B._transitioning=!1,B._transitioningWithDuration=!1,B.emit("plotly_transitioned",[])}).then(ae)))}}H.runFn(ne),setTimeout(ne())})}],K=t.syncOrAsync(ee,B);return K&&K.then||(K=Promise.resolve()),K.then(function(){return B})}d.didMarginChange=function(B,U){for(var H=0;H<D.length;H++){var q=D[H],ee=B[q],K=U[q];if(!k(ee)||Math.abs(K-ee)>1)return!0}return!1},d.graphJson=function(B,U,H,q,ee,K){(ee&&U&&!B._fullData||ee&&!U&&!B._fullLayout)&&d.supplyDefaults(B);var J=ee?B._fullData:B.data,Z=ee?B._fullLayout:B.layout,$=(B._transitionData||{})._frames;function ne(se,ce){if(typeof se=="function")return ce?"_function_":null;if(t.isPlainObject(se)){var me,xe={};return Object.keys(se).sort().forEach(function(ve){if(["_","["].indexOf(ve.charAt(0))===-1)if(typeof se[ve]!="function"){if(H==="keepdata"){if(ve.substr(ve.length-3)==="src")return}else if(H==="keepstream"){if(typeof(me=se[ve+"src"])=="string"&&me.indexOf(":")>0&&!t.isPlainObject(se.stream))return}else if(H!=="keepall"&&typeof(me=se[ve+"src"])=="string"&&me.indexOf(":")>0)return;xe[ve]=ne(se[ve],ce)}else ce&&(xe[ve]="_function")}),xe}return Array.isArray(se)?se.map(function(ve){return ne(ve,ce)}):t.isTypedArray(se)?t.simpleMap(se,t.identity):t.isJSDate(se)?t.ms2DateTimeLocal(+se):se}var ae={data:(J||[]).map(function(se){var ce=ne(se);return U&&delete ce.fit,ce})};if(!U&&(ae.layout=ne(Z),ee)){var oe=Z._size;ae.layout.computed={margin:{b:oe.b,l:oe.l,r:oe.r,t:oe.t}}}return $&&(ae.frames=ne($)),K&&(ae.config=ne(B._context,!0)),q==="object"?ae:JSON.stringify(ae)},d.modifyFrames=function(B,U){var H,q,ee,K=B._transitionData._frames,J=B._transitionData._frameHash;for(H=0;H<U.length;H++)switch((q=U[H]).type){case"replace":ee=q.value;var Z=(K[q.index]||{}).name,$=ee.name;K[q.index]=J[$]=ee,$!==Z&&(delete J[Z],J[$]=ee);break;case"insert":J[(ee=q.value).name]=ee,K.splice(q.index,0,ee);break;case"delete":delete J[(ee=K[q.index]).name],K.splice(q.index,1)}return Promise.resolve()},d.computeFrame=function(B,U){var H,q,ee,K,J=B._transitionData._frameHash;if(!U)throw new Error("computeFrame must be given a string frame name");var Z=J[U.toString()];if(!Z)return!1;for(var $=[Z],ne=[Z.name];Z.baseframe&&(Z=J[Z.baseframe.toString()])&&ne.indexOf(Z.name)===-1;)$.push(Z),ne.push(Z.name);for(var ae={};Z=$.pop();)if(Z.layout&&(ae.layout=d.extendLayout(ae.layout,Z.layout)),Z.data){if(ae.data||(ae.data=[]),!(q=Z.traces))for(q=[],H=0;H<Z.data.length;H++)q[H]=H;for(ae.traces||(ae.traces=[]),H=0;H<Z.data.length;H++)(ee=q[H])!=null&&((K=ae.traces.indexOf(ee))===-1&&(K=ae.data.length,ae.traces[K]=ee),ae.data[K]=d.extendTrace(ae.data[K],Z.data[H]))}return ae},d.recomputeFrameHash=function(B){for(var U=B._transitionData._frameHash={},H=B._transitionData._frames,q=0;q<H.length;q++){var ee=H[q];ee&&ee.name&&(U[ee.name]=ee)}},d.extendObjectWithContainers=function(B,U,H){var q,ee,K,J,Z,$,ne,ae=t.extendDeepNoArrays({},U||{}),oe=t.expandObjectPaths(ae),se={};if(H&&H.length)for(K=0;K<H.length;K++)(ee=(q=t.nestedProperty(oe,H[K])).get())===void 0?t.nestedProperty(se,H[K]).set(null):(q.set(null),t.nestedProperty(se,H[K]).set(ee));if(B=t.extendDeepNoArrays(B||{},oe),H&&H.length){for(K=0;K<H.length;K++)if($=t.nestedProperty(se,H[K]).get()){for(ne=(Z=t.nestedProperty(B,H[K])).get(),Array.isArray(ne)||(ne=[],Z.set(ne)),J=0;J<$.length;J++){var ce=$[J];ne[J]=ce===null?null:d.extendObjectWithContainers(ne[J],ce)}Z.set(ne)}}return B},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=y.layoutArrayContainers,d.extendTrace=function(B,U){return d.extendObjectWithContainers(B,U,d.dataArrayContainers)},d.extendLayout=function(B,U){return d.extendObjectWithContainers(B,U,d.layoutArrayContainers)},d.transition=function(B,U,H,q,ee,K){var J={redraw:ee.redraw},Z={},$=[];return J.prepareFn=function(){for(var ne=Array.isArray(U)?U.length:0,ae=q.slice(0,ne),oe=0;oe<ae.length;oe++){var se=ae[oe],ce=B._fullData[se]._module;if(ce){if(ce.animatable){var me=ce.basePlotModule.name;Z[me]||(Z[me]=[]),Z[me].push(se)}B.data[ae[oe]]=d.extendTrace(B.data[ae[oe]],U[oe])}}var xe=t.expandObjectPaths(t.extendDeepNoArrays({},H)),ve=/^[xy]axis[0-9]*$/;for(var fe in xe)ve.test(fe)&&delete xe[fe].range;d.extendLayout(B.layout,xe),delete B.calcdata,d.supplyDefaults(B),d.doCalcdata(B);var pe=t.expandObjectPaths(H);if(pe){var Le=B._fullLayout._plots;for(var ye in Le){var Ae=Le[ye],Me=Ae.xaxis,ke=Ae.yaxis,te=Me.range.slice(),ue=ke.range.slice(),ge=null,we=null,Ee=null,Be=null;Array.isArray(pe[Me._name+".range"])?ge=pe[Me._name+".range"].slice():Array.isArray((pe[Me._name]||{}).range)&&(ge=pe[Me._name].range.slice()),Array.isArray(pe[ke._name+".range"])?we=pe[ke._name+".range"].slice():Array.isArray((pe[ke._name]||{}).range)&&(we=pe[ke._name].range.slice()),te&&ge&&(Me.r2l(te[0])!==Me.r2l(ge[0])||Me.r2l(te[1])!==Me.r2l(ge[1]))&&(Ee={xr0:te,xr1:ge}),ue&&we&&(ke.r2l(ue[0])!==ke.r2l(we[0])||ke.r2l(ue[1])!==ke.r2l(we[1]))&&(Be={yr0:ue,yr1:we}),(Ee||Be)&&$.push(t.extendFlat({plotinfo:Ae},Ee,Be))}}return Promise.resolve()},J.runFn=function(ne){var ae,oe,se=B._fullLayout._basePlotModules,ce=$.length;if(H)for(oe=0;oe<se.length;oe++)se[oe].transitionAxes&&se[oe].transitionAxes(B,$,K,ne);for(var me in ce?((ae=t.extendFlat({},K)).duration=0,delete Z.cartesian):ae=K,Z){var xe=Z[me];B._fullData[xe[0]]._module.basePlotModule.plot(B,xe,ae,ne)}},z(B,K,J)},d.transitionFromReact=function(B,U,H,q){var ee=B._fullLayout,K=ee.transition,J={},Z=[];return J.prepareFn=function(){var $=ee._plots;for(var ne in J.redraw=!1,U.anim==="some"&&(J.redraw=!0),H.anim==="some"&&(J.redraw=!0),$){var ae=$[ne],oe=ae.xaxis,se=ae.yaxis,ce=q[oe._name].range.slice(),me=q[se._name].range.slice(),xe=oe.range.slice(),ve=se.range.slice();oe.setScale(),se.setScale();var fe=null,pe=null;oe.r2l(ce[0])===oe.r2l(xe[0])&&oe.r2l(ce[1])===oe.r2l(xe[1])||(fe={xr0:ce,xr1:xe}),se.r2l(me[0])===se.r2l(ve[0])&&se.r2l(me[1])===se.r2l(ve[1])||(pe={yr0:me,yr1:ve}),(fe||pe)&&Z.push(t.extendFlat({plotinfo:ae},fe,pe))}return Promise.resolve()},J.runFn=function($){for(var ne,ae,oe,se=B._fullData,ce=B._fullLayout._basePlotModules,me=[],xe=0;xe<se.length;xe++)me.push(xe);function ve(){if(B._fullLayout)for(var pe=0;pe<ce.length;pe++)ce[pe].transitionAxes&&ce[pe].transitionAxes(B,Z,ne,$)}function fe(){if(B._fullLayout)for(var pe=0;pe<ce.length;pe++)ce[pe].plot(B,oe,ae,$)}Z.length&&U.anim?K.ordering==="traces first"?(ne=t.extendFlat({},K,{duration:0}),oe=me,ae=K,setTimeout(ve,K.duration),fe()):(ne=K,oe=null,ae=t.extendFlat({},K,{duration:0}),setTimeout(fe,ne.duration),ve()):Z.length?(ne=K,ve()):U.anim&&(oe=me,ae=K,fe())},z(B,K,J)},d.doCalcdata=function(B,U){var H,q,ee,K,J=n.list(B),Z=B._fullData,$=B._fullLayout,ne=new Array(Z.length),ae=(B.calcdata||[]).slice();for(B.calcdata=ne,$._numBoxes=0,$._numViolins=0,$._violinScaleGroupStats={},B._hmpixcount=0,B._hmlumcount=0,$._piecolormap={},$._sunburstcolormap={},$._treemapcolormap={},$._iciclecolormap={},$._funnelareacolormap={},ee=0;ee<Z.length;ee++)Array.isArray(U)&&U.indexOf(ee)===-1&&(ne[ee]=ae[ee]);for(ee=0;ee<Z.length;ee++)(H=Z[ee])._arrayAttrs=f.findArrayAttributes(H),H._extremes={};var oe=$._subplots.polar||[];for(ee=0;ee<oe.length;ee++)J.push($[oe[ee]].radialaxis,$[oe[ee]].angularaxis);for(var se in $._colorAxes){var ce=$[se];ce.cauto!==!1&&(delete ce.cmin,delete ce.cmax)}var me=!1;function xe(pe){if(H=Z[pe],q=H._module,H.visible===!0&&H.transforms){if(q&&q.calc){var Le=q.calc(B,H);Le[0]&&Le[0].t&&Le[0].t._scene&&delete Le[0].t._scene.dirty}for(K=0;K<H.transforms.length;K++){var ye=H.transforms[K];(q=x[ye.type])&&q.calcTransform&&(H._hasCalcTransform=!0,me=!0,q.calcTransform(B,H,ye))}}}function ve(pe,Le){if(H=Z[pe],!!(q=H._module).isContainer===Le){var ye=[];if(H.visible===!0&&H._length!==0){delete H._indexToPoints;var Ae=H.transforms||[];for(K=Ae.length-1;K>=0;K--)if(Ae[K].enabled){H._indexToPoints=Ae[K]._indexToPoints;break}q&&q.calc&&(ye=q.calc(B,H))}Array.isArray(ye)&&ye[0]||(ye=[{x:o,y:o}]),ye[0].t||(ye[0].t={}),ye[0].trace=H,ne[pe]=ye}}for(F(J,Z,$),ee=0;ee<Z.length;ee++)ve(ee,!0);for(ee=0;ee<Z.length;ee++)xe(ee);for(me&&F(J,Z,$),ee=0;ee<Z.length;ee++)ve(ee,!0);for(ee=0;ee<Z.length;ee++)ve(ee,!1);W(B);var fe=function(pe,Le){var ye,Ae,Me,ke,te,ue=[];function ge(Ke,$e,Ue){var nt=$e._id.charAt(0);if(Ke==="histogram2dcontour"){var ct=$e._counterAxes[0],Oe=n.getFromId(Le,ct),Ne=nt==="x"||ct==="x"&&Oe.type==="category",Qe=nt==="y"||ct==="y"&&Oe.type==="category";return function(ut,pt){return ut===0||pt===0||Ne&&ut===Ue[pt].length-1||Qe&&pt===Ue.length-1?-1:(nt==="y"?pt:ut)-1}}return function(ut,pt){return nt==="y"?pt:ut}}var we={min:function(Ke){return t.aggNums(Math.min,null,Ke)},max:function(Ke){return t.aggNums(Math.max,null,Ke)},sum:function(Ke){return t.aggNums(function($e,Ue){return $e+Ue},null,Ke)},total:function(Ke){return t.aggNums(function($e,Ue){return $e+Ue},null,Ke)},mean:function(Ke){return t.mean(Ke)},median:function(Ke){return t.median(Ke)}};for(ye=0;ye<pe.length;ye++){var Ee=pe[ye];if(Ee.type==="category"){var Be=Ee.categoryorder.match(V);if(Be){var Re=Be[1],je=Be[2],he=Ee._id.charAt(0),_e=he==="x",Te=[];for(Ae=0;Ae<Ee._categories.length;Ae++)Te.push([Ee._categories[Ae],[]]);for(Ae=0;Ae<Ee._traceIndices.length;Ae++){var Fe=Ee._traceIndices[Ae],Ye=Le._fullData[Fe];if(Ye.visible===!0){var Ge=Ye.type;y.traceIs(Ye,"histogram")&&(delete Ye._xautoBinFinished,delete Ye._yautoBinFinished);var ot=Ge==="splom",st=Ge==="scattergl",ht=Le.calcdata[Fe];for(Me=0;Me<ht.length;Me++){var xt,Ct,St=ht[Me];if(ot){var kt=Ye._axesDim[Ee._id];if(!_e){var Nt=Ye._diag[kt][0];Nt&&(Ee=Le._fullLayout[n.id2name(Nt)])}var Dt=St.trace.dimensions[kt].values;for(ke=0;ke<Dt.length;ke++)for(xt=Ee._categoriesMap[Dt[ke]],te=0;te<St.trace.dimensions.length;te++)if(te!==kt){var Et=St.trace.dimensions[te];Te[xt][1].push(Et.values[ke])}}else if(st){for(ke=0;ke<St.t.x.length;ke++)_e?(xt=St.t.x[ke],Ct=St.t.y[ke]):(xt=St.t.y[ke],Ct=St.t.x[ke]),Te[xt][1].push(Ct);St.t&&St.t._scene&&delete St.t._scene.dirty}else if(St.hasOwnProperty("z")){Ct=St.z;var Wt=ge(Ye.type,Ee,Ct);for(ke=0;ke<Ct.length;ke++)for(te=0;te<Ct[ke].length;te++)(xt=Wt(te,ke))+1&&Te[xt][1].push(Ct[ke][te])}else for((xt=St.p)===void 0&&(xt=St[he]),(Ct=St.s)===void 0&&(Ct=St.v),Ct===void 0&&(Ct=_e?St.y:St.x),Array.isArray(Ct)||(Ct=Ct===void 0?[]:[Ct]),ke=0;ke<Ct.length;ke++)Te[xt][1].push(Ct[ke])}}}Ee._categoriesValue=Te;var Ht=[];for(Ae=0;Ae<Te.length;Ae++)Ht.push([Te[Ae][0],we[Re](Te[Ae][1])]);Ht.sort(function(Ke,$e){return Ke[1]-$e[1]}),Ee._categoriesAggregatedValue=Ht,Ee._initialCategories=Ht.map(function(Ke){return Ke[0]}),je==="descending"&&Ee._initialCategories.reverse(),ue=ue.concat(Ee.sortByInitialCategories())}}}return ue}(J,B);if(fe.length){for($._numBoxes=0,$._numViolins=0,ee=0;ee<fe.length;ee++)ve(fe[ee],!0);for(ee=0;ee<fe.length;ee++)ve(fe[ee],!1);W(B)}y.getComponentMethod("fx","calc")(B),y.getComponentMethod("errorbars","calc")(B)};var V=/(total|sum|min|max|mean|median) (ascending|descending)/;function F(B,U,H){var q={};function ee($){$.clearCalc(),$.type==="multicategory"&&$.setupMultiCategory(U),q[$._id]=1}t.simpleMap(B,ee);for(var K=H._axisMatchGroups||[],J=0;J<K.length;J++)for(var Z in K[J])q[Z]||ee(H[n.id2name(Z)])}function W(B){var U,H,q,ee=B._fullLayout,K=ee._visibleModules,J={};for(H=0;H<K.length;H++){var Z=K[H],$=Z.crossTraceCalc;if($){var ne=Z.basePlotModule.name;J[ne]?t.pushUnique(J[ne],$):J[ne]=[$]}}for(q in J){var ae=J[q],oe=ee._subplots[q];if(Array.isArray(oe))for(U=0;U<oe.length;U++){var se=oe[U],ce=q==="cartesian"?ee._plots[se]:ee[se];for(H=0;H<ae.length;H++)ae[H](B,ce,se)}else for(H=0;H<ae.length;H++)ae[H](B)}}d.rehover=function(B){B._fullLayout._rehover&&B._fullLayout._rehover()},d.redrag=function(B){B._fullLayout._redrag&&B._fullLayout._redrag()},d.reselect=function(B){var U=B._fullLayout,H=(B.layout||{}).selections,q=U._previousSelections;U._previousSelections=H;var ee=U._reselect||JSON.stringify(H)!==JSON.stringify(q);y.getComponentMethod("selections","reselect")(B,ee)},d.generalUpdatePerTraceModule=function(B,U,H,q){var ee,K=U.traceHash,J={};for(ee=0;ee<H.length;ee++){var Z=H[ee],$=Z[0].trace;$.visible&&(J[$.type]=J[$.type]||[],J[$.type].push(Z))}for(var ne in K)if(!J[ne]){var ae=K[ne][0];ae[0].trace.visible=!1,J[ne]=[ae]}for(var oe in J){var se=J[oe];se[0][0].trace._module.plot(B,U,t.filterVisible(se),q)}U.traceHash=J},d.plotBasePlot=function(B,U,H,q,ee){var K=y.getModule(B),J=h(U.calcdata,K)[0];K.plot(U,J,q,ee)},d.cleanBasePlot=function(B,U,H,q,ee){var K=ee._has&&ee._has(B),J=H._has&&H._has(B);K&&!J&&ee["_"+B+"layer"].selectAll("g.trace").remove()}},9813:function(L){"use strict";L.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(L,M,e){"use strict";var b=e(71828),w=e(61082).tester,a=b.findIndexOfMin,k=b.isAngleInsideSector,y=b.angleDelta,f=b.angleDist;function l(n,r,i,u){var p,h,_=u[0],m=u[1],d=s(Math.sin(r)-Math.sin(n)),x=s(Math.cos(r)-Math.cos(n)),g=Math.tan(i),v=s(1/g),T=d/x,c=m-T*_;return v?d&&x?h=g*(p=c/(g-T)):x?(p=m*v,h=m):(p=_,h=_*g):d&&x?(p=0,h=c):x?(p=0,h=m):p=h=NaN,[p,h]}function t(n,r,i,u){return b.isFullCircle([r,i])?function(p,h){var _,m=h.length,d=new Array(m+1);for(_=0;_<m;_++){var x=h[_];d[_]=[p*Math.cos(x),p*Math.sin(x)]}return d[_]=d[0].slice(),d}(n,u):function(p,h,_,m){var d,x,g=m.length,v=[];function T(V){return[p*Math.cos(V),p*Math.sin(V)]}function c(V,F,W){return l(V,F,W,T(V))}function E(V){return b.mod(V,g)}function A(V){return k(V,[h,_])}var C=a(m,function(V){return A(V)?f(V,h):1/0}),O=c(m[C],m[E(C-1)],h);for(v.push(O),d=C,x=0;x<g;d++,x++){var P=m[E(d)];if(!A(P))break;v.push(T(P))}var D=a(m,function(V){return A(V)?f(V,_):1/0}),z=c(m[D],m[E(D+1)],_);return v.push(z),v.push([0,0]),v.push(v[0].slice()),v}(n,r,i,u)}function s(n){return Math.abs(n)>1e-10?n:0}function o(n,r,i){r=r||0,i=i||0;for(var u=n.length,p=new Array(u),h=0;h<u;h++){var _=n[h];p[h]=[r+_[0],i-_[1]]}return p}L.exports={isPtInsidePolygon:function(n,r,i,u,p){if(!k(r,u))return!1;var h,_;i[0]<i[1]?(h=i[0],_=i[1]):(h=i[1],_=i[0]);var m=w(t(h,u[0],u[1],p)),d=w(t(_,u[0],u[1],p)),x=[n*Math.cos(r),n*Math.sin(r)];return d.contains(x)&&!m.contains(x)},findPolygonOffset:function(n,r,i,u){for(var p=1/0,h=1/0,_=t(n,r,i,u),m=0;m<_.length;m++){var d=_[m];p=Math.min(p,d[0]),h=Math.min(h,-d[1])}return[p,h]},findEnclosingVertexAngles:function(n,r){var i=a(r,function(p){var h=y(p,n);return h>0?h:1/0}),u=b.mod(i+1,r.length);return[r[i],r[u]]},findIntersectionXY:l,findXYatLength:function(n,r,i,u){var p=-r*i,h=r*r+1,_=2*(r*p-i),m=p*p+i*i-n*n,d=Math.sqrt(_*_-4*h*m),x=(-_+d)/(2*h),g=(-_-d)/(2*h);return[[x,r*x+p+u],[g,r*g+p+u]]},clampTiny:s,pathPolygon:function(n,r,i,u,p,h){return"M"+o(t(n,r,i,u),p,h).join("L")},pathPolygonAnnulus:function(n,r,i,u,p,h,_){var m,d;n<r?(m=n,d=r):(m=r,d=n);var x=o(t(m,i,u,p),h,_);return"M"+o(t(d,i,u,p),h,_).reverse().join("L")+"M"+x.join("L")}}},23580:function(L,M,e){"use strict";var b=e(27659).AU,w=e(71828).counterRegex,a=e(77997),k=e(9813),y=k.attr,f=k.name,l=w(f),t={};t[y]={valType:"subplotid",dflt:f,editType:"calc"},L.exports={attr:y,name:f,idRoot:f,idRegex:l,attrRegex:l,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function(s){for(var o=s._fullLayout,n=s.calcdata,r=o._subplots[f],i=0;i<r.length;i++){var u=r[i],p=b(n,f,u),h=o[u]._subplot;h||(h=a(s,u),o[u]._subplot=h),h.plot(p,o,s._promises)}},clean:function(s,o,n,r){for(var i=r._subplots[f]||[],u=r._has&&r._has("gl"),p=o._has&&o._has("gl"),h=u&&!p,_=0;_<i.length;_++){var m=i[_],d=r[m]._subplot;if(!o[m]&&d)for(var x in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[x].remove();h&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:e(93612).toSVG}},73812:function(L,M,e){"use strict";var b=e(22399),w=e(13838),a=e(27670).Y,k=e(71828).extendFlat,y=e(30962).overrideAll,f=y({color:w.color,showline:k({},w.showline,{dflt:!0}),linecolor:w.linecolor,linewidth:w.linewidth,showgrid:k({},w.showgrid,{dflt:!0}),gridcolor:w.gridcolor,gridwidth:w.gridwidth,griddash:w.griddash},"plot","from-root"),l=y({tickmode:w.minor.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:w.ticks,ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,ticklabelstep:w.ticklabelstep,showticklabels:w.showticklabels,labelalias:w.labelalias,showtickprefix:w.showtickprefix,tickprefix:w.tickprefix,showticksuffix:w.showticksuffix,ticksuffix:w.ticksuffix,showexponent:w.showexponent,exponentformat:w.exponentformat,minexponent:w.minexponent,separatethousands:w.separatethousands,tickfont:w.tickfont,tickangle:w.tickangle,tickformat:w.tickformat,tickformatstops:w.tickformatstops,layer:w.layer},"plot","from-root"),t={visible:k({},w.visible,{dflt:!0}),type:k({},w.type,{values:["-","linear","log","date","category"]}),autotypenumbers:w.autotypenumbers,autorange:k({},w.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:k({},w.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:w.categoryorder,categoryarray:w.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:k({},w.title.text,{editType:"plot",dflt:""}),font:k({},w.title.font,{editType:"plot"}),editType:"plot"},hoverformat:w.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:w._deprecated.title,titlefont:w._deprecated.titlefont}};k(t,f,l);var s={visible:k({},w.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:w.autotypenumbers,categoryorder:w.categoryorder,categoryarray:w.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:w.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};k(s,f,l),L.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:b.background},radialaxis:t,angularaxis:s,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(44467),k=e(49119),y=e(27659).NG,f=e(26218),l=e(38701),t=e(96115),s=e(89426),o=e(15258),n=e(92128),r=e(4322),i=e(73812),u=e(12101),p=e(9813),h=p.axisNames;function _(d,x,g,v){var T=g("bgcolor");v.bgColor=w.combine(T,v.paper_bgcolor);var c=g("sector");g("hole");var E,A=y(v.fullData,p.name,v.id),C=v.layoutOut;function O($,ne){return g(E+"."+$,ne)}for(var P=0;P<h.length;P++){E=h[P],b.isPlainObject(d[E])||(d[E]={});var D=d[E],z=a.newContainer(x,E);z._id=z._name=E,z._attr=v.id+"."+E,z._traceIndices=A.map(function($){return $._expandedIndex});var V=p.axisName2dataArray[E],F=m(D,z,O,A,V,v);o(D,z,O,{axData:A,dataAttr:V});var W=O("visible");switch(u(z,x,C),O("uirevision",x.uirevision),z._m=1,E){case"radialaxis":var B=O("autorange",!z.isValidRange(D.range));D.autorange=B,!B||F!=="linear"&&F!=="-"||O("rangemode"),B==="reversed"&&(z._m=-1),O("range"),z.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){b.log("Polar plots do not support date angular axes yet.");for(var U=0;U<A.length;U++)A[U].visible=!1;F=D.type=z.type="linear"}O(F==="linear"?"thetaunit":"period");var H=O("direction");O("rotation",{counterclockwise:0,clockwise:90}[H])}if(s(D,z,O,z.type,{tickSuffixDflt:z.thetaunit==="degrees"?"\xB0":void 0}),W){var q,ee,K,J,Z=v.font||{};ee=(q=O("color"))===D.color?q:Z.color,K=Z.size,J=Z.family,f(D,z,O,z.type),t(D,z,O,z.type,{font:{color:ee,size:K,family:J}}),l(D,z,O,{outerTicks:!0}),n(D,z,O,{dfltColor:q,bgColor:v.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[E]}),O("layer"),E==="radialaxis"&&(O("side"),O("angle",c[0]),O("title.text"),b.coerceFont(O,"title.font",{color:ee,size:b.bigFont(K),family:J}))}F!=="category"&&O("hoverformat"),z._input=D}x.angularaxis.type==="category"&&g("gridshape")}function m(d,x,g,v,T,c){var E=g("autotypenumbers",c.autotypenumbersDflt);if(g("type")==="-"){for(var A,C=0;C<v.length;C++)if(v[C].visible){A=v[C];break}A&&A[T]&&(x.type=r(A[T],"gregorian",{noMultiCategory:!0,autotypenumbers:E})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}L.exports=function(d,x,g){k(d,x,g,{type:p.name,attributes:i,handleDefaults:_,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:g,layoutOut:x})}},77997:function(L,M,e){"use strict";var b=e(39898),w=e(84267),a=e(73972),k=e(71828),y=k.strRotate,f=k.strTranslate,l=e(7901),t=e(91424),s=e(74875),o=e(89298),n=e(21994),r=e(12101),i=e(71739).doAutoRange,u=e(29323),p=e(28569),h=e(30211),_=e(92998),m=e(47322).prepSelect,d=e(47322).selectOnClick,x=e(47322).clearOutline,g=e(6964),v=e(33306),T=e(61549).redrawReglTraces,c=e(18783).MID_SHIFT,E=e(9813),A=e(10869),C=e(23893),O=C.smith,P=C.reactanceArc,D=C.resistanceArc,z=C.smithTransform,V=k._,F=k.mod,W=k.deg2rad,B=k.rad2deg;function U(J,Z,$){this.isSmith=$||!1,this.id=Z,this.gd=J,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ne=J._fullLayout,ae="clip"+ne._uid+Z;this.clipIds.forTraces=ae+"-for-traces",this.clipPaths.forTraces=ne._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ne["_"+($?"smith":"polar")+"layer"].append("g").attr("class",Z),this.getHole=function(oe){return this.isSmith?0:oe.hole},this.getSector=function(oe){return this.isSmith?[0,360]:oe.sector},this.getRadial=function(oe){return this.isSmith?oe.realaxis:oe.radialaxis},this.getAngular=function(oe){return this.isSmith?oe.imaginaryaxis:oe.angularaxis},$||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=U.prototype;function q(J){var Z=J.ticks+String(J.ticklen)+String(J.showticklabels);return"side"in J&&(Z+=J.side),Z}function ee(J,Z){return Z[k.findIndexOfMin(Z,function($){return k.angleDist(J,$)})]}function K(J,Z,$){return Z?(J.attr("display",null),J.attr($)):J&&J.attr("display","none"),J}L.exports=function(J,Z,$){return new U(J,Z,$)},H.plot=function(J,Z){for(var $=this,ne=Z[$.id],ae=!1,oe=0;oe<J.length;oe++)if(J[oe][0].trace.cliponaxis===!1){ae=!0;break}$._hasClipOnAxisFalse=ae,$.updateLayers(Z,ne),$.updateLayout(Z,ne),s.generalUpdatePerTraceModule($.gd,$,J,ne),$.updateFx(Z,ne),$.isSmith&&(delete ne.realaxis.range,delete ne.imaginaryaxis.range)},H.updateLayers=function(J,Z){var $=this,ne=$.isSmith,ae=$.layers,oe=$.getRadial(Z),se=$.getAngular(Z),ce=E.layerNames,me=ce.indexOf("frontplot"),xe=ce.slice(0,me),ve=se.layer==="below traces",fe=oe.layer==="below traces";ve&&xe.push("angular-line"),fe&&xe.push("radial-line"),ve&&xe.push("angular-axis"),fe&&xe.push("radial-axis"),xe.push("frontplot"),ve||xe.push("angular-line"),fe||xe.push("radial-line"),ve||xe.push("angular-axis"),fe||xe.push("radial-axis");var pe=(ne?"smith":"polar")+"sublayer",Le=$.framework.selectAll("."+pe).data(xe,String);Le.enter().append("g").attr("class",function(ye){return pe+" "+ye}).each(function(ye){var Ae=ae[ye]=b.select(this);switch(ye){case"frontplot":ne||Ae.append("g").classed("barlayer",!0),Ae.append("g").classed("scatterlayer",!0);break;case"backplot":Ae.append("g").classed("maplayer",!0);break;case"plotbg":ae.bg=Ae.append("path");break;case"radial-grid":case"angular-grid":Ae.style("fill","none");break;case"radial-line":Ae.append("line").style("fill","none");break;case"angular-line":Ae.append("path").style("fill","none")}}),Le.order()},H.updateLayout=function(J,Z){var $=this,ne=$.layers,ae=J._size,oe=$.getRadial(Z),se=$.getAngular(Z),ce=Z.domain.x,me=Z.domain.y;$.xOffset=ae.l+ae.w*ce[0],$.yOffset=ae.t+ae.h*(1-me[1]);var xe=$.xLength=ae.w*(ce[1]-ce[0]),ve=$.yLength=ae.h*(me[1]-me[0]),fe=$.getSector(Z);$.sectorInRad=fe.map(W);var pe,Le,ye,Ae,Me,ke=$.sectorBBox=function(st){var ht,xt=st[0],Ct=st[1]-xt,St=F(xt,360),kt=St+Ct,Nt=Math.cos(W(St)),Dt=Math.sin(W(St)),Et=Math.cos(W(kt)),Wt=Math.sin(W(kt));return ht=St<=90&&kt>=90||St>90&&kt>=450?1:Dt<=0&&Wt<=0?0:Math.max(Dt,Wt),[St<=180&&kt>=180||St>180&&kt>=540?-1:Nt>=0&&Et>=0?0:Math.min(Nt,Et),St<=270&&kt>=270||St>270&&kt>=630?-1:Dt>=0&&Wt>=0?0:Math.min(Dt,Wt),kt>=360?1:Nt<=0&&Et<=0?0:Math.max(Nt,Et),ht]}(fe),te=ke[2]-ke[0],ue=ke[3]-ke[1],ge=ve/xe,we=Math.abs(ue/te);ge>we?(pe=xe,Me=(ve-(Le=xe*we))/ae.h/2,ye=[ce[0],ce[1]],Ae=[me[0]+Me,me[1]-Me]):(Le=ve,Me=(xe-(pe=ve/we))/ae.w/2,ye=[ce[0]+Me,ce[1]-Me],Ae=[me[0],me[1]]),$.xLength2=pe,$.yLength2=Le,$.xDomain2=ye,$.yDomain2=Ae;var Ee,Be=$.xOffset2=ae.l+ae.w*ye[0],Re=$.yOffset2=ae.t+ae.h*(1-Ae[1]),je=$.radius=pe/te,he=$.innerRadius=$.getHole(Z)*je,_e=$.cx=Be-je*ke[0],Te=$.cy=Re+je*ke[3],Fe=$.cxx=_e-Be,Ye=$.cyy=Te-Re,Ge=oe.side;Ge==="counterclockwise"?(Ee=Ge,Ge="top"):Ge==="clockwise"&&(Ee=Ge,Ge="bottom"),$.radialAxis=$.mockAxis(J,Z,oe,{_id:"x",side:Ge,_trueSide:Ee,domain:[he/ae.w,je/ae.w]}),$.angularAxis=$.mockAxis(J,Z,se,{side:"right",domain:[0,Math.PI],autorange:!1}),$.doAutoRange(J,Z),$.updateAngularAxis(J,Z),$.updateRadialAxis(J,Z),$.updateRadialAxisTitle(J,Z),$.xaxis=$.mockCartesianAxis(J,Z,{_id:"x",domain:ye}),$.yaxis=$.mockCartesianAxis(J,Z,{_id:"y",domain:Ae});var ot=$.pathSubplot();$.clipPaths.forTraces.select("path").attr("d",ot).attr("transform",f(Fe,Ye)),ne.frontplot.attr("transform",f(Be,Re)).call(t.setClipUrl,$._hasClipOnAxisFalse?null:$.clipIds.forTraces,$.gd),ne.bg.attr("d",ot).attr("transform",f(_e,Te)).call(l.fill,Z.bgcolor)},H.mockAxis=function(J,Z,$,ne){var ae=k.extendFlat({},$,ne);return r(ae,Z,J),ae},H.mockCartesianAxis=function(J,Z,$){var ne=this,ae=ne.isSmith,oe=$._id,se=k.extendFlat({type:"linear"},$);n(se,J);var ce={x:[0,2],y:[1,3]};return se.setRange=function(){var me=ne.sectorBBox,xe=ce[oe],ve=ne.radialAxis._rl,fe=(ve[1]-ve[0])/(1-ne.getHole(Z));se.range=[me[xe[0]]*fe,me[xe[1]]*fe]},se.isPtWithinRange=oe!=="x"||ae?function(){return!0}:function(me){return ne.isPtInside(me)},se.setRange(),se.setScale(),se},H.doAutoRange=function(J,Z){var $=this,ne=$.gd,ae=$.radialAxis,oe=$.getRadial(Z);i(ne,ae);var se=ae.range;oe.range=se.slice(),oe._input.range=se.slice(),ae._rl=[ae.r2l(se[0],null,"gregorian"),ae.r2l(se[1],null,"gregorian")]},H.updateRadialAxis=function(J,Z){var $=this,ne=$.gd,ae=$.layers,oe=$.radius,se=$.innerRadius,ce=$.cx,me=$.cy,xe=$.getRadial(Z),ve=F($.getSector(Z)[0],360),fe=$.radialAxis,pe=se<oe,Le=$.isSmith;Le||($.fillViewInitialKey("radialaxis.angle",xe.angle),$.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&ve>90&&ve<=270&&(fe.tickangle=180);var ye=Le?function(Re){var je=z($,O([Re.x,0]));return f(je[0]-ce,je[1]-me)}:function(Re){return f(fe.l2p(Re.x)+se,0)},Ae=Le?function(Re){return D($,Re.x,-1/0,1/0)}:function(Re){return $.pathArc(fe.r2p(Re.x)+se)},Me=q(xe);if($.radialTickLayout!==Me&&(ae["radial-axis"].selectAll(".xtick").remove(),$.radialTickLayout=Me),pe){fe.setScale();var ke=0,te=Le?(fe.tickvals||[]).filter(function(Re){return Re>=0}).map(function(Re){return o.tickText(fe,Re,!0,!1)}):o.calcTicks(fe),ue=Le?te:o.clipEnds(fe,te),ge=o.getTickSigns(fe)[2];Le&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(ge=-ge),fe.ticks==="top"&&fe.side==="top"&&(ke=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(ke=fe.ticklen)),o.drawTicks(ne,fe,{vals:te,layer:ae["radial-axis"],path:o.makeTickPath(fe,0,ge),transFn:ye,crisp:!1}),o.drawGrid(ne,fe,{vals:ue,layer:ae["radial-grid"],path:Ae,transFn:k.noop,crisp:!1}),o.drawLabels(ne,fe,{vals:te,layer:ae["radial-axis"],transFn:ye,labelFns:o.makeLabelFns(fe,ke)})}var we=$.radialAxisAngle=$.vangles?B(ee(W(xe.angle),$.vangles)):xe.angle,Ee=f(ce,me),Be=Ee+y(-we);K(ae["radial-axis"],pe&&(xe.showticklabels||xe.ticks),{transform:Be}),K(ae["radial-grid"],pe&&xe.showgrid,{transform:Le?"":Ee}),K(ae["radial-line"].select("line"),pe&&xe.showline,{x1:Le?-oe:se,y1:0,x2:oe,y2:0,transform:Be}).attr("stroke-width",xe.linewidth).call(l.stroke,xe.linecolor)},H.updateRadialAxisTitle=function(J,Z,$){if(!this.isSmith){var ne=this,ae=ne.gd,oe=ne.radius,se=ne.cx,ce=ne.cy,me=ne.getRadial(Z),xe=ne.id+"title",ve=0;if(me.title){var fe=t.bBox(ne.layers["radial-axis"].node()).height,pe=me.title.font.size,Le=me.side;ve=Le==="top"?pe:Le==="counterclockwise"?-(fe+.4*pe):fe+.8*pe}var ye=$!==void 0?$:ne.radialAxisAngle,Ae=W(ye),Me=Math.cos(Ae),ke=Math.sin(Ae),te=se+oe/2*Me+ve*ke,ue=ce-oe/2*ke+ve*Me;ne.layers["radial-axis-title"]=_.draw(ae,xe,{propContainer:me,propName:ne.id+".radialaxis.title",placeholder:V(ae,"Click to enter radial axis title"),attributes:{x:te,y:ue,"text-anchor":"middle"},transform:{rotate:-ye}})}},H.updateAngularAxis=function(J,Z){var $=this,ne=$.gd,ae=$.layers,oe=$.radius,se=$.innerRadius,ce=$.cx,me=$.cy,xe=$.getAngular(Z),ve=$.angularAxis,fe=$.isSmith;fe||($.fillViewInitialKey("angularaxis.rotation",xe.rotation),ve.setGeometry(),ve.setScale());var pe=fe?function(Re){var je=z($,O([0,Re.x]));return Math.atan2(je[0]-ce,je[1]-me)-Math.PI/2}:function(Re){return ve.t2g(Re.x)};ve.type==="linear"&&ve.thetaunit==="radians"&&(ve.tick0=B(ve.tick0),ve.dtick=B(ve.dtick));var Le=function(Re){return f(ce+oe*Math.cos(Re),me-oe*Math.sin(Re))},ye=fe?function(Re){var je=z($,O([0,Re.x]));return f(je[0],je[1])}:function(Re){return Le(pe(Re))},Ae=fe?function(Re){var je=z($,O([0,Re.x])),he=Math.atan2(je[0]-ce,je[1]-me)-Math.PI/2;return f(je[0],je[1])+y(-B(he))}:function(Re){var je=pe(Re);return Le(je)+y(-B(je))},Me=fe?function(Re){return P($,Re.x,0,1/0)}:function(Re){var je=pe(Re),he=Math.cos(je),_e=Math.sin(je);return"M"+[ce+se*he,me-se*_e]+"L"+[ce+oe*he,me-oe*_e]},ke=o.makeLabelFns(ve,0).labelStandoff,te={xFn:function(Re){var je=pe(Re);return Math.cos(je)*ke},yFn:function(Re){var je=pe(Re),he=Math.sin(je)>0?.2:1;return-Math.sin(je)*(ke+Re.fontSize*he)+Math.abs(Math.cos(je))*(Re.fontSize*c)},anchorFn:function(Re){var je=pe(Re),he=Math.cos(je);return Math.abs(he)<.1?"middle":he>0?"start":"end"},heightFn:function(Re,je,he){var _e=pe(Re);return-.5*(1+Math.sin(_e))*he}},ue=q(xe);$.angularTickLayout!==ue&&(ae["angular-axis"].selectAll("."+ve._id+"tick").remove(),$.angularTickLayout=ue);var ge,we=fe?[1/0].concat(ve.tickvals||[]).map(function(Re){return o.tickText(ve,Re,!0,!1)}):o.calcTicks(ve);if(fe&&(we[0].text="\u221E",we[0].fontSize*=1.75),Z.gridshape==="linear"?(ge=we.map(pe),k.angleDelta(ge[0],ge[1])<0&&(ge=ge.slice().reverse())):ge=null,$.vangles=ge,ve.type==="category"&&(we=we.filter(function(Re){return k.isAngleInsideSector(pe(Re),$.sectorInRad)})),ve.visible){var Ee=ve.ticks==="inside"?-1:1,Be=(ve.linewidth||1)/2;o.drawTicks(ne,ve,{vals:we,layer:ae["angular-axis"],path:"M"+Ee*Be+",0h"+Ee*ve.ticklen,transFn:Ae,crisp:!1}),o.drawGrid(ne,ve,{vals:we,layer:ae["angular-grid"],path:Me,transFn:k.noop,crisp:!1}),o.drawLabels(ne,ve,{vals:we,layer:ae["angular-axis"],repositionOnUpdate:!0,transFn:ye,labelFns:te})}K(ae["angular-line"].select("path"),xe.showline,{d:$.pathSubplot(),transform:f(ce,me)}).attr("stroke-width",xe.linewidth).call(l.stroke,xe.linecolor)},H.updateFx=function(J,Z){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(J),this.updateRadialDrag(J,Z,0),this.updateRadialDrag(J,Z,1)),this.updateHoverAndMainDrag(J))},H.updateHoverAndMainDrag=function(J){var Z,$,ne=this,ae=ne.isSmith,oe=ne.gd,se=ne.layers,ce=J._zoomlayer,me=E.MINZOOM,xe=E.OFFEDGE,ve=ne.radius,fe=ne.innerRadius,pe=ne.cx,Le=ne.cy,ye=ne.cxx,Ae=ne.cyy,Me=ne.sectorInRad,ke=ne.vangles,te=ne.radialAxis,ue=A.clampTiny,ge=A.findXYatLength,we=A.findEnclosingVertexAngles,Ee=E.cornerHalfWidth,Be=E.cornerLen/2,Re=u.makeDragger(se,"path","maindrag",J.dragmode===!1?"none":"crosshair");b.select(Re).attr("d",ne.pathSubplot()).attr("transform",f(pe,Le)),Re.onmousemove=function(Oe){h.hover(oe,Oe,ne.id),oe._fullLayout._lasthover=Re,oe._fullLayout._hoversubplot=ne.id},Re.onmouseout=function(Oe){oe._dragging||p.unhover(oe,Oe)};var je,he,_e,Te,Fe,Ye,Ge,ot,st,ht={element:Re,gd:oe,subplot:ne.id,plotinfo:{id:ne.id,xaxis:ne.xaxis,yaxis:ne.yaxis},xaxes:[ne.xaxis],yaxes:[ne.yaxis]};function xt(Oe,Ne){return Math.sqrt(Oe*Oe+Ne*Ne)}function Ct(Oe,Ne){return xt(Oe-ye,Ne-Ae)}function St(Oe,Ne){return Math.atan2(Ae-Ne,Oe-ye)}function kt(Oe,Ne){return[Oe*Math.cos(Ne),Oe*Math.sin(-Ne)]}function Nt(Oe,Ne){if(Oe===0)return ne.pathSector(2*Ee);var Qe=Be/Oe,ut=Ne-Qe,pt=Ne+Qe,wt=Math.max(0,Math.min(Oe,ve)),Lt=wt-Ee,It=wt+Ee;return"M"+kt(Lt,ut)+"A"+[Lt,Lt]+" 0,0,0 "+kt(Lt,pt)+"L"+kt(It,pt)+"A"+[It,It]+" 0,0,1 "+kt(It,ut)+"Z"}function Dt(Oe,Ne,Qe){if(Oe===0)return ne.pathSector(2*Ee);var ut,pt,wt=kt(Oe,Ne),Lt=kt(Oe,Qe),It=ue((wt[0]+Lt[0])/2),yt=ue((wt[1]+Lt[1])/2);if(It&&yt){var Rt=yt/It,bt=-1/Rt,Pt=ge(Ee,Rt,It,yt);ut=ge(Be,bt,Pt[0][0],Pt[0][1]),pt=ge(Be,bt,Pt[1][0],Pt[1][1])}else{var Bt,Zt;yt?(Bt=Be,Zt=Ee):(Bt=Ee,Zt=Be),ut=[[It-Bt,yt-Zt],[It+Bt,yt-Zt]],pt=[[It-Bt,yt+Zt],[It+Bt,yt+Zt]]}return"M"+ut.join("L")+"L"+pt.reverse().join("L")+"Z"}function Et(Oe,Ne){return Ne=Math.max(Math.min(Ne,ve),fe),Oe<xe?Oe=0:ve-Oe<xe?Oe=ve:Ne<xe?Ne=0:ve-Ne<xe&&(Ne=ve),Math.abs(Ne-Oe)>me?(Oe<Ne?(_e=Oe,Te=Ne):(_e=Ne,Te=Oe),!0):(_e=null,Te=null,!1)}function Wt(Oe,Ne){Oe=Oe||Fe,Ne=Ne||"M0,0Z",ot.attr("d",Oe),st.attr("d",Ne),u.transitionZoombox(ot,st,Ye,Ge),Ye=!0;var Qe={};nt(Qe),oe.emit("plotly_relayouting",Qe)}function Ht(Oe,Ne){var Qe,ut,pt=je+(Oe*=Z),wt=he+(Ne*=$),Lt=Ct(je,he),It=Math.min(Ct(pt,wt),ve),yt=St(je,he);Et(Lt,It)&&(Qe=Fe+ne.pathSector(Te),_e&&(Qe+=ne.pathSector(_e)),ut=Nt(_e,yt)+Nt(Te,yt)),Wt(Qe,ut)}function Ke(Oe,Ne,Qe,ut){var pt=A.findIntersectionXY(Qe,ut,Qe,[Oe-ye,Ae-Ne]);return xt(pt[0],pt[1])}function $e(Oe,Ne){var Qe,ut,pt=je+Oe,wt=he+Ne,Lt=St(je,he),It=St(pt,wt),yt=we(Lt,ke),Rt=we(It,ke);Et(Ke(je,he,yt[0],yt[1]),Math.min(Ke(pt,wt,Rt[0],Rt[1]),ve))&&(Qe=Fe+ne.pathSector(Te),_e&&(Qe+=ne.pathSector(_e)),ut=[Dt(_e,yt[0],yt[1]),Dt(Te,yt[0],yt[1])].join(" ")),Wt(Qe,ut)}function Ue(){if(u.removeZoombox(oe),_e!==null&&Te!==null){var Oe={};nt(Oe),u.showDoubleClickNotifier(oe),a.call("_guiRelayout",oe,Oe)}}function nt(Oe){var Ne=te._rl,Qe=(Ne[1]-Ne[0])/(1-fe/ve)/ve,ut=[Ne[0]+(_e-fe)*Qe,Ne[0]+(Te-fe)*Qe];Oe[ne.id+".radialaxis.range"]=ut}function ct(Oe,Ne){var Qe=oe._fullLayout.clickmode;if(u.removeZoombox(oe),Oe===2){var ut={};for(var pt in ne.viewInitial)ut[ne.id+"."+pt]=ne.viewInitial[pt];oe.emit("plotly_doubleclick",null),a.call("_guiRelayout",oe,ut)}Qe.indexOf("select")>-1&&Oe===1&&d(Ne,oe,[ne.xaxis],[ne.yaxis],ne.id,ht),Qe.indexOf("event")>-1&&h.click(oe,Ne,ne.id)}ht.prepFn=function(Oe,Ne,Qe){var ut=oe._fullLayout.dragmode,pt=Re.getBoundingClientRect();oe._fullLayout._calcInverseTransform(oe);var wt=oe._fullLayout._invTransform;Z=oe._fullLayout._invScaleX,$=oe._fullLayout._invScaleY;var Lt=k.apply3DTransform(wt)(Ne-pt.left,Qe-pt.top);if(je=Lt[0],he=Lt[1],ke){var It=A.findPolygonOffset(ve,Me[0],Me[1],ke);je+=ye+It[0],he+=Ae+It[1]}switch(ut){case"zoom":ht.clickFn=ct,ae||(ht.moveFn=ke?$e:Ht,ht.doneFn=Ue,function(){_e=null,Te=null,Fe=ne.pathSubplot(),Ye=!1;var yt=oe._fullLayout[ne.id];Ge=w(yt.bgcolor).getLuminance(),(ot=u.makeZoombox(ce,Ge,pe,Le,Fe)).attr("fill-rule","evenodd"),st=u.makeCorners(ce,pe,Le),x(oe)}());break;case"select":case"lasso":m(Oe,Ne,Qe,ht,ut)}},p.init(ht)},H.updateRadialDrag=function(J,Z,$){var ne=this,ae=ne.gd,oe=ne.layers,se=ne.radius,ce=ne.innerRadius,me=ne.cx,xe=ne.cy,ve=ne.radialAxis,fe=E.radialDragBoxSize,pe=fe/2;if(ve.visible){var Le,ye,Ae,Me=W(ne.radialAxisAngle),ke=ve._rl,te=ke[0],ue=ke[1],ge=ke[$],we=.75*(ke[1]-ke[0])/(1-ne.getHole(Z))/se;$?(Le=me+(se+pe)*Math.cos(Me),ye=xe-(se+pe)*Math.sin(Me),Ae="radialdrag"):(Le=me+(ce-pe)*Math.cos(Me),ye=xe-(ce-pe)*Math.sin(Me),Ae="radialdrag-inner");var Ee,Be,Re,je=u.makeRectDragger(oe,Ae,"crosshair",-pe,-pe,fe,fe),he={element:je,gd:ae};J.dragmode===!1&&(he.dragmode=!1),K(b.select(je),ve.visible&&ce<se,{transform:f(Le,ye)}),he.prepFn=function(){Ee=null,Be=null,Re=null,he.moveFn=_e,he.doneFn=Te,x(ae)},he.clampFn=function(Ge,ot){return Math.sqrt(Ge*Ge+ot*ot)<E.MINDRAG&&(Ge=0,ot=0),[Ge,ot]},p.init(he)}function _e(Ge,ot){if(Ee)Ee(Ge,ot);else{var st=[Ge,-ot],ht=[Math.cos(Me),Math.sin(Me)],xt=Math.abs(k.dot(st,ht)/Math.sqrt(k.dot(st,st)));isNaN(xt)||(Ee=xt<.5?Fe:Ye)}var Ct={};(function(St){Be!==null?St[ne.id+".radialaxis.angle"]=Be:Re!==null&&(St[ne.id+".radialaxis.range["+$+"]"]=Re)})(Ct),ae.emit("plotly_relayouting",Ct)}function Te(){Be!==null?a.call("_guiRelayout",ae,ne.id+".radialaxis.angle",Be):Re!==null&&a.call("_guiRelayout",ae,ne.id+".radialaxis.range["+$+"]",Re)}function Fe(Ge,ot){if($!==0){var st=Le+Ge,ht=ye+ot;Be=Math.atan2(xe-ht,st-me),ne.vangles&&(Be=ee(Be,ne.vangles)),Be=B(Be);var xt=f(me,xe)+y(-Be);oe["radial-axis"].attr("transform",xt),oe["radial-line"].select("line").attr("transform",xt);var Ct=ne.gd._fullLayout,St=Ct[ne.id];ne.updateRadialAxisTitle(Ct,St,Be)}}function Ye(Ge,ot){var st=k.dot([Ge,-ot],[Math.cos(Me),Math.sin(Me)]);if(Re=ge-we*st,we>0==($?Re>te:Re<ue)){var ht=ae._fullLayout,xt=ht[ne.id];ve.range[$]=Re,ve._rl[$]=Re,ne.updateRadialAxis(ht,xt),ne.xaxis.setRange(),ne.xaxis.setScale(),ne.yaxis.setRange(),ne.yaxis.setScale();var Ct=!1;for(var St in ne.traceHash){var kt=ne.traceHash[St],Nt=k.filterVisible(kt);kt[0][0].trace._module.plot(ae,ne,Nt,xt),a.traceIs(St,"gl")&&Nt.length&&(Ct=!0)}Ct&&(v(ae),T(ae))}else Re=null}},H.updateAngularDrag=function(J){var Z=this,$=Z.gd,ne=Z.layers,ae=Z.radius,oe=Z.angularAxis,se=Z.cx,ce=Z.cy,me=Z.cxx,xe=Z.cyy,ve=E.angularDragBoxSize,fe=u.makeDragger(ne,"path","angulardrag",J.dragmode===!1?"none":"move"),pe={element:fe,gd:$};function Le(he,_e){return Math.atan2(xe+ve-_e,he-me-ve)}J.dragmode===!1?pe.dragmode=!1:b.select(fe).attr("d",Z.pathAnnulus(ae,ae+ve)).attr("transform",f(se,ce)).call(g,"move");var ye,Ae,Me,ke,te,ue,ge=ne.frontplot.select(".scatterlayer").selectAll(".trace"),we=ge.selectAll(".point"),Ee=ge.selectAll(".textpoint");function Be(he,_e){var Te=Z.gd._fullLayout,Fe=Te[Z.id],Ye=Le(ye+he*J._invScaleX,Ae+_e*J._invScaleY),Ge=B(Ye-ue);if(ke=Me+Ge,ne.frontplot.attr("transform",f(Z.xOffset2,Z.yOffset2)+y([-Ge,me,xe])),Z.vangles){te=Z.radialAxisAngle+Ge;var ot=f(se,ce)+y(-Ge),st=f(se,ce)+y(-te);ne.bg.attr("transform",ot),ne["radial-grid"].attr("transform",ot),ne["radial-axis"].attr("transform",st),ne["radial-line"].select("line").attr("transform",st),Z.updateRadialAxisTitle(Te,Fe,te)}else Z.clipPaths.forTraces.select("path").attr("transform",f(me,xe)+y(Ge));we.each(function(){var Nt=b.select(this),Dt=t.getTranslate(Nt);Nt.attr("transform",f(Dt.x,Dt.y)+y([Ge]))}),Ee.each(function(){var Nt=b.select(this),Dt=Nt.select("text"),Et=t.getTranslate(Nt);Nt.attr("transform",y([Ge,Dt.attr("x"),Dt.attr("y")])+f(Et.x,Et.y))}),oe.rotation=k.modHalf(ke,360),Z.updateAngularAxis(Te,Fe),Z._hasClipOnAxisFalse&&!k.isFullCircle(Z.sectorInRad)&&ge.call(t.hideOutsideRangePoints,Z);var ht=!1;for(var xt in Z.traceHash)if(a.traceIs(xt,"gl")){var Ct=Z.traceHash[xt],St=k.filterVisible(Ct);Ct[0][0].trace._module.plot($,Z,St,Fe),St.length&&(ht=!0)}ht&&(v($),T($));var kt={};Re(kt),$.emit("plotly_relayouting",kt)}function Re(he){he[Z.id+".angularaxis.rotation"]=ke,Z.vangles&&(he[Z.id+".radialaxis.angle"]=te)}function je(){Ee.select("text").attr("transform",null);var he={};Re(he),a.call("_guiRelayout",$,he)}pe.prepFn=function(he,_e,Te){var Fe=J[Z.id];Me=Fe.angularaxis.rotation;var Ye=fe.getBoundingClientRect();ye=_e-Ye.left,Ae=Te-Ye.top,$._fullLayout._calcInverseTransform($);var Ge=k.apply3DTransform(J._invTransform)(ye,Ae);ye=Ge[0],Ae=Ge[1],ue=Le(ye,Ae),pe.moveFn=Be,pe.doneFn=je,x($)},Z.vangles&&!k.isFullCircle(Z.sectorInRad)&&(pe.prepFn=k.noop,g(b.select(fe),null)),p.init(pe)},H.isPtInside=function(J){if(this.isSmith)return!0;var Z=this.sectorInRad,$=this.vangles,ne=this.angularAxis.c2g(J.theta),ae=this.radialAxis,oe=ae.c2l(J.r),se=ae._rl;return($?A.isPtInsidePolygon:k.isPtInsideSector)(oe,ne,se,Z,$)},H.pathArc=function(J){var Z=this.sectorInRad,$=this.vangles;return($?A.pathPolygon:k.pathArc)(J,Z[0],Z[1],$)},H.pathSector=function(J){var Z=this.sectorInRad,$=this.vangles;return($?A.pathPolygon:k.pathSector)(J,Z[0],Z[1],$)},H.pathAnnulus=function(J,Z){var $=this.sectorInRad,ne=this.vangles;return(ne?A.pathPolygonAnnulus:k.pathAnnulus)(J,Z,$[0],$[1],ne)},H.pathSubplot=function(){var J=this.innerRadius,Z=this.radius;return J?this.pathAnnulus(J,Z):this.pathSector(Z)},H.fillViewInitialKey=function(J,Z){J in this.viewInitial||(this.viewInitial[J]=Z)}},12101:function(L,M,e){"use strict";var b=e(71828),w=e(21994),a=b.deg2rad,k=b.rad2deg;L.exports=function(y,f,l){switch(w(y,l),y._id){case"x":case"radialaxis":(function(t,s){var o=s._subplot;t.setGeometry=function(){var n=t._rl[0],r=t._rl[1],i=o.innerRadius,u=(o.radius-i)/(r-n),p=i/u,h=n>r?function(_){return _<=0}:function(_){return _>=0};t.c2g=function(_){var m=t.c2l(_)-n;return(h(m)?m:0)+p},t.g2c=function(_){return t.l2c(_+n-p)},t.g2p=function(_){return _*u},t.c2p=function(_){return t.g2p(t.c2g(_))}}})(y,f);break;case"angularaxis":(function(t,s){var o=t.type;if(o==="linear"){var n=t.d2c,r=t.c2d;t.d2c=function(i,u){return function(p,h){return h==="degrees"?a(p):p}(n(i),u)},t.c2d=function(i,u){return r(function(p,h){return h==="degrees"?k(p):p}(i,u))}}t.makeCalcdata=function(i,u){var p,h,_=i[u],m=i._length,d=function(c){return t.d2c(c,i.thetaunit)};if(_){if(b.isTypedArray(_)&&o==="linear"){if(m===_.length)return _;if(_.subarray)return _.subarray(0,m)}for(p=new Array(m),h=0;h<m;h++)p[h]=d(_[h])}else{var x=u+"0",g="d"+u,v=x in i?d(i[x]):0,T=i[g]?d(i[g]):(t.period||2*Math.PI)/m;for(p=new Array(m),h=0;h<m;h++)p[h]=v+h*T}return p},t.setGeometry=function(){var i,u,p,h,_=s.sector,m=_.map(a),d={clockwise:-1,counterclockwise:1}[t.direction],x=a(t.rotation),g=function(E){return d*E+x},v=function(E){return(E-x)/d};switch(o){case"linear":u=i=b.identity,h=a,p=k,t.range=b.isFullCircle(m)?[_[0],_[0]+360]:m.map(v).map(k);break;case"category":var T=t._categories.length,c=t.period?Math.max(t.period,T):T;c===0&&(c=1),u=h=function(E){return 2*E*Math.PI/c},i=p=function(E){return E*c/Math.PI/2},t.range=[0,c]}t.c2g=function(E){return g(u(E))},t.g2c=function(E){return i(v(E))},t.t2g=function(E){return g(h(E))},t.g2t=function(E){return p(v(E))}}})(y,f)}}},39779:function(L){"use strict";L.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(L){"use strict";function M(a){return a<0?-1:a>0?1:0}function e(a){var k=a[0],y=a[1];if(!isFinite(k)||!isFinite(y))return[1,0];var f=(k+1)*(k+1)+y*y;return[(k*k+y*y-1)/f,2*y/f]}function b(a,k){var y=k[0],f=k[1];return[y*a.radius+a.cx,-f*a.radius+a.cy]}function w(a,k){return k*a.radius}L.exports={smith:e,reactanceArc:function(a,k,y,f){var l=b(a,e([y,k])),t=l[0],s=l[1],o=b(a,e([f,k])),n=o[0],r=o[1];if(k===0)return["M"+t+","+s,"L"+n+","+r].join(" ");var i=w(a,1/Math.abs(k));return["M"+t+","+s,"A"+i+","+i+" 0 0,"+(k<0?1:0)+" "+n+","+r].join(" ")},resistanceArc:function(a,k,y,f){var l=w(a,1/(k+1)),t=b(a,e([k,y])),s=t[0],o=t[1],n=b(a,e([k,f])),r=n[0],i=n[1];if(M(y)!==M(f)){var u=b(a,e([k,0]));return["M"+s+","+o,"A"+l+","+l+" 0 0,"+(0<y?0:1)+" "+u[0]+","+u[1],"A"+l+","+l+" 0 0,"+(f<0?0:1)+r+","+i].join(" ")}return["M"+s+","+o,"A"+l+","+l+" 0 0,"+(f<y?0:1)+" "+r+","+i].join(" ")},smithTransform:b}},7504:function(L,M,e){"use strict";var b=e(27659).AU,w=e(71828).counterRegex,a=e(77997),k=e(39779),y=k.attr,f=k.name,l=w(f),t={};t[y]={valType:"subplotid",dflt:f,editType:"calc"},L.exports={attr:y,name:f,idRoot:f,idRegex:l,attrRegex:l,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function(s){for(var o=s._fullLayout,n=s.calcdata,r=o._subplots[f],i=0;i<r.length;i++){var u=r[i],p=b(n,f,u),h=o[u]._subplot;h||(h=a(s,u,!0),o[u]._subplot=h),h.plot(p,o,s._promises)}},clean:function(s,o,n,r){for(var i=r._subplots[f]||[],u=0;u<i.length;u++){var p=i[u],h=r[p]._subplot;if(!o[p]&&h)for(var _ in h.framework.remove(),h.clipPaths)h.clipPaths[_].remove()}},toSVG:e(93612).toSVG}},33419:function(L,M,e){"use strict";var b=e(22399),w=e(13838),a=e(27670).Y,k=e(71828).extendFlat,y=e(30962).overrideAll,f=y({color:w.color,showline:k({},w.showline,{dflt:!0}),linecolor:w.linecolor,linewidth:w.linewidth,showgrid:k({},w.showgrid,{dflt:!0}),gridcolor:w.gridcolor,gridwidth:w.gridwidth,griddash:w.griddash},"plot","from-root"),l=y({ticklen:w.ticklen,tickwidth:k({},w.tickwidth,{dflt:2}),tickcolor:w.tickcolor,showticklabels:w.showticklabels,labelalias:w.labelalias,showtickprefix:w.showtickprefix,tickprefix:w.tickprefix,showticksuffix:w.showticksuffix,ticksuffix:w.ticksuffix,tickfont:w.tickfont,tickformat:w.tickformat,hoverformat:w.hoverformat,layer:w.layer},"plot","from-root"),t=k({visible:k({},w.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:k({},w.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},f,l),s=k({visible:k({},w.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:w.ticks,editType:"calc"},f,l);L.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:b.background},realaxis:t,imaginaryaxis:s,editType:"calc"}},9558:function(L,M,e){"use strict";var b,w,a,k=e(71828),y=e(7901),f=e(44467),l=e(49119),t=e(27659).NG,s=e(89426),o=e(96115),n=e(92128),r=e(21994),i=e(33419),u=e(39779),p=u.axisNames,h=(b=function(m){return m.slice().reverse().map(function(d){return-d}).concat([0]).concat(m)},w=String,a={},function(m){var d=w?w(m):m;if(d in a)return a[d];var x=b(m);return a[d]=x,x});function _(m,d,x,g){var v=x("bgcolor");g.bgColor=y.combine(v,g.paper_bgcolor);var T,c=t(g.fullData,u.name,g.id),E=g.layoutOut;function A(H,q){return x(T+"."+H,q)}for(var C=0;C<p.length;C++){T=p[C],k.isPlainObject(m[T])||(m[T]={});var O=m[T],P=f.newContainer(d,T);P._id=P._name=T,P._attr=g.id+"."+T,P._traceIndices=c.map(function(H){return H._expandedIndex});var D=A("visible");if(P.type="linear",r(P,E),s(O,P,A,P.type),D){var z,V,F,W,B=T==="realaxis";B&&A("side"),B?A("tickvals"):A("tickvals",h(d.realaxis.tickvals||i.realaxis.tickvals.dflt));var U=g.font||{};D&&(V=(z=A("color"))===O.color?z:U.color,F=U.size,W=U.family),o(O,P,A,P.type,{noTicklabelstep:!0,noAng:!B,noExp:!0,font:{color:V,size:F,family:W}}),k.coerce2(m,d,i,T+".ticklen"),k.coerce2(m,d,i,T+".tickwidth"),k.coerce2(m,d,i,T+".tickcolor",d.color),A("ticks")||(delete d[T].ticklen,delete d[T].tickwidth,delete d[T].tickcolor),n(O,P,A,{dfltColor:z,bgColor:g.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[T]}),A("layer")}A("hoverformat"),delete P.type,P._input=O}}L.exports=function(m,d,x){l(m,d,x,{noUirevision:!0,type:u.name,attributes:i,handleDefaults:_,font:d.font,paper_bgcolor:d.paper_bgcolor,fullData:x,layoutOut:d})}},49119:function(L,M,e){"use strict";var b=e(71828),w=e(44467),a=e(27670).c;L.exports=function(k,y,f,l){var t,s,o=l.type,n=l.attributes,r=l.handleDefaults,i=l.partition||"x",u=y._subplots[o],p=u.length,h=p&&u[0].replace(/\d+$/,"");function _(g,v){return b.coerce(t,s,n,g,v)}for(var m=0;m<p;m++){var d=u[m];t=k[d]?k[d]:k[d]={},s=w.newContainer(y,d,h),l.noUirevision||_("uirevision",y.uirevision);var x={};x[i]=[m/p,(m+1)/p],a(s,y,_,x),l.id=d,r(t,s,_,l)}}},5386:function(L,M,e){"use strict";var b=e(31562);function w(a){var k=a.description?" "+a.description:"",y=a.keys||[];if(y.length>0){for(var f=[],l=0;l<y.length;l++)f[l]="`"+y[l]+"`";k+="Finally, the template string has access to ",k=y.length===1?k+"variable "+f[0]:k+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return k}b.FORMAT_LINK,b.DATE_FORMAT_LINK,M.fF=function(a,k){a=a||{},w(k=k||{});var y={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(y.arrayOk=!0),y},M.si=function(a,k){a=a||{},w(k=k||{});var y={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(y.arrayOk=!0),y},M.R=function(a,k){return k=k||{},(a=a||{}).newshape,w(k),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},61639:function(L,M,e){"use strict";var b=e(64380),w=e(27659).AU,a=e(71828).counterRegex,k="ternary";M.name=k;var y=M.attr="subplot";M.idRoot=k,M.idRegex=M.attrRegex=a(k),(M.attributes={})[y]={valType:"subplotid",dflt:"ternary",editType:"calc"},M.layoutAttributes=e(81367),M.supplyLayoutDefaults=e(25369),M.plot=function(f){for(var l=f._fullLayout,t=f.calcdata,s=l._subplots.ternary,o=0;o<s.length;o++){var n=s[o],r=w(t,k,n),i=l[n]._subplot;i||(i=new b({id:n,graphDiv:f,container:l._ternarylayer.node()},l),l[n]._subplot=i),i.plot(r,l,f._promises)}},M.clean=function(f,l,t,s){for(var o=s._subplots.ternary||[],n=0;n<o.length;n++){var r=o[n],i=s[r]._subplot;!l[r]&&i&&(i.plotContainer.remove(),i.clipDef.remove(),i.clipDefRelative.remove(),i.layers["a-title"].remove(),i.layers["b-title"].remove(),i.layers["c-title"].remove())}}},81367:function(L,M,e){"use strict";var b=e(22399),w=e(27670).Y,a=e(13838),k=e(30962).overrideAll,y=e(1426).extendFlat,f={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:y({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:y({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:y({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},l=L.exports=k({domain:w({name:"ternary"}),bgcolor:{valType:"color",dflt:b.background},sum:{valType:"number",dflt:1,min:0},aaxis:f,baxis:f,caxis:f},"plot","from-root");l.uirevision={valType:"any",editType:"none"},l.aaxis.uirevision=l.baxis.uirevision=l.caxis.uirevision={valType:"any",editType:"none"}},25369:function(L,M,e){"use strict";var b=e(7901),w=e(44467),a=e(71828),k=e(49119),y=e(96115),f=e(89426),l=e(38701),t=e(26218),s=e(92128),o=e(81367),n=["aaxis","baxis","caxis"];function r(u,p,h,_){var m,d,x,g=h("bgcolor"),v=h("sum");_.bgColor=b.combine(g,_.paper_bgcolor);for(var T=0;T<n.length;T++)d=u[m=n[T]]||{},(x=w.newContainer(p,m))._name=m,i(d,x,_,p);var c=p.aaxis,E=p.baxis,A=p.caxis;c.min+E.min+A.min>=v&&(c.min=0,E.min=0,A.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function i(u,p,h,_){var m=o[p._name];function d(E,A){return a.coerce(u,p,m,E,A)}d("uirevision",_.uirevision),p.type="linear";var x=d("color"),g=x!==m.color.dflt?x:h.font.color,v=p._name.charAt(0).toUpperCase(),T="Component "+v,c=d("title.text",T);p._hovertitle=c===T?c:v,a.coerceFont(d,"title.font",{family:h.font.family,size:a.bigFont(h.font.size),color:g}),d("min"),t(u,p,d,"linear"),f(u,p,d,"linear"),y(u,p,d,"linear"),l(u,p,d,{outerTicks:!0}),d("showticklabels")&&(a.coerceFont(d,"tickfont",{family:h.font.family,size:h.font.size,color:g}),d("tickangle"),d("tickformat")),s(u,p,d,{dfltColor:x,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:m}),d("hoverformat"),d("layer")}L.exports=function(u,p,h){k(u,p,h,{type:"ternary",attributes:o,handleDefaults:r,font:p.font,paper_bgcolor:p.paper_bgcolor})}},64380:function(L,M,e){"use strict";var b=e(39898),w=e(84267),a=e(73972),k=e(71828),y=k.strTranslate,f=k._,l=e(7901),t=e(91424),s=e(21994),o=e(1426).extendFlat,n=e(74875),r=e(89298),i=e(28569),u=e(30211),p=e(64505),h=p.freeMode,_=p.rectMode,m=e(92998),d=e(47322).prepSelect,x=e(47322).selectOnClick,g=e(47322).clearOutline,v=e(47322).clearSelectionsCache,T=e(85555);function c(F,W){this.id=F.id,this.graphDiv=F.graphDiv,this.init(W),this.makeFramework(W),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}L.exports=c;var E=c.prototype;E.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},E.plot=function(F,W){var B=this,U=W[B.id],H=W._size;B._hasClipOnAxisFalse=!1;for(var q=0;q<F.length;q++)if(F[q][0].trace.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}B.updateLayers(U),B.adjustLayout(U,H),n.generalUpdatePerTraceModule(B.graphDiv,B,F,U),B.layers.plotbg.select("path").call(l.fill,U.bgcolor)},E.makeFramework=function(F){var W=this,B=W.graphDiv,U=F[W.id],H=W.clipId="clip"+W.layoutId+W.id,q=W.clipIdRelative="clip-relative"+W.layoutId+W.id;W.clipDef=k.ensureSingleById(F._clips,"clipPath",H,function(ee){ee.append("path").attr("d","M0,0Z")}),W.clipDefRelative=k.ensureSingleById(F._clips,"clipPath",q,function(ee){ee.append("path").attr("d","M0,0Z")}),W.plotContainer=k.ensureSingle(W.container,"g",W.id),W.updateLayers(U),t.setClipUrl(W.layers.backplot,H,B),t.setClipUrl(W.layers.grids,H,B)},E.updateLayers=function(F){var W=this.layers,B=["draglayer","plotbg","backplot","grids"];F.aaxis.layer==="below traces"&&B.push("aaxis","aline"),F.baxis.layer==="below traces"&&B.push("baxis","bline"),F.caxis.layer==="below traces"&&B.push("caxis","cline"),B.push("frontplot"),F.aaxis.layer==="above traces"&&B.push("aaxis","aline"),F.baxis.layer==="above traces"&&B.push("baxis","bline"),F.caxis.layer==="above traces"&&B.push("caxis","cline");var U=this.plotContainer.selectAll("g.toplevel").data(B,String),H=["agrid","bgrid","cgrid"];U.enter().append("g").attr("class",function(q){return"toplevel "+q}).each(function(q){var ee=b.select(this);W[q]=ee,q==="frontplot"?ee.append("g").classed("scatterlayer",!0):q==="backplot"?ee.append("g").classed("maplayer",!0):q==="plotbg"?ee.append("path").attr("d","M0,0Z"):q==="aline"||q==="bline"||q==="cline"?ee.append("path"):q==="grids"&&H.forEach(function(K){W[K]=ee.append("g").classed("grid "+K,!0)})}),U.order()};var A=Math.sqrt(4/3);E.adjustLayout=function(F,W){var B,U,H,q,ee,K,J=this,Z=F.domain,$=(Z.x[0]+Z.x[1])/2,ne=(Z.y[0]+Z.y[1])/2,ae=Z.x[1]-Z.x[0],oe=Z.y[1]-Z.y[0],se=ae*W.w,ce=oe*W.h,me=F.sum,xe=F.aaxis.min,ve=F.baxis.min,fe=F.caxis.min;se>A*ce?H=(q=ce)*A:q=(H=se)/A,ee=ae*H/se,K=oe*q/ce,B=W.l+W.w*$-H/2,U=W.t+W.h*(1-ne)-q/2,J.x0=B,J.y0=U,J.w=H,J.h=q,J.sum=me,J.xaxis={type:"linear",range:[xe+2*fe-me,me-xe-2*ve],domain:[$-ee/2,$+ee/2],_id:"x"},s(J.xaxis,J.graphDiv._fullLayout),J.xaxis.setScale(),J.xaxis.isPtWithinRange=function(Ee){return Ee.a>=J.aaxis.range[0]&&Ee.a<=J.aaxis.range[1]&&Ee.b>=J.baxis.range[1]&&Ee.b<=J.baxis.range[0]&&Ee.c>=J.caxis.range[1]&&Ee.c<=J.caxis.range[0]},J.yaxis={type:"linear",range:[xe,me-ve-fe],domain:[ne-K/2,ne+K/2],_id:"y"},s(J.yaxis,J.graphDiv._fullLayout),J.yaxis.setScale(),J.yaxis.isPtWithinRange=function(){return!0};var pe=J.yaxis.domain[0],Le=J.aaxis=o({},F.aaxis,{range:[xe,me-ve-fe],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[pe,pe+K*A],anchor:"free",position:0,_id:"y",_length:H});s(Le,J.graphDiv._fullLayout),Le.setScale();var ye=J.baxis=o({},F.baxis,{range:[me-xe-fe,ve],side:"bottom",domain:J.xaxis.domain,anchor:"free",position:0,_id:"x",_length:H});s(ye,J.graphDiv._fullLayout),ye.setScale();var Ae=J.caxis=o({},F.caxis,{range:[me-xe-ve,fe],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[pe,pe+K*A],anchor:"free",position:0,_id:"y",_length:H});s(Ae,J.graphDiv._fullLayout),Ae.setScale();var Me="M"+B+","+(U+q)+"h"+H+"l-"+H/2+",-"+q+"Z";J.clipDef.select("path").attr("d",Me),J.layers.plotbg.select("path").attr("d",Me);var ke="M0,"+q+"h"+H+"l-"+H/2+",-"+q+"Z";J.clipDefRelative.select("path").attr("d",ke);var te=y(B,U);J.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",te),J.clipDefRelative.select("path").attr("transform",null);var ue=y(B-ye._offset,U+q);J.layers.baxis.attr("transform",ue),J.layers.bgrid.attr("transform",ue);var ge=y(B+H/2,U)+"rotate(30)"+y(0,-Le._offset);J.layers.aaxis.attr("transform",ge),J.layers.agrid.attr("transform",ge);var we=y(B+H/2,U)+"rotate(-30)"+y(0,-Ae._offset);J.layers.caxis.attr("transform",we),J.layers.cgrid.attr("transform",we),J.drawAxes(!0),J.layers.aline.select("path").attr("d",Le.showline?"M"+B+","+(U+q)+"l"+H/2+",-"+q:"M0,0").call(l.stroke,Le.linecolor||"#000").style("stroke-width",(Le.linewidth||0)+"px"),J.layers.bline.select("path").attr("d",ye.showline?"M"+B+","+(U+q)+"h"+H:"M0,0").call(l.stroke,ye.linecolor||"#000").style("stroke-width",(ye.linewidth||0)+"px"),J.layers.cline.select("path").attr("d",Ae.showline?"M"+(B+H/2)+","+U+"l"+H/2+","+q:"M0,0").call(l.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),J.graphDiv._context.staticPlot||J.initInteractions(),t.setClipUrl(J.layers.frontplot,J._hasClipOnAxisFalse?null:J.clipId,J.graphDiv)},E.drawAxes=function(F){var W=this,B=W.graphDiv,U=W.id.substr(7)+"title",H=W.layers,q=W.aaxis,ee=W.baxis,K=W.caxis;if(W.drawAx(q),W.drawAx(ee),W.drawAx(K),F){var J=Math.max(q.showticklabels?q.tickfont.size/2:0,(K.showticklabels?.75*K.tickfont.size:0)+(K.ticks==="outside"?.87*K.ticklen:0)),Z=(ee.showticklabels?ee.tickfont.size:0)+(ee.ticks==="outside"?ee.ticklen:0)+3;H["a-title"]=m.draw(B,"a"+U,{propContainer:q,propName:W.id+".aaxis.title",placeholder:f(B,"Click to enter Component A title"),attributes:{x:W.x0+W.w/2,y:W.y0-q.title.font.size/3-J,"text-anchor":"middle"}}),H["b-title"]=m.draw(B,"b"+U,{propContainer:ee,propName:W.id+".baxis.title",placeholder:f(B,"Click to enter Component B title"),attributes:{x:W.x0-Z,y:W.y0+W.h+.83*ee.title.font.size+Z,"text-anchor":"middle"}}),H["c-title"]=m.draw(B,"c"+U,{propContainer:K,propName:W.id+".caxis.title",placeholder:f(B,"Click to enter Component C title"),attributes:{x:W.x0+W.w+Z,y:W.y0+W.h+.83*K.title.font.size+Z,"text-anchor":"middle"}})}},E.drawAx=function(F){var W,B=this,U=B.graphDiv,H=F._name,q=H.charAt(0),ee=F._id,K=B.layers[H],J=q+"tickLayout",Z=(W=F).ticks+String(W.ticklen)+String(W.showticklabels);B[J]!==Z&&(K.selectAll("."+ee+"tick").remove(),B[J]=Z),F.setScale();var $=r.calcTicks(F),ne=r.clipEnds(F,$),ae=r.makeTransTickFn(F),oe=r.getTickSigns(F)[2],se=k.deg2rad(30),ce=oe*(F.linewidth||1)/2,me=oe*F.ticklen,xe=B.w,ve=B.h,fe=q==="b"?"M0,"+ce+"l"+Math.sin(se)*me+","+Math.cos(se)*me:"M"+ce+",0l"+Math.cos(se)*me+","+-Math.sin(se)*me,pe={a:"M0,0l"+ve+",-"+xe/2,b:"M0,0l-"+xe/2+",-"+ve,c:"M0,0l-"+ve+","+xe/2}[q];r.drawTicks(U,F,{vals:F.ticks==="inside"?ne:$,layer:K,path:fe,transFn:ae,crisp:!1}),r.drawGrid(U,F,{vals:ne,layer:B.layers[q+"grid"],path:pe,transFn:ae,crisp:!1}),r.drawLabels(U,F,{vals:$,layer:K,transFn:ae,labelFns:r.makeLabelFns(F,0,30)})};var C=T.MINZOOM/2+.87,O="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(.87*C+4.5)+"l2.6,1.5l-"+C/2+","+.87*C+"Z",P="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-2.6,1.5l"+C/2+","+.87*C+"Z",D="m0,1l"+C/2+","+.87*C+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-"+(C/2+2.6)+","+(.87*C+4.5)+"l2.6,1.5l"+C/2+",-"+.87*C+"Z",z=!0;function V(F){b.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}E.clearOutline=function(){v(this.dragOptions),g(this.dragOptions.gd)},E.initInteractions=function(){var F,W,B,U,H,q,ee,K,J,Z,$,ne,ae=this,oe=ae.layers.plotbg.select("path").node(),se=ae.graphDiv,ce=se._fullLayout._zoomlayer;function me(ke){var te={};return te[ae.id+".aaxis.min"]=ke.a,te[ae.id+".baxis.min"]=ke.b,te[ae.id+".caxis.min"]=ke.c,te}function xe(ke,te){var ue=se._fullLayout.clickmode;V(se),ke===2&&(se.emit("plotly_doubleclick",null),a.call("_guiRelayout",se,me({a:0,b:0,c:0}))),ue.indexOf("select")>-1&&ke===1&&x(te,se,[ae.xaxis],[ae.yaxis],ae.id,ae.dragOptions),ue.indexOf("event")>-1&&u.click(se,te,ae.id)}function ve(ke,te){return 1-te/ae.h}function fe(ke,te){return 1-(ke+(ae.h-te)/Math.sqrt(3))/ae.w}function pe(ke,te){return(ke-(ae.h-te)/Math.sqrt(3))/ae.w}function Le(ke,te){var ue=B+ke*F,ge=U+te*W,we=Math.max(0,Math.min(1,ve(0,U),ve(0,ge))),Ee=Math.max(0,Math.min(1,fe(B,U),fe(ue,ge))),Be=Math.max(0,Math.min(1,pe(B,U),pe(ue,ge))),Re=(we/2+Be)*ae.w,je=(1-we/2-Ee)*ae.w,he=(Re+je)/2,_e=je-Re,Te=(1-we)*ae.h,Fe=Te-_e/A;_e<T.MINZOOM?(ee=H,$.attr("d",J),ne.attr("d","M0,0Z")):(ee={a:H.a+we*q,b:H.b+Ee*q,c:H.c+Be*q},$.attr("d",J+"M"+Re+","+Te+"H"+je+"L"+he+","+Fe+"L"+Re+","+Te+"Z"),ne.attr("d","M"+B+","+U+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Re+","+Te+O+"M"+je+","+Te+P+"M"+he+","+Fe+D)),Z||($.transition().style("fill",K>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ne.transition().style("opacity",1).duration(200),Z=!0),se.emit("plotly_relayouting",me(ee))}function ye(){V(se),ee!==H&&(a.call("_guiRelayout",se,me(ee)),z&&se.data&&se._context.showTips&&(k.notifier(f(se,"Double-click to zoom back out"),"long"),z=!1))}function Ae(ke,te){var ue=ke/ae.xaxis._m,ge=te/ae.yaxis._m,we=[(ee={a:H.a-ge,b:H.b+(ue+ge)/2,c:H.c-(ue-ge)/2}).a,ee.b,ee.c].sort(k.sorterAsc),Ee=we.indexOf(ee.a),Be=we.indexOf(ee.b),Re=we.indexOf(ee.c);we[0]<0&&(we[1]+we[0]/2<0?(we[2]+=we[0]+we[1],we[0]=we[1]=0):(we[2]+=we[0]/2,we[1]+=we[0]/2,we[0]=0),ee={a:we[Ee],b:we[Be],c:we[Re]},te=(H.a-ee.a)*ae.yaxis._m,ke=(H.c-ee.c-H.b+ee.b)*ae.xaxis._m);var je=y(ae.x0+ke,ae.y0+te);ae.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",je);var he=y(-ke,-te);ae.clipDefRelative.select("path").attr("transform",he),ae.aaxis.range=[ee.a,ae.sum-ee.b-ee.c],ae.baxis.range=[ae.sum-ee.a-ee.c,ee.b],ae.caxis.range=[ae.sum-ee.a-ee.b,ee.c],ae.drawAxes(!1),ae._hasClipOnAxisFalse&&ae.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,ae),se.emit("plotly_relayouting",me(ee))}function Me(){a.call("_guiRelayout",se,me(ee))}this.dragOptions={element:oe,gd:se,plotinfo:{id:ae.id,domain:se._fullLayout[ae.id].domain,xaxis:ae.xaxis,yaxis:ae.yaxis},subplot:ae.id,prepFn:function(ke,te,ue){ae.dragOptions.xaxes=[ae.xaxis],ae.dragOptions.yaxes=[ae.yaxis],F=se._fullLayout._invScaleX,W=se._fullLayout._invScaleY;var ge=ae.dragOptions.dragmode=se._fullLayout.dragmode;h(ge)?ae.dragOptions.minDrag=1:ae.dragOptions.minDrag=void 0,ge==="zoom"?(ae.dragOptions.moveFn=Le,ae.dragOptions.clickFn=xe,ae.dragOptions.doneFn=ye,function(we,Ee,Be){var Re=oe.getBoundingClientRect();B=Ee-Re.left,U=Be-Re.top,se._fullLayout._calcInverseTransform(se);var je=se._fullLayout._invTransform,he=k.apply3DTransform(je)(B,U);B=he[0],U=he[1],H={a:ae.aaxis.range[0],b:ae.baxis.range[1],c:ae.caxis.range[1]},ee=H,q=ae.aaxis.range[1]-H.a,K=w(ae.graphDiv._fullLayout[ae.id].bgcolor).getLuminance(),J="M0,"+ae.h+"L"+ae.w/2+", 0L"+ae.w+","+ae.h+"Z",Z=!1,$=ce.append("path").attr("class","zoombox").attr("transform",y(ae.x0,ae.y0)).style({fill:K>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",J),ne=ce.append("path").attr("class","zoombox-corners").attr("transform",y(ae.x0,ae.y0)).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ae.clearOutline(se)}(0,te,ue)):ge==="pan"?(ae.dragOptions.moveFn=Ae,ae.dragOptions.clickFn=xe,ae.dragOptions.doneFn=Me,H={a:ae.aaxis.range[0],b:ae.baxis.range[1],c:ae.caxis.range[1]},ee=H,ae.clearOutline(se)):(_(ge)||h(ge))&&d(ke,te,ue,ae.dragOptions,ge)}},oe.onmousemove=function(ke){u.hover(se,ke,ae.id),se._fullLayout._lasthover=oe,se._fullLayout._hoversubplot=ae.id},oe.onmouseout=function(ke){se._dragging||i.unhover(se,ke)},i.init(this.dragOptions)}},73972:function(L,M,e){"use strict";var b=e(47769),w=e(64213),a=e(75138),k=e(41965),y=e(24401).addStyleRule,f=e(1426),l=e(9012),t=e(10820),s=f.extendFlat,o=f.extendDeepAll;function n(x){var g=x.name,v=x.categories,T=x.meta;if(M.modules[g])b.log("Type "+g+" already registered");else{M.subplotsRegistry[x.basePlotModule.name]||function(z){var V=z.name;if(M.subplotsRegistry[V])b.log("Plot type "+V+" already registered.");else for(var F in p(z),M.subplotsRegistry[V]=z,M.componentsRegistry)m(F,z.name)}(x.basePlotModule);for(var c={},E=0;E<v.length;E++)c[v[E]]=!0,M.allCategories[v[E]]=!0;for(var A in M.modules[g]={_module:x,categories:c},T&&Object.keys(T).length&&(M.modules[g].meta=T),M.allTypes.push(g),M.componentsRegistry)h(A,g);x.layoutAttributes&&s(M.traceLayoutAttributes,x.layoutAttributes);var C=x.basePlotModule,O=C.name;if(O==="mapbox"){var P=C.constants.styleRules;for(var D in P)y(".js-plotly-plot .plotly .mapboxgl-"+D,P[D])}O!=="geo"&&O!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function r(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var g=x.name;for(var v in M.componentsRegistry[g]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&a(M.layoutArrayContainers,g),p(x)),M.modules)h(g,v);for(var T in M.subplotsRegistry)m(g,T);for(var c in M.transformsRegistry)_(g,c);x.schema&&x.schema.layout&&o(t,x.schema.layout)}function i(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var g="Transform module "+x.name,v=typeof x.transform=="function",T=typeof x.calcTransform=="function";if(!v&&!T)throw new Error(g+" is missing a *transform* or *calcTransform* method.");for(var c in v&&T&&b.log([g+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),k(x.attributes)||b.log(g+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&b.log(g+" registered without a *supplyDefaults* method."),M.transformsRegistry[x.name]=x,M.componentsRegistry)_(c,x.name)}function u(x){var g=x.name,v=g.split("-")[0],T=x.dictionary,c=x.format,E=T&&Object.keys(T).length,A=c&&Object.keys(c).length,C=M.localeRegistry,O=C[g];if(O||(C[g]=O={}),v!==g){var P=C[v];P||(C[v]=P={}),E&&P.dictionary===O.dictionary&&(P.dictionary=T),A&&P.format===O.format&&(P.format=c)}E&&(O.dictionary=T),A&&(O.format=c)}function p(x){if(x.layoutAttributes){var g=x.layoutAttributes._arrayAttrRegexps;if(g)for(var v=0;v<g.length;v++)a(M.layoutArrayRegexes,g[v])}}function h(x,g){var v=M.componentsRegistry[x].schema;if(v&&v.traces){var T=v.traces[g];T&&o(M.modules[g]._module.attributes,T)}}function _(x,g){var v=M.componentsRegistry[x].schema;if(v&&v.transforms){var T=v.transforms[g];T&&o(M.transformsRegistry[g].attributes,T)}}function m(x,g){var v=M.componentsRegistry[x].schema;if(v&&v.subplots){var T=M.subplotsRegistry[g],c=T.layoutAttributes,E=T.attr==="subplot"?T.name:T.attr;Array.isArray(E)&&(E=E[0]);var A=v.subplots[E];c&&A&&o(c,A)}}function d(x){return typeof x=="object"&&(x=x.type),x}M.modules={},M.allCategories={},M.allTypes=[],M.subplotsRegistry={},M.transformsRegistry={},M.componentsRegistry={},M.layoutArrayContainers=[],M.layoutArrayRegexes=[],M.traceLayoutAttributes={},M.localeRegistry={},M.apiMethodRegistry={},M.collectableSubplotTypes=null,M.register=function(x){if(M.collectableSubplotTypes=null,!x)throw new Error("No argument passed to Plotly.register.");x&&!Array.isArray(x)&&(x=[x]);for(var g=0;g<x.length;g++){var v=x[g];if(!v)throw new Error("Invalid module was attempted to be registered!");switch(v.moduleType){case"trace":n(v);break;case"transform":i(v);break;case"component":r(v);break;case"locale":u(v);break;case"apiMethod":var T=v.name;M.apiMethodRegistry[T]=v.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},M.getModule=function(x){var g=M.modules[d(x)];return!!g&&g._module},M.traceIs=function(x,g){if((x=d(x))==="various")return!1;var v=M.modules[x];return v||(x&&b.log("Unrecognized trace type "+x+"."),v=M.modules[l.type.dflt]),!!v.categories[g]},M.getTransformIndices=function(x,g){for(var v=[],T=x.transforms||[],c=0;c<T.length;c++)T[c].type===g&&v.push(c);return v},M.hasTransform=function(x,g){for(var v=x.transforms||[],T=0;T<v.length;T++)if(v[T].type===g)return!0;return!1},M.getComponentMethod=function(x,g){var v=M.componentsRegistry[x];return v&&v[g]||w},M.call=function(){var x=arguments[0],g=[].slice.call(arguments,1);return M.apiMethodRegistry[x].apply(null,g)}},61914:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=w.extendFlat,k=w.extendDeep;function y(f){var l;switch(f){case"themes__thumb":l={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":l={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:l={}}return l}L.exports=function(f,l){var t,s,o=f.data,n=f.layout,r=k([],o),i=k({},n,y(l.tileClass)),u=f._context||{};if(l.width&&(i.width=l.width),l.height&&(i.height=l.height),l.tileClass==="thumbnail"||l.tileClass==="themes__thumb"){i.annotations=[];var p=Object.keys(i);for(t=0;t<p.length;t++)s=p[t],["xaxis","yaxis","zaxis"].indexOf(s.slice(0,5))>-1&&(i[p[t]].title={text:""});for(t=0;t<r.length;t++){var h=r[t];h.showscale=!1,h.marker&&(h.marker.showscale=!1),b.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(l.annotations))for(t=0;t<l.annotations.length;t++)i.annotations.push(l.annotations[t]);var _=Object.keys(i).filter(function(v){return v.match(/^scene\d*$/)});if(_.length){var m={};for(l.tileClass==="thumbnail"&&(m={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<_.length;t++){var d=i[_[t]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,m),a(d.yaxis,m),a(d.zaxis,m),d._scene=null}}var x=document.createElement("div");l.tileClass&&(x.className=l.tileClass);var g={gd:x,td:x,layout:i,data:r,config:{staticPlot:l.staticPlot===void 0||l.staticPlot,plotGlPixelRatio:l.plotGlPixelRatio===void 0?2:l.plotGlPixelRatio,displaylogo:l.displaylogo||!1,showLink:l.showLink||!1,showTips:l.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return l.setBackground!=="transparent"&&(g.config.setBackground=l.setBackground||"opaque"),g.gd.defaultLayout=y(l.tileClass),g}},7239:function(L,M,e){"use strict";var b=e(71828),w=e(403),a=e(22435),k=e(25095);L.exports=function(y,f){var l;return b.isPlainObject(y)||(l=b.getGraphDiv(y)),(f=f||{}).format=f.format||"png",f.width=f.width||null,f.height=f.height||null,f.imageDataOnly=!0,new Promise(function(t,s){l&&l._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),b.isIE()&&f.format!=="svg"&&s(new Error(k.MSG_IE_BAD_FORMAT)),l&&(l._snapshotInProgress=!0);var o=w(y,f),n=f.filename||y.fn||"newplot";n+="."+f.format.replace("-","."),o.then(function(r){return l&&(l._snapshotInProgress=!1),a(r,n,f.format)}).then(function(r){t(r)}).catch(function(r){l&&(l._snapshotInProgress=!1),s(r)})})}},22435:function(L,M,e){"use strict";var b=e(71828),w=e(25095);L.exports=function(a,k,y){var f=document.createElement("a"),l="download"in f;return new Promise(function(t,s){var o,n;if(b.isIE())return o=w.createBlob(a,"svg"),window.navigator.msSaveBlob(o,k),o=null,t(k);if(l)return o=w.createBlob(a,y),n=w.createObjectURL(o),f.href=n,f.download=k,document.body.appendChild(f),f.click(),document.body.removeChild(f),w.revokeObjectURL(n),o=null,t(k);if(b.isSafari()){var r=y==="svg"?",":";base64,";return w.octetStream(r+encodeURIComponent(a)),t(k)}s(new Error("download error"))})}},25095:function(L,M,e){"use strict";var b=e(73972);M.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},M.getRedrawFunc=function(a){return function(){b.getComponentMethod("colorbar","draw")(a)}},M.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},M.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var w=window.URL||window.webkitURL;M.createObjectURL=function(a){return w.createObjectURL(a)},M.revokeObjectURL=function(a){return w.revokeObjectURL(a)},M.createBlob=function(a,k){if(k==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(k==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var y=function(f){for(var l=f.length,t=new ArrayBuffer(l),s=new Uint8Array(t),o=0;o<l;o++)s[o]=f.charCodeAt(o);return t}(window.atob(a));return new window.Blob([y],{type:"image/"+k})},M.octetStream=function(a){document.location.href="data:application/octet-stream"+a},M.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,M.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(L,M,e){"use strict";var b=e(25095),w={getDelay:b.getDelay,getRedrawFunc:b.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};L.exports=w},70942:function(L,M,e){"use strict";var b=e(71828),w=e(15398).EventEmitter,a=e(25095);L.exports=function(k){var y=k.emitter||new w,f=new Promise(function(l,t){var s=window.Image,o=k.svg,n=k.format||"png";if(b.isIE()&&n!=="svg"){var r=new Error(a.MSG_IE_BAD_FORMAT);return t(r),k.promise?f:y.emit("error",r)}var i,u,p=k.canvas,h=k.scale||1,_=k.width||300,m=k.height||150,d=h*_,x=h*m,g=p.getContext("2d",{willReadFrequently:!0}),v=new s;n==="svg"||b.isSafari()?u=a.encodeSVG(o):(i=a.createBlob(o,"svg"),u=a.createObjectURL(i)),p.width=d,p.height=x,v.onload=function(){var T;switch(i=null,a.revokeObjectURL(u),n!=="svg"&&g.drawImage(v,0,0,d,x),n){case"jpeg":T=p.toDataURL("image/jpeg");break;case"png":T=p.toDataURL("image/png");break;case"webp":T=p.toDataURL("image/webp");break;case"svg":T=u;break;default:var c="Image format is not jpeg, png, svg or webp.";if(t(new Error(c)),!k.promise)return y.emit("error",c)}l(T),k.promise||y.emit("success",T)},v.onerror=function(T){if(i=null,a.revokeObjectURL(u),t(T),!k.promise)return y.emit("error",T)},v.src=u});return k.promise?f:y}},56395:function(L,M,e){"use strict";var b=e(15398).EventEmitter,w=e(73972),a=e(71828),k=e(25095),y=e(61914),f=e(5900),l=e(70942);L.exports=function(t,s){var o=new b,n=y(t,{format:"png"}),r=n.gd;r.style.position="absolute",r.style.left="-5000px",document.body.appendChild(r);var i=k.getRedrawFunc(r);return w.call("_doPlot",r,n.data,n.layout,n.config).then(i).then(function(){var u=k.getDelay(r._fullLayout);setTimeout(function(){var p=f(r),h=document.createElement("canvas");h.id=a.randstr(),(o=l({format:s.format,width:r._fullLayout.width,height:r._fullLayout.height,canvas:h,emitter:o,svg:p})).clean=function(){r&&document.body.removeChild(r)}},u)}).catch(function(u){o.emit("error",u)}),o}},5900:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(7901),y=e(77922),f=/"/g,l="TOBESTRIPPED",t=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");L.exports=function(s,o,n){var r,i=s._fullLayout,u=i._paper,p=i._toppaper,h=i.width,_=i.height;u.insert("rect",":first-child").call(a.setRect,0,0,h,_).call(k.fill,i.paper_bgcolor);var m=i._basePlotModules||[];for(r=0;r<m.length;r++){var d=m[r];d.toSVG&&d.toSVG(s)}if(p){var x=p.node().childNodes,g=Array.prototype.slice.call(x);for(r=0;r<g.length;r++){var v=g[r];v.childNodes.length&&u.node().appendChild(v)}}i._draggers&&i._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var c=b.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){c.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&c.style("font-family",E.replace(f,l))}else c.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var c=b.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&c.style("fill",E.replace(f,l));var A=this.style.stroke;A&&A.indexOf("url(")!==-1&&c.style("stroke",A.replace(f,l))}),o!=="pdf"&&o!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(y.xmlns,"xmlns",y.svg),u.node().setAttributeNS(y.xmlns,"xmlns:xlink",y.xlink),o==="svg"&&n&&(u.attr("width",n*h),u.attr("height",n*_),u.attr("viewBox","0 0 "+h+" "+_));var T=new window.XMLSerializer().serializeToString(u.node());return T=(T=(T=function(c){var E=b.select("body").append("div").style({display:"none"}).html(""),A=c.replace(/(&[^;]*;)/gi,function(C){return C==="&lt;"?"&#60;":C==="&rt;"?"&#62;":C.indexOf("<")!==-1||C.indexOf(">")!==-1?"":E.html(C).text()});return E.remove(),A}(T)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),w.isIE()&&(T=(T=(T=T.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),T}},75341:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){for(var k=0;k<w.length;k++)w[k].i=k;b.mergeArray(a.text,w,"tx"),b.mergeArray(a.hovertext,w,"htx");var y=a.marker;if(y){b.mergeArray(y.opacity,w,"mo",!0),b.mergeArray(y.color,w,"mc");var f=y.line;f&&(b.mergeArray(f.color,w,"mlc"),b.mergeArrayCastPositive(f.width,w,"mlw"))}}},1486:function(L,M,e){"use strict";var b=e(82196),w=e(12663).axisHoverFormat,a=e(5386).fF,k=e(5386).si,y=e(50693),f=e(41940),l=e(97313),t=e(79952).u,s=e(1426).extendFlat,o=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=s({},b.marker.line.width,{dflt:0}),r=s({width:n,editType:"calc"},y("marker.line")),i=s({line:r,editType:"calc"},y("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});L.exports={x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),text:b.text,texttemplate:k({editType:"plot"},{keys:l.eventDataKeys}),hovertext:b.hovertext,hovertemplate:a({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:s({},o,{}),insidetextfont:s({},o,{}),outsidetextfont:s({},o,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:s({},b.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:i,offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,selected:{marker:{opacity:b.selected.marker.opacity,color:b.selected.marker.color,editType:"style"},textfont:b.selected.textfont,editType:"style"},unselected:{marker:{opacity:b.unselected.marker.opacity,color:b.unselected.marker.color,editType:"style"},textfont:b.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(L,M,e){"use strict";var b=e(89298),w=e(42973),a=e(52075).hasColorscale,k=e(78803),y=e(75341),f=e(66279);L.exports=function(l,t){var s,o,n,r,i,u,p=b.getFromId(l,t.xaxis||"x"),h=b.getFromId(l,t.yaxis||"y"),_={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(s=p.makeCalcdata(t,"x",_),n=h.makeCalcdata(t,"y"),r=w(t,h,"y",n),i=!!t.yperiodalignment,u="y"):(s=h.makeCalcdata(t,"y",_),n=p.makeCalcdata(t,"x"),r=w(t,p,"x",n),i=!!t.xperiodalignment,u="x"),o=r.vals;for(var m=Math.min(o.length,s.length),d=new Array(m),x=0;x<m;x++)d[x]={p:o[x],s:s[x]},i&&(d[x].orig_p=n[x],d[x][u+"End"]=r.ends[x],d[x][u+"Start"]=r.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return a(t,"marker")&&k(l,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&k(l,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),y(d,t),f(d,t),d}},97313:function(L){"use strict";L.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(L,M,e){"use strict";var b=e(92770),w=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,k=e(73972),y=e(89298),f=e(99082).getAxisGroup,l=e(61546);function t(m,d,x,g,v){if(g.length){var T,c,E,A;switch(function(C,O){var P,D;for(P=0;P<O.length;P++){var z,V=O[P],F=V[0].trace,W=F.type==="funnel"?F._base:F.base,B=F.orientation==="h"?F.xcalendar:F.ycalendar,U=C.type==="category"||C.type==="multicategory"?function(){return null}:C.d2c;if(w(W)){for(D=0;D<Math.min(W.length,V.length);D++)z=U(W[D],0,B),b(z)?(V[D].b=+z,V[D].hasB=1):V[D].b=0;for(;D<V.length;D++)V[D].b=0}else{z=U(W,0,B);var H=b(z);for(z=H?z:0,D=0;D<V.length;D++)V[D].b=z,H&&(V[D].hasB=1)}}}(x,g),v.mode){case"overlay":s(d,x,g,v);break;case"group":for(T=[],c=[],E=0;E<g.length;E++)(A=g[E])[0].trace.offset===void 0?c.push(A):T.push(A);c.length&&function(C,O,P,D,z){var V=new l(D,{posAxis:O,sepNegVal:!1,overlapNoMerge:!z.norm});(function(F,W,B,U){for(var H=F._fullLayout,q=B.positions,ee=B.distinctPositions,K=B.minDiff,J=B.traces,Z=J.length,$=q.length!==ee.length,ne=K*(1-U.gap),ae=f(H,W._id)+J[0][0].trace.orientation,oe=H._alignmentOpts[ae]||{},se=0;se<Z;se++){var ce,me,xe=J[se],ve=xe[0].trace,fe=oe[ve.alignmentgroup]||{},pe=Object.keys(fe.offsetGroups||{}).length,Le=(ce=pe?ne/pe:$?ne/Z:ne)*(1-(U.groupgap||0));me=pe?((2*ve._offsetIndex+1-pe)*ce-Le)/2:$?((2*se+1-Z)*ce-Le)/2:-Le/2;var ye=xe[0].t;ye.barwidth=Le,ye.poffset=me,ye.bargroupwidth=ne,ye.bardelta=K}B.binWidth=J[0][0].t.barwidth/100,n(B),r(W,B),i(W,B,$)})(C,O,V,z),function(F,W){for(var B=F.traces,U=0;U<B.length;U++){var H=B[U];if(H[0].trace.base===void 0)for(var q=new l([H],{posAxis:W,sepNegVal:!0,overlapNoMerge:!0}),ee=0;ee<H.length;ee++){var K=H[ee];if(K.p!==a){var J=q.put(K.p,K.b+K.s);J&&(K.b=J)}}}}(V,O),z.norm?(p(V),h(P,V,z)):u(P,V)}(m,d,x,c,v),T.length&&s(d,x,T,v);break;case"stack":case"relative":for(T=[],c=[],E=0;E<g.length;E++)(A=g[E])[0].trace.base===void 0?c.push(A):T.push(A);c.length&&function(C,O,P,D,z){var V=new l(D,{posAxis:O,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});o(O,V,z),function(H,q,ee){var K,J,Z,$,ne,ae,oe=_(H),se=q.traces;for($=0;$<se.length;$++)if((J=(K=se[$])[0].trace).type==="funnel")for(ne=0;ne<K.length;ne++)(ae=K[ne]).s!==a&&q.put(ae.p,-.5*ae.s);for($=0;$<se.length;$++){Z=(J=(K=se[$])[0].trace).type==="funnel";var ce=[];for(ne=0;ne<K.length;ne++)if((ae=K[ne]).s!==a){var me;me=Z?ae.s:ae.s+ae.b;var xe=q.put(ae.p,me),ve=xe+me;ae.b=xe,ae[oe]=ve,ee.norm||(ce.push(ve),ae.hasB&&ce.push(xe))}ee.norm||(J._extremes[H._id]=y.findExtremes(H,ce,{tozero:!0,padded:!0}))}}(P,V,z);for(var F=0;F<D.length;F++)for(var W=D[F],B=0;B<W.length;B++){var U=W[B];U.s!==a&&U.b+U.s===V.get(U.p,U.s)&&(U._outmost=!0)}z.norm&&h(P,V,z)}(0,d,x,c,v),T.length&&s(d,x,T,v)}(function(C,O){var P,D,z,V=_(O),F={},W=1/0,B=-1/0;for(P=0;P<C.length;P++)for(z=C[P],D=0;D<z.length;D++){var U=z[D].p;b(U)&&(W=Math.min(W,U),B=Math.max(B,U))}var H=1e4/(B-W),q=F.round=function(ae){return String(Math.round(H*(ae-W)))};for(P=0;P<C.length;P++){(z=C[P])[0].t.extents=F;var ee=z[0].t.poffset,K=Array.isArray(ee);for(D=0;D<z.length;D++){var J=z[D],Z=J[V]-J.w/2;if(b(Z)){var $=J[V]+J.w/2,ne=q(J.p);F[ne]?F[ne]=[Math.min(Z,F[ne][0]),Math.max($,F[ne][1])]:F[ne]=[Z,$]}J.p0=J.p+(K?ee[D]:ee),J.p1=J.p0+J.w,J.s0=J.b,J.s1=J.s0+J.s}}})(g,d)}}function s(m,d,x,g){for(var v=0;v<x.length;v++){var T=x[v],c=new l([T],{posAxis:m,sepNegVal:!1,overlapNoMerge:!g.norm});o(m,c,g),g.norm?(p(c),h(d,c,g)):u(d,c)}}function o(m,d,x){for(var g=d.minDiff,v=d.traces,T=g*(1-x.gap),c=T*(1-(x.groupgap||0)),E=-c/2,A=0;A<v.length;A++){var C=v[A][0].t;C.barwidth=c,C.poffset=E,C.bargroupwidth=T,C.bardelta=g}d.binWidth=v[0][0].t.barwidth/100,n(d),r(m,d),i(m,d)}function n(m){var d,x,g=m.traces;for(d=0;d<g.length;d++){var v,T=g[d],c=T[0],E=c.trace,A=c.t,C=E._offset||E.offset,O=A.poffset;if(w(C)){for(v=Array.prototype.slice.call(C,0,T.length),x=0;x<v.length;x++)b(v[x])||(v[x]=O);for(x=v.length;x<T.length;x++)v.push(O);A.poffset=v}else C!==void 0&&(A.poffset=C);var P=E._width||E.width,D=A.barwidth;if(w(P)){var z=Array.prototype.slice.call(P,0,T.length);for(x=0;x<z.length;x++)b(z[x])||(z[x]=D);for(x=z.length;x<T.length;x++)z.push(D);if(A.barwidth=z,C===void 0){for(v=[],x=0;x<T.length;x++)v.push(O+(D-z[x])/2);A.poffset=v}}else P!==void 0&&(A.barwidth=P,C===void 0&&(A.poffset=O+(D-P)/2))}}function r(m,d){for(var x=d.traces,g=_(m),v=0;v<x.length;v++)for(var T=x[v],c=T[0].t,E=c.poffset,A=Array.isArray(E),C=c.barwidth,O=Array.isArray(C),P=0;P<T.length;P++){var D=T[P],z=D.w=O?C[P]:C;D.p===void 0&&(D.p=D[g],D["orig_"+g]=D[g]);var V=(A?E[P]:E)+z/2;D[g]=D.p+V}}function i(m,d,x){var g=d.traces,v=d.minDiff/2;y.minDtick(m,d.minDiff,d.distinctPositions[0],x);for(var T=0;T<g.length;T++){var c,E,A,C,O=g[T],P=O[0],D=P.trace,z=[];for(C=0;C<O.length;C++)E=(c=O[C]).p-v,A=c.p+v,z.push(E,A);if(D.width||D.offset){var V=P.t,F=V.poffset,W=V.barwidth,B=Array.isArray(F),U=Array.isArray(W);for(C=0;C<O.length;C++){c=O[C];var H=B?F[C]:F,q=U?W[C]:W;A=(E=c.p+H)+q,z.push(E,A)}}D._extremes[m._id]=y.findExtremes(m,z,{padded:!1})}}function u(m,d){for(var x=d.traces,g=_(m),v=0;v<x.length;v++){for(var T=x[v],c=T[0].trace,E=c.type==="scatter",A=c.orientation==="v",C=[],O=!1,P=0;P<T.length;P++){var D=T[P],z=E?0:D.b,V=E?A?D.y:D.x:z+D.s;D[g]=V,C.push(V),D.hasB&&C.push(z),D.hasB&&D.b||(O=!0)}c._extremes[m._id]=y.findExtremes(m,C,{tozero:O,padded:!0})}}function p(m){for(var d=m.traces,x=0;x<d.length;x++)for(var g=d[x],v=0;v<g.length;v++){var T=g[v];T.s!==a&&m.put(T.p,T.b+T.s)}}function h(m,d,x){var g=d.traces,v=_(m),T=x.norm==="fraction"?1:100,c=T/1e9,E=m.l2c(m.c2l(0)),A=x.mode==="stack"?T:E;function C(ee){return b(m.c2l(ee))&&(ee<E-c||ee>A+c||!b(E))}for(var O=0;O<g.length;O++){for(var P=g[O],D=P[0].trace,z=[],V=!1,F=!1,W=0;W<P.length;W++){var B=P[W];if(B.s!==a){var U=Math.abs(T/d.get(B.p,B.s));B.b*=U,B.s*=U;var H=B.b,q=H+B.s;B[v]=q,z.push(q),F=F||C(q),B.hasB&&(z.push(H),F=F||C(H)),B.hasB&&B.b||(V=!0)}}D._extremes[m._id]=y.findExtremes(m,z,{tozero:V,padded:F})}}function _(m){return m._id.charAt(0)}L.exports={crossTraceCalc:function(m,d){for(var x=d.xaxis,g=d.yaxis,v=m._fullLayout,T=m._fullData,c=m.calcdata,E=[],A=[],C=0;C<T.length;C++){var O=T[C];if(O.visible===!0&&k.traceIs(O,"bar")&&O.xaxis===x._id&&O.yaxis===g._id&&(O.orientation==="h"?E.push(c[C]):A.push(c[C]),O._computePh))for(var P=m.calcdata[C],D=0;D<P.length;D++)typeof P[D].ph0=="function"&&(P[D].ph0=P[D].ph0()),typeof P[D].ph1=="function"&&(P[D].ph1=P[D].ph1())}var z={xCat:x.type==="category"||x.type==="multicategory",yCat:g.type==="category"||g.type==="multicategory",mode:v.barmode,norm:v.barnorm,gap:v.bargap,groupgap:v.bargroupgap};t(m,x,g,A,z),t(m,g,x,E,z)},setGroupPositions:t}},90769:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(73972),k=e(67513),y=e(73927),f=e(98340),l=e(26125),t=e(1486),s=b.coerceFont;function o(n,r,i,u,p,h){var _=(h=h||{}).moduleHasSelected!==!1,m=h.moduleHasUnselected!==!1,d=h.moduleHasConstrain!==!1,x=h.moduleHasCliponaxis!==!1,g=h.moduleHasTextangle!==!1,v=h.moduleHasInsideanchor!==!1,T=!!h.hasPathbar,c=Array.isArray(p)||p==="auto",E=c||p==="inside",A=c||p==="outside";if(E||A){var C=s(u,"textfont",i.font),O=b.extendFlat({},C),P=!(n.textfont&&n.textfont.color);if(P&&delete O.color,s(u,"insidetextfont",O),T){var D=b.extendFlat({},C);P&&delete D.color,s(u,"pathbar.textfont",D)}A&&s(u,"outsidetextfont",C),_&&u("selected.textfont.color"),m&&u("unselected.textfont.color"),d&&u("constraintext"),x&&u("cliponaxis"),g&&u("textangle"),u("texttemplate")}E&&v&&u("insidetextanchor")}L.exports={supplyDefaults:function(n,r,i,u){function p(d,x){return b.coerce(n,r,t,d,x)}if(k(n,r,u,p)){y(n,r,u,p),p("xhoverformat"),p("yhoverformat"),p("orientation",r.x&&!r.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var h=p("textposition");o(n,0,u,p,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f(n,r,p,i,u);var _=(r.marker.line||{}).color,m=a.getComponentMethod("errorbars","supplyDefaults");m(n,r,_||w.defaultLine,{axis:"y"}),m(n,r,_||w.defaultLine,{axis:"x",inherit:"y"}),b.coerceSelectionMarkerOpacity(r,p)}else r.visible=!1},crossTraceDefaults:function(n,r){var i,u;function p(_){return b.coerce(u._input,u,t,_)}if(r.barmode==="group")for(var h=0;h<n.length;h++)(u=n[h]).type==="bar"&&(i=u._input,l(i,u,r,p))},handleText:o}},58065:function(L){"use strict";L.exports=function(M,e,b){return M.x="xVal"in e?e.xVal:e.x,M.y="yVal"in e?e.yVal:e.y,e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),b.orientation==="h"?(M.label=M.y,M.value=M.x):(M.label=M.x,M.value=M.y),M}},69383:function(L,M,e){"use strict";var b=e(92770),w=e(84267),a=e(71828).isArrayOrTypedArray;M.coerceString=function(k,y,f){if(typeof y=="string"){if(y||!k.noBlank)return y}else if((typeof y=="number"||y===!0)&&!k.strict)return String(y);return f!==void 0?f:k.dflt},M.coerceNumber=function(k,y,f){if(b(y)){y=+y;var l=k.min,t=k.max;if(!(l!==void 0&&y<l||t!==void 0&&y>t))return y}return f!==void 0?f:k.dflt},M.coerceColor=function(k,y,f){return w(y).isValid()?y:f!==void 0?f:k.dflt},M.coerceEnumerated=function(k,y,f){return k.coerceNumber&&(y=+y),k.values.indexOf(y)!==-1?y:f!==void 0?f:k.dflt},M.getValue=function(k,y){var f;return Array.isArray(k)?y<k.length&&(f=k[y]):f=k,f},M.getLineWidth=function(k,y){return 0<y.mlw?y.mlw:a(k.marker.line.width)?0:k.marker.line.width}},95423:function(L,M,e){"use strict";var b=e(30211),w=e(73972),a=e(7901),k=e(71828).fillText,y=e(69383).getLineWidth,f=e(89298).hoverLabelText,l=e(50606).BADNUM;function t(o,n,r,i,u){var p,h,_,m,d,x,g,v=o.cd,T=v[0].trace,c=v[0].t,E=i==="closest",A=T.type==="waterfall",C=o.maxHoverDistance,O=o.maxSpikeDistance;T.orientation==="h"?(p=r,h=n,_="y",m="x",d=K,x=q):(p=n,h=r,_="x",m="y",x=K,d=q);var P=T[_+"period"],D=E||P;function z(ce){return F(ce,-1)}function V(ce){return F(ce,1)}function F(ce,me){var xe=ce.w;return ce[_]+me*xe/2}function W(ce){return ce[_+"End"]-ce[_+"Start"]}var B=E?z:P?function(ce){return ce.p-W(ce)/2}:function(ce){return Math.min(z(ce),ce.p-c.bardelta/2)},U=E?V:P?function(ce){return ce.p+W(ce)/2}:function(ce){return Math.max(V(ce),ce.p+c.bardelta/2)};function H(ce,me,xe){return u.finiteRange&&(xe=0),b.inbox(ce-p,me-p,xe+Math.min(1,Math.abs(me-ce)/g)-1)}function q(ce){return H(B(ce),U(ce),C)}function ee(ce){var me=ce[m];if(A){var xe=Math.abs(ce.rawS)||0;h>0?me+=xe:h<0&&(me-=xe)}return me}function K(ce){var me=h,xe=ce.b,ve=ee(ce);return b.inbox(xe-me,ve-me,C+(ve-me)/(ve-xe)-1)}var J=o[_+"a"],Z=o[m+"a"];g=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));var $=b.getDistanceFunction(i,d,x,function(ce){return(d(ce)+x(ce))/2});if(b.getClosest(v,$,o),o.index!==!1&&v[o.index].p!==l){D||(B=function(ce){return Math.min(z(ce),ce.p-c.bargroupwidth/2)},U=function(ce){return Math.max(V(ce),ce.p+c.bargroupwidth/2)});var ne=v[o.index],ae=T.base?ne.b+ne.s:ne.s;o[m+"0"]=o[m+"1"]=Z.c2p(ne[m],!0),o[m+"LabelVal"]=ae;var oe=c.extents[c.extents.round(ne.p)];o[_+"0"]=J.c2p(E?B(ne):oe[0],!0),o[_+"1"]=J.c2p(E?U(ne):oe[1],!0);var se=ne.orig_p!==void 0;return o[_+"LabelVal"]=se?ne.orig_p:ne.p,o.labelLabel=f(J,o[_+"LabelVal"],T[_+"hoverformat"]),o.valueLabel=f(Z,o[m+"LabelVal"],T[m+"hoverformat"]),o.baseLabel=f(Z,ne.b,T[m+"hoverformat"]),o.spikeDistance=(function(ce){var me=h,xe=ce.b,ve=ee(ce);return b.inbox(xe-me,ve-me,O+(ve-me)/(ve-xe)-1)}(ne)+function(ce){return H(z(ce),V(ce),O)}(ne))/2,o[_+"Spike"]=J.c2p(ne.p,!0),k(ne,T,o),o.hovertemplate=T.hovertemplate,o}}function s(o,n){var r=n.mcc||o.marker.color,i=n.mlcc||o.marker.line.color,u=y(o,n);return a.opacity(r)?r:a.opacity(i)&&u?i:void 0}L.exports={hoverPoints:function(o,n,r,i,u){var p=t(o,n,r,i,u);if(p){var h=p.cd,_=h[0].trace,m=h[p.index];return p.color=s(_,m),w.getComponentMethod("errorbars","hoverInfo")(m,_,p),[p]}},hoverOnBars:t,getTraceColor:s}},60822:function(L,M,e){"use strict";L.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(L){"use strict";L.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(L,M,e){"use strict";var b=e(73972),w=e(89298),a=e(71828),k=e(43641);L.exports=function(y,f,l){function t(_,m){return a.coerce(y,f,k,_,m)}for(var s=!1,o=!1,n=!1,r={},i=t("barmode"),u=0;u<l.length;u++){var p=l[u];if(b.traceIs(p,"bar")&&p.visible){if(s=!0,i==="group"){var h=p.xaxis+p.yaxis;r[h]&&(n=!0),r[h]=!0}p.visible&&p.type==="histogram"&&w.getFromId({_fullLayout:f},p[p.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(o=!0)}}s?(i!=="overlay"&&t("barnorm"),t("bargap",o&&!n?0:.2),t("bargroupgap")):delete f.barmode}},17295:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(71828),k=e(63893),y=e(7901),f=e(91424),l=e(73972),t=e(89298).tickText,s=e(72597),o=s.recordMinTextSize,n=s.clearMinTextSize,r=e(16688),i=e(69383),u=e(97313),p=e(1486),h=p.text,_=p.textposition,m=e(23469).appendArrayPointValue,d=u.TEXTPAD;function x(O){return O.id}function g(O){if(O.ids)return x}function v(O,P){return O<P?1:-1}function T(O,P,D,z){var V;return!P.uniformtext.mode&&c(D)?(z&&(V=z()),O.transition().duration(D.duration).ease(D.easing).each("end",function(){V&&V()}).each("interrupt",function(){V&&V()})):O}function c(O){return O&&O.duration>0}function E(O){return O==="auto"?0:O}function A(O,P){var D=Math.PI/180*P,z=Math.abs(Math.sin(D)),V=Math.abs(Math.cos(D));return{x:O.width*V+O.height*z,y:O.width*z+O.height*V}}function C(O,P,D,z,V,F){var W=!!F.isHorizontal,B=!!F.constrained,U=F.angle||0,H=F.anchor||"end",q=H==="end",ee=H==="start",K=((F.leftToRight||0)+1)/2,J=1-K,Z=V.width,$=V.height,ne=Math.abs(P-O),ae=Math.abs(z-D),oe=ne>2*d&&ae>2*d?d:0;ne-=2*oe,ae-=2*oe;var se=E(U);U!=="auto"||Z<=ne&&$<=ae||!(Z>ne||$>ae)||(Z>ae||$>ne)&&Z<$==ne<ae||(se+=90);var ce=A(V,se),me=1;B&&(me=Math.min(1,ne/ce.x,ae/ce.y));var xe=V.left*J+V.right*K,ve=(V.top+V.bottom)/2,fe=(O+d)*J+(P-d)*K,pe=(D+z)/2,Le=0,ye=0;if(ee||q){var Ae=(W?ce.x:ce.y)/2,Me=W?v(O,P):v(D,z);W?ee?(fe=O+Me*oe,Le=-Me*Ae):(fe=P-Me*oe,Le=Me*Ae):ee?(pe=D+Me*oe,ye=-Me*Ae):(pe=z-Me*oe,ye=Me*Ae)}return{textX:xe,textY:ve,targetX:fe,targetY:pe,anchorX:Le,anchorY:ye,scale:me,rotate:se}}L.exports={plot:function(O,P,D,z,V,F){var W=P.xaxis,B=P.yaxis,U=O._fullLayout,H=O._context.staticPlot;V||(V={mode:U.barmode,norm:U.barmode,gap:U.bargap,groupgap:U.bargroupgap},n("bar",U));var q=a.makeTraceGroups(z,D,"trace bars").each(function(ee){var K=b.select(this),J=ee[0].trace,Z=J.type==="waterfall",$=J.type==="funnel",ne=J.type==="bar"||$,ae=0;Z&&J.connector.visible&&J.connector.mode==="between"&&(ae=J.connector.line.width/2);var oe=J.orientation==="h",se=c(V),ce=a.ensureSingle(K,"g","points"),me=g(J),xe=ce.selectAll("g.point").data(a.identity,me);xe.enter().append("g").classed("point",!0),xe.exit().remove(),xe.each(function(fe,pe){var Le,ye,Ae=b.select(this),Me=function(_e,Te,Fe,Ye){var Ge=[],ot=[],st=Ye?Te:Fe,ht=Ye?Fe:Te;return Ge[0]=st.c2p(_e.s0,!0),ot[0]=ht.c2p(_e.p0,!0),Ge[1]=st.c2p(_e.s1,!0),ot[1]=ht.c2p(_e.p1,!0),Ye?[Ge,ot]:[ot,Ge]}(fe,W,B,oe),ke=Me[0][0],te=Me[0][1],ue=Me[1][0],ge=Me[1][1],we=(oe?te-ke:ge-ue)==0;if(we&&ne&&i.getLineWidth(J,fe)&&(we=!1),we||(we=!(w(ke)&&w(te)&&w(ue)&&w(ge))),fe.isBlank=we,we&&(oe?te=ke:ge=ue),ae&&!we&&(oe?(ke-=v(ke,te)*ae,te+=v(ke,te)*ae):(ue-=v(ue,ge)*ae,ge+=v(ue,ge)*ae)),J.type==="waterfall"){if(!we){var Ee=J[fe.dir].marker;Le=Ee.line.width,ye=Ee.color}}else Le=i.getLineWidth(J,fe),ye=fe.mc||J.marker.color;function Be(_e){var Te=b.round(Le/2%1,2);return V.gap===0&&V.groupgap===0?b.round(Math.round(_e)-Te,2):_e}if(!O._context.staticPlot){var Re=y.opacity(ye)<1||Le>.01?Be:function(_e,Te,Fe){return Fe&&_e===Te?_e:Math.abs(_e-Te)>=2?Be(_e):_e>Te?Math.ceil(_e):Math.floor(_e)};ke=Re(ke,te,oe),te=Re(te,ke,oe),ue=Re(ue,ge,!oe),ge=Re(ge,ue,!oe)}var je=T(a.ensureSingle(Ae,"path"),U,V,F);if(je.style("vector-effect",H?"none":"non-scaling-stroke").attr("d",isNaN((te-ke)*(ge-ue))||we&&O._context.staticPlot?"M0,0Z":"M"+ke+","+ue+"V"+ge+"H"+te+"V"+ue+"Z").call(f.setClipUrl,P.layerClipId,O),!U.uniformtext.mode&&se){var he=f.makePointStyleFns(J);f.singlePointStyle(fe,je,J,he,O)}(function(_e,Te,Fe,Ye,Ge,ot,st,ht,xt,Ct,St){var kt,Nt=Te.xaxis,Dt=Te.yaxis,Et=_e._fullLayout;function Wt(tn,on,_n){return a.ensureSingle(tn,"text").text(on).attr({class:"bartext bartext-"+kt,"text-anchor":"middle","data-notex":1}).call(f.font,_n).call(k.convertToTspans,_e)}var Ht=Ye[0].trace,Ke=Ht.orientation==="h",$e=function(tn,on,_n,fn,Sn){var Xn,An=on[0].trace;return Xn=An.texttemplate?function(un,Tn,gn,dn,Rn){var In=Tn[0].trace,Hn=a.castOption(In,gn,"texttemplate");if(!Hn)return"";var Yn,Gn,cr,ir,Mr=In.type==="histogram",gr=In.type==="waterfall",sr=In.type==="funnel",xr=In.orientation==="h";function kr(Jn){return t(ir,ir.c2l(Jn),!0).text}xr?(Yn="y",Gn=Rn,cr="x",ir=dn):(Yn="x",Gn=dn,cr="y",ir=Rn);var Qt,bn=Tn[gn],Dn={};Dn.label=bn.p,Dn.labelLabel=Dn[Yn+"Label"]=(Qt=bn.p,t(Gn,Gn.c2l(Qt),!0).text);var Pn=a.castOption(In,bn.i,"text");(Pn===0||Pn)&&(Dn.text=Pn),Dn.value=bn.s,Dn.valueLabel=Dn[cr+"Label"]=kr(bn.s);var qn={};m(qn,In,bn.i),(Mr||qn.x===void 0)&&(qn.x=xr?Dn.value:Dn.label),(Mr||qn.y===void 0)&&(qn.y=xr?Dn.label:Dn.value),(Mr||qn.xLabel===void 0)&&(qn.xLabel=xr?Dn.valueLabel:Dn.labelLabel),(Mr||qn.yLabel===void 0)&&(qn.yLabel=xr?Dn.labelLabel:Dn.valueLabel),gr&&(Dn.delta=+bn.rawS||bn.s,Dn.deltaLabel=kr(Dn.delta),Dn.final=bn.v,Dn.finalLabel=kr(Dn.final),Dn.initial=Dn.final-Dn.delta,Dn.initialLabel=kr(Dn.initial)),sr&&(Dn.value=bn.s,Dn.valueLabel=kr(Dn.value),Dn.percentInitial=bn.begR,Dn.percentInitialLabel=a.formatPercent(bn.begR),Dn.percentPrevious=bn.difR,Dn.percentPreviousLabel=a.formatPercent(bn.difR),Dn.percentTotal=bn.sumR,Dn.percenTotalLabel=a.formatPercent(bn.sumR));var Qn=a.castOption(In,bn.i,"customdata");return Qn&&(Dn.customdata=Qn),a.texttemplateString(Hn,Dn,un._d3locale,qn,Dn,In._meta||{})}(tn,on,_n,fn,Sn):An.textinfo?function(un,Tn,gn,dn){var Rn=un[0].trace,In=Rn.orientation==="h",Hn=Rn.type==="waterfall",Yn=Rn.type==="funnel";function Gn(Qn){return t(In?gn:dn,+Qn,!0).text}var cr,ir,Mr=Rn.textinfo,gr=un[Tn],sr=Mr.split("+"),xr=[],kr=function(Qn){return sr.indexOf(Qn)!==-1};if(kr("label")&&xr.push((ir=un[Tn].p,t(In?dn:gn,ir,!0).text)),kr("text")&&((cr=a.castOption(Rn,gr.i,"text"))===0||cr)&&xr.push(cr),Hn){var Qt=+gr.rawS||gr.s,bn=gr.v,Dn=bn-Qt;kr("initial")&&xr.push(Gn(Dn)),kr("delta")&&xr.push(Gn(Qt)),kr("final")&&xr.push(Gn(bn))}if(Yn){kr("value")&&xr.push(Gn(gr.s));var Pn=0;kr("percent initial")&&Pn++,kr("percent previous")&&Pn++,kr("percent total")&&Pn++;var qn=Pn>1;kr("percent initial")&&(cr=a.formatPercent(gr.begR),qn&&(cr+=" of initial"),xr.push(cr)),kr("percent previous")&&(cr=a.formatPercent(gr.difR),qn&&(cr+=" of previous"),xr.push(cr)),kr("percent total")&&(cr=a.formatPercent(gr.sumR),qn&&(cr+=" of total"),xr.push(cr))}return xr.join("<br>")}(on,_n,fn,Sn):i.getValue(An.text,_n),i.coerceString(h,Xn)}(Et,Ye,Ge,Nt,Dt);kt=function(tn,on){var _n=i.getValue(tn.textposition,on);return i.coerceEnumerated(_,_n)}(Ht,Ge);var Ue=Ct.mode==="stack"||Ct.mode==="relative",nt=Ye[Ge],ct=!Ue||nt._outmost;if($e&&kt!=="none"&&(!nt.isBlank&&ot!==st&&ht!==xt||kt!=="auto"&&kt!=="inside")){var Oe=Et.font,Ne=r.getBarColor(Ye[Ge],Ht),Qe=r.getInsideTextFont(Ht,Ge,Oe,Ne),ut=r.getOutsideTextFont(Ht,Ge,Oe),pt=Fe.datum();Ke?Nt.type==="log"&&pt.s0<=0&&(ot=Nt.range[0]<Nt.range[1]?0:Nt._length):Dt.type==="log"&&pt.s0<=0&&(ht=Dt.range[0]<Dt.range[1]?Dt._length:0);var wt,Lt,It,yt,Rt,bt=Math.abs(st-ot)-2*d,Pt=Math.abs(xt-ht)-2*d;if(kt==="outside"&&(ct||nt.hasB||(kt="inside")),kt==="auto"&&(ct?(kt="inside",wt=Wt(Fe,$e,Rt=a.ensureUniformFontSize(_e,Qe)),It=(Lt=f.bBox(wt.node())).width,yt=Lt.height,It>0&&yt>0&&(It<=bt&&yt<=Pt||It<=Pt&&yt<=bt||(Ke?bt>=It*(Pt/yt):Pt>=yt*(bt/It)))?kt="inside":(kt="outside",wt.remove(),wt=null)):kt="inside"),!wt){var Bt=(wt=Wt(Fe,$e,Rt=a.ensureUniformFontSize(_e,kt==="outside"?ut:Qe))).attr("transform");if(wt.attr("transform",""),It=(Lt=f.bBox(wt.node())).width,yt=Lt.height,wt.attr("transform",Bt),It<=0||yt<=0)return void wt.remove()}var Zt,Yt=Ht.textangle;Zt=kt==="outside"?function(tn,on,_n,fn,Sn,Xn){var An,un=!!Xn.isHorizontal,Tn=!!Xn.constrained,gn=Xn.angle||0,dn=Sn.width,Rn=Sn.height,In=Math.abs(on-tn),Hn=Math.abs(fn-_n);An=un?Hn>2*d?d:0:In>2*d?d:0;var Yn=1;Tn&&(Yn=un?Math.min(1,Hn/Rn):Math.min(1,In/dn));var Gn=E(gn),cr=A(Sn,Gn),ir=(un?cr.x:cr.y)/2,Mr=(Sn.left+Sn.right)/2,gr=(Sn.top+Sn.bottom)/2,sr=(tn+on)/2,xr=(_n+fn)/2,kr=0,Qt=0,bn=un?v(on,tn):v(_n,fn);return un?(sr=on-bn*An,kr=bn*ir):(xr=fn+bn*An,Qt=-bn*ir),{textX:Mr,textY:gr,targetX:sr,targetY:xr,anchorX:kr,anchorY:Qt,scale:Yn,rotate:Gn}}(ot,st,ht,xt,Lt,{isHorizontal:Ke,constrained:Ht.constraintext==="both"||Ht.constraintext==="outside",angle:Yt}):C(ot,st,ht,xt,Lt,{isHorizontal:Ke,constrained:Ht.constraintext==="both"||Ht.constraintext==="inside",angle:Yt,anchor:Ht.insidetextanchor}),Zt.fontSize=Rt.size,o(Ht.type==="histogram"?"bar":Ht.type,Zt,Et),nt.transform=Zt;var Kt=T(wt,Et,Ct,St);a.setTransormAndDisplay(Kt,Zt)}else Fe.select("text").remove()})(O,P,Ae,ee,pe,ke,te,ue,ge,V,F),P.layerClipId&&f.hideOutsideRangePoint(fe,Ae.select("text"),W,B,J.xcalendar,J.ycalendar)});var ve=J.cliponaxis===!1;f.setClipUrl(K,ve?null:P.layerClipId,O)});l.getComponentMethod("errorbars","plot")(O,q,P,V)},toMoveInsideBar:C}},81974:function(L){"use strict";function M(e,b,w,a,k){var y=b.c2p(a?e.s0:e.p0,!0),f=b.c2p(a?e.s1:e.p1,!0),l=w.c2p(a?e.p0:e.s0,!0),t=w.c2p(a?e.p1:e.s1,!0);return k?[(y+f)/2,(l+t)/2]:a?[f,(l+t)/2]:[(y+f)/2,t]}L.exports=function(e,b){var w,a=e.cd,k=e.xaxis,y=e.yaxis,f=a[0].trace,l=f.type==="funnel",t=f.orientation==="h",s=[];if(b===!1)for(w=0;w<a.length;w++)a[w].selected=0;else for(w=0;w<a.length;w++){var o=a[w],n="ct"in o?o.ct:M(o,k,y,t,l);b.contains(n,!1,w,e)?(s.push({pointNumber:w,x:k.c2d(o.x),y:y.c2d(o.y)}),o.selected=1):o.selected=0}return s}},61546:function(L,M,e){"use strict";L.exports=w;var b=e(71828).distinctVals;function w(a,k){this.traces=a,this.sepNegVal=k.sepNegVal,this.overlapNoMerge=k.overlapNoMerge;for(var y=1/0,f=k.posAxis._id.charAt(0),l=[],t=0;t<a.length;t++){for(var s=a[t],o=0;o<s.length;o++){var n=s[o],r=n.p;r===void 0&&(r=n[f]),r!==void 0&&l.push(r)}s[0]&&s[0].width1&&(y=Math.min(s[0].width1,y))}this.positions=l;var i=b(l);this.distinctPositions=i.vals,i.vals.length===1&&y!==1/0?this.minDiff=y:this.minDiff=Math.min(i.minDiff,y);var u=(k.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}w.prototype.put=function(a,k){var y=this.getLabel(a,k),f=this.bins[y]||0;return this.bins[y]=f+k,f},w.prototype.get=function(a,k){var y=this.getLabel(a,k);return this.bins[y]||0},w.prototype.getLabel=function(a,k){return(k<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},16688:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(91424),k=e(71828),y=e(73972),f=e(72597).resizeText,l=e(1486),t=l.textfont,s=l.insidetextfont,o=l.outsidetextfont,n=e(69383);function r(x,g,v){a.pointStyle(x.selectAll("path"),g,v),i(x,g,v)}function i(x,g,v){x.selectAll("text").each(function(T){var c=b.select(this),E=k.ensureUniformFontSize(v,u(c,T,g,v));a.font(c,E)})}function u(x,g,v,T){var c=T._fullLayout.font,E=v.textfont;if(x.classed("bartext-inside")){var A=d(g,v);E=h(v,g.i,c,A)}else x.classed("bartext-outside")&&(E=_(v,g.i,c));return E}function p(x,g,v){return m(t,x.textfont,g,v)}function h(x,g,v,T){var c=p(x,g,v);return(x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[g]===void 0)&&(c={color:w.contrast(T),family:c.family,size:c.size}),m(s,x.insidetextfont,g,c)}function _(x,g,v){var T=p(x,g,v);return m(o,x.outsidetextfont,g,T)}function m(x,g,v,T){g=g||{};var c=n.getValue(g.family,v),E=n.getValue(g.size,v),A=n.getValue(g.color,v);return{family:n.coerceString(x.family,c,T.family),size:n.coerceNumber(x.size,E,T.size),color:n.coerceColor(x.color,A,T.color)}}function d(x,g){return g.type==="waterfall"?g[x.dir].marker.color:x.mcc||x.mc||g.marker.color}L.exports={style:function(x){var g=b.select(x).selectAll("g.barlayer").selectAll("g.trace");f(x,g,"bar");var v=g.size(),T=x._fullLayout;g.style("opacity",function(c){return c[0].trace.opacity}).each(function(c){(T.barmode==="stack"&&v>1||T.bargap===0&&T.bargroupgap===0&&!c[0].trace.marker.line.width)&&b.select(this).attr("shape-rendering","crispEdges")}),g.selectAll("g.points").each(function(c){r(b.select(this),c[0].trace,x)}),y.getComponentMethod("errorbars","style")(g)},styleTextPoints:i,styleOnSelect:function(x,g,v){var T=g[0].trace;T.selectedpoints?function(c,E,A){a.selectedPointStyle(c.selectAll("path"),E),function(C,O,P){C.each(function(D){var z,V=b.select(this);if(D.selected){z=k.ensureUniformFontSize(P,u(V,D,O,P));var F=O.selected.textfont&&O.selected.textfont.color;F&&(z.color=F),a.font(V,z)}else a.selectedTextStyle(V,O)})}(c.selectAll("text"),E,A)}(v,T,x):(r(v,T,x),y.getComponentMethod("errorbars","style")(v))},getInsideTextFont:h,getOutsideTextFont:_,getBarColor:d,resizeText:f}},98340:function(L,M,e){"use strict";var b=e(7901),w=e(52075).hasColorscale,a=e(1586),k=e(71828).coercePattern;L.exports=function(y,f,l,t,s){var o=l("marker.color",t),n=w(y,"marker");n&&a(y,f,s,l,{prefix:"marker.",cLetter:"c"}),l("marker.line.color",b.defaultLine),w(y,"marker.line")&&a(y,f,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width"),l("marker.opacity"),k(l,"marker.pattern",o,n),l("selected.marker.color"),l("unselected.marker.color")}},72597:function(L,M,e){"use strict";var b=e(39898),w=e(71828);function a(k){return"_"+k+"Text_minsize"}L.exports={recordMinTextSize:function(k,y,f){if(f.uniformtext.mode){var l=a(k),t=f.uniformtext.minsize,s=y.scale*y.fontSize;y.hide=s<t,f[l]=f[l]||1/0,y.hide||(f[l]=Math.min(f[l],Math.max(s,t)))}},clearMinTextSize:function(k,y){y[a(k)]=void 0},resizeText:function(k,y,f){var l=k._fullLayout,t=l["_"+f+"Text_minsize"];if(t){var s,o=l.uniformtext.mode==="hide";switch(f){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}y.selectAll(s).each(function(n){var r=n.transform;if(r){r.scale=o&&r.hide?0:t/r.fontSize;var i=b.select(this).select("text");w.setTransormAndDisplay(i,r)}})}}}},55023:function(L,M,e){"use strict";var b=e(5386).fF,w=e(1426).extendFlat,a=e(81245),k=e(1486);L.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:w({},k.base,{}),offset:w({},k.offset,{}),width:w({},k.width,{}),text:w({},k.text,{}),hovertext:w({},k.hovertext,{}),marker:k.marker,hoverinfo:a.hoverinfo,hovertemplate:b(),selected:k.selected,unselected:k.unselected}},74692:function(L,M,e){"use strict";var b=e(52075).hasColorscale,w=e(78803),a=e(75341),k=e(11661).setGroupPositions,y=e(66279),f=e(73972).traceIs,l=e(71828).extendFlat;L.exports={calc:function(t,s){for(var o=t._fullLayout,n=s.subplot,r=o[n].radialaxis,i=o[n].angularaxis,u=r.makeCalcdata(s,"r"),p=i.makeCalcdata(s,"theta"),h=s._length,_=new Array(h),m=u,d=p,x=0;x<h;x++)_[x]={p:d[x],s:m[x]};function g(v){var T=s[v];T!==void 0&&(s["_"+v]=Array.isArray(T)?i.makeCalcdata(s,v):i.d2c(T,s.thetaunit))}return i.type==="linear"&&(g("width"),g("offset")),b(s,"marker")&&w(t,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),b(s,"marker.line")&&w(t,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(_,s),y(_,s),_},crossTraceCalc:function(t,s,o){for(var n=t.calcdata,r=[],i=0;i<n.length;i++){var u=n[i],p=u[0].trace;p.visible===!0&&f(p,"bar")&&p.subplot===o&&r.push(u)}var h=l({},s.radialaxis,{_id:"x"}),_=s.angularaxis;k(t,_,h,r,{mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap})}}},6135:function(L,M,e){"use strict";var b=e(71828),w=e(22184).handleRThetaDefaults,a=e(98340),k=e(55023);L.exports=function(y,f,l,t){function s(o,n){return b.coerce(y,f,k,o,n)}w(y,f,t,s)?(s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),a(y,f,s,l,t),b.coerceSelectionMarkerOpacity(f,s)):f.visible=!1}},27379:function(L,M,e){"use strict";var b=e(30211),w=e(71828),a=e(95423).getTraceColor,k=w.fillText,y=e(59150).makeHoverPointText,f=e(10869).isPtInsidePolygon;L.exports=function(l,t,s){var o=l.cd,n=o[0].trace,r=l.subplot,i=r.radialAxis,u=r.angularAxis,p=r.vangles,h=p?f:w.isPtInsideSector,_=l.maxHoverDistance,m=u._period||2*Math.PI,d=Math.abs(i.g2p(Math.sqrt(t*t+s*s))),x=Math.atan2(s,t);if(i.range[0]>i.range[1]&&(x+=Math.PI),b.getClosest(o,function(T){return h(d,x,[T.rp0,T.rp1],[T.thetag0,T.thetag1],p)?_+Math.min(1,Math.abs(T.thetag1-T.thetag0)/m)-1+(T.rp1-d)/(T.rp1-T.rp0)-1:1/0},l),l.index!==!1){var g=o[l.index];l.x0=l.x1=g.ct[0],l.y0=l.y1=g.ct[1];var v=w.extendFlat({},g,{r:g.s,theta:g.p});return k(g,n,l),y(v,n,r,l),l.hovertemplate=n.hovertemplate,l.color=a(n,g),l.xLabelVal=l.yLabelVal=void 0,g.s<0&&(l.idealAlign="left"),[l]}}},23381:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(L){"use strict";L.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(L,M,e){"use strict";var b=e(71828),w=e(40151);L.exports=function(a,k,y){var f,l={};function t(n,r){return b.coerce(a[f]||{},k[f],w,n,r)}for(var s=0;s<y.length;s++){var o=y[s];o.type==="barpolar"&&o.visible===!0&&(l[f=o.subplot]||(t("barmode"),t("bargap"),l[f]=1))}}},60173:function(L,M,e){"use strict";var b=e(39898),w=e(92770),a=e(71828),k=e(91424),y=e(10869);L.exports=function(f,l,t){var s=f._context.staticPlot,o=l.xaxis,n=l.yaxis,r=l.radialAxis,i=l.angularAxis,u=function(h){var _=h.cxx,m=h.cyy;return h.vangles?function(d,x,g,v){var T,c;a.angleDelta(g,v)>0?(T=g,c=v):(T=v,c=g);var E=[y.findEnclosingVertexAngles(T,h.vangles)[0],(T+c)/2,y.findEnclosingVertexAngles(c,h.vangles)[1]];return y.pathPolygonAnnulus(d,x,T,c,E,_,m)}:function(d,x,g,v){return a.pathAnnulus(d,x,g,v,_,m)}}(l),p=l.layers.frontplot.select("g.barlayer");a.makeTraceGroups(p,t,"trace bars").each(function(){var h=b.select(this),_=a.ensureSingle(h,"g","points").selectAll("g.point").data(a.identity);_.enter().append("g").style("vector-effect",s?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),_.exit().remove(),_.each(function(m){var d,x=b.select(this),g=m.rp0=r.c2p(m.s0),v=m.rp1=r.c2p(m.s1),T=m.thetag0=i.c2g(m.p0),c=m.thetag1=i.c2g(m.p1);if(w(g)&&w(v)&&w(T)&&w(c)&&g!==v&&T!==c){var E=r.c2g(m.s1),A=(T+c)/2;m.ct=[o.c2p(E*Math.cos(A)),n.c2p(E*Math.sin(A))],d=u(g,v,T,c)}else d="M0,0Z";a.ensureSingle(x,"path").attr("d",d)}),k.setClipUrl(h,l._hasClipOnAxisFalse?l.clipIds.forTraces:null,f)})}},53522:function(L,M,e){"use strict";var b=e(82196),w=e(1486),a=e(22399),k=e(12663).axisHoverFormat,y=e(5386).fF,f=e(1426).extendFlat,l=b.marker,t=l.line;L.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:f({},l.symbol,{arrayOk:!1,editType:"plot"}),opacity:f({},l.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:f({},l.angle,{arrayOk:!1,editType:"calc"}),size:f({},l.size,{arrayOk:!1,editType:"calc"}),color:f({},l.color,{arrayOk:!1,editType:"style"}),line:{color:f({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:f({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:b.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:w.offsetgroup,alignmentgroup:w.alignmentgroup,selected:{marker:b.selected.marker,editType:"style"},unselected:{marker:b.unselected.marker,editType:"style"},text:f({},b.text,{}),hovertext:f({},b.hovertext,{}),hovertemplate:y({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(L,M,e){"use strict";var b=e(92770),w=e(89298),a=e(42973),k=e(71828),y=e(50606).BADNUM,f=k._;L.exports=function(h,_){var m,d,x,g,v,T,c,E=h._fullLayout,A=w.getFromId(h,_.xaxis||"x"),C=w.getFromId(h,_.yaxis||"y"),O=[],P=_.type==="violin"?"_numViolins":"_numBoxes";_.orientation==="h"?(x=A,g="x",v=C,T="y",c=!!_.yperiodalignment):(x=C,g="y",v=A,T="x",c=!!_.xperiodalignment);var D,z,V,F,W,B,U=function(Te,Fe,Ye,Ge){var ot,st=Fe+"0"in Te;if(Fe in Te||st&&"d"+Fe in Te){var ht=Ye.makeCalcdata(Te,Fe);return[a(Te,Ye,Fe,ht).vals,ht]}ot=st?Te[Fe+"0"]:"name"in Te&&(Ye.type==="category"||b(Te.name)&&["linear","log"].indexOf(Ye.type)!==-1||k.isDateTime(Te.name)&&Ye.type==="date")?Te.name:Ge;for(var xt=Ye.type==="multicategory"?Ye.r2c_just_indices(ot):Ye.d2c(ot,0,Te[Fe+"calendar"]),Ct=Te._length,St=new Array(Ct),kt=0;kt<Ct;kt++)St[kt]=xt;return[St]}(_,T,v,E[P]),H=U[0],q=U[1],ee=k.distinctVals(H,v),K=ee.vals,J=ee.minDiff/2,Z=(_.boxpoints||_.points)==="all"?k.identity:function(Te){return Te.v<D.lf||Te.v>D.uf};if(_._hasPreCompStats){var $=_[g],ne=function(Te){return x.d2c((_[Te]||[])[m])},ae=1/0,oe=-1/0;for(m=0;m<_._length;m++){var se=H[m];if(b(se)){if((D={}).pos=D[T]=se,c&&q&&(D.orig_p=q[m]),D.q1=ne("q1"),D.med=ne("median"),D.q3=ne("q3"),z=[],$&&k.isArrayOrTypedArray($[m]))for(d=0;d<$[m].length;d++)(B=x.d2c($[m][d]))!==y&&(t(W={v:B,i:[m,d]},_,[m,d]),z.push(W));if(D.pts=z.sort(s),F=(V=D[g]=z.map(o)).length,D.med!==y&&D.q1!==y&&D.q3!==y&&D.med>=D.q1&&D.q3>=D.med){var ce=ne("lowerfence");D.lf=ce!==y&&ce<=D.q1?ce:n(D,V,F);var me=ne("upperfence");D.uf=me!==y&&me>=D.q3?me:r(D,V,F);var xe=ne("mean");D.mean=xe!==y?xe:F?k.mean(V,F):(D.q1+D.q3)/2;var ve=ne("sd");D.sd=xe!==y&&ve>=0?ve:F?k.stdev(V,F,D.mean):D.q3-D.q1,D.lo=i(D),D.uo=u(D);var fe=ne("notchspan");fe=fe!==y&&fe>0?fe:p(D,F),D.ln=D.med-fe,D.un=D.med+fe;var pe=D.lf,Le=D.uf;_.boxpoints&&V.length&&(pe=Math.min(pe,V[0]),Le=Math.max(Le,V[F-1])),_.notched&&(pe=Math.min(pe,D.ln),Le=Math.max(Le,D.un)),D.min=pe,D.max=Le}else{var ye;k.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+D.q1,"median = "+D.med,"q3 = "+D.q3].join(`
`)),ye=D.med!==y?D.med:D.q1!==y?D.q3!==y?(D.q1+D.q3)/2:D.q1:D.q3!==y?D.q3:0,D.med=ye,D.q1=D.q3=ye,D.lf=D.uf=ye,D.mean=D.sd=ye,D.ln=D.un=ye,D.min=D.max=ye}ae=Math.min(ae,D.min),oe=Math.max(oe,D.max),D.pts2=z.filter(Z),O.push(D)}}_._extremes[x._id]=w.findExtremes(x,[ae,oe],{padded:!0})}else{var Ae=x.makeCalcdata(_,g),Me=function(Te,Fe){for(var Ye=Te.length,Ge=new Array(Ye+1),ot=0;ot<Ye;ot++)Ge[ot]=Te[ot]-Fe;return Ge[Ye]=Te[Ye-1]+Fe,Ge}(K,J),ke=K.length,te=function(Te){for(var Fe=new Array(Te),Ye=0;Ye<Te;Ye++)Fe[Ye]=[];return Fe}(ke);for(m=0;m<_._length;m++)if(B=Ae[m],b(B)){var ue=k.findBin(H[m],Me);ue>=0&&ue<ke&&(t(W={v:B,i:m},_,m),te[ue].push(W))}var ge=1/0,we=-1/0,Ee=_.quartilemethod,Be=Ee==="exclusive",Re=Ee==="inclusive";for(m=0;m<ke;m++)if(te[m].length>0){var je,he;(D={}).pos=D[T]=K[m],z=D.pts=te[m].sort(s),F=(V=D[g]=z.map(o)).length,D.min=V[0],D.max=V[F-1],D.mean=k.mean(V,F),D.sd=k.stdev(V,F,D.mean),D.med=k.interp(V,.5),F%2&&(Be||Re)?(Be?(je=V.slice(0,F/2),he=V.slice(F/2+1)):Re&&(je=V.slice(0,F/2+1),he=V.slice(F/2)),D.q1=k.interp(je,.5),D.q3=k.interp(he,.5)):(D.q1=k.interp(V,.25),D.q3=k.interp(V,.75)),D.lf=n(D,V,F),D.uf=r(D,V,F),D.lo=i(D),D.uo=u(D);var _e=p(D,F);D.ln=D.med-_e,D.un=D.med+_e,ge=Math.min(ge,D.ln),we=Math.max(we,D.un),D.pts2=z.filter(Z),O.push(D)}_._extremes[x._id]=w.findExtremes(x,_.notched?Ae.concat([ge,we]):Ae,{padded:!0})}return function(Te,Fe){if(k.isArrayOrTypedArray(Fe.selectedpoints))for(var Ye=0;Ye<Te.length;Ye++){for(var Ge=Te[Ye].pts||[],ot={},st=0;st<Ge.length;st++)ot[Ge[st].i]=st;k.tagSelected(Ge,Fe,ot)}}(O,_),O.length>0?(O[0].t={num:E[P],dPos:J,posLetter:T,valLetter:g,labels:{med:f(h,"median:"),min:f(h,"min:"),q1:f(h,"q1:"),q3:f(h,"q3:"),max:f(h,"max:"),mean:_.boxmean==="sd"?f(h,"mean \xB1 \u03C3:"):f(h,"mean:"),lf:f(h,"lower fence:"),uf:f(h,"upper fence:")}},E[P]++,O):[{t:{empty:!0}}]};var l={text:"tx",hovertext:"htx"};function t(h,_,m){for(var d in l)k.isArrayOrTypedArray(_[d])&&(Array.isArray(m)?k.isArrayOrTypedArray(_[d][m[0]])&&(h[l[d]]=_[d][m[0]][m[1]]):h[l[d]]=_[d][m])}function s(h,_){return h.v-_.v}function o(h){return h.v}function n(h,_,m){return m===0?h.q1:Math.min(h.q1,_[Math.min(k.findBin(2.5*h.q1-1.5*h.q3,_,!0)+1,m-1)])}function r(h,_,m){return m===0?h.q3:Math.max(h.q3,_[Math.max(k.findBin(2.5*h.q3-1.5*h.q1,_),0)])}function i(h){return 4*h.q1-3*h.q3}function u(h){return 4*h.q3-3*h.q1}function p(h,_){return _===0?0:1.57*(h.q3-h.q1)/Math.sqrt(_)}},37188:function(L,M,e){"use strict";var b=e(89298),w=e(71828),a=e(99082).getAxisGroup,k=["v","h"];function y(f,l,t,s){var o,n,r,i=l.calcdata,u=l._fullLayout,p=s._id,h=p.charAt(0),_=[],m=0;for(o=0;o<t.length;o++)for(r=i[t[o]],n=0;n<r.length;n++)_.push(s.c2l(r[n].pos,!0)),m+=(r[n].pts2||[]).length;if(_.length){var d=w.distinctVals(_);s.type!=="category"&&s.type!=="multicategory"||(d.minDiff=1);var x=d.minDiff/2;b.minDtick(s,d.minDiff,d.vals[0],!0);var g=u[f==="violin"?"_numViolins":"_numBoxes"],v=u[f+"mode"]==="group"&&g>1,T=1-u[f+"gap"],c=1-u[f+"groupgap"];for(o=0;o<t.length;o++){var E,A,C,O,P,D,z=(r=i[t[o]])[0].trace,V=r[0].t,F=z.width,W=z.side;if(F)E=A=O=F/2,C=0;else if(E=x,v){var B=a(u,s._id)+z.orientation,U=(u._alignmentOpts[B]||{})[z.alignmentgroup]||{},H=Object.keys(U.offsetGroups||{}).length,q=H||g;A=E*T*c/q,C=2*E*(((H?z._offsetIndex:V.num)+.5)/q-.5)*T,O=E*T/q}else A=E*T*c,C=0,O=E;V.dPos=E,V.bPos=C,V.bdPos=A,V.wHover=O;var ee,K,J,Z,$,ne,ae=C+A,oe=!!F;if(W==="positive"?(P=E*(F?1:.5),ee=ae,D=ee=C):W==="negative"?(P=ee=C,D=E*(F?1:.5),K=ae):(P=D=E,ee=K=ae),(z.boxpoints||z.points)&&m>0){var se=z.pointpos,ce=z.jitter,me=z.marker.size/2,xe=0;se+ce>=0&&((xe=ae*(se+ce))>P?(oe=!0,$=me,J=xe):xe>ee&&($=me,J=P)),xe<=P&&(J=P);var ve=0;se-ce<=0&&((ve=-ae*(se-ce))>D?(oe=!0,ne=me,Z=ve):ve>K&&(ne=me,Z=D)),ve<=D&&(Z=D)}else J=P,Z=D;var fe=new Array(r.length);for(n=0;n<r.length;n++)fe[n]=r[n].pos;z._extremes[p]=b.findExtremes(s,fe,{padded:oe,vpadminus:Z,vpadplus:J,vpadLinearized:!0,ppadminus:{x:ne,y:$}[h],ppadplus:{x:$,y:ne}[h]})}}}L.exports={crossTraceCalc:function(f,l){for(var t=f.calcdata,s=l.xaxis,o=l.yaxis,n=0;n<k.length;n++){for(var r=k[n],i=r==="h"?o:s,u=[],p=0;p<t.length;p++){var h=t[p],_=h[0].t,m=h[0].trace;m.visible!==!0||m.type!=="box"&&m.type!=="candlestick"||_.empty||(m.orientation||"v")!==r||m.xaxis!==s._id||m.yaxis!==o._id||u.push(p)}y("box",f,u,i)}},setPositionOffset:y}},36411:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=e(7901),k=e(73927),y=e(26125),f=e(4322),l=e(53522);function t(o,n,r,i){function u(W){var B=0;return W&&W.length&&(B+=1,b.isArrayOrTypedArray(W[0])&&W[0].length&&(B+=1)),B}function p(W){return b.validate(o[W],l[W])}var h,_=r("y"),m=r("x");if(n.type==="box"){var d=r("q1"),x=r("median"),g=r("q3");n._hasPreCompStats=d&&d.length&&x&&x.length&&g&&g.length,h=Math.min(b.minRowLength(d),b.minRowLength(x),b.minRowLength(g))}var v,T,c=u(_),E=u(m),A=c&&b.minRowLength(_),C=E&&b.minRowLength(m),O=i.calendar,P={autotypenumbers:i.autotypenumbers};if(n._hasPreCompStats)switch(String(E)+String(c)){case"00":var D=p("x0")||p("dx");v=!p("y0")&&!p("dy")||D?"v":"h",T=h;break;case"10":v="v",T=Math.min(h,C);break;case"20":v="h",T=Math.min(h,m.length);break;case"01":v="h",T=Math.min(h,A);break;case"02":v="v",T=Math.min(h,_.length);break;case"12":v="v",T=Math.min(h,C,_.length);break;case"21":v="h",T=Math.min(h,m.length,A);break;case"11":T=0;break;case"22":var z,V=!1;for(z=0;z<m.length;z++)if(f(m[z],O,P)==="category"){V=!0;break}if(V)v="v",T=Math.min(h,C,_.length);else{for(z=0;z<_.length;z++)if(f(_[z],O,P)==="category"){V=!0;break}V?(v="h",T=Math.min(h,m.length,A)):(v="v",T=Math.min(h,C,_.length))}}else c>0?(v="v",T=E>0?Math.min(C,A):Math.min(A)):E>0?(v="h",T=Math.min(C)):T=0;if(T){n._length=T;var F=r("orientation",v);n._hasPreCompStats?F==="v"&&E===0?(r("x0",0),r("dx",1)):F==="h"&&c===0&&(r("y0",0),r("dy",1)):F==="v"&&E===0?r("x0"):F==="h"&&c===0&&r("y0"),w.getComponentMethod("calendars","handleTraceDefaults")(o,n,["x","y"],i)}else n.visible=!1}function s(o,n,r,i){var u=i.prefix,p=b.coerce2(o,n,l,"marker.outliercolor"),h=r("marker.line.outliercolor"),_="outliers";n._hasPreCompStats?_="all":(p||h)&&(_="suspectedoutliers");var m=r(u+"points",_);m?(r("jitter",m==="all"?.3:0),r("pointpos",m==="all"?-1.5:0),r("marker.symbol"),r("marker.opacity"),r("marker.size"),r("marker.angle"),r("marker.color",n.line.color),r("marker.line.color"),r("marker.line.width"),m==="suspectedoutliers"&&(r("marker.line.outliercolor",n.marker.color),r("marker.line.outlierwidth")),r("selected.marker.color"),r("unselected.marker.color"),r("selected.marker.size"),r("unselected.marker.size"),r("text"),r("hovertext")):delete n.marker;var d=r("hoveron");d!=="all"&&d.indexOf("points")===-1||r("hovertemplate"),b.coerceSelectionMarkerOpacity(n,r)}L.exports={supplyDefaults:function(o,n,r,i){function u(g,v){return b.coerce(o,n,l,g,v)}if(t(o,n,u,i),n.visible!==!1){k(o,n,i,u),u("xhoverformat"),u("yhoverformat");var p=n._hasPreCompStats;p&&(u("lowerfence"),u("upperfence")),u("line.color",(o.marker||{}).color||r),u("line.width"),u("fillcolor",a.addOpacity(n.line.color,.5));var h=!1;if(p){var _=u("mean"),m=u("sd");_&&_.length&&(h=!0,m&&m.length&&(h="sd"))}u("boxmean",h),u("whiskerwidth"),u("width"),u("quartilemethod");var d=!1;if(p){var x=u("notchspan");x&&x.length&&(d=!0)}else b.validate(o.notchwidth,l.notchwidth)&&(d=!0);u("notched",d)&&u("notchwidth"),s(o,n,u,{prefix:"box"})}},crossTraceDefaults:function(o,n){var r,i;function u(_){return b.coerce(i._input,i,l,_)}for(var p=0;p<o.length;p++){var h=(i=o[p]).type;h!=="box"&&h!=="violin"||(r=i._input,n[h+"mode"]==="group"&&y(r,i,n,u))}},handleSampleDefaults:t,handlePointsDefaults:s}},74907:function(L){"use strict";L.exports=function(M,e){return e.hoverOnBox&&(M.hoverOnBox=e.hoverOnBox),"xVal"in e&&(M.x=e.xVal),"yVal"in e&&(M.y=e.yVal),e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),M}},41868:function(L,M,e){"use strict";var b=e(89298),w=e(71828),a=e(30211),k=e(7901),y=w.fillText;function f(t,s,o,n){var r,i,u,p,h,_,m,d,x,g,v,T,c,E,A=t.cd,C=t.xa,O=t.ya,P=A[0].trace,D=A[0].t,z=P.type==="violin",V=D.bdPos,F=D.wHover,W=function(ye){return u.c2l(ye.pos)+D.bPos-u.c2l(_)};z&&P.side!=="both"?(P.side==="positive"&&(x=function(ye){var Ae=W(ye);return a.inbox(Ae,Ae+F,g)},T=V,c=0),P.side==="negative"&&(x=function(ye){var Ae=W(ye);return a.inbox(Ae-F,Ae,g)},T=0,c=V)):(x=function(ye){var Ae=W(ye);return a.inbox(Ae-F,Ae+F,g)},T=c=V),E=z?function(ye){return a.inbox(ye.span[0]-h,ye.span[1]-h,g)}:function(ye){return a.inbox(ye.min-h,ye.max-h,g)},P.orientation==="h"?(h=s,_=o,m=E,d=x,r="y",u=O,i="x",p=C):(h=o,_=s,m=x,d=E,r="x",u=C,i="y",p=O);var B=Math.min(1,V/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function U(ye){return(m(ye)+d(ye))/2}g=t.maxHoverDistance-B,v=t.maxSpikeDistance-B;var H=a.getDistanceFunction(n,m,d,U);if(a.getClosest(A,H,t),t.index===!1)return[];var q=A[t.index],ee=P.line.color,K=(P.marker||{}).color;k.opacity(ee)&&P.line.width?t.color=ee:k.opacity(K)&&P.boxpoints?t.color=K:t.color=P.fillcolor,t[r+"0"]=u.c2p(q.pos+D.bPos-c,!0),t[r+"1"]=u.c2p(q.pos+D.bPos+T,!0),t[r+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var J=r+"Spike";t.spikeDistance=U(q)*v/g,t[J]=u.c2p(q.pos,!0);var Z=P.boxmean||(P.meanline||{}).visible,$=P.boxpoints||P.points,ne=$&&Z?["max","uf","q3","med","mean","q1","lf","min"]:$&&!Z?["max","uf","q3","med","q1","lf","min"]:!$&&Z?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],ae=p.range[1]<p.range[0];P.orientation===(ae?"v":"h")&&ne.reverse();for(var oe=t.spikeDistance,se=t[J],ce=[],me=0;me<ne.length;me++){var xe=ne[me];if(xe in q){var ve=q[xe],fe=p.c2p(ve,!0),pe=w.extendFlat({},t);pe.attr=xe,pe[i+"0"]=pe[i+"1"]=fe,pe[i+"LabelVal"]=ve,pe[i+"Label"]=(D.labels?D.labels[xe]+" ":"")+b.hoverLabelText(p,ve,P[i+"hoverformat"]),pe.hoverOnBox=!0,xe==="mean"&&"sd"in q&&P.boxmean==="sd"&&(pe[i+"err"]=q.sd),pe.hovertemplate=!1,ce.push(pe)}}t.name="",t.spikeDistance=void 0,t[J]=void 0;for(var Le=0;Le<ce.length;Le++)ce[Le].attr!=="med"?(ce[Le].name="",ce[Le].spikeDistance=void 0,ce[Le][J]=void 0):(ce[Le].spikeDistance=oe,ce[Le][J]=se);return ce}function l(t,s,o){for(var n,r,i,u=t.cd,p=t.xa,h=t.ya,_=u[0].trace,m=p.c2p(s),d=h.c2p(o),x=a.quadrature(function(z){var V=Math.max(3,z.mrc||0);return Math.max(Math.abs(p.c2p(z.x)-m)-V,1-3/V)},function(z){var V=Math.max(3,z.mrc||0);return Math.max(Math.abs(h.c2p(z.y)-d)-V,1-3/V)}),g=!1,v=0;v<u.length;v++){r=u[v];for(var T=0;T<(r.pts||[]).length;T++){var c=x(i=r.pts[T]);c<=t.distance&&(t.distance=c,g=[v,T])}}if(!g)return!1;i=(r=u[g[0]]).pts[g[1]];var E=p.c2p(i.x,!0),A=h.c2p(i.y,!0),C=i.mrc||1;n=w.extendFlat({},t,{index:i.i,color:(_.marker||{}).color,name:_.name,x0:E-C,x1:E+C,y0:A-C,y1:A+C,spikeDistance:t.distance,hovertemplate:_.hovertemplate});var O,P=r.orig_p,D=P!==void 0?P:r.pos;return _.orientation==="h"?(O=h,n.xLabelVal=i.x,n.yLabelVal=D):(O=p,n.xLabelVal=D,n.yLabelVal=i.y),n[O._id.charAt(0)+"Spike"]=O.c2p(r.pos,!0),y(i,_,n),n}L.exports={hoverPoints:function(t,s,o,n){var r,i=t.cd[0].trace.hoveron,u=[];return i.indexOf("boxes")!==-1&&(u=u.concat(f(t,s,o,n))),i.indexOf("points")!==-1&&(r=l(t,s,o)),n==="closest"?r?[r]:u:(r&&u.push(r),u)},hoverOnBoxes:f,hoverOnPoints:l}},83832:function(L,M,e){"use strict";L.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(L){"use strict";L.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(40094);function k(y,f,l,t,s){for(var o=s+"Layout",n=!1,r=0;r<l.length;r++){var i=l[r];if(b.traceIs(i,o)){n=!0;break}}n&&(t(s+"mode"),t(s+"gap"),t(s+"groupgap"))}L.exports={supplyLayoutDefaults:function(y,f,l){k(0,0,l,function(t,s){return w.coerce(y,f,a,t,s)},"box")},_supply:k}},86047:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424);function k(l,t,s,o,n){var r,i,u=s.orientation==="h",p=t.val,h=t.pos,_=!!h.rangebreaks,m=o.bPos,d=o.wdPos||0,x=o.bPosPxOffset||0,g=s.whiskerwidth||0,v=s.notched||!1,T=v?1-2*s.notchwidth:1;Array.isArray(o.bdPos)?(r=o.bdPos[0],i=o.bdPos[1]):(r=o.bdPos,i=o.bdPos);var c=l.selectAll("path.box").data(s.type!=="violin"||s.box.visible?w.identity:[]);c.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","box"),c.exit().remove(),c.each(function(E){if(E.empty)return"M0,0Z";var A=h.c2l(E.pos+m,!0),C=h.l2p(A-r)+x,O=h.l2p(A+i)+x,P=_?(C+O)/2:h.l2p(A)+x,D=s.whiskerwidth,z=_?C*D+(1-D)*P:h.l2p(A-d)+x,V=_?O*D+(1-D)*P:h.l2p(A+d)+x,F=h.l2p(A-r*T)+x,W=h.l2p(A+i*T)+x,B=p.c2p(E.q1,!0),U=p.c2p(E.q3,!0),H=w.constrain(p.c2p(E.med,!0),Math.min(B,U)+1,Math.max(B,U)-1),q=E.lf===void 0||s.boxpoints===!1,ee=p.c2p(q?E.min:E.lf,!0),K=p.c2p(q?E.max:E.uf,!0),J=p.c2p(E.ln,!0),Z=p.c2p(E.un,!0);u?b.select(this).attr("d","M"+H+","+F+"V"+W+"M"+B+","+C+"V"+O+(v?"H"+J+"L"+H+","+W+"L"+Z+","+O:"")+"H"+U+"V"+C+(v?"H"+Z+"L"+H+","+F+"L"+J+","+C:"")+"ZM"+B+","+P+"H"+ee+"M"+U+","+P+"H"+K+(g===0?"":"M"+ee+","+z+"V"+V+"M"+K+","+z+"V"+V)):b.select(this).attr("d","M"+F+","+H+"H"+W+"M"+C+","+B+"H"+O+(v?"V"+J+"L"+W+","+H+"L"+O+","+Z:"")+"V"+U+"H"+C+(v?"V"+Z+"L"+F+","+H+"L"+C+","+J:"")+"ZM"+P+","+B+"V"+ee+"M"+P+","+U+"V"+K+(g===0?"":"M"+z+","+ee+"H"+V+"M"+z+","+K+"H"+V))})}function y(l,t,s,o){var n=t.x,r=t.y,i=o.bdPos,u=o.bPos,p=s.boxpoints||s.points;w.seedPseudoRandom();var h=l.selectAll("g.points").data(p?function(m){return m.forEach(function(d){d.t=o,d.trace=s}),m}:[]);h.enter().append("g").attr("class","points"),h.exit().remove();var _=h.selectAll("path").data(function(m){var d,x,g=m.pts2,v=Math.max((m.max-m.min)/10,m.q3-m.q1),T=1e-9*v,c=.01*v,E=[],A=0;if(s.jitter){if(v===0)for(A=1,E=new Array(g.length),d=0;d<g.length;d++)E[d]=1;else for(d=0;d<g.length;d++){var C=Math.max(0,d-5),O=g[C].v,P=Math.min(g.length-1,d+5),D=g[P].v;p!=="all"&&(g[d].v<m.lf?D=Math.min(D,m.lf):O=Math.max(O,m.uf));var z=Math.sqrt(c*(P-C)/(D-O+T))||0;z=w.constrain(Math.abs(z),0,1),E.push(z),A=Math.max(z,A)}x=2*s.jitter/(A||1)}for(d=0;d<g.length;d++){var V=g[d],F=V.v,W=s.jitter?x*E[d]*(w.pseudoRandom()-.5):0,B=m.pos+u+i*(s.pointpos+W);s.orientation==="h"?(V.y=B,V.x=F):(V.x=B,V.y=F),p==="suspectedoutliers"&&F<m.uo&&F>m.lo&&(V.so=!0)}return g});_.enter().append("path").classed("point",!0),_.exit().remove(),_.call(a.translatePoints,n,r)}function f(l,t,s,o){var n,r,i=t.val,u=t.pos,p=!!u.rangebreaks,h=o.bPos,_=o.bPosPxOffset||0,m=s.boxmean||(s.meanline||{}).visible;Array.isArray(o.bdPos)?(n=o.bdPos[0],r=o.bdPos[1]):(n=o.bdPos,r=o.bdPos);var d=l.selectAll("path.mean").data(s.type==="box"&&s.boxmean||s.type==="violin"&&s.box.visible&&s.meanline.visible?w.identity:[]);d.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),d.exit().remove(),d.each(function(x){var g=u.c2l(x.pos+h,!0),v=u.l2p(g-n)+_,T=u.l2p(g+r)+_,c=p?(v+T)/2:u.l2p(g)+_,E=i.c2p(x.mean,!0),A=i.c2p(x.mean-x.sd,!0),C=i.c2p(x.mean+x.sd,!0);s.orientation==="h"?b.select(this).attr("d","M"+E+","+v+"V"+T+(m==="sd"?"m0,0L"+A+","+c+"L"+E+","+v+"L"+C+","+c+"Z":"")):b.select(this).attr("d","M"+v+","+E+"H"+T+(m==="sd"?"m0,0L"+c+","+A+"L"+v+","+E+"L"+c+","+C+"Z":""))})}L.exports={plot:function(l,t,s,o){var n=l._context.staticPlot,r=t.xaxis,i=t.yaxis;w.makeTraceGroups(o,s,"trace boxes").each(function(u){var p,h,_=b.select(this),m=u[0],d=m.t,x=m.trace;d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty?_.remove():(x.orientation==="h"?(p=i,h=r):(p=r,h=i),k(_,{pos:p,val:h},x,d,n),y(_,{x:r,y:i},x,d),f(_,{pos:p,val:h},x,d))})},plotBoxAndWhiskers:k,plotPoints:y,plotBoxMean:f}},24626:function(L){"use strict";L.exports=function(M,e){var b,w,a=M.cd,k=M.xaxis,y=M.yaxis,f=[];if(e===!1)for(b=0;b<a.length;b++)for(w=0;w<(a[b].pts||[]).length;w++)a[b].pts[w].selected=0;else for(b=0;b<a.length;b++)for(w=0;w<(a[b].pts||[]).length;w++){var l=a[b].pts[w],t=k.c2p(l.x),s=y.c2p(l.y);e.contains([t,s],null,l.i,M)?(f.push({pointNumber:l.i,x:k.c2d(l.x),y:y.c2d(l.y)}),l.selected=1):l.selected=0}return f}},58063:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(91424);L.exports={style:function(k,y,f){var l=f||b.select(k).selectAll("g.trace.boxes");l.style("opacity",function(t){return t[0].trace.opacity}),l.each(function(t){var s=b.select(this),o=t[0].trace,n=o.line.width;function r(p,h,_,m){p.style("stroke-width",h+"px").call(w.stroke,_).call(w.fill,m)}var i=s.selectAll("path.box");if(o.type==="candlestick")i.each(function(p){if(!p.empty){var h=b.select(this),_=o[p.dir];r(h,_.line.width,_.line.color,_.fillcolor),h.style("opacity",o.selectedpoints&&!p.selected?.3:1)}});else{r(i,n,o.line.color,o.fillcolor),s.selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(w.stroke,o.line.color);var u=s.selectAll("path.point");a.pointStyle(u,o,k)}})},styleOnSelect:function(k,y,f){var l=y[0].trace,t=f.selectAll("path.point");l.selectedpoints?a.selectedPointStyle(t,l):a.pointStyle(t,l,k)}}},75343:function(L,M,e){"use strict";var b=e(71828).extendFlat,w=e(12663).axisHoverFormat,a=e(2522),k=e(53522);function y(f){return{line:{color:b({},k.line.color,{dflt:f}),width:k.line.width,editType:"style"},fillcolor:k.fillcolor,editType:"style"}}L.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:b({},k.line.width,{}),editType:"style"},increasing:y(a.increasing.line.color.dflt),decreasing:y(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:b({},k.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(42973),k=e(3485).calcCommon;function y(f,l,t,s){return{min:t,q1:Math.min(f,s),med:s,q3:Math.max(f,s),max:l}}L.exports=function(f,l){var t=f._fullLayout,s=w.getFromId(f,l.xaxis),o=w.getFromId(f,l.yaxis),n=s.makeCalcdata(l,"x"),r=a(l,s,"x",n).vals,i=k(f,l,n,r,o,y);return i.length?(b.extendFlat(i[0].t,{num:t._numBoxes,dPos:b.distinctVals(r).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,i):[{t:{empty:!0}}]}},1026:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(14555),k=e(73927),y=e(75343);function f(l,t,s,o){var n=s(o+".line.color");s(o+".line.width",t.line.width),s(o+".fillcolor",w.addOpacity(n,.5))}L.exports=function(l,t,s,o){function n(r,i){return b.coerce(l,t,y,r,i)}a(l,t,n,o)?(k(l,t,o,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),f(0,t,n,"increasing"),f(0,t,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),o._requestRangeslider[t.xaxis]=!0):t.visible=!1}},91815:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(L,M,e){"use strict";var b=e(11500),w=e(44467);L.exports=function(a,k,y,f,l){f("a")||(f("da"),f("a0")),f("b")||(f("db"),f("b0")),function(t,s,o,n){["aaxis","baxis"].forEach(function(r){var i=r.charAt(0),u=t[r]||{},p=w.newContainer(s,r),h={noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:s.font,name:r,data:t[i],calendar:s.calendar,dfltColor:n,bgColor:o.paper_bgcolor,autotypenumbersDflt:o.autotypenumbers,fullLayout:o};b(u,p,h),p._categories=p._categories||[],t[r]||u.type==="-"||(t[r]={type:u.type})})}(a,k,y,l)}},402:function(L,M,e){"use strict";var b=e(71828).isArrayOrTypedArray;function w(a,k){if(!b(a)||k>=10)return null;for(var y=1/0,f=-1/0,l=a.length,t=0;t<l;t++){var s=a[t];if(b(s)){var o=w(s,k+1);o&&(y=Math.min(o[0],y),f=Math.max(o[1],f))}else y=Math.min(s,y),f=Math.max(s,f)}return[y,f]}L.exports=function(a){return w(a,0)}},99798:function(L,M,e){"use strict";var b=e(41940),w=e(1928),a=e(22399),k=b({editType:"calc"});k.family.dflt='"Open Sans", verdana, arial, sans-serif',k.size.dflt=12,k.color.dflt=a.defaultLine,L.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:w,baxis:w,font:k,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(L,M,e){"use strict";var b=e(71828).isArrayOrTypedArray;L.exports=function(w,a,k,y){var f,l,t,s,o,n,r,i,u,p,h,_,m,d=b(k)?"a":"b",x=(d==="a"?w.aaxis:w.baxis).smoothing,g=d==="a"?w.a2i:w.b2j,v=d==="a"?k:y,T=d==="a"?y:k,c=d==="a"?a.a.length:a.b.length,E=d==="a"?a.b.length:a.a.length,A=Math.floor(d==="a"?w.b2j(T):w.a2i(T)),C=d==="a"?function(ee){return w.evalxy([],ee,A)}:function(ee){return w.evalxy([],A,ee)};x&&(t=Math.max(0,Math.min(E-2,A)),s=A-t,l=d==="a"?function(ee,K){return w.dxydi([],ee,t,K,s)}:function(ee,K){return w.dxydj([],t,ee,s,K)});var O=g(v[0]),P=g(v[1]),D=O<P?1:-1,z=1e-8*(P-O),V=D>0?Math.floor:Math.ceil,F=D>0?Math.ceil:Math.floor,W=D>0?Math.min:Math.max,B=D>0?Math.max:Math.min,U=V(O+z),H=F(P-z),q=[[r=C(O)]];for(f=U;f*D<H*D;f+=D)o=[],h=B(O,f),m=(_=W(P,f+D))-h,n=Math.max(0,Math.min(c-2,Math.floor(.5*(h+_)))),i=C(_),x&&(u=l(n,h-n),p=l(n,_-n),o.push([r[0]+u[0]/3*m,r[1]+u[1]/3*m]),o.push([i[0]-p[0]/3*m,i[1]-p[1]/3*m])),o.push(i),q.push(o),r=i;return q}},1928:function(L,M,e){"use strict";var b=e(41940),w=e(22399),a=e(13838),k=e(12663).descriptionWithDates,y=e(30962).overrideAll,f=e(79952).P,l=e(1426).extendFlat;L.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:b({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:l({},a.labelalias,{editType:"calc"}),tickfont:b({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:k("tick label")},tickformatstops:y(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:w.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:l({},f,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:l({},f,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:w.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:b({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(L,M,e){"use strict";var b=e(99798),w=e(7901).addOpacity,a=e(73972),k=e(71828),y=e(26218),f=e(96115),l=e(89426),t=e(15258),s=e(21994),o=e(4322);L.exports=function(n,r,i){var u=i.letter,p=i.font||{},h=b[u+"axis"];function _(D,z){return k.coerce(n,r,h,D,z)}function m(D,z){return k.coerce2(n,r,h,D,z)}i.name&&(r._name=i.name,r._id=i.name),_("autotypenumbers",i.autotypenumbersDflt);var d=_("type");d==="-"&&(i.data&&function(D,z){if(D.type==="-"){var V=D._id.charAt(0),F=D[V+"calendar"];D.type=o(z,F,{autotypenumbers:D.autotypenumbers})}}(r,i.data),r.type==="-"?r.type="linear":d=n.type=r.type),_("smoothing"),_("cheatertype"),_("showticklabels"),_("labelprefix",u+" = "),_("labelsuffix"),_("showtickprefix"),_("showticksuffix"),_("separatethousands"),_("tickformat"),_("exponentformat"),_("minexponent"),_("showexponent"),_("categoryorder"),_("tickmode"),_("tickvals"),_("ticktext"),_("tick0"),_("dtick"),r.tickmode==="array"&&(_("arraytick0"),_("arraydtick")),_("labelpadding"),r._hovertitle=u,d==="date"&&a.getComponentMethod("calendars","handleDefaults")(n,r,"calendar",i.calendar),s(r,i.fullLayout),r.c2p=k.identity;var x=_("color",i.dfltColor),g=x===n.color?x:p.color;_("title.text")&&(k.coerceFont(_,"title.font",{family:p.family,size:k.bigFont(p.size),color:g}),_("title.offset")),_("tickangle"),_("autorange",!r.isValidRange(n.range))&&_("rangemode"),_("range"),r.cleanRange(),_("fixedrange"),y(n,r,_,d),l(n,r,_,d,i),f(n,r,_,d,i),t(n,r,_,{data:i.data,dataAttr:u});var v=m("gridcolor",w(x,.3)),T=m("gridwidth"),c=m("griddash"),E=_("showgrid");E||(delete r.gridcolor,delete r.gridwidth,delete r.griddash);var A=m("startlinecolor",x),C=m("startlinewidth",T);_("startline",r.showgrid||!!A||!!C)||(delete r.startlinecolor,delete r.startlinewidth);var O=m("endlinecolor",x),P=m("endlinewidth",T);return _("endline",r.showgrid||!!O||!!P)||(delete r.endlinecolor,delete r.endlinewidth),E?(_("minorgridcount"),_("minorgridwidth",T),_("minorgriddash",c),_("minorgridcolor",w(v,.06)),r.minorgridcount||(delete r.minorgridwidth,delete r.minorgriddash,delete r.minorgridcolor)):(delete r.gridcolor,delete r.gridwidth,delete r.griddash),r.showticklabels==="none"&&(delete r.tickfont,delete r.tickangle,delete r.showexponent,delete r.exponentformat,delete r.minexponent,delete r.tickformat,delete r.showticksuffix,delete r.showtickprefix),r.showticksuffix||delete r.ticksuffix,r.showtickprefix||delete r.tickprefix,_("tickmode"),r}},25281:function(L,M,e){"use strict";var b=e(89298),w=e(71828).isArray1D,a=e(53824),k=e(402),y=e(20347),f=e(83311),l=e(44807),t=e(4742),s=e(72505),o=e(68296),n=e(11435);L.exports=function(r,i){var u=b.getFromId(r,i.xaxis),p=b.getFromId(r,i.yaxis),h=i.aaxis,_=i.baxis,m=i.x,d=i.y,x=[];m&&w(m)&&x.push("x"),d&&w(d)&&x.push("y"),x.length&&o(i,h,_,"a","b",x);var g=i._a=i._a||i.a,v=i._b=i._b||i.b;m=i._x||i.x,d=i._y||i.y;var T={};if(i._cheater){var c=h.cheatertype==="index"?g.length:g,E=_.cheatertype==="index"?v.length:v;m=a(c,E,i.cheaterslope)}i._x=m=t(m),i._y=d=t(d),s(m,g,v),s(d,g,v),n(i),i.setScale();var A=k(m),C=k(d),O=.5*(A[1]-A[0]),P=.5*(A[1]+A[0]),D=.5*(C[1]-C[0]),z=.5*(C[1]+C[0]),V=1.3;return A=[P-O*V,P+O*V],C=[z-D*V,z+D*V],i._extremes[u._id]=b.findExtremes(u,A,{padded:!0}),i._extremes[p._id]=b.findExtremes(p,C,{padded:!0}),y(i,"a","b"),y(i,"b","a"),f(i,h),f(i,_),T.clipsegments=l(i._xctrl,i._yctrl,h,_),T.x=m,T.y=d,T.a=g,T.b=v,[T]}},44807:function(L){"use strict";L.exports=function(M,e,b,w){var a,k,y,f=[],l=!!b.smoothing,t=!!w.smoothing,s=M[0].length-1,o=M.length-1;for(a=0,k=[],y=[];a<=s;a++)k[a]=M[0][a],y[a]=e[0][a];for(f.push({x:k,y,bicubic:l}),a=0,k=[],y=[];a<=o;a++)k[a]=M[a][s],y[a]=e[a][s];for(f.push({x:k,y,bicubic:t}),a=s,k=[],y=[];a>=0;a--)k[s-a]=M[o][a],y[s-a]=e[o][a];for(f.push({x:k,y,bicubic:l}),a=o,k=[],y=[];a>=0;a--)k[o-a]=M[a][0],y[o-a]=e[a][0];return f.push({x:k,y,bicubic:t}),f}},20347:function(L,M,e){"use strict";var b=e(89298),w=e(1426).extendFlat;L.exports=function(a,k,y){var f,l,t,s,o,n,r,i,u,p,h,_,m,d,x=a["_"+k],g=a[k+"axis"],v=g._gridlines=[],T=g._minorgridlines=[],c=g._boundarylines=[],E=a["_"+y],A=a[y+"axis"];g.tickmode==="array"&&(g.tickvals=x.slice());var C=a._xctrl,O=a._yctrl,P=C[0].length,D=C.length,z=a._a.length,V=a._b.length;b.prepTicks(g),g.tickmode==="array"&&delete g.tickvals;var F=g.smoothing?3:1;function W(U){var H,q,ee,K,J,Z,$,ne,ae,oe,se,ce,me=[],xe=[],ve={};if(k==="b")for(q=a.b2j(U),ee=Math.floor(Math.max(0,Math.min(V-2,q))),K=q-ee,ve.length=V,ve.crossLength=z,ve.xy=function(fe){return a.evalxy([],fe,q)},ve.dxy=function(fe,pe){return a.dxydi([],fe,ee,pe,K)},H=0;H<z;H++)Z=Math.min(z-2,H),$=H-Z,ne=a.evalxy([],H,q),A.smoothing&&H>0&&(ae=a.dxydi([],H-1,ee,0,K),me.push(J[0]+ae[0]/3),xe.push(J[1]+ae[1]/3),oe=a.dxydi([],H-1,ee,1,K),me.push(ne[0]-oe[0]/3),xe.push(ne[1]-oe[1]/3)),me.push(ne[0]),xe.push(ne[1]),J=ne;else for(H=a.a2i(U),Z=Math.floor(Math.max(0,Math.min(z-2,H))),$=H-Z,ve.length=z,ve.crossLength=V,ve.xy=function(fe){return a.evalxy([],H,fe)},ve.dxy=function(fe,pe){return a.dxydj([],Z,fe,$,pe)},q=0;q<V;q++)ee=Math.min(V-2,q),K=q-ee,ne=a.evalxy([],H,q),A.smoothing&&q>0&&(se=a.dxydj([],Z,q-1,$,0),me.push(J[0]+se[0]/3),xe.push(J[1]+se[1]/3),ce=a.dxydj([],Z,q-1,$,1),me.push(ne[0]-ce[0]/3),xe.push(ne[1]-ce[1]/3)),me.push(ne[0]),xe.push(ne[1]),J=ne;return ve.axisLetter=k,ve.axis=g,ve.crossAxis=A,ve.value=U,ve.constvar=y,ve.index=i,ve.x=me,ve.y=xe,ve.smoothing=A.smoothing,ve}function B(U){var H,q,ee,K,J,Z=[],$=[],ne={};if(ne.length=x.length,ne.crossLength=E.length,k==="b")for(ee=Math.max(0,Math.min(V-2,U)),J=Math.min(1,Math.max(0,U-ee)),ne.xy=function(ae){return a.evalxy([],ae,U)},ne.dxy=function(ae,oe){return a.dxydi([],ae,ee,oe,J)},H=0;H<P;H++)Z[H]=C[U*F][H],$[H]=O[U*F][H];else for(q=Math.max(0,Math.min(z-2,U)),K=Math.min(1,Math.max(0,U-q)),ne.xy=function(ae){return a.evalxy([],U,ae)},ne.dxy=function(ae,oe){return a.dxydj([],q,ae,K,oe)},H=0;H<D;H++)Z[H]=C[H][U*F],$[H]=O[H][U*F];return ne.axisLetter=k,ne.axis=g,ne.crossAxis=A,ne.value=x[U],ne.constvar=y,ne.index=U,ne.x=Z,ne.y=$,ne.smoothing=A.smoothing,ne}if(g.tickmode==="array"){for(s=5e-15,n=(o=[Math.floor((x.length-1-g.arraytick0)/g.arraydtick*(1+s)),Math.ceil(-g.arraytick0/g.arraydtick/(1+s))].sort(function(U,H){return U-H}))[0]-1,r=o[1]+1,i=n;i<r;i++)(l=g.arraytick0+g.arraydtick*i)<0||l>x.length-1||v.push(w(B(l),{color:g.gridcolor,width:g.gridwidth,dash:g.griddash}));for(i=n;i<r;i++)if(t=g.arraytick0+g.arraydtick*i,h=Math.min(t+g.arraydtick,x.length-1),!(t<0||t>x.length-1||h<0||h>x.length-1))for(_=x[t],m=x[h],f=0;f<g.minorgridcount;f++)(d=h-t)<=0||(p=_+(m-_)*(f+1)/(g.minorgridcount+1)*(g.arraydtick/d))<x[0]||p>x[x.length-1]||T.push(w(W(p),{color:g.minorgridcolor,width:g.minorgridwidth,dash:g.minorgriddash}));g.startline&&c.push(w(B(0),{color:g.startlinecolor,width:g.startlinewidth})),g.endline&&c.push(w(B(x.length-1),{color:g.endlinecolor,width:g.endlinewidth}))}else{for(s=5e-15,n=(o=[Math.floor((x[x.length-1]-g.tick0)/g.dtick*(1+s)),Math.ceil((x[0]-g.tick0)/g.dtick/(1+s))].sort(function(U,H){return U-H}))[0],r=o[1],i=n;i<=r;i++)u=g.tick0+g.dtick*i,v.push(w(W(u),{color:g.gridcolor,width:g.gridwidth,dash:g.griddash}));for(i=n-1;i<r+1;i++)for(u=g.tick0+g.dtick*i,f=0;f<g.minorgridcount;f++)(p=u+g.dtick*(f+1)/(g.minorgridcount+1))<x[0]||p>x[x.length-1]||T.push(w(W(p),{color:g.minorgridcolor,width:g.minorgridwidth,dash:g.minorgriddash}));g.startline&&c.push(w(W(x[0]),{color:g.startlinecolor,width:g.startlinewidth})),g.endline&&c.push(w(W(x[x.length-1]),{color:g.endlinecolor,width:g.endlinewidth}))}}},83311:function(L,M,e){"use strict";var b=e(89298),w=e(1426).extendFlat;L.exports=function(a,k){var y,f,l,t=k._labels=[],s=k._gridlines;for(y=0;y<s.length;y++)l=s[y],["start","both"].indexOf(k.showticklabels)!==-1&&(f=b.tickText(k,l.value),w(f,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:y===0,isLast:y===s.length-1}),t.push(f)),["end","both"].indexOf(k.showticklabels)!==-1&&(f=b.tickText(k,l.value),w(f,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:y===0,isLast:y===s.length-1}),t.push(f))}},42048:function(L){"use strict";L.exports=function(M,e,b,w){var a=M[0]-e[0],k=M[1]-e[1],y=b[0]-e[0],f=b[1]-e[1],l=Math.pow(a*a+k*k,.25),t=Math.pow(y*y+f*f,.25),s=(t*t*a-l*l*y)*w,o=(t*t*k-l*l*f)*w,n=t*(l+t)*3,r=l*(l+t)*3;return[[e[0]+(n&&s/n),e[1]+(n&&o/n)],[e[0]-(r&&s/r),e[1]-(r&&o/r)]]}},53824:function(L,M,e){"use strict";var b=e(71828).isArrayOrTypedArray;L.exports=function(w,a,k){var y,f,l,t,s,o,n=[],r=b(w)?w.length:w,i=b(a)?a.length:a,u=b(w)?w:null,p=b(a)?a:null;u&&(l=(u.length-1)/(u[u.length-1]-u[0])/(r-1)),p&&(t=(p.length-1)/(p[p.length-1]-p[0])/(i-1));var h=1/0,_=-1/0;for(f=0;f<i;f++)for(n[f]=[],s=p?(p[f]-p[0])*t:f/(i-1),y=0;y<r;y++)o=(u?(u[y]-u[0])*l:y/(r-1))-s*k,h=Math.min(o,h),_=Math.max(o,_),n[f][y]=o;var m=1/(_-h),d=-h*m;for(f=0;f<i;f++)for(y=0;y<r;y++)n[f][y]=m*n[f][y]+d;return n}},45664:function(L,M,e){"use strict";var b=e(42048),w=e(71828).ensureArray;function a(k,y,f){var l=-.5*f[0]+1.5*y[0],t=-.5*f[1]+1.5*y[1];return[(2*l+k[0])/3,(2*t+k[1])/3]}L.exports=function(k,y,f,l,t,s){var o,n,r,i,u,p,h,_,m,d,x=f[0].length,g=f.length,v=t?3*x-2:x,T=s?3*g-2:g;for(k=w(k,T),y=w(y,T),r=0;r<T;r++)k[r]=w(k[r],v),y[r]=w(y[r],v);for(n=0,i=0;n<g;n++,i+=s?3:1)for(u=k[i],p=y[i],h=f[n],_=l[n],o=0,r=0;o<x;o++,r+=t?3:1)u[r]=h[o],p[r]=_[o];if(t)for(n=0,i=0;n<g;n++,i+=s?3:1){for(o=1,r=3;o<x-1;o++,r+=3)m=b([f[n][o-1],l[n][o-1]],[f[n][o],l[n][o]],[f[n][o+1],l[n][o+1]],t),k[i][r-1]=m[0][0],y[i][r-1]=m[0][1],k[i][r+1]=m[1][0],y[i][r+1]=m[1][1];d=a([k[i][0],y[i][0]],[k[i][2],y[i][2]],[k[i][3],y[i][3]]),k[i][1]=d[0],y[i][1]=d[1],d=a([k[i][v-1],y[i][v-1]],[k[i][v-3],y[i][v-3]],[k[i][v-4],y[i][v-4]]),k[i][v-2]=d[0],y[i][v-2]=d[1]}if(s)for(r=0;r<v;r++){for(i=3;i<T-3;i+=3)m=b([k[i-3][r],y[i-3][r]],[k[i][r],y[i][r]],[k[i+3][r],y[i+3][r]],s),k[i-1][r]=m[0][0],y[i-1][r]=m[0][1],k[i+1][r]=m[1][0],y[i+1][r]=m[1][1];d=a([k[0][r],y[0][r]],[k[2][r],y[2][r]],[k[3][r],y[3][r]]),k[1][r]=d[0],y[1][r]=d[1],d=a([k[T-1][r],y[T-1][r]],[k[T-3][r],y[T-3][r]],[k[T-4][r],y[T-4][r]]),k[T-2][r]=d[0],y[T-2][r]=d[1]}if(t&&s)for(i=1;i<T;i+=(i+1)%3==0?2:1){for(r=3;r<v-3;r+=3)m=b([k[i][r-3],y[i][r-3]],[k[i][r],y[i][r]],[k[i][r+3],y[i][r+3]],t),k[i][r-1]=.5*(k[i][r-1]+m[0][0]),y[i][r-1]=.5*(y[i][r-1]+m[0][1]),k[i][r+1]=.5*(k[i][r+1]+m[1][0]),y[i][r+1]=.5*(y[i][r+1]+m[1][1]);d=a([k[i][0],y[i][0]],[k[i][2],y[i][2]],[k[i][3],y[i][3]]),k[i][1]=.5*(k[i][1]+d[0]),y[i][1]=.5*(y[i][1]+d[1]),d=a([k[i][v-1],y[i][v-1]],[k[i][v-3],y[i][v-3]],[k[i][v-4],y[i][v-4]]),k[i][v-2]=.5*(k[i][v-2]+d[0]),y[i][v-2]=.5*(y[i][v-2]+d[1])}return[k,y]}},35509:function(L){"use strict";L.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(L){"use strict";L.exports=function(M,e,b){return e&&b?function(w,a,k,y,f){var l,t,s,o,n,r;w||(w=[]),a*=3,k*=3;var i=y*y,u=1-y,p=u*u,h=u*y*2,_=-3*p,m=3*(p-h),d=3*(h-i),x=3*i,g=f*f,v=g*f,T=1-f,c=T*T,E=c*T;for(r=0;r<M.length;r++)l=_*(n=M[r])[k][a]+m*n[k][a+1]+d*n[k][a+2]+x*n[k][a+3],t=_*n[k+1][a]+m*n[k+1][a+1]+d*n[k+1][a+2]+x*n[k+1][a+3],s=_*n[k+2][a]+m*n[k+2][a+1]+d*n[k+2][a+2]+x*n[k+2][a+3],o=_*n[k+3][a]+m*n[k+3][a+1]+d*n[k+3][a+2]+x*n[k+3][a+3],w[r]=E*l+3*(c*f*t+T*g*s)+v*o;return w}:e?function(w,a,k,y,f){var l,t,s,o;w||(w=[]),a*=3;var n=y*y,r=1-y,i=r*r,u=r*y*2,p=-3*i,h=3*(i-u),_=3*(u-n),m=3*n,d=1-f;for(s=0;s<M.length;s++)l=p*(o=M[s])[k][a]+h*o[k][a+1]+_*o[k][a+2]+m*o[k][a+3],t=p*o[k+1][a]+h*o[k+1][a+1]+_*o[k+1][a+2]+m*o[k+1][a+3],w[s]=d*l+f*t;return w}:b?function(w,a,k,y,f){var l,t,s,o,n,r;w||(w=[]),k*=3;var i=f*f,u=i*f,p=1-f,h=p*p,_=h*p;for(n=0;n<M.length;n++)l=(r=M[n])[k][a+1]-r[k][a],t=r[k+1][a+1]-r[k+1][a],s=r[k+2][a+1]-r[k+2][a],o=r[k+3][a+1]-r[k+3][a],w[n]=_*l+3*(h*f*t+p*i*s)+u*o;return w}:function(w,a,k,y,f){var l,t,s,o;w||(w=[]);var n=1-f;for(s=0;s<M.length;s++)l=(o=M[s])[k][a+1]-o[k][a],t=o[k+1][a+1]-o[k+1][a],w[s]=n*l+f*t;return w}}},73057:function(L){"use strict";L.exports=function(M,e,b){return e&&b?function(w,a,k,y,f){var l,t,s,o,n,r;w||(w=[]),a*=3,k*=3;var i=y*y,u=i*y,p=1-y,h=p*p,_=h*p,m=f*f,d=1-f,x=d*d,g=d*f*2,v=-3*x,T=3*(x-g),c=3*(g-m),E=3*m;for(r=0;r<M.length;r++)l=v*(n=M[r])[k][a]+T*n[k+1][a]+c*n[k+2][a]+E*n[k+3][a],t=v*n[k][a+1]+T*n[k+1][a+1]+c*n[k+2][a+1]+E*n[k+3][a+1],s=v*n[k][a+2]+T*n[k+1][a+2]+c*n[k+2][a+2]+E*n[k+3][a+2],o=v*n[k][a+3]+T*n[k+1][a+3]+c*n[k+2][a+3]+E*n[k+3][a+3],w[r]=_*l+3*(h*y*t+p*i*s)+u*o;return w}:e?function(w,a,k,y,f){var l,t,s,o,n,r;w||(w=[]),a*=3;var i=f*f,u=i*f,p=1-f,h=p*p,_=h*p;for(n=0;n<M.length;n++)l=(r=M[n])[k+1][a]-r[k][a],t=r[k+1][a+1]-r[k][a+1],s=r[k+1][a+2]-r[k][a+2],o=r[k+1][a+3]-r[k][a+3],w[n]=_*l+3*(h*f*t+p*i*s)+u*o;return w}:b?function(w,a,k,y,f){var l,t,s,o;w||(w=[]),k*=3;var n=1-y,r=f*f,i=1-f,u=i*i,p=i*f*2,h=-3*u,_=3*(u-p),m=3*(p-r),d=3*r;for(s=0;s<M.length;s++)l=h*(o=M[s])[k][a]+_*o[k+1][a]+m*o[k+2][a]+d*o[k+3][a],t=h*o[k][a+1]+_*o[k+1][a+1]+m*o[k+2][a+1]+d*o[k+3][a+1],w[s]=n*l+y*t;return w}:function(w,a,k,y,f){var l,t,s,o;w||(w=[]);var n=1-y;for(s=0;s<M.length;s++)l=(o=M[s])[k+1][a]-o[k][a],t=o[k+1][a+1]-o[k][a+1],w[s]=n*l+y*t;return w}}},20349:function(L){"use strict";L.exports=function(M,e,b,w,a){var k=e-2,y=b-2;return w&&a?function(f,l,t){var s,o,n,r,i,u;f||(f=[]);var p=Math.max(0,Math.min(Math.floor(l),k)),h=Math.max(0,Math.min(Math.floor(t),y)),_=Math.max(0,Math.min(1,l-p)),m=Math.max(0,Math.min(1,t-h));p*=3,h*=3;var d=_*_,x=d*_,g=1-_,v=g*g,T=v*g,c=m*m,E=c*m,A=1-m,C=A*A,O=C*A;for(u=0;u<M.length;u++)s=T*(i=M[u])[h][p]+3*(v*_*i[h][p+1]+g*d*i[h][p+2])+x*i[h][p+3],o=T*i[h+1][p]+3*(v*_*i[h+1][p+1]+g*d*i[h+1][p+2])+x*i[h+1][p+3],n=T*i[h+2][p]+3*(v*_*i[h+2][p+1]+g*d*i[h+2][p+2])+x*i[h+2][p+3],r=T*i[h+3][p]+3*(v*_*i[h+3][p+1]+g*d*i[h+3][p+2])+x*i[h+3][p+3],f[u]=O*s+3*(C*m*o+A*c*n)+E*r;return f}:w?function(f,l,t){f||(f=[]);var s,o,n,r,i,u,p=Math.max(0,Math.min(Math.floor(l),k)),h=Math.max(0,Math.min(Math.floor(t),y)),_=Math.max(0,Math.min(1,l-p)),m=Math.max(0,Math.min(1,t-h));p*=3;var d=_*_,x=d*_,g=1-_,v=g*g,T=v*g,c=1-m;for(i=0;i<M.length;i++)s=c*(u=M[i])[h][p]+m*u[h+1][p],o=c*u[h][p+1]+m*u[h+1][p+1],n=c*u[h][p+2]+m*u[h+1][p+1],r=c*u[h][p+3]+m*u[h+1][p+1],f[i]=T*s+3*(v*_*o+g*d*n)+x*r;return f}:a?function(f,l,t){f||(f=[]);var s,o,n,r,i,u,p=Math.max(0,Math.min(Math.floor(l),k)),h=Math.max(0,Math.min(Math.floor(t),y)),_=Math.max(0,Math.min(1,l-p)),m=Math.max(0,Math.min(1,t-h));h*=3;var d=m*m,x=d*m,g=1-m,v=g*g,T=v*g,c=1-_;for(i=0;i<M.length;i++)s=c*(u=M[i])[h][p]+_*u[h][p+1],o=c*u[h+1][p]+_*u[h+1][p+1],n=c*u[h+2][p]+_*u[h+2][p+1],r=c*u[h+3][p]+_*u[h+3][p+1],f[i]=T*s+3*(v*m*o+g*d*n)+x*r;return f}:function(f,l,t){f||(f=[]);var s,o,n,r,i=Math.max(0,Math.min(Math.floor(l),k)),u=Math.max(0,Math.min(Math.floor(t),y)),p=Math.max(0,Math.min(1,l-i)),h=Math.max(0,Math.min(1,t-u)),_=1-h,m=1-p;for(n=0;n<M.length;n++)s=m*(r=M[n])[u][i]+p*r[u][i+1],o=m*r[u+1][i]+p*r[u+1][i+1],f[n]=_*s+h*o;return f}}},92087:function(L,M,e){"use strict";var b=e(71828),w=e(19237),a=e(13145),k=e(99798),y=e(22399);L.exports=function(f,l,t,s){function o(r,i){return b.coerce(f,l,k,r,i)}l._clipPathId="clip"+l.uid+"carpet";var n=o("color",y.defaultLine);b.coerceFont(o,"font"),o("carpet"),a(f,l,s,o,n),l.a&&l.b?(l.a.length<3&&(l.aaxis.smoothing=0),l.b.length<3&&(l.baxis.smoothing=0),w(f,l,o)||(l.visible=!1),l._cheater&&o("cheaterslope")):l.visible=!1}},21462:function(L,M,e){"use strict";L.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(L){"use strict";L.exports=function(M,e){for(var b,w=M._fullData.length,a=0;a<w;a++){var k=M._fullData[a];if(k.index!==e.index&&k.type==="carpet"&&(b||(b=k),k.carpet===e.carpet))return k}return b}},67961:function(L){"use strict";L.exports=function(M,e,b){if(M.length===0)return"";var w,a=[],k=b?3:1;for(w=0;w<M.length;w+=k)a.push(M[w]+","+e[w]),b&&w<M.length-k&&(a.push("C"),a.push([M[w+1]+","+e[w+1],M[w+2]+","+e[w+2]+" "].join(" ")));return a.join(b?"":"L")}},27669:function(L,M,e){"use strict";var b=e(71828).isArrayOrTypedArray;L.exports=function(w,a,k){var y;for(b(w)?w.length>a.length&&(w=w.slice(0,a.length)):w=[],y=0;y<a.length;y++)w[y]=k(a[y]);return w}},11651:function(L){"use strict";L.exports=function(M,e,b,w,a,k){var y=a[0]*M.dpdx(e),f=a[1]*M.dpdy(b),l=1,t=1;if(k){var s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=Math.sqrt(k[0]*k[0]+k[1]*k[1]),n=(a[0]*k[0]+a[1]*k[1])/s/o;t=Math.max(0,n)}var r=180*Math.atan2(f,y)/Math.PI;return r<-90?(r+=180,l=-l):r>90&&(r-=180,l=-l),{angle:r,flip:l,p:M.c2p(w,e,b),offsetMultplier:t}}},89740:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(27669),k=e(67961),y=e(11651),f=e(63893),l=e(71828),t=l.strRotate,s=l.strTranslate,o=e(18783);function n(h,_,m,d,x,g,v){var T="const-"+x+"-lines",c=m.selectAll("."+T).data(g);c.enter().append("path").classed(T,!0).style("vector-effect",v?"none":"non-scaling-stroke"),c.each(function(E){var A=E,C=A.x,O=A.y,P=a([],C,h.c2p),D=a([],O,_.c2p),z="M"+k(P,D,A.smoothing);b.select(this).attr("d",z).style("stroke-width",A.width).style("stroke",A.color).style("stroke-dasharray",w.dashStyle(A.dash,A.width)).style("fill","none")}),c.exit().remove()}function r(h,_,m,d,x,g,v,T){var c=g.selectAll("text."+T).data(v);c.enter().append("text").classed(T,!0);var E=0,A={};return c.each(function(C,O){var P;if(C.axis.tickangle==="auto")P=y(d,_,m,C.xy,C.dxy);else{var D=(C.axis.tickangle+180)*Math.PI/180;P=y(d,_,m,C.xy,[Math.cos(D),Math.sin(D)])}O||(A={angle:P.angle,flip:P.flip});var z=(C.endAnchor?-1:1)*P.flip,V=b.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(w.font,C.font).text(C.text).call(f.convertToTspans,h),F=w.bBox(this);V.attr("transform",s(P.p[0],P.p[1])+t(P.angle)+s(C.axis.labelpadding*z,.3*F.height)),E=Math.max(E,F.width+C.axis.labelpadding)}),c.exit().remove(),A.maxExtent=E,A}L.exports=function(h,_,m,d){var x=h._context.staticPlot,g=_.xaxis,v=_.yaxis,T=h._fullLayout._clips;l.makeTraceGroups(d,m,"trace").each(function(c){var E=b.select(this),A=c[0],C=A.trace,O=C.aaxis,P=C.baxis,D=l.ensureSingle(E,"g","minorlayer"),z=l.ensureSingle(E,"g","majorlayer"),V=l.ensureSingle(E,"g","boundarylayer"),F=l.ensureSingle(E,"g","labellayer");E.style("opacity",C.opacity),n(g,v,z,0,"a",O._gridlines,!0),n(g,v,z,0,"b",P._gridlines,!0),n(g,v,D,0,"a",O._minorgridlines,!0),n(g,v,D,0,"b",P._minorgridlines,!0),n(g,v,V,0,"a-boundary",O._boundarylines,x),n(g,v,V,0,"b-boundary",P._boundarylines,x);var W=r(h,g,v,C,0,F,O._labels,"a-label"),B=r(h,g,v,C,0,F,P._labels,"b-label");(function(U,H,q,ee,K,J,Z,$){var ne,ae,oe,se,ce=l.aggNums(Math.min,null,q.a),me=l.aggNums(Math.max,null,q.a),xe=l.aggNums(Math.min,null,q.b),ve=l.aggNums(Math.max,null,q.b);ne=.5*(ce+me),ae=xe,oe=q.ab2xy(ne,ae,!0),se=q.dxyda_rough(ne,ae),Z.angle===void 0&&l.extendFlat(Z,y(q,K,J,oe,q.dxydb_rough(ne,ae))),p(U,H,q,0,oe,se,q.aaxis,K,J,Z,"a-title"),ne=ce,ae=.5*(xe+ve),oe=q.ab2xy(ne,ae,!0),se=q.dxydb_rough(ne,ae),$.angle===void 0&&l.extendFlat($,y(q,K,J,oe,q.dxyda_rough(ne,ae))),p(U,H,q,0,oe,se,q.baxis,K,J,$,"b-title")})(h,F,C,0,g,v,W,B),function(U,H,q,ee,K){var J,Z,$,ne,ae=q.select("#"+U._clipPathId);ae.size()||(ae=q.append("clipPath").classed("carpetclip",!0));var oe=l.ensureSingle(ae,"path","carpetboundary"),se=H.clipsegments,ce=[];for(ne=0;ne<se.length;ne++)J=se[ne],Z=a([],J.x,ee.c2p),$=a([],J.y,K.c2p),ce.push(k(Z,$,J.bicubic));var me="M"+ce.join("L")+"Z";ae.attr("id",U._clipPathId),oe.attr("d",me)}(C,A,T,g,v)})};var i=o.LINE_SPACING,u=(1-o.MID_SHIFT)/i+1;function p(h,_,m,d,x,g,v,T,c,E,A){var C=[];v.title.text&&C.push(v.title.text);var O=_.selectAll("text."+A).data(C),P=E.maxExtent;O.enter().append("text").classed(A,!0),O.each(function(){var D=y(m,T,c,x,g);["start","both"].indexOf(v.showticklabels)===-1&&(P=0);var z=v.title.font.size;P+=z+v.title.offset;var V=(E.angle+(E.flip<0?180:0)-D.angle+450)%360,F=V>90&&V<270,W=b.select(this);W.text(v.title.text).call(f.convertToTspans,h),F&&(P=(-f.lineCount(W)+u)*i*z-P),W.attr("transform",s(D.p[0],D.p[1])+t(D.angle)+s(0,P)).attr("text-anchor","middle").call(w.font,v.title.font)}),O.exit().remove()}},11435:function(L,M,e){"use strict";var b=e(35509),w=e(65888).findBin,a=e(45664),k=e(20349),y=e(54495),f=e(73057);L.exports=function(l){var t=l._a,s=l._b,o=t.length,n=s.length,r=l.aaxis,i=l.baxis,u=t[0],p=t[o-1],h=s[0],_=s[n-1],m=t[t.length-1]-t[0],d=s[s.length-1]-s[0],x=m*b.RELATIVE_CULL_TOLERANCE,g=d*b.RELATIVE_CULL_TOLERANCE;u-=x,p+=x,h-=g,_+=g,l.isVisible=function(v,T){return v>u&&v<p&&T>h&&T<_},l.isOccluded=function(v,T){return v<u||v>p||T<h||T>_},l.setScale=function(){var v=l._x,T=l._y,c=a(l._xctrl,l._yctrl,v,T,r.smoothing,i.smoothing);l._xctrl=c[0],l._yctrl=c[1],l.evalxy=k([l._xctrl,l._yctrl],o,n,r.smoothing,i.smoothing),l.dxydi=y([l._xctrl,l._yctrl],r.smoothing,i.smoothing),l.dxydj=f([l._xctrl,l._yctrl],r.smoothing,i.smoothing)},l.i2a=function(v){var T=Math.max(0,Math.floor(v[0]),o-2),c=v[0]-T;return(1-c)*t[T]+c*t[T+1]},l.j2b=function(v){var T=Math.max(0,Math.floor(v[1]),o-2),c=v[1]-T;return(1-c)*s[T]+c*s[T+1]},l.ij2ab=function(v){return[l.i2a(v[0]),l.j2b(v[1])]},l.a2i=function(v){var T=Math.max(0,Math.min(w(v,t),o-2)),c=t[T],E=t[T+1];return Math.max(0,Math.min(o-1,T+(v-c)/(E-c)))},l.b2j=function(v){var T=Math.max(0,Math.min(w(v,s),n-2)),c=s[T],E=s[T+1];return Math.max(0,Math.min(n-1,T+(v-c)/(E-c)))},l.ab2ij=function(v){return[l.a2i(v[0]),l.b2j(v[1])]},l.i2c=function(v,T){return l.evalxy([],v,T)},l.ab2xy=function(v,T,c){if(!c&&(v<t[0]||v>t[o-1]|T<s[0]||T>s[n-1]))return[!1,!1];var E=l.a2i(v),A=l.b2j(T),C=l.evalxy([],E,A);if(c){var O,P,D,z,V=0,F=0,W=[];v<t[0]?(O=0,P=0,V=(v-t[0])/(t[1]-t[0])):v>t[o-1]?(O=o-2,P=1,V=(v-t[o-1])/(t[o-1]-t[o-2])):P=E-(O=Math.max(0,Math.min(o-2,Math.floor(E)))),T<s[0]?(D=0,z=0,F=(T-s[0])/(s[1]-s[0])):T>s[n-1]?(D=n-2,z=1,F=(T-s[n-1])/(s[n-1]-s[n-2])):z=A-(D=Math.max(0,Math.min(n-2,Math.floor(A)))),V&&(l.dxydi(W,O,D,P,z),C[0]+=W[0]*V,C[1]+=W[1]*V),F&&(l.dxydj(W,O,D,P,z),C[0]+=W[0]*F,C[1]+=W[1]*F)}return C},l.c2p=function(v,T,c){return[T.c2p(v[0]),c.c2p(v[1])]},l.p2x=function(v,T,c){return[T.p2c(v[0]),c.p2c(v[1])]},l.dadi=function(v){var T=Math.max(0,Math.min(t.length-2,v));return t[T+1]-t[T]},l.dbdj=function(v){var T=Math.max(0,Math.min(s.length-2,v));return s[T+1]-s[T]},l.dxyda=function(v,T,c,E){var A=l.dxydi(null,v,T,c,E),C=l.dadi(v,c);return[A[0]/C,A[1]/C]},l.dxydb=function(v,T,c,E){var A=l.dxydj(null,v,T,c,E),C=l.dbdj(T,E);return[A[0]/C,A[1]/C]},l.dxyda_rough=function(v,T,c){var E=m*(c||.1),A=l.ab2xy(v+E,T,!0),C=l.ab2xy(v-E,T,!0);return[.5*(A[0]-C[0])/E,.5*(A[1]-C[1])/E]},l.dxydb_rough=function(v,T,c){var E=d*(c||.1),A=l.ab2xy(v,T+E,!0),C=l.ab2xy(v,T-E,!0);return[.5*(A[0]-C[0])/E,.5*(A[1]-C[1])/E]},l.dpdx=function(v){return v._m},l.dpdy=function(v){return v._m}}},72505:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a,k){var y,f,l,t=[],s=[],o=w[0].length,n=w.length;function r(U,H){var q,ee=0,K=0;return U>0&&(q=w[H][U-1])!==void 0&&(K++,ee+=q),U<o-1&&(q=w[H][U+1])!==void 0&&(K++,ee+=q),H>0&&(q=w[H-1][U])!==void 0&&(K++,ee+=q),H<n-1&&(q=w[H+1][U])!==void 0&&(K++,ee+=q),ee/Math.max(1,K)}var i,u,p,h,_,m,d,x,g,v,T,c=0;for(y=0;y<o;y++)for(f=0;f<n;f++)w[f][y]===void 0&&(t.push(y),s.push(f),w[f][y]=r(y,f)),c=Math.max(c,Math.abs(w[f][y]));if(!t.length)return w;var E=0,A=0,C=t.length;do{for(E=0,l=0;l<C;l++){y=t[l],f=s[l];var O,P,D,z,V,F,W=0,B=0;y===0?(D=a[V=Math.min(o-1,2)],z=a[1],O=w[f][V],B+=(P=w[f][1])+(P-O)*(a[0]-z)/(z-D),W++):y===o-1&&(D=a[V=Math.max(0,o-3)],z=a[o-2],O=w[f][V],B+=(P=w[f][o-2])+(P-O)*(a[o-1]-z)/(z-D),W++),(y===0||y===o-1)&&f>0&&f<n-1&&(i=k[f+1]-k[f],B+=((u=k[f]-k[f-1])*w[f+1][y]+i*w[f-1][y])/(u+i),W++),f===0?(D=k[F=Math.min(n-1,2)],z=k[1],O=w[F][y],B+=(P=w[1][y])+(P-O)*(k[0]-z)/(z-D),W++):f===n-1&&(D=k[F=Math.max(0,n-3)],z=k[n-2],O=w[F][y],B+=(P=w[n-2][y])+(P-O)*(k[n-1]-z)/(z-D),W++),(f===0||f===n-1)&&y>0&&y<o-1&&(i=a[y+1]-a[y],B+=((u=a[y]-a[y-1])*w[f][y+1]+i*w[f][y-1])/(u+i),W++),W?B/=W:(p=a[y+1]-a[y],h=a[y]-a[y-1],x=(_=k[f+1]-k[f])*(m=k[f]-k[f-1])*(_+m),B=((d=p*h*(p+h))*(m*w[f+1][y]+_*w[f-1][y])+x*(h*w[f][y+1]+p*w[f][y-1]))/(x*(h+p)+d*(m+_))),E+=(v=(g=B-w[f][y])/c)*v,T=W?0:.85,w[f][y]+=g*(1+T)}E=Math.sqrt(E)}while(A++<100&&E>1e-5);return b.log("Smoother converged to",E,"after",A,"iterations"),w}},19237:function(L,M,e){"use strict";var b=e(71828).isArray1D;L.exports=function(w,a,k){var y=k("x"),f=y&&y.length,l=k("y"),t=l&&l.length;if(!f&&!t)return!1;if(a._cheater=!y,f&&!b(y)||t&&!b(l))a._length=null;else{var s=f?y.length:1/0;t&&(s=Math.min(s,l.length)),a.a&&a.a.length&&(s=Math.min(s,a.a.length)),a.b&&a.b.length&&(s=Math.min(s,a.b.length)),a._length=s}return!0}},69568:function(L,M,e){"use strict";var b=e(5386).fF,w=e(19316),a=e(50693),k=e(9012),y=e(22399).defaultLine,f=e(1426).extendFlat,l=w.marker.line;L.exports=f({locations:{valType:"data_array",editType:"calc"},locationmode:w.locationmode,z:{valType:"data_array",editType:"calc"},geojson:f({},w.geojson,{}),featureidkey:w.featureidkey,text:f({},w.text,{}),hovertext:f({},w.hovertext,{}),marker:{line:{color:f({},l.color,{dflt:y}),width:f({},l.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:w.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:f({},k.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:b(),showlegend:f({},k.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(L,M,e){"use strict";var b=e(92770),w=e(50606).BADNUM,a=e(78803),k=e(75225),y=e(66279);function f(l){return l&&typeof l=="string"}L.exports=function(l,t){var s,o=t._length,n=new Array(o);s=t.geojson?function(h){return f(h)||b(h)}:f;for(var r=0;r<o;r++){var i=n[r]={},u=t.locations[r],p=t.z[r];s(u)&&b(p)?(i.loc=u,i.z=p):(i.loc=null,i.z=w),i.index=r}return k(n,t),a(l,t,{vals:t.z,containerStr:"",cLetter:"z"}),y(n,t),n}},61869:function(L,M,e){"use strict";var b=e(71828),w=e(1586),a=e(69568);L.exports=function(k,y,f,l){function t(i,u){return b.coerce(k,y,a,i,u)}var s=t("locations"),o=t("z");if(s&&s.length&&b.isArrayOrTypedArray(o)&&o.length){y._length=Math.min(s.length,o.length);var n,r=t("geojson");(typeof r=="string"&&r!==""||b.isPlainObject(r))&&(n="geojson-id"),t("locationmode",n)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),w(k,y,l,t,{prefix:"",cLetter:"z"}),b.coerceSelectionMarkerOpacity(y,t)}else y.visible=!1}},92069:function(L){"use strict";L.exports=function(M,e,b,w,a){M.location=e.location,M.z=e.z;var k=w[a];return k.fIn&&k.fIn.properties&&(M.properties=k.fIn.properties),M.ct=k.ct,M}},42300:function(L,M,e){"use strict";var b=e(89298),w=e(69568),a=e(71828).fillText;L.exports=function(k,y,f){var l,t,s,o,n=k.cd,r=n[0].trace,i=k.subplot,u=[y,f],p=[y+360,f];for(t=0;t<n.length;t++)if(o=!1,(l=n[t])._polygons){for(s=0;s<l._polygons.length;s++)l._polygons[s].contains(u)&&(o=!o),l._polygons[s].contains(p)&&(o=!o);if(o)break}if(o&&l)return k.x0=k.x1=k.xa.c2p(l.ct),k.y0=k.y1=k.ya.c2p(l.ct),k.index=l.index,k.location=l.loc,k.z=l.z,k.zLabel=b.tickText(i.mockAxis,i.mockAxis.c2l(l.z),"hover").text,k.hovertemplate=l.hovertemplate,function(h,_,m){if(!_.hovertemplate){var d=m.hi||_.hoverinfo,x=String(m.loc),g=d==="all"?w.hoverinfo.flags:d.split("+"),v=g.indexOf("name")!==-1,T=g.indexOf("location")!==-1,c=g.indexOf("z")!==-1,E=g.indexOf("text")!==-1,A=[];!v&&T?h.nameOverride=x:(v&&(h.nameOverride=_.name),T&&A.push(x)),c&&A.push(h.zLabel),E&&a(m,_,A),h.extraText=A.join("<br>")}}(k,r,l),[k]}},51319:function(L,M,e){"use strict";L.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(41327),k=e(90973).getTopojsonFeatures,y=e(71739).findExtremes,f=e(99636).style;L.exports={calcGeoJSON:function(l,t){for(var s=l[0].trace,o=t[s.geo],n=o._subplot,r=s.locationmode,i=s._length,u=r==="geojson-id"?a.extractTraceFeature(l):k(s,n.topojson),p=[],h=[],_=0;_<i;_++){var m=l[_],d=r==="geojson-id"?m.fOut:a.locationToFeature(r,m.loc,u);if(d){m.geojson=d,m.ct=d.properties.ct,m._polygons=a.feature2polygons(d);var x=a.computeBbox(d);p.push(x[0],x[2]),h.push(x[1],x[3])}else m.geojson=null}if(o.fitbounds==="geojson"&&r==="geojson-id"){var g=a.computeBbox(a.getTraceGeojson(s));p=[g[0],g[2]],h=[g[1],g[3]]}var v={padded:!0};s._extremes.lon=y(o.lonaxis._ax,p,v),s._extremes.lat=y(o.lataxis._ax,h,v)},plot:function(l,t,s){var o=t.layers.backplot.select(".choroplethlayer");w.makeTraceGroups(o,s,"trace choropleth").each(function(n){var r=b.select(this).selectAll("path.choroplethlocation").data(w.identity);r.enter().append("path").classed("choroplethlocation",!0),r.exit().remove(),f(l,n)})}}},81253:function(L){"use strict";L.exports=function(M,e){var b,w,a,k,y,f=M.cd,l=M.xaxis,t=M.yaxis,s=[];if(e===!1)for(b=0;b<f.length;b++)f[b].selected=0;else for(b=0;b<f.length;b++)(a=(w=f[b]).ct)&&(k=l.c2p(a),y=t.c2p(a),e.contains([k,y],null,b,M)?(s.push({pointNumber:b,lon:a[0],lat:a[1]}),w.selected=1):w.selected=0);return s}},99636:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(91424),k=e(21081);function y(f,l){var t=l[0].trace,s=l[0].node3.selectAll(".choroplethlocation"),o=t.marker||{},n=o.line||{},r=k.makeColorScaleFuncFromTrace(t);s.each(function(i){b.select(this).attr("fill",r(i.z)).call(w.stroke,i.mlc||n.color).call(a.dashLine,"",i.mlw||n.width||0).style("opacity",o.opacity)}),a.selectedPointStyle(s,t)}L.exports={style:function(f,l){l&&y(0,l)},styleOnSelect:function(f,l){var t=l[0].node3,s=l[0].trace;s.selectedpoints?a.selectedPointStyle(t.selectAll(".choroplethlocation"),s):y(0,l)}}},64496:function(L,M,e){"use strict";var b=e(69568),w=e(50693),a=e(5386).fF,k=e(9012),y=e(1426).extendFlat;L.exports=y({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:y({},b.featureidkey,{}),below:{valType:"string",editType:"plot"},text:b.text,hovertext:b.hovertext,marker:{line:{color:y({},b.marker.line.color,{editType:"plot"}),width:y({},b.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:y({},b.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:y({},b.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:y({},b.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:b.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:y({},k.showlegend,{dflt:!1})},w("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(21081),k=e(91424),y=e(18214).makeBlank,f=e(41327);function l(t){var s,o=t[0].trace,n=o._opts;if(o.selectedpoints){for(var r=k.makeSelectedPointStyleFns(o),i=0;i<t.length;i++){var u=t[i];u.fOut&&(u.fOut.properties.mo2=r.selectedOpacityFn(u))}s={type:"identity",property:"mo2"}}else s=w.isArrayOrTypedArray(o.marker.opacity)?{type:"identity",property:"mo"}:o.marker.opacity;return w.extendFlat(n.fill.paint,{"fill-opacity":s}),w.extendFlat(n.line.paint,{"line-opacity":s}),n}L.exports={convert:function(t){var s=t[0].trace,o=s.visible===!0&&s._length!==0,n={layout:{visibility:"none"},paint:{}},r={layout:{visibility:"none"},paint:{}},i=s._opts={fill:n,line:r,geojson:y()};if(!o)return i;var u=f.extractTraceFeature(t);if(!u)return i;var p,h,_,m=a.makeColorScaleFuncFromTrace(s),d=s.marker,x=d.line||{};w.isArrayOrTypedArray(d.opacity)&&(p=function(A){var C=A.mo;return b(C)?+w.constrain(C,0,1):0}),w.isArrayOrTypedArray(x.color)&&(h=function(A){return A.mlc}),w.isArrayOrTypedArray(x.width)&&(_=function(A){return A.mlw});for(var g=0;g<t.length;g++){var v=t[g],T=v.fOut;if(T){var c=T.properties;c.fc=m(v.z),p&&(c.mo=p(v)),h&&(c.mlc=h(v)),_&&(c.mlw=_(v)),v.ct=c.ct,v._polygons=f.feature2polygons(T)}}var E=p?{type:"identity",property:"mo"}:d.opacity;return w.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":E}),w.extendFlat(r.paint,{"line-color":h?{type:"identity",property:"mlc"}:x.color,"line-width":_?{type:"identity",property:"mlw"}:x.width,"line-opacity":E}),n.layout.visibility="visible",r.layout.visibility="visible",i.geojson={type:"FeatureCollection",features:u},l(t),i},convertOnSelect:l}},22654:function(L,M,e){"use strict";var b=e(71828),w=e(1586),a=e(64496);L.exports=function(k,y,f,l){function t(r,i){return b.coerce(k,y,a,r,i)}var s=t("locations"),o=t("z"),n=t("geojson");b.isArrayOrTypedArray(s)&&s.length&&b.isArrayOrTypedArray(o)&&o.length&&(typeof n=="string"&&n!==""||b.isPlainObject(n))?(t("featureidkey"),y._length=Math.min(s.length,o.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),w(k,y,l,t,{prefix:"",cLetter:"z"}),b.coerceSelectionMarkerOpacity(y,t)):y.visible=!1}},57516:function(L,M,e){"use strict";L.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(b,w){w&&w[0].trace._glTrace.updateOnSelect(w)},getBelow:function(b,w){for(var a=w.getMapLayers(),k=a.length-2;k>=0;k--){var y=a[k].id;if(typeof y=="string"&&y.indexOf("water")===0){for(var f=k+1;f<a.length;f++)if(typeof(y=a[f].id)=="string"&&y.indexOf("plotly-")===-1)return y}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(L,M,e){"use strict";var b=e(82004).convert,w=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function k(f,l){this.type="choroplethmapbox",this.subplot=f,this.uid=l,this.sourceId="source-"+l,this.layerList=[["fill",a+l+"-fill"],["line",a+l+"-line"]],this.below=null}var y=k.prototype;y.update=function(f){this._update(b(f)),f[0].trace._glTrace=this},y.updateOnSelect=function(f){this._update(w(f))},y._update=function(f){var l=this.subplot,t=this.layerList,s=l.belowLookup["trace-"+this.uid];l.map.getSource(this.sourceId).setData(f.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(f,s),this.below=s);for(var o=0;o<t.length;o++){var n=t[o],r=n[0],i=n[1],u=f[r];l.setOptions(i,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&l.setOptions(i,"setPaintProperty",u.paint)}},y._addLayers=function(f,l){for(var t=this.subplot,s=this.layerList,o=this.sourceId,n=0;n<s.length;n++){var r=s[n],i=r[0],u=f[i];t.addLayer({type:i,id:r[1],source:o,layout:u.layout,paint:u.paint},l)}},y._removeLayers=function(){for(var f=this.subplot.map,l=this.layerList,t=l.length-1;t>=0;t--)f.removeLayer(l[t][1])},y.dispose=function(){var f=this.subplot.map;this._removeLayers(),f.removeSource(this.sourceId)},L.exports=function(f,l){var t=l[0].trace,s=new k(f,t.uid),o=s.sourceId,n=b(l),r=s.below=f.belowLookup["trace-"+t.uid];return f.map.addSource(o,{type:"geojson",data:n.geojson}),s._addLayers(n,r),l[0].trace._glTrace=s,s}},12674:function(L,M,e){"use strict";var b=e(50693),w=e(12663).axisHoverFormat,a=e(5386).fF,k=e(2418),y=e(9012),f=e(1426).extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:w("u",1),vhoverformat:w("v",1),whoverformat:w("w",1),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),showlegend:f({},y.showlegend,{dflt:!1})};f(l,b("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){l[t]=k[t]}),l.hoverinfo=f({},y.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,L.exports=l},31371:function(L,M,e){"use strict";var b=e(78803);L.exports=function(w,a){for(var k=a.u,y=a.v,f=a.w,l=Math.min(a.x.length,a.y.length,a.z.length,k.length,y.length,f.length),t=-1/0,s=1/0,o=0;o<l;o++){var n=k[o],r=y[o],i=f[o],u=Math.sqrt(n*n+r*r+i*i);t=Math.max(t,u),s=Math.min(s,u)}a._len=l,a._normMax=t,b(w,a,{vals:[s,t],containerStr:"",cLetter:"c"})}},5453:function(L,M,e){"use strict";var b=e(9330).gl_cone3d,w=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,k=e(81697).parseColorScale,y=e(21081).extractOpts,f=e(90060);function l(i,u){this.scene=i,this.uid=u,this.mesh=null,this.data=null}var t=l.prototype;t.handlePick=function(i){if(i.object===this.mesh){var u=i.index=i.data.index,p=this.data.x[u],h=this.data.y[u],_=this.data.z[u],m=this.data.u[u],d=this.data.v[u],x=this.data.w[u];i.traceCoordinate=[p,h,_,m,d,x,Math.sqrt(m*m+d*d+x*x)];var g=this.data.hovertext||this.data.text;return Array.isArray(g)&&g[u]!==void 0?i.textLabel=g[u]:g&&(i.textLabel=g),!0}};var s={xaxis:0,yaxis:1,zaxis:2},o={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function r(i,u){var p=i.fullSceneLayout,h=i.dataScale,_={};function m(v,T){var c=p[T],E=h[s[T]];return a(v,function(A){return c.d2l(A)*E})}_.vectors=f(m(u.u,"xaxis"),m(u.v,"yaxis"),m(u.w,"zaxis"),u._len),_.positions=f(m(u.x,"xaxis"),m(u.y,"yaxis"),m(u.z,"zaxis"),u._len);var d=y(u);_.colormap=k(u),_.vertexIntensityBounds=[d.min/u._normMax,d.max/u._normMax],_.coneOffset=o[u.anchor],u.sizemode==="scaled"?_.coneSize=u.sizeref||.5:_.coneSize=u.sizeref&&u._normMax?u.sizeref/u._normMax:.5;var x=b(_),g=u.lightposition;return x.lightPosition=[g.x,g.y,g.z],x.ambient=u.lighting.ambient,x.diffuse=u.lighting.diffuse,x.specular=u.lighting.specular,x.roughness=u.lighting.roughness,x.fresnel=u.lighting.fresnel,x.opacity=u.opacity,u._pad=n[u.anchor]*x.vectorScale*x.coneScale*u._normMax,x}t.update=function(i){this.data=i;var u=r(this.scene,i);this.mesh.update(u)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},L.exports=function(i,u){var p=i.glplot.gl,h=r(i,u),_=w(p,h),m=new l(i,u.uid);return m.mesh=_,m.data=u,_._trace=m,i.glplot.add(_),m}},91750:function(L,M,e){"use strict";var b=e(71828),w=e(1586),a=e(12674);L.exports=function(k,y,f,l){function t(p,h){return b.coerce(k,y,a,p,h)}var s=t("u"),o=t("v"),n=t("w"),r=t("x"),i=t("y"),u=t("z");s&&s.length&&o&&o.length&&n&&n.length&&r&&r.length&&i&&i.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),w(k,y,l,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),y._length=null):y.visible=!1}},98128:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(b,w){return b.norm=w.traceCoordinate[6],b},meta:{}}},70600:function(L,M,e){"use strict";var b=e(21606),w=e(82196),a=e(12663),k=a.axisHoverFormat,y=a.descriptionOnlyNumbers,f=e(50693),l=e(79952).P,t=e(41940),s=e(1426).extendFlat,o=e(74808),n=o.COMPARISON_OPS2,r=o.INTERVAL_OPS,i=w.line;L.exports=s({z:b.z,x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,text:b.text,hovertext:b.hovertext,transpose:b.transpose,xtype:b.xtype,ytype:b.ytype,xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z",1),hovertemplate:b.hovertemplate,texttemplate:s({},b.texttemplate,{}),textfont:s({},b.textfont,{}),hoverongaps:b.hoverongaps,connectgaps:s({},b.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:y("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:s({},i.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:l,smoothing:s({},i.smoothing,{}),editType:"plot"}},f("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(L,M,e){"use strict";var b=e(21081),w=e(90757),a=e(18670),k=e(53572);L.exports=function(y,f){var l=w(y,f),t=l[0].z;a(f,t);var s,o=f.contours,n=b.extractOpts(f);if(o.coloring==="heatmap"&&n.auto&&f.autocontour===!1){var r=o.start,i=k(o),u=o.size||1,p=Math.floor((i-r)/u)+1;isFinite(u)||(u=1,p=1);var h=r-u/2;s=[h,h+p*u]}else s=t;return b.calc(y,f,{vals:s,cLetter:"z"}),l}},20083:function(L){"use strict";L.exports=function(M,e){var b,w=M[0],a=w.z;switch(e.type){case"levels":var k=Math.min(a[0][0],a[0][1]);for(b=0;b<M.length;b++){var y=M[b];y.prefixBoundary=!y.edgepaths.length&&(k>y.level||y.starts.length&&k===y.level)}break;case"constraint":if(w.prefixBoundary=!1,w.edgepaths.length)return;var f=w.x.length,l=w.y.length,t=-1/0,s=1/0;for(b=0;b<l;b++)s=Math.min(s,a[b][0]),s=Math.min(s,a[b][f-1]),t=Math.max(t,a[b][0]),t=Math.max(t,a[b][f-1]);for(b=1;b<f-1;b++)s=Math.min(s,a[0][b]),s=Math.min(s,a[l-1][b]),t=Math.max(t,a[0][b]),t=Math.max(t,a[l-1][b]);var o,n,r=e.value;switch(e._operation){case">":r>t&&(w.prefixBoundary=!0);break;case"<":(r<s||w.starts.length&&r===s)&&(w.prefixBoundary=!0);break;case"[]":o=Math.min(r[0],r[1]),((n=Math.max(r[0],r[1]))<s||o>t||w.starts.length&&n===s)&&(w.prefixBoundary=!0);break;case"][":o=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]),o<s&&n>t&&(w.prefixBoundary=!0)}}}},90654:function(L,M,e){"use strict";var b=e(21081),w=e(86068),a=e(53572);L.exports={min:"zmin",max:"zmax",calc:function(k,y,f){var l=y.contours,t=y.line,s=l.size||1,o=l.coloring,n=w(y,{isColorbar:!0});if(o==="heatmap"){var r=b.extractOpts(y);f._fillgradient=r.reversescale?b.flipScale(r.colorscale):r.colorscale,f._zrange=[r.min,r.max]}else o==="fill"&&(f._fillcolor=n);f._line={color:o==="lines"?n:t.color,width:l.showlines!==!1?t.width:0,dash:t.dash},f._levels={start:l.start,end:a(l),size:s}}}},36914:function(L){"use strict";L.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(L,M,e){"use strict";var b=e(92770),w=e(14523),a=e(7901),k=a.addOpacity,y=a.opacity,f=e(74808),l=f.CONSTRAINT_REDUCTION,t=f.COMPARISON_OPS2;L.exports=function(s,o,n,r,i,u){var p,h,_,m=o.contours,d=n("contours.operation");m._operation=l[d],function(x,g){var v;t.indexOf(g.operation)===-1?(x("contours.value",[0,1]),Array.isArray(g.value)?g.value.length>2?g.value=g.value.slice(2):g.length===0?g.value=[0,1]:g.length<2?(v=parseFloat(g.value[0]),g.value=[v,v+1]):g.value=[parseFloat(g.value[0]),parseFloat(g.value[1])]:b(g.value)&&(v=parseFloat(g.value),g.value=[v,v+1])):(x("contours.value",0),b(g.value)||(Array.isArray(g.value)?g.value=parseFloat(g.value[0]):g.value=0))}(n,m),d==="="?p=m.showlines=!0:(p=n("contours.showlines"),_=n("fillcolor",k((s.line||{}).color||i,.5))),p&&(h=n("line.color",_&&y(_)?k(o.fillcolor,1):i),n("line.width",2),n("line.dash")),n("line.smoothing"),w(n,r,h,u)}},64237:function(L,M,e){"use strict";var b=e(74808),w=e(92770);function a(f,l){var t,s=Array.isArray(l);function o(n){return w(n)?+n:null}return b.COMPARISON_OPS2.indexOf(f)!==-1?t=o(s?l[0]:l):b.INTERVAL_OPS.indexOf(f)!==-1?t=s?[o(l[0]),o(l[1])]:[o(l),o(l)]:b.SET_OPS.indexOf(f)!==-1&&(t=s?l.map(o):[o(l)]),t}function k(f){return function(l){l=a(f,l);var t=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]);return{start:t,end:s,size:s-t}}}function y(f){return function(l){return{start:l=a(f,l),end:1/0,size:1/0}}}L.exports={"[]":k("[]"),"][":k("]["),">":y(">"),"<":y("<"),"=":y("=")}},67217:function(L){"use strict";L.exports=function(M,e,b,w){var a=w("contours.start"),k=w("contours.end"),y=a===!1||k===!1,f=b("contours.size");!(y?e.autocontour=!0:b("autocontour",!1))&&f||b("ncontours")}},84857:function(L,M,e){"use strict";var b=e(71828);function w(a){return b.extendFlat({},a,{edgepaths:b.extendDeep([],a.edgepaths),paths:b.extendDeep([],a.paths),starts:b.extendDeep([],a.starts)})}L.exports=function(a,k){var y,f,l,t=function(n){return n.reverse()},s=function(n){return n};switch(k){case"=":case"<":return a;case">":for(a.length!==1&&b.warn("Contour data invalid for the specified inequality operation."),f=a[0],y=0;y<f.edgepaths.length;y++)f.edgepaths[y]=t(f.edgepaths[y]);for(y=0;y<f.paths.length;y++)f.paths[y]=t(f.paths[y]);for(y=0;y<f.starts.length;y++)f.starts[y]=t(f.starts[y]);return a;case"][":var o=t;t=s,s=o;case"[]":for(a.length!==2&&b.warn("Contour data invalid for the specified inequality range operation."),f=w(a[0]),l=w(a[1]),y=0;y<f.edgepaths.length;y++)f.edgepaths[y]=t(f.edgepaths[y]);for(y=0;y<f.paths.length;y++)f.paths[y]=t(f.paths[y]);for(y=0;y<f.starts.length;y++)f.starts[y]=t(f.starts[y]);for(;l.edgepaths.length;)f.edgepaths.push(s(l.edgepaths.shift()));for(;l.paths.length;)f.paths.push(s(l.paths.shift()));for(;l.starts.length;)f.starts.push(s(l.starts.shift()));return[f]}}},13031:function(L,M,e){"use strict";var b=e(71828),w=e(67684),a=e(73927),k=e(83179),y=e(67217),f=e(8724),l=e(58623),t=e(70600);L.exports=function(s,o,n,r){function i(p,h){return b.coerce(s,o,t,p,h)}if(w(s,o,i,r)){a(s,o,r,i),i("xhoverformat"),i("yhoverformat"),i("text"),i("hovertext"),i("hoverongaps"),i("hovertemplate");var u=i("contours.type")==="constraint";i("connectgaps",b.isArray1D(o.z)),u?k(s,o,i,r,n):(y(s,o,i,function(p){return b.coerce2(s,o,t,p)}),f(s,o,i,r)),o.contours&&o.contours.coloring==="heatmap"&&l(i,r)}else o.visible=!1}},87558:function(L,M,e){"use strict";var b=e(71828),w=e(64237),a=e(53572);L.exports=function(k,y,f){for(var l=k.type==="constraint"?w[k._operation](k.value):k,t=l.size,s=[],o=a(l),n=f.trace._carpetTrace,r=n?{xaxis:n.aaxis,yaxis:n.baxis,x:f.a,y:f.b}:{xaxis:y.xaxis,yaxis:y.yaxis,x:f.x,y:f.y},i=l.start;i<o;i+=t)if(s.push(b.extendFlat({level:i,crossings:{},starts:[],edgepaths:[],paths:[],z:f.z,smoothing:f.trace.line.smoothing},r)),s.length>1e3){b.warn("Too many contours, clipping at 1000",k);break}return s}},53572:function(L){"use strict";L.exports=function(M){return M.end+M.size/1e6}},81696:function(L,M,e){"use strict";var b=e(71828),w=e(36914);function a(f,l,t,s){return Math.abs(f[0]-l[0])<t&&Math.abs(f[1]-l[1])<s}function k(f,l,t,s,o){var n,r=l.join(","),i=f.crossings[r],u=function(ae,oe,se){var ce=0,me=0;return ae>20&&oe?ae===208||ae===1114?ce=se[0]===0?1:-1:me=se[1]===0?1:-1:w.BOTTOMSTART.indexOf(ae)!==-1?me=1:w.LEFTSTART.indexOf(ae)!==-1?ce=1:w.TOPSTART.indexOf(ae)!==-1?me=-1:ce=-1,[ce,me]}(i,t,l),p=[y(f,l,[-u[0],-u[1]])],h=f.z.length,_=f.z[0].length,m=l.slice(),d=u.slice();for(n=0;n<1e4;n++){if(i>20?(i=w.CHOOSESADDLE[i][(u[0]||u[1])<0?0:1],f.crossings[r]=w.SADDLEREMAINDER[i]):delete f.crossings[r],!(u=w.NEWDELTA[i])){b.log("Found bad marching index:",i,l,f.level);break}p.push(y(f,l,u)),l[0]+=u[0],l[1]+=u[1],r=l.join(","),a(p[p.length-1],p[p.length-2],s,o)&&p.pop();var x=u[0]&&(l[0]<0||l[0]>_-2)||u[1]&&(l[1]<0||l[1]>h-2);if(l[0]===m[0]&&l[1]===m[1]&&u[0]===d[0]&&u[1]===d[1]||t&&x)break;i=f.crossings[r]}n===1e4&&b.log("Infinite loop in contour?");var g,v,T,c,E,A,C,O,P,D,z,V,F,W,B,U=a(p[0],p[p.length-1],s,o),H=0,q=.2*f.smoothing,ee=[],K=0;for(n=1;n<p.length;n++)V=p[n],F=p[n-1],W=V[2]-F[2],B=V[3]-F[3],H+=C=Math.sqrt(W*W+B*B),ee.push(C);var J=H/ee.length*q;function Z(ae){return p[ae%p.length]}for(n=p.length-2;n>=K;n--)if((g=ee[n])<J){for(T=0,v=n-1;v>=K&&g+ee[v]<J;v--)g+=ee[v];if(U&&n===p.length-2)for(T=0;T<v&&g+ee[T]<J;T++)g+=ee[T];E=n-v+T+1,A=Math.floor((n+v+T+2)/2),c=U||n!==p.length-2?U||v!==-1?E%2?Z(A):[(Z(A)[0]+Z(A+1)[0])/2,(Z(A)[1]+Z(A+1)[1])/2]:p[0]:p[p.length-1],p.splice(v+1,n-v+1,c),n=v+1,T&&(K=T),U&&(n===p.length-2?p[T]=p[p.length-1]:n===0&&(p[p.length-1]=p[0]))}for(p.splice(0,K),n=0;n<p.length;n++)p[n].length=2;if(!(p.length<2))if(U)p.pop(),f.paths.push(p);else{t||b.log("Unclosed interior contour?",f.level,m.join(","),p.join("L"));var $=!1;for(O=0;O<f.edgepaths.length;O++)if(D=f.edgepaths[O],!$&&a(D[0],p[p.length-1],s,o)){p.pop(),$=!0;var ne=!1;for(P=0;P<f.edgepaths.length;P++)if(a((z=f.edgepaths[P])[z.length-1],p[0],s,o)){ne=!0,p.shift(),f.edgepaths.splice(O,1),P===O?f.paths.push(p.concat(z)):(P>O&&P--,f.edgepaths[P]=z.concat(p,D));break}ne||(f.edgepaths[O]=p.concat(D))}for(O=0;O<f.edgepaths.length&&!$;O++)a((D=f.edgepaths[O])[D.length-1],p[0],s,o)&&(p.shift(),f.edgepaths[O]=D.concat(p),$=!0);$||f.edgepaths.push(p)}}function y(f,l,t){var s=l[0]+Math.max(t[0],0),o=l[1]+Math.max(t[1],0),n=f.z[o][s],r=f.xaxis,i=f.yaxis;if(t[1]){var u=(f.level-n)/(f.z[o][s+1]-n),p=(u!==1?(1-u)*r.c2l(f.x[s]):0)+(u!==0?u*r.c2l(f.x[s+1]):0);return[r.c2p(r.l2c(p),!0),i.c2p(f.y[o],!0),s+u,o]}var h=(f.level-n)/(f.z[o+1][s]-n),_=(h!==1?(1-h)*i.c2l(f.y[o]):0)+(h!==0?h*i.c2l(f.y[o+1]):0);return[r.c2p(f.x[s],!0),i.c2p(i.l2c(_),!0),s,o+h]}L.exports=function(f,l,t){var s,o,n,r;for(l=l||.01,t=t||.01,o=0;o<f.length;o++){for(n=f[o],r=0;r<n.starts.length;r++)k(n,n.starts[r],"edge",l,t);for(s=0;Object.keys(n.crossings).length&&s<1e4;)s++,k(n,Object.keys(n.crossings)[0].split(",").map(Number),void 0,l,t);s===1e4&&b.log("Infinite loop in contour?")}}},52421:function(L,M,e){"use strict";var b=e(7901),w=e(46248);L.exports=function(a,k,y,f,l){l||(l={}),l.isContour=!0;var t=w(a,k,y,f,l);return t&&t.forEach(function(s){var o=s.trace;o.contours.type==="constraint"&&(o.fillcolor&&b.opacity(o.fillcolor)?s.color=b.addOpacity(o.fillcolor,1):o.contours.showlines&&b.opacity(o.line.color)&&(s.color=b.addOpacity(o.line.color,1)))}),t}},99442:function(L,M,e){"use strict";L.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a,k,y){if(y||(y={}),w("contours.showlabels")){var f=a.font;b.coerceFont(w,"contours.labelfont",{family:f.family,size:f.size,color:k}),w("contours.labelformat")}y.hasHover!==!1&&w("zhoverformat")}},86068:function(L,M,e){"use strict";var b=e(39898),w=e(21081),a=e(53572);L.exports=function(k){var y=k.contours,f=y.start,l=a(y),t=y.size||1,s=Math.floor((l-f)/t)+1,o=y.coloring==="lines"?0:1,n=w.extractOpts(k);isFinite(t)||(t=1,s=1);var r,i,u=n.reversescale?w.flipScale(n.colorscale):n.colorscale,p=u.length,h=new Array(p),_=new Array(p);if(y.coloring==="heatmap"){var m=n.min,d=n.max;for(i=0;i<p;i++)r=u[i],h[i]=r[0]*(d-m)+m,_[i]=r[1];var x=b.extent([m,d,y.start,y.start+t*(s-1)]),g=x[m<d?0:1],v=x[m<d?1:0];g!==m&&(h.splice(0,0,g),_.splice(0,0,_[0])),v!==d&&(h.push(v),_.push(_[_.length-1]))}else for(i=0;i<p;i++)r=u[i],h[i]=(r[0]*(s+o-1)-o/2)*t+f,_[i]=r[1];return w.makeColorScaleFunc({domain:h,range:_},{noNumericCheck:!0})}},87678:function(L,M,e){"use strict";var b=e(36914);function w(a,k){var y=(k[0][0]>a?0:1)+(k[0][1]>a?0:2)+(k[1][1]>a?0:4)+(k[1][0]>a?0:8);return y===5||y===10?a>(k[0][0]+k[0][1]+k[1][0]+k[1][1])/4?y===5?713:1114:y===5?104:208:y===15?0:y}L.exports=function(a){var k,y,f,l,t,s,o,n,r,i=a[0].z,u=i.length,p=i[0].length,h=u===2||p===2;for(y=0;y<u-1;y++)for(l=[],y===0&&(l=l.concat(b.BOTTOMSTART)),y===u-2&&(l=l.concat(b.TOPSTART)),k=0;k<p-1;k++)for(f=l.slice(),k===0&&(f=f.concat(b.LEFTSTART)),k===p-2&&(f=f.concat(b.RIGHTSTART)),t=k+","+y,s=[[i[y][k],i[y][k+1]],[i[y+1][k],i[y+1][k+1]]],r=0;r<a.length;r++)(o=w((n=a[r]).level,s))&&(n.crossings[t]=o,f.indexOf(o)!==-1&&(n.starts.push([k,y]),h&&f.indexOf(o,f.indexOf(o)+1)!==-1&&n.starts.push([k,y])))}},29854:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(21081),y=e(63893),f=e(89298),l=e(21994),t=e(50347),s=e(87678),o=e(81696),n=e(87558),r=e(84857),i=e(20083),u=e(36914),p=u.LABELOPTIMIZER;function h(d,x){var g,v,T,c,E,A,C,O="",P=0,D=d.edgepaths.map(function(U,H){return H}),z=!0;function V(U){return Math.abs(U[1]-x[2][1])<.01}function F(U){return Math.abs(U[0]-x[0][0])<.01}function W(U){return Math.abs(U[0]-x[2][0])<.01}for(;D.length;){for(A=a.smoothopen(d.edgepaths[P],d.smoothing),O+=z?A:A.replace(/^M/,"L"),D.splice(D.indexOf(P),1),g=d.edgepaths[P][d.edgepaths[P].length-1],c=-1,T=0;T<4;T++){if(!g){w.log("Missing end?",P,d);break}for(C=g,Math.abs(C[1]-x[0][1])<.01&&!W(g)?v=x[1]:F(g)?v=x[0]:V(g)?v=x[3]:W(g)&&(v=x[2]),E=0;E<d.edgepaths.length;E++){var B=d.edgepaths[E][0];Math.abs(g[0]-v[0])<.01?Math.abs(g[0]-B[0])<.01&&(B[1]-g[1])*(v[1]-B[1])>=0&&(v=B,c=E):Math.abs(g[1]-v[1])<.01?Math.abs(g[1]-B[1])<.01&&(B[0]-g[0])*(v[0]-B[0])>=0&&(v=B,c=E):w.log("endpt to newendpt is not vert. or horz.",g,v,B)}if(g=v,c>=0)break;O+="L"+v}if(c===d.edgepaths.length){w.log("unclosed perimeter path");break}P=c,(z=D.indexOf(P)===-1)&&(P=D[0],O+="Z")}for(P=0;P<d.paths.length;P++)O+=a.smoothclosed(d.paths[P],d.smoothing);return O}function _(d,x,g,v){var T=x.width/2,c=x.height/2,E=d.x,A=d.y,C=d.theta,O=Math.cos(C)*T,P=Math.sin(C)*T,D=(E>v.center?v.right-E:E-v.left)/(O+Math.abs(Math.sin(C)*c)),z=(A>v.middle?v.bottom-A:A-v.top)/(Math.abs(P)+Math.cos(C)*c);if(D<1||z<1)return 1/0;var V=p.EDGECOST*(1/(D-1)+1/(z-1));V+=p.ANGLECOST*C*C;for(var F=E-O,W=A-P,B=E+O,U=A+P,H=0;H<g.length;H++){var q=g[H],ee=Math.cos(q.theta)*q.width/2,K=Math.sin(q.theta)*q.width/2,J=2*w.segmentDistance(F,W,B,U,q.x-ee,q.y-K,q.x+ee,q.y+K)/(x.height+q.height),Z=q.level===x.level,$=Z?p.SAMELEVELDISTANCE:1;if(J<=$)return 1/0;V+=p.NEIGHBORCOST*(Z?p.SAMELEVELFACTOR:1)/(J-$)}return V}function m(d){var x,g,v=d.trace._emptypoints,T=[],c=d.z.length,E=d.z[0].length,A=[];for(x=0;x<E;x++)A.push(1);for(x=0;x<c;x++)T.push(A.slice());for(x=0;x<v.length;x++)T[(g=v[x])[0]][g[1]]=0;return d.zmask=T,T}M.plot=function(d,x,g,v){var T=x.xaxis,c=x.yaxis;w.makeTraceGroups(v,g,"contour").each(function(E){var A=b.select(this),C=E[0],O=C.trace,P=C.x,D=C.y,z=O.contours,V=n(z,x,C),F=w.ensureSingle(A,"g","heatmapcoloring"),W=[];z.coloring==="heatmap"&&(W=[E]),t(d,x,W,F),s(V),o(V);var B=T.c2p(P[0],!0),U=T.c2p(P[P.length-1],!0),H=c.c2p(D[0],!0),q=c.c2p(D[D.length-1],!0),ee=[[B,q],[U,q],[U,H],[B,H]],K=V;z.type==="constraint"&&(K=r(V,z._operation)),function(J,Z,$){var ne=w.ensureSingle(J,"g","contourbg").selectAll("path").data($.coloring==="fill"?[0]:[]);ne.enter().append("path"),ne.exit().remove(),ne.attr("d","M"+Z.join("L")+"Z").style("stroke","none")}(A,ee,z),function(J,Z,$,ne){var ae=ne.coloring==="fill"||ne.type==="constraint"&&ne._operation!=="=",oe="M"+$.join("L")+"Z";ae&&i(Z,ne);var se=w.ensureSingle(J,"g","contourfill").selectAll("path").data(ae?Z:[]);se.enter().append("path"),se.exit().remove(),se.each(function(ce){var me=(ce.prefixBoundary?oe:"")+h(ce,$);me?b.select(this).attr("d",me).style("stroke","none"):b.select(this).remove()})}(A,K,ee,z),function(J,Z,$,ne,ae){var oe=$._context.staticPlot,se=w.ensureSingle(J,"g","contourlines"),ce=ae.showlines!==!1,me=ae.showlabels,xe=ce&&me,ve=M.createLines(se,ce||me,Z,oe),fe=M.createLineClip(se,xe,$,ne.trace.uid),pe=J.selectAll("g.contourlabels").data(me?[0]:[]);if(pe.exit().remove(),pe.enter().append("g").classed("contourlabels",!0),me){var Le=[],ye=[];w.clearLocationCache();var Ae=M.labelFormatter($,ne),Me=a.tester.append("text").attr("data-notex",1).call(a.font,ae.labelfont),ke=Z[0].xaxis,te=Z[0].yaxis,ue=ke._length,ge=te._length,we=ke.range,Ee=te.range,Be=w.aggNums(Math.min,null,ne.x),Re=w.aggNums(Math.max,null,ne.x),je=w.aggNums(Math.min,null,ne.y),he=w.aggNums(Math.max,null,ne.y),_e=Math.max(ke.c2p(Be,!0),0),Te=Math.min(ke.c2p(Re,!0),ue),Fe=Math.max(te.c2p(he,!0),0),Ye=Math.min(te.c2p(je,!0),ge),Ge={};we[0]<we[1]?(Ge.left=_e,Ge.right=Te):(Ge.left=Te,Ge.right=_e),Ee[0]<Ee[1]?(Ge.top=Fe,Ge.bottom=Ye):(Ge.top=Ye,Ge.bottom=Fe),Ge.middle=(Ge.top+Ge.bottom)/2,Ge.center=(Ge.left+Ge.right)/2,Le.push([[Ge.left,Ge.top],[Ge.right,Ge.top],[Ge.right,Ge.bottom],[Ge.left,Ge.bottom]]);var ot=Math.sqrt(ue*ue+ge*ge),st=u.LABELDISTANCE*ot/Math.max(1,Z.length/u.LABELINCREASE);ve.each(function(ht){var xt=M.calcTextOpts(ht.level,Ae,Me,$);b.select(this).selectAll("path").each(function(){var Ct=w.getVisibleSegment(this,Ge,xt.height/2);if(Ct&&!(Ct.len<(xt.width+xt.height)*u.LABELMIN))for(var St=Math.min(Math.ceil(Ct.len/st),u.LABELMAX),kt=0;kt<St;kt++){var Nt=M.findBestTextLocation(this,Ct,xt,ye,Ge);if(!Nt)break;M.addLabelData(Nt,xt,ye,Le)}})}),Me.remove(),M.drawLabels(pe,ye,$,fe,xe?Le:null)}me&&!ce&&ve.remove()}(A,V,d,C,z),function(J,Z,$,ne,ae){var oe=ne.trace,se=$._fullLayout._clips,ce="clip"+oe.uid,me=se.selectAll("#"+ce).data(oe.connectgaps?[]:[0]);if(me.enter().append("clipPath").classed("contourclip",!0).attr("id",ce),me.exit().remove(),oe.connectgaps===!1){var xe={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Z.xaxis,yaxis:Z.yaxis,x:ne.x,y:ne.y,z:m(ne),smoothing:0};s([xe]),o([xe]),i([xe],{type:"levels"}),w.ensureSingle(me,"path","").attr("d",(xe.prefixBoundary?"M"+ae.join("L")+"Z":"")+h(xe,ae))}else ce=null;a.setClipUrl(J,ce,$)}(A,x,d,C,ee)})},M.createLines=function(d,x,g,v){var T=g[0].smoothing,c=d.selectAll("g.contourlevel").data(x?g:[]);if(c.exit().remove(),c.enter().append("g").classed("contourlevel",!0),x){var E=c.selectAll("path.openline").data(function(C){return C.pedgepaths||C.edgepaths});E.exit().remove(),E.enter().append("path").classed("openline",!0),E.attr("d",function(C){return a.smoothopen(C,T)}).style("stroke-miterlimit",1).style("vector-effect",v?"none":"non-scaling-stroke");var A=c.selectAll("path.closedline").data(function(C){return C.ppaths||C.paths});A.exit().remove(),A.enter().append("path").classed("closedline",!0),A.attr("d",function(C){return a.smoothclosed(C,T)}).style("stroke-miterlimit",1).style("vector-effect",v?"none":"non-scaling-stroke")}return c},M.createLineClip=function(d,x,g,v){var T=x?"clipline"+v:null,c=g._fullLayout._clips.selectAll("#"+T).data(x?[0]:[]);return c.exit().remove(),c.enter().append("clipPath").classed("contourlineclip",!0).attr("id",T),a.setClipUrl(d,T,g),c},M.labelFormatter=function(d,x){var g=d._fullLayout,v=x.trace,T=v.contours,c={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(T.labelformat)c.tickformat=T.labelformat,l(c,g);else{var E=k.extractOpts(v);if(E&&E.colorbar&&E.colorbar._axis)c=E.colorbar._axis;else{if(T.type==="constraint"){var A=T.value;Array.isArray(A)?c.range=[A[0],A[A.length-1]]:c.range=[A,A]}else c.range=[T.start,T.end],c.nticks=(T.end-T.start)/T.size;c.range[0]===c.range[1]&&(c.range[1]+=c.range[0]||1),c.nticks||(c.nticks=1e3),l(c,g),f.prepTicks(c),c._tmin=null,c._tmax=null}}return function(C){return f.tickText(c,C).text}},M.calcTextOpts=function(d,x,g,v){var T=x(d);g.text(T).call(y.convertToTspans,v);var c=g.node(),E=a.bBox(c,!0);return{text:T,width:E.width,height:E.height,fontSize:+c.style["font-size"].replace("px",""),level:d,dy:(E.top+E.bottom)/2}},M.findBestTextLocation=function(d,x,g,v,T){var c,E,A,C,O,P=g.width;x.isClosed?(E=x.len/p.INITIALSEARCHPOINTS,c=x.min+E/2,A=x.max):(E=(x.len-P)/(p.INITIALSEARCHPOINTS+1),c=x.min+E+P/2,A=x.max-(E+P)/2);for(var D=1/0,z=0;z<p.ITERATIONS;z++){for(var V=c;V<A;V+=E){var F=w.getTextLocation(d,x.total,V,P),W=_(F,g,v,T);W<D&&(D=W,O=F,C=V)}if(D>2*p.MAXCOST)break;z&&(E/=2),A=(c=C-E/2)+1.5*E}if(D<=p.MAXCOST)return O},M.addLabelData=function(d,x,g,v){var T=x.fontSize,c=x.width+T/3,E=Math.max(0,x.height-T/3),A=d.x,C=d.y,O=d.theta,P=Math.sin(O),D=Math.cos(O),z=function(F,W){return[A+F*D-W*P,C+F*P+W*D]},V=[z(-c/2,-E/2),z(-c/2,E/2),z(c/2,E/2),z(c/2,-E/2)];g.push({text:x.text,x:A,y:C,dy:x.dy,theta:O,level:x.level,width:c,height:E}),v.push(V)},M.drawLabels=function(d,x,g,v,T){var c=d.selectAll("text").data(x,function(C){return C.text+","+C.x+","+C.y+","+C.theta});if(c.exit().remove(),c.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(C){var O=C.x+Math.sin(C.theta)*C.dy,P=C.y-Math.cos(C.theta)*C.dy;b.select(this).text(C.text).attr({x:O,y:P,transform:"rotate("+180*C.theta/Math.PI+" "+O+" "+P+")"}).call(y.convertToTspans,g)}),T){for(var E="",A=0;A<T.length;A++)E+="M"+T[A].join("L")+"Z";w.ensureSingle(v,"path","").attr("d",E)}}},18670:function(L,M,e){"use strict";var b=e(89298),w=e(71828);function a(k,y,f){var l={type:"linear",range:[k,y]};return b.autoTicks(l,(y-k)/(f||15)),l}L.exports=function(k,y){var f=k.contours;if(k.autocontour){var l=k.zmin,t=k.zmax;(k.zauto||l===void 0)&&(l=w.aggNums(Math.min,null,y)),(k.zauto||t===void 0)&&(t=w.aggNums(Math.max,null,y));var s=a(l,t,k.ncontours);f.size=s.dtick,f.start=b.tickFirst(s),s.range.reverse(),f.end=b.tickFirst(s),f.start===l&&(f.start+=f.size),f.end===t&&(f.end-=f.size),f.start>f.end&&(f.start=f.end=(f.start+f.end)/2),k._input.contours||(k._input.contours={}),w.extendFlat(k._input.contours,{start:f.start,end:f.end,size:f.size}),k._input.autocontour=!0}else if(f.type!=="constraint"){var o,n=f.start,r=f.end,i=k._input.contours;n>r&&(f.start=i.start=r,r=f.end=i.end=n,n=f.start),f.size>0||(o=n===r?1:a(n,r,k.ncontours).dtick,i.size=f.size=o)}}},84426:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(70035),k=e(86068);L.exports=function(y){var f=b.select(y).selectAll("g.contour");f.style("opacity",function(l){return l[0].trace.opacity}),f.each(function(l){var t=b.select(this),s=l[0].trace,o=s.contours,n=s.line,r=o.size||1,i=o.start,u=o.type==="constraint",p=!u&&o.coloring==="lines",h=!u&&o.coloring==="fill",_=p||h?k(s):null;t.selectAll("g.contourlevel").each(function(x){b.select(this).selectAll("path").call(w.lineGroupStyle,n.width,p?_(x.level):n.color,n.dash)});var m=o.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){w.font(b.select(this),{family:m.family,size:m.size,color:m.color||(p?_(x.level):n.color)})}),u)t.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(h){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),_(x.level+.5*r)}),d===void 0&&(d=i),t.selectAll("g.contourbg path").style("fill",_(d-.5*r))}}),a(y)}},8724:function(L,M,e){"use strict";var b=e(1586),w=e(14523);L.exports=function(a,k,y,f,l){var t,s=y("contours.coloring"),o="";s==="fill"&&(t=y("contours.showlines")),t!==!1&&(s!=="lines"&&(o=y("line.color","#000")),y("line.width",.5),y("line.dash")),s!=="none"&&(a.showlegend!==!0&&(k.showlegend=!1),k._dfltShowLegend=!1,b(a,k,f,y,{prefix:"",cLetter:"z"})),y("line.smoothing"),w(y,f,o,l)}},88085:function(L,M,e){"use strict";var b=e(21606),w=e(70600),a=e(50693),k=e(1426).extendFlat,y=w.contours;L.exports=k({carpet:{valType:"string",editType:"calc"},z:b.z,a:b.x,a0:b.x0,da:b.dx,b:b.y,b0:b.y0,db:b.dy,text:b.text,hovertext:b.hovertext,transpose:b.transpose,atype:b.xtype,btype:b.ytype,fillcolor:w.fillcolor,autocontour:w.autocontour,ncontours:w.ncontours,contours:{type:y.type,start:y.start,end:y.end,size:y.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:y.showlines,showlabels:y.showlabels,labelfont:y.labelfont,labelformat:y.labelformat,operation:y.operation,value:y.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:w.line.color,width:w.line.width,dash:w.line.dash,smoothing:w.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(L,M,e){"use strict";var b=e(78803),w=e(71828),a=e(68296),k=e(4742),y=e(824),f=e(43907),l=e(70769),t=e(75005),s=e(22882),o=e(18670);L.exports=function(n,r){var i=r._carpetTrace=s(n,r);if(i&&i.visible&&i.visible!=="legendonly"){if(!r.a||!r.b){var u=n.data[i.index],p=n.data[r.index];p.a||(p.a=u.a),p.b||(p.b=u.b),t(p,r,r._defaultColor,n._fullLayout)}var h=function(_,m){var d,x,g,v,T,c,E,A=m._carpetTrace,C=A.aaxis,O=A.baxis;C._minDtick=0,O._minDtick=0,w.isArray1D(m.z)&&a(m,C,O,"a","b",["z"]),d=m._a=m._a||m.a,v=m._b=m._b||m.b,d=d?C.makeCalcdata(m,"_a"):[],v=v?O.makeCalcdata(m,"_b"):[],x=m.a0||0,g=m.da||1,T=m.b0||0,c=m.db||1,E=m._z=k(m._z||m.z,m.transpose),m._emptypoints=f(E),y(E,m._emptypoints);var P=w.maxRowLength(E),D=m.xtype==="scaled"?"":d,z=l(m,D,x,g,P,C),V=m.ytype==="scaled"?"":v,F={a:z,b:l(m,V,T,c,E.length,O),z:E};return m.contours.type==="levels"&&m.contours.coloring!=="none"&&b(_,m,{vals:E,containerStr:"",cLetter:"z"}),[F]}(n,r);return o(r,r._z),h}}},75005:function(L,M,e){"use strict";var b=e(71828),w=e(67684),a=e(88085),k=e(83179),y=e(67217),f=e(8724);L.exports=function(l,t,s,o){function n(r,i){return b.coerce(l,t,a,r,i)}if(n("carpet"),l.a&&l.b){if(!w(l,t,n,o,"a","b"))return void(t.visible=!1);n("text"),n("contours.type")==="constraint"?k(l,t,n,o,s,{hasHover:!1}):(y(l,t,n,function(r){return b.coerce2(l,t,a,r)}),f(l,t,n,o,{hasHover:!1}))}else t._defaultColor=s,t._length=null}},93740:function(L,M,e){"use strict";L.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(L,M,e){"use strict";var b=e(39898),w=e(27669),a=e(67961),k=e(91424),y=e(71828),f=e(87678),l=e(81696),t=e(29854),s=e(36914),o=e(84857),n=e(87558),r=e(20083),i=e(22882),u=e(4536);function p(m,d,x){var g=m.getPointAtLength(d),v=m.getPointAtLength(x),T=v.x-g.x,c=v.y-g.y,E=Math.sqrt(T*T+c*c);return[T/E,c/E]}function h(m){var d=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/d,m[1]/d]}function _(m,d){var x=Math.abs(m[0]*d[0]+m[1]*d[1]);return Math.sqrt(1-x*x)/x}L.exports=function(m,d,x,g){var v=d.xaxis,T=d.yaxis;y.makeTraceGroups(g,x,"contour").each(function(c){var E=b.select(this),A=c[0],C=A.trace,O=C._carpetTrace=i(m,C),P=m.calcdata[O.index][0];if(O.visible&&O.visible!=="legendonly"){var D=A.a,z=A.b,V=C.contours,F=n(V,d,A),W=V.type==="constraint",B=V._operation,U=W?B==="="?"lines":"fill":V.coloring,H=[[D[0],z[z.length-1]],[D[D.length-1],z[z.length-1]],[D[D.length-1],z[0]],[D[0],z[0]]];f(F);var q=1e-8*(D[D.length-1]-D[0]),ee=1e-8*(z[z.length-1]-z[0]);l(F,q,ee);var K,J,Z,$,ne=F;V.type==="constraint"&&(ne=o(F,B)),function(ce,me){var xe,ve,fe,pe,Le,ye,Ae,Me,ke;for(xe=0;xe<ce.length;xe++){for(Le=(pe=ce[xe]).pedgepaths=[],ye=pe.ppaths=[],ve=0;ve<pe.edgepaths.length;ve++){for(ke=pe.edgepaths[ve],Ae=[],fe=0;fe<ke.length;fe++)Ae[fe]=me(ke[fe]);Le.push(Ae)}for(ve=0;ve<pe.paths.length;ve++){for(ke=pe.paths[ve],Me=[],fe=0;fe<ke.length;fe++)Me[fe]=me(ke[fe]);ye.push(Me)}}}(F,se);var ae=[];for($=P.clipsegments.length-1;$>=0;$--)K=P.clipsegments[$],J=w([],K.x,v.c2p),Z=w([],K.y,T.c2p),J.reverse(),Z.reverse(),ae.push(a(J,Z,K.bicubic));var oe="M"+ae.join("L")+"Z";(function(ce,me,xe,ve,fe,pe){var Le,ye,Ae,Me,ke=y.ensureSingle(ce,"g","contourbg").selectAll("path").data(pe!=="fill"||fe?[]:[0]);ke.enter().append("path"),ke.exit().remove();var te=[];for(Me=0;Me<me.length;Me++)Le=me[Me],ye=w([],Le.x,xe.c2p),Ae=w([],Le.y,ve.c2p),te.push(a(ye,Ae,Le.bicubic));ke.attr("d","M"+te.join("L")+"Z").style("stroke","none")})(E,P.clipsegments,v,T,W,U),function(ce,me,xe,ve,fe,pe,Le,ye,Ae,Me,ke){var te=Me==="fill";te&&r(fe,ce.contours);var ue=y.ensureSingle(me,"g","contourfill").selectAll("path").data(te?fe:[]);ue.enter().append("path"),ue.exit().remove(),ue.each(function(ge){var we=(ge.prefixBoundary?ke:"")+function(Ee,Be,Re,je,he,_e,Te,Fe){var Ye,Ge,ot,st,ht,xt,Ct,St="",kt=Be.edgepaths.map(function(Oe,Ne){return Ne}),Nt=!0,Dt=1e-4*Math.abs(Re[0][0]-Re[2][0]),Et=1e-4*Math.abs(Re[0][1]-Re[2][1]);function Wt(Oe){return Math.abs(Oe[1]-Re[0][1])<Et}function Ht(Oe){return Math.abs(Oe[1]-Re[2][1])<Et}function Ke(Oe){return Math.abs(Oe[0]-Re[0][0])<Dt}function $e(Oe){return Math.abs(Oe[0]-Re[2][0])<Dt}function Ue(Oe,Ne){var Qe,ut,pt,wt,Lt="";for(Wt(Oe)&&!$e(Oe)||Ht(Oe)&&!Ke(Oe)?(wt=he.aaxis,pt=u(he,_e,[Oe[0],Ne[0]],.5*(Oe[1]+Ne[1]))):(wt=he.baxis,pt=u(he,_e,.5*(Oe[0]+Ne[0]),[Oe[1],Ne[1]])),Qe=1;Qe<pt.length;Qe++)for(Lt+=wt.smoothing?"C":"L",ut=0;ut<pt[Qe].length;ut++){var It=pt[Qe][ut];Lt+=[Te.c2p(It[0]),Fe.c2p(It[1])]+" "}return Lt}for(Ye=0,Ge=null;kt.length;){var nt=Be.edgepaths[Ye][0];for(Ge&&(St+=Ue(Ge,nt)),Ct=k.smoothopen(Be.edgepaths[Ye].map(je),Be.smoothing),St+=Nt?Ct:Ct.replace(/^M/,"L"),kt.splice(kt.indexOf(Ye),1),Ge=Be.edgepaths[Ye][Be.edgepaths[Ye].length-1],ht=-1,st=0;st<4;st++){if(!Ge){y.log("Missing end?",Ye,Be);break}for(Wt(Ge)&&!$e(Ge)?ot=Re[1]:Ke(Ge)?ot=Re[0]:Ht(Ge)?ot=Re[3]:$e(Ge)&&(ot=Re[2]),xt=0;xt<Be.edgepaths.length;xt++){var ct=Be.edgepaths[xt][0];Math.abs(Ge[0]-ot[0])<Dt?Math.abs(Ge[0]-ct[0])<Dt&&(ct[1]-Ge[1])*(ot[1]-ct[1])>=0&&(ot=ct,ht=xt):Math.abs(Ge[1]-ot[1])<Et?Math.abs(Ge[1]-ct[1])<Et&&(ct[0]-Ge[0])*(ot[0]-ct[0])>=0&&(ot=ct,ht=xt):y.log("endpt to newendpt is not vert. or horz.",Ge,ot,ct)}if(ht>=0)break;St+=Ue(Ge,ot),Ge=ot}if(ht===Be.edgepaths.length){y.log("unclosed perimeter path");break}Ye=ht,(Nt=kt.indexOf(Ye)===-1)&&(Ye=kt[0],St+=Ue(Ge,ot)+"Z",Ge=null)}for(Ye=0;Ye<Be.paths.length;Ye++)St+=k.smoothclosed(Be.paths[Ye].map(je),Be.smoothing);return St}(0,ge,pe,Le,ye,Ae,xe,ve);we?b.select(this).attr("d",we).style("stroke","none"):b.select(this).remove()})}(C,E,v,T,ne,H,se,O,P,U,oe),function(ce,me,xe,ve,fe,pe,Le){var ye=xe._context.staticPlot,Ae=y.ensureSingle(ce,"g","contourlines"),Me=fe.showlines!==!1,ke=fe.showlabels,te=Me&&ke,ue=t.createLines(Ae,Me||ke,me,ye),ge=t.createLineClip(Ae,te,xe,ve.trace.uid),we=ce.selectAll("g.contourlabels").data(ke?[0]:[]);if(we.exit().remove(),we.enter().append("g").classed("contourlabels",!0),ke){var Ee=pe.xaxis,Be=pe.yaxis,Re=Ee._length,je=Be._length,he=[[[0,0],[Re,0],[Re,je],[0,je]]],_e=[];y.clearLocationCache();var Te=t.labelFormatter(xe,ve),Fe=k.tester.append("text").attr("data-notex",1).call(k.font,fe.labelfont),Ye={left:0,right:Re,center:Re/2,top:0,bottom:je,middle:je/2},Ge=Math.sqrt(Re*Re+je*je),ot=s.LABELDISTANCE*Ge/Math.max(1,me.length/s.LABELINCREASE);ue.each(function(st){var ht=t.calcTextOpts(st.level,Te,Fe,xe);b.select(this).selectAll("path").each(function(xt){var Ct=this,St=y.getVisibleSegment(Ct,Ye,ht.height/2);if(St&&(function(Et,Wt,Ht,Ke,$e,Ue){for(var nt,ct=0;ct<Ht.pedgepaths.length;ct++)Wt===Ht.pedgepaths[ct]&&(nt=Ht.edgepaths[ct]);if(nt){var Oe=$e.a[0],Ne=$e.a[$e.a.length-1],Qe=$e.b[0],ut=$e.b[$e.b.length-1],pt=p(Et,0,1),wt=p(Et,Ke.total,Ke.total-1),Lt=yt(nt[0],pt),It=Ke.total-yt(nt[nt.length-1],wt);Ke.min<Lt&&(Ke.min=Lt),Ke.max>It&&(Ke.max=It),Ke.len=Ke.max-Ke.min}function yt(Rt,bt){var Pt,Bt=0,Zt=.1;return(Math.abs(Rt[0]-Oe)<Zt||Math.abs(Rt[0]-Ne)<Zt)&&(Pt=h($e.dxydb_rough(Rt[0],Rt[1],Zt)),Bt=Math.max(Bt,Ue*_(bt,Pt)/2)),(Math.abs(Rt[1]-Qe)<Zt||Math.abs(Rt[1]-ut)<Zt)&&(Pt=h($e.dxyda_rough(Rt[0],Rt[1],Zt)),Bt=Math.max(Bt,Ue*_(bt,Pt)/2)),Bt}}(Ct,xt,st,St,Le,ht.height),!(St.len<(ht.width+ht.height)*s.LABELMIN)))for(var kt=Math.min(Math.ceil(St.len/ot),s.LABELMAX),Nt=0;Nt<kt;Nt++){var Dt=t.findBestTextLocation(Ct,St,ht,_e,Ye);if(!Dt)break;t.addLabelData(Dt,ht,_e,he)}})}),Fe.remove(),t.drawLabels(we,_e,xe,ge,te?he:null)}ke&&!Me&&ue.remove()}(E,F,m,A,V,d,O),k.setClipUrl(E,O._clipPathId,m)}function se(ce){var me=O.ab2xy(ce[0],ce[1],!0);return[v.c2p(me[0]),T.c2p(me[1])]}})}},64096:function(L,M,e){"use strict";var b=e(50693),w=e(5386).fF,a=e(9012),k=e(99181),y=e(1426).extendFlat;L.exports=y({lon:k.lon,lat:k.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:k.text,hovertext:k.hovertext,hoverinfo:y({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:w(),showlegend:y({},a.showlegend,{dflt:!1})},b("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(L,M,e){"use strict";var b=e(92770),w=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,k=e(78803),y=e(71828)._;L.exports=function(f,l){for(var t=l._length,s=new Array(t),o=l.z,n=w(o)&&o.length,r=0;r<t;r++){var i=s[r]={},u=l.lon[r],p=l.lat[r];if(i.lonlat=b(u)&&b(p)?[+u,+p]:[a,a],n){var h=o[r];i.z=b(h)?h:a}}return k(f,l,{vals:n?o:[0,1],containerStr:"",cLetter:"z"}),t&&(s[0].t={labels:{lat:y(f,"lat:")+" ",lon:y(f,"lon:")+" "}}),s}},52414:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(7901),k=e(21081),y=e(50606).BADNUM,f=e(18214).makeBlank;L.exports=function(l){var t=l[0].trace,s=t.visible===!0&&t._length!==0,o=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:f()};if(!s)return o;var n,r=[],i=t.z,u=t.radius,p=w.isArrayOrTypedArray(i)&&i.length,h=w.isArrayOrTypedArray(u);for(n=0;n<l.length;n++){var _=l[n],m=_.lonlat;if(m[0]!==y){var d={};if(p){var x=_.z;d.z=x!==y?x:0}h&&(d.r=b(u[n])&&u[n]>0?+u[n]:0),r.push({type:"Feature",geometry:{type:"Point",coordinates:m},properties:d})}}var g=k.extractOpts(t),v=g.reversescale?k.flipScale(g.colorscale):g.colorscale,T=v[0][1],c=["interpolate",["linear"],["heatmap-density"],0,a.opacity(T)<1?T:a.addOpacity(T,0)];for(n=1;n<v.length;n++)c.push(v[n][0],v[n][1]);var E=["interpolate",["linear"],["get","z"],g.min,0,g.max,1];return w.extendFlat(o.heatmap.paint,{"heatmap-weight":p?E:1/(g.max-g.min),"heatmap-color":c,"heatmap-radius":h?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),o.geojson={type:"FeatureCollection",features:r},o.heatmap.layout.visibility="visible",o}},79429:function(L,M,e){"use strict";var b=e(71828),w=e(1586),a=e(64096);L.exports=function(k,y,f,l){function t(r,i){return b.coerce(k,y,a,r,i)}var s=t("lon")||[],o=t("lat")||[],n=Math.min(s.length,o.length);n?(y._length=n,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),w(k,y,l,t,{prefix:"",cLetter:"z"})):y.visible=!1}},62474:function(L){"use strict";L.exports=function(M,e){return M.lon=e.lon,M.lat=e.lat,M.z=e.z,M}},84684:function(L,M,e){"use strict";var b=e(89298),w=e(28178).hoverPoints,a=e(28178).getExtraText;L.exports=function(k,y,f){var l=w(k,y,f);if(l){var t=l[0],s=t.cd,o=s[0].trace,n=s[t.index];if(delete t.color,"z"in n){var r=t.subplot.mockAxis;t.z=n.z,t.zLabel=b.tickText(r,r.c2l(n.z),"hover").text}return t.extraText=a(o,n,s[0].t.labels),[t]}}},93814:function(L,M,e){"use strict";L.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(b,w){for(var a=w.getMapLayers(),k=0;k<a.length;k++){var y=a[k],f=y.id;if(y.type==="symbol"&&typeof f=="string"&&f.indexOf("plotly-")===-1)return f}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(L,M,e){"use strict";var b=e(52414),w=e(77734).traceLayerPrefix;function a(y,f){this.type="densitymapbox",this.subplot=y,this.uid=f,this.sourceId="source-"+f,this.layerList=[["heatmap",w+f+"-heatmap"]],this.below=null}var k=a.prototype;k.update=function(y){var f=this.subplot,l=this.layerList,t=b(y),s=f.belowLookup["trace-"+this.uid];f.map.getSource(this.sourceId).setData(t.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(t,s),this.below=s);for(var o=0;o<l.length;o++){var n=l[o],r=n[0],i=n[1],u=t[r];f.setOptions(i,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&f.setOptions(i,"setPaintProperty",u.paint)}},k._addLayers=function(y,f){for(var l=this.subplot,t=this.layerList,s=this.sourceId,o=0;o<t.length;o++){var n=t[o],r=n[0],i=y[r];l.addLayer({type:r,id:n[1],source:s,layout:i.layout,paint:i.paint},f)}},k._removeLayers=function(){for(var y=this.subplot.map,f=this.layerList,l=f.length-1;l>=0;l--)y.removeLayer(f[l][1])},k.dispose=function(){var y=this.subplot.map;this._removeLayers(),y.removeSource(this.sourceId)},L.exports=function(y,f){var l=f[0].trace,t=new a(y,l.uid),s=t.sourceId,o=b(f),n=t.below=y.belowLookup["trace-"+l.uid];return y.map.addSource(s,{type:"geojson",data:o.geojson}),t._addLayers(o,n),t}},49789:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){for(var k=0;k<w.length;k++)w[k].i=k;b.mergeArray(a.text,w,"tx"),b.mergeArray(a.hovertext,w,"htx");var y=a.marker;if(y){b.mergeArray(y.opacity,w,"mo"),b.mergeArray(y.color,w,"mc");var f=y.line;f&&(b.mergeArray(f.color,w,"mlc"),b.mergeArrayCastPositive(f.width,w,"mlw"))}}},1285:function(L,M,e){"use strict";var b,w=e(1486),a=e(82196).line,k=e(9012),y=e(12663).axisHoverFormat,f=e(5386).fF,l=e(5386).si,t=e(18517),s=e(1426).extendFlat,o=e(7901);L.exports={x:w.x,x0:w.x0,dx:w.dx,y:w.y,y0:w.y0,dy:w.dy,xperiod:w.xperiod,yperiod:w.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:w.xperiodalignment,yperiodalignment:w.yperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),hovertext:w.hovertext,hovertemplate:f({},{keys:t.eventDataKeys}),hoverinfo:s({},k.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:l({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:w.text,textposition:w.textposition,insidetextanchor:s({},w.insidetextanchor,{dflt:"middle"}),textangle:s({},w.textangle,{dflt:0}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:w.outsidetextfont,constraintext:w.constraintext,cliponaxis:w.cliponaxis,orientation:s({},w.orientation,{}),offset:s({},w.offset,{arrayOk:!1}),width:s({},w.width,{arrayOk:!1}),marker:(b=s({},w.marker),delete b.pattern,b),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:s({},a.color,{dflt:o.defaultLine}),width:s({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:w.offsetgroup,alignmentgroup:w.alignmentgroup}},9532:function(L,M,e){"use strict";var b=e(89298),w=e(42973),a=e(49789),k=e(66279),y=e(50606).BADNUM;function f(l){return l===y?0:l}L.exports=function(l,t){var s,o,n,r,i,u,p,h,_=b.getFromId(l,t.xaxis||"x"),m=b.getFromId(l,t.yaxis||"y");t.orientation==="h"?(s=_.makeCalcdata(t,"x"),n=m.makeCalcdata(t,"y"),r=w(t,m,"y",n),i=!!t.yperiodalignment,u="y"):(s=m.makeCalcdata(t,"y"),n=_.makeCalcdata(t,"x"),r=w(t,_,"x",n),i=!!t.xperiodalignment,u="x"),o=r.vals;var d,x=Math.min(o.length,s.length),g=new Array(x);for(t._base=[],p=0;p<x;p++){s[p]<0&&(s[p]=y);var v=!1;s[p]!==y&&p+1<x&&s[p+1]!==y&&(v=!0),h=g[p]={p:o[p],s:s[p],cNext:v},t._base[p]=-.5*h.s,i&&(g[p].orig_p=n[p],g[p][u+"End"]=r.ends[p],g[p][u+"Start"]=r.starts[p]),t.ids&&(h.id=String(t.ids[p])),p===0&&(g[0].vTotal=0),g[0].vTotal+=f(h.s),h.begR=f(h.s)/f(g[0].s)}for(p=0;p<x;p++)(h=g[p]).s!==y&&(h.sumR=h.s/g[0].vTotal,h.difR=d!==void 0?h.s/d:1,d=h.s);return a(g,t),k(g,t),g}},18517:function(L){"use strict";L.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(L,M,e){"use strict";var b=e(11661).setGroupPositions;L.exports=function(w,a){var k,y,f=w._fullLayout,l=w._fullData,t=w.calcdata,s=a.xaxis,o=a.yaxis,n=[],r=[],i=[];for(y=0;y<l.length;y++){var u=l[y],p=u.orientation==="h";u.visible===!0&&u.xaxis===s._id&&u.yaxis===o._id&&u.type==="funnel"&&(k=t[y],p?i.push(k):r.push(k),n.push(k))}var h={mode:f.funnelmode,norm:f.funnelnorm,gap:f.funnelgap,groupgap:f.funnelgroupgap};for(b(w,s,o,r,h),b(w,o,s,i,h),y=0;y<n.length;y++){k=n[y];for(var _=0;_<k.length;_++)_+1<k.length&&(k[_].nextP0=k[_+1].p0,k[_].nextS0=k[_+1].s0,k[_].nextP1=k[_+1].p1,k[_].nextS1=k[_+1].s1)}}},26199:function(L,M,e){"use strict";var b=e(71828),w=e(26125),a=e(90769).handleText,k=e(67513),y=e(73927),f=e(1285),l=e(7901);L.exports={supplyDefaults:function(t,s,o,n){function r(h,_){return b.coerce(t,s,f,h,_)}if(k(t,s,n,r)){y(t,s,n,r),r("xhoverformat"),r("yhoverformat"),r("orientation",s.y&&!s.x?"v":"h"),r("offset"),r("width");var i=r("text");r("hovertext"),r("hovertemplate");var u=r("textposition");a(t,s,n,r,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition==="none"||s.texttemplate||r("textinfo",Array.isArray(i)?"text+value":"value");var p=r("marker.color",o);r("marker.line.color",l.defaultLine),r("marker.line.width"),r("connector.visible")&&(r("connector.fillcolor",function(h){var _=b.isArrayOrTypedArray(h)?"#000":h;return l.addOpacity(_,.5*l.opacity(_))}(p)),r("connector.line.width")&&(r("connector.line.color"),r("connector.line.dash")))}else s.visible=!1},crossTraceDefaults:function(t,s){var o,n;function r(u){return b.coerce(n._input,n,f,u)}if(s.funnelmode==="group")for(var i=0;i<t.length;i++)o=(n=t[i])._input,w(o,n,s,r)}}},34598:function(L){"use strict";L.exports=function(M,e){return M.x="xVal"in e?e.xVal:e.x,M.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(M.percentInitial=e.percentInitial),"percentPrevious"in e&&(M.percentPrevious=e.percentPrevious),"percentTotal"in e&&(M.percentTotal=e.percentTotal),e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),M}},63341:function(L,M,e){"use strict";var b=e(7901).opacity,w=e(95423).hoverOnBars,a=e(71828).formatPercent;L.exports=function(k,y,f,l,t){var s=w(k,y,f,l,t);if(s){var o=s.cd,n=o[0].trace,r=n.orientation==="h",i=o[s.index];s[(r?"x":"y")+"LabelVal"]=i.s,s.percentInitial=i.begR,s.percentInitialLabel=a(i.begR,1),s.percentPrevious=i.difR,s.percentPreviousLabel=a(i.difR,1),s.percentTotal=i.sumR,s.percentTotalLabel=a(i.sumR,1);var u=i.hi||n.hoverinfo,p=[];if(u&&u!=="none"&&u!=="skip"){var h=u==="all",_=u.split("+"),m=function(d){return h||_.indexOf(d)!==-1};m("percent initial")&&p.push(s.percentInitialLabel+" of initial"),m("percent previous")&&p.push(s.percentPreviousLabel+" of previous"),m("percent total")&&p.push(s.percentTotalLabel+" of total")}return s.extraText=p.join("<br>"),s.color=function(d,x){var g=d.marker,v=x.mc||g.color,T=x.mlc||g.line.color,c=x.mlw||g.line.width;return b(v)?v:b(T)&&c?T:void 0}(n,i),[s]}}},51759:function(L,M,e){"use strict";L.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(L){"use strict";L.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(L,M,e){"use strict";var b=e(71828),w=e(10440);L.exports=function(a,k,y){var f=!1;function l(o,n){return b.coerce(a,k,w,o,n)}for(var t=0;t<y.length;t++){var s=y[t];if(s.visible&&s.type==="funnel"){f=!0;break}}f&&(l("funnelmode"),l("funnelgap",.2),l("funnelgroupgap"))}},80461:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(50606).BADNUM,y=e(17295),f=e(72597).clearMinTextSize;function l(t,s,o,n){var r=[],i=[],u=n?s:o,p=n?o:s;return r[0]=u.c2p(t.s0,!0),i[0]=p.c2p(t.p0,!0),r[1]=u.c2p(t.s1,!0),i[1]=p.c2p(t.p1,!0),r[2]=u.c2p(t.nextS0,!0),i[2]=p.c2p(t.nextP0,!0),r[3]=u.c2p(t.nextS1,!0),i[3]=p.c2p(t.nextP1,!0),n?[r,i]:[i,r]}L.exports=function(t,s,o,n){var r=t._fullLayout;f("funnel",r),function(i,u,p,h){var _=u.xaxis,m=u.yaxis;w.makeTraceGroups(h,p,"trace bars").each(function(d){var x=b.select(this),g=d[0].trace,v=w.ensureSingle(x,"g","regions");if(g.connector&&g.connector.visible){var T=g.orientation==="h",c=v.selectAll("g.region").data(w.identity);c.enter().append("g").classed("region",!0),c.exit().remove();var E=c.size();c.each(function(A,C){if(C===E-1||A.cNext){var O=l(A,_,m,T),P=O[0],D=O[1],z="";P[0]!==k&&D[0]!==k&&P[1]!==k&&D[1]!==k&&P[2]!==k&&D[2]!==k&&P[3]!==k&&D[3]!==k&&(z+=T?"M"+P[0]+","+D[1]+"L"+P[2]+","+D[2]+"H"+P[3]+"L"+P[1]+","+D[1]+"Z":"M"+P[1]+","+D[1]+"L"+P[2]+","+D[3]+"V"+D[2]+"L"+P[1]+","+D[0]+"Z"),z===""&&(z="M0,0Z"),w.ensureSingle(b.select(this),"path").attr("d",z).call(a.setClipUrl,u.layerClipId,i)}})}else v.remove()})}(t,s,o,n),function(i,u,p,h){var _=u.xaxis,m=u.yaxis;w.makeTraceGroups(h,p,"trace bars").each(function(d){var x=b.select(this),g=d[0].trace,v=w.ensureSingle(x,"g","lines");if(g.connector&&g.connector.visible&&g.connector.line.width){var T=g.orientation==="h",c=v.selectAll("g.line").data(w.identity);c.enter().append("g").classed("line",!0),c.exit().remove();var E=c.size();c.each(function(A,C){if(C===E-1||A.cNext){var O=l(A,_,m,T),P=O[0],D=O[1],z="";P[3]!==void 0&&D[3]!==void 0&&(T?(z+="M"+P[0]+","+D[1]+"L"+P[2]+","+D[2],z+="M"+P[1]+","+D[1]+"L"+P[3]+","+D[2]):(z+="M"+P[1]+","+D[1]+"L"+P[2]+","+D[3],z+="M"+P[1]+","+D[0]+"L"+P[2]+","+D[2])),z===""&&(z="M0,0Z"),w.ensureSingle(b.select(this),"path").attr("d",z).call(a.setClipUrl,u.layerClipId,i)}})}else v.remove()})}(t,s,o,n),y.plot(t,s,o,n,{mode:r.funnelmode,norm:r.funnelmode,gap:r.funnelgap,groupgap:r.funnelgroupgap})}},68266:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(7901),k=e(37822).DESELECTDIM,y=e(16688),f=e(72597).resizeText,l=y.styleTextPoints;L.exports={style:function(t,s,o){var n=o||b.select(t).selectAll("g.funnellayer").selectAll("g.trace");f(t,n,"funnel"),n.style("opacity",function(r){return r[0].trace.opacity}),n.each(function(r){var i=b.select(this),u=r[0].trace;i.selectAll(".point > path").each(function(p){if(!p.isBlank){var h=u.marker;b.select(this).call(a.fill,p.mc||h.color).call(a.stroke,p.mlc||h.line.color).call(w.dashLine,h.line.dash,p.mlw||h.line.width).style("opacity",u.selectedpoints&&!p.selected?k:1)}}),l(i,u,t),i.selectAll(".regions").each(function(){b.select(this).selectAll("path").style("stroke-width",0).call(a.fill,u.connector.fillcolor)}),i.selectAll(".lines").each(function(){var p=u.connector.line;w.lineGroupStyle(b.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},86807:function(L,M,e){"use strict";var b=e(34e3),w=e(9012),a=e(27670).Y,k=e(5386).fF,y=e(5386).si,f=e(1426).extendFlat;L.exports={labels:b.labels,label0:b.label0,dlabel:b.dlabel,values:b.values,marker:{colors:b.marker.colors,line:{color:f({},b.marker.line.color,{dflt:null}),width:f({},b.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},text:b.text,hovertext:b.hovertext,scalegroup:f({},b.scalegroup,{}),textinfo:f({},b.textinfo,{flags:["label","text","value","percent"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:f({},w.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:k({},{keys:["label","color","value","text","percent"]}),textposition:f({},b.textposition,{values:["inside","none"],dflt:"inside"}),textfont:b.textfont,insidetextfont:b.insidetextfont,title:{text:b.title.text,font:b.title.font,position:f({},b.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(L,M,e){"use strict";var b=e(74875);M.name="funnelarea",M.plot=function(w,a,k,y){b.plotBasePlot(M.name,w,a,k,y)},M.clean=function(w,a,k,y){b.cleanBasePlot(M.name,w,a,k,y)}},89574:function(L,M,e){"use strict";var b=e(32354);L.exports={calc:function(w,a){return b.calc(w,a)},crossTraceCalc:function(w){b.crossTraceCalc(w,{type:"funnelarea"})}}},86282:function(L,M,e){"use strict";var b=e(71828),w=e(86807),a=e(27670).c,k=e(90769).handleText,y=e(37434).handleLabelsAndValues;L.exports=function(f,l,t,s){function o(d,x){return b.coerce(f,l,w,d,x)}var n=o("labels"),r=o("values"),i=y(n,r),u=i.len;if(l._hasLabels=i.hasLabels,l._hasValues=i.hasValues,!l._hasLabels&&l._hasValues&&(o("label0"),o("dlabel")),u){l._length=u,o("marker.line.width")&&o("marker.line.color",s.paper_bgcolor),o("marker.colors"),o("scalegroup");var p,h=o("text"),_=o("texttemplate");if(_||(p=o("textinfo",Array.isArray(h)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),_||p&&p!=="none"){var m=o("textposition");k(f,l,s,o,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(l,s,o),o("title.text")&&(o("title.position"),b.coerceFont(o,"title.font",s.font)),o("aspectratio"),o("baseratio")}else l.visible=!1}},10421:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(L,M,e){"use strict";var b=e(92774).hiddenlabels;L.exports={hiddenlabels:b,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(L,M,e){"use strict";var b=e(71828),w=e(80097);L.exports=function(a,k){function y(f,l){return b.coerce(a,k,w,f,l)}y("hiddenlabels"),y("funnelareacolorway",k.colorway),y("extendfunnelareacolors")}},79187:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(71828),k=a.strScale,y=a.strTranslate,f=e(63893),l=e(17295).toMoveInsideBar,t=e(72597),s=t.recordMinTextSize,o=t.clearMinTextSize,n=e(53581),r=e(14575),i=r.attachFxHandlers,u=r.determineInsideTextFont,p=r.layoutAreas,h=r.prerenderTitles,_=r.positionTitleOutside,m=r.formatSliceLabel;function d(x,g){return"l"+(g[0]-x[0])+","+(g[1]-x[1])}L.exports=function(x,g){var v=x._context.staticPlot,T=x._fullLayout;o("funnelarea",T),h(g,x),p(g,T._size),a.makeTraceGroups(T._funnelarealayer,g,"trace").each(function(c){var E=b.select(this),A=c[0],C=A.trace;(function(O){if(O.length){var P=O[0],D=P.trace,z=D.aspectratio,V=D.baseratio;V>.999&&(V=.999);var F,W,B,U=Math.pow(V,2),H=P.vTotal,q=H,ee=H*U/(1-U)/H,K=[];for(K.push(Ae()),W=O.length-1;W>-1;W--)if(!(B=O[W]).hidden){var J=B.v/q;ee+=J,K.push(Ae())}var Z=1/0,$=-1/0;for(W=0;W<K.length;W++)F=K[W],Z=Math.min(Z,F[1]),$=Math.max($,F[1]);for(W=0;W<K.length;W++)K[W][1]-=($+Z)/2;var ne=K[K.length-1][0],ae=P.r,oe=($-Z)/2,se=ae/ne,ce=ae/oe*z;for(P.r=ce*oe,W=0;W<K.length;W++)K[W][0]*=se,K[W][1]*=ce;var me,xe,ve=[-(F=K[0])[0],F[1]],fe=[F[0],F[1]],pe=0;for(W=O.length-1;W>-1;W--)if(!(B=O[W]).hidden){var Le=K[pe+=1][0],ye=K[pe][1];B.TL=[-Le,ye],B.TR=[Le,ye],B.BL=ve,B.BR=fe,B.pxmid=(me=B.TR,xe=B.BR,[.5*(me[0]+xe[0]),.5*(me[1]+xe[1])]),ve=B.TL,fe=B.TR}}function Ae(){var Me,ke={x:Me=Math.sqrt(ee),y:-Me};return[ke.x,ke.y]}})(c),E.each(function(){var O=b.select(this).selectAll("g.slice").data(c);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(D,z){if(D.hidden)b.select(this).selectAll("path,g").remove();else{D.pointNumber=D.i,D.curveNumber=C.index;var V=A.cx,F=A.cy,W=b.select(this),B=W.selectAll("path.surface").data([D]);B.enter().append("path").classed("surface",!0).style({"pointer-events":v?"none":"all"}),W.call(i,x,c);var U="M"+(V+D.TR[0])+","+(F+D.TR[1])+d(D.TR,D.BR)+d(D.BR,D.BL)+d(D.BL,D.TL)+"Z";B.attr("d",U),m(x,D,A);var H=n.castOption(C.textposition,D.pts),q=W.selectAll("g.slicetext").data(D.text&&H!=="none"?[0]:[]);q.enter().append("g").classed("slicetext",!0),q.exit().remove(),q.each(function(){var ee=a.ensureSingle(b.select(this),"text","",function(se){se.attr("data-notex",1)}),K=a.ensureUniformFontSize(x,u(C,D,T.font));ee.text(D.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,K).call(f.convertToTspans,x);var J,Z,$,ne=w.bBox(ee.node()),ae=Math.min(D.BL[1],D.BR[1])+F,oe=Math.max(D.TL[1],D.TR[1])+F;Z=Math.max(D.TL[0],D.BL[0])+V,$=Math.min(D.TR[0],D.BR[0])+V,(J=l(Z,$,ae,oe,ne,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=K.size,s(C.type,J,T),c[z].transform=J,a.setTransormAndDisplay(ee,J)})}});var P=b.select(this).selectAll("g.titletext").data(C.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var D=a.ensureSingle(b.select(this),"text","",function(F){F.attr("data-notex",1)}),z=C.title.text;C._meta&&(z=a.templateString(z,C._meta)),D.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,C.title.font).call(f.convertToTspans,x);var V=_(A,T._size);D.attr("transform",y(V.x,V.y)+k(Math.min(1,V.scale))+y(V.tx,V.ty))})})})}},71858:function(L,M,e){"use strict";var b=e(39898),w=e(63463),a=e(72597).resizeText;L.exports=function(k){var y=k._fullLayout._funnelarealayer.selectAll(".trace");a(k,y,"funnelarea"),y.each(function(f){var l=f[0].trace,t=b.select(this);t.style({opacity:l.opacity}),t.selectAll("path.surface").each(function(s){b.select(this).call(w,s,l)})})}},21606:function(L,M,e){"use strict";var b=e(82196),w=e(9012),a=e(41940),k=e(12663).axisHoverFormat,y=e(5386).fF,f=e(5386).si,l=e(50693),t=e(1426).extendFlat;L.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},b.x,{impliedEdits:{xtype:"array"}}),x0:t({},b.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},b.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},b.y,{impliedEdits:{ytype:"array"}}),y0:t({},b.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},b.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},b.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},b.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},b.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},b.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},b.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},b.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z",1),hovertemplate:y(),texttemplate:f({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},w.showlegend,{dflt:!1})},{transforms:void 0},l("",{cLetter:"z",autoColorDflt:!1}))},90757:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(89298),k=e(42973),y=e(17562),f=e(78803),l=e(68296),t=e(4742),s=e(824),o=e(43907),n=e(70769),r=e(50606).BADNUM;function i(u){for(var p=[],h=u.length,_=0;_<h;_++){var m=u[_];m!==r&&p.push(m)}return p}L.exports=function(u,p){var h,_,m,d,x,g,v,T,c,E,A,C=a.getFromId(u,p.xaxis||"x"),O=a.getFromId(u,p.yaxis||"y"),P=b.traceIs(p,"contour"),D=b.traceIs(p,"histogram"),z=b.traceIs(p,"gl2d"),V=P?"best":p.zsmooth;if(C._minDtick=0,O._minDtick=0,D)d=(A=y(u,p)).orig_x,h=A.x,_=A.x0,m=A.dx,T=A.orig_y,x=A.y,g=A.y0,v=A.dy,c=A.z;else{var F=p.z;w.isArray1D(F)?(l(p,C,O,"x","y",["z"]),h=p._x,x=p._y,F=p._z):(d=p.x?C.makeCalcdata(p,"x"):[],T=p.y?O.makeCalcdata(p,"y"):[],h=k(p,C,"x",d).vals,x=k(p,O,"y",T).vals,p._x=h,p._y=x),_=p.x0,m=p.dx,g=p.y0,v=p.dy,c=t(F,p,C,O)}function W(oe){V=p._input.zsmooth=p.zsmooth=!1,w.warn('cannot use zsmooth: "fast": '+oe)}if((C.rangebreaks||O.rangebreaks)&&(c=function(oe,se,ce){for(var me=[],xe=-1,ve=0;ve<ce.length;ve++)if(se[ve]!==r){me[++xe]=[];for(var fe=0;fe<ce[ve].length;fe++)oe[fe]!==r&&me[xe].push(ce[ve][fe])}return me}(h,x,c),D||(h=i(h),x=i(x),p._x=h,p._y=x)),D||!P&&!p.connectgaps||(p._emptypoints=o(c),s(c,p._emptypoints)),V==="fast"){if(C.type==="log"||O.type==="log")W("log axis found");else if(!D){if(h.length){var B=(h[h.length-1]-h[0])/(h.length-1),U=Math.abs(B/100);for(E=0;E<h.length-1;E++)if(Math.abs(h[E+1]-h[E]-B)>U){W("x scale is not linear");break}}if(x.length&&V==="fast"){var H=(x[x.length-1]-x[0])/(x.length-1),q=Math.abs(H/100);for(E=0;E<x.length-1;E++)if(Math.abs(x[E+1]-x[E]-H)>q){W("y scale is not linear");break}}}}var ee=w.maxRowLength(c),K=p.xtype==="scaled"?"":h,J=n(p,K,_,m,ee,C),Z=p.ytype==="scaled"?"":x,$=n(p,Z,g,v,c.length,O);z||(p._extremes[C._id]=a.findExtremes(C,J),p._extremes[O._id]=a.findExtremes(O,$));var ne={x:J,y:$,z:c,text:p._text||p.text,hovertext:p._hovertext||p.hovertext};if(p.xperiodalignment&&d&&(ne.orig_x=d),p.yperiodalignment&&T&&(ne.orig_y=T),K&&K.length===J.length-1&&(ne.xCenter=K),Z&&Z.length===$.length-1&&(ne.yCenter=Z),D&&(ne.xRanges=A.xRanges,ne.yRanges=A.yRanges,ne.pts=A.pts),P||f(u,p,{vals:c,cLetter:"z"}),P&&p.contours&&p.contours.coloring==="heatmap"){var ae={type:p.type==="contour"?"heatmap":"histogram2d",xcalendar:p.xcalendar,ycalendar:p.ycalendar};ne.xfill=n(ae,K,_,m,ee,C),ne.yfill=n(ae,Z,g,v,c.length,O)}return[ne]}},4742:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(50606).BADNUM;L.exports=function(k,y,f,l){var t,s,o,n,r,i;function u(x){if(b(x))return+x}if(y&&y.transpose){for(t=0,r=0;r<k.length;r++)t=Math.max(t,k[r].length);if(t===0)return!1;o=function(x){return x.length},n=function(x,g,v){return(x[v]||[])[g]}}else t=k.length,o=function(x,g){return x[g].length},n=function(x,g,v){return(x[g]||[])[v]};var p=function(x,g,v){return g===a||v===a?a:n(x,g,v)};function h(x){if(y&&y.type!=="carpet"&&y.type!=="contourcarpet"&&x&&x.type==="category"&&y["_"+x._id.charAt(0)].length){var g=x._id.charAt(0),v={},T=y["_"+g+"CategoryMap"]||y[g];for(r=0;r<T.length;r++)v[T[r]]=r;return function(c){var E=v[x._categories[c]];return E+1?E:a}}return w.identity}var _=h(f),m=h(l);l&&l.type==="category"&&(t=l._categories.length);var d=new Array(t);for(r=0;r<t;r++)for(s=f&&f.type==="category"?f._categories.length:o(k,r),d[r]=new Array(s),i=0;i<s;i++)d[r][i]=u(p(k,m(r),_(i)));return d}},61243:function(L){"use strict";L.exports={min:"zmin",max:"zmax"}},68296:function(L,M,e){"use strict";var b=e(71828),w=e(50606).BADNUM,a=e(42973);L.exports=function(k,y,f,l,t,s){var o=k._length,n=y.makeCalcdata(k,l),r=f.makeCalcdata(k,t);n=a(k,y,l,n).vals,r=a(k,f,t,r).vals;var i,u,p,h,_=k.text,m=_!==void 0&&b.isArray1D(_),d=k.hovertext,x=d!==void 0&&b.isArray1D(d),g=b.distinctVals(n),v=g.vals,T=b.distinctVals(r),c=T.vals,E=[],A=c.length,C=v.length;for(i=0;i<s.length;i++)E[i]=b.init2dArray(A,C);m&&(p=b.init2dArray(A,C)),x&&(h=b.init2dArray(A,C));var O=b.init2dArray(A,C);for(i=0;i<o;i++)if(n[i]!==w&&r[i]!==w){var P=b.findBin(n[i]+g.minDiff/2,v),D=b.findBin(r[i]+T.minDiff/2,c);for(u=0;u<s.length;u++){var z=k[s[u]];E[u][D][P]=z[i],O[D][P]=i}m&&(p[D][P]=_[i]),x&&(h[D][P]=d[i])}for(k["_"+l]=v,k["_"+t]=c,u=0;u<s.length;u++)k["_"+s[u]]=E[u];m&&(k._text=p),x&&(k._hovertext=h),y&&y.type==="category"&&(k["_"+l+"CategoryMap"]=v.map(function(V){return y._categories[V]})),f&&f.type==="category"&&(k["_"+t+"CategoryMap"]=c.map(function(V){return f._categories[V]})),k._after2before=O}},76382:function(L,M,e){"use strict";var b=e(71828),w=e(67684),a=e(58623),k=e(73927),y=e(49901),f=e(1586),l=e(21606);L.exports=function(t,s,o,n){function r(i,u){return b.coerce(t,s,l,i,u)}w(t,s,r,n)?(k(t,s,n,r),r("xhoverformat"),r("yhoverformat"),r("text"),r("hovertext"),r("hovertemplate"),a(r,n),y(t,s,r,n),r("hoverongaps"),r("connectgaps",b.isArray1D(s.z)&&s.zsmooth!==!1),f(t,s,n,r,{prefix:"",cLetter:"z"})):s.visible=!1}},43907:function(L,M,e){"use strict";var b=e(71828).maxRowLength;L.exports=function(w){var a,k,y,f,l,t,s,o,n=[],r={},i=[],u=w[0],p=[],h=[0,0,0],_=b(w);for(k=0;k<w.length;k++)for(a=p,p=u,u=w[k+1]||[],y=0;y<_;y++)p[y]===void 0&&((t=(p[y-1]!==void 0?1:0)+(p[y+1]!==void 0?1:0)+(a[y]!==void 0?1:0)+(u[y]!==void 0?1:0))?(k===0&&t++,y===0&&t++,k===w.length-1&&t++,y===p.length-1&&t++,t<4&&(r[[k,y]]=[k,y,t]),n.push([k,y,t])):i.push([k,y]));for(;i.length;){for(s={},o=!1,l=i.length-1;l>=0;l--)(t=((r[[(k=(f=i[l])[0])-1,y=f[1]]]||h)[2]+(r[[k+1,y]]||h)[2]+(r[[k,y-1]]||h)[2]+(r[[k,y+1]]||h)[2])/20)&&(s[f]=[k,y,t],i.splice(l,1),o=!0);if(!o)throw"findEmpties iterated with no new neighbors";for(f in s)r[f]=s[f],n.push(s[f])}return n.sort(function(m,d){return d[2]-m[2]})}},46248:function(L,M,e){"use strict";var b=e(30211),w=e(71828),a=e(89298),k=e(21081).extractOpts;L.exports=function(y,f,l,t,s){s||(s={});var o,n,r,i,u=s.isContour,p=y.cd[0],h=p.trace,_=y.xa,m=y.ya,d=p.x,x=p.y,g=p.z,v=p.xCenter,T=p.yCenter,c=p.zmask,E=h.zhoverformat,A=d,C=x;if(y.index!==!1){try{r=Math.round(y.index[1]),i=Math.round(y.index[0])}catch{return void w.error("Error hovering on heatmap, pointNumber must be [row,col], found:",y.index)}if(r<0||r>=g[0].length||i<0||i>g.length)return}else{if(b.inbox(f-d[0],f-d[d.length-1],0)>0||b.inbox(l-x[0],l-x[x.length-1],0)>0)return;if(u){var O;for(A=[2*d[0]-d[1]],O=1;O<d.length;O++)A.push((d[O]+d[O-1])/2);for(A.push([2*d[d.length-1]-d[d.length-2]]),C=[2*x[0]-x[1]],O=1;O<x.length;O++)C.push((x[O]+x[O-1])/2);C.push([2*x[x.length-1]-x[x.length-2]])}r=Math.max(0,Math.min(A.length-2,w.findBin(f,A))),i=Math.max(0,Math.min(C.length-2,w.findBin(l,C)))}var P,D,z=_.c2p(d[r]),V=_.c2p(d[r+1]),F=m.c2p(x[i]),W=m.c2p(x[i+1]);u?(P=p.orig_x||d,D=p.orig_y||x,V=z,o=P[r],W=F,n=D[i]):(P=p.orig_x||v||d,D=p.orig_y||T||x,o=v?P[r]:(P[r]+P[r+1])/2,n=T?D[i]:(D[i]+D[i+1])/2,_&&_.type==="category"&&(o=d[r]),m&&m.type==="category"&&(n=x[i]),h.zsmooth&&(z=V=_.c2p(o),F=W=m.c2p(n)));var B=g[i][r];if(c&&!c[i][r]&&(B=void 0),B!==void 0||h.hoverongaps){var U;Array.isArray(p.hovertext)&&Array.isArray(p.hovertext[i])?U=p.hovertext[i][r]:Array.isArray(p.text)&&Array.isArray(p.text[i])&&(U=p.text[i][r]);var H=k(h),q={type:"linear",range:[H.min,H.max],hoverformat:E,_separators:_._separators,_numFormat:_._numFormat},ee=a.tickText(q,B,"hover").text;return[w.extendFlat(y,{index:h._after2before?h._after2before[i][r]:[i,r],distance:y.maxHoverDistance,spikeDistance:y.maxSpikeDistance,x0:z,x1:V,y0:F,y1:W,xLabelVal:o,yLabelVal:n,zLabelVal:B,zLabel:ee,text:U})]}}},92165:function(L,M,e){"use strict";L.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(L,M,e){"use strict";var b=e(71828),w=[[-1,0],[1,0],[0,-1],[0,1]];function a(y){return .5-.25*Math.min(1,.5*y)}function k(y,f,l){var t,s,o,n,r,i,u,p,h,_,m,d,x,g=0;for(n=0;n<f.length;n++){for(s=(t=f[n])[0],o=t[1],m=y[s][o],_=0,h=0,r=0;r<4;r++)(u=y[s+(i=w[r])[0]])&&(p=u[o+i[1]])!==void 0&&(_===0?d=x=p:(d=Math.min(d,p),x=Math.max(x,p)),h++,_+=p);if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";y[s][o]=_/h,m===void 0?h<4&&(g=1):(y[s][o]=(1+l)*y[s][o]-l*m,x>d&&(g=Math.max(g,Math.abs(y[s][o]-m)/(x-d))))}return g}L.exports=function(y,f){var l,t=1;for(k(y,f),l=0;l<f.length&&!(f[l][2]<4);l++);for(f=f.slice(l),l=0;l<100&&t>.01;l++)t=k(y,f,a(t));return t>.01&&b.log("interp2d didn't converge quickly",t),y}},58623:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){w("texttemplate");var k=b.extendFlat({},a.font,{color:"auto",size:"auto"});b.coerceFont(w,"textfont",k)}},70769:function(L,M,e){"use strict";var b=e(73972),w=e(71828).isArrayOrTypedArray;L.exports=function(a,k,y,f,l,t){var s,o,n,r=[],i=b.traceIs(a,"contour"),u=b.traceIs(a,"histogram"),p=b.traceIs(a,"gl2d");if(w(k)&&k.length>1&&!u&&t.type!=="category"){var h=k.length;if(!(h<=l))return i?k.slice(0,l):k.slice(0,l+1);if(i||p)r=k.slice(0,l);else if(l===1)r=[k[0]-.5,k[0]+.5];else{for(r=[1.5*k[0]-.5*k[1]],n=1;n<h;n++)r.push(.5*(k[n-1]+k[n]));r.push(1.5*k[h-1]-.5*k[h-2])}if(h<l){var _=r[r.length-1],m=_-r[r.length-2];for(n=h;n<l;n++)_+=m,r.push(_)}}else{var d=a[t._id.charAt(0)+"calendar"];for(s=u?t.r2c(y,0,d):w(k)&&k.length===1?k[0]:y===void 0?0:(t.type==="log"?t.d2c:t.r2c)(y,0,d),o=f||1,n=i||p?0:-.5;n<l;n++)r.push(s+o*n)}return r}},50347:function(L,M,e){"use strict";var b=e(39898),w=e(84267),a=e(73972),k=e(91424),y=e(89298),f=e(71828),l=e(63893),t=e(8225),s=e(7901),o=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,r=e(77922),i=e(18783).LINE_SPACING,u="heatmap-label";function p(x){return x.selectAll("g."+u)}function h(x){p(x).remove()}function _(x,g){var v=g.length-2,T=f.constrain(f.findBin(x,g),0,v),c=g[T],E=g[T+1],A=f.constrain(T+(x-c)/(E-c)-.5,0,v),C=Math.round(A),O=Math.abs(A-C);return A&&A!==v&&O?{bin0:C,frac:O,bin1:Math.round(C+O/(A-C))}:{bin0:C,bin1:C,frac:0}}function m(x,g){var v=g.length-1,T=f.constrain(f.findBin(x,g),0,v),c=g[T],E=(x-c)/(g[T+1]-c)||0;return E<=0?{bin0:T,bin1:T,frac:0}:E<.5?{bin0:T,bin1:T+1,frac:E}:{bin0:T+1,bin1:T,frac:1-E}}function d(x,g,v){x[g]=v[0],x[g+1]=v[1],x[g+2]=v[2],x[g+3]=Math.round(255*v[3])}L.exports=function(x,g,v,T){var c=g.xaxis,E=g.yaxis;f.makeTraceGroups(T,v,"hm").each(function(A){var C,O,P,D,z,V,F,W,B=b.select(this),U=A[0],H=U.trace,q=H.xgap||0,ee=H.ygap||0,K=U.z,J=U.x,Z=U.y,$=U.xCenter,ne=U.yCenter,ae=a.traceIs(H,"contour"),oe=ae?"best":H.zsmooth,se=K.length,ce=f.maxRowLength(K),me=!1,xe=!1;for(V=0;C===void 0&&V<J.length-1;)C=c.c2p(J[V]),V++;for(V=J.length-1;O===void 0&&V>0;)O=c.c2p(J[V]),V--;for(O<C&&(P=O,O=C,C=P,me=!0),V=0;D===void 0&&V<Z.length-1;)D=E.c2p(Z[V]),V++;for(V=Z.length-1;z===void 0&&V>0;)z=E.c2p(Z[V]),V--;if(z<D&&(P=D,D=z,z=P,xe=!0),ae&&($=J,ne=Z,J=U.xfill,Z=U.yfill),oe!=="fast"){var ve=oe==="best"?0:.5;C=Math.max(-ve*c._length,C),O=Math.min((1+ve)*c._length,O),D=Math.max(-ve*E._length,D),z=Math.min((1+ve)*E._length,z)}var fe,pe,Le=Math.round(O-C),ye=Math.round(z-D);if(Le<=0||ye<=0)return B.selectAll("image").data([]).exit().remove(),void h(B);oe==="fast"?(fe=ce,pe=se):(fe=Le,pe=ye);var Ae=document.createElement("canvas");Ae.width=fe,Ae.height=pe;var Me,ke,te=Ae.getContext("2d"),ue=n(H,{noNumericCheck:!0,returnArray:!0});oe==="fast"?(Me=me?function(sr){return ce-1-sr}:f.identity,ke=xe?function(sr){return se-1-sr}:f.identity):(Me=function(sr){return f.constrain(Math.round(c.c2p(J[sr])-C),0,Le)},ke=function(sr){return f.constrain(Math.round(E.c2p(Z[sr])-D),0,ye)});var ge,we,Ee,Be,Re=ke(0),je=[Re,Re],he=me?0:1,_e=xe?0:1,Te=0,Fe=0,Ye=0,Ge=0;function ot(sr,xr){if(sr!==void 0){var kr=ue(sr);return kr[0]=Math.round(kr[0]),kr[1]=Math.round(kr[1]),kr[2]=Math.round(kr[2]),Te+=xr,Fe+=kr[0]*xr,Ye+=kr[1]*xr,Ge+=kr[2]*xr,kr}return[0,0,0,0]}function st(sr,xr,kr,Qt){var bn=sr[kr.bin0];if(bn===void 0)return ot(void 0,1);var Dn,Pn=sr[kr.bin1],qn=xr[kr.bin0],Qn=xr[kr.bin1],Jn=Pn-bn||0,nr=qn-bn||0;return Dn=Pn===void 0?Qn===void 0?0:qn===void 0?2*(Qn-bn):2*(2*Qn-qn-bn)/3:Qn===void 0?qn===void 0?0:2*(2*bn-Pn-qn)/3:qn===void 0?2*(2*Qn-Pn-bn)/3:Qn+bn-Pn-qn,ot(bn+kr.frac*Jn+Qt.frac*(nr+kr.frac*Dn))}if(oe){var ht,xt=0;try{ht=new Uint8Array(fe*pe*4)}catch{ht=new Array(fe*pe*4)}if(oe==="best"){var Ct,St,kt,Nt=$||J,Dt=ne||Z,Et=new Array(Nt.length),Wt=new Array(Dt.length),Ht=new Array(Le),Ke=$?m:_,$e=ne?m:_;for(V=0;V<Nt.length;V++)Et[V]=Math.round(c.c2p(Nt[V])-C);for(V=0;V<Dt.length;V++)Wt[V]=Math.round(E.c2p(Dt[V])-D);for(V=0;V<Le;V++)Ht[V]=Ke(V,Et);for(F=0;F<ye;F++)for(St=K[(Ct=$e(F,Wt)).bin0],kt=K[Ct.bin1],V=0;V<Le;V++,xt+=4)d(ht,xt,Be=st(St,kt,Ht[V],Ct))}else for(F=0;F<se;F++)for(Ee=K[F],je=ke(F),V=0;V<ce;V++)Be=ot(Ee[V],1),d(ht,xt=4*(je*ce+Me(V)),Be);var Ue=te.createImageData(fe,pe);try{Ue.data.set(ht)}catch{var nt=Ue.data,ct=nt.length;for(F=0;F<ct;F++)nt[F]=ht[F]}te.putImageData(Ue,0,0)}else{var Oe=Math.floor(q/2),Ne=Math.floor(ee/2);for(F=0;F<se;F++)if(Ee=K[F],je.reverse(),je[_e]=ke(F+1),je[0]!==je[1]&&je[0]!==void 0&&je[1]!==void 0)for(ge=[we=Me(0),we],V=0;V<ce;V++)ge.reverse(),ge[he]=Me(V+1),ge[0]!==ge[1]&&ge[0]!==void 0&&ge[1]!==void 0&&(Be=ot(Ee[V],(ge[1]-ge[0])*(je[1]-je[0])),te.fillStyle="rgba("+Be.join(",")+")",te.fillRect(ge[0]+Oe,je[0]+Ne,ge[1]-ge[0]-q,je[1]-je[0]-ee))}Fe=Math.round(Fe/Te),Ye=Math.round(Ye/Te),Ge=Math.round(Ge/Te);var Qe=w("rgb("+Fe+","+Ye+","+Ge+")");x._hmpixcount=(x._hmpixcount||0)+Te,x._hmlumcount=(x._hmlumcount||0)+Te*Qe.getLuminance();var ut=B.selectAll("image").data(A);ut.enter().append("svg:image").attr({xmlns:r.svg,preserveAspectRatio:"none"}),ut.attr({height:ye,width:Le,x:C,y:D,"xlink:href":Ae.toDataURL("image/png")}),h(B);var pt=H.texttemplate;if(pt){var wt=o(H),Lt={type:"linear",range:[wt.min,wt.max],_separators:c._separators,_numFormat:c._numFormat},It=H.type==="histogram2dcontour",yt=H.type==="contour",Rt=yt?se-1:se,bt=yt?1:0,Pt=yt?ce-1:ce,Bt=[];for(V=yt?1:0;V<Rt;V++){var Zt;if(yt)Zt=U.y[V];else if(It){if(V===0||V===se-1)continue;Zt=U.y[V]}else if(U.yCenter)Zt=U.yCenter[V];else{if(V+1===se&&U.y[V+1]===void 0)continue;Zt=(U.y[V]+U.y[V+1])/2}var Yt=Math.round(E.c2p(Zt));if(!(0>Yt||Yt>E._length))for(F=bt;F<Pt;F++){var Kt;if(yt)Kt=U.x[F];else if(It){if(F===0||F===ce-1)continue;Kt=U.x[F]}else if(U.xCenter)Kt=U.xCenter[F];else{if(F+1===ce&&U.x[F+1]===void 0)continue;Kt=(U.x[F]+U.x[F+1])/2}var tn=Math.round(c.c2p(Kt));if(!(0>tn||tn>c._length)){var on=t({x:Kt,y:Zt},H,x._fullLayout);on.x=Kt,on.y=Zt;var _n=U.z[V][F];_n===void 0?(on.z="",on.zLabel=""):(on.z=_n,on.zLabel=y.tickText(Lt,_n,"hover").text);var fn=U.text&&U.text[V]&&U.text[V][F];fn!==void 0&&fn!==!1||(fn=""),on.text=fn;var Sn=f.texttemplateString(pt,on,x._fullLayout._d3locale,on,H._meta||{});if(Sn){var Xn=Sn.split("<br>"),An=Xn.length,un=0;for(W=0;W<An;W++)un=Math.max(un,Xn[W].length);Bt.push({l:An,c:un,t:Sn,x:tn,y:Yt,z:_n})}}}}var Tn=H.textfont,gn=Tn.family,dn=Tn.size,Rn=x._fullLayout.font.size;if(!dn||dn==="auto"){var In=1/0,Hn=1/0,Yn=0,Gn=0;for(W=0;W<Bt.length;W++){var cr=Bt[W];if(Yn=Math.max(Yn,cr.l),Gn=Math.max(Gn,cr.c),W<Bt.length-1){var ir=Bt[W+1],Mr=Math.abs(ir.x-cr.x),gr=Math.abs(ir.y-cr.y);Mr&&(In=Math.min(In,Mr)),gr&&(Hn=Math.min(Hn,gr))}}isFinite(In)&&isFinite(Hn)?(In-=q,Hn-=ee,In/=Gn,Hn/=Yn,In/=i/2,Hn/=i,dn=Math.min(Math.floor(In),Math.floor(Hn),Rn)):dn=Rn}if(dn<=0||!isFinite(dn))return;p(B).data(Bt).enter().append("g").classed(u,1).append("text").attr("text-anchor","middle").each(function(sr){var xr=b.select(this),kr=Tn.color;kr&&kr!=="auto"||(kr=s.contrast("rgba("+ue(sr.z).join()+")")),xr.attr("data-notex",1).call(l.positionText,function(Qt){return Qt.x}(sr),function(Qt){return Qt.y-dn*(Qt.l*i/2-1)}(sr)).call(k.font,gn,dn,kr).text(sr.t).call(l.convertToTspans,x)})}})}},70035:function(L,M,e){"use strict";var b=e(39898);L.exports=function(w){b.select(w).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},49901:function(L){"use strict";L.exports=function(M,e,b){b("zsmooth")===!1&&(b("xgap"),b("ygap")),b("zhoverformat")}},67684:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(73972);function k(y,f){var l=f(y);return(l?f(y+"type","array"):"scaled")==="scaled"&&(f(y+"0"),f("d"+y)),l}L.exports=function(y,f,l,t,s,o){var n,r,i=l("z");if(s=s||"x",o=o||"y",i===void 0||!i.length)return 0;if(w.isArray1D(y.z)){n=l(s),r=l(o);var u=w.minRowLength(n),p=w.minRowLength(r);if(u===0||p===0)return 0;f._length=Math.min(u,p,i.length)}else{if(n=k(s,l),r=k(o,l),!function(h){for(var _,m=!0,d=!1,x=!1,g=0;g<h.length;g++){if(_=h[g],!w.isArrayOrTypedArray(_)){m=!1;break}_.length>0&&(d=!0);for(var v=0;v<_.length;v++)if(b(_[v])){x=!0;break}}return m&&d&&x}(i))return 0;l("transpose"),f._length=null}return y.type==="heatmapgl"||a.getComponentMethod("calendars","handleTraceDefaults")(y,f,[s,o],t),!0}},16063:function(L,M,e){"use strict";for(var b=e(21606),w=e(50693),a=e(1426).extendFlat,k=e(30962).overrideAll,y=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],f={},l=0;l<y.length;l++){var t=y[l];f[t]=b[t]}f.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(f,w("",{cLetter:"z",autoColorDflt:!1})),L.exports=k(f,"calc","nested")},59560:function(L,M,e){"use strict";var b=e(9330).gl_heatmap2d,w=e(89298),a=e(78614);function k(f,l){this.scene=f,this.uid=l,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=b(f.glplot,this.options),this.heatmap._trace=this}var y=k.prototype;y.handlePick=function(f){var l=this.options,t=l.shape,s=f.pointId,o=s%t[0],n=Math.floor(s/t[0]),r=s;return{trace:this,dataCoord:f.dataCoord,traceCoord:[l.x[o],l.y[n],l.z[r]],textLabel:this.textLabels[s],name:this.name,pointIndex:[n,o],hoverinfo:this.hoverinfo}},y.update=function(f,l){var t=l[0];this.index=f.index,this.name=f.name,this.hoverinfo=f.hoverinfo;var s=t.z;this.options.z=[].concat.apply([],s);var o=s[0].length,n=s.length;this.options.shape=[o,n],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=f.zsmooth;var r=function(_){for(var m=_.colorscale,d=_.zmin,x=_.zmax,g=m.length,v=new Array(g),T=new Array(4*g),c=0;c<g;c++){var E=m[c],A=a(E[1]);v[c]=d+E[0]*(x-d);for(var C=0;C<4;C++)T[4*c+C]=A[C]}return{colorLevels:v,colorValues:T}}(f);this.options.colorLevels=r.colorLevels,this.options.colorValues=r.colorValues,this.textLabels=[].concat.apply([],f.text),this.heatmap.update(this.options);var i,u,p=this.scene.xaxis,h=this.scene.yaxis;f.zsmooth===!1&&(i={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),f._extremes[p._id]=w.findExtremes(p,t.x,i),f._extremes[h._id]=w.findExtremes(h,t.y,u)},y.dispose=function(){this.heatmap.dispose()},L.exports=function(f,l,t){var s=new k(f,l.uid);return s.update(l,t),s}},19600:function(L,M,e){"use strict";var b=e(71828),w=e(67684),a=e(1586),k=e(16063);L.exports=function(y,f,l,t){function s(o,n){return b.coerce(y,f,k,o,n)}w(y,f,s,t)?(s("text"),s("zsmooth"),a(y,f,t,s,{prefix:"",cLetter:"z"})):f.visible=!1}},3325:function(L,M,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),L.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(L,M,e){"use strict";var b=e(1486),w=e(12663).axisHoverFormat,a=e(5386).fF,k=e(5386).si,y=e(41940),f=e(17656),l=e(72406),t=e(1426).extendFlat;L.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:w("x"),yhoverformat:w("y"),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),orientation:b.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:f("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:f("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:l.eventDataKeys}),texttemplate:k({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},b.textposition,{arrayOk:!1}),textfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:b.insidetextanchor,textangle:b.textangle,cliponaxis:b.cliponaxis,constraintext:b.constraintext,marker:b.marker,offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,selected:b.selected,unselected:b.unselected,_deprecated:{bardir:b._deprecated.bardir}}},42174:function(L){"use strict";L.exports=function(M,e){for(var b=M.length,w=0,a=0;a<b;a++)e[a]?(M[a]/=e[a],w+=M[a]):M[a]=null;return w}},17656:function(L){"use strict";L.exports=function(M,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(L,M,e){"use strict";var b=e(92770);L.exports={count:function(w,a,k){return k[w]++,1},sum:function(w,a,k,y){var f=y[a];return b(f)?(f=Number(f),k[w]+=f,f):0},avg:function(w,a,k,y,f){var l=y[a];return b(l)&&(l=Number(l),k[w]+=l,f[w]++),0},min:function(w,a,k,y){var f=y[a];if(b(f)){if(f=Number(f),!b(k[w]))return k[w]=f,f;if(k[w]>f){var l=f-k[w];return k[w]=f,l}}return 0},max:function(w,a,k,y){var f=y[a];if(b(f)){if(f=Number(f),!b(k[w]))return k[w]=f,f;if(k[w]<f){var l=f-k[w];return k[w]=f,l}}return 0}}},40965:function(L,M,e){"use strict";var b=e(50606),w=b.ONEAVGYEAR,a=b.ONEAVGMONTH,k=b.ONEDAY,y=b.ONEHOUR,f=b.ONEMIN,l=b.ONESEC,t=e(89298).tickIncrement;function s(i,u,p,h){if(i*u<=0)return 1/0;for(var _=Math.abs(u-i),m=p.type==="date",d=o(_,m),x=0;x<10;x++){var g=o(80*d,m);if(d===g||!n(g,i,u,m,p,h))break;d=g}return d}function o(i,u){return u&&i>l?i>k?i>1.1*w?w:i>1.1*a?a:k:i>y?y:i>f?f:l:Math.pow(10,Math.floor(Math.log(i)/Math.LN10))}function n(i,u,p,h,_,m){if(h&&i>k){var d=r(u,_,m),x=r(p,_,m),g=i===w?0:1;return d[g]!==x[g]}return Math.floor(p/i)-Math.floor(u/i)>.1}function r(i,u,p){var h=u.c2d(i,w,p).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}L.exports=function(i,u,p,h,_){var m,d,x=-1.1*u,g=-.1*u,v=i-g,T=p[0],c=p[1],E=Math.min(s(T+g,T+v,h,_),s(c+g,c+v,h,_)),A=Math.min(s(T+x,T+g,h,_),s(c+x,c+g,h,_));if(E>A&&A<Math.abs(c-T)/4e3?(m=E,d=!1):(m=Math.min(E,A),d=!0),h.type==="date"&&m>k){var C=m===w?1:6,O=m===w?"M12":"M1";return function(P,D){var z=h.c2d(P,w,_),V=z.indexOf("-",C);V>0&&(z=z.substr(0,V));var F=h.d2c(z,0,_);if(F<P){var W=t(F,O,!1,_);(F+W)/2<P+i&&(F=W)}return D&&d?t(F,O,!0,_):F}}return function(P,D){var z=m*Math.round(P/m);return z+m/10<P&&z+.9*m<P+i&&(z+=m),D&&d&&(z-=m),z}}},72138:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(73972),k=e(89298),y=e(75341),f=e(59575),l=e(36362),t=e(42174),s=e(40965);function o(n,r,i,u,p){var h,_,m,d,x,g,v,T=u+"bins",c=n._fullLayout,E=r["_"+u+"bingroup"],A=c._histogramBinOpts[E],C=c.barmode==="overlay",O=function(fe){return i.r2c(fe,0,d)},P=function(fe){return i.c2r(fe,0,d)},D=i.type==="date"?function(fe){return fe||fe===0?w.cleanDate(fe,null,d):null}:function(fe){return b(fe)?Number(fe):null};function z(fe,pe,Le){pe[fe+"Found"]?(pe[fe]=D(pe[fe]),pe[fe]===null&&(pe[fe]=Le[fe])):(g[fe]=pe[fe]=Le[fe],w.nestedProperty(_[0],T+"."+fe).set(Le[fe]))}if(r["_"+u+"autoBinFinished"])delete r["_"+u+"autoBinFinished"];else{_=A.traces;var V=[],F=!0,W=!1,B=!1;for(h=0;h<_.length;h++)if((m=_[h]).visible){var U=A.dirs[h];x=m["_"+U+"pos0"]=i.makeCalcdata(m,U),V=w.concat(V,x),delete m["_"+u+"autoBinFinished"],r.visible===!0&&(F?F=!1:(delete m._autoBin,m["_"+u+"autoBinFinished"]=1),a.traceIs(m,"2dMap")&&(W=!0),m.type==="histogram2dcontour"&&(B=!0))}d=_[0][u+"calendar"];var H=k.autoBin(V,i,A.nbins,W,d,A.sizeFound&&A.size),q=_[0]._autoBin={};if(g=q[A.dirs[0]]={},B&&(A.size||(H.start=P(k.tickIncrement(O(H.start),H.size,!0,d))),A.end===void 0&&(H.end=P(k.tickIncrement(O(H.end),H.size,!1,d)))),C&&!a.traceIs(r,"2dMap")&&H._dataSpan===0&&i.type!=="category"&&i.type!=="multicategory"){if(p)return[H,x,!0];H=function(fe,pe,Le,ye,Ae){var Me,ke,te,ue=fe._fullLayout,ge=function(ot,st){for(var ht=st.xaxis,xt=st.yaxis,Ct=st.orientation,St=[],kt=ot._fullData,Nt=0;Nt<kt.length;Nt++){var Dt=kt[Nt];Dt.type==="histogram"&&Dt.visible===!0&&Dt.orientation===Ct&&Dt.xaxis===ht&&Dt.yaxis===xt&&St.push(Dt)}return St}(fe,pe),we=!1,Ee=1/0,Be=[pe];for(Me=0;Me<ge.length;Me++)if((ke=ge[Me])===pe)we=!0;else if(we){var Re=o(fe,ke,Le,ye,!0),je=Re[0],he=Re[2];ke["_"+ye+"autoBinFinished"]=1,ke["_"+ye+"pos0"]=Re[1],he?Be.push(ke):Ee=Math.min(Ee,je.size)}else te=ue._histogramBinOpts[ke["_"+ye+"bingroup"]],Ee=Math.min(Ee,te.size||ke[Ae].size);var _e=new Array(Be.length);for(Me=0;Me<Be.length;Me++)for(var Te=Be[Me]["_"+ye+"pos0"],Fe=0;Fe<Te.length;Fe++)if(Te[Fe]!==void 0){_e[Me]=Te[Fe];break}for(isFinite(Ee)||(Ee=w.distinctVals(_e).minDiff),Me=0;Me<Be.length;Me++){var Ye=(ke=Be[Me])[ye+"calendar"],Ge={start:Le.c2r(_e[Me]-Ee/2,0,Ye),end:Le.c2r(_e[Me]+Ee/2,0,Ye),size:Ee};ke._input[Ae]=ke[Ae]=Ge,(te=ue._histogramBinOpts[ke["_"+ye+"bingroup"]])&&w.extendFlat(te,Ge)}return pe[Ae]}(n,r,i,u,T)}(v=m.cumulative||{}).enabled&&v.currentbin!=="include"&&(v.direction==="decreasing"?H.start=P(k.tickIncrement(O(H.start),H.size,!0,d)):H.end=P(k.tickIncrement(O(H.end),H.size,!1,d))),A.size=H.size,A.sizeFound||(g.size=H.size,w.nestedProperty(_[0],T+".size").set(H.size)),z("start",A,H),z("end",A,H)}x=r["_"+u+"pos0"],delete r["_"+u+"pos0"];var ee=r._input[T]||{},K=w.extendFlat({},A),J=A.start,Z=i.r2l(ee.start),$=Z!==void 0;if((A.startFound||$)&&Z!==i.r2l(J)){var ne=$?Z:w.aggNums(Math.min,null,x),ae={type:i.type==="category"||i.type==="multicategory"?"linear":i.type,r2l:i.r2l,dtick:A.size,tick0:J,calendar:d,range:[ne,k.tickIncrement(ne,A.size,!1,d)].map(i.l2r)},oe=k.tickFirst(ae);oe>i.r2l(ne)&&(oe=k.tickIncrement(oe,A.size,!0,d)),K.start=i.l2r(oe),$||w.nestedProperty(r,T+".start").set(K.start)}var se=A.end,ce=i.r2l(ee.end),me=ce!==void 0;if((A.endFound||me)&&ce!==i.r2l(se)){var xe=me?ce:w.aggNums(Math.max,null,x);K.end=i.l2r(xe),me||w.nestedProperty(r,T+".start").set(K.end)}var ve="autobin"+u;return r._input[ve]===!1&&(r._input[T]=w.extendFlat({},r[T]||{}),delete r._input[ve],delete r[ve]),[K,x]}L.exports={calc:function(n,r){var i,u,p,h,_=[],m=[],d=r.orientation==="h",x=k.getFromId(n,d?r.yaxis:r.xaxis),g=d?"y":"x",v={x:"y",y:"x"}[g],T=r[g+"calendar"],c=r.cumulative,E=o(n,r,x,g),A=E[0],C=E[1],O=typeof A.size=="string",P=[],D=O?P:A,z=[],V=[],F=[],W=0,B=r.histnorm,U=r.histfunc,H=B.indexOf("density")!==-1;c.enabled&&H&&(B=B.replace(/ ?density$/,""),H=!1);var q,ee=U==="max"||U==="min"?null:0,K=f.count,J=l[B],Z=!1,$=function(ke){return x.r2c(ke,0,T)};for(w.isArrayOrTypedArray(r[v])&&U!=="count"&&(q=r[v],Z=U==="avg",K=f[U]),i=$(A.start),p=$(A.end)+(i-k.tickIncrement(i,A.size,!1,T))/1e6;i<p&&_.length<1e6&&(u=k.tickIncrement(i,A.size,!1,T),_.push((i+u)/2),m.push(ee),F.push([]),P.push(i),H&&z.push(1/(u-i)),Z&&V.push(0),!(u<=i));)i=u;P.push(i),O||x.type!=="date"||(D={start:$(D.start),end:$(D.end),size:D.size}),n._fullLayout._roundFnOpts||(n._fullLayout._roundFnOpts={});var ne=r["_"+g+"bingroup"],ae={leftGap:1/0,rightGap:1/0};ne&&(n._fullLayout._roundFnOpts[ne]||(n._fullLayout._roundFnOpts[ne]=ae),ae=n._fullLayout._roundFnOpts[ne]);var oe,se=m.length,ce=!0,me=ae.leftGap,xe=ae.rightGap,ve={};for(i=0;i<C.length;i++){var fe=C[i];(h=w.findBin(fe,D))>=0&&h<se&&(W+=K(h,i,m,q,V),ce&&F[h].length&&fe!==C[F[h][0]]&&(ce=!1),F[h].push(i),ve[i]=h,me=Math.min(me,fe-P[h]),xe=Math.min(xe,P[h+1]-fe))}ae.leftGap=me,ae.rightGap=xe,ce||(oe=function(ke,te){return function(){var ue=n._fullLayout._roundFnOpts[ne];return s(ue.leftGap,ue.rightGap,P,x,T)(ke,te)}}),Z&&(W=t(m,V)),J&&J(m,W,z),c.enabled&&function(ke,te,ue){var ge,we,Ee;function Be(je){Ee=ke[je],ke[je]/=2}function Re(je){we=ke[je],ke[je]=Ee+we/2,Ee+=we}if(ue==="half")if(te==="increasing")for(Be(0),ge=1;ge<ke.length;ge++)Re(ge);else for(Be(ke.length-1),ge=ke.length-2;ge>=0;ge--)Re(ge);else if(te==="increasing"){for(ge=1;ge<ke.length;ge++)ke[ge]+=ke[ge-1];ue==="exclude"&&(ke.unshift(0),ke.pop())}else{for(ge=ke.length-2;ge>=0;ge--)ke[ge]+=ke[ge+1];ue==="exclude"&&(ke.push(0),ke.shift())}}(m,c.direction,c.currentbin);var pe=Math.min(_.length,m.length),Le=[],ye=0,Ae=pe-1;for(i=0;i<pe;i++)if(m[i]){ye=i;break}for(i=pe-1;i>=ye;i--)if(m[i]){Ae=i;break}for(i=ye;i<=Ae;i++)if(b(_[i])&&b(m[i])){var Me={p:_[i],s:m[i],b:0};c.enabled||(Me.pts=F[i],ce?Me.ph0=Me.ph1=F[i].length?C[F[i][0]]:_[i]:(r._computePh=!0,Me.ph0=oe(P[i]),Me.ph1=oe(P[i+1],!0))),Le.push(Me)}return Le.length===1&&(Le[0].width1=k.tickIncrement(Le[0].p,A.size,!1,T)-Le[0].p),y(Le,r),w.isArrayOrTypedArray(r.selectedpoints)&&w.tagSelected(Le,r,ve),Le},calcAllAutoBins:o}},72406:function(L){"use strict";L.exports={eventDataKeys:["binNumber"]}},82222:function(L,M,e){"use strict";var b=e(71828),w=e(41675),a=e(73972).traceIs,k=e(26125),y=b.nestedProperty,f=e(99082).getAxisGroup,l=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];L.exports=function(s,o){var n,r,i,u,p,h,_,m=o._histogramBinOpts={},d=[],x={},g=[];function v(H,q){return b.coerce(n._input,n,n._module.attributes,H,q)}function T(H){return H.orientation==="v"?"x":"y"}function c(H,q,ee){var K=H.uid+"__"+ee;q||(q=K);var J=function(ae,oe){return w.getFromTrace({_fullLayout:o},ae,oe).type}(H,ee),Z=H[ee+"calendar"]||"",$=m[q],ne=!0;$&&(J===$.axType&&Z===$.calendar?(ne=!1,$.traces.push(H),$.dirs.push(ee)):(q=K,J!==$.axType&&b.warn(["Attempted to group the bins of trace",H.index,"set on a","type:"+J,"axis","with bins on","type:"+$.axType,"axis."].join(" ")),Z!==$.calendar&&b.warn(["Attempted to group the bins of trace",H.index,"set with a",Z,"calendar","with bins",$.calendar?"on a "+$.calendar+" calendar":"w/o a set calendar"].join(" ")))),ne&&(m[q]={traces:[H],dirs:[ee],axType:J,calendar:H[ee+"calendar"]||""}),H["_"+ee+"bingroup"]=q}for(p=0;p<s.length;p++)n=s[p],a(n,"histogram")&&(d.push(n),delete n._xautoBinFinished,delete n._yautoBinFinished,a(n,"2dMap")||k(n._input,n,o,v));var E=o._alignmentOpts||{};for(p=0;p<d.length;p++){if(n=d[p],i="",!a(n,"2dMap")){if(u=T(n),o.barmode==="group"&&n.alignmentgroup){var A=n[u+"axis"],C=f(o,A)+n.orientation;(E[C]||{})[n.alignmentgroup]&&(i=C)}i||o.barmode==="overlay"||(i=f(o,n.xaxis)+f(o,n.yaxis)+T(n))}i?(x[i]||(x[i]=[]),x[i].push(n)):g.push(n)}for(i in x)if((r=x[i]).length!==1){var O=!1;for(r.length&&(n=r[0],O=v("bingroup")),i=O||i,p=0;p<r.length;p++){var P=(n=r[p])._input.bingroup;P&&P!==i&&b.warn(["Trace",n.index,"must match","within bingroup",i+".","Ignoring its bingroup:",P,"setting."].join(" ")),n.bingroup=i,c(n,i,T(n))}}else g.push(r[0]);for(p=0;p<g.length;p++){n=g[p];var D=v("bingroup");if(a(n,"2dMap"))for(_=0;_<2;_++){var z=v((u=t[_])+"bingroup",D?D+"__"+u:null);c(n,z,u)}else c(n,D,T(n))}for(i in m){var V=m[i];for(r=V.traces,h=0;h<l.length;h++){var F,W,B=l[h],U=B.name;if(U!=="nbins"||!V.sizeFound){for(p=0;p<r.length;p++){if(n=r[p],u=V.dirs[p],F=B.aStr[u],y(n._input,F).get()!==void 0){V[U]=v(F),V[U+"Found"]=!0;break}(W=(n._autoBin||{})[u]||{})[U]&&y(n,F).set(W[U])}if(U==="start"||U==="end")for(;p<r.length;p++)(n=r[p])["_"+u+"bingroup"]&&v(F,(W=(n._autoBin||{})[u]||{})[U]);U!=="nbins"||V.sizeFound||V.nbinsFound||(n=r[0],V[U]=v(F))}}}}},11385:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(7901),k=e(90769).handleText,y=e(98340),f=e(7745);L.exports=function(l,t,s,o){function n(g,v){return w.coerce(l,t,f,g,v)}var r=n("x"),i=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var u=n("textposition");k(l,t,o,n,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var p=n("orientation",i&&!r?"h":"v"),h=p==="v"?"x":"y",_=p==="v"?"y":"x",m=r&&i?Math.min(w.minRowLength(r)&&w.minRowLength(i)):w.minRowLength(t[h]||[]);if(m){t._length=m,b.getComponentMethod("calendars","handleTraceDefaults")(l,t,["x","y"],o),t[_]&&n("histfunc"),n("histnorm"),n("autobin"+h),y(l,t,n,s,o),w.coerceSelectionMarkerOpacity(t,n);var d=(t.marker.line||{}).color,x=b.getComponentMethod("errorbars","supplyDefaults");x(l,t,d||a.defaultLine,{axis:"y"}),x(l,t,d||a.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84402:function(L){"use strict";L.exports=function(M,e,b,w,a){if(M.x="xVal"in e?e.xVal:e.x,M.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(M.z=e.zLabelVal),e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),!(b.cumulative||{}).enabled){var k,y=Array.isArray(a)?w[0].pts[a[0]][a[1]]:w[a].pts;if(M.pointNumbers=y,M.binNumber=M.pointNumber,delete M.pointNumber,delete M.pointIndex,b._indexToPoints){k=[];for(var f=0;f<y.length;f++)k=k.concat(b._indexToPoints[y[f]])}else k=y;M.pointIndices=k}return M}},76440:function(L,M,e){"use strict";var b=e(95423).hoverPoints,w=e(89298).hoverLabelText;L.exports=function(a,k,y,f,l){var t=b(a,k,y,f,l);if(t){var s=(a=t[0]).cd[a.index],o=a.cd[0].trace;if(!o.cumulative.enabled){var n=o.orientation==="h"?"y":"x";a[n+"Label"]=w(a[n+"a"],[s.ph0,s.ph1],o[n+"hoverformat"])}return t}}},36071:function(L,M,e){"use strict";L.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(L){"use strict";L.exports={percent:function(M,e){for(var b=M.length,w=100/e,a=0;a<b;a++)M[a]*=w},probability:function(M,e){for(var b=M.length,w=0;w<b;w++)M[w]/=e},density:function(M,e,b,w){var a=M.length;w=w||1;for(var k=0;k<a;k++)M[k]*=b[k]*w},"probability density":function(M,e,b,w){var a=M.length;w&&(e/=w);for(var k=0;k<a;k++)M[k]*=b[k]/e}}},35361:function(L,M,e){"use strict";var b=e(7745),w=e(17656),a=e(21606),k=e(9012),y=e(12663).axisHoverFormat,f=e(5386).fF,l=e(5386).si,t=e(50693),s=e(1426).extendFlat;L.exports=s({x:b.x,y:b.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:b.histnorm,histfunc:b.histfunc,nbinsx:b.nbinsx,xbins:w("x"),nbinsy:b.nbinsy,ybins:w("y"),autobinx:b.autobinx,autobiny:b.autobiny,bingroup:s({},b.bingroup,{}),xbingroup:s({},b.bingroup,{}),ybingroup:s({},b.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z",1),hovertemplate:f({},{keys:"z"}),texttemplate:l({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:s({},k.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(59575),k=e(36362),y=e(42174),f=e(40965),l=e(72138).calcAllAutoBins;function t(n,r,i,u){var p,h=new Array(n);if(u)for(p=0;p<n;p++)h[p]=1/(r[p+1]-r[p]);else{var _=1/i;for(p=0;p<n;p++)h[p]=_}return h}function s(n,r){return{start:n(r.start),end:n(r.end),size:r.size}}function o(n,r,i,u,p,h){var _,m=n.length-1,d=new Array(m),x=f(i,u,n,p,h);for(_=0;_<m;_++){var g=(r||[])[_];d[_]=g===void 0?[x(n[_]),x(n[_+1],!0)]:[g,g]}return d}L.exports=function(n,r){var i,u,p,h,_=w.getFromId(n,r.xaxis),m=w.getFromId(n,r.yaxis),d=r.xcalendar,x=r.ycalendar,g=function(xt){return _.r2c(xt,0,d)},v=function(xt){return m.r2c(xt,0,x)},T=l(n,r,_,"x"),c=T[0],E=T[1],A=l(n,r,m,"y"),C=A[0],O=A[1],P=r._length;E.length>P&&E.splice(P,E.length-P),O.length>P&&O.splice(P,O.length-P);var D=[],z=[],V=[],F=typeof c.size=="string",W=typeof C.size=="string",B=[],U=[],H=F?B:c,q=W?U:C,ee=0,K=[],J=[],Z=r.histnorm,$=r.histfunc,ne=Z.indexOf("density")!==-1,ae=$==="max"||$==="min"?null:0,oe=a.count,se=k[Z],ce=!1,me=[],xe=[],ve="z"in r?r.z:"marker"in r&&Array.isArray(r.marker.color)?r.marker.color:"";ve&&$!=="count"&&(ce=$==="avg",oe=a[$]);var fe=c.size,pe=g(c.start),Le=g(c.end)+(pe-w.tickIncrement(pe,fe,!1,d))/1e6;for(i=pe;i<Le;i=w.tickIncrement(i,fe,!1,d))z.push(ae),B.push(i),ce&&V.push(0);B.push(i);var ye,Ae=z.length,Me=(i-pe)/Ae,ke=(ye=pe+Me/2,_.c2r(ye,0,d)),te=C.size,ue=v(C.start),ge=v(C.end)+(ue-w.tickIncrement(ue,te,!1,x))/1e6;for(i=ue;i<ge;i=w.tickIncrement(i,te,!1,x)){D.push(z.slice()),U.push(i);var we=new Array(Ae);for(u=0;u<Ae;u++)we[u]=[];J.push(we),ce&&K.push(V.slice())}U.push(i);var Ee=D.length,Be=(i-ue)/Ee,Re=function(xt){return m.c2r(xt,0,x)}(ue+Be/2);ne&&(me=t(z.length,H,Me,F),xe=t(D.length,q,Be,W)),F||_.type!=="date"||(H=s(g,H)),W||m.type!=="date"||(q=s(v,q));var je=!0,he=!0,_e=new Array(Ae),Te=new Array(Ee),Fe=1/0,Ye=1/0,Ge=1/0,ot=1/0;for(i=0;i<P;i++){var st=E[i],ht=O[i];p=b.findBin(st,H),h=b.findBin(ht,q),p>=0&&p<Ae&&h>=0&&h<Ee&&(ee+=oe(p,i,D[h],ve,K[h]),J[h][p].push(i),je&&(_e[p]===void 0?_e[p]=st:_e[p]!==st&&(je=!1)),he&&(Te[h]===void 0?Te[h]=ht:Te[h]!==ht&&(he=!1)),Fe=Math.min(Fe,st-B[p]),Ye=Math.min(Ye,B[p+1]-st),Ge=Math.min(Ge,ht-U[h]),ot=Math.min(ot,U[h+1]-ht))}if(ce)for(h=0;h<Ee;h++)ee+=y(D[h],K[h]);if(se)for(h=0;h<Ee;h++)se(D[h],ee,me,xe[h]);return{x:E,xRanges:o(B,je&&_e,Fe,Ye,_,d),x0:ke,dx:Me,y:O,yRanges:o(U,he&&Te,Ge,ot,m,x),y0:Re,dy:Be,z:D,pts:J}}},93888:function(L,M,e){"use strict";var b=e(71828),w=e(75238),a=e(49901),k=e(1586),y=e(58623),f=e(35361);L.exports=function(l,t,s,o){function n(r,i){return b.coerce(l,t,f,r,i)}w(l,t,n,o),t.visible!==!1&&(a(l,t,n,o),k(l,t,o,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),y(n,o),n("xhoverformat"),n("yhoverformat"))}},76128:function(L,M,e){"use strict";var b=e(46248),w=e(89298).hoverLabelText;L.exports=function(a,k,y,f,l){var t=b(a,k,y,f,l);if(t){var s=(a=t[0]).index,o=s[0],n=s[1],r=a.cd[0],i=r.trace,u=r.xRanges[n],p=r.yRanges[o];return a.xLabel=w(a.xa,[u[0],u[1]],i.xhoverformat),a.yLabel=w(a.ya,[p[0],p[1]],i.yhoverformat),t}}},43905:function(L,M,e){"use strict";L.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(L,M,e){"use strict";var b=e(73972),w=e(71828);L.exports=function(a,k,y,f){var l=y("x"),t=y("y"),s=w.minRowLength(l),o=w.minRowLength(t);s&&o?(k._length=Math.min(s,o),b.getComponentMethod("calendars","handleTraceDefaults")(a,k,["x","y"],f),(y("z")||y("marker.color"))&&y("histfunc"),y("histnorm"),y("autobinx"),y("autobiny")):k.visible=!1}},99066:function(L,M,e){"use strict";var b=e(35361),w=e(70600),a=e(50693),k=e(12663).axisHoverFormat,y=e(1426).extendFlat;L.exports=y({x:b.x,y:b.y,z:b.z,marker:b.marker,histnorm:b.histnorm,histfunc:b.histfunc,nbinsx:b.nbinsx,xbins:b.xbins,nbinsy:b.nbinsy,ybins:b.ybins,autobinx:b.autobinx,autobiny:b.autobiny,bingroup:b.bingroup,xbingroup:b.xbingroup,ybingroup:b.ybingroup,autocontour:w.autocontour,ncontours:w.ncontours,contours:w.contours,line:{color:w.line.color,width:y({},w.line.width,{dflt:.5}),dash:w.line.dash,smoothing:w.line.smoothing,editType:"plot"},xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z",1),hovertemplate:b.hovertemplate,texttemplate:w.texttemplate,textfont:w.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(L,M,e){"use strict";var b=e(71828),w=e(75238),a=e(67217),k=e(8724),y=e(58623),f=e(99066);L.exports=function(l,t,s,o){function n(r,i){return b.coerce(l,t,f,r,i)}w(l,t,n,o),t.visible!==!1&&(a(l,t,n,function(r){return b.coerce2(l,t,f,r)}),k(l,t,n,o),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&y(n,o))}},35902:function(L,M,e){"use strict";L.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(50693),k=e(27670).Y,y=e(34e3),f=e(57564),l=e(45802),t=e(43473),s=e(1426).extendFlat;L.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:l.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:s({colors:f.marker.colors,line:f.marker.line,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:f.leaf,pathbar:l.pathbar,text:y.text,textinfo:f.textinfo,texttemplate:w({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:f.hoverinfo,hovertemplate:b({},{keys:t.eventDataKeys}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:l.outsidetextfont,textposition:l.textposition,sort:y.sort,root:f.root,domain:k({name:"icicle",trace:!0,editType:"calc"})}},96346:function(L,M,e){"use strict";var b=e(74875);M.name="icicle",M.plot=function(w,a,k,y){b.plotBasePlot(M.name,w,a,k,y)},M.clean=function(w,a,k,y){b.cleanBasePlot(M.name,w,a,k,y)}},46584:function(L,M,e){"use strict";var b=e(52147);M.y=function(w,a){return b.calc(w,a)},M.T=function(w){return b._runCrossTraceCalc("icicle",w)}},56524:function(L,M,e){"use strict";var b=e(71828),w=e(46291),a=e(7901),k=e(27670).c,y=e(90769).handleText,f=e(97313).TEXTPAD,l=e(21081),t=l.hasColorscale,s=l.handleDefaults;L.exports=function(o,n,r,i){function u(g,v){return b.coerce(o,n,w,g,v)}var p=u("labels"),h=u("parents");if(p&&p.length&&h&&h.length){var _=u("values");_&&_.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),u("tiling.orientation"),u("tiling.flip"),u("tiling.pad");var m=u("text");u("texttemplate"),n.texttemplate||u("textinfo",Array.isArray(m)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d=u("pathbar.visible");y(o,n,i,u,"auto",{hasPathbar:d,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("textposition"),u("marker.line.width")&&u("marker.line.color",i.paper_bgcolor),u("marker.colors");var x=n._hasColorscale=t(o,"marker","colors")||(o.marker||{}).coloraxis;x&&s(o,n,i,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",x?1:.7),n._hovered={marker:{line:{width:2,color:a.contrast(i.paper_bgcolor)}}},d&&(u("pathbar.thickness",n.pathbar.textfont.size+2*f),u("pathbar.side"),u("pathbar.edgeshape")),u("sort"),u("root.color"),k(n,i,u),n._length=null}else n.visible=!1}},90666:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(63893),y=e(21538),f=e(82454).styleOne,l=e(43473),t=e(2791),s=e(83523),o=e(24714).formatSliceLabel,n=!1;L.exports=function(r,i,u,p,h){var _=h.width,m=h.height,d=h.viewX,x=h.viewY,g=h.pathSlice,v=h.toMoveInsideSlice,T=h.strTransform,c=h.hasTransition,E=h.handleSlicesExit,A=h.makeUpdateSliceInterpolator,C=h.makeUpdateTextInterpolator,O=h.prevEntry,P=r._context.staticPlot,D=r._fullLayout,z=i[0].trace,V=z.textposition.indexOf("left")!==-1,F=z.textposition.indexOf("right")!==-1,W=z.textposition.indexOf("bottom")!==-1,B=y(u,[_,m],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),U=1/0,H=-1/0;B.forEach(function(Z){var $=Z.depth;$>=z._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(U=Math.min(U,$),H=Math.max(H,$))}),p=p.data(B,t.getPtId),z._maxVisibleLayers=isFinite(H)?H-U+1:0,p.enter().append("g").classed("slice",!0),E(p,n,{},[_,m],g),p.order();var q=null;if(c&&O){var ee=t.getPtId(O);p.each(function(Z){q===null&&t.getPtId(Z)===ee&&(q={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var K=function(){return q||{x0:0,x1:_,y0:0,y1:m}},J=p;return c&&(J=J.transition().each("end",function(){var Z=b.select(this);t.setSliceCursor(Z,r,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),J.each(function(Z){Z._x0=d(Z.x0),Z._x1=d(Z.x1),Z._y0=x(Z.y0),Z._y1=x(Z.y1),Z._hoverX=d(Z.x1-z.tiling.pad),Z._hoverY=x(W?Z.y1-z.tiling.pad/2:Z.y0+z.tiling.pad/2);var $=b.select(this),ne=w.ensureSingle($,"path","surface",function(ce){ce.style("pointer-events",P?"none":"all")});c?ne.transition().attrTween("d",function(ce){var me=A(ce,n,K(),[_,m],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(xe){return g(me(xe))}}):ne.attr("d",g),$.call(s,u,r,i,{styleOne:f,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,r,{isTransitioning:r._transitioning}),ne.call(f,Z,z,{hovered:!1}),Z.x0===Z.x1||Z.y0===Z.y1?Z._text="":Z._text=o(Z,u,z,i,D)||"";var ae=w.ensureSingle($,"g","slicetext"),oe=w.ensureSingle(ae,"text","",function(ce){ce.attr("data-notex",1)}),se=w.ensureUniformFontSize(r,t.determineTextFont(z,Z,D.font));oe.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":V?"start":"middle").call(a.font,se).call(k.convertToTspans,r),Z.textBB=a.bBox(oe.node()),Z.transform=v(Z,{fontSize:se.size}),Z.transform.fontSize=se.size,c?oe.transition().attrTween("transform",function(ce){var me=C(ce,n,K(),[_,m]);return function(xe){return T(me(xe))}}):oe.attr("transform",T(Z))}),q}},69816:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(L){"use strict";L.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(L,M,e){"use strict";var b=e(71828),w=e(92894);L.exports=function(a,k){function y(f,l){return b.coerce(a,k,w,f,l)}y("iciclecolorway",k.colorway),y("extendiciclecolors")}},21538:function(L,M,e){"use strict";var b=e(674),w=e(14102);L.exports=function(a,k,y){var f=y.flipX,l=y.flipY,t=y.orientation==="h",s=y.maxDepth,o=k[0],n=k[1];s&&(o=(a.height+1)*k[0]/Math.min(a.height+1,s),n=(a.height+1)*k[1]/Math.min(a.height+1,s));var r=b.partition().padding(y.pad.inner).size(t?[k[1],o]:[k[0],n])(a);return(t||f||l)&&w(r,k,{swapXY:t,flipX:f,flipY:l}),r}},85596:function(L,M,e){"use strict";var b=e(80694),w=e(90666);L.exports=function(a,k,y,f){return b(a,k,y,f,{type:"icicle",drawDescendants:w})}},82454:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(71828),k=e(72597).resizeText;function y(f,l,t){var s=l.data.data,o=!l.children,n=s.i,r=a.castOption(t,n,"marker.line.color")||w.defaultLine,i=a.castOption(t,n,"marker.line.width")||0;f.style("stroke-width",i).call(w.fill,s.color).call(w.stroke,r).style("opacity",o?t.leaf.opacity:null)}L.exports={style:function(f){var l=f._fullLayout._iciclelayer.selectAll(".trace");k(f,l,"icicle"),l.each(function(t){var s=b.select(this),o=t[0].trace;s.style("opacity",o.opacity),s.selectAll("path.surface").each(function(n){b.select(this).call(y,n,o)})})},styleOne:y}},17230:function(L,M,e){"use strict";for(var b=e(9012),w=e(5386).fF,a=e(1426).extendFlat,k=e(51877).colormodel,y=["rgb","rgba","rgba256","hsl","hsla"],f=[],l=[],t=0;t<y.length;t++){var s=k[y[t]];f.push("For the `"+y[t]+"` colormodel, it is ["+(s.zminDflt||s.min).join(", ")+"]."),l.push("For the `"+y[t]+"` colormodel, it is ["+(s.zmaxDflt||s.max).join(", ")+"].")}L.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:y,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},b.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:w({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(L,M,e){"use strict";var b=e(71828),w=e(51877),a=e(92770),k=e(89298),y=e(71828).maxRowLength,f=e(67395).A;function l(s,o,n,r){return function(i){return b.constrain((i-s)*o,n,r)}}function t(s,o){return function(n){return b.constrain(n,s,o)}}L.exports=function(s,o){var n,r;if(o._hasZ)n=o.z.length,r=y(o.z);else if(o._hasSource){var i=f(o.source);n=i.height,r=i.width}var u,p=k.getFromId(s,o.xaxis||"x"),h=k.getFromId(s,o.yaxis||"y"),_=p.d2c(o.x0)-o.dx/2,m=h.d2c(o.y0)-o.dy/2,d=[_,_+r*o.dx],x=[m,m+n*o.dy];if(p&&p.type==="log")for(u=0;u<r;u++)d.push(_+u*o.dx);if(h&&h.type==="log")for(u=0;u<n;u++)x.push(m+u*o.dy);return o._extremes[p._id]=k.findExtremes(p,d),o._extremes[h._id]=k.findExtremes(h,x),o._scaler=function(g){var v=w.colormodel[g.colormodel],T=(v.colormodel||g.colormodel).length;g._sArray=[];for(var c=0;c<T;c++)v.min[c]!==g.zmin[c]||v.max[c]!==g.zmax[c]?g._sArray.push(l(g.zmin[c],(v.max[c]-v.min[c])/(g.zmax[c]-g.zmin[c]),v.min[c],v.max[c])):g._sArray.push(t(v.min[c],v.max[c]));return function(E){for(var A=E.slice(0,T),C=0;C<T;C++){var O=A[C];if(!a(O))return!1;A[C]=g._sArray[C](O)}return A}}(o),[{x0:_,y0:m,z:o.z,w:r,h:n}]}},51877:function(L){"use strict";L.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(M){return M.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(M){return M.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(M){return M.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(M){var e=M.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(M){var e=M.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%",""]}},pixelatedStyle:["image-rendering: optimizeSpeed","image-rendering: -moz-crisp-edges","image-rendering: -o-crisp-edges","image-rendering: -webkit-optimize-contrast","image-rendering: optimize-contrast","image-rendering: crisp-edges","image-rendering: pixelated",""].join("; ")}},13245:function(L,M,e){"use strict";var b=e(71828),w=e(17230),a=e(51877),k=e(25095).IMAGE_URL_PREFIX;L.exports=function(y,f){function l(o,n){return b.coerce(y,f,w,o,n)}l("source"),f.source&&!f.source.match(k)&&delete f.source,f._hasSource=!!f.source;var t,s=l("z");f._hasZ=!(s===void 0||!s.length||!s[0]||!s[0].length),f._hasZ||f._hasSource?(l("x0"),l("y0"),l("dx"),l("dy"),f._hasZ?(l("colormodel","rgb"),l("zmin",(t=a.colormodel[f.colormodel]).zminDflt||t.min),l("zmax",t.zmaxDflt||t.max)):f._hasSource&&(f.colormodel="rgba256",t=a.colormodel[f.colormodel],f.zmin=t.zminDflt,f.zmax=t.zmaxDflt),l("zsmooth"),l("text"),l("hovertext"),l("hovertemplate"),f._length=null):f.visible=!1}},30835:function(L){"use strict";L.exports=function(M,e){return"xVal"in e&&(M.x=e.xVal),"yVal"in e&&(M.y=e.yVal),e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),M.color=e.color,M.colormodel=e.trace.colormodel,M.z||(M.z=e.color),M}},67395:function(L,M,e){"use strict";var b=e(33575),w=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;M.A=function(k){var y=k.replace(w,""),f=new a(y,"base64");return b(f)}},28749:function(L,M,e){"use strict";var b=e(30211),w=e(71828),a=e(51877);L.exports=function(k,y,f){var l=k.cd[0],t=l.trace,s=k.xa,o=k.ya;if(!(b.inbox(y-l.x0,y-(l.x0+l.w*t.dx),0)>0||b.inbox(f-l.y0,f-(l.y0+l.h*t.dy),0)>0)){var n,r=Math.floor((y-l.x0)/t.dx),i=Math.floor(Math.abs(f-l.y0)/t.dy);if(t._hasZ?n=l.z[i][r]:t._hasSource&&(n=t._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(r,i,1,1).data),n){var u,p=l.hi||t.hoverinfo;if(p){var h=p.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(u=!0)}var _,m=a.colormodel[t.colormodel],d=m.colormodel||t.colormodel,x=d.length,g=t._scaler(n),v=m.suffix,T=[];(t.hovertemplate||u)&&(T.push("["+[g[0]+v[0],g[1]+v[1],g[2]+v[2]].join(", ")),x===4&&T.push(", "+g[3]+v[3]),T.push("]"),T=T.join(""),k.extraText=d.toUpperCase()+": "+T),Array.isArray(t.hovertext)&&Array.isArray(t.hovertext[i])?_=t.hovertext[i][r]:Array.isArray(t.text)&&Array.isArray(t.text[i])&&(_=t.text[i][r]);var c=o.c2p(l.y0+(i+.5)*t.dy),E=l.x0+(r+.5)*t.dx,A=l.y0+(i+.5)*t.dy,C="["+n.slice(0,t.colormodel.length).join(", ")+"]";return[w.extendFlat(k,{index:[i,r],x0:s.c2p(l.x0+r*t.dx),x1:s.c2p(l.x0+(r+1)*t.dx),y0:c,y1:c,color:g,xVal:E,xLabelVal:E,yVal:A,yLabelVal:A,zLabelVal:C,text:_,hovertemplateLabels:{zLabel:C,colorLabel:T,"color[0]Label":g[0]+v[0],"color[1]Label":g[1]+v[1],"color[2]Label":g[2]+v[2],"color[3]Label":g[3]+v[3]}})]}}}},94507:function(L,M,e){"use strict";L.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=w.strTranslate,k=e(77922),y=e(51877),f=w.isIOS()||w.isSafari()||w.isIE();L.exports=function(l,t,s,o){var n=t.xaxis,r=t.yaxis,i=!(f||l._context._exportedPlot);w.makeTraceGroups(o,s,"im").each(function(u){var p=b.select(this),h=u[0],_=h.trace,m=(_.zsmooth==="fast"||_.zsmooth===!1&&i)&&!_._hasZ&&_._hasSource&&n.type==="linear"&&r.type==="linear";_._realImage=m;var d,x,g,v,T,c,E=h.z,A=h.x0,C=h.y0,O=h.w,P=h.h,D=_.dx,z=_.dy;for(c=0;d===void 0&&c<O;)d=n.c2p(A+c*D),c++;for(c=O;x===void 0&&c>0;)x=n.c2p(A+c*D),c--;for(c=0;v===void 0&&c<P;)v=r.c2p(C+c*z),c++;for(c=P;T===void 0&&c>0;)T=r.c2p(C+c*z),c--;x<d&&(g=x,x=d,d=g),T<v&&(g=v,v=T,T=g),m||(d=Math.max(-.5*n._length,d),x=Math.min(1.5*n._length,x),v=Math.max(-.5*r._length,v),T=Math.min(1.5*r._length,T));var V=Math.round(x-d),F=Math.round(T-v);if(V<=0||F<=0)p.selectAll("image").data([]).exit().remove();else{var W=p.selectAll("image").data([u]);W.enter().append("svg:image").attr({xmlns:k.svg,preserveAspectRatio:"none"}),W.exit().remove();var B=_.zsmooth===!1?y.pixelatedStyle:"";if(m){var U=w.simpleMap(n.range,n.r2l),H=w.simpleMap(r.range,r.r2l),q=U[1]<U[0],ee=H[1]>H[0];if(q||ee){var K=d+V/2,J=v+F/2;B+="transform:"+a(K+"px",J+"px")+"scale("+(q?-1:1)+","+(ee?-1:1)+")"+a(-K+"px",-J+"px")+";"}}W.attr("style",B);var Z=new Promise(function(ne){if(_._hasZ)ne();else if(_._hasSource)if(_._canvas&&_._canvas.el.width===O&&_._canvas.el.height===P&&_._canvas.source===_.source)ne();else{var ae=document.createElement("canvas");ae.width=O,ae.height=P;var oe=ae.getContext("2d",{willReadFrequently:!0});_._image=_._image||new Image;var se=_._image;se.onload=function(){oe.drawImage(se,0,0),_._canvas={el:ae,source:_.source},ne()},se.setAttribute("src",_.source)}}).then(function(){var ne,ae;if(_._hasZ)ae=$(function(se,ce){return E[ce][se]}),ne=ae.toDataURL("image/png");else if(_._hasSource)if(m)ne=_.source;else{var oe=_._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,O,P).data;ae=$(function(se,ce){var me=4*(ce*O+se);return[oe[me],oe[me+1],oe[me+2],oe[me+3]]}),ne=ae.toDataURL("image/png")}W.attr({"xlink:href":ne,height:F,width:V,x:d,y:v})});l._promises.push(Z)}function $(ne){var ae=document.createElement("canvas");ae.width=V,ae.height=F;var oe,se=ae.getContext("2d",{willReadFrequently:!0}),ce=function(ke){return w.constrain(Math.round(n.c2p(A+ke*D)-d),0,V)},me=function(ke){return w.constrain(Math.round(r.c2p(C+ke*z)-v),0,F)},xe=y.colormodel[_.colormodel],ve=xe.colormodel||_.colormodel,fe=xe.fmt;for(c=0;c<h.w;c++){var pe=ce(c),Le=ce(c+1);if(Le!==pe&&!isNaN(Le)&&!isNaN(pe))for(var ye=0;ye<h.h;ye++){var Ae=me(ye),Me=me(ye+1);Me===Ae||isNaN(Me)||isNaN(Ae)||!ne(c,ye)||(oe=_._scaler(ne(c,ye)),se.fillStyle=oe?ve+"("+fe(oe).join(",")+")":"rgba(0,0,0,0)",se.fillRect(pe,Ae,Le-pe,Me-Ae))}}return ae}})}},12826:function(L,M,e){"use strict";var b=e(39898);L.exports=function(w){b.select(w).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},54846:function(L,M,e){"use strict";var b=e(1426).extendFlat,w=e(1426).extendDeep,a=e(30962).overrideAll,k=e(41940),y=e(22399),f=e(27670).Y,l=e(13838),t=e(44467).templatedArray,s=e(22372),o=e(12663).descriptionOnlyNumbers,n=k({editType:"plot",colorEditType:"plot"}),r={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:y.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},i={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",w({},r,{range:i}));L.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:f({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:b({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:o("value")},font:b({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:o("value")},increasing:{symbol:{valType:"string",dflt:s.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:s.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:b({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:w({},r,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:i,visible:b({},l.visible,{dflt:!0}),tickmode:l.minor.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:b({},l.ticks,{dflt:"outside"}),ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,tickfont:k({}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,minexponent:l.minexponent,showexponent:l.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:b({},r.line.color,{}),width:b({},r.line.width,{dflt:1}),editType:"plot"},thickness:b({},r.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(L,M,e){"use strict";var b=e(74875);M.name="indicator",M.plot=function(w,a,k,y){b.plotBasePlot(M.name,w,a,k,y)},M.clean=function(w,a,k,y){b.cleanBasePlot(M.name,w,a,k,y)}},24667:function(L){"use strict";L.exports={calc:function(M,e){var b=[],w=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var a=e._lastValue,k=a;return e._hasDelta&&typeof e.delta.reference=="number"&&(k=e.delta.reference),b[0]={y:w,lastY:a,delta:w-k,relativeDelta:(w-k)/k},b}}},84577:function(L){"use strict";L.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(L,M,e){"use strict";var b=e(71828),w=e(54846),a=e(27670).c,k=e(44467),y=e(85501),f=e(84577),l=e(26218),t=e(38701),s=e(96115),o=e(89426);function n(r,i){function u(p,h){return b.coerce(r,i,w.gauge.steps,p,h)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}L.exports={supplyDefaults:function(r,i,u,p){function h(O,P){return b.coerce(r,i,w,O,P)}a(i,p,h),h("mode"),i._hasNumber=i.mode.indexOf("number")!==-1,i._hasDelta=i.mode.indexOf("delta")!==-1,i._hasGauge=i.mode.indexOf("gauge")!==-1;var _=h("value");i._range=[0,typeof _=="number"?1.5*_:1];var m,d,x,g,v,T,c=new Array(2);function E(O,P){return b.coerce(x,g,w.gauge,O,P)}function A(O,P){return b.coerce(v,T,w.gauge.axis,O,P)}if(i._hasNumber&&(h("number.valueformat"),h("number.font.color",p.font.color),h("number.font.family",p.font.family),h("number.font.size"),i.number.font.size===void 0&&(i.number.font.size=f.defaultNumberFontSize,c[0]=!0),h("number.prefix"),h("number.suffix"),m=i.number.font.size),i._hasDelta&&(h("delta.font.color",p.font.color),h("delta.font.family",p.font.family),h("delta.font.size"),i.delta.font.size===void 0&&(i.delta.font.size=(i._hasNumber?.5:1)*(m||f.defaultNumberFontSize),c[1]=!0),h("delta.reference",i.value),h("delta.relative"),h("delta.valueformat",i.delta.relative?"2%":""),h("delta.increasing.symbol"),h("delta.increasing.color"),h("delta.decreasing.symbol"),h("delta.decreasing.color"),h("delta.position"),h("delta.prefix"),h("delta.suffix"),d=i.delta.font.size),i._scaleNumbers=(!i._hasNumber||c[0])&&(!i._hasDelta||c[1])||!1,h("title.font.color",p.font.color),h("title.font.family",p.font.family),h("title.font.size",.25*(m||d||f.defaultNumberFontSize)),h("title.text"),i._hasGauge){(x=r.gauge)||(x={}),g=k.newContainer(i,"gauge"),E("shape"),(i._isBullet=i.gauge.shape==="bullet")||h("title.align","center"),(i._isAngular=i.gauge.shape==="angular")||h("align","center"),E("bgcolor",p.paper_bgcolor),E("borderwidth"),E("bordercolor"),E("bar.color"),E("bar.line.color"),E("bar.line.width"),E("bar.thickness",f.valueThickness*(i.gauge.shape==="bullet"?.5:1)),y(x,g,{name:"steps",handleItemDefaults:n}),E("threshold.value"),E("threshold.thickness"),E("threshold.line.width"),E("threshold.line.color"),v={},x&&(v=x.axis||{}),T=k.newContainer(g,"axis"),A("visible"),i._range=A("range",i._range);var C={outerTicks:!0};l(v,T,A,"linear"),o(v,T,A,"linear",C),s(v,T,A,"linear",C),t(v,T,A,C)}else h("title.align","center"),h("align","center"),i._isAngular=i._isBullet=!1;i._length=null}}},15154:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(L,M,e){"use strict";var b=e(39898),w=e(81684).sX,a=e(81684).k4,k=e(71828),y=k.strScale,f=k.strTranslate,l=k.rad2deg,t=e(18783).MID_SHIFT,s=e(91424),o=e(84577),n=e(63893),r=e(89298),i=e(71453),u=e(52830),p=e(13838),h=e(7901),_={left:"start",center:"middle",right:"end"},m={left:0,center:.5,right:1},d=/[yzafpnmkMGTPEZY]/;function x(A){return A&&A.duration>0}function g(A){A.each(function(C){h.stroke(b.select(this),C.line.color)}).each(function(C){h.fill(b.select(this),C.color)}).style("stroke-width",function(C){return C.line.width})}function v(A,C,O){var P=A._fullLayout,D=k.extendFlat({type:"linear",ticks:"outside",range:O,showline:!0},C),z={type:"linear",_id:"x"+C._id},V={letter:"x",font:P.font,noHover:!0,noTickson:!0};function F(W,B){return k.coerce(D,z,p,W,B)}return i(D,z,F,V,P),u(D,z,F,V),z}function T(A,C,O){return[Math.min(C/A.width,O/A.height),A,C+"x"+O]}function c(A,C,O,P){var D=document.createElementNS("http://www.w3.org/2000/svg","text"),z=b.select(D);return z.text(A).attr("x",0).attr("y",0).attr("text-anchor",O).attr("data-unformatted",A).call(n.convertToTspans,P).call(s.font,C),s.bBox(z.node())}function E(A,C,O,P,D,z){var V="_cache"+C;A[V]&&A[V].key===D||(A[V]={key:D,value:O});var F=k.aggNums(z,null,[A[V].value,P],2);return A[V].value=F,F}L.exports=function(A,C,O,P){var D,z=A._fullLayout;x(O)&&P&&(D=P()),k.makeTraceGroups(z._indicatorlayer,C,"trace").each(function(V){var F,W,B,U,H,q=V[0].trace,ee=b.select(this),K=q._hasGauge,J=q._isAngular,Z=q._isBullet,$=q.domain,ne={w:z._size.w*($.x[1]-$.x[0]),h:z._size.h*($.y[1]-$.y[0]),l:z._size.l+z._size.w*$.x[0],r:z._size.r+z._size.w*(1-$.x[1]),t:z._size.t+z._size.h*(1-$.y[1]),b:z._size.b+z._size.h*$.y[0]},ae=ne.l+ne.w/2,oe=ne.t+ne.h/2,se=Math.min(ne.w/2,ne.h),ce=o.innerRadius*se,me=q.align||"center";if(W=oe,K){if(J&&(F=ae,W=oe+se/2,B=function(Me){return function(ke,te){return[te/Math.sqrt(ke.width/2*(ke.width/2)+ke.height*ke.height),ke,te]}(Me,.9*ce)}),Z){var xe=o.bulletPadding,ve=1-o.bulletNumberDomainSize+xe;F=ne.l+(ve+(1-ve)*m[me])*ne.w,B=function(Me){return T(Me,(o.bulletNumberDomainSize-xe)*ne.w,ne.h)}}}else F=ne.l+m[me]*ne.w,B=function(Me){return T(Me,ne.w,ne.h)};(function(Me,ke,te,ue){var ge,we,Ee,Be=te[0].trace,Re=ue.numbersX,je=ue.numbersY,he=Be.align||"center",_e=_[he],Te=ue.transitionOpts,Fe=ue.onComplete,Ye=k.ensureSingle(ke,"g","numbers"),Ge=[];Be._hasNumber&&Ge.push("number"),Be._hasDelta&&(Ge.push("delta"),Be.delta.position==="left"&&Ge.reverse());var ot=Ye.selectAll("text").data(Ge);function st(Et,Wt,Ht,Ke){if(!Et.match("s")||Ht>=0==Ke>=0||Wt(Ht).slice(-1).match(d)||Wt(Ke).slice(-1).match(d))return Wt;var $e=Et.slice().replace("s","f").replace(/\d+/,function(nt){return parseInt(nt)-1}),Ue=v(Me,{tickformat:$e});return function(nt){return Math.abs(nt)<1?r.tickText(Ue,nt).text:Wt(nt)}}ot.enter().append("text"),ot.attr("text-anchor",function(){return _e}).attr("class",function(Et){return Et}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ot.exit().remove();var ht,xt=Be.mode+Be.align;if(Be._hasDelta&&(ht=function(){var Et=v(Me,{tickformat:Be.delta.valueformat},Be._range);Et.setScale(),r.prepTicks(Et);var Wt=function(Ne){return r.tickText(Et,Ne).text},Ht=Be.delta.suffix,Ke=Be.delta.prefix,$e=function(Ne){return Be.delta.relative?Ne.relativeDelta:Ne.delta},Ue=function(Ne,Qe){return Ne===0||typeof Ne!="number"||isNaN(Ne)?"-":(Ne>0?Be.delta.increasing.symbol:Be.delta.decreasing.symbol)+Ke+Qe(Ne)+Ht},nt=function(Ne){return Ne.delta>=0?Be.delta.increasing.color:Be.delta.decreasing.color};Be._deltaLastValue===void 0&&(Be._deltaLastValue=$e(te[0]));var ct=Ye.select("text.delta");function Oe(){ct.text(Ue($e(te[0]),Wt)).call(h.fill,nt(te[0])).call(n.convertToTspans,Me)}return ct.call(s.font,Be.delta.font).call(h.fill,nt({delta:Be._deltaLastValue})),x(Te)?ct.transition().duration(Te.duration).ease(Te.easing).tween("text",function(){var Ne=b.select(this),Qe=$e(te[0]),ut=Be._deltaLastValue,pt=st(Be.delta.valueformat,Wt,ut,Qe),wt=a(ut,Qe);return Be._deltaLastValue=Qe,function(Lt){Ne.text(Ue(wt(Lt),pt)),Ne.call(h.fill,nt({delta:wt(Lt)}))}}).each("end",function(){Oe(),Fe&&Fe()}).each("interrupt",function(){Oe(),Fe&&Fe()}):Oe(),we=c(Ue($e(te[0]),Wt),Be.delta.font,_e,Me),ct}(),xt+=Be.delta.position+Be.delta.font.size+Be.delta.font.family+Be.delta.valueformat,xt+=Be.delta.increasing.symbol+Be.delta.decreasing.symbol,Ee=we),Be._hasNumber&&(function(){var Et=v(Me,{tickformat:Be.number.valueformat},Be._range);Et.setScale(),r.prepTicks(Et);var Wt=function(nt){return r.tickText(Et,nt).text},Ht=Be.number.suffix,Ke=Be.number.prefix,$e=Ye.select("text.number");function Ue(){var nt=typeof te[0].y=="number"?Ke+Wt(te[0].y)+Ht:"-";$e.text(nt).call(s.font,Be.number.font).call(n.convertToTspans,Me)}x(Te)?$e.transition().duration(Te.duration).ease(Te.easing).each("end",function(){Ue(),Fe&&Fe()}).each("interrupt",function(){Ue(),Fe&&Fe()}).attrTween("text",function(){var nt=b.select(this),ct=a(te[0].lastY,te[0].y);Be._lastValue=te[0].y;var Oe=st(Be.number.valueformat,Wt,te[0].lastY,te[0].y);return function(Ne){nt.text(Ke+Oe(ct(Ne))+Ht)}}):Ue(),ge=c(Ke+Wt(te[0].y)+Ht,Be.number.font,_e,Me)}(),xt+=Be.number.font.size+Be.number.font.family+Be.number.valueformat+Be.number.suffix+Be.number.prefix,Ee=ge),Be._hasDelta&&Be._hasNumber){var Ct,St,kt=[(ge.left+ge.right)/2,(ge.top+ge.bottom)/2],Nt=[(we.left+we.right)/2,(we.top+we.bottom)/2],Dt=.75*Be.delta.font.size;Be.delta.position==="left"&&(Ct=E(Be,"deltaPos",0,-1*(ge.width*m[Be.align]+we.width*(1-m[Be.align])+Dt),xt,Math.min),St=kt[1]-Nt[1],Ee={width:ge.width+we.width+Dt,height:Math.max(ge.height,we.height),left:we.left+Ct,right:ge.right,top:Math.min(ge.top,we.top+St),bottom:Math.max(ge.bottom,we.bottom+St)}),Be.delta.position==="right"&&(Ct=E(Be,"deltaPos",0,ge.width*(1-m[Be.align])+we.width*m[Be.align]+Dt,xt,Math.max),St=kt[1]-Nt[1],Ee={width:ge.width+we.width+Dt,height:Math.max(ge.height,we.height),left:ge.left,right:we.right+Ct,top:Math.min(ge.top,we.top+St),bottom:Math.max(ge.bottom,we.bottom+St)}),Be.delta.position==="bottom"&&(Ct=null,St=we.height,Ee={width:Math.max(ge.width,we.width),height:ge.height+we.height,left:Math.min(ge.left,we.left),right:Math.max(ge.right,we.right),top:ge.bottom-ge.height,bottom:ge.bottom+we.height}),Be.delta.position==="top"&&(Ct=null,St=ge.top,Ee={width:Math.max(ge.width,we.width),height:ge.height+we.height,left:Math.min(ge.left,we.left),right:Math.max(ge.right,we.right),top:ge.bottom-ge.height-we.height,bottom:ge.bottom}),ht.attr({dx:Ct,dy:St})}(Be._hasNumber||Be._hasDelta)&&Ye.attr("transform",function(){var Et=ue.numbersScaler(Ee);xt+=Et[2];var Wt,Ht=E(Be,"numbersScale",1,Et[0],xt,Math.min);Be._scaleNumbers||(Ht=1),Wt=Be._isAngular?je-Ht*Ee.bottom:je-Ht*(Ee.top+Ee.bottom)/2,Be._numbersTop=Ht*Ee.top+Wt;var Ke=Ee[he];he==="center"&&(Ke=(Ee.left+Ee.right)/2);var $e=Re-Ht*Ke;return $e=E(Be,"numbersTranslate",0,$e,xt,Math.max),f($e,Wt)+y(Ht)})})(A,ee,V,{numbersX:F,numbersY:W,numbersScaler:B,transitionOpts:O,onComplete:D}),K&&(U={range:q.gauge.axis.range,color:q.gauge.bgcolor,line:{color:q.gauge.bordercolor,width:0},thickness:1},H={range:q.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:q.gauge.bordercolor,width:q.gauge.borderwidth},thickness:1});var fe=ee.selectAll("g.angular").data(J?V:[]);fe.exit().remove();var pe=ee.selectAll("g.angularaxis").data(J?V:[]);pe.exit().remove(),J&&function(Me,ke,te,ue){var ge,we,Ee,Be,Re=te[0].trace,je=ue.size,he=ue.radius,_e=ue.innerRadius,Te=ue.gaugeBg,Fe=ue.gaugeOutline,Ye=[je.l+je.w/2,je.t+je.h/2+he/2],Ge=ue.gauge,ot=ue.layer,st=ue.transitionOpts,ht=ue.onComplete,xt=Math.PI/2;function Ct(Lt){var It=Re.gauge.axis.range[0],yt=(Lt-It)/(Re.gauge.axis.range[1]-It)*Math.PI-xt;return yt<-xt?-xt:yt>xt?xt:yt}function St(Lt){return b.svg.arc().innerRadius((_e+he)/2-Lt/2*(he-_e)).outerRadius((_e+he)/2+Lt/2*(he-_e)).startAngle(-xt)}function kt(Lt){Lt.attr("d",function(It){return St(It.thickness).startAngle(Ct(It.range[0])).endAngle(Ct(It.range[1]))()})}Ge.enter().append("g").classed("angular",!0),Ge.attr("transform",f(Ye[0],Ye[1])),ot.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ot.selectAll("g.xangularaxistick,path,text").remove(),(ge=v(Me,Re.gauge.axis)).type="linear",ge.range=Re.gauge.axis.range,ge._id="xangularaxis",ge.ticklabeloverflow="allow",ge.setScale();var Nt=function(Lt){return(ge.range[0]-Lt.x)/(ge.range[1]-ge.range[0])*Math.PI+Math.PI},Dt={},Et=r.makeLabelFns(ge,0).labelStandoff;Dt.xFn=function(Lt){var It=Nt(Lt);return Math.cos(It)*Et},Dt.yFn=function(Lt){var It=Nt(Lt),yt=Math.sin(It)>0?.2:1;return-Math.sin(It)*(Et+Lt.fontSize*yt)+Math.abs(Math.cos(It))*(Lt.fontSize*t)},Dt.anchorFn=function(Lt){var It=Nt(Lt),yt=Math.cos(It);return Math.abs(yt)<.1?"middle":yt>0?"start":"end"},Dt.heightFn=function(Lt,It,yt){var Rt=Nt(Lt);return-.5*(1+Math.sin(Rt))*yt};var Wt=function(Lt){return f(Ye[0]+he*Math.cos(Lt),Ye[1]-he*Math.sin(Lt))};if(Ee=function(Lt){return Wt(Nt(Lt))},we=r.calcTicks(ge),Be=r.getTickSigns(ge)[2],ge.visible){Be=ge.ticks==="inside"?-1:1;var Ht=(ge.linewidth||1)/2;r.drawTicks(Me,ge,{vals:we,layer:ot,path:"M"+Be*Ht+",0h"+Be*ge.ticklen,transFn:function(Lt){var It=Nt(Lt);return Wt(It)+"rotate("+-l(It)+")"}}),r.drawLabels(Me,ge,{vals:we,layer:ot,transFn:Ee,labelFns:Dt})}var Ke=[Te].concat(Re.gauge.steps),$e=Ge.selectAll("g.bg-arc").data(Ke);$e.enter().append("g").classed("bg-arc",!0).append("path"),$e.select("path").call(kt).call(g),$e.exit().remove();var Ue=St(Re.gauge.bar.thickness),nt=Ge.selectAll("g.value-arc").data([Re.gauge.bar]);nt.enter().append("g").classed("value-arc",!0).append("path");var ct,Oe,Ne,Qe=nt.select("path");x(st)?(Qe.transition().duration(st.duration).ease(st.easing).each("end",function(){ht&&ht()}).each("interrupt",function(){ht&&ht()}).attrTween("d",(ct=Ue,Oe=Ct(te[0].lastY),Ne=Ct(te[0].y),function(){var Lt=w(Oe,Ne);return function(It){return ct.endAngle(Lt(It))()}})),Re._lastValue=te[0].y):Qe.attr("d",typeof te[0].y=="number"?Ue.endAngle(Ct(te[0].y)):"M0,0Z"),Qe.call(g),nt.exit().remove(),Ke=[];var ut=Re.gauge.threshold.value;(ut||ut===0)&&Ke.push({range:[ut,ut],color:Re.gauge.threshold.color,line:{color:Re.gauge.threshold.line.color,width:Re.gauge.threshold.line.width},thickness:Re.gauge.threshold.thickness});var pt=Ge.selectAll("g.threshold-arc").data(Ke);pt.enter().append("g").classed("threshold-arc",!0).append("path"),pt.select("path").call(kt).call(g),pt.exit().remove();var wt=Ge.selectAll("g.gauge-outline").data([Fe]);wt.enter().append("g").classed("gauge-outline",!0).append("path"),wt.select("path").call(kt).call(g),wt.exit().remove()}(A,0,V,{radius:se,innerRadius:ce,gauge:fe,layer:pe,size:ne,gaugeBg:U,gaugeOutline:H,transitionOpts:O,onComplete:D});var Le=ee.selectAll("g.bullet").data(Z?V:[]);Le.exit().remove();var ye=ee.selectAll("g.bulletaxis").data(Z?V:[]);ye.exit().remove(),Z&&function(Me,ke,te,ue){var ge,we,Ee,Be,Re,je=te[0].trace,he=ue.gauge,_e=ue.layer,Te=ue.gaugeBg,Fe=ue.gaugeOutline,Ye=ue.size,Ge=je.domain,ot=ue.transitionOpts,st=ue.onComplete;he.enter().append("g").classed("bullet",!0),he.attr("transform",f(Ye.l,Ye.t)),_e.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),_e.selectAll("g.xbulletaxistick,path,text").remove();var ht=Ye.h,xt=je.gauge.bar.thickness*ht,Ct=Ge.x[0],St=Ge.x[0]+(Ge.x[1]-Ge.x[0])*(je._hasNumber||je._hasDelta?1-o.bulletNumberDomainSize:1);function kt($e){$e.attr("width",function(Ue){return Math.max(0,ge.c2p(Ue.range[1])-ge.c2p(Ue.range[0]))}).attr("x",function(Ue){return ge.c2p(Ue.range[0])}).attr("y",function(Ue){return .5*(1-Ue.thickness)*ht}).attr("height",function(Ue){return Ue.thickness*ht})}(ge=v(Me,je.gauge.axis))._id="xbulletaxis",ge.domain=[Ct,St],ge.setScale(),we=r.calcTicks(ge),Ee=r.makeTransTickFn(ge),Be=r.getTickSigns(ge)[2],Re=Ye.t+Ye.h,ge.visible&&(r.drawTicks(Me,ge,{vals:ge.ticks==="inside"?r.clipEnds(ge,we):we,layer:_e,path:r.makeTickPath(ge,Re,Be),transFn:Ee}),r.drawLabels(Me,ge,{vals:we,layer:_e,transFn:Ee,labelFns:r.makeLabelFns(ge,Re)}));var Nt=[Te].concat(je.gauge.steps),Dt=he.selectAll("g.bg-bullet").data(Nt);Dt.enter().append("g").classed("bg-bullet",!0).append("rect"),Dt.select("rect").call(kt).call(g),Dt.exit().remove();var Et=he.selectAll("g.value-bullet").data([je.gauge.bar]);Et.enter().append("g").classed("value-bullet",!0).append("rect"),Et.select("rect").attr("height",xt).attr("y",(ht-xt)/2).call(g),x(ot)?Et.select("rect").transition().duration(ot.duration).ease(ot.easing).each("end",function(){st&&st()}).each("interrupt",function(){st&&st()}).attr("width",Math.max(0,ge.c2p(Math.min(je.gauge.axis.range[1],te[0].y)))):Et.select("rect").attr("width",typeof te[0].y=="number"?Math.max(0,ge.c2p(Math.min(je.gauge.axis.range[1],te[0].y))):0),Et.exit().remove();var Wt=te.filter(function(){return je.gauge.threshold.value||je.gauge.threshold.value===0}),Ht=he.selectAll("g.threshold-bullet").data(Wt);Ht.enter().append("g").classed("threshold-bullet",!0).append("line"),Ht.select("line").attr("x1",ge.c2p(je.gauge.threshold.value)).attr("x2",ge.c2p(je.gauge.threshold.value)).attr("y1",(1-je.gauge.threshold.thickness)/2*ht).attr("y2",(1-(1-je.gauge.threshold.thickness)/2)*ht).call(h.stroke,je.gauge.threshold.line.color).style("stroke-width",je.gauge.threshold.line.width),Ht.exit().remove();var Ke=he.selectAll("g.gauge-outline").data([Fe]);Ke.enter().append("g").classed("gauge-outline",!0).append("rect"),Ke.select("rect").call(kt).call(g),Ke.exit().remove()}(A,0,V,{gauge:Le,layer:ye,size:ne,gaugeBg:U,gaugeOutline:H,transitionOpts:O,onComplete:D});var Ae=ee.selectAll("text.title").data(V);Ae.exit().remove(),Ae.enter().append("text").classed("title",!0),Ae.attr("text-anchor",function(){return Z?_.right:_[q.title.align]}).text(q.title.text).call(s.font,q.title.font).call(n.convertToTspans,A),Ae.attr("transform",function(){var Me,ke=ne.l+ne.w*m[q.title.align],te=o.titlePadding,ue=s.bBox(Ae.node());return K?(J&&(Me=q.gauge.axis.visible?s.bBox(pe.node()).top-te-ue.bottom:ne.t+ne.h/2-se/2-ue.bottom-te),Z&&(Me=W-(ue.top+ue.bottom)/2,ke=ne.l-o.bulletPadding*ne.w)):Me=q._numbersTop-te-ue.bottom,f(ke,Me)})})}},16249:function(L,M,e){"use strict";var b=e(50693),w=e(12663).axisHoverFormat,a=e(5386).fF,k=e(2418),y=e(9012),f=e(1426).extendFlat,l=e(30962).overrideAll,t=L.exports=l(f({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),valuehoverformat:w("value",1),showlegend:f({},y.showlegend,{dflt:!1})},b("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:k.opacity,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:f({},y.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},56959:function(L,M,e){"use strict";var b=e(78803),w=e(88489).processGrid,a=e(88489).filter;L.exports=function(k,y){y._len=Math.min(y.x.length,y.y.length,y.z.length,y.value.length),y._x=a(y.x,y._len),y._y=a(y.y,y._len),y._z=a(y.z,y._len),y._value=a(y.value,y._len);var f=w(y);y._gridFill=f.fill,y._Xs=f.Xs,y._Ys=f.Ys,y._Zs=f.Zs,y._len=f.len;for(var l=1/0,t=-1/0,s=0;s<y._len;s++){var o=y._value[s];l=Math.min(l,o),t=Math.max(t,o)}y._minValues=l,y._maxValues=t,y._vMin=y.isomin===void 0||y.isomin===null?l:y.isomin,y._vMax=y.isomax===void 0||y.isomin===null?t:y.isomax,b(k,y,{vals:[y._vMin,y._vMax],containerStr:"",cLetter:"c"})}},22674:function(L,M,e){"use strict";var b=e(9330).gl_mesh3d,w=e(81697).parseColorScale,a=e(78614),k=e(21081).extractOpts,y=e(90060),f=function(n,r){for(var i=r.length-1;i>0;i--){var u=Math.min(r[i],r[i-1]),p=Math.max(r[i],r[i-1]);if(p>u&&u<n&&n<=p)return{id:i,distRatio:(p-n)/(p-u)}}return{id:0,distRatio:0}};function l(n,r,i){this.scene=n,this.uid=i,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var t=l.prototype;t.handlePick=function(n){if(n.object===this.mesh){var r=n.data.index,i=this.data._meshX[r],u=this.data._meshY[r],p=this.data._meshZ[r],h=this.data._Ys.length,_=this.data._Zs.length,m=f(i,this.data._Xs).id,d=f(u,this.data._Ys).id,x=f(p,this.data._Zs).id,g=n.index=x+_*d+_*h*m;n.traceCoordinate=[this.data._meshX[g],this.data._meshY[g],this.data._meshZ[g],this.data._value[g]];var v=this.data.hovertext||this.data.text;return Array.isArray(v)&&v[g]!==void 0?n.textLabel=v[g]:v&&(n.textLabel=v),!0}},t.update=function(n){var r=this.scene,i=r.fullSceneLayout;function u(_,m,d,x){return m.map(function(g){return _.d2l(g,0,x)*d})}this.data=o(n);var p={positions:y(u(i.xaxis,n._meshX,r.dataScale[0],n.xcalendar),u(i.yaxis,n._meshY,r.dataScale[1],n.ycalendar),u(i.zaxis,n._meshZ,r.dataScale[2],n.zcalendar)),cells:y(n._meshI,n._meshJ,n._meshK),lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},h=k(n);p.vertexIntensity=n._meshIntensity,p.vertexIntensityBounds=[h.min,h.max],p.colormap=w(n),this.mesh.update(p)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function o(n){n._meshI=[],n._meshJ=[],n._meshK=[];var r,i,u,p,h,_,m,d=n.surface.show,x=n.spaceframe.show,g=n.surface.fill,v=n.spaceframe.fill,T=!1,c=!1,E=0,A=n._Xs,C=n._Ys,O=n._Zs,P=A.length,D=C.length,z=O.length,V=s.indexOf(n._gridFill.replace(/-/g,"").replace(/\+/g,"")),F=function(je,he,_e){switch(V){case 5:return _e+z*he+z*D*je;case 4:return _e+z*je+z*P*he;case 3:return he+D*_e+D*z*je;case 2:return he+D*je+D*P*_e;case 1:return je+P*_e+P*z*he;default:return je+P*he+P*D*_e}},W=n._minValues,B=n._maxValues,U=n._vMin,H=n._vMax;function q(je,he,_e){for(var Te=_.length,Fe=i;Fe<Te;Fe++)if(je===u[Fe]&&he===p[Fe]&&_e===h[Fe])return Fe;return-1}function ee(){i=r}function K(){u=[],p=[],h=[],_=[],r=0,ee()}function J(je,he,_e,Te){return u.push(je),p.push(he),h.push(_e),_.push(Te),++r-1}function Z(je,he,_e){for(var Te=[],Fe=0;Fe<je.length;Fe++)Te[Fe]=je[Fe]*(1-_e)+_e*he[Fe];return Te}function $(je){m=je}function ne(je,he){return je==="all"||je===null||je.indexOf(he)>-1}function ae(je,he){return je===null?he:je}function oe(je,he,_e){ee();var Te,Fe,Ye,Ge=[he],ot=[_e];if(m>=1)Ge=[he],ot=[_e];else if(m>0){var st=function(Wt,Ht){var Ke=Wt[0],$e=Wt[1],Ue=Wt[2],nt=function(Lt,It,yt){for(var Rt=[],bt=0;bt<Lt.length;bt++)Rt[bt]=(Lt[bt]+It[bt]+yt[bt])/3;return Rt}(Ke,$e,Ue),ct=Math.sqrt(1-m),Oe=Z(nt,Ke,ct),Ne=Z(nt,$e,ct),Qe=Z(nt,Ue,ct),ut=Ht[0],pt=Ht[1],wt=Ht[2];return{xyzv:[[Ke,$e,Ne],[Ne,Oe,Ke],[$e,Ue,Qe],[Qe,Ne,$e],[Ue,Ke,Oe],[Oe,Qe,Ue]],abc:[[ut,pt,-1],[-1,-1,ut],[pt,wt,-1],[-1,-1,pt],[wt,ut,-1],[-1,-1,wt]]}}(he,_e);Ge=st.xyzv,ot=st.abc}for(var ht=0;ht<Ge.length;ht++){he=Ge[ht],_e=ot[ht];for(var xt=[],Ct=0;Ct<3;Ct++){var St=he[Ct][0],kt=he[Ct][1],Nt=he[Ct][2],Dt=he[Ct][3],Et=_e[Ct]>-1?_e[Ct]:q(St,kt,Nt);xt[Ct]=Et>-1?Et:J(St,kt,Nt,ae(je,Dt))}Te=xt[0],Fe=xt[1],Ye=xt[2],n._meshI.push(Te),n._meshJ.push(Fe),n._meshK.push(Ye),++E}}function se(je,he,_e,Te){var Fe=je[3];Fe<_e&&(Fe=_e),Fe>Te&&(Fe=Te);for(var Ye=(je[3]-Fe)/(je[3]-he[3]+1e-9),Ge=[],ot=0;ot<4;ot++)Ge[ot]=(1-Ye)*je[ot]+Ye*he[ot];return Ge}function ce(je,he,_e){return je>=he&&je<=_e}function me(je){var he=.001*(H-U);return je>=U-he&&je<=H+he}function xe(je){for(var he=[],_e=0;_e<4;_e++){var Te=je[_e];he.push([n._x[Te],n._y[Te],n._z[Te],n._value[Te]])}return he}function ve(je,he,_e,Te,Fe,Ye){Ye||(Ye=1),_e=[-1,-1,-1];var Ge=!1,ot=[ce(he[0][3],Te,Fe),ce(he[1][3],Te,Fe),ce(he[2][3],Te,Fe)];if(!ot[0]&&!ot[1]&&!ot[2])return!1;var st=function(xt,Ct,St){return me(Ct[0][3])&&me(Ct[1][3])&&me(Ct[2][3])?(oe(xt,Ct,St),!0):Ye<3&&ve(xt,Ct,St,U,H,++Ye)};if(ot[0]&&ot[1]&&ot[2])return st(je,he,_e)||Ge;var ht=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(xt){if(ot[xt[0]]&&ot[xt[1]]&&!ot[xt[2]]){var Ct=he[xt[0]],St=he[xt[1]],kt=he[xt[2]],Nt=se(kt,Ct,Te,Fe),Dt=se(kt,St,Te,Fe);Ge=st(je,[Dt,Nt,Ct],[-1,-1,_e[xt[0]]])||Ge,Ge=st(je,[Ct,St,Dt],[_e[xt[0]],_e[xt[1]],-1])||Ge,ht=!0}}),ht||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(xt){if(ot[xt[0]]&&!ot[xt[1]]&&!ot[xt[2]]){var Ct=he[xt[0]],St=he[xt[1]],kt=he[xt[2]],Nt=se(St,Ct,Te,Fe),Dt=se(kt,Ct,Te,Fe);Ge=st(je,[Dt,Nt,Ct],[-1,-1,_e[xt[0]]])||Ge,ht=!0}}),Ge}function fe(je,he,_e,Te){var Fe=!1,Ye=xe(he),Ge=[ce(Ye[0][3],_e,Te),ce(Ye[1][3],_e,Te),ce(Ye[2][3],_e,Te),ce(Ye[3][3],_e,Te)];if(!(Ge[0]||Ge[1]||Ge[2]||Ge[3]))return Fe;if(Ge[0]&&Ge[1]&&Ge[2]&&Ge[3])return c&&(Fe=function(st,ht,xt){var Ct=function(St,kt,Nt){oe(st,[ht[St],ht[kt],ht[Nt]],[xt[St],xt[kt],xt[Nt]])};Ct(0,1,2),Ct(3,0,1),Ct(2,3,0),Ct(1,2,3)}(je,Ye,he)||Fe),Fe;var ot=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(st){if(Ge[st[0]]&&Ge[st[1]]&&Ge[st[2]]&&!Ge[st[3]]){var ht=Ye[st[0]],xt=Ye[st[1]],Ct=Ye[st[2]],St=Ye[st[3]];if(c)Fe=oe(je,[ht,xt,Ct],[he[st[0]],he[st[1]],he[st[2]]])||Fe;else{var kt=se(St,ht,_e,Te),Nt=se(St,xt,_e,Te),Dt=se(St,Ct,_e,Te);Fe=oe(null,[kt,Nt,Dt],[-1,-1,-1])||Fe}ot=!0}}),ot||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(st){if(Ge[st[0]]&&Ge[st[1]]&&!Ge[st[2]]&&!Ge[st[3]]){var ht=Ye[st[0]],xt=Ye[st[1]],Ct=Ye[st[2]],St=Ye[st[3]],kt=se(Ct,ht,_e,Te),Nt=se(Ct,xt,_e,Te),Dt=se(St,xt,_e,Te),Et=se(St,ht,_e,Te);c?(Fe=oe(je,[ht,Et,kt],[he[st[0]],-1,-1])||Fe,Fe=oe(je,[xt,Nt,Dt],[he[st[1]],-1,-1])||Fe):Fe=function(Wt,Ht,Ke){var $e=function(Ue,nt,ct){oe(null,[Ht[Ue],Ht[nt],Ht[ct]],[Ke[Ue],Ke[nt],Ke[ct]])};$e(0,1,2),$e(2,3,0)}(0,[kt,Nt,Dt,Et],[-1,-1,-1,-1])||Fe,ot=!0}}),ot||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(st){if(Ge[st[0]]&&!Ge[st[1]]&&!Ge[st[2]]&&!Ge[st[3]]){var ht=Ye[st[0]],xt=Ye[st[1]],Ct=Ye[st[2]],St=Ye[st[3]],kt=se(xt,ht,_e,Te),Nt=se(Ct,ht,_e,Te),Dt=se(St,ht,_e,Te);c?(Fe=oe(je,[ht,kt,Nt],[he[st[0]],-1,-1])||Fe,Fe=oe(je,[ht,Nt,Dt],[he[st[0]],-1,-1])||Fe,Fe=oe(je,[ht,Dt,kt],[he[st[0]],-1,-1])||Fe):Fe=oe(null,[kt,Nt,Dt],[-1,-1,-1])||Fe,ot=!0}})),Fe}function pe(je,he,_e,Te,Fe,Ye,Ge,ot,st,ht,xt){var Ct=!1;return T&&(ne(je,"A")&&(Ct=fe(null,[he,_e,Te,Ye],ht,xt)||Ct),ne(je,"B")&&(Ct=fe(null,[_e,Te,Fe,st],ht,xt)||Ct),ne(je,"C")&&(Ct=fe(null,[_e,Ye,Ge,st],ht,xt)||Ct),ne(je,"D")&&(Ct=fe(null,[Te,Ye,ot,st],ht,xt)||Ct),ne(je,"E")&&(Ct=fe(null,[_e,Te,Ye,st],ht,xt)||Ct)),c&&(Ct=fe(je,[_e,Te,Ye,st],ht,xt)||Ct),Ct}function Le(je,he,_e,Te,Fe,Ye,Ge,ot){return[ot[0]===!0||ve(je,xe([he,_e,Te]),[he,_e,Te],Ye,Ge),ot[1]===!0||ve(je,xe([Te,Fe,he]),[Te,Fe,he],Ye,Ge)]}function ye(je,he,_e,Te,Fe,Ye,Ge,ot,st){return ot?Le(je,he,_e,Fe,Te,Ye,Ge,st):Le(je,_e,Fe,Te,he,Ye,Ge,st)}function Ae(je,he,_e,Te,Fe,Ye,Ge){var ot,st,ht,xt,Ct=!1,St=function(){Ct=ve(je,[ot,st,ht],[-1,-1,-1],Fe,Ye)||Ct,Ct=ve(je,[ht,xt,ot],[-1,-1,-1],Fe,Ye)||Ct},kt=Ge[0],Nt=Ge[1],Dt=Ge[2];return kt&&(ot=Z(xe([F(he,_e-0,Te-0)])[0],xe([F(he-1,_e-0,Te-0)])[0],kt),st=Z(xe([F(he,_e-0,Te-1)])[0],xe([F(he-1,_e-0,Te-1)])[0],kt),ht=Z(xe([F(he,_e-1,Te-1)])[0],xe([F(he-1,_e-1,Te-1)])[0],kt),xt=Z(xe([F(he,_e-1,Te-0)])[0],xe([F(he-1,_e-1,Te-0)])[0],kt),St()),Nt&&(ot=Z(xe([F(he-0,_e,Te-0)])[0],xe([F(he-0,_e-1,Te-0)])[0],Nt),st=Z(xe([F(he-0,_e,Te-1)])[0],xe([F(he-0,_e-1,Te-1)])[0],Nt),ht=Z(xe([F(he-1,_e,Te-1)])[0],xe([F(he-1,_e-1,Te-1)])[0],Nt),xt=Z(xe([F(he-1,_e,Te-0)])[0],xe([F(he-1,_e-1,Te-0)])[0],Nt),St()),Dt&&(ot=Z(xe([F(he-0,_e-0,Te)])[0],xe([F(he-0,_e-0,Te-1)])[0],Dt),st=Z(xe([F(he-0,_e-1,Te)])[0],xe([F(he-0,_e-1,Te-1)])[0],Dt),ht=Z(xe([F(he-1,_e-1,Te)])[0],xe([F(he-1,_e-1,Te-1)])[0],Dt),xt=Z(xe([F(he-1,_e-0,Te)])[0],xe([F(he-1,_e-0,Te-1)])[0],Dt),St()),Ct}function Me(je,he,_e,Te,Fe,Ye,Ge,ot,st,ht,xt,Ct){var St=je;return Ct?(T&&je==="even"&&(St=null),pe(St,he,_e,Te,Fe,Ye,Ge,ot,st,ht,xt)):(T&&je==="odd"&&(St=null),pe(St,st,ot,Ge,Ye,Fe,Te,_e,he,ht,xt))}function ke(je,he,_e,Te,Fe){for(var Ye=[],Ge=0,ot=0;ot<he.length;ot++)for(var st=he[ot],ht=1;ht<z;ht++)for(var xt=1;xt<D;xt++)Ye.push(ye(je,F(st,xt-1,ht-1),F(st,xt-1,ht),F(st,xt,ht-1),F(st,xt,ht),_e,Te,(st+xt+ht)%2,Fe&&Fe[Ge]?Fe[Ge]:[])),Ge++;return Ye}function te(je,he,_e,Te,Fe){for(var Ye=[],Ge=0,ot=0;ot<he.length;ot++)for(var st=he[ot],ht=1;ht<P;ht++)for(var xt=1;xt<z;xt++)Ye.push(ye(je,F(ht-1,st,xt-1),F(ht,st,xt-1),F(ht-1,st,xt),F(ht,st,xt),_e,Te,(ht+st+xt)%2,Fe&&Fe[Ge]?Fe[Ge]:[])),Ge++;return Ye}function ue(je,he,_e,Te,Fe){for(var Ye=[],Ge=0,ot=0;ot<he.length;ot++)for(var st=he[ot],ht=1;ht<D;ht++)for(var xt=1;xt<P;xt++)Ye.push(ye(je,F(xt-1,ht-1,st),F(xt-1,ht,st),F(xt,ht-1,st),F(xt,ht,st),_e,Te,(xt+ht+st)%2,Fe&&Fe[Ge]?Fe[Ge]:[])),Ge++;return Ye}function ge(je,he,_e){for(var Te=1;Te<z;Te++)for(var Fe=1;Fe<D;Fe++)for(var Ye=1;Ye<P;Ye++)Me(je,F(Ye-1,Fe-1,Te-1),F(Ye-1,Fe-1,Te),F(Ye-1,Fe,Te-1),F(Ye-1,Fe,Te),F(Ye,Fe-1,Te-1),F(Ye,Fe-1,Te),F(Ye,Fe,Te-1),F(Ye,Fe,Te),he,_e,(Ye+Fe+Te)%2)}function we(je,he,_e,Te,Fe,Ye){for(var Ge=[],ot=0,st=0;st<he.length;st++)for(var ht=he[st],xt=1;xt<z;xt++)for(var Ct=1;Ct<D;Ct++)Ge.push(Ae(je,ht,Ct,xt,_e,Te,Fe[st],Ye&&Ye[ot]&&Ye[ot])),ot++;return Ge}function Ee(je,he,_e,Te,Fe,Ye){for(var Ge=[],ot=0,st=0;st<he.length;st++)for(var ht=he[st],xt=1;xt<P;xt++)for(var Ct=1;Ct<z;Ct++)Ge.push(Ae(je,xt,ht,Ct,_e,Te,Fe[st],Ye&&Ye[ot]&&Ye[ot])),ot++;return Ge}function Be(je,he,_e,Te,Fe,Ye){for(var Ge=[],ot=0,st=0;st<he.length;st++)for(var ht=he[st],xt=1;xt<D;xt++)for(var Ct=1;Ct<P;Ct++)Ge.push(Ae(je,Ct,xt,ht,_e,Te,Fe[st],Ye&&Ye[ot]&&Ye[ot])),ot++;return Ge}function Re(je,he){for(var _e=[],Te=je;Te<he;Te++)_e.push(Te);return _e}return function(){K(),function(){for(var st=0;st<P;st++)for(var ht=0;ht<D;ht++)for(var xt=0;xt<z;xt++){var Ct=F(st,ht,xt);J(n._x[Ct],n._y[Ct],n._z[Ct],n._value[Ct])}}();var je=null;if(x&&v&&($(v),c=!0,ge(je,U,H),c=!1),d&&g){$(g);for(var he=n.surface.pattern,_e=n.surface.count,Te=0;Te<_e;Te++){var Fe=_e===1?.5:Te/(_e-1),Ye=(1-Fe)*U+Fe*H,Ge=Math.abs(Ye-W)>Math.abs(Ye-B)?[W,Ye]:[Ye,B];T=!0,ge(he,Ge[0],Ge[1]),T=!1}}var ot=[[Math.min(U,B),Math.max(U,B)],[Math.min(W,H),Math.max(W,H)]];["x","y","z"].forEach(function(st){for(var ht=[],xt=0;xt<ot.length;xt++){var Ct=0,St=ot[xt][0],kt=ot[xt][1],Nt=n.slices[st];if(Nt.show&&Nt.fill){$(Nt.fill);var Dt=[],Et=[],Wt=[];if(Nt.locations.length)for(var Ht=0;Ht<Nt.locations.length;Ht++){var Ke=f(Nt.locations[Ht],st==="x"?A:st==="y"?C:O);Ke.distRatio===0?Dt.push(Ke.id):Ke.id>0&&(Et.push(Ke.id),st==="x"?Wt.push([Ke.distRatio,0,0]):st==="y"?Wt.push([0,Ke.distRatio,0]):Wt.push([0,0,Ke.distRatio]))}else Dt=Re(1,st==="x"?P-1:st==="y"?D-1:z-1);Et.length>0&&(ht[Ct]=st==="x"?we(je,Et,St,kt,Wt,ht[Ct]):st==="y"?Ee(je,Et,St,kt,Wt,ht[Ct]):Be(je,Et,St,kt,Wt,ht[Ct]),Ct++),Dt.length>0&&(ht[Ct]=st==="x"?ke(je,Dt,St,kt,ht[Ct]):st==="y"?te(je,Dt,St,kt,ht[Ct]):ue(je,Dt,St,kt,ht[Ct]),Ct++)}var $e=n.caps[st];$e.show&&$e.fill&&($($e.fill),ht[Ct]=st==="x"?ke(je,[0,P-1],St,kt,ht[Ct]):st==="y"?te(je,[0,D-1],St,kt,ht[Ct]):ue(je,[0,z-1],St,kt,ht[Ct]),Ct++)}}),E===0&&K(),n._meshX=u,n._meshY=p,n._meshZ=h,n._meshIntensity=_,n._Xs=A,n._Ys=C,n._Zs=O}(),n}L.exports={findNearestOnAxis:f,generateIsoMeshes:o,createIsosurfaceTrace:function(n,r){var i=n.glplot.gl,u=b({gl:i}),p=new l(n,u,r.uid);return u._trace=p,p.update(r),n.glplot.add(u),p}}},82738:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=e(16249),k=e(1586);function y(f,l,t,s,o){var n=o("isomin"),r=o("isomax");r!=null&&n!=null&&n>r&&(l.isomin=null,l.isomax=null);var i=o("x"),u=o("y"),p=o("z"),h=o("value");i&&i.length&&u&&u.length&&p&&p.length&&h&&h.length?(w.getComponentMethod("calendars","handleTraceDefaults")(f,l,["x","y","z"],s),o("valuehoverformat"),["x","y","z"].forEach(function(_){o(_+"hoverformat");var m="caps."+_;o(m+".show")&&o(m+".fill");var d="slices."+_;o(d+".show")&&(o(d+".fill"),o(d+".locations"))}),o("spaceframe.show")&&o("spaceframe.fill"),o("surface.show")&&(o("surface.count"),o("surface.fill"),o("surface.pattern")),o("contour.show")&&(o("contour.color"),o("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(_){o(_)}),k(f,l,s,o,{prefix:"",cLetter:"c"}),l._length=null):l.visible=!1}L.exports={supplyDefaults:function(f,l,t,s){y(f,l,0,s,function(o,n){return b.coerce(f,l,a,o,n)})},supplyIsoDefaults:y}},64943:function(L,M,e){"use strict";L.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(L,M,e){"use strict";var b=e(50693),w=e(12663).axisHoverFormat,a=e(5386).fF,k=e(54532),y=e(9012),f=e(1426).extendFlat;L.exports=f({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},b("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:k.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:f({},k.contours.x.show,{}),color:k.contours.x.color,width:k.contours.x.width,editType:"calc"},lightposition:{x:f({},k.lightposition.x,{dflt:1e5}),y:f({},k.lightposition.y,{dflt:1e5}),z:f({},k.lightposition.z,{dflt:0}),editType:"calc"},lighting:f({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},k.lighting),hoverinfo:f({},y.hoverinfo,{editType:"calc"}),showlegend:f({},y.showlegend,{dflt:!1})})},82932:function(L,M,e){"use strict";var b=e(78803);L.exports=function(w,a){a.intensity&&b(w,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},91134:function(L,M,e){"use strict";var b=e(9330).gl_mesh3d,w=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,k=e(9330).convex_hull,y=e(81697).parseColorScale,f=e(78614),l=e(21081).extractOpts,t=e(90060);function s(p,h,_){this.scene=p,this.uid=_,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var o=s.prototype;function n(p){for(var h=[],_=p.length,m=0;m<_;m++)h[m]=f(p[m]);return h}function r(p,h,_,m){for(var d=[],x=h.length,g=0;g<x;g++)d[g]=p.d2l(h[g],0,m)*_;return d}function i(p){for(var h=[],_=p.length,m=0;m<_;m++)h[m]=Math.round(p[m]);return h}function u(p,h){for(var _=p.length,m=0;m<_;m++)if(p[m]<=-.5||p[m]>=h-.5)return!1;return!0}o.handlePick=function(p){if(p.object===this.mesh){var h=p.index=p.data.index;p.data._cellCenter?p.traceCoordinate=p.data.dataCoordinate:p.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h]];var _=this.data.hovertext||this.data.text;return Array.isArray(_)&&_[h]!==void 0?p.textLabel=_[h]:_&&(p.textLabel=_),!0}},o.update=function(p){var h=this.scene,_=h.fullSceneLayout;this.data=p;var m,d=p.x.length,x=t(r(_.xaxis,p.x,h.dataScale[0],p.xcalendar),r(_.yaxis,p.y,h.dataScale[1],p.ycalendar),r(_.zaxis,p.z,h.dataScale[2],p.zcalendar));if(p.i&&p.j&&p.k){if(p.i.length!==p.j.length||p.j.length!==p.k.length||!u(p.i,d)||!u(p.j,d)||!u(p.k,d))return;m=t(i(p.i),i(p.j),i(p.k))}else m=p.alphahull===0?k(x):p.alphahull>0?a(p.alphahull,x):function(c,E){for(var A=["x","y","z"].indexOf(c),C=[],O=E.length,P=0;P<O;P++)C[P]=[E[P][(A+1)%3],E[P][(A+2)%3]];return w(C)}(p.delaunayaxis,x);var g={positions:x,cells:m,lightPosition:[p.lightposition.x,p.lightposition.y,p.lightposition.z],ambient:p.lighting.ambient,diffuse:p.lighting.diffuse,specular:p.lighting.specular,roughness:p.lighting.roughness,fresnel:p.lighting.fresnel,vertexNormalsEpsilon:p.lighting.vertexnormalsepsilon,faceNormalsEpsilon:p.lighting.facenormalsepsilon,opacity:p.opacity,contourEnable:p.contour.show,contourColor:f(p.contour.color).slice(0,3),contourWidth:p.contour.width,useFacetNormals:p.flatshading};if(p.intensity){var v=l(p);this.color="#fff";var T=p.intensitymode;g[T+"Intensity"]=p.intensity,g[T+"IntensityBounds"]=[v.min,v.max],g.colormap=y(p)}else p.vertexcolor?(this.color=p.vertexcolor[0],g.vertexColors=n(p.vertexcolor)):p.facecolor?(this.color=p.facecolor[0],g.cellColors=n(p.facecolor)):(this.color=p.color,g.meshColor=f(p.color));this.mesh.update(g)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},L.exports=function(p,h){var _=p.glplot.gl,m=b({gl:_}),d=new s(p,m,h.uid);return m._trace=d,d.update(h),p.glplot.add(m),d}},58669:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(1586),k=e(2418);L.exports=function(y,f,l,t){function s(n,r){return w.coerce(y,f,k,n,r)}function o(n){var r=n.map(function(i){var u=s(i);return u&&w.isArrayOrTypedArray(u)?u:null});return r.every(function(i){return i&&i.length===r[0].length})&&r}o(["x","y","z"])?(o(["i","j","k"]),(!f.i||f.j&&f.k)&&(!f.j||f.k&&f.i)&&(!f.k||f.i&&f.j)?(b.getComponentMethod("calendars","handleTraceDefaults")(y,f,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(n){s(n)}),s("contour.show")&&(s("contour.color"),s("contour.width")),"intensity"in y?(s("intensity"),s("intensitymode"),a(y,f,t,s,{prefix:"",cLetter:"c"})):(f.showscale=!1,"facecolor"in y?s("facecolor"):"vertexcolor"in y?s("vertexcolor"):s("color",l)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),f._length=null):f.visible=!1):f.visible=!1}},21164:function(L,M,e){"use strict";L.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(L,M,e){"use strict";var b=e(71828).extendFlat,w=e(82196),a=e(12663).axisHoverFormat,k=e(79952).P,y=e(77914),f=e(22372),l=f.INCREASING.COLOR,t=f.DECREASING.COLOR,s=w.line;function o(n){return{line:{color:b({},s.color,{dflt:n}),width:s.width,dash:k,editType:"style"},editType:"style"}}L.exports={xperiod:w.xperiod,xperiod0:w.xperiod0,xperiodalignment:w.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:b({},s.width,{}),dash:b({},k,{}),editType:"style"},increasing:o(l),decreasing:o(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:b({},y.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(L,M,e){"use strict";var b=e(71828),w=b._,a=e(89298),k=e(42973),y=e(50606).BADNUM;function f(t,s,o,n){return{o:t,h:s,l:o,c:n}}function l(t,s,o,n,r,i){for(var u=r.makeCalcdata(s,"open"),p=r.makeCalcdata(s,"high"),h=r.makeCalcdata(s,"low"),_=r.makeCalcdata(s,"close"),m=Array.isArray(s.text),d=Array.isArray(s.hovertext),x=!0,g=null,v=!!s.xperiodalignment,T=[],c=0;c<n.length;c++){var E=n[c],A=u[c],C=p[c],O=h[c],P=_[c];if(E!==y&&A!==y&&C!==y&&O!==y&&P!==y){P===A?g!==null&&P!==g&&(x=P>g):x=P>A,g=P;var D=i(A,C,O,P);D.pos=E,D.yc=(A+P)/2,D.i=c,D.dir=x?"increasing":"decreasing",D.x=D.pos,D.y=[O,C],v&&(D.orig_p=o[c]),m&&(D.tx=s.text[c]),d&&(D.htx=s.hovertext[c]),T.push(D)}else T.push({pos:E,empty:!0})}return s._extremes[r._id]=a.findExtremes(r,b.concat(h,p),{padded:!0}),T.length&&(T[0].t={labels:{open:w(t,"open:")+" ",high:w(t,"high:")+" ",low:w(t,"low:")+" ",close:w(t,"close:")+" "}}),T}L.exports={calc:function(t,s){var o=a.getFromId(t,s.xaxis),n=a.getFromId(t,s.yaxis),r=function(_,m,d){var x=d._minDiff;if(!x){var g,v=_._fullData,T=[];for(x=1/0,g=0;g<v.length;g++){var c=v[g];if(c.type==="ohlc"&&c.visible===!0&&c.xaxis===m._id){T.push(c);var E=m.makeCalcdata(c,"x");c._origX=E;var A=k(d,m,"x",E).vals;c._xcalc=A;var C=b.distinctVals(A).minDiff;C&&isFinite(C)&&(x=Math.min(x,C))}}for(x===1/0&&(x=1),g=0;g<T.length;g++)T[g]._minDiff=x}return x*d.tickwidth}(t,o,s),i=s._minDiff;s._minDiff=null;var u=s._origX;s._origX=null;var p=s._xcalc;s._xcalc=null;var h=l(t,s,u,p,n,f);return s._extremes[o._id]=a.findExtremes(o,p,{vpad:i/2}),h.length?(b.extendFlat(h[0].t,{wHover:i/2,tickLen:r}),h):[{t:{empty:!0}}]},calcCommon:l}},16169:function(L,M,e){"use strict";var b=e(71828),w=e(14555),a=e(73927),k=e(2522);function y(f,l,t,s){t(s+".line.color"),t(s+".line.width",l.line.width),t(s+".line.dash",l.line.dash)}L.exports=function(f,l,t,s){function o(n,r){return b.coerce(f,l,k,n,r)}w(f,l,o,s)?(a(f,l,s,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),o("line.dash"),y(0,l,o,"increasing"),y(0,l,o,"decreasing"),o("text"),o("hovertext"),o("tickwidth"),s._requestRangeslider[l.xaxis]=!0):l.visible=!1}},66449:function(L,M,e){"use strict";var b=e(89298),w=e(71828),a=e(30211),k=e(7901),y=e(71828).fillText,f=e(22372),l={increasing:f.INCREASING.SYMBOL,decreasing:f.DECREASING.SYMBOL};function t(n,r,i,u){var p,h,_=n.cd,m=n.xa,d=_[0].trace,x=_[0].t,g=d.type,v=g==="ohlc"?"l":"min",T=g==="ohlc"?"h":"max",c=x.bPos||0,E=x.bdPos||x.tickLen,A=x.wHover,C=Math.min(1,E/Math.abs(m.r2c(m.range[1])-m.r2c(m.range[0])));function O(B){var U=function(H){return H.pos+c-r}(B);return a.inbox(U-A,U+A,p)}function P(B){var U=B[v],H=B[T];return U===H||a.inbox(U-i,H-i,p)}function D(B){return(O(B)+P(B))/2}p=n.maxHoverDistance-C,h=n.maxSpikeDistance-C;var z=a.getDistanceFunction(u,O,P,D);if(a.getClosest(_,z,n),n.index===!1)return null;var V=_[n.index];if(V.empty)return null;var F=d[V.dir],W=F.line.color;return k.opacity(W)&&F.line.width?n.color=W:n.color=F.fillcolor,n.x0=m.c2p(V.pos+c-E,!0),n.x1=m.c2p(V.pos+c+E,!0),n.xLabelVal=V.orig_p!==void 0?V.orig_p:V.pos,n.spikeDistance=D(V)*h/p,n.xSpike=m.c2p(V.pos,!0),n}function s(n,r,i,u){var p=n.cd,h=n.ya,_=p[0].trace,m=p[0].t,d=[],x=t(n,r,i,u);if(!x)return[];var g=p[x.index].hi||_.hoverinfo,v=g.split("+");if(g!=="all"&&v.indexOf("y")===-1)return[];for(var T=["high","open","close","low"],c={},E=0;E<T.length;E++){var A,C=T[E],O=_[C][x.index],P=h.c2p(O,!0);O in c?(A=c[O]).yLabel+="<br>"+m.labels[C]+b.hoverLabelText(h,O,_.yhoverformat):((A=w.extendFlat({},x)).y0=A.y1=P,A.yLabelVal=O,A.yLabel=m.labels[C]+b.hoverLabelText(h,O,_.yhoverformat),A.name="",d.push(A),c[O]=A)}return d}function o(n,r,i,u){var p=n.cd,h=n.ya,_=p[0].trace,m=p[0].t,d=t(n,r,i,u);if(!d)return[];var x=p[d.index],g=d.index=x.i,v=x.dir;function T(D){return m.labels[D]+b.hoverLabelText(h,_[D][g],_.yhoverformat)}var c=x.hi||_.hoverinfo,E=c.split("+"),A=c==="all",C=A||E.indexOf("y")!==-1,O=A||E.indexOf("text")!==-1,P=C?[T("open"),T("high"),T("low"),T("close")+"  "+l[v]]:[];return O&&y(x,_,P),d.extraText=P.join("<br>"),d.y0=d.y1=h.c2p(x.yc,!0),[d]}L.exports={hoverPoints:function(n,r,i,u){return n.cd[0].trace.hoverlabel.split?s(n,r,i,u):o(n,r,i,u)},hoverSplit:s,hoverOnPoints:o}},54186:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(L,M,e){"use strict";var b=e(73972),w=e(71828);L.exports=function(a,k,y,f){var l=y("x"),t=y("open"),s=y("high"),o=y("low"),n=y("close");if(y("hoverlabel.split"),b.getComponentMethod("calendars","handleTraceDefaults")(a,k,["x"],f),t&&s&&o&&n){var r=Math.min(t.length,s.length,o.length,n.length);return l&&(r=Math.min(r,w.minRowLength(l))),k._length=r,r}}},72314:function(L,M,e){"use strict";var b=e(39898),w=e(71828);L.exports=function(a,k,y,f){var l=k.yaxis,t=k.xaxis,s=!!t.rangebreaks;w.makeTraceGroups(f,y,"trace ohlc").each(function(o){var n=b.select(this),r=o[0],i=r.t;if(r.trace.visible!==!0||i.empty)n.remove();else{var u=i.tickLen,p=n.selectAll("path").data(w.identity);p.enter().append("path"),p.exit().remove(),p.attr("d",function(h){if(h.empty)return"M0,0Z";var _=t.c2p(h.pos-u,!0),m=t.c2p(h.pos+u,!0),d=s?(_+m)/2:t.c2p(h.pos,!0);return"M"+_+","+l.c2p(h.o,!0)+"H"+d+"M"+d+","+l.c2p(h.h,!0)+"V"+l.c2p(h.l,!0)+"M"+m+","+l.c2p(h.c,!0)+"H"+d})}})}},67324:function(L){"use strict";L.exports=function(M,e){var b,w=M.cd,a=M.xaxis,k=M.yaxis,y=[],f=w[0].t.bPos||0;if(e===!1)for(b=0;b<w.length;b++)w[b].selected=0;else for(b=0;b<w.length;b++){var l=w[b];e.contains([a.c2p(l.pos+f),k.c2p(l.yc)],null,l.i,M)?(y.push({pointNumber:l.i,x:a.c2d(l.pos),y:k.c2d(l.yc)}),l.selected=1):l.selected=0}return y}},53101:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(7901);L.exports=function(k,y,f){var l=f||b.select(k).selectAll("g.ohlclayer").selectAll("g.trace");l.style("opacity",function(t){return t[0].trace.opacity}),l.each(function(t){var s=t[0].trace;b.select(this).selectAll("path").each(function(o){if(!o.empty){var n=s[o.dir].line;b.select(this).style("fill","none").call(a.stroke,n.color).call(w.dashLine,n.dash,n.width).style("opacity",s.selectedpoints&&!o.selected?.3:1)}})})}},99506:function(L,M,e){"use strict";var b=e(1426).extendFlat,w=e(9012),a=e(41940),k=e(50693),y=e(5386).fF,f=e(27670).Y,l=b({editType:"calc"},k("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:y({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});L.exports={domain:f({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:b({},w.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:y({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:l,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(L,M,e){"use strict";var b=e(27659).a0,w=e(45784),a="parcats";M.name=a,M.plot=function(k,y,f,l){var t=b(k.calcdata,a);if(t.length){var s=t[0];w(k,s,f,l)}},M.clean=function(k,y,f,l){var t=l._has&&l._has("parcats"),s=y._has&&y._has("parcats");t&&!s&&l._paperdiv.selectAll(".parcats").remove()}},28699:function(L,M,e){"use strict";var b=e(28984).wrap,w=e(52075).hasColorscale,a=e(78803),k=e(75744),y=e(91424),f=e(71828),l=e(92770);function t(n,r,i){n.valueInds.push(r),n.count+=i}function s(n,r,i){return{categoryInds:n,color:r,rawColor:i,valueInds:[],count:0}}function o(n,r,i){n.valueInds.push(r),n.count+=i}L.exports=function(n,r){var i=f.filterVisible(r.dimensions);if(i.length===0)return[];var u,p,h,_=i.map(function(q){var ee;if(q.categoryorder==="trace")ee=null;else if(q.categoryorder==="array")ee=q.categoryarray;else{ee=k(q.values);for(var K=!0,J=0;J<ee.length;J++)if(!l(ee[J])){K=!1;break}ee.sort(K?f.sorterAsc:void 0),q.categoryorder==="category descending"&&(ee=ee.reverse())}return function(Z,$){$=$==null?[]:$.map(function(ve){return ve});var ne={},ae={},oe=[];$.forEach(function(ve,fe){ne[ve]=0,ae[ve]=fe});for(var se=0;se<Z.length;se++){var ce,me=Z[se];ne[me]===void 0?(ne[me]=1,ce=$.push(me)-1,ae[me]=ce):(ne[me]++,ce=ae[me]),oe.push(ce)}var xe=$.map(function(ve){return ne[ve]});return{uniqueValues:$,uniqueCounts:xe,inds:oe}}(q.values,ee)});u=f.isArrayOrTypedArray(r.counts)?r.counts:[r.counts],function(q){var ee,K=q.map(function(J){return J.displayindex});if(function(J){for(var Z=new Array(J.length),$=0;$<J.length;$++){if(J[$]<0||J[$]>=J.length||Z[J[$]]!==void 0)return!1;Z[J[$]]=!0}return!0}(K))for(ee=0;ee<q.length;ee++)q[ee]._displayindex=q[ee].displayindex;else for(ee=0;ee<q.length;ee++)q[ee]._displayindex=ee}(i),i.forEach(function(q,ee){(function(K,J){K._categoryarray=J.uniqueValues,K.ticktext===null||K.ticktext===void 0?K._ticktext=[]:K._ticktext=K.ticktext.slice();for(var Z=K._ticktext.length;Z<J.uniqueValues.length;Z++)K._ticktext.push(J.uniqueValues[Z])})(q,_[ee])});var m,d=r.line;d?(w(r,"line")&&a(n,r,{vals:r.line.color,containerStr:"line",cLetter:"c"}),m=y.tryColorscale(d)):m=f.identity;var x,g,v,T,c,E=i[0].values.length,A={},C=_.map(function(q){return q.inds});for(h=0,x=0;x<E;x++){var O=[];for(g=0;g<C.length;g++)O.push(C[g][x]);p=u[x%u.length],h+=p;var P=(v=x,T=void 0,c=void 0,f.isArrayOrTypedArray(d.color)?c=T=d.color[v%d.color.length]:T=d.color,{color:m(T),rawColor:c}),D=O+"-"+P.rawColor;A[D]===void 0&&(A[D]=s(O,P.color,P.rawColor)),o(A[D],x,p)}var z,V=i.map(function(q,ee){return function(K,J,Z,$,ne){return{dimensionInd:K,containerInd:J,displayInd:Z,dimensionLabel:$,count:ne,categories:[],dragX:null}}(ee,q._index,q._displayindex,q.label,h)});for(x=0;x<E;x++)for(p=u[x%u.length],g=0;g<V.length;g++){var F=V[g].containerInd,W=_[g].inds[x],B=V[g].categories;if(B[W]===void 0){var U=r.dimensions[F]._categoryarray[W],H=r.dimensions[F]._ticktext[W];B[W]={dimensionInd:g,categoryInd:z=W,categoryValue:U,displayInd:z,categoryLabel:H,valueInds:[],count:0,dragY:null}}t(B[W],x,p)}return b(function(q,ee,K){var J=q.map(function(Z){return Z.categories.length}).reduce(function(Z,$){return Math.max(Z,$)});return{dimensions:q,paths:ee,trace:void 0,maxCats:J,count:K}}(V,A,h))}},14647:function(L,M,e){"use strict";var b=e(71828),w=e(52075).hasColorscale,a=e(1586),k=e(27670).c,y=e(85501),f=e(99506),l=e(94397);function t(s,o){function n(m,d){return b.coerce(s,o,f.dimensions,m,d)}var r=n("values"),i=n("visible");if(r&&r.length||(i=o.visible=!1),i){n("label"),n("displayindex",o._index);var u,p=s.categoryarray,h=Array.isArray(p)&&p.length>0;h&&(u="array");var _=n("categoryorder",u);_==="array"?(n("categoryarray"),n("ticktext")):(delete s.categoryarray,delete s.ticktext),h||_!=="array"||(o.categoryorder="trace")}}L.exports=function(s,o,n,r){function i(m,d){return b.coerce(s,o,f,m,d)}var u=y(s,o,{name:"dimensions",handleItemDefaults:t}),p=function(m,d,x,g,v){v("line.shape"),v("line.hovertemplate");var T=v("line.color",g.colorway[0]);if(w(m,"line")&&b.isArrayOrTypedArray(T)){if(T.length)return v("line.colorscale"),a(m,d,g,v,{prefix:"line.",cLetter:"c"}),T.length;d.line.color=x}return 1/0}(s,o,n,r,i);k(o,r,i),Array.isArray(u)&&u.length||(o.visible=!1),l(o,u,"values",p),i("hoveron"),i("hovertemplate"),i("arrangement"),i("bundlecolors"),i("sortpaths"),i("counts");var h={family:r.font.family,size:Math.round(r.font.size),color:r.font.color};b.coerceFont(i,"labelfont",h);var _={family:r.font.family,size:Math.round(r.font.size/1.2),color:r.font.color};b.coerceFont(i,"tickfont",_)}},94873:function(L,M,e){"use strict";L.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(L,M,e){"use strict";var b=e(39898),w=e(81684).k4,a=e(72391),k=e(30211),y=e(71828),f=y.strTranslate,l=e(91424),t=e(84267),s=e(63893);function o(K,J,Z,$){var ne=J._context.staticPlot,ae=K.map(B.bind(0,J,Z)),oe=$.selectAll("g.parcatslayer").data([null]);oe.enter().append("g").attr("class","parcatslayer").style("pointer-events",ne?"none":"all");var se=oe.selectAll("g.trace.parcats").data(ae,n),ce=se.enter().append("g").attr("class","trace parcats");se.attr("transform",function(Me){return f(Me.x,Me.y)}),ce.append("g").attr("class","paths");var me=se.select("g.paths").selectAll("path.path").data(function(Me){return Me.paths},n);me.attr("fill",function(Me){return Me.model.color});var xe=me.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Me){return Me.model.color}).attr("fill-opacity",0);d(xe),me.attr("d",function(Me){return Me.svgD}),xe.empty()||me.sort(i),me.exit().remove(),me.on("mouseover",u).on("mouseout",p).on("click",m),ce.append("g").attr("class","dimensions");var ve=se.select("g.dimensions").selectAll("g.dimension").data(function(Me){return Me.dimensions},n);ve.enter().append("g").attr("class","dimension"),ve.attr("transform",function(Me){return f(Me.x,0)}),ve.exit().remove();var fe=ve.selectAll("g.category").data(function(Me){return Me.categories},n),pe=fe.enter().append("g").attr("class","category");fe.attr("transform",function(Me){return f(0,Me.y)}),pe.append("rect").attr("class","catrect").attr("pointer-events","none"),fe.select("rect.catrect").attr("fill","none").attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}),g(pe);var Le=fe.selectAll("rect.bandrect").data(function(Me){return Me.bands},n);Le.each(function(){y.raiseToTop(this)}),Le.attr("fill",function(Me){return Me.color});var ye=Le.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Me){return Me.color}).attr("fill-opacity",0);Le.attr("fill",function(Me){return Me.color}).attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}).attr("y",function(Me){return Me.y}).attr("cursor",function(Me){return Me.parcatsViewModel.arrangement==="fixed"?"default":Me.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),v(ye),Le.exit().remove(),pe.append("text").attr("class","catlabel").attr("pointer-events","none");var Ae=J._fullLayout.paper_bgcolor;fe.select("text.catlabel").attr("text-anchor",function(Me){return r(Me)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",s.makeTextShadow(Ae)).style("fill","rgb(0, 0, 0)").attr("x",function(Me){return r(Me)?Me.width+5:-5}).attr("y",function(Me){return Me.height/2}).text(function(Me){return Me.model.categoryLabel}).each(function(Me){l.font(b.select(this),Me.parcatsViewModel.categorylabelfont),s.convertToTspans(b.select(this),J)}),pe.append("text").attr("class","dimlabel"),fe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Me){return Me.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Me){return Me.width/2}).attr("y",-5).text(function(Me,ke){return ke===0?Me.parcatsViewModel.model.dimensions[Me.model.dimensionInd].dimensionLabel:null}).each(function(Me){l.font(b.select(this),Me.parcatsViewModel.labelfont)}),fe.selectAll("rect.bandrect").on("mouseover",C).on("mouseout",O),fe.exit().remove(),ve.call(b.behavior.drag().origin(function(Me){return{x:Me.x,y:0}}).on("dragstart",P).on("drag",D).on("dragend",z)),se.each(function(Me){Me.traceSelection=b.select(this),Me.pathSelection=b.select(this).selectAll("g.paths").selectAll("path.path"),Me.dimensionSelection=b.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),se.exit().remove()}function n(K){return K.key}function r(K){var J=K.parcatsViewModel.dimensions.length,Z=K.parcatsViewModel.dimensions[J-1].model.dimensionInd;return K.model.dimensionInd===Z}function i(K,J){return K.model.rawColor>J.model.rawColor?1:K.model.rawColor<J.model.rawColor?-1:0}function u(K){if(!K.parcatsViewModel.dragDimension&&K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){y.raiseToTop(this),x(b.select(this));var J=h(K),Z=_(K);if(K.parcatsViewModel.graphDiv.emit("plotly_hover",{points:J,event:b.event,constraints:Z}),K.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $,ne,ae,oe=b.mouse(this)[0],se=K.parcatsViewModel.graphDiv,ce=K.parcatsViewModel.trace,me=se._fullLayout,xe=me._paperdiv.node().getBoundingClientRect(),ve=K.parcatsViewModel.graphDiv.getBoundingClientRect();for(ae=0;ae<K.leftXs.length-1;ae++)if(K.leftXs[ae]+K.dimWidths[ae]-2<=oe&&oe<=K.leftXs[ae+1]+2){var fe=K.parcatsViewModel.dimensions[ae],pe=K.parcatsViewModel.dimensions[ae+1];$=(fe.x+fe.width+pe.x)/2,ne=(K.topYs[ae]+K.topYs[ae+1]+K.height)/2;break}var Le=K.parcatsViewModel.x+$,ye=K.parcatsViewModel.y+ne,Ae=t.mostReadable(K.model.color,["black","white"]),Me=K.model.count,ke=Me/K.parcatsViewModel.model.count,te={countLabel:Me,probabilityLabel:ke.toFixed(3)},ue=[];K.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ue.push(["Count:",te.countLabel].join(" ")),K.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ue.push(["P:",te.probabilityLabel].join(" "));var ge=ue.join("<br>"),we=b.mouse(se)[0];k.loneHover({trace:ce,x:Le-xe.left+ve.left,y:ye-xe.top+ve.top,text:ge,color:K.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ae,idealAlign:we<Le?"right":"left",hovertemplate:(ce.line||{}).hovertemplate,hovertemplateLabels:te,eventData:[{data:ce._input,fullData:ce,count:Me,probability:ke}]},{container:me._hoverlayer.node(),outerContainer:me._paper.node(),gd:se})}}}function p(K){if(!K.parcatsViewModel.dragDimension&&(d(b.select(this)),k.loneUnhover(K.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),K.parcatsViewModel.pathSelection.sort(i),K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var J=h(K),Z=_(K);K.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:J,event:b.event,constraints:Z})}}function h(K){for(var J=[],Z=V(K.parcatsViewModel),$=0;$<K.model.valueInds.length;$++){var ne=K.model.valueInds[$];J.push({curveNumber:Z,pointNumber:ne})}return J}function _(K){for(var J={},Z=K.parcatsViewModel.model.dimensions,$=0;$<Z.length;$++){var ne=Z[$],ae=ne.categories[K.model.categoryInds[$]];J[ne.containerInd]=ae.categoryValue}return K.model.rawColor!==void 0&&(J.color=K.model.rawColor),J}function m(K){if(K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var J=h(K),Z=_(K);K.parcatsViewModel.graphDiv.emit("plotly_click",{points:J,event:b.event,constraints:Z})}}function d(K){K.attr("fill",function(J){return J.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function x(K){K.attr("fill-opacity",.8).attr("stroke",function(J){return t.mostReadable(J.model.color,["black","white"])}).attr("stroke-width",.3)}function g(K){K.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function v(K){K.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function T(K){var J=K.parcatsViewModel.pathSelection,Z=K.categoryViewModel.model.dimensionInd,$=K.categoryViewModel.model.categoryInd;return J.filter(function(ne){return ne.model.categoryInds[Z]===$&&ne.model.color===K.color})}function c(K,J,Z){var $=b.select(K).datum(),ne=$.categoryViewModel.model,ae=$.parcatsViewModel.graphDiv,oe=b.select(K.parentNode).selectAll("rect.bandrect"),se=[];oe.each(function(me){T(me).each(function(xe){Array.prototype.push.apply(se,h(xe))})});var ce={};ce[ne.dimensionInd]=ne.categoryValue,ae.emit(J,{points:se,event:Z,constraints:ce})}function E(K,J,Z){var $=b.select(K).datum(),ne=$.categoryViewModel.model,ae=$.parcatsViewModel.graphDiv,oe=T($),se=[];oe.each(function(me){Array.prototype.push.apply(se,h(me))});var ce={};ce[ne.dimensionInd]=ne.categoryValue,$.rawColor!==void 0&&(ce.color=$.rawColor),ae.emit(J,{points:se,event:Z,constraints:ce})}function A(K,J,Z){K._fullLayout._calcInverseTransform(K);var $,ne,ae=K._fullLayout._invScaleX,oe=K._fullLayout._invScaleY,se=b.select(Z.parentNode).select("rect.catrect"),ce=se.node().getBoundingClientRect(),me=se.datum(),xe=me.parcatsViewModel,ve=xe.model.dimensions[me.model.dimensionInd],fe=xe.trace,pe=ce.top+ce.height/2;xe.dimensions.length>1&&ve.displayInd===xe.dimensions.length-1?($=ce.left,ne="left"):($=ce.left+ce.width,ne="right");var Le=me.model.count,ye=me.model.categoryLabel,Ae=Le/me.parcatsViewModel.model.count,Me={countLabel:Le,categoryLabel:ye,probabilityLabel:Ae.toFixed(3)},ke=[];me.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ke.push(["Count:",Me.countLabel].join(" ")),me.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ke.push(["P("+Me.categoryLabel+"):",Me.probabilityLabel].join(" "));var te=ke.join("<br>");return{trace:fe,x:ae*($-J.left),y:oe*(pe-J.top),text:te,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:ne,hovertemplate:fe.hovertemplate,hovertemplateLabels:Me,eventData:[{data:fe._input,fullData:fe,count:Le,category:ye,probability:Ae}]}}function C(K){if(!K.parcatsViewModel.dragDimension&&K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(b.mouse(this)[1]<-1)return;var J,Z=K.parcatsViewModel.graphDiv,$=Z._fullLayout,ne=$._paperdiv.node().getBoundingClientRect(),ae=K.parcatsViewModel.hoveron,oe=this;ae==="color"?(function(se){var ce=b.select(se).datum(),me=T(ce);x(me),me.each(function(){y.raiseToTop(this)}),b.select(se.parentNode).selectAll("rect.bandrect").filter(function(xe){return xe.color===ce.color}).each(function(){y.raiseToTop(this),b.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(oe),E(oe,"plotly_hover",b.event)):(function(se){b.select(se.parentNode).selectAll("rect.bandrect").each(function(ce){var me=T(ce);x(me),me.each(function(){y.raiseToTop(this)})}),b.select(se.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(oe),c(oe,"plotly_hover",b.event)),K.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(ae==="category"?J=A(Z,ne,oe):ae==="color"?J=function(se,ce,me){se._fullLayout._calcInverseTransform(se);var xe,ve,fe=se._fullLayout._invScaleX,pe=se._fullLayout._invScaleY,Le=me.getBoundingClientRect(),ye=b.select(me).datum(),Ae=ye.categoryViewModel,Me=Ae.parcatsViewModel,ke=Me.model.dimensions[Ae.model.dimensionInd],te=Me.trace,ue=Le.y+Le.height/2;Me.dimensions.length>1&&ke.displayInd===Me.dimensions.length-1?(xe=Le.left,ve="left"):(xe=Le.left+Le.width,ve="right");var ge=Ae.model.categoryLabel,we=ye.parcatsViewModel.model.count,Ee=0;ye.categoryViewModel.bands.forEach(function(ot){ot.color===ye.color&&(Ee+=ot.count)});var Be=Ae.model.count,Re=0;Me.pathSelection.each(function(ot){ot.model.color===ye.color&&(Re+=ot.model.count)});var je=Ee/we,he=Ee/Re,_e=Ee/Be,Te={countLabel:we,categoryLabel:ge,probabilityLabel:je.toFixed(3)},Fe=[];Ae.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",Te.countLabel].join(" ")),Ae.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Fe.push("P(color \u2229 "+ge+"): "+Te.probabilityLabel),Fe.push("P("+ge+" | color): "+he.toFixed(3)),Fe.push("P(color | "+ge+"): "+_e.toFixed(3)));var Ye=Fe.join("<br>"),Ge=t.mostReadable(ye.color,["black","white"]);return{trace:te,x:fe*(xe-ce.left),y:pe*(ue-ce.top),text:Ye,color:ye.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ge,fontSize:10,idealAlign:ve,hovertemplate:te.hovertemplate,hovertemplateLabels:Te,eventData:[{data:te._input,fullData:te,category:ge,count:we,probability:je,categorycount:Be,colorcount:Re,bandcolorcount:Ee}]}}(Z,ne,oe):ae==="dimension"&&(J=function(se,ce,me){var xe=[];return b.select(me.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){xe.push(A(se,ce,this))}),xe}(Z,ne,oe)),J&&k.loneHover(J,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:Z}))}}function O(K){var J=K.parcatsViewModel;J.dragDimension||(d(J.pathSelection),g(J.dimensionSelection.selectAll("g.category")),v(J.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),k.loneUnhover(J.graphDiv._fullLayout._hoverlayer.node()),J.pathSelection.sort(i),J.hoverinfoItems.indexOf("skip")!==-1)||(K.parcatsViewModel.hoveron==="color"?E(this,"plotly_unhover",b.event):c(this,"plotly_unhover",b.event))}function P(K){K.parcatsViewModel.arrangement!=="fixed"&&(K.dragDimensionDisplayInd=K.model.displayInd,K.initialDragDimensionDisplayInds=K.parcatsViewModel.model.dimensions.map(function(J){return J.displayInd}),K.dragHasMoved=!1,K.dragCategoryDisplayInd=null,b.select(this).selectAll("g.category").select("rect.catrect").each(function(J){var Z=b.mouse(this)[0],$=b.mouse(this)[1];-2<=Z&&Z<=J.width+2&&-2<=$&&$<=J.height+2&&(K.dragCategoryDisplayInd=J.model.displayInd,K.initialDragCategoryDisplayInds=K.model.categories.map(function(ne){return ne.displayInd}),J.model.dragY=J.y,y.raiseToTop(this.parentNode),b.select(this.parentNode).selectAll("rect.bandrect").each(function(ne){ne.y<$&&$<=ne.y+ne.height&&(K.potentialClickBand=this)}))}),K.parcatsViewModel.dragDimension=K,k.loneUnhover(K.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function D(K){if(K.parcatsViewModel.arrangement!=="fixed"&&(K.dragHasMoved=!0,K.dragDimensionDisplayInd!==null)){var J=K.dragDimensionDisplayInd,Z=J-1,$=J+1,ne=K.parcatsViewModel.dimensions[J];if(K.dragCategoryDisplayInd!==null){var ae=ne.categories[K.dragCategoryDisplayInd];ae.model.dragY+=b.event.dy;var oe=ae.model.dragY,se=ae.model.displayInd,ce=ne.categories,me=ce[se-1],xe=ce[se+1];me!==void 0&&oe<me.y+me.height/2&&(ae.model.displayInd=me.model.displayInd,me.model.displayInd=se),xe!==void 0&&oe+ae.height>xe.y+xe.height/2&&(ae.model.displayInd=xe.model.displayInd,xe.model.displayInd=se),K.dragCategoryDisplayInd=ae.model.displayInd}if(K.dragCategoryDisplayInd===null||K.parcatsViewModel.arrangement==="freeform"){ne.model.dragX=b.event.x;var ve=K.parcatsViewModel.dimensions[Z],fe=K.parcatsViewModel.dimensions[$];ve!==void 0&&ne.model.dragX<ve.x+ve.width&&(ne.model.displayInd=ve.model.displayInd,ve.model.displayInd=J),fe!==void 0&&ne.model.dragX+ne.width>fe.x&&(ne.model.displayInd=fe.model.displayInd,fe.model.displayInd=K.dragDimensionDisplayInd),K.dragDimensionDisplayInd=ne.model.displayInd}q(K.parcatsViewModel),H(K.parcatsViewModel),W(K.parcatsViewModel),F(K.parcatsViewModel)}}function z(K){if(K.parcatsViewModel.arrangement!=="fixed"&&K.dragDimensionDisplayInd!==null){b.select(this).selectAll("text").attr("font-weight","normal");var J={},Z=V(K.parcatsViewModel),$=K.parcatsViewModel.model.dimensions.map(function(xe){return xe.displayInd}),ne=K.initialDragDimensionDisplayInds.some(function(xe,ve){return xe!==$[ve]});ne&&$.forEach(function(xe,ve){var fe=K.parcatsViewModel.model.dimensions[ve].containerInd;J["dimensions["+fe+"].displayindex"]=xe});var ae=!1;if(K.dragCategoryDisplayInd!==null){var oe=K.model.categories.map(function(xe){return xe.displayInd});if(ae=K.initialDragCategoryDisplayInds.some(function(xe,ve){return xe!==oe[ve]})){var se=K.model.categories.slice().sort(function(xe,ve){return xe.displayInd-ve.displayInd}),ce=se.map(function(xe){return xe.categoryValue}),me=se.map(function(xe){return xe.categoryLabel});J["dimensions["+K.model.containerInd+"].categoryarray"]=[ce],J["dimensions["+K.model.containerInd+"].ticktext"]=[me],J["dimensions["+K.model.containerInd+"].categoryorder"]="array"}}K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!K.dragHasMoved&&K.potentialClickBand&&(K.parcatsViewModel.hoveron==="color"?E(K.potentialClickBand,"plotly_click",b.event.sourceEvent):c(K.potentialClickBand,"plotly_click",b.event.sourceEvent)),K.model.dragX=null,K.dragCategoryDisplayInd!==null&&(K.parcatsViewModel.dimensions[K.dragDimensionDisplayInd].categories[K.dragCategoryDisplayInd].model.dragY=null,K.dragCategoryDisplayInd=null),K.dragDimensionDisplayInd=null,K.parcatsViewModel.dragDimension=null,K.dragHasMoved=null,K.potentialClickBand=null,q(K.parcatsViewModel),H(K.parcatsViewModel),b.transition().duration(300).ease("cubic-in-out").each(function(){W(K.parcatsViewModel,!0),F(K.parcatsViewModel,!0)}).each("end",function(){(ne||ae)&&a.restyle(K.parcatsViewModel.graphDiv,J,[Z])})}}function V(K){for(var J,Z=K.graphDiv._fullData,$=0;$<Z.length;$++)if(K.key===Z[$].uid){J=$;break}return J}function F(K,J){var Z;J===void 0&&(J=!1),K.pathSelection.data(function($){return $.paths},n),(Z=K.pathSelection,J?Z.transition():Z).attr("d",function($){return $.svgD})}function W(K,J){function Z(oe){return J?oe.transition():oe}J===void 0&&(J=!1),K.dimensionSelection.data(function(oe){return oe.dimensions},n);var $=K.dimensionSelection.selectAll("g.category").data(function(oe){return oe.categories},n);Z(K.dimensionSelection).attr("transform",function(oe){return f(oe.x,0)}),Z($).attr("transform",function(oe){return f(0,oe.y)}),$.select(".dimlabel").text(function(oe,se){return se===0?oe.parcatsViewModel.model.dimensions[oe.model.dimensionInd].dimensionLabel:null}),$.select(".catlabel").attr("text-anchor",function(oe){return r(oe)?"start":"end"}).attr("x",function(oe){return r(oe)?oe.width+5:-5}).each(function(oe){var se,ce;r(oe)?(se=oe.width+5,ce="start"):(se=-5,ce="end"),b.select(this).selectAll("tspan").attr("x",se).attr("text-anchor",ce)});var ne=$.selectAll("rect.bandrect").data(function(oe){return oe.bands},n),ae=ne.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(oe){return oe.color}).attr("fill-opacity",0);ne.attr("fill",function(oe){return oe.color}).attr("width",function(oe){return oe.width}).attr("height",function(oe){return oe.height}).attr("y",function(oe){return oe.y}),v(ae),ne.each(function(){y.raiseToTop(this)}),ne.exit().remove()}function B(K,J,Z){var $,ne=Z[0],ae=J.margin||{l:80,r:80,t:100,b:80},oe=ne.trace,se=oe.domain,ce=J.width,me=J.height,xe=Math.floor(ce*(se.x[1]-se.x[0])),ve=Math.floor(me*(se.y[1]-se.y[0])),fe=se.x[0]*ce+ae.l,pe=J.height-se.y[1]*J.height+ae.t,Le=oe.line.shape;$=oe.hoverinfo==="all"?["count","probability"]:(oe.hoverinfo||"").split("+");var ye={trace:oe,key:oe.uid,model:ne,x:fe,y:pe,width:xe,height:ve,hoveron:oe.hoveron,hoverinfoItems:$,arrangement:oe.arrangement,bundlecolors:oe.bundlecolors,sortpaths:oe.sortpaths,labelfont:oe.labelfont,categorylabelfont:oe.tickfont,pathShape:Le,dragDimension:null,margin:ae,paths:[],dimensions:[],graphDiv:K,traceSelection:null,pathSelection:null,dimensionSelection:null};return ne.dimensions&&(q(ye),H(ye)),ye}function U(K,J,Z,$,ne){var ae,oe,se=[],ce=[];for(oe=0;oe<Z.length-1;oe++)ae=w(Z[oe]+K[oe],K[oe+1]),se.push(ae(ne)),ce.push(ae(1-ne));var me="M "+K[0]+","+J[0];for(me+="l"+Z[0]+",0 ",oe=1;oe<Z.length;oe++)me+="C"+se[oe-1]+","+J[oe-1]+" "+ce[oe-1]+","+J[oe]+" "+K[oe]+","+J[oe],me+="l"+Z[oe]+",0 ";for(me+="l0,"+$+" ",me+="l -"+Z[Z.length-1]+",0 ",oe=Z.length-2;oe>=0;oe--)me+="C"+ce[oe]+","+(J[oe+1]+$)+" "+se[oe]+","+(J[oe]+$)+" "+(K[oe]+Z[oe])+","+(J[oe]+$),me+="l-"+Z[oe]+",0 ";return me+"Z"}function H(K){var J=K.dimensions,Z=K.model,$=J.map(function(Te){return Te.categories.map(function(Fe){return Fe.y})}),ne=K.model.dimensions.map(function(Te){return Te.categories.map(function(Fe){return Fe.displayInd})}),ae=K.model.dimensions.map(function(Te){return Te.displayInd}),oe=K.dimensions.map(function(Te){return Te.model.dimensionInd}),se=J.map(function(Te){return Te.x}),ce=J.map(function(Te){return Te.width}),me=[];for(var xe in Z.paths)Z.paths.hasOwnProperty(xe)&&me.push(Z.paths[xe]);function ve(Te){var Fe=Te.categoryInds.map(function(Ye,Ge){return ne[Ge][Ye]});return oe.map(function(Ye){return Fe[Ye]})}me.sort(function(Te,Fe){var Ye=ve(Te),Ge=ve(Fe);return K.sortpaths==="backward"&&(Ye.reverse(),Ge.reverse()),Ye.push(Te.valueInds[0]),Ge.push(Fe.valueInds[0]),K.bundlecolors&&(Ye.unshift(Te.rawColor),Ge.unshift(Fe.rawColor)),Ye<Ge?-1:Ye>Ge?1:0});for(var fe=new Array(me.length),pe=J[0].model.count,Le=J[0].categories.map(function(Te){return Te.height}).reduce(function(Te,Fe){return Te+Fe}),ye=0;ye<me.length;ye++){var Ae,Me=me[ye];Ae=pe>0?Le*(Me.count/pe):0;for(var ke,te=new Array($.length),ue=0;ue<Me.categoryInds.length;ue++){var ge=Me.categoryInds[ue],we=ne[ue][ge],Ee=ae[ue];te[Ee]=$[Ee][we],$[Ee][we]+=Ae;var Be=K.dimensions[Ee].categories[we],Re=Be.bands.length,je=Be.bands[Re-1];if(je===void 0||Me.rawColor!==je.rawColor){var he=je===void 0?0:je.y+je.height;Be.bands.push({key:he,color:Me.color,rawColor:Me.rawColor,height:Ae,width:Be.width,count:Me.count,y:he,categoryViewModel:Be,parcatsViewModel:K})}else{var _e=Be.bands[Re-1];_e.height+=Ae,_e.count+=Me.count}}ke=K.pathShape==="hspline"?U(se,te,ce,Ae,.5):U(se,te,ce,Ae,0),fe[ye]={key:Me.valueInds[0],model:Me,height:Ae,leftXs:se,topYs:te,dimWidths:ce,svgD:ke,parcatsViewModel:K}}K.paths=fe}function q(K){var J=K.model.dimensions.map(function(oe){return{displayInd:oe.displayInd,dimensionInd:oe.dimensionInd}});J.sort(function(oe,se){return oe.displayInd-se.displayInd});var Z=[];for(var $ in J){var ne=J[$].dimensionInd,ae=K.model.dimensions[ne];Z.push(ee(K,ae))}K.dimensions=Z}function ee(K,J){var Z,$=K.model.dimensions.length,ne=J.displayInd;Z=40+($>1?(K.width-80-16)/($-1):0)*ne;var ae,oe,se,ce,me,xe=[],ve=K.model.maxCats,fe=J.categories.length,pe=J.count,Le=K.height-8*(ve-1),ye=8*(ve-fe)/2,Ae=J.categories.map(function(Me){return{displayInd:Me.displayInd,categoryInd:Me.categoryInd}});for(Ae.sort(function(Me,ke){return Me.displayInd-ke.displayInd}),me=0;me<fe;me++)ce=Ae[me].categoryInd,oe=J.categories[ce],ae=pe>0?oe.count/pe*Le:0,se={key:oe.valueInds[0],model:oe,width:16,height:ae,y:oe.dragY!==null?oe.dragY:ye,bands:[],parcatsViewModel:K},ye=ye+ae+8,xe.push(se);return{key:J.dimensionInd,x:J.dragX!==null?J.dragX:Z,y:0,width:16,model:J,categories:xe,parcatsViewModel:K,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}L.exports=function(K,J,Z,$){o(Z,K,$,J)}},45784:function(L,M,e){"use strict";var b=e(45460);L.exports=function(w,a,k,y){var f=w._fullLayout,l=f._paper,t=f._size;b(w,l,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},k,y)}},73362:function(L,M,e){"use strict";var b=e(50693),w=e(13838),a=e(41940),k=e(27670).Y,y=e(1426).extendFlat,f=e(44467).templatedArray;L.exports={domain:k({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:f("dimension",{label:{valType:"string",editType:"plot"},tickvals:y({},w.tickvals,{editType:"plot"}),ticktext:y({},w.ticktext,{editType:"plot"}),tickformat:y({},w.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:y({editType:"calc"},b("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(L,M,e){"use strict";var b=e(25706),w=e(39898),a=e(28984).keyFun,k=e(28984).repeat,y=e(71828).sorterAsc,f=e(71828).strTranslate,l=b.bar.snapRatio;function t(A,C){return A*(1-l)+C*l}var s=b.bar.snapClose;function o(A,C){return A*(1-s)+C*s}function n(A,C,O,P){if(function(ee,K){for(var J=0;J<K.length;J++)if(ee>=K[J][0]&&ee<=K[J][1])return!0;return!1}(O,P))return O;var D=A?-1:1,z=0,V=C.length-1;if(D<0){var F=z;z=V,V=F}for(var W=C[z],B=W,U=z;D*U<D*V;U+=D){var H=U+D,q=C[H];if(D*O<D*o(W,q))return t(W,B);if(D*O<D*q||H===V)return t(q,W);B=W,W=q}}function r(A){A.attr("x",-b.bar.captureWidth/2).attr("width",b.bar.captureWidth)}function i(A){A.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(A){if(!A.brush.filterSpecified)return"0,"+A.height;for(var C,O,P,D=p(A.brush.filter.getConsolidated(),A.height),z=[0],V=D.length?D[0][0]:null,F=0;F<D.length;F++)O=(C=D[F])[1]-C[0],z.push(V),z.push(O),(P=F+1)<D.length&&(V=D[P][0]-C[1]);return z.push(A.height),z}function p(A,C){return A.map(function(O){return O.map(function(P){return Math.max(0,P*C)}).sort(y)})}function h(){w.select(document.body).style("cursor",null)}function _(A){A.attr("stroke-dasharray",u)}function m(A,C){var O=w.select(A).selectAll(".highlight, .highlight-shadow");_(C?O.transition().duration(b.bar.snapDuration).each("end",C):O)}function d(A,C){var O,P=A.brush,D=NaN,z={};if(P.filterSpecified){var V=A.height,F=P.filter.getConsolidated(),W=p(F,V),B=NaN,U=NaN,H=NaN;for(O=0;O<=W.length;O++){var q=W[O];if(q&&q[0]<=C&&C<=q[1]){B=O;break}if(U=O?O-1:NaN,q&&q[0]>C){H=O;break}}if(D=B,isNaN(D)&&(D=isNaN(U)||isNaN(H)?isNaN(U)?H:U:C-W[U][1]<W[H][0]-C?U:H),!isNaN(D)){var ee=W[D],K=function(ne,ae){var oe=b.bar.handleHeight;if(!(ae>ne[1]+oe||ae<ne[0]-oe))return ae>=.9*ne[1]+.1*ne[0]?"n":ae<=.9*ne[0]+.1*ne[1]?"s":"ns"}(ee,C);K&&(z.interval=F[D],z.intervalPix=ee,z.region=K)}}if(A.ordinal&&!z.region){var J=A.unitTickvals,Z=A.unitToPaddedPx.invert(C);for(O=0;O<J.length;O++){var $=[.25*J[Math.max(O-1,0)]+.75*J[O],.25*J[Math.min(O+1,J.length-1)]+.75*J[O]];if(Z>=$[0]&&Z<=$[1]){z.clickableOrdinalRange=$;break}}}return z}function x(A,C){w.event.sourceEvent.stopPropagation();var O=C.height-w.mouse(A)[1]-2*b.verticalPadding,P=C.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.grabbingBar?P.newExtent=[O-P.grabPoint,O+P.barLength-P.grabPoint].map(C.unitToPaddedPx.invert):P.newExtent=[P.startExtent,C.unitToPaddedPx.invert(O)].sort(y),C.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(C),m(A.parentNode)}function g(A,C){var O=d(C,C.height-w.mouse(A)[1]-2*b.verticalPadding),P="crosshair";O.clickableOrdinalRange?P="pointer":O.region&&(P=O.region+"-resize"),w.select(document.body).style("cursor",P)}function v(A){A.on("mousemove",function(C){w.event.preventDefault(),C.parent.inBrushDrag||g(this,C)}).on("mouseleave",function(C){C.parent.inBrushDrag||h()}).call(w.behavior.drag().on("dragstart",function(C){(function(O,P){w.event.sourceEvent.stopPropagation();var D=P.height-w.mouse(O)[1]-2*b.verticalPadding,z=P.unitToPaddedPx.invert(D),V=P.brush,F=d(P,D),W=F.interval,B=V.svgBrush;if(B.wasDragged=!1,B.grabbingBar=F.region==="ns",B.grabbingBar){var U=W.map(P.unitToPaddedPx);B.grabPoint=D-U[0]-b.verticalPadding,B.barLength=U[1]-U[0]}B.clickableOrdinalRange=F.clickableOrdinalRange,B.stayingIntervals=P.multiselect&&V.filterSpecified?V.filter.getConsolidated():[],W&&(B.stayingIntervals=B.stayingIntervals.filter(function(H){return H[0]!==W[0]&&H[1]!==W[1]})),B.startExtent=F.region?W[F.region==="s"?1:0]:z,P.parent.inBrushDrag=!0,B.brushStartCallback()})(this,C)}).on("drag",function(C){x(this,C)}).on("dragend",function(C){(function(O,P){var D=P.brush,z=D.filter,V=D.svgBrush;V._dragging||(g(O,P),x(O,P),P.brush.svgBrush.wasDragged=!1),V._dragging=!1,w.event.sourceEvent.stopPropagation();var F=V.grabbingBar;if(V.grabbingBar=!1,V.grabLocation=void 0,P.parent.inBrushDrag=!1,h(),!V.wasDragged)return V.wasDragged=void 0,V.clickableOrdinalRange?D.filterSpecified&&P.multiselect?V.extent.push(V.clickableOrdinalRange):(V.extent=[V.clickableOrdinalRange],D.filterSpecified=!0):F?(V.extent=V.stayingIntervals,V.extent.length===0&&c(D)):c(D),V.brushCallback(P),m(O.parentNode),void V.brushEndCallback(D.filterSpecified?z.getConsolidated():[]);var W=function(){z.set(z.getConsolidated())};if(P.ordinal){var B=P.unitTickvals;B[B.length-1]<B[0]&&B.reverse(),V.newExtent=[n(0,B,V.newExtent[0],V.stayingIntervals),n(1,B,V.newExtent[1],V.stayingIntervals)];var U=V.newExtent[1]>V.newExtent[0];V.extent=V.stayingIntervals.concat(U?[V.newExtent]:[]),V.extent.length||c(D),V.brushCallback(P),U?m(O.parentNode,W):(W(),m(O.parentNode))}else W();V.brushEndCallback(D.filterSpecified?z.getConsolidated():[])})(this,C)}))}function T(A,C){return A[0]-C[0]}function c(A){A.filterSpecified=!1,A.svgBrush.extent=[[-1/0,1/0]]}function E(A){for(var C,O=A.slice(),P=[],D=O.shift();D;){for(C=D.slice();(D=O.shift())&&D[0]<=C[1];)C[1]=Math.max(C[1],D[1]);P.push(C)}return P.length===1&&P[0][0]>P[0][1]&&(P=[]),P}L.exports={makeBrush:function(A,C,O,P,D,z){var V,F=function(){var W,B,U=[];return{set:function(H){(U=H.map(function(q){return q.slice().sort(y)}).sort(T)).length===1&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),W=E(U),B=U.reduce(function(q,ee){return[Math.min(q[0],ee[0]),Math.max(q[1],ee[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return W},getBounds:function(){return B}}}();return F.set(O),{filter:F,filterSpecified:C,svgBrush:{extent:[],brushStartCallback:P,brushCallback:(V=D,function(W){var B=W.brush,U=function(q){return q.svgBrush.extent.map(function(ee){return ee.slice()})}(B),H=U.slice();B.filter.set(H),V()}),brushEndCallback:z}}},ensureAxisBrush:function(A,C,O){var P=A.selectAll("."+b.cn.axisBrush).data(k,a);P.enter().append("g").classed(b.cn.axisBrush,!0),function(D,z,V){var F=V._context.staticPlot,W=D.selectAll(".background").data(k);W.enter().append("rect").classed("background",!0).call(r).call(i).style("pointer-events",F?"none":"auto").attr("transform",f(0,b.verticalPadding)),W.call(v).attr("height",function(H){return H.height-b.verticalPadding});var B=D.selectAll(".highlight-shadow").data(k);B.enter().append("line").classed("highlight-shadow",!0).attr("x",-b.bar.width/2).attr("stroke-width",b.bar.width+b.bar.strokeWidth).attr("stroke",z).attr("opacity",b.bar.strokeOpacity).attr("stroke-linecap","butt"),B.attr("y1",function(H){return H.height}).call(_);var U=D.selectAll(".highlight").data(k);U.enter().append("line").classed("highlight",!0).attr("x",-b.bar.width/2).attr("stroke-width",b.bar.width-b.bar.strokeWidth).attr("stroke",b.bar.fillColor).attr("opacity",b.bar.fillOpacity).attr("stroke-linecap","butt"),U.attr("y1",function(H){return H.height}).call(_)}(P,C,O)},cleanRanges:function(A,C){if(Array.isArray(A[0])?(A=A.map(function(P){return P.sort(y)}),A=C.multiselect?E(A.sort(T)):[A[0]]):A=[A.sort(y)],C.tickvals){var O=C.tickvals.slice().sort(y);if(!(A=A.map(function(P){var D=[n(0,O,P[0],[]),n(1,O,P[1],[])];if(D[1]>D[0])return D}).filter(function(P){return P})).length)return}return A.length>1?A:A[0]}}},71791:function(L,M,e){"use strict";L.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(L,M,e){"use strict";var b=e(39898),w=e(27659).a0,a=e(21341),k=e(77922);M.name="parcoords",M.plot=function(y){var f=w(y.calcdata,"parcoords")[0];f.length&&a(y,f)},M.clean=function(y,f,l,t){var s=t._has&&t._has("parcoords"),o=f._has&&f._has("parcoords");s&&!o&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},M.toSVG=function(y){var f=y._fullLayout._glimages,l=b.select(y).selectAll(".svg-container");l.filter(function(t,s){return s===l.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,s=t.toDataURL("image/png");f.append("svg:image").attr({xmlns:k.svg,"xlink:href":s,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){b.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(L,M,e){"use strict";var b=e(71828).isArrayOrTypedArray,w=e(21081),a=e(28984).wrap;L.exports=function(k,y){var f,l;return w.hasColorscale(y,"line")&&b(y.line.color)?(f=y.line.color,l=w.extractOpts(y.line).colorscale,w.calc(k,y,{vals:f,containerStr:"line",cLetter:"c"})):(f=function(t){for(var s=new Array(t),o=0;o<t;o++)s[o]=.5;return s}(y._length),l=[[0,y.line.color],[1,y.line.color]]),a({lineColor:f,cscale:l})}},25706:function(L){"use strict";L.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(L,M,e){"use strict";var b=e(71828),w=e(52075).hasColorscale,a=e(1586),k=e(27670).c,y=e(85501),f=e(89298),l=e(73362),t=e(57920),s=e(25706).maxDimensionCount,o=e(94397);function n(r,i,u,p){function h(g,v){return b.coerce(r,i,l.dimensions,g,v)}var _=h("values"),m=h("visible");if(_&&_.length||(m=i.visible=!1),m){h("label"),h("tickvals"),h("ticktext"),h("tickformat");var d=h("range");i._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},f.setConvert(i._ax,p.layout),h("multiselect");var x=h("constraintrange");x&&(i.constraintrange=t.cleanRanges(x,i))}}L.exports=function(r,i,u,p){function h(g,v){return b.coerce(r,i,l,g,v)}var _=r.dimensions;Array.isArray(_)&&_.length>s&&(b.log("parcoords traces support up to "+s+" dimensions at the moment"),_.splice(s));var m=y(r,i,{name:"dimensions",layout:p,handleItemDefaults:n}),d=function(g,v,T,c,E){var A=E("line.color",T);if(w(g,"line")&&b.isArrayOrTypedArray(A)){if(A.length)return E("line.colorscale"),a(g,v,c,E,{prefix:"line.",cLetter:"c"}),A.length;v.line.color=T}return 1/0}(r,i,u,p,h);k(i,p,h),Array.isArray(m)&&m.length||(i.visible=!1),o(i,m,"values",d);var x={family:p.font.family,size:Math.round(p.font.size/1.2),color:p.font.color};b.coerceFont(h,"labelfont",x),b.coerceFont(h,"tickfont",x),b.coerceFont(h,"rangefont",x),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(L,M,e){"use strict";var b=e(71828).isTypedArray;M.convertTypedArray=function(w){return b(w)?Array.prototype.slice.call(w):w},M.isOrdinal=function(w){return!!w.tickvals},M.isVisible=function(w){return w.visible||!("visible"in w)}},67618:function(L,M,e){"use strict";var b=e(71791);b.plot=e(21341),L.exports=b},83398:function(L,M,e){"use strict";var b=e(56068),w=b([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=b([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),k=e(25706).maxDimensionCount,y=e(71828),f=new Uint8Array(4),l=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function s(m,d,x,g,v){var T=m._gl;T.enable(T.SCISSOR_TEST),T.scissor(d,x,g,v),m.clear({color:[0,0,0,0],depth:1})}function o(m,d,x,g,v,T){var c=T.key;x.drawCompleted||(function(E){E.read({x:0,y:0,width:1,height:1,data:f})}(m),x.drawCompleted=!0),function E(A){var C=Math.min(g,v-A*g);A===0&&(window.cancelAnimationFrame(x.currentRafs[c]),delete x.currentRafs[c],s(m,T.scissorX,T.scissorY,T.scissorWidth,T.viewBoxSize[1])),x.clearOnly||(T.count=2*C,T.offset=2*A*g,d(T),A*g+C<v&&(x.currentRafs[c]=window.requestAnimationFrame(function(){E(A+1)})),x.drawCompleted=!1)}(0)}function n(m,d){for(var x=new Array(256),g=0;g<256;g++)x[g]=m(g/255).concat(d);return x}function r(m,d){return(m>>>8*d)%256/255}function i(m,d,x){for(var g=new Array(8*d),v=0,T=0;T<d;T++)for(var c=0;c<2;c++)for(var E=0;E<4;E++){var A=4*m+E,C=x[64*T+A];A===63&&c===0&&(C*=-1),g[v++]=C}return g}function u(m){var d="0"+m;return d.substr(d.length-2)}function p(m){return m<k?"p"+u(m+1)+"_"+u(m+4):"colors"}function h(m,d,x,g,v,T,c,E,A,C,O,P,D,z){for(var V=[[],[]],F=0;F<64;F++)V[0][F]=F===v?1:0,V[1][F]=F===T?1:0;c*=z,E*=z,A*=z,C*=z;var W=m.lines.canvasOverdrag*z,B=m.domain,U=m.canvasWidth*z,H=m.canvasHeight*z,q=m.pad.l*z,ee=m.pad.b*z,K=m.layoutHeight*z,J=m.layoutWidth*z,Z=m.deselectedLines.color,$=m.deselectedLines.opacity;return y.extendFlat({key:O,resolution:[U,H],viewBoxPos:[c+W,E],viewBoxSize:[A,C],i0:v,i1:T,dim0A:V[0].slice(0,16),dim0B:V[0].slice(16,32),dim0C:V[0].slice(32,48),dim0D:V[0].slice(48,64),dim1A:V[1].slice(0,16),dim1B:V[1].slice(16,32),dim1C:V[1].slice(32,48),dim1D:V[1].slice(48,64),drwLayer:P,contextColor:[Z[0]/255,Z[1]/255,Z[2]/255,$!=="auto"?Z[3]*$:Math.max(.00392156862745098,Math.pow(1/m.lines.color.length,.3333333333333333))],scissorX:(g===d?0:c+W)+(q-W)+J*B.x[0],scissorWidth:(g===x?U-c+W:A+.5)+(g===d?c+W:0),scissorY:E+ee+K*B.y[0],scissorHeight:C,viewportX:q-W+J*B.x[0],viewportY:ee+K*B.y[0],viewportWidth:U,viewportHeight:H},D)}function _(m){var d=2047,x=Math.max(0,Math.floor(m[0]*d),0),g=Math.min(d,Math.ceil(m[1]*d),d);return[Math.min(x,g),Math.max(x,g)]}L.exports=function(m,d){var x,g,v,T,c,E=d.context,A=d.pick,C=d.regl,O=C._gl,P=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),D=Math.max(P[0],Math.min(P[1],d.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},V=function(H){for(var q={},ee=0;ee<=k;ee+=4)q[p(ee)]=H.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return q}(C),F=C.texture(t),W=[];U(d);var B=C({profile:!1,blend:{enable:E,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!E,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:C.prop("scissorX"),y:C.prop("scissorY"),width:C.prop("scissorWidth"),height:C.prop("scissorHeight")}},viewport:{x:C.prop("viewportX"),y:C.prop("viewportY"),width:C.prop("viewportWidth"),height:C.prop("viewportHeight")},dither:!1,vert:w,frag:a,primitive:"lines",lineWidth:D,attributes:V,uniforms:{resolution:C.prop("resolution"),viewBoxPos:C.prop("viewBoxPos"),viewBoxSize:C.prop("viewBoxSize"),dim0A:C.prop("dim0A"),dim1A:C.prop("dim1A"),dim0B:C.prop("dim0B"),dim1B:C.prop("dim1B"),dim0C:C.prop("dim0C"),dim1C:C.prop("dim1C"),dim0D:C.prop("dim0D"),dim1D:C.prop("dim1D"),loA:C.prop("loA"),hiA:C.prop("hiA"),loB:C.prop("loB"),hiB:C.prop("hiB"),loC:C.prop("loC"),hiC:C.prop("hiC"),loD:C.prop("loD"),hiD:C.prop("hiD"),palette:F,contextColor:C.prop("contextColor"),maskTexture:C.prop("maskTexture"),drwLayer:C.prop("drwLayer"),maskHeight:C.prop("maskHeight")},offset:C.prop("offset"),count:C.prop("count")});function U(H){x=H.model,g=H.viewModel,v=g.dimensions.slice(),T=v[0]?v[0].values.length:0;var q=x.lines,ee=A?q.color.map(function(J,Z){return Z/q.color.length}):q.color,K=function(J,Z,$){for(var ne,ae=new Array(J*(k+4)),oe=0,se=0;se<J;se++){for(var ce=0;ce<k;ce++)ae[oe++]=ce<Z.length?Z[ce].paddedUnitValues[se]:.5;ae[oe++]=r(se,2),ae[oe++]=r(se,1),ae[oe++]=r(se,0),ae[oe++]=(ne=$[se],Math.max(1e-6,Math.min(.999999,ne)))}return ae}(T,v,ee);(function(J,Z,$){for(var ne=0;ne<=k;ne+=4)J[p(ne)](i(ne/4,Z,$))})(V,T,K),E||A||(F=C.texture(y.extendFlat({data:n(x.unitToColor,255)},t)))}return{render:function(H,q,ee){var K,J,Z,$=H.length,ne=1/0,ae=-1/0;for(K=0;K<$;K++)H[K].dim0.canvasX<ne&&(ne=H[K].dim0.canvasX,J=K),H[K].dim1.canvasX>ae&&(ae=H[K].dim1.canvasX,Z=K);$===0&&s(C,0,0,x.canvasWidth,x.canvasHeight);var oe=function(Ae){var Me,ke,te,ue=[[],[]];for(te=0;te<64;te++){var ge=!Ae&&te<v.length?v[te].brush.filter.getBounds():[-1/0,1/0];ue[0][te]=ge[0],ue[1][te]=ge[1]}var we=new Array(16384);for(Me=0;Me<16384;Me++)we[Me]=255;if(!Ae)for(Me=0;Me<v.length;Me++){var Ee=Me%8,Be=(Me-Ee)/8,Re=Math.pow(2,Ee),je=v[Me].brush.filter.get();if(!(je.length<2)){var he=_(je[0])[1];for(ke=1;ke<je.length;ke++){var _e=_(je[ke]);for(te=he+1;te<_e[0];te++)we[8*te+Be]&=~Re;he=Math.max(he,_e[1])}}}var Te={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return c?c(Te):c=C.texture(Te),{maskTexture:c,maskHeight:2048,loA:ue[0].slice(0,16),loB:ue[0].slice(16,32),loC:ue[0].slice(32,48),loD:ue[0].slice(48,64),hiA:ue[1].slice(0,16),hiB:ue[1].slice(16,32),hiC:ue[1].slice(32,48),hiD:ue[1].slice(48,64)}}(E);for(K=0;K<$;K++){var se=H[K],ce=se.dim0.crossfilterDimensionIndex,me=se.dim1.crossfilterDimensionIndex,xe=se.canvasX,ve=se.canvasY,fe=xe+se.panelSizeX,pe=se.plotGlPixelRatio;if(q||!W[ce]||W[ce][0]!==xe||W[ce][1]!==fe){W[ce]=[xe,fe];var Le=h(x,J,Z,K,ce,me,xe,ve,se.panelSizeX,se.panelSizeY,se.dim0.crossfilterDimensionIndex,E?0:A?2:1,oe,pe);z.clearOnly=ee;var ye=q?x.lines.blockLineCount:T;o(C,B,z,ye,T,Le)}}},readPixel:function(H,q){return C.read({x:H,y:q,width:1,height:1,data:l}),l},readPixels:function(H,q,ee,K){var J=new Uint8Array(4*ee*K);return C.read({x:H,y:q,width:ee,height:K,data:J}),J},destroy:function(){for(var H in m.style["pointer-events"]="none",F.destroy(),c&&c.destroy(),V)V[H].destroy()},update:U}}},94397:function(L){"use strict";L.exports=function(M,e,b,w){var a,k;for(w||(w=1/0),a=0;a<e.length;a++)(k=e[a]).visible&&(w=Math.min(w,k[b].length));for(w===1/0&&(w=0),M._length=w,a=0;a<e.length;a++)(k=e[a]).visible&&(k._length=w);return w}},17171:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=w.numberFormat,k=e(36652),y=e(89298),f=w.strRotate,l=w.strTranslate,t=e(63893),s=e(91424),o=e(21081),n=e(28984),r=n.keyFun,i=n.repeat,u=n.unwrap,p=e(1602),h=e(25706),_=e(57920),m=e(83398);function d(W,B,U){return w.aggNums(W,null,B,U)}function x(W,B){return v(d(Math.min,W,B),d(Math.max,W,B))}function g(W){var B=W.range;return B?v(B[0],B[1]):x(W.values,W._length)}function v(W,B){return!isNaN(W)&&isFinite(W)||(W=0),!isNaN(B)&&isFinite(B)||(B=0),W===B&&(W===0?(W-=1,B+=1):(W*=.9,B*=1.1)),[W,B]}function T(W,B,U,H,q){var ee,K,J=g(U);return H?b.scale.ordinal().domain(H.map((ee=a(U.tickformat),K=q,K?function(Z,$){var ne=K[$];return ne??ee(Z)}:ee))).range(H.map(function(Z){var $=(Z-J[0])/(J[1]-J[0]);return W-B+$*(2*B-W)})):b.scale.linear().domain(J).range([W-B,B])}function c(W){if(W.tickvals){var B=g(W);return b.scale.ordinal().domain(W.tickvals).range(W.tickvals.map(function(U){return(U-B[0])/(B[1]-B[0])}))}}function E(W){var B=W.map(function(q){return q[0]}),U=W.map(function(q){var ee=k(q[1]);return b.rgb("rgb("+ee[0]+","+ee[1]+","+ee[2]+")")}),H="rgb".split("").map(function(q){return b.scale.linear().clamp(!0).domain(B).range(U.map((ee=q,function(K){return K[ee]})));var ee});return function(q){return H.map(function(ee){return ee(q)})}}function A(W){return W.dimensions.some(function(B){return B.brush.filterSpecified})}function C(W,B,U){var H=u(B),q=H.trace,ee=p.convertTypedArray(H.lineColor),K=q.line,J={color:k(q.unselected.line.color),opacity:q.unselected.line.opacity},Z=o.extractOpts(K),$=Z.reversescale?o.flipScale(H.cscale):H.cscale,ne=q.domain,ae=q.dimensions,oe=W.width,se=q.labelangle,ce=q.labelside,me=q.labelfont,xe=q.tickfont,ve=q.rangefont,fe=w.extendDeepNoArrays({},K,{color:ee.map(b.scale.linear().domain(g({values:ee,range:[Z.min,Z.max],_length:q._length}))),blockLineCount:h.blockLineCount,canvasOverdrag:h.overdrag*h.canvasPixelRatio}),pe=Math.floor(oe*(ne.x[1]-ne.x[0])),Le=Math.floor(W.height*(ne.y[1]-ne.y[0])),ye=W.margin||{l:80,r:80,t:100,b:80},Ae=pe,Me=Le;return{key:U,colCount:ae.filter(p.isVisible).length,dimensions:ae,tickDistance:h.tickDistance,unitToColor:E($),lines:fe,deselectedLines:J,labelAngle:se,labelSide:ce,labelFont:me,tickFont:xe,rangeFont:ve,layoutWidth:oe,layoutHeight:W.height,domain:ne,translateX:ne.x[0]*oe,translateY:W.height-ne.y[1]*W.height,pad:ye,canvasWidth:Ae*h.canvasPixelRatio+2*fe.canvasOverdrag,canvasHeight:Me*h.canvasPixelRatio,width:Ae,height:Me,canvasPixelRatio:h.canvasPixelRatio}}function O(W,B,U){var H=U.width,q=U.height,ee=U.dimensions,K=U.canvasPixelRatio,J=function(oe){return H*oe/Math.max(1,U.colCount-1)},Z=h.verticalPadding/q,$=function(oe,se){return b.scale.linear().range([se,oe-se])}(q,h.verticalPadding),ne={key:U.key,xScale:J,model:U,inBrushDrag:!1},ae={};return ne.dimensions=ee.filter(p.isVisible).map(function(oe,se){var ce=function(we,Ee){return b.scale.linear().domain(g(we)).range([Ee,1-Ee])}(oe,Z),me=ae[oe.label];ae[oe.label]=(me||0)+1;var xe=oe.label+(me?"__"+me:""),ve=oe.constraintrange,fe=ve&&ve.length;fe&&!Array.isArray(ve[0])&&(ve=[ve]);var pe=fe?ve.map(function(we){return we.map(ce)}):[[-1/0,1/0]],Le=oe.values;Le.length>oe._length&&(Le=Le.slice(0,oe._length));var ye,Ae=oe.tickvals;function Me(we,Ee){return{val:we,text:ye[Ee]}}function ke(we,Ee){return we.val-Ee.val}if(Array.isArray(Ae)&&Ae.length){ye=oe.ticktext,Array.isArray(ye)&&ye.length?ye.length>Ae.length?ye=ye.slice(0,Ae.length):Ae.length>ye.length&&(Ae=Ae.slice(0,ye.length)):ye=Ae.map(a(oe.tickformat));for(var te=1;te<Ae.length;te++)if(Ae[te]<Ae[te-1]){for(var ue=Ae.map(Me).sort(ke),ge=0;ge<Ae.length;ge++)Ae[ge]=ue[ge].val,ye[ge]=ue[ge].text;break}}else Ae=void 0;return Le=p.convertTypedArray(Le),{key:xe,label:oe.label,tickFormat:oe.tickformat,tickvals:Ae,ticktext:ye,ordinal:p.isOrdinal(oe),multiselect:oe.multiselect,xIndex:se,crossfilterDimensionIndex:se,visibleIndex:oe._index,height:q,values:Le,paddedUnitValues:Le.map(ce),unitTickvals:Ae&&Ae.map(ce),xScale:J,x:J(se),canvasX:J(se)*K,unitToPaddedPx:$,domainScale:T(q,h.verticalPadding,oe,Ae,ye),ordinalScale:c(oe),parent:ne,model:U,brush:_.makeBrush(W,fe,pe,function(){W.linePickActive(!1)},function(){var we=ne;we.focusLayer&&we.focusLayer.render(we.panels,!0);var Ee=A(we);!W.contextShown()&&Ee?(we.contextLayer&&we.contextLayer.render(we.panels,!0),W.contextShown(!0)):W.contextShown()&&!Ee&&(we.contextLayer&&we.contextLayer.render(we.panels,!0,!0),W.contextShown(!1))},function(we){if(ne.focusLayer.render(ne.panels,!0),ne.pickLayer&&ne.pickLayer.render(ne.panels,!0),W.linePickActive(!0),B&&B.filterChanged){var Ee=ce.invert,Be=we.map(function(Re){return Re.map(Ee).sort(w.sorterAsc)}).sort(function(Re,je){return Re[0]-je[0]});B.filterChanged(ne.key,oe._index,Be)}})}}),ne}function P(W){W.classed(h.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function D(W,B){var U=B==="top"?1:-1,H=W*Math.PI/180;return{dir:U,dx:Math.sin(H),dy:Math.cos(H),degrees:W}}function z(W,B,U){for(var H=B.panels||(B.panels=[]),q=W.data(),ee=0;ee<q.length-1;ee++){var K=H[ee]||(H[ee]={}),J=q[ee],Z=q[ee+1];K.dim0=J,K.dim1=Z,K.canvasX=J.canvasX,K.panelSizeX=Z.canvasX-J.canvasX,K.panelSizeY=B.model.canvasHeight,K.y=0,K.canvasY=0,K.plotGlPixelRatio=U}}function V(W,B){return y.tickText(W._ax,B,!1).text}function F(W,B){if(W.ordinal)return"";var U=W.domainScale.domain(),H=U[B?U.length-1:0];return V(W.model.dimensions[W.visibleIndex],H)}L.exports=function(W,B,U,H){var q=W._context.staticPlot,ee=W._fullLayout,K=ee._toppaper,J=ee._glcontainer,Z=W._context.plotGlPixelRatio,$=W._fullLayout.paper_bgcolor;(function(we){for(var Ee=0;Ee<we.length;Ee++)for(var Be=0;Be<we[Ee].length;Be++)for(var Re=we[Ee][Be].trace,je=Re.dimensions,he=0;he<je.length;he++){var _e=je[he].values,Te=je[he]._ax;Te&&(Te.range?Te.range=v(Te.range[0],Te.range[1]):Te.range=x(_e,Re._length),Te.dtick||(Te.dtick=.01*(Math.abs(Te.range[1]-Te.range[0])||1)),Te.tickformat=je[he].tickformat,y.calcTicks(Te),Te.cleanRange())}})(B);var ne,ae,oe=(ne=!0,ae=!1,{linePickActive:function(we){return arguments.length?ne=!!we:ne},contextShown:function(we){return arguments.length?ae=!!we:ae}}),se=B.filter(function(we){return u(we).trace.visible}).map(C.bind(0,U)).map(O.bind(0,oe,H));J.each(function(we,Ee){return w.extendFlat(we,se[Ee])});var ce=J.selectAll(".gl-canvas").each(function(we){we.viewModel=se[0],we.viewModel.plotGlPixelRatio=Z,we.viewModel.paperColor=$,we.model=we.viewModel?we.viewModel.model:null}),me=null;ce.filter(function(we){return we.pick}).style("pointer-events",q?"none":"auto").on("mousemove",function(we){if(oe.linePickActive()&&we.lineLayer&&H&&H.hover){var Ee=b.event,Be=this.width,Re=this.height,je=b.mouse(this),he=je[0],_e=je[1];if(he<0||_e<0||he>=Be||_e>=Re)return;var Te=we.lineLayer.readPixel(he,Re-1-_e),Fe=Te[3]!==0,Ye=Fe?Te[2]+256*(Te[1]+256*Te[0]):null,Ge={x:he,y:_e,clientX:Ee.clientX,clientY:Ee.clientY,dataIndex:we.model.key,curveNumber:Ye};Ye!==me&&(Fe?H.hover(Ge):H.unhover&&H.unhover(Ge),me=Ye)}}),ce.style("opacity",function(we){return we.pick?0:1}),K.style("background","rgba(255, 255, 255, 0)");var xe=K.selectAll("."+h.cn.parcoords).data(se,r);xe.exit().remove(),xe.enter().append("g").classed(h.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),xe.attr("transform",function(we){return l(we.model.translateX,we.model.translateY)});var ve=xe.selectAll("."+h.cn.parcoordsControlView).data(i,r);ve.enter().append("g").classed(h.cn.parcoordsControlView,!0),ve.attr("transform",function(we){return l(we.model.pad.l,we.model.pad.t)});var fe=ve.selectAll("."+h.cn.yAxis).data(function(we){return we.dimensions},r);fe.enter().append("g").classed(h.cn.yAxis,!0),ve.each(function(we){z(fe,we,Z)}),ce.each(function(we){if(we.viewModel){!we.lineLayer||H?we.lineLayer=m(this,we):we.lineLayer.update(we),(we.key||we.key===0)&&(we.viewModel[we.key]=we.lineLayer);var Ee=!we.context||H;we.lineLayer.render(we.viewModel.panels,Ee)}}),fe.attr("transform",function(we){return l(we.xScale(we.xIndex),0)}),fe.call(b.behavior.drag().origin(function(we){return we}).on("drag",function(we){var Ee=we.parent;oe.linePickActive(!1),we.x=Math.max(-h.overdrag,Math.min(we.model.width+h.overdrag,b.event.x)),we.canvasX=we.x*we.model.canvasPixelRatio,fe.sort(function(Be,Re){return Be.x-Re.x}).each(function(Be,Re){Be.xIndex=Re,Be.x=we===Be?Be.x:Be.xScale(Be.xIndex),Be.canvasX=Be.x*Be.model.canvasPixelRatio}),z(fe,Ee,Z),fe.filter(function(Be){return Math.abs(we.xIndex-Be.xIndex)!==0}).attr("transform",function(Be){return l(Be.xScale(Be.xIndex),0)}),b.select(this).attr("transform",l(we.x,0)),fe.each(function(Be,Re,je){je===we.parent.key&&(Ee.dimensions[Re]=Be)}),Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!1,!A(Ee)),Ee.focusLayer.render&&Ee.focusLayer.render(Ee.panels)}).on("dragend",function(we){var Ee=we.parent;we.x=we.xScale(we.xIndex),we.canvasX=we.x*we.model.canvasPixelRatio,z(fe,Ee,Z),b.select(this).attr("transform",function(Be){return l(Be.x,0)}),Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!1,!A(Ee)),Ee.focusLayer&&Ee.focusLayer.render(Ee.panels),Ee.pickLayer&&Ee.pickLayer.render(Ee.panels,!0),oe.linePickActive(!0),H&&H.axesMoved&&H.axesMoved(Ee.key,Ee.dimensions.map(function(Be){return Be.crossfilterDimensionIndex}))})),fe.exit().remove();var pe=fe.selectAll("."+h.cn.axisOverlays).data(i,r);pe.enter().append("g").classed(h.cn.axisOverlays,!0),pe.selectAll("."+h.cn.axis).remove();var Le=pe.selectAll("."+h.cn.axis).data(i,r);Le.enter().append("g").classed(h.cn.axis,!0),Le.each(function(we){var Ee=we.model.height/we.model.tickDistance,Be=we.domainScale,Re=Be.domain();b.select(this).call(b.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ee,we.tickFormat).tickValues(we.ordinal?Re:null).tickFormat(function(je){return p.isOrdinal(we)?je:V(we.model.dimensions[we.visibleIndex],je)}).scale(Be)),s.font(Le.selectAll("text"),we.model.tickFont)}),Le.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Le.selectAll("text").style("text-shadow",t.makeTextShadow($)).style("cursor","default");var ye=pe.selectAll("."+h.cn.axisHeading).data(i,r);ye.enter().append("g").classed(h.cn.axisHeading,!0);var Ae=ye.selectAll("."+h.cn.axisTitle).data(i,r);Ae.enter().append("text").classed(h.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",q?"none":"auto"),Ae.text(function(we){return we.label}).each(function(we){var Ee=b.select(this);s.font(Ee,we.model.labelFont),t.convertToTspans(Ee,W)}).attr("transform",function(we){var Ee=D(we.model.labelAngle,we.model.labelSide),Be=h.axisTitleOffset;return(Ee.dir>0?"":l(0,2*Be+we.model.height))+f(Ee.degrees)+l(-Be*Ee.dx,-Be*Ee.dy)}).attr("text-anchor",function(we){var Ee=D(we.model.labelAngle,we.model.labelSide);return 2*Math.abs(Ee.dx)>Math.abs(Ee.dy)?Ee.dir*Ee.dx<0?"start":"end":"middle"});var Me=pe.selectAll("."+h.cn.axisExtent).data(i,r);Me.enter().append("g").classed(h.cn.axisExtent,!0);var ke=Me.selectAll("."+h.cn.axisExtentTop).data(i,r);ke.enter().append("g").classed(h.cn.axisExtentTop,!0),ke.attr("transform",l(0,-h.axisExtentOffset));var te=ke.selectAll("."+h.cn.axisExtentTopText).data(i,r);te.enter().append("text").classed(h.cn.axisExtentTopText,!0).call(P),te.text(function(we){return F(we,!0)}).each(function(we){s.font(b.select(this),we.model.rangeFont)});var ue=Me.selectAll("."+h.cn.axisExtentBottom).data(i,r);ue.enter().append("g").classed(h.cn.axisExtentBottom,!0),ue.attr("transform",function(we){return l(0,we.model.height+h.axisExtentOffset)});var ge=ue.selectAll("."+h.cn.axisExtentBottomText).data(i,r);ge.enter().append("text").classed(h.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(P),ge.text(function(we){return F(we,!1)}).each(function(we){s.font(b.select(this),we.model.rangeFont)}),_.ensureAxisBrush(pe,$,W)}},21341:function(L,M,e){"use strict";var b=e(17171),w=e(79749),a=e(1602).isVisible,k={};function y(f,l,t){var s=l.indexOf(t),o=f.indexOf(s);return o===-1&&(o+=l.length),o}(L.exports=function(f,l){var t=f._fullLayout;if(w(f,[],k)){var s={},o={},n={},r={},i=t._size;l.forEach(function(u,p){var h=u[0].trace;n[p]=h.index;var _=r[p]=h._fullInput.index;s[p]=f.data[_].dimensions,o[p]=f.data[_].dimensions.slice()}),b(f,l,{width:i.w,height:i.h,margin:{t:i.t,r:i.r,b:i.b,l:i.l}},{filterChanged:function(u,p,h){var _=o[u][p],m=h.map(function(c){return c.slice()}),d="dimensions["+p+"].constraintrange",x=t._tracePreGUI[f._fullData[n[u]]._fullInput.uid];if(x[d]===void 0){var g=_.constraintrange;x[d]=g||null}var v=f._fullData[n[u]].dimensions[p];m.length?(m.length===1&&(m=m[0]),_.constraintrange=m,v.constraintrange=m.slice(),m=[m]):(delete _.constraintrange,delete v.constraintrange,m=null);var T={};T[d]=m,f.emit("plotly_restyle",[T,[r[u]]])},hover:function(u){f.emit("plotly_hover",u)},unhover:function(u){f.emit("plotly_unhover",u)},axesMoved:function(u,p){var h=function(_,m){return function(d,x){return y(_,m,d)-y(_,m,x)}}(p,o[u].filter(a));s[u].sort(h),o[u].filter(function(_){return!a(_)}).sort(function(_){return o[u].indexOf(_)}).forEach(function(_){s[u].splice(s[u].indexOf(_),1),s[u].splice(o[u].indexOf(_),0,_)}),f.emit("plotly_restyle",[{dimensions:[s[u]]},[r[u]]])}})}}).reglPrecompiled=k},34e3:function(L,M,e){"use strict";var b=e(9012),w=e(27670).Y,a=e(41940),k=e(22399),y=e(5386).fF,f=e(5386).si,l=e(1426).extendFlat,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});L.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:k.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},b.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:y({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},t,{}),outsidetextfont:l({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:w({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:l({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(L,M,e){"use strict";var b=e(74875);M.name="pie",M.plot=function(w,a,k,y){b.plotBasePlot(M.name,w,a,k,y)},M.clean=function(w,a,k,y){b.cleanBasePlot(M.name,w,a,k,y)}},32354:function(L,M,e){"use strict";var b=e(92770),w=e(84267),a=e(7901),k={};function y(l){return function(t,s){return!!t&&!!(t=w(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),l[s]||(l[s]=t),t)}}function f(l,t){var s,o=JSON.stringify(l),n=t[o];if(!n){for(n=l.slice(),s=0;s<l.length;s++)n.push(w(l[s]).lighten(20).toHexString());for(s=0;s<l.length;s++)n.push(w(l[s]).darken(20).toHexString());t[o]=n}return n}L.exports={calc:function(l,t){var s,o,n=[],r=l._fullLayout,i=r.hiddenlabels||[],u=t.labels,p=t.marker.colors||[],h=t.values,_=t._length,m=t._hasValues&&_;if(t.dlabel)for(u=new Array(_),s=0;s<_;s++)u[s]=String(t.label0+s*t.dlabel);var d={},x=y(r["_"+t.type+"colormap"]),g=0,v=!1;for(s=0;s<_;s++){var T,c,E;if(m){if(T=h[s],!b(T))continue;T=+T}else T=1;(c=u[s])!==void 0&&c!==""||(c=s);var A=d[c=String(c)];A===void 0?(d[c]=n.length,(E=i.indexOf(c)!==-1)||(g+=T),n.push({v:T,label:c,color:x(p[s],c),i:s,pts:[s],hidden:E})):(v=!0,(o=n[A]).v+=T,o.pts.push(s),o.hidden||(g+=T),o.color===!1&&p[s]&&(o.color=x(p[s],c)))}return n=n.filter(function(C){return C.v>=0}),(t.type==="funnelarea"?v:t.sort)&&n.sort(function(C,O){return O.v-C.v}),n[0]&&(n[0].vTotal=g),n},crossTraceCalc:function(l,t){var s=(t||{}).type;s||(s="pie");var o=l._fullLayout,n=l.calcdata,r=o[s+"colorway"],i=o["_"+s+"colormap"];o["extend"+s+"colors"]&&(r=f(r,k));for(var u=0,p=0;p<n.length;p++){var h=n[p];if(h[0].trace.type===s)for(var _=0;_<h.length;_++){var m=h[_];m.color===!1&&(i[m.label]?m.color=i[m.label]:(i[m.label]=m.color=r[u%r.length],u++))}}},makePullColorFn:y,generateExtendedColors:f}},37434:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(34e3),k=e(27670).c,y=e(90769).handleText;function f(l,t){var s=Array.isArray(l),o=w.isArrayOrTypedArray(t),n=Math.min(s?l.length:1/0,o?t.length:1/0);if(isFinite(n)||(n=0),n&&o){for(var r,i=0;i<n;i++){var u=t[i];if(b(u)&&u>0){r=!0;break}}r||(n=0)}return{hasLabels:s,hasValues:o,len:n}}L.exports={handleLabelsAndValues:f,supplyDefaults:function(l,t,s,o){function n(x,g){return w.coerce(l,t,a,x,g)}var r=f(n("labels"),n("values")),i=r.len;if(t._hasLabels=r.hasLabels,t._hasValues=r.hasValues,!t._hasLabels&&t._hasValues&&(n("label0"),n("dlabel")),i){t._length=i,n("marker.line.width")&&n("marker.line.color"),n("marker.colors"),n("scalegroup");var u,p=n("text"),h=n("texttemplate");if(h||(u=n("textinfo",Array.isArray(p)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),h||u&&u!=="none"){var _=n("textposition");y(l,t,o,n,_,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(_)||_==="auto"||_==="outside")&&n("automargin"),(_==="inside"||_==="auto"||Array.isArray(_))&&n("insidetextorientation")}k(t,o,n);var m=n("hole");if(n("title.text")){var d=n("title.position",m?"middle center":"top center");m||d!=="middle center"||(t.title.position="top center"),w.coerceFont(n,"title.font",o.font)}n("sort"),n("direction"),n("rotation"),n("pull")}else t.visible=!1}}},20007:function(L,M,e){"use strict";var b=e(23469).appendArrayMultiPointValues;L.exports=function(w,a){var k={curveNumber:a.index,pointNumbers:w.pts,data:a._input,fullData:a,label:w.label,color:w.color,value:w.v,percent:w.percent,text:w.text,bbox:w.bbox,v:w.v};return w.pts.length===1&&(k.pointNumber=k.i=w.pts[0]),b(k,a,w.pts),a.type==="funnelarea"&&(delete k.v,delete k.i),k}},53581:function(L,M,e){"use strict";var b=e(71828);function w(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}M.formatPiePercent=function(a,k){var y=w((100*a).toPrecision(3));return b.numSeparate(y,k)+"%"},M.formatPieValue=function(a,k){var y=w(a.toPrecision(10));return b.numSeparate(y,k)},M.getFirstFilled=function(a,k){if(Array.isArray(a))for(var y=0;y<k.length;y++){var f=a[k[y]];if(f||f===0||f==="")return f}},M.castOption=function(a,k){return Array.isArray(a)?M.getFirstFilled(a,k):a||void 0},M.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(L,M,e){"use strict";L.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(L){"use strict";L.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(L,M,e){"use strict";var b=e(71828),w=e(92774);L.exports=function(a,k){function y(f,l){return b.coerce(a,k,w,f,l)}y("hiddenlabels"),y("piecolorway",k.colorway),y("extendpiecolors")}},14575:function(L,M,e){"use strict";var b=e(39898),w=e(74875),a=e(30211),k=e(7901),y=e(91424),f=e(71828),l=f.strScale,t=f.strTranslate,s=e(63893),o=e(72597),n=o.recordMinTextSize,r=o.clearMinTextSize,i=e(97313).TEXTPAD,u=e(53581),p=e(20007),h=e(71828).isValidTextValue;function _(B,U,H){var q=H[0],ee=q.cx,K=q.cy,J=q.trace,Z=J.type==="funnelarea";"_hasHoverLabel"in J||(J._hasHoverLabel=!1),"_hasHoverEvent"in J||(J._hasHoverEvent=!1),B.on("mouseover",function($){var ne=U._fullLayout,ae=U._fullData[J.index];if(!U._dragging&&ne.hovermode!==!1){var oe=ae.hoverinfo;if(Array.isArray(oe)&&(oe=a.castHoverinfo({hoverinfo:[u.castOption(oe,$.pts)],_module:J._module},ne,0)),oe==="all"&&(oe="label+text+value+percent+name"),ae.hovertemplate||oe!=="none"&&oe!=="skip"&&oe){var se=$.rInscribed||0,ce=ee+$.pxmid[0]*(1-se),me=K+$.pxmid[1]*(1-se),xe=ne.separators,ve=[];if(oe&&oe.indexOf("label")!==-1&&ve.push($.label),$.text=u.castOption(ae.hovertext||ae.text,$.pts),oe&&oe.indexOf("text")!==-1){var fe=$.text;f.isValidTextValue(fe)&&ve.push(fe)}$.value=$.v,$.valueLabel=u.formatPieValue($.v,xe),oe&&oe.indexOf("value")!==-1&&ve.push($.valueLabel),$.percent=$.v/q.vTotal,$.percentLabel=u.formatPiePercent($.percent,xe),oe&&oe.indexOf("percent")!==-1&&ve.push($.percentLabel);var pe=ae.hoverlabel,Le=pe.font,ye=[];a.loneHover({trace:J,x0:ce-se*q.r,x1:ce+se*q.r,y:me,_x0:Z?ee+$.TL[0]:ce-se*q.r,_x1:Z?ee+$.TR[0]:ce+se*q.r,_y0:Z?K+$.TL[1]:me-se*q.r,_y1:Z?K+$.BL[1]:me+se*q.r,text:ve.join("<br>"),name:ae.hovertemplate||oe.indexOf("name")!==-1?ae.name:void 0,idealAlign:$.pxmid[0]<0?"left":"right",color:u.castOption(pe.bgcolor,$.pts)||$.color,borderColor:u.castOption(pe.bordercolor,$.pts),fontFamily:u.castOption(Le.family,$.pts),fontSize:u.castOption(Le.size,$.pts),fontColor:u.castOption(Le.color,$.pts),nameLength:u.castOption(pe.namelength,$.pts),textAlign:u.castOption(pe.align,$.pts),hovertemplate:u.castOption(ae.hovertemplate,$.pts),hovertemplateLabels:$,eventData:[p($,ae)]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:U,inOut_bbox:ye}),$.bbox=ye[0],J._hasHoverLabel=!0}J._hasHoverEvent=!0,U.emit("plotly_hover",{points:[p($,ae)],event:b.event})}}),B.on("mouseout",function($){var ne=U._fullLayout,ae=U._fullData[J.index],oe=b.select(this).datum();J._hasHoverEvent&&($.originalEvent=b.event,U.emit("plotly_unhover",{points:[p(oe,ae)],event:b.event}),J._hasHoverEvent=!1),J._hasHoverLabel&&(a.loneUnhover(ne._hoverlayer.node()),J._hasHoverLabel=!1)}),B.on("click",function($){var ne=U._fullLayout,ae=U._fullData[J.index];U._dragging||ne.hovermode===!1||(U._hoverdata=[p($,ae)],a.click(U,b.event))})}function m(B,U,H){var q=u.castOption(B.insidetextfont.color,U.pts);!q&&B._input.textfont&&(q=u.castOption(B._input.textfont.color,U.pts));var ee=u.castOption(B.insidetextfont.family,U.pts)||u.castOption(B.textfont.family,U.pts)||H.family,K=u.castOption(B.insidetextfont.size,U.pts)||u.castOption(B.textfont.size,U.pts)||H.size;return{color:q||k.contrast(U.color),family:ee,size:K}}function d(B,U){for(var H,q,ee=0;ee<B.length;ee++)if((q=(H=B[ee][0]).trace).title.text){var K=q.title.text;q._meta&&(K=f.templateString(K,q._meta));var J=y.tester.append("text").attr("data-notex",1).text(K).call(y.font,q.title.font).call(s.convertToTspans,U),Z=y.bBox(J.node(),!0);H.titleBox={width:Z.width,height:Z.height},J.remove()}}function x(B,U,H){var q=H.r||U.rpx1,ee=U.rInscribed;if(U.startangle===U.stopangle)return{rCenter:1-ee,scale:0,rotate:0,textPosAngle:0};var K,J=U.ring,Z=J===1&&Math.abs(U.startangle-U.stopangle)===2*Math.PI,$=U.halfangle,ne=U.midangle,ae=H.trace.insidetextorientation,oe=ae==="horizontal",se=ae==="tangential",ce=ae==="radial",me=ae==="auto",xe=[];if(!me){var ve,fe=function(ke,te){if(function(Ee,Be){var Re=Ee.startangle,je=Ee.stopangle;return Re>Be&&Be>je||Re<Be&&Be<je}(U,ke)){var ue=Math.abs(ke-U.startangle),ge=Math.abs(ke-U.stopangle),we=ue<ge?ue:ge;(K=te==="tan"?v(B,q,J,we,0):g(B,q,J,we,Math.PI/2)).textPosAngle=ke,xe.push(K)}};if(oe||se){for(ve=4;ve>=-4;ve-=2)fe(Math.PI*ve,"tan");for(ve=4;ve>=-4;ve-=2)fe(Math.PI*(ve+1),"tan")}if(oe||ce){for(ve=4;ve>=-4;ve-=2)fe(Math.PI*(ve+1.5),"rad");for(ve=4;ve>=-4;ve-=2)fe(Math.PI*(ve+.5),"rad")}}if(Z||me||oe){var pe=Math.sqrt(B.width*B.width+B.height*B.height);if((K={scale:ee*q*2/pe,rCenter:1-ee,rotate:0}).textPosAngle=(U.startangle+U.stopangle)/2,K.scale>=1)return K;xe.push(K)}(me||ce)&&((K=g(B,q,J,$,ne)).textPosAngle=(U.startangle+U.stopangle)/2,xe.push(K)),(me||se)&&((K=v(B,q,J,$,ne)).textPosAngle=(U.startangle+U.stopangle)/2,xe.push(K));for(var Le=0,ye=0,Ae=0;Ae<xe.length;Ae++){var Me=xe[Ae].scale;if(ye<Me&&(ye=Me,Le=Ae),!me&&ye>=1)break}return xe[Le]}function g(B,U,H,q,ee){U=Math.max(0,U-2*i);var K=B.width/B.height,J=E(K,q,U,H);return{scale:2*J/B.height,rCenter:T(K,J/U),rotate:c(ee)}}function v(B,U,H,q,ee){U=Math.max(0,U-2*i);var K=B.height/B.width,J=E(K,q,U,H);return{scale:2*J/B.width,rCenter:T(K,J/U),rotate:c(ee+Math.PI/2)}}function T(B,U){return Math.cos(U)-B*U}function c(B){return(180/Math.PI*B+720)%180-90}function E(B,U,H,q){var ee=B+1/(2*Math.tan(U));return H*Math.min(1/(Math.sqrt(ee*ee+.5)+ee),q/(Math.sqrt(B*B+q/2)+B))}function A(B,U){return B.v!==U.vTotal||U.trace.hole?Math.min(1/(1+1/Math.sin(B.halfangle)),B.ring/2):1}function C(B,U){var H=U.pxmid[0],q=U.pxmid[1],ee=B.width/2,K=B.height/2;return H<0&&(ee*=-1),q<0&&(K*=-1),{scale:1,rCenter:1,rotate:0,x:ee+Math.abs(K)*(ee>0?1:-1)/2,y:K/(1+H*H/(q*q)),outside:!0}}function O(B,U){var H,q,ee,K=B.trace,J={x:B.cx,y:B.cy},Z={tx:0,ty:0};Z.ty+=K.title.font.size,ee=D(K),K.title.position.indexOf("top")!==-1?(J.y-=(1+ee)*B.r,Z.ty-=B.titleBox.height):K.title.position.indexOf("bottom")!==-1&&(J.y+=(1+ee)*B.r);var $,ne=B.r/(($=B.trace.aspectratio)===void 0?1:$),ae=U.w*(K.domain.x[1]-K.domain.x[0])/2;return K.title.position.indexOf("left")!==-1?(ae+=ne,J.x-=(1+ee)*ne,Z.tx+=B.titleBox.width/2):K.title.position.indexOf("center")!==-1?ae*=2:K.title.position.indexOf("right")!==-1&&(ae+=ne,J.x+=(1+ee)*ne,Z.tx-=B.titleBox.width/2),H=ae/B.titleBox.width,q=P(B,U)/B.titleBox.height,{x:J.x,y:J.y,scale:Math.min(H,q),tx:Z.tx,ty:Z.ty}}function P(B,U){var H=B.trace,q=U.h*(H.domain.y[1]-H.domain.y[0]);return Math.min(B.titleBox.height,q/2)}function D(B){var U,H=B.pull;if(!H)return 0;if(Array.isArray(H))for(H=0,U=0;U<B.pull.length;U++)B.pull[U]>H&&(H=B.pull[U]);return H}function z(B,U){for(var H=[],q=0;q<B.length;q++){var ee=B[q][0],K=ee.trace,J=K.domain,Z=U.w*(J.x[1]-J.x[0]),$=U.h*(J.y[1]-J.y[0]);K.title.text&&K.title.position!=="middle center"&&($-=P(ee,U));var ne=Z/2,ae=$/2;K.type!=="funnelarea"||K.scalegroup||(ae/=K.aspectratio),ee.r=Math.min(ne,ae)/(1+D(K)),ee.cx=U.l+U.w*(K.domain.x[1]+K.domain.x[0])/2,ee.cy=U.t+U.h*(1-K.domain.y[0])-$/2,K.title.text&&K.title.position.indexOf("bottom")!==-1&&(ee.cy-=P(ee,U)),K.scalegroup&&H.indexOf(K.scalegroup)===-1&&H.push(K.scalegroup)}(function(oe,se){for(var ce,me,xe,ve=0;ve<se.length;ve++){var fe=1/0,pe=se[ve];for(me=0;me<oe.length;me++)if((xe=(ce=oe[me][0]).trace).scalegroup===pe){var Le;if(xe.type==="pie")Le=ce.r*ce.r;else if(xe.type==="funnelarea"){var ye,Ae;xe.aspectratio>1?Ae=(ye=ce.r)/xe.aspectratio:ye=(Ae=ce.r)*xe.aspectratio,Le=(ye*=(1+xe.baseratio)/2)*Ae}fe=Math.min(fe,Le/ce.vTotal)}for(me=0;me<oe.length;me++)if((xe=(ce=oe[me][0]).trace).scalegroup===pe){var Me=fe*ce.vTotal;xe.type==="funnelarea"&&(Me/=(1+xe.baseratio)/2,Me/=xe.aspectratio),ce.r=Math.sqrt(Me)}}})(B,H)}function V(B,U){return[B*Math.sin(U),-B*Math.cos(U)]}function F(B,U,H){var q=B._fullLayout,ee=H.trace,K=ee.texttemplate,J=ee.textinfo;if(!K&&J&&J!=="none"){var Z,$=J.split("+"),ne=function(Le){return $.indexOf(Le)!==-1},ae=ne("label"),oe=ne("text"),se=ne("value"),ce=ne("percent"),me=q.separators;if(Z=ae?[U.label]:[],oe){var xe=u.getFirstFilled(ee.text,U.pts);h(xe)&&Z.push(xe)}se&&Z.push(u.formatPieValue(U.v,me)),ce&&Z.push(u.formatPiePercent(U.v/H.vTotal,me)),U.text=Z.join("<br>")}if(K){var ve=f.castOption(ee,U.i,"texttemplate");if(ve){var fe=function(Le){return{label:Le.label,value:Le.v,valueLabel:u.formatPieValue(Le.v,q.separators),percent:Le.v/H.vTotal,percentLabel:u.formatPiePercent(Le.v/H.vTotal,q.separators),color:Le.color,text:Le.text,customdata:f.castOption(ee,Le.i,"customdata")}}(U),pe=u.getFirstFilled(ee.text,U.pts);(h(pe)||pe==="")&&(fe.text=pe),U.text=f.texttemplateString(ve,fe,B._fullLayout._d3locale,fe,ee._meta||{})}else U.text=""}}function W(B,U){var H=B.rotate*Math.PI/180,q=Math.cos(H),ee=Math.sin(H),K=(U.left+U.right)/2,J=(U.top+U.bottom)/2;B.textX=K*q-J*ee,B.textY=K*ee+J*q,B.noCenter=!0}L.exports={plot:function(B,U){var H=B._context.staticPlot,q=B._fullLayout,ee=q._size;r("pie",q),d(U,B),z(U,ee);var K=f.makeTraceGroups(q._pielayer,U,"trace").each(function(J){var Z=b.select(this),$=J[0],ne=$.trace;(function(ae){var oe,se,ce,me=ae[0],xe=me.r,ve=me.trace,fe=u.getRotationAngle(ve.rotation),pe=2*Math.PI/me.vTotal,Le="px0",ye="px1";if(ve.direction==="counterclockwise"){for(oe=0;oe<ae.length&&ae[oe].hidden;oe++);if(oe===ae.length)return;fe+=pe*ae[oe].v,pe*=-1,Le="px1",ye="px0"}for(ce=V(xe,fe),oe=0;oe<ae.length;oe++)(se=ae[oe]).hidden||(se[Le]=ce,se.startangle=fe,fe+=pe*se.v/2,se.pxmid=V(xe,fe),se.midangle=fe,ce=V(xe,fe+=pe*se.v/2),se.stopangle=fe,se[ye]=ce,se.largeArc=se.v>me.vTotal/2?1:0,se.halfangle=Math.PI*Math.min(se.v/me.vTotal,.5),se.ring=1-ve.hole,se.rInscribed=A(se,me))})(J),Z.attr("stroke-linejoin","round"),Z.each(function(){var ae=b.select(this).selectAll("g.slice").data(J);ae.enter().append("g").classed("slice",!0),ae.exit().remove();var oe=[[[],[]],[[],[]]],se=!1;ae.each(function(ye,Ae){if(ye.hidden)b.select(this).selectAll("path,g").remove();else{ye.pointNumber=ye.i,ye.curveNumber=ne.index,oe[ye.pxmid[1]<0?0:1][ye.pxmid[0]<0?0:1].push(ye);var Me=$.cx,ke=$.cy,te=b.select(this),ue=te.selectAll("path.surface").data([ye]);if(ue.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),te.call(_,B,J),ne.pull){var ge=+u.castOption(ne.pull,ye.pts)||0;ge>0&&(Me+=ge*ye.pxmid[0],ke+=ge*ye.pxmid[1])}ye.cxFinal=Me,ye.cyFinal=ke;var we=ne.hole;if(ye.v===$.vTotal){var Ee="M"+(Me+ye.px0[0])+","+(ke+ye.px0[1])+_e(ye.px0,ye.pxmid,!0,1)+_e(ye.pxmid,ye.px0,!0,1)+"Z";we?ue.attr("d","M"+(Me+we*ye.px0[0])+","+(ke+we*ye.px0[1])+_e(ye.px0,ye.pxmid,!1,we)+_e(ye.pxmid,ye.px0,!1,we)+"Z"+Ee):ue.attr("d",Ee)}else{var Be=_e(ye.px0,ye.px1,!0,1);if(we){var Re=1-we;ue.attr("d","M"+(Me+we*ye.px1[0])+","+(ke+we*ye.px1[1])+_e(ye.px1,ye.px0,!1,we)+"l"+Re*ye.px0[0]+","+Re*ye.px0[1]+Be+"Z")}else ue.attr("d","M"+Me+","+ke+"l"+ye.px0[0]+","+ye.px0[1]+Be+"Z")}F(B,ye,$);var je=u.castOption(ne.textposition,ye.pts),he=te.selectAll("g.slicetext").data(ye.text&&je!=="none"?[0]:[]);he.enter().append("g").classed("slicetext",!0),he.exit().remove(),he.each(function(){var Te=f.ensureSingle(b.select(this),"text","",function(Ct){Ct.attr("data-notex",1)}),Fe=f.ensureUniformFontSize(B,je==="outside"?function(Ct,St,kt){return{color:u.castOption(Ct.outsidetextfont.color,St.pts)||u.castOption(Ct.textfont.color,St.pts)||kt.color,family:u.castOption(Ct.outsidetextfont.family,St.pts)||u.castOption(Ct.textfont.family,St.pts)||kt.family,size:u.castOption(Ct.outsidetextfont.size,St.pts)||u.castOption(Ct.textfont.size,St.pts)||kt.size}}(ne,ye,q.font):m(ne,ye,q.font));Te.text(ye.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(y.font,Fe).call(s.convertToTspans,B);var Ye,Ge=y.bBox(Te.node());if(je==="outside")Ye=C(Ge,ye);else if(Ye=x(Ge,ye,$),je==="auto"&&Ye.scale<1){var ot=f.ensureUniformFontSize(B,ne.outsidetextfont);Te.call(y.font,ot),Ye=C(Ge=y.bBox(Te.node()),ye)}var st=Ye.textPosAngle,ht=st===void 0?ye.pxmid:V($.r,st);if(Ye.targetX=Me+ht[0]*Ye.rCenter+(Ye.x||0),Ye.targetY=ke+ht[1]*Ye.rCenter+(Ye.y||0),W(Ye,Ge),Ye.outside){var xt=Ye.targetY;ye.yLabelMin=xt-Ge.height/2,ye.yLabelMid=xt,ye.yLabelMax=xt+Ge.height/2,ye.labelExtraX=0,ye.labelExtraY=0,se=!0}Ye.fontSize=Fe.size,n(ne.type,Ye,q),J[Ae].transform=Ye,f.setTransormAndDisplay(Te,Ye)})}function _e(Te,Fe,Ye,Ge){var ot=Ge*(Fe[0]-Te[0]),st=Ge*(Fe[1]-Te[1]);return"a"+Ge*$.r+","+Ge*$.r+" 0 "+ye.largeArc+(Ye?" 1 ":" 0 ")+ot+","+st}});var ce=b.select(this).selectAll("g.titletext").data(ne.title.text?[0]:[]);if(ce.enter().append("g").classed("titletext",!0),ce.exit().remove(),ce.each(function(){var ye,Ae=f.ensureSingle(b.select(this),"text","",function(ke){ke.attr("data-notex",1)}),Me=ne.title.text;ne._meta&&(Me=f.templateString(Me,ne._meta)),Ae.text(Me).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(y.font,ne.title.font).call(s.convertToTspans,B),ye=ne.title.position==="middle center"?function(ke){var te=Math.sqrt(ke.titleBox.width*ke.titleBox.width+ke.titleBox.height*ke.titleBox.height);return{x:ke.cx,y:ke.cy,scale:ke.trace.hole*ke.r*2/te,tx:0,ty:-ke.titleBox.height/2+ke.trace.title.font.size}}($):O($,ee),Ae.attr("transform",t(ye.x,ye.y)+l(Math.min(1,ye.scale))+t(ye.tx,ye.ty))}),se&&function(ye,Ae){var Me,ke,te,ue,ge,we,Ee,Be,Re,je,he,_e,Te;function Fe(st,ht){return st.pxmid[1]-ht.pxmid[1]}function Ye(st,ht){return ht.pxmid[1]-st.pxmid[1]}function Ge(st,ht){ht||(ht={});var xt,Ct,St,kt,Nt=ht.labelExtraY+(ke?ht.yLabelMax:ht.yLabelMin),Dt=ke?st.yLabelMin:st.yLabelMax,Et=ke?st.yLabelMax:st.yLabelMin,Wt=st.cyFinal+ge(st.px0[1],st.px1[1]),Ht=Nt-Dt;if(Ht*Ee>0&&(st.labelExtraY=Ht),Array.isArray(Ae.pull))for(Ct=0;Ct<je.length;Ct++)(St=je[Ct])===st||(u.castOption(Ae.pull,st.pts)||0)>=(u.castOption(Ae.pull,St.pts)||0)||((st.pxmid[1]-St.pxmid[1])*Ee>0?(Ht=St.cyFinal+ge(St.px0[1],St.px1[1])-Dt-st.labelExtraY)*Ee>0&&(st.labelExtraY+=Ht):(Et+st.labelExtraY-Wt)*Ee>0&&(xt=3*we*Math.abs(Ct-je.indexOf(st)),(kt=St.cxFinal+ue(St.px0[0],St.px1[0])+xt-(st.cxFinal+st.pxmid[0])-st.labelExtraX)*we>0&&(st.labelExtraX+=kt)))}for(ke=0;ke<2;ke++)for(te=ke?Fe:Ye,ge=ke?Math.max:Math.min,Ee=ke?1:-1,Me=0;Me<2;Me++){for(ue=Me?Math.max:Math.min,we=Me?1:-1,(Be=ye[ke][Me]).sort(te),Re=ye[1-ke][Me],je=Re.concat(Be),_e=[],he=0;he<Be.length;he++)Be[he].yLabelMid!==void 0&&_e.push(Be[he]);for(Te=!1,he=0;ke&&he<Re.length;he++)if(Re[he].yLabelMid!==void 0){Te=Re[he];break}for(he=0;he<_e.length;he++){var ot=he&&_e[he-1];Te&&!he&&(ot=Te),Ge(_e[he],ot)}}}(oe,ne),function(ye,Ae){ye.each(function(Me){var ke=b.select(this);if(Me.labelExtraX||Me.labelExtraY){var te=ke.select("g.slicetext text");Me.transform.targetX+=Me.labelExtraX,Me.transform.targetY+=Me.labelExtraY,f.setTransormAndDisplay(te,Me.transform);var ue=Me.cxFinal+Me.pxmid[0],ge="M"+ue+","+(Me.cyFinal+Me.pxmid[1]),we=(Me.yLabelMax-Me.yLabelMin)*(Me.pxmid[0]<0?-1:1)/4;if(Me.labelExtraX){var Ee=Me.labelExtraX*Me.pxmid[1]/Me.pxmid[0],Be=Me.yLabelMid+Me.labelExtraY-(Me.cyFinal+Me.pxmid[1]);Math.abs(Ee)>Math.abs(Be)?ge+="l"+Be*Me.pxmid[0]/Me.pxmid[1]+","+Be+"H"+(ue+Me.labelExtraX+we):ge+="l"+Me.labelExtraX+","+Ee+"v"+(Be-Ee)+"h"+we}else ge+="V"+(Me.yLabelMid+Me.labelExtraY)+"h"+we;f.ensureSingle(ke,"path","textline").call(k.stroke,Ae.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ae.outsidetextfont.size/8),d:ge,fill:"none"})}else ke.select("path.textline").remove()})}(ae,ne),se&&ne.automargin){var me=y.bBox(Z.node()),xe=ne.domain,ve=ee.w*(xe.x[1]-xe.x[0]),fe=ee.h*(xe.y[1]-xe.y[0]),pe=(.5*ve-$.r)/ee.w,Le=(.5*fe-$.r)/ee.h;w.autoMargin(B,"pie."+ne.uid+".automargin",{xl:xe.x[0]-pe,xr:xe.x[1]+pe,yb:xe.y[0]-Le,yt:xe.y[1]+Le,l:Math.max($.cx-$.r-me.left,0),r:Math.max(me.right-($.cx+$.r),0),b:Math.max(me.bottom-($.cy+$.r),0),t:Math.max($.cy-$.r-me.top,0),pad:5})}})});setTimeout(function(){K.selectAll("tspan").each(function(){var J=b.select(this);J.attr("dy")&&J.attr("dy",J.attr("dy"))})},0)},formatSliceLabel:F,transformInsideText:x,determineInsideTextFont:m,positionTitleOutside:O,prerenderTitles:d,layoutAreas:z,attachFxHandlers:_,computeTransform:W}},68357:function(L,M,e){"use strict";var b=e(39898),w=e(63463),a=e(72597).resizeText;L.exports=function(k){var y=k._fullLayout._pielayer.selectAll(".trace");a(k,y,"pie"),y.each(function(f){var l=f[0].trace,t=b.select(this);t.style({opacity:l.opacity}),t.selectAll("path.surface").each(function(s){b.select(this).call(w,s,l)})})}},63463:function(L,M,e){"use strict";var b=e(7901),w=e(53581).castOption;L.exports=function(a,k,y){var f=y.marker.line,l=w(f.color,k.pts)||b.defaultLine,t=w(f.width,k.pts)||0;a.style("stroke-width",t).call(b.fill,k.color).call(b.stroke,l)}},10959:function(L,M,e){"use strict";var b=e(82196);L.exports={x:b.x,y:b.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:b.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(L,M,e){"use strict";var b=e(9330).gl_pointcloud2d,w=e(78614),a=e(71739).findExtremes,k=e(34603);function y(l,t){this.scene=l,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=b(l.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var f=y.prototype;f.handlePick=function(l){var t=this.idToIndex[l.pointId];return{trace:this,dataCoord:l.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},f.update=function(l){this.index=l.index,this.textLabels=l.text,this.name=l.name,this.hoverinfo=l.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(l),this.color=k(l,{})},f.updateFast=function(l){var t,s,o,n,r,i,u=this.xData=this.pickXData=l.x,p=this.yData=this.pickYData=l.y,h=this.pickXYData=l.xy,_=l.xbounds&&l.ybounds,m=l.indices,d=this.bounds;if(h){if(o=h,t=h.length>>>1,_)d[0]=l.xbounds[0],d[2]=l.xbounds[1],d[1]=l.ybounds[0],d[3]=l.ybounds[1];else for(i=0;i<t;i++)n=o[2*i],r=o[2*i+1],n<d[0]&&(d[0]=n),n>d[2]&&(d[2]=n),r<d[1]&&(d[1]=r),r>d[3]&&(d[3]=r);if(m)s=m;else for(s=new Int32Array(t),i=0;i<t;i++)s[i]=i}else for(t=u.length,o=new Float32Array(2*t),s=new Int32Array(t),i=0;i<t;i++)n=u[i],r=p[i],s[i]=i,o[2*i]=n,o[2*i+1]=r,n<d[0]&&(d[0]=n),n>d[2]&&(d[2]=n),r<d[1]&&(d[1]=r),r>d[3]&&(d[3]=r);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=o;var x=w(l.marker.color),g=w(l.marker.border.color),v=l.opacity*l.marker.opacity;x[3]*=v,this.pointcloudOptions.color=x;var T=l.marker.blend;T===null&&(T=u.length<100||p.length<100),this.pointcloudOptions.blend=T,g[3]*=v,this.pointcloudOptions.borderColor=g;var c=l.marker.sizemin,E=Math.max(l.marker.sizemax,l.marker.sizemin);this.pointcloudOptions.sizeMin=c,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=l.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var A=this.scene.xaxis,C=this.scene.yaxis,O=E/2||.5;l._extremes[A._id]=a(A,[d[0],d[2]],{ppad:O}),l._extremes[C._id]=a(C,[d[1],d[3]],{ppad:O})},f.dispose=function(){this.pointcloud.dispose()},L.exports=function(l,t){var s=new y(l,t.uid);return s.update(t),s}},33876:function(L,M,e){"use strict";var b=e(71828),w=e(10959);L.exports=function(a,k,y){function f(l,t){return b.coerce(a,k,w,l,t)}f("x"),f("y"),f("xbounds"),f("ybounds"),a.xy&&a.xy instanceof Float32Array&&(k.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(k.indices=a.indices),f("text"),f("marker.color",y),f("marker.opacity"),f("marker.blend"),f("marker.sizemin"),f("marker.sizemax"),f("marker.border.color",y),f("marker.border.arearatio"),k._length=null}},20593:function(L,M,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),L.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(L,M,e){"use strict";var b=e(41940),w=e(9012),a=e(22399),k=e(77914),y=e(27670).Y,f=e(5386).fF,l=e(50693),t=e(44467).templatedArray,s=e(12663).descriptionOnlyNumbers,o=e(1426).extendFlat,n=e(30962).overrideAll;(L.exports=n({hoverinfo:o({},w.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:k.hoverlabel,domain:y({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:s("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:b({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:k.hoverlabel,hovertemplate:f({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:k.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:o(l().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(L,M,e){"use strict";var b=e(30962).overrideAll,w=e(27659).a0,a=e(60436),k=e(528),y=e(6964),f=e(28569),l=e(47322).prepSelect,t=e(71828),s=e(73972),o="sankey";function n(r,i){var u=r._fullData[i],p=r._fullLayout,h=p.dragmode,_=p.dragmode==="pan"?"move":"crosshair",m=u._bgRect;if(m&&h!=="pan"&&h!=="zoom"){y(m,_);var d={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},x={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},g={gd:r,element:m.node(),plotinfo:{id:i,xaxis:d,yaxis:x,fillRangeItems:t.noop},subplot:i,xaxes:[d],yaxes:[x],doneFnCompleted:function(v){var T,c=r._fullData[i],E=c.node.groups.slice(),A=[];function C(z){for(var V=c._sankey.graph.nodes,F=0;F<V.length;F++)if(V[F].pointNumber===z)return V[F]}for(var O=0;O<v.length;O++){var P=C(v[O].pointNumber);if(P)if(P.group){for(var D=0;D<P.childrenNodes.length;D++)A.push(P.childrenNodes[D].pointNumber);E[P.pointNumber-c.node._count]=!1}else A.push(P.pointNumber)}T=E.filter(Boolean).concat([A]),s.call("_guiRestyle",r,{"node.groups":[T]},i)},prepFn:function(v,T,c){l(v,T,c,g,h)}};f.init(g)}}M.name=o,M.baseLayoutAttrOverrides=b({hoverlabel:k.hoverlabel},"plot","nested"),M.plot=function(r){var i=w(r.calcdata,o)[0];a(r,i),M.updateFx(r)},M.clean=function(r,i,u,p){var h=p._has&&p._has(o),_=i._has&&i._has(o);h&&!_&&(p._paperdiv.selectAll(".sankey").remove(),p._paperdiv.selectAll(".bgsankey").remove())},M.updateFx=function(r){for(var i=0;i<r._fullData.length;i++)n(r,i)}},92930:function(L,M,e){"use strict";var b=e(68664),w=e(71828),a=e(28984).wrap,k=w.isArrayOrTypedArray,y=w.isIndex,f=e(21081);L.exports=function(l,t){var s=function(o){var n,r=o.node,i=o.link,u=[],p=k(i.color),h=k(i.customdata),_={},m={},d=i.colorscales.length;for(n=0;n<d;n++){var x=i.colorscales[n],g=f.extractScale(x,{cLetter:"c"}),v=f.makeColorScaleFunc(g);m[x.label]=v}var T=0;for(n=0;n<i.value.length;n++)i.source[n]>T&&(T=i.source[n]),i.target[n]>T&&(T=i.target[n]);var c,E=T+1;o.node._count=E;var A=o.node.groups,C={};for(n=0;n<A.length;n++){var O=A[n];for(c=0;c<O.length;c++){var P=O[c],D=E+n;C.hasOwnProperty(P)?w.warn("Node "+P+" is already part of a group."):C[P]=D}}var z={source:[],target:[]};for(n=0;n<i.value.length;n++){var V=i.value[n],F=i.source[n],W=i.target[n];if(V>0&&y(F,E)&&y(W,E)&&(!C.hasOwnProperty(F)||!C.hasOwnProperty(W)||C[F]!==C[W])){C.hasOwnProperty(W)&&(W=C[W]),C.hasOwnProperty(F)&&(F=C[F]),W=+W,_[F=+F]=_[W]=!0;var B="";i.label&&i.label[n]&&(B=i.label[n]);var U=null;B&&m.hasOwnProperty(B)&&(U=m[B]),u.push({pointNumber:n,label:B,color:p?i.color[n]:i.color,customdata:h?i.customdata[n]:i.customdata,concentrationscale:U,source:F,target:W,value:+V}),z.source.push(F),z.target.push(W)}}var H=E+A.length,q=k(r.color),ee=k(r.customdata),K=[];for(n=0;n<H;n++)if(_[n]){var J=r.label[n];K.push({group:n>E-1,childrenNodes:[],pointNumber:n,label:J,color:q?r.color[n]:r.color,customdata:ee?r.customdata[n]:r.customdata})}var Z=!1;return function($,ne,ae){for(var oe=w.init2dArray($,0),se=0;se<Math.min(ne.length,ae.length);se++)if(w.isIndex(ne[se],$)&&w.isIndex(ae[se],$)){if(ne[se]===ae[se])return!0;oe[ne[se]].push(ae[se])}return b(oe).components.some(function(ce){return ce.length>1})}(H,z.source,z.target)&&(Z=!0),{circular:Z,links:u,nodes:K,groups:A,groupLookup:C}}(t);return a({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(L){"use strict";L.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(L,M,e){"use strict";var b=e(71828),w=e(39953),a=e(7901),k=e(84267),y=e(27670).c,f=e(38048),l=e(44467),t=e(85501);function s(o,n){function r(i,u){return b.coerce(o,n,w.link.colorscales,i,u)}r("label"),r("cmin"),r("cmax"),r("colorscale")}L.exports=function(o,n,r,i){function u(E,A){return b.coerce(o,n,w,E,A)}var p=b.extendDeep(i.hoverlabel,o.hoverlabel),h=o.node,_=l.newContainer(n,"node");function m(E,A){return b.coerce(h,_,w.node,E,A)}m("label"),m("groups"),m("x"),m("y"),m("pad"),m("thickness"),m("line.color"),m("line.width"),m("hoverinfo",o.hoverinfo),f(h,_,m,p),m("hovertemplate");var d=i.colorway;m("color",_.label.map(function(E,A){return a.addOpacity(function(C){return d[C%d.length]}(A),.8)})),m("customdata");var x=o.link||{},g=l.newContainer(n,"link");function v(E,A){return b.coerce(x,g,w.link,E,A)}v("label"),v("arrowlen"),v("source"),v("target"),v("value"),v("line.color"),v("line.width"),v("hoverinfo",o.hoverinfo),f(x,g,v,p),v("hovertemplate");var T,c=k(i.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";v("color",b.repeat(c,g.value.length)),v("customdata"),t(x,g,{name:"colorscales",handleItemDefaults:s}),y(n,i,u),u("orientation"),u("valueformat"),u("valuesuffix"),_.x.length&&_.y.length&&(T="freeform"),u("arrangement",T),b.coerceFont(u,"textfont",b.extendFlat({},i.font)),n._length=null}},29396:function(L,M,e){"use strict";L.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=w.numberFormat,k=e(3393),y=e(30211),f=e(7901),l=e(85247).cn,t=w._;function s(x){return x!==""}function o(x,g){return x.filter(function(v){return v.key===g.traceId})}function n(x,g){b.select(x).select("path").style("fill-opacity",g),b.select(x).select("rect").style("fill-opacity",g)}function r(x){b.select(x).select("text.name").style("fill","black")}function i(x){return function(g){return x.node.sourceLinks.indexOf(g.link)!==-1||x.node.targetLinks.indexOf(g.link)!==-1}}function u(x){return function(g){return g.node.sourceLinks.indexOf(x.link)!==-1||g.node.targetLinks.indexOf(x.link)!==-1}}function p(x,g,v){g&&v&&o(v,g).selectAll("."+l.sankeyLink).filter(i(g)).call(_.bind(0,g,v,!1))}function h(x,g,v){g&&v&&o(v,g).selectAll("."+l.sankeyLink).filter(i(g)).call(m.bind(0,g,v,!1))}function _(x,g,v,T){var c=T.datum().link.label;T.style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),c&&o(g,x).selectAll("."+l.sankeyLink).filter(function(E){return E.link.label===c}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),v&&o(g,x).selectAll("."+l.sankeyNode).filter(u(x)).call(p)}function m(x,g,v,T){var c=T.datum().link.label;T.style("fill-opacity",function(E){return E.tinyColorAlpha}),c&&o(g,x).selectAll("."+l.sankeyLink).filter(function(E){return E.link.label===c}).style("fill-opacity",function(E){return E.tinyColorAlpha}),v&&o(g,x).selectAll(l.sankeyNode).filter(u(x)).call(h)}function d(x,g){var v=x.hoverlabel||{},T=w.nestedProperty(v,g).get();return!Array.isArray(T)&&T}L.exports=function(x,g){for(var v=x._fullLayout,T=v._paper,c=v._size,E=0;E<x._fullData.length;E++)if(x._fullData[E].visible&&x._fullData[E].type===l.sankey&&!x._fullData[E]._viewInitial){var A=x._fullData[E].node;x._fullData[E]._viewInitial={node:{groups:A.groups.slice(),x:A.x.slice(),y:A.y.slice()}}}var C=t(x,"source:")+" ",O=t(x,"target:")+" ",P=t(x,"concentration:")+" ",D=t(x,"incoming flow count:")+" ",z=t(x,"outgoing flow count:")+" ";k(x,T,g,{width:c.w,height:c.h,margin:{t:c.t,r:c.r,b:c.b,l:c.l}},{linkEvents:{hover:function(V,F,W){x._fullLayout.hovermode!==!1&&(b.select(V).call(_.bind(0,F,W,!0)),F.link.trace.link.hoverinfo!=="skip"&&(F.link.fullData=F.link.trace,x.emit("plotly_hover",{event:b.event,points:[F.link]})))},follow:function(V,F){if(x._fullLayout.hovermode!==!1){var W=F.link.trace.link;if(W.hoverinfo!=="none"&&W.hoverinfo!=="skip"){for(var B=[],U=0,H=0;H<F.flow.links.length;H++){var q=F.flow.links[H];if(x._fullLayout.hovermode!=="closest"||F.link.pointNumber===q.pointNumber){F.link.pointNumber===q.pointNumber&&(U=H),q.fullData=q.trace,W=F.link.trace.link;var ee=J(q),K={valueLabel:a(F.valueFormat)(q.value)+F.valueSuffix};B.push({x:ee[0],y:ee[1],name:K.valueLabel,text:[q.label||"",C+q.source.label,O+q.target.label,q.concentrationscale?P+a("%0.2f")(q.flow.labelConcentration):""].filter(s).join("<br>"),color:d(W,"bgcolor")||f.addOpacity(q.color,1),borderColor:d(W,"bordercolor"),fontFamily:d(W,"font.family"),fontSize:d(W,"font.size"),fontColor:d(W,"font.color"),nameLength:d(W,"namelength"),textAlign:d(W,"align"),idealAlign:b.event.x<ee[0]?"right":"left",hovertemplate:W.hovertemplate,hovertemplateLabels:K,eventData:[q]})}}y.loneHover(B,{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:x,anchorIndex:U}).each(function(){F.link.concentrationscale||n(this,.65),r(this)})}}function J(Z){var $,ne;Z.circular?($=(Z.circularPathData.leftInnerExtent+Z.circularPathData.rightInnerExtent)/2,ne=Z.circularPathData.verticalFullExtent):($=(Z.source.x1+Z.target.x0)/2,ne=(Z.y0+Z.y1)/2);var ae=[$,ne];return Z.trace.orientation==="v"&&ae.reverse(),ae[0]+=F.parent.translateX,ae[1]+=F.parent.translateY,ae}},unhover:function(V,F,W){x._fullLayout.hovermode!==!1&&(b.select(V).call(m.bind(0,F,W,!0)),F.link.trace.link.hoverinfo!=="skip"&&(F.link.fullData=F.link.trace,x.emit("plotly_unhover",{event:b.event,points:[F.link]})),y.loneUnhover(v._hoverlayer.node()))},select:function(V,F){var W=F.link;W.originalEvent=b.event,x._hoverdata=[W],y.click(x,{target:!0})}},nodeEvents:{hover:function(V,F,W){x._fullLayout.hovermode!==!1&&(b.select(V).call(p,F,W),F.node.trace.node.hoverinfo!=="skip"&&(F.node.fullData=F.node.trace,x.emit("plotly_hover",{event:b.event,points:[F.node]})))},follow:function(V,F){if(x._fullLayout.hovermode!==!1){var W=F.node.trace.node;if(W.hoverinfo!=="none"&&W.hoverinfo!=="skip"){var B=b.select(V).select("."+l.nodeRect),U=x._fullLayout._paperdiv.node().getBoundingClientRect(),H=B.node().getBoundingClientRect(),q=H.left-2-U.left,ee=H.right+2-U.left,K=H.top+H.height/4-U.top,J={valueLabel:a(F.valueFormat)(F.node.value)+F.valueSuffix};F.node.fullData=F.node.trace,x._fullLayout._calcInverseTransform(x);var Z=x._fullLayout._invScaleX,$=x._fullLayout._invScaleY,ne=y.loneHover({x0:Z*q,x1:Z*ee,y:$*K,name:a(F.valueFormat)(F.node.value)+F.valueSuffix,text:[F.node.label,D+F.node.targetLinks.length,z+F.node.sourceLinks.length].filter(s).join("<br>"),color:d(W,"bgcolor")||F.tinyColorHue,borderColor:d(W,"bordercolor"),fontFamily:d(W,"font.family"),fontSize:d(W,"font.size"),fontColor:d(W,"font.color"),nameLength:d(W,"namelength"),textAlign:d(W,"align"),idealAlign:"left",hovertemplate:W.hovertemplate,hovertemplateLabels:J,eventData:[F.node]},{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:x});n(ne,.85),r(ne)}}},unhover:function(V,F,W){x._fullLayout.hovermode!==!1&&(b.select(V).call(h,F,W),F.node.trace.node.hoverinfo!=="skip"&&(F.node.fullData=F.node.trace,x.emit("plotly_unhover",{event:b.event,points:[F.node]})),y.loneUnhover(v._hoverlayer.node()))},select:function(V,F,W){var B=F.node;B.originalEvent=b.event,x._hoverdata=[B],b.select(V).call(h,F,W),y.click(x,{target:!0})}}})}},3393:function(L,M,e){"use strict";var b=e(49887),w=e(81684).k4,a=e(39898),k=e(30838),y=e(86781),f=e(85247),l=e(84267),t=e(7901),s=e(91424),o=e(71828),n=o.strTranslate,r=o.strRotate,i=e(28984),u=i.keyFun,p=i.repeat,h=i.unwrap,_=e(63893),m=e(73972),d=e(18783),x=d.CAP_SHIFT,g=d.LINE_SPACING;function v(H,q,ee){var K,J=h(q),Z=J.trace,$=Z.domain,ne=Z.orientation==="h",ae=Z.node.pad,oe=Z.node.thickness,se=H.width*($.x[1]-$.x[0]),ce=H.height*($.y[1]-$.y[0]),me=J._nodes,xe=J._links,ve=J.circular;(K=ve?y.sankeyCircular().circularLinkGap(0):k.sankey()).iterations(f.sankeyIterations).size(ne?[se,ce]:[ce,se]).nodeWidth(oe).nodePadding(ae).nodeId(function(we){return we.pointNumber}).nodes(me).links(xe);var fe,pe,Le,ye=K();for(var Ae in K.nodePadding()<ae&&o.warn("node.pad was reduced to ",K.nodePadding()," to fit within the figure."),J._groupLookup){var Me,ke=parseInt(J._groupLookup[Ae]);for(fe=0;fe<ye.nodes.length;fe++)if(ye.nodes[fe].pointNumber===ke){Me=ye.nodes[fe];break}if(Me){var te={pointNumber:parseInt(Ae),x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ye.nodes.unshift(te),Me.childrenNodes.unshift(te)}}if(function(){for(fe=0;fe<ye.nodes.length;fe++){var we,Ee,Be=ye.nodes[fe],Re={};for(pe=0;pe<Be.targetLinks.length;pe++)we=(Ee=Be.targetLinks[pe]).source.pointNumber+":"+Ee.target.pointNumber,Re.hasOwnProperty(we)||(Re[we]=[]),Re[we].push(Ee);var je=Object.keys(Re);for(pe=0;pe<je.length;pe++){var he=Re[we=je[pe]],_e=0,Te={};for(Le=0;Le<he.length;Le++)Te[(Ee=he[Le]).label]||(Te[Ee.label]=0),Te[Ee.label]+=Ee.value,_e+=Ee.value;for(Le=0;Le<he.length;Le++)(Ee=he[Le]).flow={value:_e,labelConcentration:Te[Ee.label]/_e,concentration:Ee.value/_e,links:he},Ee.concentrationscale&&(Ee.color=l(Ee.concentrationscale(Ee.flow.labelConcentration)))}var Fe=0;for(pe=0;pe<Be.sourceLinks.length;pe++)Fe+=Be.sourceLinks[pe].value;for(pe=0;pe<Be.sourceLinks.length;pe++)(Ee=Be.sourceLinks[pe]).concentrationOut=Ee.value/Fe;var Ye=0;for(pe=0;pe<Be.targetLinks.length;pe++)Ye+=Be.targetLinks[pe].value;for(pe=0;pe<Be.targetLinks.length;pe++)(Ee=Be.targetLinks[pe]).concenrationIn=Ee.value/Ye}}(),Z.node.x.length&&Z.node.y.length){for(fe=0;fe<Math.min(Z.node.x.length,Z.node.y.length,ye.nodes.length);fe++)if(Z.node.x[fe]&&Z.node.y[fe]){var ue=[Z.node.x[fe]*se,Z.node.y[fe]*ce];ye.nodes[fe].x0=ue[0]-oe/2,ye.nodes[fe].x1=ue[0]+oe/2;var ge=ye.nodes[fe].y1-ye.nodes[fe].y0;ye.nodes[fe].y0=ue[1]-ge/2,ye.nodes[fe].y1=ue[1]+ge/2}Z.arrangement==="snap"&&function(we){var Ee,Be,Re=we.map(function(Fe,Ye){return{x0:Fe.x0,index:Ye}}).sort(function(Fe,Ye){return Fe.x0-Ye.x0}),je=[],he=-1,_e=-1/0;for(fe=0;fe<Re.length;fe++){var Te=we[Re[fe].index];Te.x0>_e+oe&&(he+=1,Ee=Te.x0),_e=Te.x0,je[he]||(je[he]=[]),je[he].push(Te),Be=Ee-Te.x0,Te.x0+=Be,Te.x1+=Be}return je}(me=ye.nodes).forEach(function(we){var Ee,Be,Re,je=0,he=we.length;for(we.sort(function(_e,Te){return _e.y0-Te.y0}),Re=0;Re<he;++Re)(Ee=we[Re]).y0>=je||(Be=je-Ee.y0)>1e-6&&(Ee.y0+=Be,Ee.y1+=Be),je=Ee.y1+ae}),K.update(ye)}return{circular:ve,key:ee,trace:Z,guid:o.randstr(),horizontal:ne,width:se,height:ce,nodePad:Z.node.pad,nodeLineColor:Z.node.line.color,nodeLineWidth:Z.node.line.width,linkLineColor:Z.link.line.color,linkLineWidth:Z.link.line.width,linkArrowLength:Z.link.arrowlen,valueFormat:Z.valueformat,valueSuffix:Z.valuesuffix,textFont:Z.textfont,translateX:$.x[0]*H.width+H.margin.l,translateY:H.height-$.y[1]*H.height+H.margin.t,dragParallel:ne?ce:se,dragPerpendicular:ne?se:ce,arrangement:Z.arrangement,sankey:K,graph:ye,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function T(H,q,ee){var K=l(q.color),J=q.source.label+"|"+q.target.label+"__"+ee;return q.trace=H.trace,q.curveNumber=H.trace.index,{circular:H.circular,key:J,traceId:H.key,pointNumber:q.pointNumber,link:q,tinyColorHue:t.tinyRGB(K),tinyColorAlpha:K.getAlpha(),linkPath:c,linkLineColor:H.linkLineColor,linkLineWidth:H.linkLineWidth,linkArrowLength:H.linkArrowLength,valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,parent:H,interactionState:H.interactionState,flow:q.flow}}function c(){return function(H){var q=H.linkArrowLength;if(H.link.circular)return function(pe,Le){var ye=pe.width/2,Ae=pe.circularPathData;return pe.circularLinkType==="top"?"M "+(Ae.targetX-Le)+" "+(Ae.targetY+ye)+" L"+(Ae.rightInnerExtent-Le)+" "+(Ae.targetY+ye)+"A"+(Ae.rightLargeArcRadius+ye)+" "+(Ae.rightSmallArcRadius+ye)+" 0 0 1 "+(Ae.rightFullExtent-ye-Le)+" "+(Ae.targetY-Ae.rightSmallArcRadius)+"L"+(Ae.rightFullExtent-ye-Le)+" "+Ae.verticalRightInnerExtent+"A"+(Ae.rightLargeArcRadius+ye)+" "+(Ae.rightLargeArcRadius+ye)+" 0 0 1 "+(Ae.rightInnerExtent-Le)+" "+(Ae.verticalFullExtent-ye)+"L"+Ae.leftInnerExtent+" "+(Ae.verticalFullExtent-ye)+"A"+(Ae.leftLargeArcRadius+ye)+" "+(Ae.leftLargeArcRadius+ye)+" 0 0 1 "+(Ae.leftFullExtent+ye)+" "+Ae.verticalLeftInnerExtent+"L"+(Ae.leftFullExtent+ye)+" "+(Ae.sourceY-Ae.leftSmallArcRadius)+"A"+(Ae.leftLargeArcRadius+ye)+" "+(Ae.leftSmallArcRadius+ye)+" 0 0 1 "+Ae.leftInnerExtent+" "+(Ae.sourceY+ye)+"L"+Ae.sourceX+" "+(Ae.sourceY+ye)+"L"+Ae.sourceX+" "+(Ae.sourceY-ye)+"L"+Ae.leftInnerExtent+" "+(Ae.sourceY-ye)+"A"+(Ae.leftLargeArcRadius-ye)+" "+(Ae.leftSmallArcRadius-ye)+" 0 0 0 "+(Ae.leftFullExtent-ye)+" "+(Ae.sourceY-Ae.leftSmallArcRadius)+"L"+(Ae.leftFullExtent-ye)+" "+Ae.verticalLeftInnerExtent+"A"+(Ae.leftLargeArcRadius-ye)+" "+(Ae.leftLargeArcRadius-ye)+" 0 0 0 "+Ae.leftInnerExtent+" "+(Ae.verticalFullExtent+ye)+"L"+(Ae.rightInnerExtent-Le)+" "+(Ae.verticalFullExtent+ye)+"A"+(Ae.rightLargeArcRadius-ye)+" "+(Ae.rightLargeArcRadius-ye)+" 0 0 0 "+(Ae.rightFullExtent+ye-Le)+" "+Ae.verticalRightInnerExtent+"L"+(Ae.rightFullExtent+ye-Le)+" "+(Ae.targetY-Ae.rightSmallArcRadius)+"A"+(Ae.rightLargeArcRadius-ye)+" "+(Ae.rightSmallArcRadius-ye)+" 0 0 0 "+(Ae.rightInnerExtent-Le)+" "+(Ae.targetY-ye)+"L"+(Ae.targetX-Le)+" "+(Ae.targetY-ye)+(Le>0?"L"+Ae.targetX+" "+Ae.targetY:"")+"Z":"M "+(Ae.targetX-Le)+" "+(Ae.targetY-ye)+" L"+(Ae.rightInnerExtent-Le)+" "+(Ae.targetY-ye)+"A"+(Ae.rightLargeArcRadius+ye)+" "+(Ae.rightSmallArcRadius+ye)+" 0 0 0 "+(Ae.rightFullExtent-ye-Le)+" "+(Ae.targetY+Ae.rightSmallArcRadius)+"L"+(Ae.rightFullExtent-ye-Le)+" "+Ae.verticalRightInnerExtent+"A"+(Ae.rightLargeArcRadius+ye)+" "+(Ae.rightLargeArcRadius+ye)+" 0 0 0 "+(Ae.rightInnerExtent-Le)+" "+(Ae.verticalFullExtent+ye)+"L"+Ae.leftInnerExtent+" "+(Ae.verticalFullExtent+ye)+"A"+(Ae.leftLargeArcRadius+ye)+" "+(Ae.leftLargeArcRadius+ye)+" 0 0 0 "+(Ae.leftFullExtent+ye)+" "+Ae.verticalLeftInnerExtent+"L"+(Ae.leftFullExtent+ye)+" "+(Ae.sourceY+Ae.leftSmallArcRadius)+"A"+(Ae.leftLargeArcRadius+ye)+" "+(Ae.leftSmallArcRadius+ye)+" 0 0 0 "+Ae.leftInnerExtent+" "+(Ae.sourceY-ye)+"L"+Ae.sourceX+" "+(Ae.sourceY-ye)+"L"+Ae.sourceX+" "+(Ae.sourceY+ye)+"L"+Ae.leftInnerExtent+" "+(Ae.sourceY+ye)+"A"+(Ae.leftLargeArcRadius-ye)+" "+(Ae.leftSmallArcRadius-ye)+" 0 0 1 "+(Ae.leftFullExtent-ye)+" "+(Ae.sourceY+Ae.leftSmallArcRadius)+"L"+(Ae.leftFullExtent-ye)+" "+Ae.verticalLeftInnerExtent+"A"+(Ae.leftLargeArcRadius-ye)+" "+(Ae.leftLargeArcRadius-ye)+" 0 0 1 "+Ae.leftInnerExtent+" "+(Ae.verticalFullExtent-ye)+"L"+(Ae.rightInnerExtent-Le)+" "+(Ae.verticalFullExtent-ye)+"A"+(Ae.rightLargeArcRadius-ye)+" "+(Ae.rightLargeArcRadius-ye)+" 0 0 1 "+(Ae.rightFullExtent+ye-Le)+" "+Ae.verticalRightInnerExtent+"L"+(Ae.rightFullExtent+ye-Le)+" "+(Ae.targetY+Ae.rightSmallArcRadius)+"A"+(Ae.rightLargeArcRadius-ye)+" "+(Ae.rightSmallArcRadius-ye)+" 0 0 1 "+(Ae.rightInnerExtent-Le)+" "+(Ae.targetY+ye)+"L"+(Ae.targetX-Le)+" "+(Ae.targetY+ye)+(Le>0?"L"+Ae.targetX+" "+Ae.targetY:"")+"Z"}(H.link,q);var ee=Math.abs((H.link.target.x0-H.link.source.x1)/2);q>ee&&(q=ee);var K=H.link.source.x1,J=H.link.target.x0-q,Z=w(K,J),$=Z(.5),ne=Z(.5),ae=H.link.y0-H.link.width/2,oe=H.link.y0+H.link.width/2,se=H.link.y1-H.link.width/2,ce=H.link.y1+H.link.width/2,me="M"+K+","+ae,xe="C"+$+","+ae+" "+ne+","+se+" "+J+","+se,ve="C"+ne+","+ce+" "+$+","+oe+" "+K+","+oe,fe=q>0?"L"+(J+q)+","+(se+H.link.width/2):"";return me+xe+(fe+="L"+J+","+ce)+ve+"Z"}}function E(H,q){var ee=l(q.color),K=f.nodePadAcross,J=H.nodePad/2;q.dx=q.x1-q.x0,q.dy=q.y1-q.y0;var Z=q.dx,$=Math.max(.5,q.dy),ne="node_"+q.pointNumber;return q.group&&(ne=o.randstr()),q.trace=H.trace,q.curveNumber=H.trace.index,{index:q.pointNumber,key:ne,partOfGroup:q.partOfGroup||!1,group:q.group,traceId:H.key,trace:H.trace,node:q,nodePad:H.nodePad,nodeLineColor:H.nodeLineColor,nodeLineWidth:H.nodeLineWidth,textFont:H.textFont,size:H.horizontal?H.height:H.width,visibleWidth:Math.ceil(Z),visibleHeight:$,zoneX:-K,zoneY:-J,zoneWidth:Z+2*K,zoneHeight:$+2*J,labelY:H.horizontal?q.dy/2+1:q.dx/2+1,left:q.originalLayer===1,sizeAcross:H.width,forceLayouts:H.forceLayouts,horizontal:H.horizontal,darkBackground:ee.getBrightness()<=128,tinyColorHue:t.tinyRGB(ee),tinyColorAlpha:ee.getAlpha(),valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,graph:H.graph,arrangement:H.arrangement,uniqueNodeLabelPathId:[H.guid,H.key,ne].join("_"),interactionState:H.interactionState,figure:H}}function A(H){H.attr("transform",function(q){return n(q.node.x0.toFixed(3),q.node.y0.toFixed(3))})}function C(H){H.call(A)}function O(H,q){H.call(C),q.attr("d",c())}function P(H){H.attr("width",function(q){return q.node.x1-q.node.x0}).attr("height",function(q){return q.visibleHeight})}function D(H){return H.link.width>1||H.linkLineWidth>0}function z(H){return n(H.translateX,H.translateY)+(H.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function V(H,q,ee){H.on(".basic",null).on("mouseover.basic",function(K){K.interactionState.dragInProgress||K.partOfGroup||(ee.hover(this,K,q),K.interactionState.hovered=[this,K])}).on("mousemove.basic",function(K){K.interactionState.dragInProgress||K.partOfGroup||(ee.follow(this,K),K.interactionState.hovered=[this,K])}).on("mouseout.basic",function(K){K.interactionState.dragInProgress||K.partOfGroup||(ee.unhover(this,K,q),K.interactionState.hovered=!1)}).on("click.basic",function(K){K.interactionState.hovered&&(ee.unhover(this,K,q),K.interactionState.hovered=!1),K.interactionState.dragInProgress||K.partOfGroup||ee.select(this,K,q)})}function F(H,q,ee,K){var J=a.behavior.drag().origin(function(Z){return{x:Z.node.x0+Z.visibleWidth/2,y:Z.node.y0+Z.visibleHeight/2}}).on("dragstart",function(Z){if(Z.arrangement!=="fixed"&&(o.ensureSingle(K._fullLayout._infolayer,"g","dragcover",function(ne){K._fullLayout._dragCover=ne}),o.raiseToTop(this),Z.interactionState.dragInProgress=Z.node,B(Z.node),Z.interactionState.hovered&&(ee.nodeEvents.unhover.apply(0,Z.interactionState.hovered),Z.interactionState.hovered=!1),Z.arrangement==="snap")){var $=Z.traceId+"|"+Z.key;Z.forceLayouts[$]?Z.forceLayouts[$].alpha(1):function(ne,ae,oe,se){(function(me){for(var xe=0;xe<me.length;xe++)me[xe].y=(me[xe].y0+me[xe].y1)/2,me[xe].x=(me[xe].x0+me[xe].x1)/2})(oe.graph.nodes);var ce=oe.graph.nodes.filter(function(me){return me.originalX===oe.node.originalX}).filter(function(me){return!me.partOfGroup});oe.forceLayouts[ae]=b.forceSimulation(ce).alphaDecay(0).force("collide",b.forceCollide().radius(function(me){return me.dy/2+oe.nodePad/2}).strength(1).iterations(f.forceIterations)).force("constrain",function(me,xe,ve,fe){return function(){for(var pe=0,Le=0;Le<ve.length;Le++){var ye=ve[Le];ye===fe.interactionState.dragInProgress?(ye.x=ye.lastDraggedX,ye.y=ye.lastDraggedY):(ye.vx=(ye.originalX-ye.x)/f.forceTicksPerFrame,ye.y=Math.min(fe.size-ye.dy/2,Math.max(ye.dy/2,ye.y))),pe=Math.max(pe,Math.abs(ye.vx),Math.abs(ye.vy))}!fe.interactionState.dragInProgress&&pe<.1&&fe.forceLayouts[xe].alpha()>0&&fe.forceLayouts[xe].alpha(0)}}(0,ae,ce,oe)).stop()}(0,$,Z),function(ne,ae,oe,se,ce){window.requestAnimationFrame(function me(){var xe;for(xe=0;xe<f.forceTicksPerFrame;xe++)oe.forceLayouts[se].tick();if(function(fe){for(var pe=0;pe<fe.length;pe++)fe[pe].y0=fe[pe].y-fe[pe].dy/2,fe[pe].y1=fe[pe].y0+fe[pe].dy,fe[pe].x0=fe[pe].x-fe[pe].dx/2,fe[pe].x1=fe[pe].x0+fe[pe].dx}(oe.graph.nodes),oe.sankey.update(oe.graph),O(ne.filter(U(oe)),ae),oe.forceLayouts[se].alpha()>0)window.requestAnimationFrame(me);else{var ve=oe.node.originalX;oe.node.x0=ve-oe.visibleWidth/2,oe.node.x1=ve+oe.visibleWidth/2,W(oe,ce)}})}(H,q,Z,$,K)}}).on("drag",function(Z){if(Z.arrangement!=="fixed"){var $=a.event.x,ne=a.event.y;Z.arrangement==="snap"?(Z.node.x0=$-Z.visibleWidth/2,Z.node.x1=$+Z.visibleWidth/2,Z.node.y0=ne-Z.visibleHeight/2,Z.node.y1=ne+Z.visibleHeight/2):(Z.arrangement==="freeform"&&(Z.node.x0=$-Z.visibleWidth/2,Z.node.x1=$+Z.visibleWidth/2),ne=Math.max(0,Math.min(Z.size-Z.visibleHeight/2,ne)),Z.node.y0=ne-Z.visibleHeight/2,Z.node.y1=ne+Z.visibleHeight/2),B(Z.node),Z.arrangement!=="snap"&&(Z.sankey.update(Z.graph),O(H.filter(U(Z)),q))}}).on("dragend",function(Z){if(Z.arrangement!=="fixed"){Z.interactionState.dragInProgress=!1;for(var $=0;$<Z.node.childrenNodes.length;$++)Z.node.childrenNodes[$].x=Z.node.x,Z.node.childrenNodes[$].y=Z.node.y;Z.arrangement!=="snap"&&W(Z,K)}});H.on(".drag",null).call(J)}function W(H,q){for(var ee=[],K=[],J=0;J<H.graph.nodes.length;J++){var Z=(H.graph.nodes[J].x0+H.graph.nodes[J].x1)/2,$=(H.graph.nodes[J].y0+H.graph.nodes[J].y1)/2;ee.push(Z/H.figure.width),K.push($/H.figure.height)}m.call("_guiRestyle",q,{"node.x":[ee],"node.y":[K]},H.trace.index).then(function(){q._fullLayout._dragCover&&q._fullLayout._dragCover.remove()})}function B(H){H.lastDraggedX=H.x0+H.dx/2,H.lastDraggedY=H.y0+H.dy/2}function U(H){return function(q){return q.node.originalX===H.node.originalX}}L.exports=function(H,q,ee,K,J){var Z=H._context.staticPlot,$=!1;o.ensureSingle(H._fullLayout._infolayer,"g","first-render",function(){$=!0});var ne=H._fullLayout._dragCover,ae=ee.filter(function(pe){return h(pe).trace.visible}).map(v.bind(null,K)),oe=q.selectAll("."+f.cn.sankey).data(ae,u);oe.exit().remove(),oe.enter().append("g").classed(f.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Z?"none":"auto").attr("transform",z),oe.each(function(pe,Le){H._fullData[Le]._sankey=pe;var ye="bgsankey-"+pe.trace.uid+"-"+Le;o.ensureSingle(H._fullLayout._draggers,"rect",ye),H._fullData[Le]._bgRect=a.select("."+ye),H._fullData[Le]._bgRect.style("pointer-events",Z?"none":"all").attr("width",pe.width).attr("height",pe.height).attr("x",pe.translateX).attr("y",pe.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),oe.transition().ease(f.ease).duration(f.duration).attr("transform",z);var se=oe.selectAll("."+f.cn.sankeyLinks).data(p,u);se.enter().append("g").classed(f.cn.sankeyLinks,!0).style("fill","none");var ce=se.selectAll("."+f.cn.sankeyLink).data(function(pe){return pe.graph.links.filter(function(Le){return Le.value}).map(T.bind(null,pe))},u);ce.enter().append("path").classed(f.cn.sankeyLink,!0).call(V,oe,J.linkEvents),ce.style("stroke",function(pe){return D(pe)?t.tinyRGB(l(pe.linkLineColor)):pe.tinyColorHue}).style("stroke-opacity",function(pe){return D(pe)?t.opacity(pe.linkLineColor):pe.tinyColorAlpha}).style("fill",function(pe){return pe.tinyColorHue}).style("fill-opacity",function(pe){return pe.tinyColorAlpha}).style("stroke-width",function(pe){return D(pe)?pe.linkLineWidth:1}).attr("d",c()),ce.style("opacity",function(){return H._context.staticPlot||$||ne?1:0}).transition().ease(f.ease).duration(f.duration).style("opacity",1),ce.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var me=oe.selectAll("."+f.cn.sankeyNodeSet).data(p,u);me.enter().append("g").classed(f.cn.sankeyNodeSet,!0),me.style("cursor",function(pe){switch(pe.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var xe=me.selectAll("."+f.cn.sankeyNode).data(function(pe){var Le=pe.graph.nodes;return function(ye){var Ae,Me=[];for(Ae=0;Ae<ye.length;Ae++)ye[Ae].originalX=(ye[Ae].x0+ye[Ae].x1)/2,ye[Ae].originalY=(ye[Ae].y0+ye[Ae].y1)/2,Me.indexOf(ye[Ae].originalX)===-1&&Me.push(ye[Ae].originalX);for(Me.sort(function(ke,te){return ke-te}),Ae=0;Ae<ye.length;Ae++)ye[Ae].originalLayerIndex=Me.indexOf(ye[Ae].originalX),ye[Ae].originalLayer=ye[Ae].originalLayerIndex/(Me.length-1)}(Le),Le.map(E.bind(null,pe))},u);xe.enter().append("g").classed(f.cn.sankeyNode,!0).call(A).style("opacity",function(pe){return!H._context.staticPlot&&!$||pe.partOfGroup?0:1}),xe.call(V,oe,J.nodeEvents).call(F,ce,J,H),xe.transition().ease(f.ease).duration(f.duration).call(A).style("opacity",function(pe){return pe.partOfGroup?0:1}),xe.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var ve=xe.selectAll("."+f.cn.nodeRect).data(p);ve.enter().append("rect").classed(f.cn.nodeRect,!0).call(P),ve.style("stroke-width",function(pe){return pe.nodeLineWidth}).style("stroke",function(pe){return t.tinyRGB(l(pe.nodeLineColor))}).style("stroke-opacity",function(pe){return t.opacity(pe.nodeLineColor)}).style("fill",function(pe){return pe.tinyColorHue}).style("fill-opacity",function(pe){return pe.tinyColorAlpha}),ve.transition().ease(f.ease).duration(f.duration).call(P);var fe=xe.selectAll("."+f.cn.nodeLabel).data(p);fe.enter().append("text").classed(f.cn.nodeLabel,!0).style("cursor","default"),fe.attr("data-notex",1).text(function(pe){return pe.node.label}).each(function(pe){var Le=a.select(this);s.font(Le,pe.textFont),_.convertToTspans(Le,H)}).style("text-shadow",_.makeTextShadow(H._fullLayout.paper_bgcolor)).attr("text-anchor",function(pe){return pe.horizontal&&pe.left?"end":"start"}).attr("transform",function(pe){var Le=a.select(this),ye=_.lineCount(Le),Ae=pe.textFont.size*((ye-1)*g-x),Me=pe.nodeLineWidth/2+3,ke=((pe.horizontal?pe.visibleHeight:pe.visibleWidth)-Ae)/2;pe.horizontal&&(pe.left?Me=-Me:Me+=pe.visibleWidth);var te=pe.horizontal?"":"scale(-1,1)"+r(90);return n(pe.horizontal?Me:ke,pe.horizontal?ke:Me)+te}),fe.transition().ease(f.ease).duration(f.duration)}},84564:function(L){"use strict";L.exports=function(M,e){for(var b=[],w=M.cd[0].trace,a=w._sankey.graph.nodes,k=0;k<a.length;k++){var y=a[k];if(!y.partOfGroup){var f=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];w.orientation==="v"&&f.reverse(),e&&e.contains(f,!1,k,M)&&b.push({pointNumber:y.pointNumber})}}return b}},75225:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){for(var k=0;k<w.length;k++)w[k].i=k;b.mergeArray(a.text,w,"tx"),b.mergeArray(a.texttemplate,w,"txt"),b.mergeArray(a.hovertext,w,"htx"),b.mergeArray(a.customdata,w,"data"),b.mergeArray(a.textposition,w,"tp"),a.textfont&&(b.mergeArrayCastPositive(a.textfont.size,w,"ts"),b.mergeArray(a.textfont.color,w,"tc"),b.mergeArray(a.textfont.family,w,"tf"));var y=a.marker;if(y){b.mergeArrayCastPositive(y.size,w,"ms"),b.mergeArrayCastPositive(y.opacity,w,"mo"),b.mergeArray(y.symbol,w,"mx"),b.mergeArray(y.angle,w,"ma"),b.mergeArray(y.standoff,w,"mf"),b.mergeArray(y.color,w,"mc");var f=y.line;y.line&&(b.mergeArray(f.color,w,"mlc"),b.mergeArrayCastPositive(f.width,w,"mlw"));var l=y.gradient;l&&l.type!=="none"&&(b.mergeArray(l.type,w,"mgt"),b.mergeArray(l.color,w,"mgc"))}}},82196:function(L,M,e){"use strict";var b=e(12663).axisHoverFormat,w=e(5386).si,a=e(5386).fF,k=e(50693),y=e(41940),f=e(79952).P,l=e(79952).u,t=e(91424),s=e(47581),o=e(1426).extendFlat;L.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:b("x"),yhoverformat:b("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:w({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:s.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:l,marker:o({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},k("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},k("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:y({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(89298),k=e(42973),y=e(50606).BADNUM,f=e(34098),l=e(36922),t=e(75225),s=e(66279);function o(p,h,_,m,d,x,g){var v=h._length,T=p._fullLayout,c=_._id,E=m._id,A=T._firstScatter[i(h)]===h.uid,C=(u(h,T,_,m)||{}).orientation,O=h.fill;_._minDtick=0,m._minDtick=0;var P={padded:!0},D={padded:!0};g&&(P.ppad=D.ppad=g);var z=v<2||d[0]!==d[v-1]||x[0]!==x[v-1];z&&(O==="tozerox"||O==="tonextx"&&(A||C==="h"))?P.tozero=!0:(h.error_y||{}).visible||O!=="tonexty"&&O!=="tozeroy"&&(f.hasMarkers(h)||f.hasText(h))||(P.padded=!1,P.ppad=0),z&&(O==="tozeroy"||O==="tonexty"&&(A||C==="v"))?D.tozero=!0:O!=="tonextx"&&O!=="tozerox"||(D.padded=!1),c&&(h._extremes[c]=a.findExtremes(_,d,P)),E&&(h._extremes[E]=a.findExtremes(m,x,D))}function n(p,h){if(f.hasMarkers(p)){var _,m=p.marker,d=1.6*(p.marker.sizeref||1);if(_=p.marker.sizemode==="area"?function(c){return Math.max(Math.sqrt((c||0)/d),3)}:function(c){return Math.max((c||0)/d,3)},w.isArrayOrTypedArray(m.size)){var x={type:"linear"};a.setConvert(x);for(var g=x.makeCalcdata(p.marker,"size"),v=new Array(h),T=0;T<h;T++)v[T]=_(g[T]);return v}return _(m.size)}}function r(p,h){var _=i(h),m=p._firstScatter;m[_]||(m[_]=h.uid)}function i(p){var h=p.stackgroup;return p.xaxis+p.yaxis+p.type+(h?"-"+h:"")}function u(p,h,_,m){var d=p.stackgroup;if(d){var x=h._scatterStackOpts[_._id+m._id][d],g=x.orientation==="v"?m:_;return g.type==="linear"||g.type==="log"?x:void 0}}L.exports={calc:function(p,h){var _,m,d,x,g,v,T=p._fullLayout,c=h._xA=a.getFromId(p,h.xaxis||"x","x"),E=h._yA=a.getFromId(p,h.yaxis||"y","y"),A=c.makeCalcdata(h,"x"),C=E.makeCalcdata(h,"y"),O=k(h,c,"x",A),P=k(h,E,"y",C),D=O.vals,z=P.vals,V=h._length,F=new Array(V),W=h.ids,B=u(h,T,c,E),U=!1;r(T,h);var H,q="x",ee="y";B?(w.pushUnique(B.traceIndices,h._expandedIndex),(_=B.orientation==="v")?(ee="s",H="x"):(q="s",H="y"),g=B.stackgaps==="interpolate"):o(p,h,c,E,D,z,n(h,V));var K=!!h.xperiodalignment,J=!!h.yperiodalignment;for(m=0;m<V;m++){var Z=F[m]={},$=b(D[m]),ne=b(z[m]);$&&ne?(Z[q]=D[m],Z[ee]=z[m],K&&(Z.orig_x=A[m],Z.xEnd=O.ends[m],Z.xStart=O.starts[m]),J&&(Z.orig_y=C[m],Z.yEnd=P.ends[m],Z.yStart=P.starts[m])):B&&(_?$:ne)?(Z[H]=_?D[m]:z[m],Z.gap=!0,g?(Z.s=y,U=!0):Z.s=0):Z[q]=Z[ee]=y,W&&(Z.id=String(W[m]))}if(t(F,h),l(p,h),s(F,h),B){for(m=0;m<F.length;)F[m][H]===y?F.splice(m,1):m++;if(w.sort(F,function(ce,me){return ce[H]-me[H]||ce.i-me.i}),U){for(m=0;m<F.length-1&&F[m].gap;)m++;for((v=F[m].s)||(v=F[m].s=0),d=0;d<m;d++)F[d].s=v;for(x=F.length-1;x>m&&F[x].gap;)x--;for(v=F[x].s,d=F.length-1;d>x;d--)F[d].s=v;for(;m<x;)if(F[++m].gap){for(d=m+1;F[d].gap;)d++;for(var ae=F[m-1][H],oe=F[m-1].s,se=(F[d].s-oe)/(F[d][H]-ae);m<d;)F[m].s=oe+(F[m][H]-ae)*se,m++}}}return F},calcMarkerSize:n,calcAxisExpansion:o,setFirstScatter:r,getStackOpts:u}},66279:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){b.isArrayOrTypedArray(a.selectedpoints)&&b.tagSelected(w,a)}},36922:function(L,M,e){"use strict";var b=e(52075).hasColorscale,w=e(78803),a=e(34098);L.exports=function(k,y){a.hasLines(y)&&b(y,"line")&&w(k,y,{vals:y.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(y)&&(b(y,"marker")&&w(k,y,{vals:y.marker.color,containerStr:"marker",cLetter:"c"}),b(y,"marker.line")&&w(k,y,{vals:y.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(L){"use strict";L.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(L,M,e){"use strict";var b=e(47761),w=e(11661).setGroupPositions;function a(k,y,f,l,t,s,o){t[l]=!0;var n={i:null,gap:!0,s:0};if(n[o]=f,k.splice(y,0,n),y&&f===k[y-1][o]){var r=k[y-1];n.s=r.s,n.i=r.i,n.gap=r.gap}else s&&(n.s=function(i,u,p,h){var _=i[u-1],m=i[u+1];return m?_?_.s+(m.s-_.s)*(p-_[h])/(m[h]-_[h]):m.s:_.s}(k,y,f,o));y||(k[0].t=k[1].t,k[0].trace=k[1].trace,delete k[1].t,delete k[1].trace)}L.exports=function(k,y){k._fullLayout.scattermode==="group"&&function(H,q){for(var ee=q.xaxis,K=q.yaxis,J=H._fullLayout,Z=H._fullData,$=H.calcdata,ne=[],ae=[],oe=0;oe<Z.length;oe++){var se=Z[oe];se.visible===!0&&se.type==="scatter"&&se.xaxis===ee._id&&se.yaxis===K._id&&(se.orientation==="h"?ne.push($[oe]):se.orientation==="v"&&ae.push($[oe]))}var ce={mode:J.scattermode,gap:J.scattergap};w(H,ee,K,ae,ce),w(H,K,ee,ne,ce)}(k,y);var f=y.xaxis,l=y.yaxis,t=f._id+l._id,s=k._fullLayout._scatterStackOpts[t];if(s){var o,n,r,i,u,p,h,_,m,d,x,g,v,T,c,E=k.calcdata;for(var A in s){var C=(d=s[A]).traceIndices;if(C.length){for(x=d.stackgaps==="interpolate",g=d.groupnorm,d.orientation==="v"?(v="x",T="y"):(v="y",T="x"),c=new Array(C.length),o=0;o<c.length;o++)c[o]=!1;p=E[C[0]];var O=new Array(p.length);for(o=0;o<p.length;o++)O[o]=p[o][v];for(o=1;o<C.length;o++){for(u=E[C[o]],n=r=0;n<u.length;n++){for(h=u[n][v];h>O[r]&&r<O.length;r++)a(u,n,O[r],o,c,x,v),n++;if(h!==O[r]){for(i=0;i<o;i++)a(E[C[i]],r,h,i,c,x,v);O.splice(r,0,h)}r++}for(;r<O.length;r++)a(u,n,O[r],o,c,x,v),n++}var P=O.length;for(n=0;n<p.length;n++){for(_=p[n][T]=p[n].s,o=1;o<C.length;o++)(u=E[C[o]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=P,_+=u[n].s,u[n][T]=_;if(g)for(m=(g==="fraction"?_:_/100)||1,o=0;o<C.length;o++){var D=E[C[o]][n];D[T]/=m,D.sNorm=D.s/m}}for(o=0;o<C.length;o++){var z=(u=E[C[o]])[0].trace,V=b.calcMarkerSize(z,z._rawLength),F=Array.isArray(V);if(V&&c[o]||F){var W=V;for(V=new Array(P),n=0;n<P;n++)V[n]=u[n].gap?0:F?W[u[n].i]:W}var B=new Array(P),U=new Array(P);for(n=0;n<P;n++)B[n]=u[n].x,U[n]=u[n].y;b.calcAxisExpansion(k,z,f,l,B,U,V),u[0].t.orientation=d.orientation}}}}}},34936:function(L,M,e){"use strict";var b=e(71828),w=e(26125),a=e(82196);L.exports=function(k,y){var f,l,t;function s(u){return b.coerce(l._input,l,a,u)}if(y.scattermode==="group")for(t=0;t<k.length;t++)(l=k[t]).type==="scatter"&&(f=l._input,w(f,l,y,s));for(t=0;t<k.length;t++){var o=k[t];if(o.type==="scatter"){var n=o.fill;if(n!=="none"&&n!=="toself"&&(o.opacity=void 0,n==="tonexty"||n==="tonextx"))for(var r=t-1;r>=0;r--){var i=k[r];if(i.type==="scatter"&&i.xaxis===o.xaxis&&i.yaxis===o.yaxis){i.opacity=void 0;break}}}}}},17438:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=e(82196),k=e(47581),y=e(34098),f=e(67513),l=e(73927),t=e(565),s=e(49508),o=e(11058),n=e(94039),r=e(82410),i=e(28908),u=e(71828).coercePattern;L.exports=function(p,h,_,m){function d(C,O){return b.coerce(p,h,a,C,O)}var x=f(p,h,m,d);if(x||(h.visible=!1),h.visible){l(p,h,m,d),d("xhoverformat"),d("yhoverformat");var g=t(p,h,m,d);m.scattermode==="group"&&h.orientation===void 0&&d("orientation","v");var v=!g&&x<k.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",v),y.hasLines(h)&&(o(p,h,_,m,d,{backoff:!0}),n(p,h,d),d("connectgaps"),d("line.simplify")),y.hasMarkers(h)&&s(p,h,_,m,d,{gradient:!0}),y.hasText(h)&&(d("texttemplate"),r(p,h,m,d));var T=[];(y.hasMarkers(h)||y.hasText(h))&&(d("cliponaxis"),d("marker.maxdisplayed"),T.push("points")),d("fill",g?g.fillDflt:"none"),h.fill!=="none"&&(i(p,h,_,d),y.hasLines(h)||n(p,h,d),u(d,"fillpattern",h.fillcolor,!1));var c=(h.line||{}).color,E=(h.marker||{}).color;h.fill!=="tonext"&&h.fill!=="toself"||T.push("fills"),d("hoveron",T.join("+")||"points"),h.hoveron!=="fills"&&d("hovertemplate");var A=w.getComponentMethod("errorbars","supplyDefaults");A(p,h,c||E||_,{axis:"y"}),A(p,h,c||E||_,{axis:"x",inherit:"y"}),b.coerceSelectionMarkerOpacity(h,d)}}},28908:function(L,M,e){"use strict";var b=e(7901),w=e(71828).isArrayOrTypedArray;L.exports=function(a,k,y,f){var l=!1;if(k.marker){var t=k.marker.color,s=(k.marker.line||{}).color;t&&!w(t)?l=t:s&&!w(s)&&(l=s)}f("fillcolor",b.addOpacity((k.line||{}).color||l||y,.5))}},8225:function(L,M,e){"use strict";var b=e(89298);L.exports=function(w,a,k){var y={},f={_fullLayout:k},l=b.getFromTrace(f,a,"x"),t=b.getFromTrace(f,a,"y"),s=w.orig_x;s===void 0&&(s=w.x);var o=w.orig_y;return o===void 0&&(o=w.y),y.xLabel=b.tickText(l,l.c2l(s),!0).text,y.yLabel=b.tickText(t,t.c2l(o),!0).text,y}},34603:function(L,M,e){"use strict";var b=e(7901),w=e(34098);L.exports=function(a,k){var y,f;if(a.mode==="lines")return(y=a.line.color)&&b.opacity(y)?y:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var l=k.mcc||(a.marker||{}).color,t=k.mlcc||((a.marker||{}).line||{}).color;return(f=l&&b.opacity(l)?l:t&&b.opacity(t)&&(k.mlw||((a.marker||{}).line||{}).width)?t:"")?b.opacity(f)<.3?b.addOpacity(f,.3):f:(y=(a.line||{}).color)&&b.opacity(y)&&w.hasLines(a)&&a.line.width?y:a.fillcolor}},26125:function(L,M,e){"use strict";var b=e(99082).getAxisGroup;L.exports=function(w,a,k,y){var f=a.orientation,l=a[{v:"x",h:"y"}[f]+"axis"],t=b(k,l)+f,s=k._alignmentOpts||{},o=y("alignmentgroup"),n=s[t];n||(n=s[t]={});var r=n[o];r?r.traces.push(a):r=n[o]={traces:[a],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var i=y("offsetgroup"),u=r.offsetGroups,p=u[i];i&&(p||(p=u[i]={offsetIndex:Object.keys(u).length}),a._offsetIndex=p.offsetIndex)}},33720:function(L,M,e){"use strict";var b=e(71828),w=e(30211),a=e(73972),k=e(34603),y=e(7901),f=b.fillText;L.exports=function(l,t,s,o){var n=l.cd,r=n[0].trace,i=l.xa,u=l.ya,p=i.c2p(t),h=u.c2p(s),_=[p,h],m=r.hoveron||"",d=r.mode.indexOf("markers")!==-1?3:.5,x=!!r.xperiodalignment,g=!!r.yperiodalignment;if(m.indexOf("points")!==-1){var v=function(xe){var ve=Math.max(d,xe.mrc||0),fe=i.c2p(xe.x)-p,pe=u.c2p(xe.y)-h;return Math.max(Math.sqrt(fe*fe+pe*pe)-ve,1-d/ve)},T=w.getDistanceFunction(o,function(xe){if(x){var ve=i.c2p(xe.xStart),fe=i.c2p(xe.xEnd);return p>=Math.min(ve,fe)&&p<=Math.max(ve,fe)?0:1/0}var pe=Math.max(3,xe.mrc||0),Le=1-1/pe,ye=Math.abs(i.c2p(xe.x)-p);return ye<pe?Le*ye/pe:ye-pe+Le},function(xe){if(g){var ve=u.c2p(xe.yStart),fe=u.c2p(xe.yEnd);return h>=Math.min(ve,fe)&&h<=Math.max(ve,fe)?0:1/0}var pe=Math.max(3,xe.mrc||0),Le=1-1/pe,ye=Math.abs(u.c2p(xe.y)-h);return ye<pe?Le*ye/pe:ye-pe+Le},v);if(w.getClosest(n,T,l),l.index!==!1){var c=n[l.index],E=i.c2p(c.x,!0),A=u.c2p(c.y,!0),C=c.mrc||1;l.index=c.i;var O=n[0].t.orientation,P=O&&(c.sNorm||c.s),D=O==="h"?P:c.orig_x!==void 0?c.orig_x:c.x,z=O==="v"?P:c.orig_y!==void 0?c.orig_y:c.y;return b.extendFlat(l,{color:k(r,c),x0:E-C,x1:E+C,xLabelVal:D,y0:A-C,y1:A+C,yLabelVal:z,spikeDistance:v(c),hovertemplate:r.hovertemplate}),f(c,r,l),a.getComponentMethod("errorbars","hoverInfo")(c,r,l),[l]}}if(m.indexOf("fills")!==-1&&r._polygons){var V,F,W,B,U,H,q,ee,K,J=r._polygons,Z=[],$=!1,ne=1/0,ae=-1/0,oe=1/0,se=-1/0;for(V=0;V<J.length;V++)(W=J[V]).contains(_)&&($=!$,Z.push(W),oe=Math.min(oe,W.ymin),se=Math.max(se,W.ymax));if($){var ce=((oe=Math.max(oe,0))+(se=Math.min(se,u._length)))/2;for(V=0;V<Z.length;V++)for(B=Z[V].pts,F=1;F<B.length;F++)(ee=B[F-1][1])>ce!=(K=B[F][1])>=ce&&(H=B[F-1][0],q=B[F][0],K-ee&&(U=H+(q-H)*(ce-ee)/(K-ee),ne=Math.min(ne,U),ae=Math.max(ae,U)));ne=Math.max(ne,0),ae=Math.min(ae,i._length);var me=y.defaultLine;return y.opacity(r.fillcolor)?me=r.fillcolor:y.opacity((r.line||{}).color)&&(me=r.line.color),b.extendFlat(l,{distance:l.maxHoverDistance,x0:ne,x1:ae,y0:ce,y1:ce,color:me,hovertemplate:!1}),delete l.index,r.text&&!Array.isArray(r.text)?l.text=String(r.text):l.text=r.name,[l]}}}},67368:function(L,M,e){"use strict";var b=e(34098);L.exports={hasLines:b.hasLines,hasMarkers:b.hasMarkers,hasText:b.hasText,isBubble:b.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(L){"use strict";L.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(L,M,e){"use strict";var b=e(71828),w=e(21479);L.exports=function(a,k){var y,f=k.barmode==="group";k.scattermode==="group"&&(y=f?k.bargap:.2,b.coerce(a,k,w,"scattergap",y))}},11058:function(L,M,e){"use strict";var b=e(71828).isArrayOrTypedArray,w=e(52075).hasColorscale,a=e(1586);L.exports=function(k,y,f,l,t,s){s||(s={});var o=(k.marker||{}).color;t("line.color",f),w(k,"line")?a(k,y,l,t,{prefix:"line.",cLetter:"c"}):t("line.color",!b(o)&&o||f),t("line.width"),s.noDash||t("line.dash"),s.backoff&&t("line.backoff")}},34621:function(L,M,e){"use strict";var b=e(91424),w=e(50606),a=w.BADNUM,k=w.LOG_CLIP,y=k+.5,f=k-.5,l=e(71828),t=l.segmentsIntersect,s=l.constrain,o=e(47581);L.exports=function(n,r){var i,u,p,h,_,m,d,x,g,v,T,c,E,A,C,O,P,D,z=r.trace||{},V=r.xaxis,F=r.yaxis,W=V.type==="log",B=F.type==="log",U=V._length,H=F._length,q=r.backoff,ee=z.marker,K=r.connectGaps,J=r.baseTolerance,Z=r.shape,$=Z==="linear",ne=z.fill&&z.fill!=="none",ae=[],oe=o.minTolerance,se=n.length,ce=new Array(se),me=0;function xe(Ht){var Ke=n[Ht];if(!Ke)return!1;var $e=r.linearized?V.l2p(Ke.x):V.c2p(Ke.x),Ue=r.linearized?F.l2p(Ke.y):F.c2p(Ke.y);if($e===a){if(W&&($e=V.c2p(Ke.x,!0)),$e===a)return!1;B&&Ue===a&&($e*=Math.abs(V._m*H*(V._m>0?y:f)/(F._m*U*(F._m>0?y:f)))),$e*=1e3}if(Ue===a){if(B&&(Ue=F.c2p(Ke.y,!0)),Ue===a)return!1;Ue*=1e3}return[$e,Ue]}function ve(Ht,Ke,$e,Ue){var nt=$e-Ht,ct=Ue-Ke,Oe=.5-Ht,Ne=.5-Ke,Qe=nt*nt+ct*ct,ut=nt*Oe+ct*Ne;if(ut>0&&ut<Qe){var pt=Oe*ct-Ne*nt;if(pt*pt<Qe)return!0}}function fe(Ht,Ke){var $e=Ht[0]/U,Ue=Ht[1]/H,nt=Math.max(0,-$e,$e-1,-Ue,Ue-1);return nt&&P!==void 0&&ve($e,Ue,P,D)&&(nt=0),nt&&Ke&&ve($e,Ue,Ke[0]/U,Ke[1]/H)&&(nt=0),(1+o.toleranceGrowth*nt)*J}function pe(Ht,Ke){var $e=Ht[0]-Ke[0],Ue=Ht[1]-Ke[1];return Math.sqrt($e*$e+Ue*Ue)}var Le,ye,Ae,Me,ke,te,ue,ge=o.maxScreensAway,we=-U*ge,Ee=U*(1+ge),Be=-H*ge,Re=H*(1+ge),je=[[we,Be,Ee,Be],[Ee,Be,Ee,Re],[Ee,Re,we,Re],[we,Re,we,Be]];function he(Ht){if(Ht[0]<we||Ht[0]>Ee||Ht[1]<Be||Ht[1]>Re)return[s(Ht[0],we,Ee),s(Ht[1],Be,Re)]}function _e(Ht,Ke){return Ht[0]===Ke[0]&&(Ht[0]===we||Ht[0]===Ee)||Ht[1]===Ke[1]&&(Ht[1]===Be||Ht[1]===Re)||void 0}function Te(Ht,Ke,$e){return function(Ue,nt){var ct=he(Ue),Oe=he(nt),Ne=[];if(ct&&Oe&&_e(ct,Oe))return Ne;ct&&Ne.push(ct),Oe&&Ne.push(Oe);var Qe=2*l.constrain((Ue[Ht]+nt[Ht])/2,Ke,$e)-((ct||Ue)[Ht]+(Oe||nt)[Ht]);return Qe&&((ct&&Oe?Qe>0==ct[Ht]>Oe[Ht]?ct:Oe:ct||Oe)[Ht]+=Qe),Ne}}function Fe(Ht){var Ke=Ht[0],$e=Ht[1],Ue=Ke===ce[me-1][0],nt=$e===ce[me-1][1];if(!Ue||!nt)if(me>1){var ct=Ke===ce[me-2][0],Oe=$e===ce[me-2][1];Ue&&(Ke===we||Ke===Ee)&&ct?Oe?me--:ce[me-1]=Ht:nt&&($e===Be||$e===Re)&&Oe?ct?me--:ce[me-1]=Ht:ce[me++]=Ht}else ce[me++]=Ht}function Ye(Ht){ce[me-1][0]!==Ht[0]&&ce[me-1][1]!==Ht[1]&&Fe([Ae,Me]),Fe(Ht),ke=null,Ae=Me=0}Z==="linear"||Z==="spline"?ue=function(Ht,Ke){for(var $e=[],Ue=0,nt=0;nt<4;nt++){var ct=je[nt],Oe=t(Ht[0],Ht[1],Ke[0],Ke[1],ct[0],ct[1],ct[2],ct[3]);Oe&&(!Ue||Math.abs(Oe.x-$e[0][0])>1||Math.abs(Oe.y-$e[0][1])>1)&&(Oe=[Oe.x,Oe.y],Ue&&pe(Oe,Ht)<pe($e[0],Ht)?$e.unshift(Oe):$e.push(Oe),Ue++)}return $e}:Z==="hv"||Z==="vh"?ue=function(Ht,Ke){var $e=[],Ue=he(Ht),nt=he(Ke);return Ue&&nt&&_e(Ue,nt)||(Ue&&$e.push(Ue),nt&&$e.push(nt)),$e}:Z==="hvh"?ue=Te(0,we,Ee):Z==="vhv"&&(ue=Te(1,Be,Re));var Ge=l.isArrayOrTypedArray(ee);function ot(Ht){if(Ht&&q&&(Ht.i=i,Ht.d=n,Ht.trace=z,Ht.marker=Ge?ee[Ht.i]:ee,Ht.backoff=q),P=Ht[0]/U,D=Ht[1]/H,Le=Ht[0]<we?we:Ht[0]>Ee?Ee:0,ye=Ht[1]<Be?Be:Ht[1]>Re?Re:0,Le||ye){if(me)if(ke){var Ke=ue(ke,Ht);Ke.length>1&&(Ye(Ke[0]),ce[me++]=Ke[1])}else te=ue(ce[me-1],Ht)[0],ce[me++]=te;else ce[me++]=[Le||Ht[0],ye||Ht[1]];var $e=ce[me-1];Le&&ye&&($e[0]!==Le||$e[1]!==ye)?(ke&&(Ae!==Le&&Me!==ye?Fe(Ae&&Me?(Ue=ke,ct=(nt=Ht)[0]-Ue[0],Oe=(nt[1]-Ue[1])/ct,(Ue[1]*nt[0]-nt[1]*Ue[0])/ct>0?[Oe>0?we:Ee,Re]:[Oe>0?Ee:we,Be]):[Ae||Le,Me||ye]):Ae&&Me&&Fe([Ae,Me])),Fe([Le,ye])):Ae-Le&&Me-ye&&Fe([Le||Ae,ye||Me]),ke=Ht,Ae=Le,Me=ye}else ke&&Ye(ue(ke,Ht)[0]),ce[me++]=Ht;var Ue,nt,ct,Oe}for(i=0;i<se;i++)if(u=xe(i)){for(me=0,ke=null,ot(u),i++;i<se;i++){if(!(h=xe(i))){if(K)continue;break}if($&&r.simplify){var st=xe(i+1);if(v=pe(h,u),ne&&(me===0||me===se-1)||!(v<fe(h,st)*oe)){for(x=[(h[0]-u[0])/v,(h[1]-u[1])/v],_=u,T=v,c=A=C=0,d=!1,p=h,i++;i<n.length;i++){if(m=st,st=xe(i+1),!m){if(K)continue;break}if(O=(g=[m[0]-u[0],m[1]-u[1]])[0]*x[1]-g[1]*x[0],A=Math.min(A,O),(C=Math.max(C,O))-A>fe(m,st))break;p=m,(E=g[0]*x[0]+g[1]*x[1])>T?(T=E,h=m,d=!1):E<c&&(c=E,_=m,d=!0)}if(d?(ot(h),p!==_&&ot(_)):(_!==u&&ot(_),p!==h&&ot(h)),ot(p),i>=n.length||!m)break;ot(m),u=m}}else ot(h)}ke&&Fe([Ae||ke[0],Me||ke[1]]),ae.push(ce.slice(0,me))}var ht=Z.slice(Z.length-1);if(q&&ht!=="h"&&ht!=="v"){for(var xt=!1,Ct=-1,St=[],kt=0;kt<ae.length;kt++)for(var Nt=0;Nt<ae[kt].length-1;Nt++){var Dt=ae[kt][Nt],Et=ae[kt][Nt+1],Wt=b.applyBackoff(Et,Dt);Wt[0]===Et[0]&&Wt[1]===Et[1]||(xt=!0),St[Ct+1]||(St[++Ct]=[Dt,[Wt[0],Wt[1]]])}return xt?St:ae}return ae}},94039:function(L){"use strict";L.exports=function(M,e,b){b("line.shape")==="spline"&&b("line.smoothing")}},68687:function(L){"use strict";var M={tonextx:1,tonexty:1,tonext:1};L.exports=function(e,b,w){var a,k,y,f,l,t={},s=!1,o=-1,n=0,r=-1;for(k=0;k<w.length;k++)(y=(a=w[k][0].trace).stackgroup||"")?y in t?l=t[y]:(l=t[y]=n,n++):a.fill in M&&r>=0?l=r:(l=r=n,n++),l<o&&(s=!0),a._groupIndex=o=l;var i=w.slice();s&&i.sort(function(p,h){var _=p[0].trace,m=h[0].trace;return _._groupIndex-m._groupIndex||_.index-m.index});var u={};for(k=0;k<i.length;k++)y=(a=i[k][0].trace).stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in M&&(f=u[y],a._prevtrace=f||null,f&&(f._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),u[y]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return i}},39984:function(L,M,e){"use strict";var b=e(92770);L.exports=function(w,a){a||(a=2);var k=w.marker,y=k.sizeref||1,f=k.sizemin||0,l=k.sizemode==="area"?function(t){return Math.sqrt(t/y)}:function(t){return t/y};return function(t){var s=l(t/a);return b(s)&&s>0?Math.max(s,f):0}}},4898:function(L){"use strict";L.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(L,M,e){"use strict";var b=e(7901),w=e(52075).hasColorscale,a=e(1586),k=e(34098);L.exports=function(y,f,l,t,s,o){var n=k.isBubble(y),r=(y.line||{}).color;o=o||{},r&&(l=r),s("marker.symbol"),s("marker.opacity",n?.7:1),s("marker.size"),o.noAngle||(s("marker.angle"),o.noAngleRef||s("marker.angleref"),o.noStandOff||s("marker.standoff")),s("marker.color",l),w(y,"marker")&&a(y,f,t,s,{prefix:"marker.",cLetter:"c"}),o.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),o.noLine||(s("marker.line.color",r&&!Array.isArray(r)&&f.marker.color!==r?r:n?b.background:b.defaultLine),w(y,"marker.line")&&a(y,f,t,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",n?1:0)),n&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),o.gradient&&s("marker.gradient.type")!=="none"&&s("marker.gradient.color")}},73927:function(L,M,e){"use strict";var b=e(71828).dateTick0,w=e(50606).ONEWEEK;function a(k,y){return b(y,k%w==0?1:0)}L.exports=function(k,y,f,l,t){if(t||(t={x:!0,y:!0}),t.x){var s=l("xperiod");s&&(l("xperiod0",a(s,y.xcalendar)),l("xperiodalignment"))}if(t.y){var o=l("yperiod");o&&(l("yperiod0",a(o,y.ycalendar)),l("yperiodalignment"))}}},32663:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(71828),k=a.ensureSingle,y=a.identity,f=e(91424),l=e(34098),t=e(34621),s=e(68687),o=e(61082).tester;function n(r,i,u,p,h,_,m){var d,x=r._context.staticPlot;(function(ue,ge,we,Ee,Be){var Re=we.xaxis,je=we.yaxis,he=b.extent(a.simpleMap(Re.range,Re.r2c)),_e=b.extent(a.simpleMap(je.range,je.r2c)),Te=Ee[0].trace;if(l.hasMarkers(Te)){var Fe=Te.marker.maxdisplayed;if(Fe!==0){var Ye=Ee.filter(function(ht){return ht.x>=he[0]&&ht.x<=he[1]&&ht.y>=_e[0]&&ht.y<=_e[1]}),Ge=Math.ceil(Ye.length/Fe),ot=0;Be.forEach(function(ht,xt){var Ct=ht[0].trace;l.hasMarkers(Ct)&&Ct.marker.maxdisplayed>0&&xt<ge&&ot++});var st=Math.round(ot*Ge/3+Math.floor(ot/3)*Ge/7.1);Ee.forEach(function(ht){delete ht.vis}),Ye.forEach(function(ht,xt){Math.round((xt+st)%Ge)===0&&(ht.vis=!0)})}}})(0,i,u,p,h);var g=!!m&&m.duration>0;function v(ue){return g?ue.transition():ue}var T=u.xaxis,c=u.yaxis,E=p[0].trace,A=E.line,C=b.select(_),O=k(C,"g","errorbars"),P=k(C,"g","lines"),D=k(C,"g","points"),z=k(C,"g","text");if(w.getComponentMethod("errorbars","plot")(r,O,u,m),E.visible===!0){var V,F;v(C).style("opacity",E.opacity);var W=E.fill.charAt(E.fill.length-1);W!=="x"&&W!=="y"&&(W=""),p[0][u.isRangePlot?"nodeRangePlot3":"node3"]=C;var B,U,H="",q=[],ee=E._prevtrace;ee&&(H=ee._prevRevpath||"",F=ee._nextFill,q=ee._polygons);var K,J,Z,$,ne,ae,oe,se="",ce="",me=[],xe=a.noop;if(V=E._ownFill,l.hasLines(E)||E.fill!=="none"){for(F&&F.datum(p),["hv","vh","hvh","vhv"].indexOf(A.shape)!==-1?(K=f.steps(A.shape),J=f.steps(A.shape.split("").reverse().join(""))):K=J=A.shape==="spline"?function(ue){var ge=ue[ue.length-1];return ue.length>1&&ue[0][0]===ge[0]&&ue[0][1]===ge[1]?f.smoothclosed(ue.slice(1),A.smoothing):f.smoothopen(ue,A.smoothing)}:function(ue){return"M"+ue.join("L")},Z=function(ue){return J(ue.reverse())},me=t(p,{xaxis:T,yaxis:c,trace:E,connectGaps:E.connectgaps,baseTolerance:Math.max(A.width||1,3)/4,shape:A.shape,backoff:A.backoff,simplify:A.simplify,fill:E.fill}),oe=E._polygons=new Array(me.length),d=0;d<me.length;d++)E._polygons[d]=o(me[d]);me.length&&($=me[0][0],ae=(ne=me[me.length-1])[ne.length-1]),xe=function(ue){return function(ge){if(B=K(ge),U=Z(ge),se?W?(se+="L"+B.substr(1),ce=U+"L"+ce.substr(1)):(se+="Z"+B,ce=U+"Z"+ce):(se=B,ce=U),l.hasLines(E)){var we=b.select(this);if(we.datum(p),ue)v(we.style("opacity",0).attr("d",B).call(f.lineGroupStyle)).style("opacity",1);else{var Ee=v(we);Ee.attr("d",B),f.singleLineStyle(p,Ee)}}}}}var ve=P.selectAll(".js-line").data(me);v(ve.exit()).style("opacity",0).remove(),ve.each(xe(!1)),ve.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(xe(!0)),f.setClipUrl(ve,u.layerClipId,r),me.length?(V?(V.datum(p),$&&ae&&(W?(W==="y"?$[1]=ae[1]=c.c2p(0,!0):W==="x"&&($[0]=ae[0]=T.c2p(0,!0)),v(V).attr("d","M"+ae+"L"+$+"L"+se.substr(1)).call(f.singleFillStyle,r)):v(V).attr("d",se+"Z").call(f.singleFillStyle,r))):F&&(E.fill.substr(0,6)==="tonext"&&se&&H?(E.fill==="tonext"?v(F).attr("d",se+"Z"+H+"Z").call(f.singleFillStyle,r):v(F).attr("d",se+"L"+H.substr(1)+"Z").call(f.singleFillStyle,r),E._polygons=E._polygons.concat(q)):(pe(F),E._polygons=null)),E._prevRevpath=ce,E._prevPolygons=oe):(V?pe(V):F&&pe(F),E._polygons=E._prevRevpath=E._prevPolygons=null),D.datum(p),z.datum(p),function(ue,ge,we){var Ee,Be=we[0].trace,Re=l.hasMarkers(Be),je=l.hasText(Be),he=ke(Be),_e=te,Te=te;if(Re||je){var Fe=y,Ye=Be.stackgroup,Ge=Ye&&r._fullLayout._scatterStackOpts[T._id+c._id][Ye].stackgaps==="infer zero";Be.marker.maxdisplayed||Be._needsCull?Fe=Ge?ye:Le:Ye&&!Ge&&(Fe=Ae),Re&&(_e=Fe),je&&(Te=Fe)}var ot,st=(Ee=ue.selectAll("path.point").data(_e,he)).enter().append("path").classed("point",!0);g&&st.call(f.pointStyle,Be,r).call(f.translatePoints,T,c).style("opacity",0).transition().style("opacity",1),Ee.order(),Re&&(ot=f.makePointStyleFns(Be)),Ee.each(function(ht){var xt=b.select(this),Ct=v(xt);f.translatePoint(ht,Ct,T,c)?(f.singlePointStyle(ht,Ct,Be,ot,r),u.layerClipId&&f.hideOutsideRangePoint(ht,Ct,T,c,Be.xcalendar,Be.ycalendar),Be.customdata&&xt.classed("plotly-customdata",ht.data!==null&&ht.data!==void 0)):Ct.remove()}),g?Ee.exit().transition().style("opacity",0).remove():Ee.exit().remove(),(Ee=ge.selectAll("g").data(Te,he)).enter().append("g").classed("textpoint",!0).append("text"),Ee.order(),Ee.each(function(ht){var xt=b.select(this),Ct=v(xt.select("text"));f.translatePoint(ht,Ct,T,c)?u.layerClipId&&f.hideOutsideRangePoint(ht,xt,T,c,Be.xcalendar,Be.ycalendar):xt.remove()}),Ee.selectAll("text").call(f.textPointStyle,Be,r).each(function(ht){var xt=T.c2p(ht.x),Ct=c.c2p(ht.y);b.select(this).selectAll("tspan.line").each(function(){v(b.select(this)).attr({x:xt,y:Ct})})}),Ee.exit().remove()}(D,z,p);var fe=E.cliponaxis===!1?null:u.layerClipId;f.setClipUrl(D,fe,r),f.setClipUrl(z,fe,r)}function pe(ue){v(ue).attr("d","M0,0Z")}function Le(ue){return ue.filter(function(ge){return!ge.gap&&ge.vis})}function ye(ue){return ue.filter(function(ge){return ge.vis})}function Ae(ue){return ue.filter(function(ge){return!ge.gap})}function Me(ue){return ue.id}function ke(ue){if(ue.ids)return Me}function te(){return!1}}L.exports=function(r,i,u,p,h,_){var m,d,x=!h,g=!!h&&h.duration>0,v=s(r,i,u);(m=p.selectAll("g.trace").data(v,function(T){return T[0].trace.uid})).enter().append("g").attr("class",function(T){return"trace scatter trace"+T[0].trace.uid}).style("stroke-miterlimit",2),m.order(),function(T,c,E){c.each(function(A){var C=k(b.select(this),"g","fills");f.setClipUrl(C,E.layerClipId,T);var O=A[0].trace,P=[];O._ownfill&&P.push("_ownFill"),O._nexttrace&&P.push("_nextFill");var D=C.selectAll("g").data(P,y);D.enter().append("g"),D.exit().each(function(z){O[z]=null}).remove(),D.order().each(function(z){O[z]=k(b.select(this),"path","js-fill")})})}(r,m,i),g?(_&&(d=_()),b.transition().duration(h.duration).ease(h.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()}).each(function(){p.selectAll("g.trace").each(function(T,c){n(r,c,i,T,v,this,h)})})):m.each(function(T,c){n(r,c,i,T,v,this,h)}),x&&m.exit().remove(),p.selectAll("path:not([d])").remove()}},98002:function(L,M,e){"use strict";var b=e(34098);L.exports=function(w,a){var k,y,f,l,t=w.cd,s=w.xaxis,o=w.yaxis,n=[],r=t[0].trace;if(!b.hasMarkers(r)&&!b.hasText(r))return[];if(a===!1)for(k=0;k<t.length;k++)t[k].selected=0;else for(k=0;k<t.length;k++)y=t[k],f=s.c2p(y.x),l=o.c2p(y.y),y.i!==null&&a.contains([f,l],!1,k,w)?(n.push({pointNumber:y.i,x:s.c2d(y.x),y:o.c2d(y.y)}),y.selected=1):y.selected=0;return n}},565:function(L){"use strict";var M=["orientation","groupnorm","stackgaps"];L.exports=function(e,b,w,a){var k=w._scatterStackOpts,y=a("stackgroup");if(y){var f=b.xaxis+b.yaxis,l=k[f];l||(l=k[f]={});var t=l[y],s=!1;t?t.traces.push(b):(t=l[y]={traceIndices:[],traces:[b]},s=!0);for(var o={orientation:b.x&&!b.y?"h":"v"},n=0;n<M.length;n++){var r=M[n],i=r+"Found";if(!t[i]){var u=e[r]!==void 0,p=r==="orientation";if((u||s)&&(t[r]=a(r,o[r]),p&&(t.fillDflt=t[r]==="h"?"tonextx":"tonexty"),u&&(t[i]=!0,!s&&(delete t.traces[0][r],p))))for(var h=0;h<t.traces.length-1;h++){var _=t.traces[h];_._input.fill!==_.fill&&(_.fill=t.fillDflt)}}}return t}}},16296:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(73972);function k(f,l,t){w.pointStyle(f.selectAll("path.point"),l,t)}function y(f,l,t){w.textPointStyle(f.selectAll("text"),l,t)}L.exports={style:function(f){var l=b.select(f).selectAll("g.trace.scatter");l.style("opacity",function(t){return t[0].trace.opacity}),l.selectAll("g.points").each(function(t){k(b.select(this),t.trace||t[0].trace,f)}),l.selectAll("g.text").each(function(t){y(b.select(this),t.trace||t[0].trace,f)}),l.selectAll("g.trace path.js-line").call(w.lineGroupStyle),l.selectAll("g.trace path.js-fill").call(w.fillGroupStyle,f),a.getComponentMethod("errorbars","style")(l)},stylePoints:k,styleText:y,styleOnSelect:function(f,l,t){var s=l[0].trace;s.selectedpoints?(w.selectedPointStyle(t.selectAll("path.point"),s),w.selectedTextStyle(t.selectAll("text"),s)):(k(t,s,f),y(t,s,f))}}},34098:function(L,M,e){"use strict";var b=e(71828);L.exports={hasLines:function(w){return w.visible&&w.mode&&w.mode.indexOf("lines")!==-1},hasMarkers:function(w){return w.visible&&(w.mode&&w.mode.indexOf("markers")!==-1||w.type==="splom")},hasText:function(w){return w.visible&&w.mode&&w.mode.indexOf("text")!==-1},isBubble:function(w){return b.isPlainObject(w.marker)&&b.isArrayOrTypedArray(w.marker.size)}}},82410:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a,k,y,f){f=f||{},y("textposition"),b.coerceFont(y,"textfont",k.font),f.noSelect||(y("selected.textfont.color"),y("unselected.textfont.color"))}},67513:function(L,M,e){"use strict";var b=e(71828),w=e(73972);L.exports=function(a,k,y,f){var l,t=f("x"),s=f("y");if(w.getComponentMethod("calendars","handleTraceDefaults")(a,k,["x","y"],y),t){var o=b.minRowLength(t);s?l=Math.min(o,b.minRowLength(s)):(l=o,f("y0"),f("dy"))}else{if(!s)return 0;l=b.minRowLength(s),f("x0"),f("dx")}return k._length=l,l}},44542:function(L,M,e){"use strict";var b=e(82196),w=e(50693),a=e(12663).axisHoverFormat,k=e(5386).fF,y=e(5386).si,f=e(9012),l=e(29659),t=e(87381),s=e(1426).extendFlat,o=e(30962).overrideAll,n=e(78607),r=b.line,i=b.marker,u=i.line,p=s({width:r.width,dash:{valType:"enumerated",values:n(l),dflt:"solid"}},w("line")),h=L.exports=o({x:b.x,y:b.y,z:{valType:"data_array"},text:s({},b.text,{}),texttemplate:y({},{}),hovertext:s({},b.hovertext,{}),hovertemplate:k(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:s({},b.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:b.connectgaps,line:p,marker:s({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:s({},i.size,{dflt:8}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:s({},i.opacity,{arrayOk:!1}),colorbar:i.colorbar,line:s({width:s({},u.width,{arrayOk:!1})},w("marker.line"))},w("marker")),textposition:s({},b.textposition,{dflt:"top center"}),textfont:{color:b.textfont.color,size:b.textfont.size,family:s({},b.textfont.family,{arrayOk:!1})},opacity:f.opacity,hoverinfo:s({},f.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},36563:function(L,M,e){"use strict";var b=e(75225),w=e(36922);L.exports=function(a,k){var y=[{x:!1,y:!1,trace:k,t:{}}];return b(y,k),w(a,k),y}},67336:function(L,M,e){"use strict";var b=e(73972);function w(a,k,y,f){if(!k||!k.visible)return null;for(var l=b.getComponentMethod("errorbars","makeComputeError")(k),t=new Array(a.length),s=0;s<a.length;s++){var o=l(+a[s],s);if(f.type==="log"){var n=f.c2l(a[s]),r=a[s]-o[0],i=a[s]+o[1];if(t[s]=[(f.c2l(r,!0)-n)*y,(f.c2l(i,!0)-n)*y],r>0){var u=f.c2l(r);f._lowerLogErrorBound||(f._lowerLogErrorBound=u),f._lowerErrorBound=Math.min(f._lowerLogErrorBound,u)}}else t[s]=[-o[0]*y,o[1]*y]}return t}L.exports=function(a,k,y){var f=[w(a.x,a.error_x,k[0],y.xaxis),w(a.y,a.error_y,k[1],y.yaxis),w(a.z,a.error_z,k[2],y.zaxis)],l=function(i){for(var u=0;u<i.length;u++)if(i[u])return i[u].length;return 0}(f);if(l===0)return null;for(var t=new Array(l),s=0;s<l;s++){for(var o=[[0,0,0],[0,0,0]],n=0;n<3;n++)if(f[n])for(var r=0;r<2;r++)o[r][n]=f[n][s][r];t[s]=o}return t}},58925:function(L,M,e){"use strict";var b=e(9330).gl_line3d,w=e(9330).gl_scatter3d,a=e(9330).gl_error3d,k=e(9330).gl_mesh3d,y=e(9330).delaunay_triangulate,f=e(71828),l=e(78614),t=e(81697).formatColor,s=e(39984),o=e(29659),n=e(87381),r=e(89298),i=e(23469).appendArrayPointValue,u=e(67336);function p(c,E){this.scene=c,this.uid=E,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=p.prototype;function _(c){return c==null?0:c.indexOf("left")>-1?-1:c.indexOf("right")>-1?1:0}function m(c){return c==null?0:c.indexOf("top")>-1?-1:c.indexOf("bottom")>-1?1:0}function d(c,E){return E(4*c)}function x(c){return n[c]}function g(c,E,A,C,O){var P=null;if(f.isArrayOrTypedArray(c)){P=[];for(var D=0;D<E;D++)c[D]===void 0?P[D]=C:P[D]=A(c[D],O)}else P=A(c,f.identity);return P}function v(c){if(f.isArrayOrTypedArray(c)){var E=c[0];return f.isArrayOrTypedArray(E)&&(c=E),"rgb("+c.slice(0,3).map(function(A){return Math.round(255*A)})+")"}return null}function T(c){return f.isArrayOrTypedArray(c)?c.length===4&&typeof c[0]=="number"?v(c):c.map(v):null}h.handlePick=function(c){if(c.object&&(c.object===this.linePlot||c.object===this.delaunayMesh||c.object===this.textMarkers||c.object===this.scatterPlot)){var E=c.index=c.data.index;return c.object.highlight&&c.object.highlight(null),this.scatterPlot&&(c.object=this.scatterPlot,this.scatterPlot.highlight(c.data)),c.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[E]||this.textLabels[E]===0)&&(c.textLabel=this.textLabels[E]):c.textLabel=this.textLabels),c.traceCoordinate=[this.data.x[E],this.data.y[E],this.data.z[E]],!0}},h.update=function(c){var E,A,C,O,P=this.scene.glplot.gl,D=o.solid;this.data=c;var z=function(W,B){var U,H,q,ee,K,J,Z=[],$=W.fullSceneLayout,ne=W.dataScale,ae=$.xaxis,oe=$.yaxis,se=$.zaxis,ce=B.marker,me=B.line,xe=B.x||[],ve=B.y||[],fe=B.z||[],pe=xe.length,Le=B.xcalendar,ye=B.ycalendar,Ae=B.zcalendar;for(K=0;K<pe;K++)U=ae.d2l(xe[K],0,Le)*ne[0],H=oe.d2l(ve[K],0,ye)*ne[1],q=se.d2l(fe[K],0,Ae)*ne[2],Z[K]=[U,H,q];if(Array.isArray(B.text))J=B.text;else if(B.text!==void 0)for(J=new Array(pe),K=0;K<pe;K++)J[K]=B.text;function Me(Ye,Ge){var ot=$[Ye];return r.tickText(ot,ot.d2l(Ge),!0).text}var ke=B.texttemplate;if(ke){var te=W.fullLayout._d3locale,ue=Array.isArray(ke),ge=ue?Math.min(ke.length,pe):pe,we=ue?function(Ye){return ke[Ye]}:function(){return ke};for(J=new Array(ge),K=0;K<ge;K++){var Ee={x:xe[K],y:ve[K],z:fe[K]},Be={xLabel:Me("xaxis",xe[K]),yLabel:Me("yaxis",ve[K]),zLabel:Me("zaxis",fe[K])},Re={};i(Re,B,K);var je=B._meta||{};J[K]=f.texttemplateString(we(K),Be,te,Re,Ee,je)}}if(ee={position:Z,mode:B.mode,text:J},"line"in B&&(ee.lineColor=t(me,1,pe),ee.lineWidth=me.width,ee.lineDashes=me.dash),"marker"in B){var he=s(B);ee.scatterColor=t(ce,1,pe),ee.scatterSize=g(ce.size,pe,d,20,he),ee.scatterMarker=g(ce.symbol,pe,x,"\u25CF"),ee.scatterLineWidth=ce.line.width,ee.scatterLineColor=t(ce.line,1,pe),ee.scatterAngle=0}"textposition"in B&&(ee.textOffset=function(Ye){var Ge=[0,0];if(Array.isArray(Ye))for(var ot=0;ot<Ye.length;ot++)Ge[ot]=[0,0],Ye[ot]&&(Ge[ot][0]=_(Ye[ot]),Ge[ot][1]=m(Ye[ot]));else Ge[0]=_(Ye),Ge[1]=m(Ye);return Ge}(B.textposition),ee.textColor=t(B.textfont,1,pe),ee.textSize=g(B.textfont.size,pe,f.identity,12),ee.textFont=B.textfont.family,ee.textAngle=0);var _e=["x","y","z"];for(ee.project=[!1,!1,!1],ee.projectScale=[1,1,1],ee.projectOpacity=[1,1,1],K=0;K<3;++K){var Te=B.projection[_e[K]];(ee.project[K]=Te.show)&&(ee.projectOpacity[K]=Te.opacity,ee.projectScale[K]=Te.scale)}ee.errorBounds=u(B,ne,$);var Fe=function(Ye){for(var Ge=[0,0,0],ot=[[0,0,0],[0,0,0],[0,0,0]],st=[1,1,1],ht=0;ht<3;ht++){var xt=Ye[ht];xt&&xt.copy_zstyle!==!1&&Ye[2].visible!==!1&&(xt=Ye[2]),xt&&xt.visible&&(Ge[ht]=xt.width/2,ot[ht]=l(xt.color),st[ht]=xt.thickness)}return{capSize:Ge,color:ot,lineWidth:st}}([B.error_x,B.error_y,B.error_z]);return ee.errorColor=Fe.color,ee.errorLineWidth=Fe.lineWidth,ee.errorCapSize=Fe.capSize,ee.delaunayAxis=B.surfaceaxis,ee.delaunayColor=l(B.surfacecolor),ee}(this.scene,c);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in o&&(D=o[z.lineDashes]),this.color=T(z.scatterColor)||T(z.lineColor),this.dataPoints=z.position,E={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:D[0],dashScale:D[1],opacity:c.opacity,connectGaps:c.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(E):(this.linePlot=b(E),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=c.opacity;if(c.marker&&c.marker.opacity&&(V*=c.marker.opacity),A={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:V,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(A):(this.scatterPlot=w(A),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:c.opacity},this.textLabels=c.hovertext||c.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=w(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),C={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:c.opacity},this.errorBars?z.errorBounds?this.errorBars.update(C):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(C),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var F=function(W,B,U){var H,q=(U+1)%3,ee=(U+2)%3,K=[],J=[];for(H=0;H<W.length;++H){var Z=W[H];!isNaN(Z[q])&&isFinite(Z[q])&&!isNaN(Z[ee])&&isFinite(Z[ee])&&(K.push([Z[q],Z[ee]]),J.push(H))}var $=y(K);for(H=0;H<$.length;++H)for(var ne=$[H],ae=0;ae<ne.length;++ae)ne[ae]=J[ne[ae]];return{positions:W,cells:$,meshColor:B}}(z.position,z.delaunayColor,z.delaunayAxis);F.opacity=c.opacity,this.delaunayMesh?this.delaunayMesh.update(F):(F.gl=P,this.delaunayMesh=k(F),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},L.exports=function(c,E){var A=new p(c,E.uid);return A.update(E),A}},21428:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(34098),k=e(49508),y=e(11058),f=e(82410),l=e(44542);L.exports=function(t,s,o,n){function r(x,g){return w.coerce(t,s,l,x,g)}var i=function(x,g,v,T){var c=0,E=v("x"),A=v("y"),C=v("z");return b.getComponentMethod("calendars","handleTraceDefaults")(x,g,["x","y","z"],T),E&&A&&C&&(c=Math.min(E.length,A.length,C.length),g._length=g._xlength=g._ylength=g._zlength=c),c}(t,s,r,n);if(i){r("text"),r("hovertext"),r("hovertemplate"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),r("mode"),a.hasLines(s)&&(r("connectgaps"),y(t,s,o,n,r)),a.hasMarkers(s)&&k(t,s,o,n,r,{noSelect:!0,noAngle:!0}),a.hasText(s)&&(r("texttemplate"),f(t,s,n,r,{noSelect:!0}));var u=(s.line||{}).color,p=(s.marker||{}).color;r("surfaceaxis")>=0&&r("surfacecolor",u||p);for(var h=["x","y","z"],_=0;_<3;++_){var m="projection."+h[_];r(m+".show")&&(r(m+".opacity"),r(m+".scale"))}var d=b.getComponentMethod("errorbars","supplyDefaults");d(t,s,u||p||o,{axis:"z"}),d(t,s,u||p||o,{axis:"y",inherit:"z"}),d(t,s,u||p||o,{axis:"x",inherit:"z"})}else s.visible=!1}},13551:function(L,M,e){"use strict";L.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(L,M,e){"use strict";var b=e(82196),w=e(9012),a=e(5386).fF,k=e(5386).si,y=e(50693),f=e(1426).extendFlat,l=b.marker,t=b.line,s=l.line;L.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:f({},b.mode,{dflt:"markers"}),text:f({},b.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","text"]}),hovertext:f({},b.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:f({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:b.connectgaps,fill:f({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:b.fillcolor,marker:f({symbol:l.symbol,opacity:l.opacity,maxdisplayed:l.maxdisplayed,angle:l.angle,angleref:l.angleref,standoff:l.standoff,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,line:f({width:s.width,editType:"calc"},y("marker.line")),gradient:l.gradient,editType:"calc"},y("marker")),textfont:b.textfont,textposition:b.textposition,selected:b.selected,unselected:b.unselected,hoverinfo:f({},w.hoverinfo,{flags:["a","b","text","name"]}),hoveron:b.hoveron,hovertemplate:a()}},34618:function(L,M,e){"use strict";var b=e(92770),w=e(36922),a=e(75225),k=e(66279),y=e(47761).calcMarkerSize,f=e(22882);L.exports=function(l,t){var s=t._carpetTrace=f(l,t);if(s&&s.visible&&s.visible!=="legendonly"){var o;t.xaxis=s.xaxis,t.yaxis=s.yaxis;var n,r,i=t._length,u=new Array(i),p=!1;for(o=0;o<i;o++)if(n=t.a[o],r=t.b[o],b(n)&&b(r)){var h=s.ab2xy(+n,+r,!0),_=s.isVisible(+n,+r);_||(p=!0),u[o]={x:h[0],y:h[1],a:n,b:r,vis:_}}else u[o]={x:!1,y:!1};return t._needsCull=p,u[0].carpet=s,u[0].trace=t,y(t,i),w(l,t),a(u,t),k(u,t),u}}},98965:function(L,M,e){"use strict";var b=e(71828),w=e(47581),a=e(34098),k=e(49508),y=e(11058),f=e(94039),l=e(82410),t=e(28908),s=e(97001);L.exports=function(o,n,r,i){function u(d,x){return b.coerce(o,n,s,d,x)}u("carpet"),n.xaxis="x",n.yaxis="y";var p=u("a"),h=u("b"),_=Math.min(p.length,h.length);if(_){n._length=_,u("text"),u("texttemplate"),u("hovertext"),u("mode",_<w.PTS_LINESONLY?"lines+markers":"lines"),a.hasLines(n)&&(y(o,n,r,i,u,{backoff:!0}),f(o,n,u),u("connectgaps")),a.hasMarkers(n)&&k(o,n,r,i,u,{gradient:!0}),a.hasText(n)&&l(o,n,i,u);var m=[];(a.hasMarkers(n)||a.hasText(n))&&(u("marker.maxdisplayed"),m.push("points")),u("fill"),n.fill!=="none"&&(t(o,n,r,u),a.hasLines(n)||f(o,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||m.push("fills"),u("hoveron",m.join("+")||"points")!=="fills"&&u("hovertemplate"),b.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},16165:function(L){"use strict";L.exports=function(M,e,b,w,a){var k=w[a];return M.a=k.a,M.b=k.b,M.y=k.y,M}},48953:function(L){"use strict";L.exports=function(M,e){var b={},w=e._carpet,a=w.ab2ij([M.a,M.b]),k=Math.floor(a[0]),y=a[0]-k,f=Math.floor(a[1]),l=a[1]-f,t=w.evalxy([],k,f,y,l);return b.yLabel=t[1].toFixed(3),b}},22931:function(L,M,e){"use strict";var b=e(33720),w=e(71828).fillText;L.exports=function(a,k,y,f){var l=b(a,k,y,f);if(l&&l[0].index!==!1){var t=l[0];if(t.index===void 0){var s=1-t.y0/a.ya._length,o=a.xa._length,n=o*s/2,r=o-n;return t.x0=Math.max(Math.min(t.x0,r),n),t.x1=Math.max(Math.min(t.x1,r),n),l}var i=t.cd[t.index];t.a=i.a,t.b=i.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,p=u._carpet,h=u._module.formatLabels(i,u);t.yLabel=h.yLabel,delete t.text;var _=[];if(!u.hovertemplate){var m=(i.hi||u.hoverinfo).split("+");m.indexOf("all")!==-1&&(m=["a","b","text"]),m.indexOf("a")!==-1&&d(p.aaxis,i.a),m.indexOf("b")!==-1&&d(p.baxis,i.b),_.push("y: "+t.yLabel),m.indexOf("text")!==-1&&w(i,u,_),t.extraText=_.join("<br>")}return l}function d(x,g){var v;v=x.labelprefix&&x.labelprefix.length>0?x.labelprefix.replace(/ = $/,""):x._hovertitle,_.push(v+": "+g.toFixed(3)+x.labelsuffix)}}},46858:function(L,M,e){"use strict";L.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(L,M,e){"use strict";var b=e(32663),w=e(89298),a=e(91424);L.exports=function(k,y,f,l){var t,s,o,n=f[0][0].carpet,r=w.getFromId(k,n.xaxis||"x"),i=w.getFromId(k,n.yaxis||"y"),u={xaxis:r,yaxis:i,plot:y.plot};for(t=0;t<f.length;t++)(s=f[t][0].trace)._xA=r,s._yA=i;for(b(k,u,f,l),t=0;t<f.length;t++)s=f[t][0].trace,o=l.selectAll("g.trace"+s.uid+" .js-line"),a.setClipUrl(o,f[t][0].carpet._clipPathId,k)}},19316:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(82196),k=e(9012),y=e(50693),f=e(79952).P,l=e(1426).extendFlat,t=e(30962).overrideAll,s=a.marker,o=a.line,n=s.line;L.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:l({},a.mode,{dflt:"markers"}),text:l({},a.text,{}),texttemplate:w({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:l({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:o.color,width:o.width,dash:f},connectgaps:a.connectgaps,marker:l({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:l({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:l({width:n.width},y("marker.line")),gradient:s.gradient},y("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:l({},k.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:b()},"calc","nested")},84622:function(L,M,e){"use strict";var b=e(92770),w=e(50606).BADNUM,a=e(36922),k=e(75225),y=e(66279),f=e(71828)._;function l(t){return t&&typeof t=="string"}L.exports=function(t,s){var o,n=Array.isArray(s.locations),r=n?s.locations.length:s._length,i=new Array(r);o=s.geojson?function(d){return l(d)||b(d)}:l;for(var u=0;u<r;u++){var p=i[u]={};if(n){var h=s.locations[u];p.loc=o(h)?h:null}else{var _=s.lon[u],m=s.lat[u];b(_)&&b(m)?p.lonlat=[+_,+m]:p.lonlat=[w,w]}}return k(i,s),a(t,s),y(i,s),r&&(i[0].t={labels:{lat:f(t,"lat:")+" ",lon:f(t,"lon:")+" "}}),i}},10659:function(L,M,e){"use strict";var b=e(71828),w=e(34098),a=e(49508),k=e(11058),y=e(82410),f=e(28908),l=e(19316);L.exports=function(t,s,o,n){function r(d,x){return b.coerce(t,s,l,d,x)}var i,u=r("locations");if(u&&u.length){var p,h=r("geojson");(typeof h=="string"&&h!==""||b.isPlainObject(h))&&(p="geojson-id"),r("locationmode",p)==="geojson-id"&&r("featureidkey"),i=u.length}else{var _=r("lon")||[],m=r("lat")||[];i=Math.min(_.length,m.length)}i?(s._length=i,r("text"),r("hovertext"),r("hovertemplate"),r("mode"),w.hasLines(s)&&(k(t,s,o,n,r),r("connectgaps")),w.hasMarkers(s)&&a(t,s,o,n,r,{gradient:!0}),w.hasText(s)&&(r("texttemplate"),y(t,s,n,r)),r("fill"),s.fill!=="none"&&f(t,s,o,r),b.coerceSelectionMarkerOpacity(s,r)):s.visible=!1}},84084:function(L){"use strict";L.exports=function(M,e,b,w,a){M.lon=e.lon,M.lat=e.lat,M.location=e.loc?e.loc:null;var k=w[a];return k.fIn&&k.fIn.properties&&(M.properties=k.fIn.properties),M}},82719:function(L,M,e){"use strict";var b=e(89298);L.exports=function(w,a,k){var y={},f=k[a.geo]._subplot.mockAxis,l=w.lonlat;return y.lonLabel=b.tickText(f,f.c2l(l[0]),!0).text,y.latLabel=b.tickText(f,f.c2l(l[1]),!0).text,y}},14977:function(L,M,e){"use strict";var b=e(30211),w=e(50606).BADNUM,a=e(34603),k=e(71828).fillText,y=e(19316);L.exports=function(f,l,t){var s=f.cd,o=s[0].trace,n=f.xa,r=f.ya,i=f.subplot,u=i.projection.isLonLatOverEdges,p=i.project;if(b.getClosest(s,function(v){var T=v.lonlat;if(T[0]===w||u(T))return 1/0;var c=p(T),E=p([l,t]),A=Math.abs(c[0]-E[0]),C=Math.abs(c[1]-E[1]),O=Math.max(3,v.mrc||0);return Math.max(Math.sqrt(A*A+C*C)-O,1-3/O)},f),f.index!==!1){var h=s[f.index],_=h.lonlat,m=[n.c2p(_),r.c2p(_)],d=h.mrc||1;f.x0=m[0]-d,f.x1=m[0]+d,f.y0=m[1]-d,f.y1=m[1]+d,f.loc=h.loc,f.lon=_[0],f.lat=_[1];var x={};x[o.geo]={_subplot:i};var g=o._module.formatLabels(h,o,x);return f.lonLabel=g.lonLabel,f.latLabel=g.latLabel,f.color=a(o,h),f.extraText=function(v,T,c,E){if(!v.hovertemplate){var A=T.hi||v.hoverinfo,C=A==="all"?y.hoverinfo.flags:A.split("+"),O=C.indexOf("location")!==-1&&Array.isArray(v.locations),P=C.indexOf("lon")!==-1,D=C.indexOf("lat")!==-1,z=C.indexOf("text")!==-1,V=[];return O?V.push(T.loc):P&&D?V.push("("+F(c.latLabel)+", "+F(c.lonLabel)+")"):P?V.push(E.lon+F(c.lonLabel)):D&&V.push(E.lat+F(c.latLabel)),z&&k(T,v,V),V.join("<br>")}function F(W){return W+"\xB0"}}(o,h,f,s[0].t.labels),f.hovertemplate=o.hovertemplate,[f]}}},17988:function(L,M,e){"use strict";L.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(90973).getTopojsonFeatures,k=e(18214),y=e(41327),f=e(71739).findExtremes,l=e(50606).BADNUM,t=e(47761).calcMarkerSize,s=e(34098),o=e(33095);L.exports={calcGeoJSON:function(n,r){var i,u,p=n[0].trace,h=r[p.geo],_=h._subplot,m=p._length;if(Array.isArray(p.locations)){var d=p.locationmode,x=d==="geojson-id"?y.extractTraceFeature(n):a(p,_.topojson);for(i=0;i<m;i++){u=n[i];var g=d==="geojson-id"?u.fOut:y.locationToFeature(d,u.loc,x);u.lonlat=g?g.properties.ct:[l,l]}}var v,T,c={padded:!0};if(h.fitbounds==="geojson"&&p.locationmode==="geojson-id"){var E=y.computeBbox(y.getTraceGeojson(p));v=[E[0],E[2]],T=[E[1],E[3]]}else{for(v=new Array(m),T=new Array(m),i=0;i<m;i++)u=n[i],v[i]=u.lonlat[0],T[i]=u.lonlat[1];c.ppad=t(p,m)}p._extremes.lon=f(h.lonaxis._ax,v,c),p._extremes.lat=f(h.lataxis._ax,T,c)},plot:function(n,r,i){var u=r.layers.frontplot.select(".scatterlayer"),p=w.makeTraceGroups(u,i,"trace scattergeo");function h(_,m){_.lonlat[0]===l&&b.select(m).remove()}p.selectAll("*").remove(),p.each(function(_){var m=b.select(this),d=_[0].trace;if(s.hasLines(d)||d.fill!=="none"){var x=k.calcTraceToLineCoords(_),g=d.fill!=="none"?k.makePolygon(x):k.makeLine(x);m.selectAll("path.js-line").data([{geojson:g,trace:d}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}s.hasMarkers(d)&&m.selectAll("path.point").data(w.identity).enter().append("path").classed("point",!0).each(function(v){h(v,this)}),s.hasText(d)&&m.selectAll("g").data(w.identity).enter().append("g").append("text").each(function(v){h(v,this)}),o(n,_)})}}},20548:function(L,M,e){"use strict";var b=e(34098),w=e(50606).BADNUM;L.exports=function(a,k){var y,f,l,t,s,o=a.cd,n=a.xaxis,r=a.yaxis,i=[],u=o[0].trace;if(!b.hasMarkers(u)&&!b.hasText(u))return[];if(k===!1)for(s=0;s<o.length;s++)o[s].selected=0;else for(s=0;s<o.length;s++)(f=(y=o[s]).lonlat)[0]!==w&&(l=n.c2p(f),t=r.c2p(f),k.contains([l,t],null,s,a)?(i.push({pointNumber:s,lon:f[0],lat:f[1]}),y.selected=1):y.selected=0);return i}},33095:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(7901),k=e(16296),y=k.stylePoints,f=k.styleText;L.exports=function(l,t){t&&function(s,o){var n=o[0].trace,r=o[0].node3;r.style("opacity",o[0].trace.opacity),y(r,n,s),f(r,n,s),r.selectAll("path.js-line").style("fill","none").each(function(i){var u=b.select(this),p=i.trace,h=p.line||{};u.call(a.stroke,h.color).call(w.dashLine,h.dash||"",h.width||0),p.fill!=="none"&&u.call(a.fill,p.fillcolor)})}(l,t)}},42341:function(L,M,e){"use strict";var b=e(9012),w=e(82196),a=e(12663).axisHoverFormat,k=e(50693),y=e(78607),f=e(1426).extendFlat,l=e(30962).overrideAll,t=e(78232).DASHES,s=w.line,o=w.marker,n=o.line,r=L.exports=l({x:w.x,x0:w.x0,dx:w.dx,y:w.y,y0:w.y0,dy:w.dy,xperiod:w.xperiod,yperiod:w.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:w.xperiodalignment,yperiodalignment:w.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:w.text,hovertext:w.hovertext,textposition:w.textposition,textfont:w.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:y(t),dflt:"solid"}},marker:f({},k("marker"),{symbol:o.symbol,angle:o.angle,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:o.opacity,colorbar:o.colorbar,line:f({},k("marker.line"),{width:n.width})}),connectgaps:w.connectgaps,fill:f({},w.fill,{dflt:"none"}),fillcolor:w.fillcolor,selected:{marker:w.selected.marker,textfont:w.selected.textfont},unselected:{marker:w.unselected.marker,textfont:w.unselected.textfont},opacity:b.opacity},"calc","nested");r.x.editType=r.y.editType=r.x0.editType=r.y0.editType="calc+clearAxisTypes",r.hovertemplate=w.hovertemplate,r.texttemplate=w.texttemplate},72156:function(L,M,e){"use strict";var b=e(20794);L.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:b.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(L,M,e){"use strict";var b=e(88294),w=e(71828),a=e(41675),k=e(71739).findExtremes,y=e(42973),f=e(47761),l=f.calcMarkerSize,t=f.calcAxisExpansion,s=f.setFirstScatter,o=e(36922),n=e(19635),r=e(38967),i=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;function p(h,_,m){var d=h._extremes[_._id],x=k(_,m._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}L.exports=function(h,_){var m,d=h._fullLayout,x=_._xA=a.getFromId(h,_.xaxis,"x"),g=_._yA=a.getFromId(h,_.yaxis,"y"),v=d._plots[_.xaxis+_.yaxis],T=_._length,c=T>=u,E=2*T,A={},C=x.makeCalcdata(_,"x"),O=g.makeCalcdata(_,"y"),P=y(_,x,"x",C),D=y(_,g,"y",O),z=P.vals,V=D.vals;_._x=z,_._y=V,_.xperiodalignment&&(_._origX=C,_._xStarts=P.starts,_._xEnds=P.ends),_.yperiodalignment&&(_._origY=O,_._yStarts=D.starts,_._yEnds=D.ends);var F=new Array(E),W=new Array(T);for(m=0;m<T;m++)F[2*m]=z[m]===i?NaN:z[m],F[2*m+1]=V[m]===i?NaN:V[m],W[m]=m;if(x.type==="log")for(m=0;m<E;m+=2)F[m]=x.c2l(F[m]);if(g.type==="log")for(m=1;m<E;m+=2)F[m]=g.c2l(F[m]);c&&x.type!=="log"&&g.type!=="log"?A.tree=b(F):A.ids=W,o(h,_);var B,U=function(q,ee,K,J,Z,$){var ne=n.style(q,K);if(ne.marker&&(ne.marker.positions=J),ne.line&&J.length>1&&w.extendFlat(ne.line,n.linePositions(q,K,J)),ne.errorX||ne.errorY){var ae=n.errorBarPositions(q,K,J,Z,$);ne.errorX&&w.extendFlat(ne.errorX,ae.x),ne.errorY&&w.extendFlat(ne.errorY,ae.y)}return ne.text&&(w.extendFlat(ne.text,{positions:J},n.textPosition(q,K,ne.text,ne.marker)),w.extendFlat(ne.textSel,{positions:J},n.textPosition(q,K,ne.text,ne.markerSel)),w.extendFlat(ne.textUnsel,{positions:J},n.textPosition(q,K,ne.text,ne.markerUnsel))),ne}(h,0,_,F,z,V),H=r(h,v);return s(d,_),c?U.marker&&(B=U.marker.sizeAvg||Math.max(U.marker.size,3)):B=l(_,T),t(h,_,x,g,z,V,B),U.errorX&&p(_,x,U.errorX),U.errorY&&p(_,g,U.errorY),U.fill&&!H.fill2d&&(H.fill2d=!0),U.marker&&!H.scatter2d&&(H.scatter2d=!0),U.line&&!H.line2d&&(H.line2d=!0),!U.errorX&&!U.errorY||H.error2d||(H.error2d=!0),U.text&&!H.glText&&(H.glText=!0),U.marker&&(U.marker.snap=T),H.lineOptions.push(U.line),H.errorXOptions.push(U.errorX),H.errorYOptions.push(U.errorY),H.fillOptions.push(U.fill),H.markerOptions.push(U.marker),H.markerSelectedOptions.push(U.markerSel),H.markerUnselectedOptions.push(U.markerUnsel),H.textOptions.push(U.text),H.textSelectedOptions.push(U.textSel),H.textUnselectedOptions.push(U.textUnsel),H.selectBatch.push([]),H.unselectBatch.push([]),A._scene=H,A.index=H.count,A.x=z,A.y=V,A.positions=F,H.count++,[{x:!1,y:!1,t:A,trace:_}]}},78232:function(L){"use strict";L.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(L,M,e){"use strict";var b=e(92770),w=e(82019),a=e(25075),k=e(73972),y=e(71828),f=e(91424),l=e(41675),t=e(81697).formatColor,s=e(34098),o=e(39984),n=e(68645),r=e(78232),i=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},p=e(23469).appendArrayPointValue;function h(C,O){var P,D=C._fullLayout,z=O._length,V=O.textfont,F=O.textposition,W=Array.isArray(F)?F:[F],B=V.color,U=V.size,H=V.family,q={},ee=C._context.plotGlPixelRatio,K=O.texttemplate;if(K){q.text=[];var J=D._d3locale,Z=Array.isArray(K),$=Z?Math.min(K.length,z):z,ne=Z?function(ve){return K[ve]}:function(){return K};for(P=0;P<$;P++){var ae={i:P},oe=O._module.formatLabels(ae,O,D),se={};p(se,O,P);var ce=O._meta||{};q.text.push(y.texttemplateString(ne(P),oe,J,se,ae,ce))}}else Array.isArray(O.text)&&O.text.length<z?q.text=O.text.slice():q.text=O.text;if(Array.isArray(q.text))for(P=q.text.length;P<z;P++)q.text[P]="";for(q.opacity=O.opacity,q.font={},q.align=[],q.baseline=[],P=0;P<W.length;P++){var me=W[P].split(/\s+/);switch(me[1]){case"left":q.align.push("right");break;case"right":q.align.push("left");break;default:q.align.push(me[1])}switch(me[0]){case"top":q.baseline.push("bottom");break;case"bottom":q.baseline.push("top");break;default:q.baseline.push(me[0])}}if(Array.isArray(B))for(q.color=new Array(z),P=0;P<z;P++)q.color[P]=B[P];else q.color=B;if(y.isArrayOrTypedArray(U)||Array.isArray(H))for(q.font=new Array(z),P=0;P<z;P++){var xe=q.font[P]={};xe.size=(y.isTypedArray(U)?U[P]:Array.isArray(U)?b(U[P])?U[P]:0:U)*ee,xe.family=Array.isArray(H)?H[P]:H}else q.font={size:U*ee,family:H};return q}function _(C,O){var P,D,z=O._length,V=O.marker,F={},W=y.isArrayOrTypedArray(V.symbol),B=y.isArrayOrTypedArray(V.angle),U=y.isArrayOrTypedArray(V.color),H=y.isArrayOrTypedArray(V.line.color),q=y.isArrayOrTypedArray(V.opacity),ee=y.isArrayOrTypedArray(V.size),K=y.isArrayOrTypedArray(V.line.width);if(W||(D=n.isOpenSymbol(V.symbol)),W||U||H||q||B){F.symbols=new Array(z),F.angles=new Array(z),F.colors=new Array(z),F.borderColors=new Array(z);var J=V.symbol,Z=V.angle,$=t(V,V.opacity,z),ne=t(V.line,V.opacity,z);if(!Array.isArray(ne[0])){var ae=ne;for(ne=Array(z),P=0;P<z;P++)ne[P]=ae}if(!Array.isArray($[0])){var oe=$;for($=Array(z),P=0;P<z;P++)$[P]=oe}if(!Array.isArray(J)){var se=J;for(J=Array(z),P=0;P<z;P++)J[P]=se}if(!Array.isArray(Z)){var ce=Z;for(Z=Array(z),P=0;P<z;P++)Z[P]=ce}for(F.symbols=J,F.angles=Z,F.colors=$,F.borderColors=ne,P=0;P<z;P++)W&&(D=n.isOpenSymbol(V.symbol[P])),D&&(ne[P]=$[P].slice(),$[P]=$[P].slice(),$[P][3]=0);for(F.opacity=O.opacity,F.markers=new Array(z),P=0;P<z;P++)F.markers[P]=A({mx:F.symbols[P],ma:F.angles[P]},O)}else D?(F.color=a(V.color,"uint8"),F.color[3]=0,F.borderColor=a(V.color,"uint8")):(F.color=a(V.color,"uint8"),F.borderColor=a(V.line.color,"uint8")),F.opacity=O.opacity*V.opacity,F.marker=A({mx:V.symbol,ma:V.angle},O);var me,xe=o(O,1);if(ee||K){var ve,fe=F.sizes=new Array(z),pe=F.borderSizes=new Array(z),Le=0;if(ee){for(P=0;P<z;P++)fe[P]=xe(V.size[P]),Le+=fe[P];ve=Le/z}else for(me=xe(V.size),P=0;P<z;P++)fe[P]=me;if(K)for(P=0;P<z;P++)pe[P]=V.line.width[P];else for(me=V.line.width,P=0;P<z;P++)pe[P]=me;F.sizeAvg=ve}else F.size=xe(V&&V.size||10),F.borderSizes=xe(V.line.width);return F}function m(C,O,P){var D=O.marker,z={};return P&&(P.marker&&P.marker.symbol?z=_(0,y.extendFlat({},D,P.marker)):P.marker&&(P.marker.size&&(z.size=P.marker.size),P.marker.color&&(z.colors=P.marker.color),P.marker.opacity!==void 0&&(z.opacity=P.marker.opacity))),z}function d(C,O,P){var D={};if(!P)return D;if(P.textfont){var z={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:y.extendFlat({},O.textfont)};P.textfont&&y.extendFlat(z.textfont,P.textfont),D=h(C,z)}return D}function x(C,O,P){var D={capSize:2*O.width*P,lineWidth:O.thickness*P,color:O.color};return O.copy_ystyle&&(D=C.error_y),D}var g=r.SYMBOL_SDF_SIZE,v=r.SYMBOL_SIZE,T=r.SYMBOL_STROKE,c={},E=f.symbolFuncs[0](.05*v);function A(C,O){var P,D,z=C.mx;if(z==="circle")return null;var V=f.symbolNumber(z),F=f.symbolFuncs[V%100],W=!!f.symbolNoDot[V%100],B=!!f.symbolNoFill[V%100],U=n.isDotSymbol(z);if(C.ma&&(z+="_"+C.ma),c[z])return c[z];var H=f.getMarkerAngle(C,O);return P=U&&!W?F(1.1*v,H)+E:F(v,H),D=w(P,{w:g,h:g,viewBox:[-v,-v,v,v],stroke:B?T:-T}),c[z]=D,D||null}L.exports={style:function(C,O){var P,D={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=C._context.plotGlPixelRatio;if(O.visible!==!0)return D;if(s.hasText(O)&&(D.text=h(C,O),D.textSel=d(C,O,O.selected),D.textUnsel=d(C,O,O.unselected)),s.hasMarkers(O)&&(D.marker=_(0,O),D.markerSel=m(0,O,O.selected),D.markerUnsel=m(0,O,O.unselected),!O.unselected&&y.isArrayOrTypedArray(O.marker.opacity))){var V=O.marker.opacity;for(D.markerUnsel.opacity=new Array(V.length),P=0;P<V.length;P++)D.markerUnsel.opacity[P]=i*V[P]}if(s.hasLines(O)){D.line={overlay:!0,thickness:O.line.width*z,color:O.line.color,opacity:O.opacity};var F=(r.DASHES[O.line.dash]||[1]).slice();for(P=0;P<F.length;++P)F[P]*=O.line.width*z;D.line.dashes=F}return O.error_x&&O.error_x.visible&&(D.errorX=x(O,O.error_x,z)),O.error_y&&O.error_y.visible&&(D.errorY=x(O,O.error_y,z)),O.fill&&O.fill!=="none"&&(D.fill={closed:!0,fill:O.fillcolor,thickness:0}),D},markerStyle:_,markerSelection:m,linePositions:function(C,O,P){var D,z,V=P.length,F=V/2;if(s.hasLines(O)&&F)if(O.line.shape==="hv"){for(D=[],z=0;z<F-1;z++)isNaN(P[2*z])||isNaN(P[2*z+1])?D.push(NaN,NaN,NaN,NaN):(D.push(P[2*z],P[2*z+1]),isNaN(P[2*z+2])||isNaN(P[2*z+3])?D.push(NaN,NaN):D.push(P[2*z+2],P[2*z+1]));D.push(P[V-2],P[V-1])}else if(O.line.shape==="hvh"){for(D=[],z=0;z<F-1;z++)if(isNaN(P[2*z])||isNaN(P[2*z+1])||isNaN(P[2*z+2])||isNaN(P[2*z+3]))isNaN(P[2*z])||isNaN(P[2*z+1])?D.push(NaN,NaN):D.push(P[2*z],P[2*z+1]),D.push(NaN,NaN);else{var W=(P[2*z]+P[2*z+2])/2;D.push(P[2*z],P[2*z+1],W,P[2*z+1],W,P[2*z+3])}D.push(P[V-2],P[V-1])}else if(O.line.shape==="vhv"){for(D=[],z=0;z<F-1;z++)if(isNaN(P[2*z])||isNaN(P[2*z+1])||isNaN(P[2*z+2])||isNaN(P[2*z+3]))isNaN(P[2*z])||isNaN(P[2*z+1])?D.push(NaN,NaN):D.push(P[2*z],P[2*z+1]),D.push(NaN,NaN);else{var B=(P[2*z+1]+P[2*z+3])/2;D.push(P[2*z],P[2*z+1],P[2*z],B,P[2*z+2],B)}D.push(P[V-2],P[V-1])}else if(O.line.shape==="vh"){for(D=[],z=0;z<F-1;z++)isNaN(P[2*z])||isNaN(P[2*z+1])?D.push(NaN,NaN,NaN,NaN):(D.push(P[2*z],P[2*z+1]),isNaN(P[2*z+2])||isNaN(P[2*z+3])?D.push(NaN,NaN):D.push(P[2*z],P[2*z+3]));D.push(P[V-2],P[V-1])}else D=P;var U=!1;for(z=0;z<D.length;z++)if(isNaN(D[z])){U=!0;break}var H=U||D.length>r.TOO_MANY_POINTS||s.hasMarkers(O)?"rect":"round";if(U&&O.connectgaps){var q=D[0],ee=D[1];for(z=0;z<D.length;z+=2)isNaN(D[z])||isNaN(D[z+1])?(D[z]=q,D[z+1]=ee):(q=D[z],ee=D[z+1])}return{join:H,positions:D}},errorBarPositions:function(C,O,P,D,z){var V=k.getComponentMethod("errorbars","makeComputeError"),F=l.getFromId(C,O.xaxis,"x"),W=l.getFromId(C,O.yaxis,"y"),B=P.length/2,U={};function H(q,ee){var K=ee._id.charAt(0),J=O["error_"+K];if(J&&J.visible&&(ee.type==="linear"||ee.type==="log")){for(var Z=V(J),$={x:0,y:1}[K],ne={x:[0,1,2,3],y:[2,3,0,1]}[K],ae=new Float64Array(4*B),oe=1/0,se=-1/0,ce=0,me=0;ce<B;ce++,me+=4){var xe=q[ce];if(b(xe)){var ve=P[2*ce+$],fe=Z(xe,ce),pe=fe[0],Le=fe[1];if(b(pe)&&b(Le)){var ye=xe-pe,Ae=xe+Le;ae[me+ne[0]]=ve-ee.c2l(ye),ae[me+ne[1]]=ee.c2l(Ae)-ve,ae[me+ne[2]]=0,ae[me+ne[3]]=0,oe=Math.min(oe,xe-pe),se=Math.max(se,xe+Le)}}}U[K]={positions:P,errors:ae,_bnds:[oe,se]}}}return H(D,F),H(z,W),U},textPosition:function(C,O,P,D){var z,V=O._length,F={};if(s.hasMarkers(O)){var W=P.font,B=P.align,U=P.baseline;for(F.offset=new Array(V),z=0;z<V;z++){var H=D.sizes?D.sizes[z]:D.size,q=Array.isArray(W)?W[z].size:W.size,ee=Array.isArray(B)?B.length>1?B[z]:B[0]:B,K=Array.isArray(U)?U.length>1?U[z]:U[0]:U,J=u[ee],Z=u[K],$=H?H/.8+1:0,ne=-Z*$-.5*Z;F.offset[z]=[J*$/q,ne/q]}}return F}}},47148:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=e(68645),k=e(42341),y=e(47581),f=e(34098),l=e(67513),t=e(73927),s=e(49508),o=e(11058),n=e(28908),r=e(82410);L.exports=function(i,u,p,h){function _(E,A){return b.coerce(i,u,k,E,A)}var m=!!i.marker&&a.isOpenSymbol(i.marker.symbol),d=f.isBubble(i),x=l(i,u,h,_);if(x){t(i,u,h,_),_("xhoverformat"),_("yhoverformat");var g=x<y.PTS_LINESONLY?"lines+markers":"lines";_("text"),_("hovertext"),_("hovertemplate"),_("mode",g),f.hasLines(u)&&(_("connectgaps"),o(i,u,p,h,_),_("line.shape")),f.hasMarkers(u)&&(s(i,u,p,h,_,{noAngleRef:!0,noStandOff:!0}),_("marker.line.width",m||d?1:0)),f.hasText(u)&&(_("texttemplate"),r(i,u,h,_));var v=(u.line||{}).color,T=(u.marker||{}).color;_("fill"),u.fill!=="none"&&n(i,u,p,_);var c=w.getComponentMethod("errorbars","supplyDefaults");c(i,u,v||T||p,{axis:"y"}),c(i,u,v||T||p,{axis:"x",inherit:"y"}),b.coerceSelectionMarkerOpacity(u,_)}else u.visible=!1}},5345:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(37822).DESELECTDIM;L.exports={styleTextSelection:function(k){var y,f,l=k[0],t=l.trace,s=l.t,o=s._scene,n=s.index,r=o.selectBatch[n],i=o.unselectBatch[n],u=o.textOptions[n],p=o.textSelectedOptions[n]||{},h=o.textUnselectedOptions[n]||{},_=b.extendFlat({},u);if(r.length||i.length){var m=p.color,d=h.color,x=u.color,g=Array.isArray(x);for(_.color=new Array(t._length),y=0;y<r.length;y++)f=r[y],_.color[f]=m||(g?x[f]:x);for(y=0;y<i.length;y++){f=i[y];var v=g?x[f]:x;_.color[f]=d||(m?v:w.addOpacity(v,a))}}o.glText[n].update(_)}}},68101:function(L,M,e){"use strict";var b=e(8225);L.exports=function(w,a,k){var y=w.i;return"x"in w||(w.x=a._x[y]),"y"in w||(w.y=a._y[y]),b(w,a,k)}},68645:function(L,M,e){"use strict";var b=e(78232);M.isOpenSymbol=function(w){return typeof w=="string"?b.OPEN_RE.test(w):w%200>100},M.isDotSymbol=function(w){return typeof w=="string"?b.DOT_RE.test(w):w>200}},20794:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(34603);function k(y,f,l,t){var s=y.xa,o=y.ya,n=y.distance,r=y.dxy,i=y.index,u={pointNumber:i,x:f[i],y:l[i]};u.tx=Array.isArray(t.text)?t.text[i]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[i]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[i]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[i]:t.textposition;var p=t.textfont;p&&(u.ts=w.isArrayOrTypedArray(p.size)?p.size[i]:p.size,u.tc=Array.isArray(p.color)?p.color[i]:p.color,u.tf=Array.isArray(p.family)?p.family[i]:p.family);var h=t.marker;h&&(u.ms=w.isArrayOrTypedArray(h.size)?h.size[i]:h.size,u.mo=w.isArrayOrTypedArray(h.opacity)?h.opacity[i]:h.opacity,u.mx=w.isArrayOrTypedArray(h.symbol)?h.symbol[i]:h.symbol,u.ma=w.isArrayOrTypedArray(h.angle)?h.angle[i]:h.angle,u.mc=w.isArrayOrTypedArray(h.color)?h.color[i]:h.color);var _=h&&h.line;_&&(u.mlc=Array.isArray(_.color)?_.color[i]:_.color,u.mlw=w.isArrayOrTypedArray(_.width)?_.width[i]:_.width);var m=h&&h.gradient;m&&m.type!=="none"&&(u.mgt=Array.isArray(m.type)?m.type[i]:m.type,u.mgc=Array.isArray(m.color)?m.color[i]:m.color);var d=s.c2p(u.x,!0),x=o.c2p(u.y,!0),g=u.mrc||1,v=t.hoverlabel;v&&(u.hbg=Array.isArray(v.bgcolor)?v.bgcolor[i]:v.bgcolor,u.hbc=Array.isArray(v.bordercolor)?v.bordercolor[i]:v.bordercolor,u.hts=w.isArrayOrTypedArray(v.font.size)?v.font.size[i]:v.font.size,u.htc=Array.isArray(v.font.color)?v.font.color[i]:v.font.color,u.htf=Array.isArray(v.font.family)?v.font.family[i]:v.font.family,u.hnl=w.isArrayOrTypedArray(v.namelength)?v.namelength[i]:v.namelength);var T=t.hoverinfo;T&&(u.hi=Array.isArray(T)?T[i]:T);var c=t.hovertemplate;c&&(u.ht=Array.isArray(c)?c[i]:c);var E={};E[y.index]=u;var A=t._origX,C=t._origY,O=w.extendFlat({},y,{color:a(t,u),x0:d-g,x1:d+g,xLabelVal:A?A[i]:u.x,y0:x-g,y1:x+g,yLabelVal:C?C[i]:u.y,cd:E,distance:n,spikeDistance:r,hovertemplate:u.ht});return u.htx?O.text=u.htx:u.tx?O.text=u.tx:t.text&&(O.text=t.text),w.fillText(u,t,O),b.getComponentMethod("errorbars","hoverInfo")(u,t,O),O}L.exports={hoverPoints:function(y,f,l,t){var s,o,n,r,i,u,p,h,_,m,d=y.cd,x=d[0].t,g=d[0].trace,v=y.xa,T=y.ya,c=x.x,E=x.y,A=v.c2p(f),C=T.c2p(l),O=y.distance;if(x.tree){var P=v.p2c(A-O),D=v.p2c(A+O),z=T.p2c(C-O),V=T.p2c(C+O);s=t==="x"?x.tree.range(Math.min(P,D),Math.min(T._rl[0],T._rl[1]),Math.max(P,D),Math.max(T._rl[0],T._rl[1])):x.tree.range(Math.min(P,D),Math.min(z,V),Math.max(P,D),Math.max(z,V))}else s=x.ids;var F=O;if(t==="x"){var W=!!g.xperiodalignment,B=!!g.yperiodalignment;for(u=0;u<s.length;u++){if(r=c[o=s[u]],p=Math.abs(v.c2p(r)-A),W){var U=v.c2p(g._xStarts[o]),H=v.c2p(g._xEnds[o]);p=A>=Math.min(U,H)&&A<=Math.max(U,H)?0:1/0}if(p<F){if(F=p,i=E[o],h=T.c2p(i)-C,B){var q=T.c2p(g._yStarts[o]),ee=T.c2p(g._yEnds[o]);h=C>=Math.min(q,ee)&&C<=Math.max(q,ee)?0:1/0}m=Math.sqrt(p*p+h*h),n=s[u]}}}else for(u=s.length-1;u>-1;u--)r=c[o=s[u]],i=E[o],p=v.c2p(r)-A,h=T.c2p(i)-C,(_=Math.sqrt(p*p+h*h))<F&&(F=m=_,n=o);return y.index=n,y.distance=F,y.dxy=m,n===void 0?[y]:[k(y,c,E,g)]},calcHover:k}},68868:function(L,M,e){"use strict";var b=e(72156);b.plot=e(26787),L.exports=b},26787:function(L,M,e){"use strict";var b=e(11870),w=e(46075),a=e(3593),k=e(42505),y=e(71828),f=e(64505).selectMode,l=e(79749),t=e(34098),s=e(68687),o=e(5345).styleTextSelection,n={};function r(i,u,p,h){var _=i._size,m=i.width*h,d=i.height*h,x=_.l*h,g=_.b*h,v=_.r*h,T=_.t*h,c=_.w*h,E=_.h*h;return[x+u.domain[0]*c,g+p.domain[0]*E,m-v-(1-u.domain[1])*c,d-T-(1-p.domain[1])*E]}(L.exports=function(i,u,p){if(p.length){var h,_,m=i._fullLayout,d=u._scene,x=u.xaxis,g=u.yaxis;if(d)if(l(i,["ANGLE_instanced_arrays","OES_element_index_uint"],n)){var v=d.count,T=m._glcanvas.data()[0].regl;if(s(i,u,p),d.dirty){if(d.error2d===!0&&(d.error2d=a(T)),d.line2d===!0&&(d.line2d=w(T)),d.scatter2d===!0&&(d.scatter2d=b(T)),d.fill2d===!0&&(d.fill2d=w(T)),d.glText===!0)for(d.glText=new Array(v),h=0;h<v;h++)d.glText[h]=new k(T);if(d.glText){if(v>d.glText.length){var c=v-d.glText.length;for(h=0;h<c;h++)d.glText.push(new k(T))}else if(v<d.glText.length){var E=d.glText.length-v;d.glText.splice(v,E).forEach(function(ae){ae.destroy()})}for(h=0;h<v;h++)d.glText[h].update(d.textOptions[h])}if(d.line2d&&(d.line2d.update(d.lineOptions),d.lineOptions=d.lineOptions.map(function(ae){if(ae&&ae.positions){for(var oe=ae.positions,se=0;se<oe.length&&(isNaN(oe[se])||isNaN(oe[se+1]));)se+=2;for(var ce=oe.length-2;ce>se&&(isNaN(oe[ce])||isNaN(oe[ce+1]));)ce-=2;ae.positions=oe.slice(se,ce+2)}return ae}),d.line2d.update(d.lineOptions)),d.error2d){var A=(d.errorXOptions||[]).concat(d.errorYOptions||[]);d.error2d.update(A)}d.scatter2d&&d.scatter2d.update(d.markerOptions),d.fillOrder=y.repeat(null,v),d.fill2d&&(d.fillOptions=d.fillOptions.map(function(ae,oe){var se=p[oe];if(ae&&se&&se[0]&&se[0].trace){var ce,me,xe=se[0],ve=xe.trace,fe=xe.t,pe=d.lineOptions[oe],Le=[];ve._ownfill&&Le.push(oe),ve._nexttrace&&Le.push(oe+1),Le.length&&(d.fillOrder[oe]=Le);var ye,Ae,Me=[],ke=pe&&pe.positions||fe.positions;if(ve.fill==="tozeroy"){for(ye=0;ye<ke.length&&isNaN(ke[ye+1]);)ye+=2;for(Ae=ke.length-2;Ae>ye&&isNaN(ke[Ae+1]);)Ae-=2;ke[ye+1]!==0&&(Me=[ke[ye],0]),Me=Me.concat(ke.slice(ye,Ae+2)),ke[Ae+1]!==0&&(Me=Me.concat([ke[Ae],0]))}else if(ve.fill==="tozerox"){for(ye=0;ye<ke.length&&isNaN(ke[ye]);)ye+=2;for(Ae=ke.length-2;Ae>ye&&isNaN(ke[Ae]);)Ae-=2;ke[ye]!==0&&(Me=[0,ke[ye+1]]),Me=Me.concat(ke.slice(ye,Ae+2)),ke[Ae]!==0&&(Me=Me.concat([0,ke[Ae+1]]))}else if(ve.fill==="toself"||ve.fill==="tonext"){for(Me=[],ce=0,ae.splitNull=!0,me=0;me<ke.length;me+=2)(isNaN(ke[me])||isNaN(ke[me+1]))&&((Me=Me.concat(ke.slice(ce,me))).push(ke[ce],ke[ce+1]),Me.push(null,null),ce=me+2);Me=Me.concat(ke.slice(ce)),ce&&Me.push(ke[ce],ke[ce+1])}else{var te=ve._nexttrace;if(te){var ue=d.lineOptions[oe+1];if(ue){var ge=ue.positions;if(ve.fill==="tonexty"){for(Me=ke.slice(),oe=Math.floor(ge.length/2);oe--;){var we=ge[2*oe],Ee=ge[2*oe+1];isNaN(we)||isNaN(Ee)||Me.push(we,Ee)}ae.fill=te.fillcolor}}}}if(ve._prevtrace&&ve._prevtrace.fill==="tonext"){var Be=d.lineOptions[oe-1].positions,Re=Me.length/2,je=[ce=Re];for(me=0;me<Be.length;me+=2)(isNaN(Be[me])||isNaN(Be[me+1]))&&(je.push(me/2+Re+1),ce=me+2);Me=Me.concat(Be),ae.hole=je}return ae.fillmode=ve.fill,ae.opacity=ve.opacity,ae.positions=Me,ae}}),d.fill2d.update(d.fillOptions))}var C=m.dragmode,O=f(C),P=m.clickmode.indexOf("select")>-1;for(h=0;h<v;h++){var D=p[h][0],z=D.trace,V=D.t,F=V.index,W=z._length,B=V.x,U=V.y;if(z.selectedpoints||O||P){if(O||(O=!0),z.selectedpoints){var H=d.selectBatch[F]=y.selIndices2selPoints(z),q={};for(_=0;_<H.length;_++)q[H[_]]=1;var ee=[];for(_=0;_<W;_++)q[_]||ee.push(_);d.unselectBatch[F]=ee}var K=V.xpx=new Array(W),J=V.ypx=new Array(W);for(_=0;_<W;_++)K[_]=x.c2p(B[_]),J[_]=g.c2p(U[_])}else V.xpx=V.ypx=null}if(O){if(d.select2d||(d.select2d=b(m._glcanvas.data()[1].regl)),d.scatter2d){var Z=new Array(v);for(h=0;h<v;h++)Z[h]=d.selectBatch[h].length||d.unselectBatch[h].length?d.markerUnselectedOptions[h]:{};d.scatter2d.update(Z)}d.select2d&&(d.select2d.update(d.markerOptions),d.select2d.update(d.markerSelectedOptions)),d.glText&&p.forEach(function(ae){var oe=((ae||[])[0]||{}).trace||{};t.hasText(oe)&&o(ae)})}else d.scatter2d&&d.scatter2d.update(d.markerOptions);var $={viewport:r(m,x,g,i._context.plotGlPixelRatio),range:[(x._rl||x.range)[0],(g._rl||g.range)[0],(x._rl||x.range)[1],(g._rl||g.range)[1]]},ne=y.repeat($,d.count);d.fill2d&&d.fill2d.update(ne),d.line2d&&d.line2d.update(ne),d.error2d&&d.error2d.update(ne.concat(ne)),d.scatter2d&&d.scatter2d.update(ne),d.select2d&&d.select2d.update(ne),d.glText&&d.glText.forEach(function(ae){ae.update($)})}else d.init()}}).reglPrecompiled=n},38967:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){var k=a._scene,y={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},f={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((k=a._scene={}).init=function(){b.extendFlat(k,f,y)},k.init(),k.update=function(l){var t=b.repeat(l,k.count);if(k.fill2d&&k.fill2d.update(t),k.scatter2d&&k.scatter2d.update(t),k.line2d&&k.line2d.update(t),k.error2d&&k.error2d.update(t.concat(t)),k.select2d&&k.select2d.update(t),k.glText)for(var s=0;s<k.count;s++)k.glText[s].update(l)},k.draw=function(){for(var l=k.count,t=k.fill2d,s=k.error2d,o=k.line2d,n=k.scatter2d,r=k.glText,i=k.select2d,u=k.selectBatch,p=k.unselectBatch,h=0;h<l;h++){if(t&&k.fillOrder[h]&&t.draw(k.fillOrder[h]),o&&k.lineOptions[h]&&o.draw(h),s&&(k.errorXOptions[h]&&s.draw(h),k.errorYOptions[h]&&s.draw(h+l)),n&&k.markerOptions[h])if(p[h].length){var _=b.repeat([],k.count);_[h]=p[h],n.draw(_)}else u[h].length||n.draw(h);r[h]&&k.textOptions[h]&&r[h].render()}i&&i.draw(u),k.dirty=!1},k.destroy=function(){k.fill2d&&k.fill2d.destroy&&k.fill2d.destroy(),k.scatter2d&&k.scatter2d.destroy&&k.scatter2d.destroy(),k.error2d&&k.error2d.destroy&&k.error2d.destroy(),k.line2d&&k.line2d.destroy&&k.line2d.destroy(),k.select2d&&k.select2d.destroy&&k.select2d.destroy(),k.glText&&k.glText.forEach(function(l){l.destroy&&l.destroy()}),k.lineOptions=null,k.fillOptions=null,k.markerOptions=null,k.markerSelectedOptions=null,k.markerUnselectedOptions=null,k.errorXOptions=null,k.errorYOptions=null,k.textOptions=null,k.textSelectedOptions=null,k.textUnselectedOptions=null,k.selectBatch=null,k.unselectBatch=null,a._scene=null}),k.dirty||b.extendFlat(k,y),k}},58147:function(L,M,e){"use strict";var b=e(34098),w=e(5345).styleTextSelection;L.exports=function(a,k){var y=a.cd,f=a.xaxis,l=a.yaxis,t=[],s=y[0].trace,o=y[0].t,n=s._length,r=o.x,i=o.y,u=o._scene,p=o.index;if(!u)return t;var h=b.hasText(s),_=b.hasMarkers(s),m=!_&&!h;if(s.visible!==!0||m)return t;var d=[],x=[];if(k!==!1&&!k.degenerate)for(var g=0;g<n;g++)k.contains([o.xpx[g],o.ypx[g]],!1,g,a)?(d.push(g),t.push({pointNumber:g,x:f.c2d(r[g]),y:l.c2d(i[g])})):x.push(g);if(_){var v=u.scatter2d;if(d.length||x.length){if(!u.selectBatch[p].length&&!u.unselectBatch[p].length){var T=new Array(u.count);T[p]=u.markerUnselectedOptions[p],v.update.apply(v,T)}}else{var c=new Array(u.count);c[p]=u.markerOptions[p],v.update.apply(v,c)}}return u.selectBatch[p]=d,u.unselectBatch[p]=x,h&&w(y),t}},99181:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(19316),k=e(82196),y=e(23585),f=e(9012),l=e(50693),t=e(1426).extendFlat,s=e(30962).overrideAll,o=e(23585),n=a.line,r=a.marker;L.exports=s({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},o.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},r.opacity,{dflt:1})},mode:t({},k.mode,{dflt:"markers"}),text:t({},k.text,{}),texttemplate:w({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},k.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:k.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:r.opacity,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode},l("marker")),fill:a.fill,fillcolor:k.fillcolor,textfont:y.layers.symbol.textfont,textposition:y.layers.symbol.textposition,below:{valType:"string"},selected:{marker:k.selected.marker},unselected:{marker:k.unselected.marker},hoverinfo:t({},f.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:b()},"calc","nested")},15790:function(L,M,e){"use strict";var b=e(92770),w=e(71828),a=e(50606).BADNUM,k=e(18214),y=e(21081),f=e(91424),l=e(39984),t=e(34098),s=e(13056),o=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,r=e(63893).BR_TAG_ALL;function i(m){return{type:m,geojson:k.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(m,d){return w.isArrayOrTypedArray(m)?d?function(x){return b(m[x])?+m[x]:0}:function(x){return m[x]}:m?function(){return m}:p}function p(){return""}function h(m){return m[0]===a}function _(m,d){var x;if(w.isArrayOrTypedArray(m)&&w.isArrayOrTypedArray(d)){x=["step",["get","point_count"],m[0]];for(var g=1;g<m.length;g++)x.push(d[g-1],m[g])}else x=m;return x}L.exports=function(m,d){var x,g=d[0].trace,v=g.visible===!0&&g._length!==0,T=g.fill!=="none",c=t.hasLines(g),E=t.hasMarkers(g),A=t.hasText(g),C=E&&g.marker.symbol==="circle",O=E&&g.marker.symbol!=="circle",P=g.cluster&&g.cluster.enabled,D=i("fill"),z=i("line"),V=i("circle"),F=i("symbol"),W={fill:D,line:z,circle:V,symbol:F};if(!v)return W;if((T||c)&&(x=k.calcTraceToLineCoords(d)),T&&(D.geojson=k.makePolygon(x),D.layout.visibility="visible",w.extendFlat(D.paint,{"fill-color":g.fillcolor})),c&&(z.geojson=k.makeLine(x),z.layout.visibility="visible",w.extendFlat(z.paint,{"line-width":g.line.width,"line-color":g.line.color,"line-opacity":g.opacity})),C){var B=function(q){var ee,K,J,Z,$=q[0].trace,ne=$.marker,ae=$.selectedpoints,oe=w.isArrayOrTypedArray(ne.color),se=w.isArrayOrTypedArray(ne.size),ce=w.isArrayOrTypedArray(ne.opacity);function me(Me){return $.opacity*Me}oe&&(K=y.hasColorscale($,"marker")?y.makeColorScaleFuncFromTrace(ne):w.identity),se&&(J=l($)),ce&&(Z=function(Me){return me(b(Me)?+w.constrain(Me,0,1):0)});var xe,ve,fe=[];for(ee=0;ee<q.length;ee++){var pe=q[ee],Le=pe.lonlat;if(!h(Le)){var ye={};K&&(ye.mcc=pe.mcc=K(pe.mc)),J&&(ye.mrc=pe.mrc=J(pe.ms)),Z&&(ye.mo=Z(pe.mo)),ae&&(ye.selected=pe.selected||0),fe.push({type:"Feature",id:ee+1,geometry:{type:"Point",coordinates:Le},properties:ye})}}if(ae)for(xe=f.makeSelectedPointStyleFns($),ee=0;ee<fe.length;ee++){var Ae=fe[ee].properties;xe.selectedOpacityFn&&(Ae.mo=me(xe.selectedOpacityFn(Ae))),xe.selectedColorFn&&(Ae.mcc=xe.selectedColorFn(Ae)),xe.selectedSizeFn&&(Ae.mrc=xe.selectedSizeFn(Ae))}return{geojson:{type:"FeatureCollection",features:fe},mcc:oe||xe&&xe.selectedColorFn?{type:"identity",property:"mcc"}:ne.color,mrc:se||xe&&xe.selectedSizeFn?{type:"identity",property:"mrc"}:(ve=ne.size,ve/2),mo:ce||xe&&xe.selectedOpacityFn?{type:"identity",property:"mo"}:me(ne.opacity)}}(d);V.geojson=B.geojson,V.layout.visibility="visible",P&&(V.filter=["!",["has","point_count"]],W.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":_(g.cluster.color,g.cluster.step),"circle-radius":_(g.cluster.size,g.cluster.step),"circle-opacity":_(g.cluster.opacity,g.cluster.step)}},W.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),w.extendFlat(V.paint,{"circle-color":B.mcc,"circle-radius":B.mrc,"circle-opacity":B.mo})}if(C&&P&&(V.filter=["!",["has","point_count"]]),(O||A)&&(F.geojson=function(q,ee){for(var K=ee._fullLayout,J=q[0].trace,Z=J.marker||{},$=Z.symbol,ne=Z.angle,ae=$!=="circle"?u($):p,oe=ne!=="auto"?u(ne,!0):p,se=t.hasText(J)?u(J.text):p,ce=[],me=0;me<q.length;me++){var xe=q[me];if(!h(xe.lonlat)){var ve,fe=J.texttemplate;if(fe){var pe=Array.isArray(fe)?fe[me]||"":fe,Le=J._module.formatLabels(xe,J,K),ye={};o(ye,J,xe.i);var Ae=J._meta||{};ve=w.texttemplateString(pe,Le,K._d3locale,ye,xe,Ae)}else ve=se(me);ve&&(ve=ve.replace(n,"").replace(r,`
`)),ce.push({type:"Feature",geometry:{type:"Point",coordinates:xe.lonlat},properties:{symbol:ae(me),angle:oe(me),text:ve}})}}return{type:"FeatureCollection",features:ce}}(d,m),w.extendFlat(F.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),O&&(w.extendFlat(F.layout,{"icon-size":g.marker.size/10}),"angle"in g.marker&&g.marker.angle!=="auto"&&w.extendFlat(F.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),F.layout["icon-allow-overlap"]=g.marker.allowoverlap,w.extendFlat(F.paint,{"icon-opacity":g.opacity*g.marker.opacity,"icon-color":g.marker.color})),A)){var U=(g.marker||{}).size,H=s(g.textposition,U);w.extendFlat(F.layout,{"text-size":g.textfont.size,"text-anchor":H.anchor,"text-offset":H.offset}),w.extendFlat(F.paint,{"text-color":g.textfont.color,"text-opacity":g.opacity})}return W}},76645:function(L,M,e){"use strict";var b=e(71828),w=e(34098),a=e(49508),k=e(11058),y=e(82410),f=e(28908),l=e(99181);L.exports=function(t,s,o,n){function r(g,v){return b.coerce(t,s,l,g,v)}function i(g,v){return b.coerce2(t,s,l,g,v)}var u=function(g,v,T){var c=T("lon")||[],E=T("lat")||[],A=Math.min(c.length,E.length);return v._length=A,A}(0,s,r);if(u){if(r("text"),r("texttemplate"),r("hovertext"),r("hovertemplate"),r("mode"),r("below"),w.hasLines(s)&&(k(t,s,o,n,r,{noDash:!0}),r("connectgaps")),w.hasMarkers(s)){a(t,s,o,n,r,{noLine:!0,noAngle:!0}),r("marker.allowoverlap"),r("marker.angle");var p=s.marker;p.symbol!=="circle"&&(b.isArrayOrTypedArray(p.size)&&(p.size=p.size[0]),b.isArrayOrTypedArray(p.color)&&(p.color=p.color[0]))}var h=i("cluster.maxzoom"),_=i("cluster.step"),m=i("cluster.color",s.marker&&s.marker.color||o),d=i("cluster.size"),x=i("cluster.opacity");r("cluster.enabled",h!==!1||_!==!1||m!==!1||d!==!1||x!==!1),w.hasText(s)&&y(t,s,n,r,{noSelect:!0}),r("fill"),s.fill!=="none"&&f(t,s,o,r),b.coerceSelectionMarkerOpacity(s,r)}else s.visible=!1}},53353:function(L){"use strict";L.exports=function(M,e){return M.lon=e.lon,M.lat=e.lat,M}},15636:function(L,M,e){"use strict";var b=e(89298);L.exports=function(w,a,k){var y={},f=k[a.subplot]._subplot.mockAxis,l=w.lonlat;return y.lonLabel=b.tickText(f,f.c2l(l[0]),!0).text,y.latLabel=b.tickText(f,f.c2l(l[1]),!0).text,y}},28178:function(L,M,e){"use strict";var b=e(30211),w=e(71828),a=e(34603),k=w.fillText,y=e(50606).BADNUM,f=e(77734).traceLayerPrefix;function l(t,s,o){if(!t.hovertemplate){var n=(s.hi||t.hoverinfo).split("+"),r=n.indexOf("all")!==-1,i=n.indexOf("lon")!==-1,u=n.indexOf("lat")!==-1,p=s.lonlat,h=[];return r||i&&u?h.push("("+_(p[1])+", "+_(p[0])+")"):i?h.push(o.lon+_(p[0])):u&&h.push(o.lat+_(p[1])),(r||n.indexOf("text")!==-1)&&k(s,t,h),h.join("<br>")}function _(m){return m+"\xB0"}}L.exports={hoverPoints:function(t,s,o){var n=t.cd,r=n[0].trace,i=t.xa,u=t.ya,p=t.subplot,h=[],_=f+r.uid+"-circle",m=r.cluster&&r.cluster.enabled;if(m){var d=p.map.queryRenderedFeatures(null,{layers:[_]});h=d.map(function(D){return D.id})}var x=360*(s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360)),g=s-x;if(b.getClosest(n,function(D){var z=D.lonlat;if(z[0]===y||m&&h.indexOf(D.i+1)===-1)return 1/0;var V=w.modHalf(z[0],360),F=z[1],W=p.project([V,F]),B=W.x-i.c2p([g,F]),U=W.y-u.c2p([V,o]),H=Math.max(3,D.mrc||0);return Math.max(Math.sqrt(B*B+U*U)-H,1-3/H)},t),t.index!==!1){var v=n[t.index],T=v.lonlat,c=[w.modHalf(T[0],360)+x,T[1]],E=i.c2p(c),A=u.c2p(c),C=v.mrc||1;t.x0=E-C,t.x1=E+C,t.y0=A-C,t.y1=A+C;var O={};O[r.subplot]={_subplot:p};var P=r._module.formatLabels(v,r,O);return t.lonLabel=P.lonLabel,t.latLabel=P.latLabel,t.color=a(r,v),t.extraText=l(r,v,n[0].t.labels),t.hovertemplate=r.hovertemplate,[t]}},getExtraText:l}},20467:function(L,M,e){"use strict";L.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(b,w){w&&w[0].trace._glTrace.update(w)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(L,M,e){"use strict";var b=e(71828),w=e(15790),a=e(77734).traceLayerPrefix,k={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function y(l,t,s,o){this.type="scattermapbox",this.subplot=l,this.uid=t,this.clusterEnabled=s,this.isHidden=o,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var f=y.prototype;f.addSource=function(l,t,s){var o={type:"geojson",data:t.geojson};s&&s.enabled&&b.extendFlat(o,{cluster:!0,clusterMaxZoom:s.maxzoom}),this.subplot.map.addSource(this.sourceIds[l],o)},f.setSourceData=function(l,t){this.subplot.map.getSource(this.sourceIds[l]).setData(t.geojson)},f.addLayer=function(l,t,s){var o={type:t.type,id:this.layerIds[l],source:this.sourceIds[l],layout:t.layout,paint:t.paint};t.filter&&(o.filter=t.filter),this.subplot.addLayer(o,s)},f.update=function(l){var t=l[0].trace,s=this.subplot,o=s.map,n=w(s.gd,l),r=s.belowLookup["trace-"+this.uid],i=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,p=this;function h(g){u?function(v){for(var T=k.cluster,c=T.length-1;c>=0;c--){var E=T[c];o.removeLayer(p.layerIds[E])}v||o.removeSource(p.sourceIds.circle)}(g):function(v){for(var T=k.nonCluster,c=T.length-1;c>=0;c--){var E=T[c];o.removeLayer(p.layerIds[E]),v||o.removeSource(p.sourceIds[E])}}(g)}function _(g){i?function(v){v||p.addSource("circle",n.circle,t.cluster);for(var T=k.cluster,c=0;c<T.length;c++){var E=T[c],A=n[E];p.addLayer(E,A,r)}}(g):function(v){for(var T=k.nonCluster,c=0;c<T.length;c++){var E=T[c],A=n[E];v||p.addSource(E,A),p.addLayer(E,A,r)}}(g)}function m(){for(var g=i?k.cluster:k.nonCluster,v=0;v<g.length;v++){var T=g[v],c=n[T];c&&(s.setOptions(p.layerIds[T],"setLayoutProperty",c.layout),c.layout.visibility==="visible"&&(T!=="cluster"&&p.setSourceData(T,c),s.setOptions(p.layerIds[T],"setPaintProperty",c.paint)))}}var d=this.isHidden,x=t.visible!==!0;x?d||h():d?x||_():u!==i?(h(),_()):(this.below!==r&&(h(!0),_(!0)),m()),this.clusterEnabled=i,this.isHidden=x,this.below=r,l[0].trace._glTrace=this},f.dispose=function(){for(var l=this.subplot.map,t=this.clusterEnabled?k.cluster:k.nonCluster,s=t.length-1;s>=0;s--){var o=t[s];l.removeLayer(this.layerIds[o]),l.removeSource(this.sourceIds[o])}},L.exports=function(l,t){var s,o,n,r=t[0].trace,i=r.cluster&&r.cluster.enabled,u=r.visible!==!0,p=new y(l,r.uid,i,u),h=w(l.gd,t),_=p.below=l.belowLookup["trace-"+r.uid];if(i)for(p.addSource("circle",h.circle,r.cluster),s=0;s<k.cluster.length;s++)n=h[o=k.cluster[s]],p.addLayer(o,n,_);else for(s=0;s<k.nonCluster.length;s++)n=h[o=k.nonCluster[s]],p.addSource(o,n,r.cluster),p.addLayer(o,n,_);return t[0].trace._glTrace=p,p}},86387:function(L,M,e){"use strict";var b=e(71828),w=e(34098),a=e(50606).BADNUM;L.exports=function(k,y){var f,l=k.cd,t=k.xaxis,s=k.yaxis,o=[],n=l[0].trace;if(!w.hasMarkers(n))return[];if(y===!1)for(f=0;f<l.length;f++)l[f].selected=0;else for(f=0;f<l.length;f++){var r=l[f],i=r.lonlat;if(i[0]!==a){var u=[b.modHalf(i[0],360),i[1]],p=[t.c2p(u),s.c2p(u)];y.contains(p,null,f,k)?(o.push({pointNumber:f,lon:i[0],lat:i[1]}),r.selected=1):r.selected=0}}return o}},81245:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(1426).extendFlat,k=e(82196),y=e(9012),f=k.line;L.exports={mode:k.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:k.text,texttemplate:w({editType:"plot"},{keys:["r","theta","text"]}),hovertext:k.hovertext,line:{color:f.color,width:f.width,dash:f.dash,backoff:f.backoff,shape:a({},f.shape,{values:["linear","spline"]}),smoothing:f.smoothing,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,cliponaxis:a({},k.cliponaxis,{dflt:!1}),textposition:k.textposition,textfont:k.textfont,fill:a({},k.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:k.fillcolor,hoverinfo:a({},y.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:k.hoveron,hovertemplate:b(),selected:k.selected,unselected:k.unselected}},26442:function(L,M,e){"use strict";var b=e(92770),w=e(50606).BADNUM,a=e(89298),k=e(36922),y=e(75225),f=e(66279),l=e(47761).calcMarkerSize;L.exports=function(t,s){for(var o=t._fullLayout,n=s.subplot,r=o[n].radialaxis,i=o[n].angularaxis,u=r.makeCalcdata(s,"r"),p=i.makeCalcdata(s,"theta"),h=s._length,_=new Array(h),m=0;m<h;m++){var d=u[m],x=p[m],g=_[m]={};b(d)&&b(x)?(g.r=d,g.theta=x):g.r=w}var v=l(s,h);return s._extremes.x=a.findExtremes(r,u,{ppad:v}),k(t,s),y(_,s),f(_,s),_}},22184:function(L,M,e){"use strict";var b=e(71828),w=e(34098),a=e(49508),k=e(11058),y=e(94039),f=e(82410),l=e(28908),t=e(47581).PTS_LINESONLY,s=e(81245);function o(n,r,i,u){var p,h=u("r"),_=u("theta");if(h)_?p=Math.min(h.length,_.length):(p=h.length,u("theta0"),u("dtheta"));else{if(!_)return 0;p=r.theta.length,u("r0"),u("dr")}return r._length=p,p}L.exports={handleRThetaDefaults:o,supplyDefaults:function(n,r,i,u){function p(m,d){return b.coerce(n,r,s,m,d)}var h=o(0,r,0,p);if(h){p("thetaunit"),p("mode",h<t?"lines+markers":"lines"),p("text"),p("hovertext"),r.hoveron!=="fills"&&p("hovertemplate"),w.hasLines(r)&&(k(n,r,i,u,p,{backoff:!0}),y(n,r,p),p("connectgaps")),w.hasMarkers(r)&&a(n,r,i,u,p,{gradient:!0}),w.hasText(r)&&(p("texttemplate"),f(n,r,u,p));var _=[];(w.hasMarkers(r)||w.hasText(r))&&(p("cliponaxis"),p("marker.maxdisplayed"),_.push("points")),p("fill"),r.fill!=="none"&&(l(n,r,i,p),w.hasLines(r)||y(n,r,p)),r.fill!=="tonext"&&r.fill!=="toself"||_.push("fills"),p("hoveron",_.join("+")||"points"),b.coerceSelectionMarkerOpacity(r,p)}else r.visible=!1}}},98608:function(L,M,e){"use strict";var b=e(71828),w=e(89298);L.exports=function(a,k,y){var f,l,t={},s=y[k.subplot]._subplot;s?(f=s.radialAxis,l=s.angularAxis):(f=(s=y[k.subplot]).radialaxis,l=s.angularaxis);var o=f.c2l(a.r);t.rLabel=w.tickText(f,o,!0).text;var n=l.thetaunit==="degrees"?b.rad2deg(a.theta):a.theta;return t.thetaLabel=w.tickText(l,n,!0).text,t}},59150:function(L,M,e){"use strict";var b=e(33720);function w(a,k,y,f){var l=y.radialAxis,t=y.angularAxis;l._hovertitle="r",t._hovertitle="\u03B8";var s={};s[k.subplot]={_subplot:y};var o=k._module.formatLabels(a,k,s);f.rLabel=o.rLabel,f.thetaLabel=o.thetaLabel;var n=a.hi||k.hoverinfo,r=[];function i(p,h){r.push(p._hovertitle+": "+h)}if(!k.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&i(l,f.rLabel),u.indexOf("theta")!==-1&&i(t,f.thetaLabel),u.indexOf("text")!==-1&&f.text&&(r.push(f.text),delete f.text),f.extraText=r.join("<br>")}}L.exports={hoverPoints:function(a,k,y,f){var l=b(a,k,y,f);if(l&&l[0].index!==!1){var t=l[0];if(t.index===void 0)return l;var s=a.subplot,o=t.cd[t.index],n=t.trace;if(s.isPtInside(o))return t.xLabelVal=void 0,t.yLabelVal=void 0,w(o,n,s,t),t.hovertemplate=n.hovertemplate,l}},makeHoverPointText:w}},91271:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(L,M,e){"use strict";var b=e(32663),w=e(50606).BADNUM;L.exports=function(a,k,y){for(var f=k.layers.frontplot.select("g.scatterlayer"),l=k.xaxis,t=k.yaxis,s={xaxis:l,yaxis:t,plot:k.framework,layerClipId:k._hasClipOnAxisFalse?k.clipIds.forTraces:null},o=k.radialAxis,n=k.angularAxis,r=0;r<y.length;r++)for(var i=y[r],u=0;u<i.length;u++){u===0&&(i[0].trace._xA=l,i[0].trace._yA=t);var p=i[u],h=p.r;if(h===w)p.x=p.y=w;else{var _=o.c2g(h),m=n.c2g(p.theta);p.x=_*Math.cos(m),p.y=_*Math.sin(m)}}b(a,s,y,f)}},53286:function(L,M,e){"use strict";var b=e(81245),w=e(42341),a=e(5386).si;L.exports={mode:b.mode,r:b.r,theta:b.theta,r0:b.r0,dr:b.dr,theta0:b.theta0,dtheta:b.dtheta,thetaunit:b.thetaunit,text:b.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,hovertemplate:b.hovertemplate,line:w.line,connectgaps:w.connectgaps,marker:w.marker,fill:w.fill,fillcolor:w.fillcolor,textposition:w.textposition,textfont:w.textfont,hoverinfo:b.hoverinfo,selected:b.selected,unselected:b.unselected}},65746:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(L,M,e){"use strict";var b=e(36922),w=e(47761).calcMarkerSize,a=e(19635),k=e(89298),y=e(78232).TOO_MANY_POINTS;L.exports=function(f,l){var t=f._fullLayout,s=l.subplot,o=t[s].radialaxis,n=t[s].angularaxis,r=l._r=o.makeCalcdata(l,"r"),i=l._theta=n.makeCalcdata(l,"theta"),u=l._length,p={};u<r.length&&(r=r.slice(0,u)),u<i.length&&(i=i.slice(0,u)),p.r=r,p.theta=i,b(f,l);var h,_=p.opts=a.style(f,l);return u<y?h=w(l,u):_.marker&&(h=2*(_.marker.sizeAvg||Math.max(_.marker.size,3))),l._extremes.x=k.findExtremes(o,r,{ppad:h}),[{x:!1,y:!1,t:p,trace:l}]}},75485:function(L,M,e){"use strict";var b=e(71828),w=e(34098),a=e(22184).handleRThetaDefaults,k=e(49508),y=e(11058),f=e(82410),l=e(28908),t=e(47581).PTS_LINESONLY,s=e(53286);L.exports=function(o,n,r,i){function u(h,_){return b.coerce(o,n,s,h,_)}var p=a(o,n,i,u);p?(u("thetaunit"),u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),w.hasLines(n)&&(y(o,n,r,i,u),u("connectgaps")),w.hasMarkers(n)&&k(o,n,r,i,u,{noAngleRef:!0,noStandOff:!0}),w.hasText(n)&&(u("texttemplate"),f(o,n,i,u)),u("fill"),n.fill!=="none"&&l(o,n,r,u),b.coerceSelectionMarkerOpacity(n,u)):n.visible=!1}},46255:function(L,M,e){"use strict";var b=e(98608);L.exports=function(w,a,k){var y=w.i;return"r"in w||(w.r=a._r[y]),"theta"in w||(w.theta=a._theta[y]),b(w,a,k)}},29347:function(L,M,e){"use strict";var b=e(20794),w=e(59150).makeHoverPointText;L.exports={hoverPoints:function(a,k,y,f){var l=a.cd[0].t,t=l.r,s=l.theta,o=b.hoverPoints(a,k,y,f);if(o&&o[0].index!==!1){var n=o[0];if(n.index===void 0)return o;var r=a.subplot,i=n.cd[n.index],u=n.trace;if(i.r=t[n.index],i.theta=s[n.index],r.isPtInside(i))return n.xLabelVal=void 0,n.yLabelVal=void 0,w(i,u,r,n),o}}}},21461:function(L,M,e){"use strict";var b=e(65746);b.plot=e(49741),L.exports=b},49741:function(L,M,e){"use strict";var b=e(88294),w=e(92770),a=e(26787),k=e(38967),y=e(19635),f=e(71828),l=e(78232).TOO_MANY_POINTS;L.exports=function(t,s,o){if(o.length){var n=s.radialAxis,r=s.angularAxis,i=k(t,s);return o.forEach(function(u){if(u&&u[0]&&u[0].trace){var p,h=u[0],_=h.trace,m=h.t,d=_._length,x=m.r,g=m.theta,v=m.opts,T=x.slice(),c=g.slice();for(p=0;p<x.length;p++)s.isPtInside({r:x[p],theta:g[p]})||(T[p]=NaN,c[p]=NaN);var E=new Array(2*d),A=Array(d),C=Array(d);for(p=0;p<d;p++){var O,P,D=T[p];if(w(D)){var z=n.c2g(D),V=r.c2g(c[p],_.thetaunit);O=z*Math.cos(V),P=z*Math.sin(V)}else O=P=NaN;A[p]=E[2*p]=O,C[p]=E[2*p+1]=P}m.tree=b(E),v.marker&&d>=l&&(v.marker.cluster=m.tree),v.marker&&(v.markerSel.positions=v.markerUnsel.positions=v.marker.positions=E),v.line&&E.length>1&&f.extendFlat(v.line,y.linePositions(t,_,E)),v.text&&(f.extendFlat(v.text,{positions:E},y.textPosition(t,_,v.text,v.marker)),f.extendFlat(v.textSel,{positions:E},y.textPosition(t,_,v.text,v.markerSel)),f.extendFlat(v.textUnsel,{positions:E},y.textPosition(t,_,v.text,v.markerUnsel))),v.fill&&!i.fill2d&&(i.fill2d=!0),v.marker&&!i.scatter2d&&(i.scatter2d=!0),v.line&&!i.line2d&&(i.line2d=!0),v.text&&!i.glText&&(i.glText=!0),i.lineOptions.push(v.line),i.fillOptions.push(v.fill),i.markerOptions.push(v.marker),i.markerSelectedOptions.push(v.markerSel),i.markerUnselectedOptions.push(v.markerUnsel),i.textOptions.push(v.text),i.textSelectedOptions.push(v.textSel),i.textUnselectedOptions.push(v.textUnsel),i.selectBatch.push([]),i.unselectBatch.push([]),m.x=A,m.y=C,m.rawx=A,m.rawy=C,m.r=x,m.theta=g,m.positions=E,m._scene=i,m.index=i.count,i.count++}}),a(t,s,o)}},L.exports.reglPrecompiled={}},48300:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(1426).extendFlat,k=e(82196),y=e(9012),f=k.line;L.exports={mode:k.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:k.text,texttemplate:w({editType:"plot"},{keys:["real","imag","text"]}),hovertext:k.hovertext,line:{color:f.color,width:f.width,dash:f.dash,backoff:f.backoff,shape:a({},f.shape,{values:["linear","spline"]}),smoothing:f.smoothing,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,cliponaxis:a({},k.cliponaxis,{dflt:!1}),textposition:k.textposition,textfont:k.textfont,fill:a({},k.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:k.fillcolor,hoverinfo:a({},y.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:k.hoveron,hovertemplate:b(),selected:k.selected,unselected:k.unselected}},30621:function(L,M,e){"use strict";var b=e(92770),w=e(50606).BADNUM,a=e(36922),k=e(75225),y=e(66279),f=e(47761).calcMarkerSize;L.exports=function(l,t){for(var s=l._fullLayout,o=t.subplot,n=s[o].realaxis,r=s[o].imaginaryaxis,i=n.makeCalcdata(t,"real"),u=r.makeCalcdata(t,"imag"),p=t._length,h=new Array(p),_=0;_<p;_++){var m=i[_],d=u[_],x=h[_]={};b(m)&&b(d)?(x.real=m,x.imag=d):x.real=w}return f(t,p),a(l,t),k(h,t),y(h,t),h}},65269:function(L,M,e){"use strict";var b=e(71828),w=e(34098),a=e(49508),k=e(11058),y=e(94039),f=e(82410),l=e(28908),t=e(47581).PTS_LINESONLY,s=e(48300);L.exports=function(o,n,r,i){function u(_,m){return b.coerce(o,n,s,_,m)}var p=function(_,m,d,x){var g,v=x("real"),T=x("imag");return v&&T&&(g=Math.min(v.length,T.length)),m._length=g,g}(0,n,0,u);if(p){u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),w.hasLines(n)&&(k(o,n,r,i,u,{backoff:!0}),y(o,n,u),u("connectgaps")),w.hasMarkers(n)&&a(o,n,r,i,u,{gradient:!0}),w.hasText(n)&&(u("texttemplate"),f(o,n,i,u));var h=[];(w.hasMarkers(n)||w.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),h.push("points")),u("fill"),n.fill!=="none"&&(l(o,n,r,u),w.hasLines(n)||y(o,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||h.push("fills"),u("hoveron",h.join("+")||"points"),b.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},62047:function(L,M,e){"use strict";var b=e(89298);L.exports=function(w,a,k){var y={},f=k[a.subplot]._subplot;return y.realLabel=b.tickText(f.radialAxis,w.real,!0).text,y.imagLabel=b.tickText(f.angularAxis,w.imag,!0).text,y}},11350:function(L,M,e){"use strict";var b=e(33720);function w(a,k,y,f){var l=y.radialAxis,t=y.angularAxis;l._hovertitle="real",t._hovertitle="imag";var s={};s[k.subplot]={_subplot:y};var o=k._module.formatLabels(a,k,s);f.realLabel=o.realLabel,f.imagLabel=o.imagLabel;var n=a.hi||k.hoverinfo,r=[];function i(p,h){r.push(p._hovertitle+": "+h)}if(!k.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&i(l,f.realLabel),u.indexOf("imag")!==-1&&i(t,f.imagLabel),u.indexOf("text")!==-1&&f.text&&(r.push(f.text),delete f.text),f.extraText=r.join("<br>")}}L.exports={hoverPoints:function(a,k,y,f){var l=b(a,k,y,f);if(l&&l[0].index!==!1){var t=l[0];if(t.index===void 0)return l;var s=a.subplot,o=t.cd[t.index],n=t.trace;if(s.isPtInside(o))return t.xLabelVal=void 0,t.yLabelVal=void 0,w(o,n,s,t),t.hovertemplate=n.hovertemplate,l}},makeHoverPointText:w}},85956:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(L,M,e){"use strict";var b=e(32663),w=e(50606).BADNUM,a=e(23893).smith;L.exports=function(k,y,f){for(var l=y.layers.frontplot.select("g.scatterlayer"),t=y.xaxis,s=y.yaxis,o={xaxis:t,yaxis:s,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},n=0;n<f.length;n++)for(var r=f[n],i=0;i<r.length;i++){i===0&&(r[0].trace._xA=t,r[0].trace._yA=s);var u=r[i],p=u.real;if(p===w)u.x=u.y=w;else{var h=a([p,u.imag]);u.x=h[0],u.y=h[1]}}b(k,o,f,l)}},50413:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(82196),k=e(9012),y=e(50693),f=e(79952).P,l=e(1426).extendFlat,t=a.marker,s=a.line,o=t.line;L.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:l({},a.mode,{dflt:"markers"}),text:l({},a.text,{}),texttemplate:w({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:l({},a.hovertext,{}),line:{color:s.color,width:s.width,dash:f,backoff:s.backoff,shape:l({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:l({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:l({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:l({width:o.width,editType:"calc"},y("marker.line")),gradient:t.gradient,editType:"calc"},y("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:l({},k.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:b()}},54337:function(L,M,e){"use strict";var b=e(92770),w=e(36922),a=e(75225),k=e(66279),y=e(47761).calcMarkerSize,f=["a","b","c"],l={a:["b","c"],b:["a","c"],c:["a","b"]};L.exports=function(t,s){var o,n,r,i,u,p,h=t._fullLayout[s.subplot].sum,_=s.sum||h,m={a:s.a,b:s.b,c:s.c};for(o=0;o<f.length;o++)if(!m[r=f[o]]){for(u=m[l[r][0]],p=m[l[r][1]],i=new Array(u.length),n=0;n<u.length;n++)i[n]=_-u[n]-p[n];m[r]=i}var d,x,g,v,T,c,E=s._length,A=new Array(E);for(o=0;o<E;o++)d=m.a[o],x=m.b[o],g=m.c[o],b(d)&&b(x)&&b(g)?((v=h/((d=+d)+(x=+x)+(g=+g)))!=1&&(d*=v,x*=v,g*=v),c=d,T=g-x,A[o]={x:T,y:c,a:d,b:x,c:g}):A[o]={x:!1,y:!1};return y(s,E),w(t,s),a(A,s),k(A,s),A}},46008:function(L,M,e){"use strict";var b=e(71828),w=e(47581),a=e(34098),k=e(49508),y=e(11058),f=e(94039),l=e(82410),t=e(28908),s=e(50413);L.exports=function(o,n,r,i){function u(x,g){return b.coerce(o,n,s,x,g)}var p,h=u("a"),_=u("b"),m=u("c");if(h?(p=h.length,_?(p=Math.min(p,_.length),m&&(p=Math.min(p,m.length))):p=m?Math.min(p,m.length):0):_&&m&&(p=Math.min(_.length,m.length)),p){n._length=p,u("sum"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),u("mode",p<w.PTS_LINESONLY?"lines+markers":"lines"),a.hasLines(n)&&(y(o,n,r,i,u,{backoff:!0}),f(o,n,u),u("connectgaps")),a.hasMarkers(n)&&k(o,n,r,i,u,{gradient:!0}),a.hasText(n)&&(u("texttemplate"),l(o,n,i,u));var d=[];(a.hasMarkers(n)||a.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),d.push("points")),u("fill"),n.fill!=="none"&&(t(o,n,r,u),a.hasLines(n)||f(o,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||d.push("fills"),u("hoveron",d.join("+")||"points"),b.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},4524:function(L){"use strict";L.exports=function(M,e,b,w,a){if(e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),w[a]){var k=w[a];M.a=k.a,M.b=k.b,M.c=k.c}else M.a=e.a,M.b=e.b,M.c=e.c;return M}},93645:function(L,M,e){"use strict";var b=e(89298);L.exports=function(w,a,k){var y={},f=k[a.subplot]._subplot;return y.aLabel=b.tickText(f.aaxis,w.a,!0).text,y.bLabel=b.tickText(f.baxis,w.b,!0).text,y.cLabel=b.tickText(f.caxis,w.c,!0).text,y}},47250:function(L,M,e){"use strict";var b=e(33720);L.exports=function(w,a,k,y){var f=b(w,a,k,y);if(f&&f[0].index!==!1){var l=f[0];if(l.index===void 0){var t=1-l.y0/w.ya._length,s=w.xa._length,o=s*t/2,n=s-o;return l.x0=Math.max(Math.min(l.x0,n),o),l.x1=Math.max(Math.min(l.x1,n),o),f}var r=l.cd[l.index],i=l.trace,u=l.subplot;l.a=r.a,l.b=r.b,l.c=r.c,l.xLabelVal=void 0,l.yLabelVal=void 0;var p={};p[i.subplot]={_subplot:u};var h=i._module.formatLabels(r,i,p);l.aLabel=h.aLabel,l.bLabel=h.bLabel,l.cLabel=h.cLabel;var _=r.hi||i.hoverinfo,m=[];if(!i.hovertemplate){var d=_.split("+");d.indexOf("all")!==-1&&(d=["a","b","c"]),d.indexOf("a")!==-1&&x(u.aaxis,l.aLabel),d.indexOf("b")!==-1&&x(u.baxis,l.bLabel),d.indexOf("c")!==-1&&x(u.caxis,l.cLabel)}return l.extraText=m.join("<br>"),l.hovertemplate=i.hovertemplate,f}function x(g,v){m.push(g._hovertitle+": "+v)}}},52979:function(L,M,e){"use strict";L.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(L,M,e){"use strict";var b=e(32663);L.exports=function(w,a,k){var y=a.plotContainer;y.select(".scatterlayer").selectAll("*").remove();for(var f=a.xaxis,l=a.yaxis,t={xaxis:f,yaxis:l,plot:y,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},s=a.layers.frontplot.select("g.scatterlayer"),o=0;o<k.length;o++){var n=k[o];n.length&&(n[0].trace._xA=f,n[0].trace._yA=l)}b(w,t,k,s)}},46880:function(L,M,e){"use strict";var b=e(82196),w=e(50693),a=e(12663).axisHoverFormat,k=e(5386).fF,y=e(42341),f=e(85555).idRegex,l=e(44467).templatedArray,t=e(1426).extendFlat,s=b.marker,o=s.line,n=t(w("marker.line",{editTypeOverride:"calc"}),{width:t({},o.width,{editType:"calc"}),editType:"calc"}),r=t(w("marker"),{symbol:s.symbol,angle:s.angle,size:t({},s.size,{editType:"markerSize"}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:n,editType:"calc"});function i(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:f[u],editType:"plot"}}}r.color.editType=r.cmin.editType=r.cmax.editType="style",L.exports={dimensions:l("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},y.text,{}),hovertext:t({},y.hovertext,{}),hovertemplate:k(),xhoverformat:a("x"),yhoverformat:a("y"),marker:r,xaxes:i("x"),yaxes:i("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:y.selected.marker,editType:"calc"},unselected:{marker:y.unselected.marker,editType:"calc"},opacity:y.opacity}},65017:function(L,M,e){"use strict";var b=e(73972),w=e(83312);L.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},b.register(w)},16947:function(L,M,e){"use strict";var b=e(46075),w=e(73972),a=e(79749),k=e(27659).a0,y=e(93612),f=e(41675).getFromId,l=e(89298).shouldShowZeroLine,t="splom",s={};function o(r,i,u){for(var p=u.matrixOptions.data.length,h=i._visibleDims,_=u.viewOpts.ranges=new Array(p),m=0;m<h.length;m++){var d=h[m],x=_[m]=new Array(4),g=f(r,i._diag[d][0]);g&&(x[0]=g.r2l(g.range[0]),x[2]=g.r2l(g.range[1]));var v=f(r,i._diag[d][1]);v&&(x[1]=v.r2l(v.range[0]),x[3]=v.r2l(v.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:_},{ranges:_}):u.matrix.update({ranges:_})}function n(r){var i=r._fullLayout,u=i._glcanvas.data()[0].regl,p=i._splomGrid;p||(p=i._splomGrid=b(u)),p.update(function(h){var _,m=h._context.plotGlPixelRatio,d=h._fullLayout,x=d._size,g=[0,0,d.width*m,d.height*m],v={};function T(q,ee,K,J,Z,$){K*=m,J*=m,Z*=m,$*=m;var ne=ee[q+"color"],ae=ee[q+"width"],oe=String(ne+ae);oe in v?v[oe].data.push(NaN,NaN,K,J,Z,$):v[oe]={data:[K,J,Z,$],join:"rect",thickness:ae*m,color:ne,viewport:g,range:g,overlay:!1}}for(_ in d._splomSubplots){var c,E,A=d._plots[_],C=A.xaxis,O=A.yaxis,P=C._gridVals,D=O._gridVals,z=C._offset,V=C._length,F=O._length,W=x.b+O.domain[0]*x.h,B=-O._m,U=-B*O.r2l(O.range[0],O.calendar);if(C.showgrid)for(_=0;_<P.length;_++)c=z+C.l2p(P[_].x),T("grid",C,c,W,c,W+F);if(O.showgrid)for(_=0;_<D.length;_++)T("grid",O,z,E=W+U+B*D[_].x,z+V,E);l(h,C,O)&&(c=z+C.l2p(0),T("zeroline",C,c,W,c,W+F)),l(h,O,C)&&T("zeroline",O,z,E=W+U+0,z+V,E)}var H=[];for(_ in v)H.push(v[_]);return H}(r))}L.exports={name:t,attr:y.attr,attrRegex:y.attrRegex,layoutAttributes:y.layoutAttributes,supplyLayoutDefaults:y.supplyLayoutDefaults,drawFramework:y.drawFramework,plot:function(r){var i=r._fullLayout,u=w.getModule(t),p=k(r.calcdata,u)[0];a(r,["ANGLE_instanced_arrays","OES_element_index_uint"],s)&&(i._hasOnlyLargeSploms&&n(r),u.plot(r,{},p))},drag:function(r){var i=r.calcdata,u=r._fullLayout;u._hasOnlyLargeSploms&&n(r);for(var p=0;p<i.length;p++){var h=i[p][0].trace,_=u._splomScenes[h.uid];h.type==="splom"&&_&&_.matrix&&o(r,h,_)}},updateGrid:n,clean:function(r,i,u,p){var h,_={};if(p._splomScenes){for(h=0;h<r.length;h++){var m=r[h];m.type==="splom"&&(_[m.uid]=1)}for(h=0;h<u.length;h++){var d=u[h];if(!_[d.uid]){var x=p._splomScenes[d.uid];x&&x.destroy&&x.destroy(),p._splomScenes[d.uid]=null,delete p._splomScenes[d.uid]}}}Object.keys(p._splomScenes||{}).length===0&&delete p._splomScenes,p._splomGrid&&!i._hasOnlyLargeSploms&&p._hasOnlyLargeSploms&&(p._splomGrid.destroy(),p._splomGrid=null,delete p._splomGrid),y.clean(r,i,u,p)},updateFx:y.updateFx,toSVG:y.toSVG,reglPrecompiled:s}},87625:function(L,M,e){"use strict";var b=e(71828),w=e(41675),a=e(47761).calcMarkerSize,k=e(47761).calcAxisExpansion,y=e(36922),f=e(19635).markerSelection,l=e(19635).markerStyle,t=e(10164),s=e(50606).BADNUM,o=e(78232).TOO_MANY_POINTS;L.exports=function(n,r){var i,u,p,h,_,m,d=r.dimensions,x=r._length,g={},v=g.cdata=[],T=g.data=[],c=r._visibleDims=[];function E(C,O){for(var P=C.makeCalcdata({v:O.values,vcalendar:r.calendar},"v"),D=0;D<P.length;D++)P[D]=P[D]===s?NaN:P[D];v.push(P),T.push(C.type==="log"?b.simpleMap(P,C.c2l):P)}for(i=0;i<d.length;i++)if((p=d[i]).visible){if(h=w.getFromId(n,r._diag[i][0]),_=w.getFromId(n,r._diag[i][1]),h&&_&&h.type!==_.type){b.log("Skipping splom dimension "+i+" with conflicting axis types");continue}h?(E(h,p),_&&_.type==="category"&&(_._categories=h._categories.slice())):E(_,p),c.push(i)}for(y(n,r),b.extendFlat(g,l(n,r)),m=v.length*x>o?g.sizeAvg||Math.max(g.size,3):a(r,x),u=0;u<c.length;u++)p=d[i=c[u]],h=w.getFromId(n,r._diag[i][0])||{},_=w.getFromId(n,r._diag[i][1])||{},k(n,r,h,_,v[u],v[u],m);var A=t(n,r);return A.matrix||(A.matrix=!0),A.matrixOptions=g,A.selectedOptions=f(n,r,r.selected),A.unselectedOptions=f(n,r,r.unselected),[{x:!1,y:!1,t:{},trace:r}]}},25784:function(L,M,e){"use strict";var b=e(71828),w=e(85501),a=e(46880),k=e(34098),y=e(49508),f=e(94397),l=e(68645).isOpenSymbol;function t(s,o){function n(i,u){return b.coerce(s,o,a.dimensions,i,u)}n("label");var r=n("values");r&&r.length?n("visible"):o.visible=!1,n("axis.type"),n("axis.matches")}L.exports=function(s,o,n,r){function i(x,g){return b.coerce(s,o,a,x,g)}var u=w(s,o,{name:"dimensions",handleItemDefaults:t}),p=i("diagonal.visible"),h=i("showupperhalf"),_=i("showlowerhalf");if(f(o,u,"values")&&(p||h||_)){i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),y(s,o,n,r,i,{noAngleRef:!0,noStandOff:!0});var m=l(o.marker.symbol),d=k.isBubble(o);i("marker.line.width",m||d?1:0),function(x,g,v,T){var c,E,A=g.dimensions,C=A.length,O=g.showupperhalf,P=g.showlowerhalf,D=g.diagonal.visible,z=new Array(C),V=new Array(C);for(c=0;c<C;c++){var F=c?c+1:"";z[c]="x"+F,V[c]="y"+F}var W=T("xaxes",z),B=T("yaxes",V),U=g._diag=new Array(C);g._xaxes={},g._yaxes={};var H=[],q=[];function ee(ce,me,xe,ve){if(ce){var fe=ce.charAt(0),pe=v._splomAxes[fe];if(g["_"+fe+"axes"][ce]=1,ve.push(ce),!(ce in pe)){var Le=pe[ce]={};xe&&(Le.label=xe.label||"",xe.visible&&xe.axis&&(xe.axis.type&&(Le.type=xe.axis.type),xe.axis.matches&&(Le.matches=me)))}}}var K=!D&&!P,J=!D&&!O;for(g._axesDim={},c=0;c<C;c++){var Z=A[c],$=c===0,ne=c===C-1,ae=$&&K||ne&&J?void 0:W[c],oe=$&&J||ne&&K?void 0:B[c];ee(ae,oe,Z,H),ee(oe,ae,Z,q),U[c]=[ae,oe],g._axesDim[ae]=c,g._axesDim[oe]=c}for(c=0;c<H.length;c++)for(E=0;E<q.length;E++){var se=H[c]+q[E];c>E&&O||c<E&&P?v._splomSubplots[se]=1:c!==E||!D&&P&&O||(v._splomSubplots[se]=1)}(!P||!D&&O&&P)&&(v._splomGridDflt.xside="bottom",v._splomGridDflt.yside="left")}(0,o,r,i),b.coerceSelectionMarkerOpacity(o,i)}else o.visible=!1}},28801:function(L,M,e){"use strict";var b=e(71828),w=e(36922),a=e(19635).markerStyle;L.exports=function(k,y){var f=y.trace,l=k._fullLayout._splomScenes[f.uid];if(l){w(k,f),b.extendFlat(l.matrixOptions,a(k,f));var t=b.extendFlat({},l.matrixOptions,l.viewOpts);l.matrix.update(t,null)}}},35948:function(L,M){"use strict";M.getDimIndex=function(e,b){for(var w=b._id,a={x:0,y:1}[w.charAt(0)],k=e._visibleDims,y=0;y<k.length;y++){var f=k[y];if(e._diag[f][a]===w)return y}return!1}},8567:function(L,M,e){"use strict";var b=e(35948),w=e(20794).calcHover;L.exports={hoverPoints:function(a,k,y){var f=a.cd[0].trace,l=a.scene.matrixOptions.cdata,t=a.xa,s=a.ya,o=t.c2p(k),n=s.c2p(y),r=a.distance,i=b.getDimIndex(f,t),u=b.getDimIndex(f,s);if(i===!1||u===!1)return[a];for(var p,h,_=l[i],m=l[u],d=r,x=0;x<_.length;x++){var g=_[x],v=m[x],T=t.c2p(g)-o,c=s.c2p(v)-n,E=Math.sqrt(T*T+c*c);E<d&&(d=h=E,p=x)}return a.index=p,a.distance=d,a.dxy=h,p===void 0?[a]:[w(a,_,m,f)]}}},6419:function(L,M,e){"use strict";var b=e(65017);b.basePlotModule=e(16947),L.exports=b},79410:function(L,M,e){"use strict";var b=e(60487),w=e(71828),a=e(41675),k=e(64505).selectMode;function y(f,l){var t,s,o,n,r,i=f._fullLayout,u=i._size,p=l.trace,h=l.t,_=i._splomScenes[p.uid],m=_.matrixOptions,d=m.cdata,x=i._glcanvas.data()[0].regl,g=i.dragmode;if(d.length!==0){m.lower=p.showupperhalf,m.upper=p.showlowerhalf,m.diagonal=p.diagonal.visible;var v=p._visibleDims,T=d.length,c=_.viewOpts={};for(c.ranges=new Array(T),c.domains=new Array(T),r=0;r<v.length;r++){o=v[r];var E=c.ranges[r]=new Array(4),A=c.domains[r]=new Array(4);(t=a.getFromId(f,p._diag[o][0]))&&(E[0]=t._rl[0],E[2]=t._rl[1],A[0]=t.domain[0],A[2]=t.domain[1]),(s=a.getFromId(f,p._diag[o][1]))&&(E[1]=s._rl[0],E[3]=s._rl[1],A[1]=s.domain[0],A[3]=s.domain[1])}var C=f._context.plotGlPixelRatio,O=u.l*C,P=u.b*C,D=u.w*C,z=u.h*C;c.viewport=[O,P,D+O,z+P],_.matrix===!0&&(_.matrix=b(x));var V=i.clickmode.indexOf("select")>-1,F=!0;if(k(g)||p.selectedpoints||V){var W=p._length;if(p.selectedpoints){_.selectBatch=p.selectedpoints;var B=p.selectedpoints,U={};for(o=0;o<B.length;o++)U[B[o]]=!0;var H=[];for(o=0;o<W;o++)U[o]||H.push(o);_.unselectBatch=H}var q=h.xpx=new Array(T),ee=h.ypx=new Array(T);for(r=0;r<v.length;r++){if(o=v[r],t=a.getFromId(f,p._diag[o][0]))for(q[r]=new Array(W),n=0;n<W;n++)q[r][n]=t.c2p(d[r][n]);if(s=a.getFromId(f,p._diag[o][1]))for(ee[r]=new Array(W),n=0;n<W;n++)ee[r][n]=s.c2p(d[r][n])}if(_.selectBatch.length||_.unselectBatch.length){var K=w.extendFlat({},m,_.unselectedOptions,c),J=w.extendFlat({},m,_.selectedOptions,c);_.matrix.update(K,J),F=!1}}else h.xpx=h.ypx=null;if(F){var Z=w.extendFlat({},m,c);_.matrix.update(Z,null)}}}L.exports=function(f,l,t){if(t.length)for(var s=0;s<t.length;s++)y(f,t[s][0])}},10164:function(L,M,e){"use strict";var b=e(71828);L.exports=function(w,a){var k=w._fullLayout,y=a.uid,f=k._splomScenes;f||(f=k._splomScenes={});var l={dirty:!0,selectBatch:[],unselectBatch:[]},t=f[a.uid];return t||((t=f[y]=b.extendFlat({},l,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||b.extendFlat(t,l),t}},8689:function(L,M,e){"use strict";var b=e(71828),w=b.pushUnique,a=e(34098),k=e(35948);L.exports=function(y,f){var l=y.cd,t=l[0].trace,s=l[0].t,o=y.scene,n=o.matrixOptions.cdata,r=y.xaxis,i=y.yaxis,u=[];if(!o)return u;var p=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||p)return u;var h=k.getDimIndex(t,r),_=k.getDimIndex(t,i);if(h===!1||_===!1)return u;var m=s.xpx[h],d=s.ypx[_],x=n[h],g=n[_],v=(y.scene.selectBatch||[]).slice(),T=[];if(f!==!1&&!f.degenerate)for(var c=0;c<x.length;c++)f.contains([m[c],d[c]],null,c,y)?(u.push({pointNumber:c,x:x[c],y:g[c]}),w(v,c)):v.indexOf(c)!==-1?w(v,c):T.push(c);var E=o.matrixOptions;return v.length||T.length?o.selectBatch.length||o.unselectBatch.length||o.matrix.update(o.unselectedOptions,b.extendFlat({},E,o.selectedOptions,o.viewOpts)):o.matrix.update(E,null),o.selectBatch=v,o.unselectBatch=T,u}},21850:function(L,M,e){"use strict";var b=e(50693),w=e(12663).axisHoverFormat,a=e(5386).fF,k=e(2418),y=e(9012),f=e(1426).extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:w("u",1),vhoverformat:w("v",1),whoverformat:w("w",1),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),showlegend:f({},y.showlegend,{dflt:!1})};f(l,b("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){l[t]=k[t]}),l.hoverinfo=f({},y.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,L.exports=l},88489:function(L,M,e){"use strict";var b=e(71828),w=e(78803);function a(f){var l,t,s,o,n,r,i,u,p,h,_,m,d=f._x,x=f._y,g=f._z,v=f._len,T=-1/0,c=1/0,E=-1/0,A=1/0,C=-1/0,O=1/0,P="";for(v&&(i=d[0],p=x[0],_=g[0]),v>1&&(u=d[v-1],h=x[v-1],m=g[v-1]),l=0;l<v;l++)T=Math.max(T,d[l]),c=Math.min(c,d[l]),E=Math.max(E,x[l]),A=Math.min(A,x[l]),C=Math.max(C,g[l]),O=Math.min(O,g[l]),o||d[l]===i||(o=!0,P+="x"),n||x[l]===p||(n=!0,P+="y"),r||g[l]===_||(r=!0,P+="z");o||(P+="x"),n||(P+="y"),r||(P+="z");var D=k(f._x),z=k(f._y),V=k(f._z);P=(P=(P=P.replace("x",(i>u?"-":"+")+"x")).replace("y",(p>h?"-":"+")+"y")).replace("z",(_>m?"-":"+")+"z");var F=function(){v=0,D=[],z=[],V=[]};(!v||v<D.length*z.length*V.length)&&F();var W=function(fe){return fe==="x"?d:fe==="y"?x:g},B=function(fe){return fe==="x"?D:fe==="y"?z:V},U=function(fe){return fe[v-1]<fe[0]?-1:1},H=W(P[1]),q=W(P[3]),ee=W(P[5]),K=B(P[1]).length,J=B(P[3]).length,Z=B(P[5]).length,$=!1,ne=function(fe,pe,Le){return K*(J*fe+pe)+Le},ae=U(W(P[1])),oe=U(W(P[3])),se=U(W(P[5]));for(l=0;l<Z-1;l++){for(t=0;t<J-1;t++){for(s=0;s<K-1;s++){var ce=ne(l,t,s),me=ne(l,t,s+1),xe=ne(l,t+1,s),ve=ne(l+1,t,s);if(H[ce]*ae<H[me]*ae&&q[ce]*oe<q[xe]*oe&&ee[ce]*se<ee[ve]*se||($=!0),$)break}if($)break}if($)break}return $&&(b.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:c,yMin:A,zMin:O,xMax:T,yMax:E,zMax:C,Xs:D,Ys:z,Zs:V,len:v,fill:P}}function k(f){return b.distinctVals(f).vals}function y(f,l){if(l===void 0&&(l=f.length),b.isTypedArray(f))return f.subarray(0,l);for(var t=[],s=0;s<l;s++)t[s]=+f[s];return t}L.exports={calc:function(f,l){l._len=Math.min(l.u.length,l.v.length,l.w.length,l.x.length,l.y.length,l.z.length),l._u=y(l.u,l._len),l._v=y(l.v,l._len),l._w=y(l.w,l._len),l._x=y(l.x,l._len),l._y=y(l.y,l._len),l._z=y(l.z,l._len);var t=a(l);l._gridFill=t.fill,l._Xs=t.Xs,l._Ys=t.Ys,l._Zs=t.Zs,l._len=t.len;var s,o,n,r=0;l.starts&&(s=y(l.starts.x||[]),o=y(l.starts.y||[]),n=y(l.starts.z||[]),r=Math.min(s.length,o.length,n.length)),l._startsX=s||[],l._startsY=o||[],l._startsZ=n||[];var i,u=0,p=1/0;for(i=0;i<l._len;i++){var h=l._u[i],_=l._v[i],m=l._w[i],d=Math.sqrt(h*h+_*_+m*m);u=Math.max(u,d),p=Math.min(p,d)}for(w(f,l,{vals:[p,u],containerStr:"",cLetter:"c"}),i=0;i<r;i++){var x=s[i];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var g=o[i];t.yMax=Math.max(t.yMax,g),t.yMin=Math.min(t.yMin,g);var v=n[i];t.zMax=Math.max(t.zMax,v),t.zMin=Math.min(t.zMin,v)}l._slen=r,l._normMax=u,l._xbnds=[t.xMin,t.xMax],l._ybnds=[t.yMin,t.yMax],l._zbnds=[t.zMin,t.zMax]},filter:y,processGrid:a}},90154:function(L,M,e){"use strict";var b=e(9330).gl_streamtube3d,w=b.createTubeMesh,a=e(71828),k=e(81697).parseColorScale,y=e(21081).extractOpts,f=e(90060),l={xaxis:0,yaxis:1,zaxis:2};function t(i,u){this.scene=i,this.uid=u,this.mesh=null,this.data=null}var s=t.prototype;function o(i){var u=i.length;return u>2?i.slice(1,u-1):u===2?[(i[0]+i[1])/2]:i}function n(i){var u=i.length;return u===1?[.5,.5]:[i[1]-i[0],i[u-1]-i[u-2]]}function r(i,u){var p=i.fullSceneLayout,h=i.dataScale,_=u._len,m={};function d(K,J){var Z=p[J],$=h[l[J]];return a.simpleMap(K,function(ne){return Z.d2l(ne)*$})}if(m.vectors=f(d(u._u,"xaxis"),d(u._v,"yaxis"),d(u._w,"zaxis"),_),!_)return{positions:[],cells:[]};var x=d(u._Xs,"xaxis"),g=d(u._Ys,"yaxis"),v=d(u._Zs,"zaxis");if(m.meshgrid=[x,g,v],m.gridFill=u._gridFill,u._slen)m.startingPositions=f(d(u._startsX,"xaxis"),d(u._startsY,"yaxis"),d(u._startsZ,"zaxis"));else{for(var T=g[0],c=o(x),E=o(v),A=new Array(c.length*E.length),C=0,O=0;O<c.length;O++)for(var P=0;P<E.length;P++)A[C++]=[c[O],T,E[P]];m.startingPositions=A}m.colormap=k(u),m.tubeSize=u.sizeref,m.maxLength=u.maxdisplayed;var D=d(u._xbnds,"xaxis"),z=d(u._ybnds,"yaxis"),V=d(u._zbnds,"zaxis"),F=n(x),W=n(g),B=n(v),U=[[D[0]-F[0],z[0]-W[0],V[0]-B[0]],[D[1]+F[1],z[1]+W[1],V[1]+B[1]]],H=b(m,U),q=y(u);H.vertexIntensityBounds=[q.min/u._normMax,q.max/u._normMax];var ee=u.lightposition;return H.lightPosition=[ee.x,ee.y,ee.z],H.ambient=u.lighting.ambient,H.diffuse=u.lighting.diffuse,H.specular=u.lighting.specular,H.roughness=u.lighting.roughness,H.fresnel=u.lighting.fresnel,H.opacity=u.opacity,u._pad=H.tubeScale*u.sizeref*2,H}s.handlePick=function(i){var u=this.scene.fullSceneLayout,p=this.scene.dataScale;function h(d,x){var g=u[x],v=p[l[x]];return g.l2c(d)/v}if(i.object===this.mesh){var _=i.data.position,m=i.data.velocity;return i.traceCoordinate=[h(_[0],"xaxis"),h(_[1],"yaxis"),h(_[2],"zaxis"),h(m[0],"xaxis"),h(m[1],"yaxis"),h(m[2],"zaxis"),i.data.intensity*this.data._normMax,i.data.divergence],i.textLabel=this.data.hovertext||this.data.text,!0}},s.update=function(i){this.data=i;var u=r(this.scene,i);this.mesh.update(u)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},L.exports=function(i,u){var p=i.glplot.gl,h=r(i,u),_=w(p,h),m=new t(i,u.uid);return m.mesh=_,m.data=u,_._trace=m,i.glplot.add(_),m}},22459:function(L,M,e){"use strict";var b=e(71828),w=e(1586),a=e(21850);L.exports=function(k,y,f,l){function t(p,h){return b.coerce(k,y,a,p,h)}var s=t("u"),o=t("v"),n=t("w"),r=t("x"),i=t("y"),u=t("z");s&&s.length&&o&&o.length&&n&&n.length&&r&&r.length&&i&&i.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),w(k,y,l,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),y._length=null):y.visible=!1}},61510:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(b,w){return b.tubex=b.x,b.tubey=b.y,b.tubez=b.z,b.tubeu=w.traceCoordinate[3],b.tubev=w.traceCoordinate[4],b.tubew=w.traceCoordinate[5],b.norm=w.traceCoordinate[6],b.divergence=w.traceCoordinate[7],delete b.x,delete b.y,delete b.z,b},meta:{}}},57564:function(L,M,e){"use strict";var b=e(9012),w=e(5386).fF,a=e(5386).si,k=e(50693),y=e(27670).Y,f=e(34e3),l=e(7055),t=e(1426).extendFlat;L.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},f.marker.line.color,{dflt:null}),width:t({},f.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},k("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:f.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:l.eventDataKeys.concat(["label","value"])}),hovertext:f.hovertext,hoverinfo:t({},b.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:w({},{keys:l.eventDataKeys}),textfont:f.textfont,insidetextorientation:f.insidetextorientation,insidetextfont:f.insidetextfont,outsidetextfont:t({},f.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:f.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:y({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(L,M,e){"use strict";var b=e(74875);M.name="sunburst",M.plot=function(w,a,k,y){b.plotBasePlot(M.name,w,a,k,y)},M.clean=function(w,a,k,y){b.cleanBasePlot(M.name,w,a,k,y)}},52147:function(L,M,e){"use strict";var b=e(674),w=e(92770),a=e(71828),k=e(21081).makeColorScaleFuncFromTrace,y=e(32354).makePullColorFn,f=e(32354).generateExtendedColors,l=e(21081).calc,t=e(50606).ALMOST_EQUAL,s={},o={},n={};function r(i,u,p){var h=0,_=i.children;if(_){for(var m=_.length,d=0;d<m;d++)h+=r(_[d],u,p);p.branches&&h++}else p.leaves&&h++;return i.value=i.data.data.value=h,u._values||(u._values=[]),u._values[i.data.data.i]=h,h}M.calc=function(i,u){var p,h,_,m,d,x,g=i._fullLayout,v=u.ids,T=a.isArrayOrTypedArray(v),c=u.labels,E=u.parents,A=u.values,C=a.isArrayOrTypedArray(A),O=[],P={},D={},z=function(se){return se||typeof se=="number"},V=function(se){return!C||w(A[se])&&A[se]>=0};T?(p=Math.min(v.length,E.length),h=function(se){return z(v[se])&&V(se)},_=function(se){return String(v[se])}):(p=Math.min(c.length,E.length),h=function(se){return z(c[se])&&V(se)},_=function(se){return String(c[se])}),C&&(p=Math.min(p,A.length));for(var F=0;F<p;F++)if(h(F)){var W=_(F),B=z(E[F])?String(E[F]):"",U={i:F,id:W,pid:B,label:z(c[F])?String(c[F]):""};C&&(U.v=+A[F]),O.push(U),d=W,P[m=B]?P[m].push(d):P[m]=[d],D[d]=1}if(P[""]){if(P[""].length>1){for(var H=a.randstr(),q=0;q<O.length;q++)O[q].pid===""&&(O[q].pid=H);O.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var ee,K=[];for(ee in P)D[ee]||K.push(ee);if(K.length!==1)return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",K.join(", ")].join(" "));ee=K[0],O.unshift({hasImpliedRoot:!0,id:ee,pid:"",label:ee})}try{x=b.stratify().id(function(se){return se.id}).parentId(function(se){return se.pid})(O)}catch(se){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",se.message].join(" "))}var J=b.hierarchy(x),Z=!1;if(C)switch(u.branchvalues){case"remainder":J.sum(function(se){return se.data.v});break;case"total":J.each(function(se){var ce=se.data.data,me=ce.v;if(se.children){var xe=se.children.reduce(function(ve,fe){return ve+fe.data.data.v},0);if((ce.hasImpliedRoot||ce.hasMultipleRoots)&&(me=xe),me<xe*t)return Z=!0,a.warn(["Total value for node",se.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,me,`
children sum =`,xe].join(" "))}se.value=me})}else r(J,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!Z){var $,ne;u.sort&&J.sort(function(se,ce){return ce.value-se.value});var ae=u.marker.colors||[],oe=!!ae.length;return u._hasColorscale?(oe||(ae=C?u.values:u._values),l(i,u,{vals:ae,containerStr:"marker",cLetter:"c"}),ne=k(u.marker)):$=y(g["_"+u.type+"colormap"]),J.each(function(se){var ce=se.data.data;ce.color=u._hasColorscale?ne(ae[ce.i]):$(ae[ce.i],ce.id)}),O[0].hierarchy=J,O}},M._runCrossTraceCalc=function(i,u){var p=u._fullLayout,h=u.calcdata,_=p[i+"colorway"],m=p["_"+i+"colormap"];p["extend"+i+"colors"]&&(_=f(_,i==="icicle"?n:i==="treemap"?o:s));var d,x=0;function g(c){var E=c.data.data,A=E.id;E.color===!1&&(m[A]?E.color=m[A]:c.parent?c.parent.parent?E.color=c.parent.data.data.color:(m[A]=E.color=_[x%_.length],x++):E.color=d)}for(var v=0;v<h.length;v++){var T=h[v][0];T.trace.type===i&&T.hierarchy&&(d=T.trace.root.color,T.hierarchy.each(g))}},M.crossTraceCalc=function(i){return M._runCrossTraceCalc("sunburst",i)}},7055:function(L){"use strict";L.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(L,M,e){"use strict";var b=e(71828),w=e(57564),a=e(27670).c,k=e(90769).handleText,y=e(21081),f=y.hasColorscale,l=y.handleDefaults;L.exports=function(t,s,o,n){function r(m,d){return b.coerce(t,s,w,m,d)}var i=r("labels"),u=r("parents");if(i&&i.length&&u&&u.length){var p=r("values");p&&p.length?r("branchvalues"):r("count"),r("level"),r("maxdepth"),r("marker.line.width")&&r("marker.line.color",n.paper_bgcolor),r("marker.colors");var h=s._hasColorscale=f(t,"marker","colors")||(t.marker||{}).coloraxis;h&&l(t,s,n,r,{prefix:"marker.",cLetter:"c"}),r("leaf.opacity",h?1:.7);var _=r("text");r("texttemplate"),s.texttemplate||r("textinfo",Array.isArray(_)?"text+label":"label"),r("hovertext"),r("hovertemplate"),k(t,s,n,r,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),r("insidetextorientation"),r("sort"),r("rotation"),r("root.color"),a(s,n,r),s._length=null}else s.visible=!1}},83523:function(L,M,e){"use strict";var b=e(39898),w=e(73972),a=e(23469).appendArrayPointValue,k=e(30211),y=e(71828),f=e(11086),l=e(2791),t=e(53581).formatPieValue;function s(o,n,r){for(var i=o.data.data,u={curveNumber:n.index,pointNumber:i.i,data:n._input,fullData:n},p=0;p<r.length;p++){var h=r[p];h in o&&(u[h]=o[h])}return"parentString"in o&&!l.isHierarchyRoot(o)&&(u.parent=o.parentString),a(u,n,i.i),u}L.exports=function(o,n,r,i,u){var p=i[0],h=p.trace,_=p.hierarchy,m=h.type==="sunburst",d=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1),o.on("mouseover",function(x){var g=r._fullLayout;if(!r._dragging&&g.hovermode!==!1){var v,T=r._fullData[h.index],c=x.data.data,E=c.i,A=l.isHierarchyRoot(x),C=l.getParent(_,x),O=l.getValue(x),P=function(ae){return y.castOption(T,E,ae)},D=P("hovertemplate"),z=k.castHoverinfo(T,g,E),V=g.separators;if(D||z&&z!=="none"&&z!=="skip"){var F,W;m&&(F=p.cx+x.pxmid[0]*(1-x.rInscribed),W=p.cy+x.pxmid[1]*(1-x.rInscribed)),d&&(F=x._hoverX,W=x._hoverY);var B,U={},H=[],q=[],ee=function(ae){return H.indexOf(ae)!==-1};z&&(H=z==="all"?T._module.attributes.hoverinfo.flags:z.split("+")),U.label=c.label,ee("label")&&U.label&&q.push(U.label),c.hasOwnProperty("v")&&(U.value=c.v,U.valueLabel=t(U.value,V),ee("value")&&q.push(U.valueLabel)),U.currentPath=x.currentPath=l.getPath(x.data),ee("current path")&&!A&&q.push(U.currentPath);var K=[],J=function(){K.indexOf(B)===-1&&(q.push(B),K.push(B))};U.percentParent=x.percentParent=O/l.getValue(C),U.parent=x.parentString=l.getPtLabel(C),ee("percent parent")&&(B=l.formatPercent(U.percentParent,V)+" of "+U.parent,J()),U.percentEntry=x.percentEntry=O/l.getValue(n),U.entry=x.entry=l.getPtLabel(n),!ee("percent entry")||A||x.onPathbar||(B=l.formatPercent(U.percentEntry,V)+" of "+U.entry,J()),U.percentRoot=x.percentRoot=O/l.getValue(_),U.root=x.root=l.getPtLabel(_),ee("percent root")&&!A&&(B=l.formatPercent(U.percentRoot,V)+" of "+U.root,J()),U.text=P("hovertext")||P("text"),ee("text")&&(B=U.text,y.isValidTextValue(B)&&q.push(B)),v=[s(x,T,u.eventDataKeys)];var Z={trace:T,y:W,_x0:x._x0,_x1:x._x1,_y0:x._y0,_y1:x._y1,text:q.join("<br>"),name:D||ee("name")?T.name:void 0,color:P("hoverlabel.bgcolor")||c.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:D,hovertemplateLabels:U,eventData:v};m&&(Z.x0=F-x.rInscribed*x.rpx1,Z.x1=F+x.rInscribed*x.rpx1,Z.idealAlign=x.pxmid[0]<0?"left":"right"),d&&(Z.x=F,Z.idealAlign=F<0?"left":"right");var $=[];k.loneHover(Z,{container:g._hoverlayer.node(),outerContainer:g._paper.node(),gd:r,inOut_bbox:$}),v[0].bbox=$[0],h._hasHoverLabel=!0}if(d){var ne=o.select("path.surface");u.styleOne(ne,x,T,{hovered:!0})}h._hasHoverEvent=!0,r.emit("plotly_hover",{points:v||[s(x,T,u.eventDataKeys)],event:b.event})}}),o.on("mouseout",function(x){var g=r._fullLayout,v=r._fullData[h.index],T=b.select(this).datum();if(h._hasHoverEvent&&(x.originalEvent=b.event,r.emit("plotly_unhover",{points:[s(T,v,u.eventDataKeys)],event:b.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(k.loneUnhover(g._hoverlayer.node()),h._hasHoverLabel=!1),d){var c=o.select("path.surface");u.styleOne(c,T,v,{hovered:!1})}}),o.on("click",function(x){var g=r._fullLayout,v=r._fullData[h.index],T=m&&(l.isHierarchyRoot(x)||l.isLeaf(x)),c=l.getPtId(x),E=l.isEntry(x)?l.findEntryWithChild(_,c):l.findEntryWithLevel(_,c),A=l.getPtId(E),C={points:[s(x,v,u.eventDataKeys)],event:b.event};T||(C.nextLevel=A);var O=f.triggerHandler(r,"plotly_"+h.type+"click",C);if(O!==!1&&g.hovermode&&(r._hoverdata=[s(x,v,u.eventDataKeys)],k.click(r,b.event)),!T&&O!==!1&&!r._dragging&&!r._transitioning){w.call("_storeDirectGUIEdit",v,g._tracePreGUI[v.uid],{level:v.level});var P={data:[{level:A}],traces:[h.index]},D={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};k.loneUnhover(g._hoverlayer.node()),w.call("animate",r,P,D)}})}},2791:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(6964),k=e(53581);function y(f){return f.data.data.pid}M.findEntryWithLevel=function(f,l){var t;return l&&f.eachAfter(function(s){if(M.getPtId(s)===l)return t=s.copy()}),t||f},M.findEntryWithChild=function(f,l){var t;return f.eachAfter(function(s){for(var o=s.children||[],n=0;n<o.length;n++){var r=o[n];if(M.getPtId(r)===l)return t=s.copy()}}),t||f},M.isEntry=function(f){return!f.parent},M.isLeaf=function(f){return!f.children},M.getPtId=function(f){return f.data.data.id},M.getPtLabel=function(f){return f.data.data.label},M.getValue=function(f){return f.value},M.isHierarchyRoot=function(f){return y(f)===""},M.setSliceCursor=function(f,l,t){var s=t.isTransitioning;if(!s){var o=f.datum();s=t.hideOnRoot&&M.isHierarchyRoot(o)||t.hideOnLeaves&&M.isLeaf(o)}a(f,s?null:"pointer")},M.getInsideTextFontKey=function(f,l,t,s,o){var n=(o||{}).onPathbar?"pathbar.textfont":"insidetextfont",r=t.data.data.i;return b.castOption(l,r,n+"."+f)||b.castOption(l,r,"textfont."+f)||s.size},M.getOutsideTextFontKey=function(f,l,t,s){var o=t.data.data.i;return b.castOption(l,o,"outsidetextfont."+f)||b.castOption(l,o,"textfont."+f)||s.size},M.isOutsideText=function(f,l){return!f._hasColorscale&&M.isHierarchyRoot(l)},M.determineTextFont=function(f,l,t,s){return M.isOutsideText(f,l)?function(o,n,r){return{color:M.getOutsideTextFontKey("color",o,n,r),family:M.getOutsideTextFontKey("family",o,n,r),size:M.getOutsideTextFontKey("size",o,n,r)}}(f,l,t):function(o,n,r,i){var u=(i||{}).onPathbar,p=n.data.data,h=p.i,_=b.castOption(o,h,(u?"pathbar.textfont":"insidetextfont")+".color");return!_&&o._input.textfont&&(_=b.castOption(o._input,h,"textfont.color")),{color:_||w.contrast(p.color),family:M.getInsideTextFontKey("family",o,n,r,i),size:M.getInsideTextFontKey("size",o,n,r,i)}}(f,l,t,s)},M.hasTransition=function(f){return!!(f&&f.duration>0)},M.getMaxDepth=function(f){return f.maxdepth>=0?f.maxdepth:1/0},M.isHeader=function(f,l){return!(M.isLeaf(f)||f.depth===l._maxDepth-1)},M.getParent=function(f,l){return M.findEntryWithLevel(f,y(l))},M.listPath=function(f,l){var t=f.parent;if(!t)return[];var s=l?[t.data[l]]:[t];return M.listPath(t,l).concat(s)},M.getPath=function(f){return M.listPath(f,"label").join("/")+"/"},M.formatValue=k.formatPieValue,M.formatPercent=function(f,l){var t=b.formatPercent(f,0);return t==="0%"&&(t=k.formatPiePercent(f,l)),t}},87619:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(L){"use strict";L.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(L,M,e){"use strict";var b=e(71828),w=e(2654);L.exports=function(a,k){function y(f,l){return b.coerce(a,k,w,f,l)}y("sunburstcolorway",k.colorway),y("extendsunburstcolors")}},24714:function(L,M,e){"use strict";var b=e(39898),w=e(674),a=e(81684).sX,k=e(91424),y=e(71828),f=e(63893),l=e(72597),t=l.recordMinTextSize,s=l.clearMinTextSize,o=e(14575),n=e(53581).getRotationAngle,r=o.computeTransform,i=o.transformInsideText,u=e(29969).styleOne,p=e(16688).resizeText,h=e(83523),_=e(7055),m=e(2791);function d(g,v,T,c){var E=g._context.staticPlot,A=g._fullLayout,C=!A.uniformtext.mode&&m.hasTransition(c),O=b.select(T).selectAll("g.slice"),P=v[0],D=P.trace,z=P.hierarchy,V=m.findEntryWithLevel(z,D.level),F=m.getMaxDepth(D),W=A._size,B=D.domain,U=W.w*(B.x[1]-B.x[0]),H=W.h*(B.y[1]-B.y[0]),q=.5*Math.min(U,H),ee=P.cx=W.l+W.w*(B.x[1]+B.x[0])/2,K=P.cy=W.t+W.h*(1-B.y[0])-H/2;if(!V)return O.remove();var J=null,Z={};C&&O.each(function(ke){Z[m.getPtId(ke)]={rpx0:ke.rpx0,rpx1:ke.rpx1,x0:ke.x0,x1:ke.x1,transform:ke.transform},!J&&m.isEntry(ke)&&(J=ke)});var $=function(ke){return w.partition().size([2*Math.PI,ke.height+1])(ke)}(V).descendants(),ne=V.height+1,ae=0,oe=F;P.hasMultipleRoots&&m.isHierarchyRoot(V)&&($=$.slice(1),ne-=1,ae=1,oe+=1),$=$.filter(function(ke){return ke.y1<=oe});var se=n(D.rotation);se&&$.forEach(function(ke){ke.x0+=se,ke.x1+=se});var ce=Math.min(ne,F),me=function(ke){return(ke-ae)/ce*q},xe=function(ke,te){return[ke*Math.cos(te),-ke*Math.sin(te)]},ve=function(ke){return y.pathAnnulus(ke.rpx0,ke.rpx1,ke.x0,ke.x1,ee,K)},fe=function(ke){return ee+x(ke)[0]*(ke.transform.rCenter||0)+(ke.transform.x||0)},pe=function(ke){return K+x(ke)[1]*(ke.transform.rCenter||0)+(ke.transform.y||0)};(O=O.data($,m.getPtId)).enter().append("g").classed("slice",!0),C?O.exit().transition().each(function(){var ke=b.select(this);ke.select("path.surface").transition().attrTween("d",function(te){var ue=function(ge){var we,Ee=m.getPtId(ge),Be=Z[Ee],Re=Z[m.getPtId(V)];if(Re){var je=(ge.x1>Re.x1?2*Math.PI:0)+se;we=ge.rpx1<Re.rpx1?{x0:ge.x0,x1:ge.x1,rpx0:0,rpx1:0}:{x0:je,x1:je,rpx0:ge.rpx0,rpx1:ge.rpx1}}else{var he,_e=m.getPtId(ge.parent);O.each(function(ot){if(m.getPtId(ot)===_e)return he=ot});var Te,Fe=he.children;Fe.forEach(function(ot,st){if(m.getPtId(ot)===Ee)return Te=st});var Ye=Fe.length,Ge=a(he.x0,he.x1);we={rpx0:q,rpx1:q,x0:Ge(Te/Ye),x1:Ge((Te+1)/Ye)}}return a(Be,we)}(te);return function(ge){return ve(ue(ge))}}),ke.select("g.slicetext").attr("opacity",0)}).remove():O.exit().remove(),O.order();var Le=null;if(C&&J){var ye=m.getPtId(J);O.each(function(ke){Le===null&&m.getPtId(ke)===ye&&(Le=ke.x1)})}var Ae=O;function Me(ke){var te=ke.parent,ue=Z[m.getPtId(te)],ge={};if(ue){var we=te.children,Ee=we.indexOf(ke),Be=we.length,Re=a(ue.x0,ue.x1);ge.x0=Re(Ee/Be),ge.x1=Re(Ee/Be)}else ge.x0=ge.x1=0;return ge}C&&(Ae=Ae.transition().each("end",function(){var ke=b.select(this);m.setSliceCursor(ke,g,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ae.each(function(ke){var te=b.select(this),ue=y.ensureSingle(te,"path","surface",function(je){je.style("pointer-events",E?"none":"all")});ke.rpx0=me(ke.y0),ke.rpx1=me(ke.y1),ke.xmid=(ke.x0+ke.x1)/2,ke.pxmid=xe(ke.rpx1,ke.xmid),ke.midangle=-(ke.xmid-Math.PI/2),ke.startangle=-(ke.x0-Math.PI/2),ke.stopangle=-(ke.x1-Math.PI/2),ke.halfangle=.5*Math.min(y.angleDelta(ke.x0,ke.x1)||Math.PI,Math.PI),ke.ring=1-ke.rpx0/ke.rpx1,ke.rInscribed=function(je){return je.rpx0===0&&y.isFullCircle([je.x0,je.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(je.halfangle)),je.ring/2))}(ke),C?ue.transition().attrTween("d",function(je){var he=function(_e){var Te,Fe=Z[m.getPtId(_e)],Ye={x0:_e.x0,x1:_e.x1,rpx0:_e.rpx0,rpx1:_e.rpx1};if(Fe)Te=Fe;else if(J)if(_e.parent)if(Le){var Ge=(_e.x1>Le?2*Math.PI:0)+se;Te={x0:Ge,x1:Ge}}else Te={rpx0:q,rpx1:q},y.extendFlat(Te,Me(_e));else Te={rpx0:0,rpx1:0};else Te={x0:se,x1:se};return a(Te,Ye)}(je);return function(_e){return ve(he(_e))}}):ue.attr("d",ve),te.call(h,V,g,v,{eventDataKeys:_.eventDataKeys,transitionTime:_.CLICK_TRANSITION_TIME,transitionEasing:_.CLICK_TRANSITION_EASING}).call(m.setSliceCursor,g,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:g._transitioning}),ue.call(u,ke,D);var ge=y.ensureSingle(te,"g","slicetext"),we=y.ensureSingle(ge,"text","",function(je){je.attr("data-notex",1)}),Ee=y.ensureUniformFontSize(g,m.determineTextFont(D,ke,A.font));we.text(M.formatSliceLabel(ke,V,D,v,A)).classed("slicetext",!0).attr("text-anchor","middle").call(k.font,Ee).call(f.convertToTspans,g);var Be=k.bBox(we.node());ke.transform=i(Be,ke,P),ke.transform.targetX=fe(ke),ke.transform.targetY=pe(ke);var Re=function(je,he){var _e=je.transform;return r(_e,he),_e.fontSize=Ee.size,t(D.type,_e,A),y.getTextTransform(_e)};C?we.transition().attrTween("transform",function(je){var he=function(_e){var Te,Fe=Z[m.getPtId(_e)],Ye=_e.transform;if(Fe)Te=Fe;else if(Te={rpx1:_e.rpx1,transform:{textPosAngle:Ye.textPosAngle,scale:0,rotate:Ye.rotate,rCenter:Ye.rCenter,x:Ye.x,y:Ye.y}},J)if(_e.parent)if(Le){var Ge=_e.x1>Le?2*Math.PI:0;Te.x0=Te.x1=Ge}else y.extendFlat(Te,Me(_e));else Te.x0=Te.x1=se;else Te.x0=Te.x1=se;var ot=a(Te.transform.textPosAngle,_e.transform.textPosAngle),st=a(Te.rpx1,_e.rpx1),ht=a(Te.x0,_e.x0),xt=a(Te.x1,_e.x1),Ct=a(Te.transform.scale,Ye.scale),St=a(Te.transform.rotate,Ye.rotate),kt=Ye.rCenter===0?3:Te.transform.rCenter===0?1/3:1,Nt=a(Te.transform.rCenter,Ye.rCenter);return function(Dt){var Et=st(Dt),Wt=ht(Dt),Ht=xt(Dt),Ke=function(Ue){return Nt(Math.pow(Ue,kt))}(Dt),$e={pxmid:xe(Et,(Wt+Ht)/2),rpx1:Et,transform:{textPosAngle:ot(Dt),rCenter:Ke,x:Ye.x,y:Ye.y}};return t(D.type,Ye,A),{transform:{targetX:fe($e),targetY:pe($e),scale:Ct(Dt),rotate:St(Dt),rCenter:Ke}}}}(je);return function(_e){return Re(he(_e),Be)}}):we.attr("transform",Re(ke,Be))})}function x(g){return v=g.rpx1,T=g.transform.textPosAngle,[v*Math.sin(T),-v*Math.cos(T)];var v,T}M.plot=function(g,v,T,c){var E,A,C=g._fullLayout,O=C._sunburstlayer,P=!T,D=!C.uniformtext.mode&&m.hasTransition(T);s("sunburst",C),(E=O.selectAll("g.trace.sunburst").data(v,function(z){return z[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),E.order(),D?(c&&(A=c()),b.transition().duration(T.duration).ease(T.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){O.selectAll("g.trace").each(function(z){d(g,z,this,T)})})):(E.each(function(z){d(g,z,this,T)}),C.uniformtext.mode&&p(g,C._sunburstlayer.selectAll(".trace"),"sunburst")),P&&E.exit().remove()},M.formatSliceLabel=function(g,v,T,c,E){var A=T.texttemplate,C=T.textinfo;if(!(A||C&&C!=="none"))return"";var O=E.separators,P=c[0],D=g.data.data,z=P.hierarchy,V=m.isHierarchyRoot(g),F=m.getParent(z,g),W=m.getValue(g);if(!A){var B,U=C.split("+"),H=function(oe){return U.indexOf(oe)!==-1},q=[];if(H("label")&&D.label&&q.push(D.label),D.hasOwnProperty("v")&&H("value")&&q.push(m.formatValue(D.v,O)),!V){H("current path")&&q.push(m.getPath(g.data));var ee=0;H("percent parent")&&ee++,H("percent entry")&&ee++,H("percent root")&&ee++;var K=ee>1;if(ee){var J,Z=function(oe){B=m.formatPercent(J,O),K&&(B+=" of "+oe),q.push(B)};H("percent parent")&&!V&&(J=W/m.getValue(F),Z("parent")),H("percent entry")&&(J=W/m.getValue(v),Z("entry")),H("percent root")&&(J=W/m.getValue(z),Z("root"))}}return H("text")&&(B=y.castOption(T,D.i,"text"),y.isValidTextValue(B)&&q.push(B)),q.join("<br>")}var $=y.castOption(T,D.i,"texttemplate");if(!$)return"";var ne={};D.label&&(ne.label=D.label),D.hasOwnProperty("v")&&(ne.value=D.v,ne.valueLabel=m.formatValue(D.v,O)),ne.currentPath=m.getPath(g.data),V||(ne.percentParent=W/m.getValue(F),ne.percentParentLabel=m.formatPercent(ne.percentParent,O),ne.parent=m.getPtLabel(F)),ne.percentEntry=W/m.getValue(v),ne.percentEntryLabel=m.formatPercent(ne.percentEntry,O),ne.entry=m.getPtLabel(v),ne.percentRoot=W/m.getValue(z),ne.percentRootLabel=m.formatPercent(ne.percentRoot,O),ne.root=m.getPtLabel(z),D.hasOwnProperty("color")&&(ne.color=D.color);var ae=y.castOption(T,D.i,"text");return(y.isValidTextValue(ae)||ae==="")&&(ne.text=ae),ne.customdata=y.castOption(T,D.i,"customdata"),y.texttemplateString($,ne,E._d3locale,ne,T._meta||{})}},29969:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(71828),k=e(72597).resizeText;function y(f,l,t){var s=l.data.data,o=!l.children,n=s.i,r=a.castOption(t,n,"marker.line.color")||w.defaultLine,i=a.castOption(t,n,"marker.line.width")||0;f.style("stroke-width",i).call(w.fill,s.color).call(w.stroke,r).style("opacity",o?t.leaf.opacity:null)}L.exports={style:function(f){var l=f._fullLayout._sunburstlayer.selectAll(".trace");k(f,l,"sunburst"),l.each(function(t){var s=b.select(this),o=t[0].trace;s.style("opacity",o.opacity),s.selectAll("path.surface").each(function(n){b.select(this).call(y,n,o)})})},styleOne:y}},54532:function(L,M,e){"use strict";var b=e(7901),w=e(50693),a=e(12663).axisHoverFormat,k=e(5386).fF,y=e(9012),f=e(1426).extendFlat,l=e(30962).overrideAll;function t(o){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:b.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:b.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=L.exports=l(f({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:k(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},w("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:f({},w.zauto,{}),zmin:f({},w.zmin,{}),zmax:f({},w.zmax,{})},hoverinfo:f({},y.hoverinfo),showlegend:f({},y.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(L,M,e){"use strict";var b=e(78803);L.exports=function(w,a){a.surfacecolor?b(w,a,{vals:a.surfacecolor,containerStr:"",cLetter:"c"}):b(w,a,{vals:a.z,containerStr:"",cLetter:"c"})}},43768:function(L,M,e){"use strict";var b=e(9330).gl_surface3d,w=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,k=e(824),y=e(43907),f=e(71828).isArrayOrTypedArray,l=e(81697).parseColorScale,t=e(78614),s=e(21081).extractOpts;function o(T,c,E){this.scene=T,this.uid=E,this.surface=c,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=o.prototype;n.getXat=function(T,c,E,A){var C=f(this.data.x)?f(this.data.x[0])?this.data.x[c][T]:this.data.x[T]:T;return E===void 0?C:A.d2l(C,0,E)},n.getYat=function(T,c,E,A){var C=f(this.data.y)?f(this.data.y[0])?this.data.y[c][T]:this.data.y[c]:c;return E===void 0?C:A.d2l(C,0,E)},n.getZat=function(T,c,E,A){var C=this.data.z[c][T];return C===null&&this.data.connectgaps&&this.data._interpolatedZ&&(C=this.data._interpolatedZ[c][T]),E===void 0?C:A.d2l(C,0,E)},n.handlePick=function(T){if(T.object===this.surface){var c=(T.data.index[0]-1)/this.dataScaleX-1,E=(T.data.index[1]-1)/this.dataScaleY-1,A=Math.max(Math.min(Math.round(c),this.data.z[0].length-1),0),C=Math.max(Math.min(Math.round(E),this.data._ylength-1),0);T.index=[A,C],T.traceCoordinate=[this.getXat(A,C),this.getYat(A,C),this.getZat(A,C)],T.dataCoordinate=[this.getXat(A,C,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(A,C,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(A,C,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var O=0;O<3;O++)T.dataCoordinate[O]!=null&&(T.dataCoordinate[O]*=this.scene.dataScale[O]);var P=this.data.hovertext||this.data.text;return Array.isArray(P)&&P[C]&&P[C][A]!==void 0?T.textLabel=P[C][A]:T.textLabel=P||"",T.data.dataCoordinate=T.dataCoordinate.slice(),this.surface.highlight(T.data),this.scene.glplot.spikes.position=T.dataCoordinate,!0}};var r=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function i(T,c){if(T<c)return 0;for(var E=0;Math.floor(T%c)===0;)T/=c,E++;return E}function u(T){for(var c=[],E=0;E<r.length;E++){var A=r[E];c.push(i(T,A))}return c}function p(T){for(var c=u(T),E=T,A=0;A<r.length;A++)if(c[A]>0){E=r[A];break}return E}function h(T,c){if(!(T<1||c<1)){for(var E=u(T),A=u(c),C=1,O=0;O<r.length;O++)C*=Math.pow(r[O],Math.max(E[O],A[O]));return C}}n.calcXnums=function(T){var c,E=[];for(c=1;c<T;c++){var A=this.getXat(c-1,0),C=this.getXat(c,0);E[c-1]=C!==A&&A!=null&&C!=null?Math.abs(C-A):0}var O=0;for(c=1;c<T;c++)O+=E[c-1];for(c=1;c<T;c++)E[c-1]===0?E[c-1]=1:E[c-1]=Math.round(O/E[c-1]);return E},n.calcYnums=function(T){var c,E=[];for(c=1;c<T;c++){var A=this.getYat(0,c-1),C=this.getYat(0,c);E[c-1]=C!==A&&A!=null&&C!=null?Math.abs(C-A):0}var O=0;for(c=1;c<T;c++)O+=E[c-1];for(c=1;c<T;c++)E[c-1]===0?E[c-1]=1:E[c-1]=Math.round(O/E[c-1]);return E};var _=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],m=_[9],d=_[13];function x(T,c,E){var A=E[8]+E[2]*c[0]+E[5]*c[1];return T[0]=(E[6]+E[0]*c[0]+E[3]*c[1])/A,T[1]=(E[7]+E[1]*c[0]+E[4]*c[1])/A,T}function g(T,c,E){return function(A,C,O,P){for(var D=[0,0],z=A.shape[0],V=A.shape[1],F=0;F<z;F++)for(var W=0;W<V;W++)O(D,[F,W],P),A.set(F,W,a(C,D[0],D[1]))}(T,c,x,E),T}function v(T,c){for(var E=!1,A=0;A<T.length;A++)if(c===T[A]){E=!0;break}E===!1&&T.push(c)}n.estimateScale=function(T,c){for(var E=1+function(C){if(C.length!==0){for(var O=1,P=0;P<C.length;P++)O=h(O,C[P]);return O}}(c===0?this.calcXnums(T):this.calcYnums(T));E<m;)E*=2;for(;E>d;)E--,E/=p(E),++E<m&&(E=d);var A=Math.round(E/T);return A>1?A:1},n.refineCoords=function(T){for(var c=this.dataScaleX,E=this.dataScaleY,A=T[0].shape[0],C=T[0].shape[1],O=0|Math.floor(T[0].shape[0]*c+1),P=0|Math.floor(T[0].shape[1]*E+1),D=1+A+1,z=1+C+1,V=w(new Float32Array(D*z),[D,z]),F=[1/c,0,0,0,1/E,0,0,0,1],W=0;W<T.length;++W){this.surface.padField(V,T[W]);var B=w(new Float32Array(O*P),[O,P]);g(B,V,F),T[W]=B}},n.setContourLevels=function(){var T,c,E,A=[[],[],[]],C=[!1,!1,!1],O=!1;for(T=0;T<3;++T)if(this.showContour[T]&&(O=!0,this.contourSize[T]>0&&this.contourStart[T]!==null&&this.contourEnd[T]!==null&&this.contourEnd[T]>this.contourStart[T]))for(C[T]=!0,c=this.contourStart[T];c<this.contourEnd[T];c+=this.contourSize[T])E=c*this.scene.dataScale[T],v(A[T],E);if(O){var P=[[],[],[]];for(T=0;T<3;++T)this.showContour[T]&&(P[T]=C[T]?A[T]:this.scene.contourLevels[T]);this.surface.update({levels:P})}},n.update=function(T){var c,E,A,C,O=this.scene,P=O.fullSceneLayout,D=this.surface,z=l(T),V=O.dataScale,F=T.z[0].length,W=T._ylength,B=O.contourLevels;this.data=T;var U=[];for(c=0;c<3;c++)for(U[c]=[],E=0;E<F;E++)U[c][E]=[];for(E=0;E<F;E++)for(A=0;A<W;A++)U[0][E][A]=this.getXat(E,A,T.xcalendar,P.xaxis),U[1][E][A]=this.getYat(E,A,T.ycalendar,P.yaxis),U[2][E][A]=this.getZat(E,A,T.zcalendar,P.zaxis);if(T.connectgaps)for(T._emptypoints=y(U[2]),k(U[2],T._emptypoints),T._interpolatedZ=[],E=0;E<F;E++)for(T._interpolatedZ[E]=[],A=0;A<W;A++)T._interpolatedZ[E][A]=U[2][E][A];for(c=0;c<3;c++)for(E=0;E<F;E++)for(A=0;A<W;A++)(C=U[c][E][A])==null?U[c][E][A]=NaN:C=U[c][E][A]*=V[c];for(c=0;c<3;c++)for(E=0;E<F;E++)for(A=0;A<W;A++)(C=U[c][E][A])!=null&&(this.minValues[c]>C&&(this.minValues[c]=C),this.maxValues[c]<C&&(this.maxValues[c]=C));for(c=0;c<3;c++)this.objectOffset[c]=.5*(this.minValues[c]+this.maxValues[c]);for(c=0;c<3;c++)for(E=0;E<F;E++)for(A=0;A<W;A++)(C=U[c][E][A])!=null&&(U[c][E][A]-=this.objectOffset[c]);var H=[w(new Float32Array(F*W),[F,W]),w(new Float32Array(F*W),[F,W]),w(new Float32Array(F*W),[F,W])];for(c=0;c<3;c++)for(E=0;E<F;E++)for(A=0;A<W;A++)H[c].set(E,A,U[c][E][A]);U=[];var q={colormap:z,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!T.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:T.opacityscale,opacity:T.opacity},ee=s(T);if(q.intensityBounds=[ee.min,ee.max],T.surfacecolor){var K=w(new Float32Array(F*W),[F,W]);for(E=0;E<F;E++)for(A=0;A<W;A++)K.set(E,A,T.surfacecolor[A][E]);H.push(K)}else q.intensityBounds[0]*=V[2],q.intensityBounds[1]*=V[2];(d<H[0].shape[0]||d<H[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(H[0].shape[0],0),this.dataScaleY=this.estimateScale(H[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(H)),T.surfacecolor&&(q.intensity=H.pop());var J=[!0,!0,!0],Z=["x","y","z"];for(c=0;c<3;++c){var $=T.contours[Z[c]];J[c]=$.highlight,q.showContour[c]=$.show||$.highlight,q.showContour[c]&&(q.contourProject[c]=[$.project.x,$.project.y,$.project.z],$.show?(this.showContour[c]=!0,q.levels[c]=B[c],D.highlightColor[c]=q.contourColor[c]=t($.color),$.usecolormap?D.highlightTint[c]=q.contourTint[c]=0:D.highlightTint[c]=q.contourTint[c]=1,q.contourWidth[c]=$.width,this.contourStart[c]=$.start,this.contourEnd[c]=$.end,this.contourSize[c]=$.size):(this.showContour[c]=!1,this.contourStart[c]=null,this.contourEnd[c]=null,this.contourSize[c]=0),$.highlight&&(q.dynamicColor[c]=t($.highlightcolor),q.dynamicWidth[c]=$.highlightwidth))}(function(ne){var ae=ne[0].rgb,oe=ne[ne.length-1].rgb;return ae[0]===oe[0]&&ae[1]===oe[1]&&ae[2]===oe[2]&&ae[3]===oe[3]})(z)&&(q.vertexColor=!0),q.objectOffset=this.objectOffset,q.coords=H,D.update(q),D.visible=T.visible,D.enableDynamic=J,D.enableHighlight=J,D.snapToData=!0,"lighting"in T&&(D.ambientLight=T.lighting.ambient,D.diffuseLight=T.lighting.diffuse,D.specularLight=T.lighting.specular,D.roughness=T.lighting.roughness,D.fresnel=T.lighting.fresnel),"lightposition"in T&&(D.lightPosition=[T.lightposition.x,T.lightposition.y,T.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},L.exports=function(T,c){var E=T.glplot.gl,A=b({gl:E}),C=new o(T,A,c.uid);return A._trace=C,C.update(c),T.glplot.add(A),C}},91831:function(L,M,e){"use strict";var b=e(73972),w=e(71828),a=e(1586),k=e(54532);function y(l,t,s,o){var n=o("opacityscale");n==="max"?t.opacityscale=[[0,.1],[1,1]]:n==="min"?t.opacityscale=[[0,1],[1,.1]]:n==="extremes"?t.opacityscale=function(r,i){for(var u=[],p=0;p<32;p++){var h=p/31,_=.1+.9*(1-Math.pow(Math.sin(1*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,_))])}return u}():function(r){var i=0;if(!Array.isArray(r)||r.length<2||!r[0]||!r[r.length-1]||+r[0][0]!=0||+r[r.length-1][0]!=1)return!1;for(var u=0;u<r.length;u++){var p=r[u];if(p.length!==2||+p[0]<i)return!1;i=+p[0]}return!0}(n)||(t.opacityscale=void 0)}function f(l,t,s){t in l&&!(s in l)&&(l[s]=l[t])}L.exports={supplyDefaults:function(l,t,s,o){var n,r;function i(v,T){return w.coerce(l,t,k,v,T)}var u=i("x"),p=i("y"),h=i("z");if(!h||!h.length||u&&u.length<1||p&&p.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&w.isArrayOrTypedArray(u[0])?h.length:h[0].length,t._ylength=h.length,b.getComponentMethod("calendars","handleTraceDefaults")(l,t,["x","y","z"],o),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(v){i(v)});var _=i("surfacecolor"),m=["x","y","z"];for(n=0;n<3;++n){var d="contours."+m[n],x=i(d+".show"),g=i(d+".highlight");if(x||g)for(r=0;r<3;++r)i(d+".project."+m[r]);x&&(i(d+".color"),i(d+".width"),i(d+".usecolormap")),g&&(i(d+".highlightcolor"),i(d+".highlightwidth")),i(d+".start"),i(d+".end"),i(d+".size")}_||(f(l,"zmin","cmin"),f(l,"zmax","cmax"),f(l,"zauto","cauto")),a(l,t,o,i,{prefix:"",cLetter:"c"}),y(0,t,0,i),t._length=null}},opacityscaleDefaults:y}},93601:function(L,M,e){"use strict";L.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(L,M,e){"use strict";var b=e(50215),w=e(1426).extendFlat,a=e(30962).overrideAll,k=e(41940),y=e(27670).Y,f=e(12663).descriptionOnlyNumbers;(L.exports=a({domain:y({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:w({},b.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:w({},k({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:w({},b.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:w({},k({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(L,M,e){"use strict";var b=e(27659).a0,w=e(36736),a="table";M.name=a,M.plot=function(k){var y=b(k.calcdata,a)[0];y.length&&w(k,y)},M.clean=function(k,y,f,l){var t=l._has&&l._has(a),s=y._has&&y._has(a);t&&!s&&l._paperdiv.selectAll(".table").remove()}},76333:function(L,M,e){"use strict";var b=e(28984).wrap;L.exports=function(){return b({})}},49850:function(L){"use strict";L.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(L,M,e){"use strict";var b=e(49850),w=e(1426).extendFlat,a=e(92770);function k(n){if(Array.isArray(n)){for(var r=0,i=0;i<n.length;i++)r=Math.max(r,k(n[i]));return r}return n}function y(n,r){return n+r}function f(n){var r,i=n.slice(),u=1/0,p=0;for(r=0;r<i.length;r++)Array.isArray(i[r])||(i[r]=[i[r]]),u=Math.min(u,i[r].length),p=Math.max(p,i[r].length);if(u!==p)for(r=0;r<i.length;r++){var h=p-i[r].length;h&&(i[r]=i[r].concat(l(h)))}return i}function l(n){for(var r=new Array(n),i=0;i<n;i++)r[i]="";return r}function t(n){return n.calcdata.columns.reduce(function(r,i){return i.xIndex<n.xIndex?r+i.columnWidth:r},0)}function s(n,r){return Object.keys(n).map(function(i){return w({},n[i],{auxiliaryBlocks:r})})}function o(n,r){for(var i,u={},p=0,h=0,_={firstRowIndex:null,lastRowIndex:null,rows:[]},m=0,d=0,x=0;x<n.length;x++)i=n[x],_.rows.push({rowIndex:x,rowHeight:i}),((h+=i)>=r||x===n.length-1)&&(u[p]=_,_.key=d++,_.firstRowIndex=m,_.lastRowIndex=x,_={firstRowIndex:null,lastRowIndex:null,rows:[]},p+=h,m=x+1,h=0);return u}L.exports=function(n,r){var i=f(r.cells.values),u=function(V){return V.slice(r.header.values.length,V.length)},p=f(r.header.values);p.length&&!p[0].length&&(p[0]=[""],p=f(p));var h=p.concat(u(i).map(function(){return l((p[0]||[""]).length)})),_=r.domain,m=Math.floor(n._fullLayout._size.w*(_.x[1]-_.x[0])),d=Math.floor(n._fullLayout._size.h*(_.y[1]-_.y[0])),x=r.header.values.length?h[0].map(function(){return r.header.height}):[b.emptyHeaderHeight],g=i.length?i[0].map(function(){return r.cells.height}):[],v=x.reduce(y,0),T=o(g,d-v+b.uplift),c=s(o(x,v),[]),E=s(T,c),A={},C=r._fullInput.columnorder.concat(u(i.map(function(V,F){return F}))),O=h.map(function(V,F){var W=Array.isArray(r.columnwidth)?r.columnwidth[Math.min(F,r.columnwidth.length-1)]:r.columnwidth;return a(W)?Number(W):1}),P=O.reduce(y,0);O=O.map(function(V){return V/P*m});var D=Math.max(k(r.header.line.width),k(r.cells.line.width)),z={key:r.uid+n._context.staticPlot,translateX:_.x[0]*n._fullLayout._size.w,translateY:n._fullLayout._size.h*(1-_.y[1]),size:n._fullLayout._size,width:m,maxLineWidth:D,height:d,columnOrder:C,groupHeight:d,rowBlocks:E,headerRowBlocks:c,scrollY:0,cells:w({},r.cells,{values:i}),headerCells:w({},r.header,{values:h}),gdColumns:h.map(function(V){return V[0]}),gdColumnsOriginalOrder:h.map(function(V){return V[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(V,F){var W=A[V];return A[V]=(W||0)+1,{key:V+"__"+A[V],label:V,specIndex:F,xIndex:C[F],xScale:t,x:void 0,calcdata:void 0,columnWidth:O[F]}})};return z.columns.forEach(function(V){V.calcdata=z,V.x=t(V)}),z}},56269:function(L,M,e){"use strict";var b=e(1426).extendFlat;M.splitToPanels=function(w){var a=[0,0],k=b({},w,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:w.calcdata.headerCells.values[w.specIndex],rowBlocks:w.calcdata.headerRowBlocks,calcdata:b({},w.calcdata,{cells:w.calcdata.headerCells})});return[b({},w,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:w.calcdata.cells.values[w.specIndex],rowBlocks:w.calcdata.rowBlocks}),b({},w,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:w.calcdata.cells.values[w.specIndex],rowBlocks:w.calcdata.rowBlocks}),k]},M.splitToCells=function(w){var a=function(k){var y=k.rowBlocks[k.page],f=y?y.rows[0].rowIndex:0;return[f,y?f+y.rows.length:0]}(w);return(w.values||[]).slice(a[0],a[1]).map(function(k,y){return{keyWithinBlock:y+(typeof k=="string"&&k.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+y,column:w,calcdata:w.calcdata,page:w.page,rowBlocks:w.rowBlocks,value:k}})}},39754:function(L,M,e){"use strict";var b=e(71828),w=e(44464),a=e(27670).c;L.exports=function(k,y,f,l){function t(s,o){return b.coerce(k,y,w,s,o)}a(y,l,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),b.coerceFont(t,"header.font",b.extendFlat({},l.font)),function(s,o){for(var n=s.columnorder||[],r=s.header.values.length,i=n.slice(0,r),u=i.slice().sort(function(_,m){return _-m}),p=i.map(function(_){return u.indexOf(_)}),h=p.length;h<r;h++)p.push(h);o("columnorder",p)}(y,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),b.coerceFont(t,"cells.font",b.extendFlat({},l.font)),y._length=null}},96595:function(L,M,e){"use strict";L.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(L,M,e){"use strict";var b=e(49850),w=e(39898),a=e(71828).numberFormat,k=e(28984),y=e(91424),f=e(63893),l=e(71828).raiseToTop,t=e(71828).strTranslate,s=e(71828).cancelTransition,o=e(51018),n=e(56269),r=e(7901);function i(H){return Math.ceil(H.calcdata.maxLineWidth/2)}function u(H,q){return"clip"+H._fullLayout._uid+"_scrollAreaBottomClip_"+q.key}function p(H,q){return"clip"+H._fullLayout._uid+"_columnBoundaryClippath_"+q.calcdata.key+"_"+q.specIndex}function h(H){return[].concat.apply([],H.map(function(q){return q})).map(function(q){return q.__data__})}function _(H,q,ee){var K=H.selectAll("."+b.cn.scrollbarKit).data(k.repeat,k.keyFun);K.enter().append("g").classed(b.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),K.each(function(ae){var oe=ae.scrollbarState;oe.totalHeight=function(se){var ce=se.rowBlocks;return F(ce,ce.length-1)+(ce.length?W(ce[ce.length-1],1/0):1)}(ae),oe.scrollableAreaHeight=ae.groupHeight-E(ae),oe.currentlyVisibleHeight=Math.min(oe.totalHeight,oe.scrollableAreaHeight),oe.ratio=oe.currentlyVisibleHeight/oe.totalHeight,oe.barLength=Math.max(oe.ratio*oe.currentlyVisibleHeight,b.goldenRatio*b.scrollbarWidth),oe.barWiggleRoom=oe.currentlyVisibleHeight-oe.barLength,oe.wiggleRoom=Math.max(0,oe.totalHeight-oe.scrollableAreaHeight),oe.topY=oe.barWiggleRoom===0?0:ae.scrollY/oe.wiggleRoom*oe.barWiggleRoom,oe.bottomY=oe.topY+oe.barLength,oe.dragMultiplier=oe.wiggleRoom/oe.barWiggleRoom}).attr("transform",function(ae){var oe=ae.width+b.scrollbarWidth/2+b.scrollbarOffset;return t(oe,E(ae))});var J=K.selectAll("."+b.cn.scrollbar).data(k.repeat,k.keyFun);J.enter().append("g").classed(b.cn.scrollbar,!0);var Z=J.selectAll("."+b.cn.scrollbarSlider).data(k.repeat,k.keyFun);Z.enter().append("g").classed(b.cn.scrollbarSlider,!0),Z.attr("transform",function(ae){return t(0,ae.scrollbarState.topY||0)});var $=Z.selectAll("."+b.cn.scrollbarGlyph).data(k.repeat,k.keyFun);$.enter().append("line").classed(b.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",b.scrollbarWidth).attr("stroke-linecap","round").attr("y1",b.scrollbarWidth/2),$.attr("y2",function(ae){return ae.scrollbarState.barLength-b.scrollbarWidth/2}).attr("stroke-opacity",function(ae){return ae.columnDragInProgress||!ae.scrollbarState.barWiggleRoom||ee?0:.4}),$.transition().delay(0).duration(0),$.transition().delay(b.scrollbarHideDelay).duration(b.scrollbarHideDuration).attr("stroke-opacity",0);var ne=J.selectAll("."+b.cn.scrollbarCaptureZone).data(k.repeat,k.keyFun);ne.enter().append("line").classed(b.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",b.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ae){var oe=w.event.y,se=this.getBoundingClientRect(),ce=ae.scrollbarState,me=oe-se.top,xe=w.scale.linear().domain([0,ce.scrollableAreaHeight]).range([0,ce.totalHeight]).clamp(!0);ce.topY<=me&&me<=ce.bottomY||C(q,H,null,xe(me-ce.barLength/2))(ae)}).call(w.behavior.drag().origin(function(ae){return w.event.stopPropagation(),ae.scrollbarState.scrollbarScrollInProgress=!0,ae}).on("drag",C(q,H)).on("dragend",function(){})),ne.attr("y2",function(ae){return ae.scrollbarState.scrollableAreaHeight}),q._context.staticPlot&&($.remove(),ne.remove())}function m(H,q,ee,K){var J=function(oe){var se=oe.selectAll("."+b.cn.columnCells).data(k.repeat,k.keyFun);return se.enter().append("g").classed(b.cn.columnCells,!0),se.exit().remove(),se}(ee),Z=function(oe){var se=oe.selectAll("."+b.cn.columnCell).data(n.splitToCells,function(ce){return ce.keyWithinBlock});return se.enter().append("g").classed(b.cn.columnCell,!0),se.exit().remove(),se}(J);(function(oe){oe.each(function(se,ce){var me=se.calcdata.cells.font,xe=se.column.specIndex,ve={size:g(me.size,xe,ce),color:g(me.color,xe,ce),family:g(me.family,xe,ce)};se.rowNumber=se.key,se.align=g(se.calcdata.cells.align,xe,ce),se.cellBorderWidth=g(se.calcdata.cells.line.width,xe,ce),se.font=ve})})(Z);var $=function(oe){var se=oe.selectAll("."+b.cn.cellRect).data(k.repeat,function(ce){return ce.keyWithinBlock});return se.enter().append("rect").classed(b.cn.cellRect,!0),se}(Z);(function(oe){oe.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ce=w.select(this);r.stroke(ce,g(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),r.fill(ce,g(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})})($);var ne=function(oe){var se=oe.selectAll("."+b.cn.cellTextHolder).data(k.repeat,function(ce){return ce.keyWithinBlock});return se.enter().append("g").classed(b.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}(Z),ae=function(oe){var se=oe.selectAll("."+b.cn.cellText).data(k.repeat,function(ce){return ce.keyWithinBlock});return se.enter().append("text").classed(b.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){w.event.stopPropagation()}),se}(ne);(function(oe){oe.each(function(se){y.font(w.select(this),se.font)})})(ae),d(ae,q,K,H),V(Z)}function d(H,q,ee,K){H.text(function(J){var Z=J.column.specIndex,$=J.rowNumber,ne=J.value,ae=typeof ne=="string",oe=ae&&ne.match(/<br>/i),se=!ae||oe;J.mayHaveMarkup=ae&&ne.match(/[<&>]/);var ce,me=typeof(ce=ne)=="string"&&ce.match(b.latexCheck);J.latex=me;var xe,ve,fe=me?"":g(J.calcdata.cells.prefix,Z,$)||"",pe=me?"":g(J.calcdata.cells.suffix,Z,$)||"",Le=me?null:g(J.calcdata.cells.format,Z,$)||null,ye=fe+(Le?a(Le)(J.value):J.value)+pe;if(J.wrappingNeeded=!J.wrapped&&!se&&!me&&(xe=x(ye)),J.cellHeightMayIncrease=oe||me||J.mayHaveMarkup||(xe===void 0?x(ye):xe),J.needsConvertToTspans=J.mayHaveMarkup||J.wrappingNeeded||J.latex,J.wrappingNeeded){var Ae=(b.wrapSplitCharacter===" "?ye.replace(/<a href=/gi,"<a_href="):ye).split(b.wrapSplitCharacter),Me=b.wrapSplitCharacter===" "?Ae.map(function(ke){return ke.replace(/<a_href=/gi,"<a href=")}):Ae;J.fragments=Me.map(function(ke){return{text:ke,width:null}}),J.fragments.push({fragment:b.wrapSpacer,width:null}),ve=Me.join(b.lineBreaker)+b.lineBreaker+b.wrapSpacer}else delete J.fragments,ve=ye;return ve}).attr("dy",function(J){return J.needsConvertToTspans?0:"0.75em"}).each(function(J){var Z=this,$=w.select(Z),ne=J.wrappingNeeded?P:D;J.needsConvertToTspans?f.convertToTspans($,K,ne(ee,Z,q,K,J)):w.select(Z.parentNode).attr("transform",function(ae){return t(z(ae),b.cellPad)}).attr("text-anchor",function(ae){return{left:"start",center:"middle",right:"end"}[ae.align]})})}function x(H){return H.indexOf(b.wrapSplitCharacter)!==-1}function g(H,q,ee){if(Array.isArray(H)){var K=H[Math.min(q,H.length-1)];return Array.isArray(K)?K[Math.min(ee,K.length-1)]:K}return H}function v(H,q,ee){H.transition().ease(b.releaseTransitionEase).duration(b.releaseTransitionDuration).attr("transform",t(q.x,ee))}function T(H){return H.type==="cells"}function c(H){return H.type==="header"}function E(H){return(H.rowBlocks.length?H.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(q,ee){return q+W(ee,1/0)},0)}function A(H,q,ee){var K=h(q)[0];if(K!==void 0){var J=K.rowBlocks,Z=K.calcdata,$=F(J,J.length),ne=K.calcdata.groupHeight-E(K),ae=Z.scrollY=Math.max(0,Math.min($-ne,Z.scrollY)),oe=function(se,ce,me){for(var xe=[],ve=0,fe=0;fe<se.length;fe++){for(var pe=se[fe],Le=pe.rows,ye=0,Ae=0;Ae<Le.length;Ae++)ye+=Le[Ae].rowHeight;pe.allRowsHeight=ye,ce<ve+ye&&ce+me>ve&&xe.push(fe),ve+=ye}return xe}(J,ae,ne);oe.length===1&&(oe[0]===J.length-1?oe.unshift(oe[0]-1):oe.push(oe[0]+1)),oe[0]%2&&oe.reverse(),q.each(function(se,ce){se.page=oe[ce],se.scrollY=ae}),q.attr("transform",function(se){var ce=F(se.rowBlocks,se.page)-se.scrollY;return t(0,ce)}),H&&(O(H,ee,q,oe,K.prevPages,K,0),O(H,ee,q,oe,K.prevPages,K,1),_(ee,H))}}function C(H,q,ee,K){return function(J){var Z=J.calcdata?J.calcdata:J,$=q.filter(function(se){return Z.key===se.key}),ne=ee||Z.scrollbarState.dragMultiplier,ae=Z.scrollY;Z.scrollY=K===void 0?Z.scrollY+ne*w.event.dy:K;var oe=$.selectAll("."+b.cn.yColumn).selectAll("."+b.cn.columnBlock).filter(T);return A(H,oe,$),Z.scrollY===ae}}function O(H,q,ee,K,J,Z,$){K[$]!==J[$]&&(clearTimeout(Z.currentRepaint[$]),Z.currentRepaint[$]=setTimeout(function(){var ne=ee.filter(function(ae,oe){return oe===$&&K[oe]!==J[oe]});m(H,q,ne,ee),J[$]=K[$]}))}function P(H,q,ee,K){return function(){var J=w.select(q.parentNode);J.each(function(Z){var $=Z.fragments;J.selectAll("tspan.line").each(function(ve,fe){$[fe].width=this.getComputedTextLength()});var ne,ae,oe=$[$.length-1].width,se=$.slice(0,-1),ce=[],me=0,xe=Z.column.columnWidth-2*b.cellPad;for(Z.value="";se.length;)me+(ae=(ne=se.shift()).width+oe)>xe&&(Z.value+=ce.join(b.wrapSpacer)+b.lineBreaker,ce=[],me=0),ce.push(ne.text),me+=ae;me&&(Z.value+=ce.join(b.wrapSpacer)),Z.wrapped=!0}),J.selectAll("tspan.line").remove(),d(J.select("."+b.cn.cellText),ee,H,K),w.select(q.parentNode.parentNode).call(V)}}function D(H,q,ee,K,J){return function(){if(!J.settledY){var Z=w.select(q.parentNode),$=U(J),ne=J.key-$.firstRowIndex,ae=$.rows[ne].rowHeight,oe=J.cellHeightMayIncrease?q.parentNode.getBoundingClientRect().height+2*b.cellPad:ae,se=Math.max(oe,ae);se-$.rows[ne].rowHeight&&($.rows[ne].rowHeight=se,H.selectAll("."+b.cn.columnCell).call(V),A(null,H.filter(T),0),_(ee,K,!0)),Z.attr("transform",function(){var ce=this,me=ce.parentNode.getBoundingClientRect(),xe=w.select(ce.parentNode).select("."+b.cn.cellRect).node().getBoundingClientRect(),ve=ce.transform.baseVal.consolidate(),fe=xe.top-me.top+(ve?ve.matrix.f:b.cellPad);return t(z(J,w.select(ce.parentNode).select("."+b.cn.cellTextHolder).node().getBoundingClientRect().width),fe)}),J.settledY=!0}}}function z(H,q){switch(H.align){case"left":default:return b.cellPad;case"right":return H.column.columnWidth-(q||0)-b.cellPad;case"center":return(H.column.columnWidth-(q||0))/2}}function V(H){H.attr("transform",function(q){var ee=q.rowBlocks[0].auxiliaryBlocks.reduce(function(J,Z){return J+W(Z,1/0)},0),K=W(U(q),q.key);return t(0,K+ee)}).selectAll("."+b.cn.cellRect).attr("height",function(q){return(ee=U(q),K=q.key,ee.rows[K-ee.firstRowIndex]).rowHeight;var ee,K})}function F(H,q){for(var ee=0,K=q-1;K>=0;K--)ee+=B(H[K]);return ee}function W(H,q){for(var ee=0,K=0;K<H.rows.length&&H.rows[K].rowIndex<q;K++)ee+=H.rows[K].rowHeight;return ee}function B(H){var q=H.allRowsHeight;if(q!==void 0)return q;for(var ee=0,K=0;K<H.rows.length;K++)ee+=H.rows[K].rowHeight;return H.allRowsHeight=ee,ee}function U(H){return H.rowBlocks[H.page]}L.exports=function(H,q){var ee=!H._context.staticPlot,K=H._fullLayout._paper.selectAll("."+b.cn.table).data(q.map(function(pe){var Le=k.unwrap(pe).trace;return o(H,Le)}),k.keyFun);K.exit().remove(),K.enter().append("g").classed(b.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),K.attr("width",function(pe){return pe.width+pe.size.l+pe.size.r}).attr("height",function(pe){return pe.height+pe.size.t+pe.size.b}).attr("transform",function(pe){return t(pe.translateX,pe.translateY)});var J=K.selectAll("."+b.cn.tableControlView).data(k.repeat,k.keyFun),Z=J.enter().append("g").classed(b.cn.tableControlView,!0).style("box-sizing","content-box");if(ee){var $="onwheel"in document?"wheel":"mousewheel";Z.on("mousemove",function(pe){J.filter(function(Le){return pe===Le}).call(_,H)}).on($,function(pe){if(!pe.scrollbarState.wheeling){pe.scrollbarState.wheeling=!0;var Le=pe.scrollY+w.event.deltaY;C(H,J,null,Le)(pe)||(w.event.stopPropagation(),w.event.preventDefault()),pe.scrollbarState.wheeling=!1}}).call(_,H,!0)}J.attr("transform",function(pe){return t(pe.size.l,pe.size.t)});var ne=J.selectAll("."+b.cn.scrollBackground).data(k.repeat,k.keyFun);ne.enter().append("rect").classed(b.cn.scrollBackground,!0).attr("fill","none"),ne.attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}),J.each(function(pe){y.setClipUrl(w.select(this),u(H,pe),H)});var ae=J.selectAll("."+b.cn.yColumn).data(function(pe){return pe.columns},k.keyFun);ae.enter().append("g").classed(b.cn.yColumn,!0),ae.exit().remove(),ae.attr("transform",function(pe){return t(pe.x,0)}),ee&&ae.call(w.behavior.drag().origin(function(pe){return v(w.select(this),pe,-b.uplift),l(this),pe.calcdata.columnDragInProgress=!0,_(J.filter(function(Le){return pe.calcdata.key===Le.key}),H),pe}).on("drag",function(pe){var Le=w.select(this),ye=function(Ae){return(pe===Ae?w.event.x:Ae.x)+Ae.columnWidth/2};pe.x=Math.max(-b.overdrag,Math.min(pe.calcdata.width+b.overdrag-pe.columnWidth,w.event.x)),h(ae).filter(function(Ae){return Ae.calcdata.key===pe.calcdata.key}).sort(function(Ae,Me){return ye(Ae)-ye(Me)}).forEach(function(Ae,Me){Ae.xIndex=Me,Ae.x=pe===Ae?Ae.x:Ae.xScale(Ae)}),ae.filter(function(Ae){return pe!==Ae}).transition().ease(b.transitionEase).duration(b.transitionDuration).attr("transform",function(Ae){return t(Ae.x,0)}),Le.call(s).attr("transform",t(pe.x,-b.uplift))}).on("dragend",function(pe){var Le=w.select(this),ye=pe.calcdata;pe.x=pe.xScale(pe),pe.calcdata.columnDragInProgress=!1,v(Le,pe,0),function(Ae,Me,ke){var te=Me.gdColumnsOriginalOrder;Me.gdColumns.sort(function(ue,ge){return ke[te.indexOf(ue)]-ke[te.indexOf(ge)]}),Me.columnorder=ke,Ae.emit("plotly_restyle")}(H,ye,ye.columns.map(function(Ae){return Ae.xIndex}))})),ae.each(function(pe){y.setClipUrl(w.select(this),p(H,pe),H)});var oe=ae.selectAll("."+b.cn.columnBlock).data(n.splitToPanels,k.keyFun);oe.enter().append("g").classed(b.cn.columnBlock,!0).attr("id",function(pe){return pe.key}),oe.style("cursor",function(pe){return pe.dragHandle?"ew-resize":pe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var se=oe.filter(c),ce=oe.filter(T);ee&&ce.call(w.behavior.drag().origin(function(pe){return w.event.stopPropagation(),pe}).on("drag",C(H,J,-1)).on("dragend",function(){})),m(H,J,se,oe),m(H,J,ce,oe);var me=J.selectAll("."+b.cn.scrollAreaClip).data(k.repeat,k.keyFun);me.enter().append("clipPath").classed(b.cn.scrollAreaClip,!0).attr("id",function(pe){return u(H,pe)});var xe=me.selectAll("."+b.cn.scrollAreaClipRect).data(k.repeat,k.keyFun);xe.enter().append("rect").classed(b.cn.scrollAreaClipRect,!0).attr("x",-b.overdrag).attr("y",-b.uplift).attr("fill","none"),xe.attr("width",function(pe){return pe.width+2*b.overdrag}).attr("height",function(pe){return pe.height+b.uplift}),ae.selectAll("."+b.cn.columnBoundary).data(k.repeat,k.keyFun).enter().append("g").classed(b.cn.columnBoundary,!0);var ve=ae.selectAll("."+b.cn.columnBoundaryClippath).data(k.repeat,k.keyFun);ve.enter().append("clipPath").classed(b.cn.columnBoundaryClippath,!0),ve.attr("id",function(pe){return p(H,pe)});var fe=ve.selectAll("."+b.cn.columnBoundaryRect).data(k.repeat,k.keyFun);fe.enter().append("rect").classed(b.cn.columnBoundaryRect,!0).attr("fill","none"),fe.attr("width",function(pe){return pe.columnWidth+2*i(pe)}).attr("height",function(pe){return pe.calcdata.height+2*i(pe)+b.uplift}).attr("x",function(pe){return-i(pe)}).attr("y",function(pe){return-i(pe)}),A(null,ce,J)}},45802:function(L,M,e){"use strict";var b=e(5386).fF,w=e(5386).si,a=e(50693),k=e(27670).Y,y=e(34e3),f=e(57564),l=e(43473),t=e(1426).extendFlat;L.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:f.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:f.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},y.textfont,{}),editType:"calc"},text:y.text,textinfo:f.textinfo,texttemplate:w({editType:"plot"},{keys:l.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:f.hoverinfo,hovertemplate:b({},{keys:l.eventDataKeys}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:t({},y.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:y.sort,root:f.root,domain:k({name:"treemap",trace:!0,editType:"calc"})}},78018:function(L,M,e){"use strict";var b=e(74875);M.name="treemap",M.plot=function(w,a,k,y){b.plotBasePlot(M.name,w,a,k,y)},M.clean=function(w,a,k,y){b.cleanBasePlot(M.name,w,a,k,y)}},65039:function(L,M,e){"use strict";var b=e(52147);M.y=function(w,a){return b.calc(w,a)},M.T=function(w){return b._runCrossTraceCalc("treemap",w)}},43473:function(L){"use strict";L.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(L,M,e){"use strict";var b=e(71828),w=e(45802),a=e(7901),k=e(27670).c,y=e(90769).handleText,f=e(97313).TEXTPAD,l=e(21081),t=l.hasColorscale,s=l.handleDefaults;L.exports=function(o,n,r,i){function u(T,c){return b.coerce(o,n,w,T,c)}var p=u("labels"),h=u("parents");if(p&&p.length&&h&&h.length){var _=u("values");_&&_.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),u("tiling.packing")==="squarify"&&u("tiling.squarifyratio"),u("tiling.flip"),u("tiling.pad");var m=u("text");u("texttemplate"),n.texttemplate||u("textinfo",Array.isArray(m)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d=u("pathbar.visible");y(o,n,i,u,"auto",{hasPathbar:d,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("textposition");var x=n.textposition.indexOf("bottom")!==-1;u("marker.line.width")&&u("marker.line.color",i.paper_bgcolor);var g=u("marker.colors");(n._hasColorscale=t(o,"marker","colors")||(o.marker||{}).coloraxis)?s(o,n,i,u,{prefix:"marker.",cLetter:"c"}):u("marker.depthfade",!(g||[]).length);var v=2*n.textfont.size;u("marker.pad.t",x?v/4:v),u("marker.pad.l",v/4),u("marker.pad.r",v/4),u("marker.pad.b",x?v:v/4),u("marker.cornerradius"),n._hovered={marker:{line:{width:2,color:a.contrast(i.paper_bgcolor)}}},d&&(u("pathbar.thickness",n.pathbar.textfont.size+2*f),u("pathbar.side"),u("pathbar.edgeshape")),u("sort"),u("root.color"),k(n,i,u),n._length=null}else n.visible=!1}},80694:function(L,M,e){"use strict";var b=e(39898),w=e(2791),a=e(72597).clearMinTextSize,k=e(16688).resizeText,y=e(46650);L.exports=function(f,l,t,s,o){var n,r,i=o.type,u=o.drawDescendants,p=f._fullLayout,h=p["_"+i+"layer"],_=!t;a(i,p),(n=h.selectAll("g.trace."+i).data(l,function(m){return m[0].trace.uid})).enter().append("g").classed("trace",!0).classed(i,!0),n.order(),!p.uniformtext.mode&&w.hasTransition(t)?(s&&(r=s()),b.transition().duration(t.duration).ease(t.easing).each("end",function(){r&&r()}).each("interrupt",function(){r&&r()}).each(function(){h.selectAll("g.trace").each(function(m){y(f,m,this,t,u)})})):(n.each(function(m){y(f,m,this,t,u)}),p.uniformtext.mode&&k(f,h.selectAll(".trace"),i)),_&&n.exit().remove()}},66209:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(63893),y=e(37210),f=e(96362).styleOne,l=e(43473),t=e(2791),s=e(83523),o=!0;L.exports=function(n,r,i,u,p){var h=p.barDifY,_=p.width,m=p.height,d=p.viewX,x=p.viewY,g=p.pathSlice,v=p.toMoveInsideSlice,T=p.strTransform,c=p.hasTransition,E=p.handleSlicesExit,A=p.makeUpdateSliceInterpolator,C=p.makeUpdateTextInterpolator,O={},P=n._context.staticPlot,D=n._fullLayout,z=r[0],V=z.trace,F=z.hierarchy,W=_/V._entryDepth,B=t.listPath(i.data,"id"),U=y(F.copy(),[_,m],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(U=U.filter(function(q){var ee=B.indexOf(q.data.id);return ee!==-1&&(q.x0=W*ee,q.x1=W*(ee+1),q.y0=h,q.y1=h+m,q.onPathbar=!0,!0)})).reverse(),(u=u.data(U,t.getPtId)).enter().append("g").classed("pathbar",!0),E(u,o,O,[_,m],g),u.order();var H=u;c&&(H=H.transition().each("end",function(){var q=b.select(this);t.setSliceCursor(q,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(q){q._x0=d(q.x0),q._x1=d(q.x1),q._y0=x(q.y0),q._y1=x(q.y1),q._hoverX=d(q.x1-Math.min(_,m)/2),q._hoverY=x(q.y1-m/2);var ee=b.select(this),K=w.ensureSingle(ee,"path","surface",function(ne){ne.style("pointer-events",P?"none":"all")});c?K.transition().attrTween("d",function(ne){var ae=A(ne,o,O,[_,m]);return function(oe){return g(ae(oe))}}):K.attr("d",g),ee.call(s,i,n,r,{styleOne:f,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),K.call(f,q,V,{hovered:!1}),q._text=(t.getPtLabel(q)||"").split("<br>").join(" ")||"";var J=w.ensureSingle(ee,"g","slicetext"),Z=w.ensureSingle(J,"text","",function(ne){ne.attr("data-notex",1)}),$=w.ensureUniformFontSize(n,t.determineTextFont(V,q,D.font,{onPathbar:!0}));Z.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,$).call(k.convertToTspans,n),q.textBB=a.bBox(Z.node()),q.transform=v(q,{fontSize:$.size,onPathbar:!0}),q.transform.fontSize=$.size,c?Z.transition().attrTween("transform",function(ne){var ae=C(ne,o,O,[_,m]);return function(oe){return T(ae(oe))}}):Z.attr("transform",T(q))})}},52583:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(63893),y=e(37210),f=e(96362).styleOne,l=e(43473),t=e(2791),s=e(83523),o=e(24714).formatSliceLabel,n=!1;L.exports=function(r,i,u,p,h){var _=h.width,m=h.height,d=h.viewX,x=h.viewY,g=h.pathSlice,v=h.toMoveInsideSlice,T=h.strTransform,c=h.hasTransition,E=h.handleSlicesExit,A=h.makeUpdateSliceInterpolator,C=h.makeUpdateTextInterpolator,O=h.prevEntry,P=r._context.staticPlot,D=r._fullLayout,z=i[0].trace,V=z.textposition.indexOf("left")!==-1,F=z.textposition.indexOf("right")!==-1,W=z.textposition.indexOf("bottom")!==-1,B=!W&&!z.marker.pad.t||W&&!z.marker.pad.b,U=y(u,[_,m],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),H=1/0,q=-1/0;U.forEach(function($){var ne=$.depth;ne>=z._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(H=Math.min(H,ne),q=Math.max(q,ne))}),p=p.data(U,t.getPtId),z._maxVisibleLayers=isFinite(q)?q-H+1:0,p.enter().append("g").classed("slice",!0),E(p,n,{},[_,m],g),p.order();var ee=null;if(c&&O){var K=t.getPtId(O);p.each(function($){ee===null&&t.getPtId($)===K&&(ee={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var J=function(){return ee||{x0:0,x1:_,y0:0,y1:m}},Z=p;return c&&(Z=Z.transition().each("end",function(){var $=b.select(this);t.setSliceCursor($,r,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function($){var ne=t.isHeader($,z);$._x0=d($.x0),$._x1=d($.x1),$._y0=x($.y0),$._y1=x($.y1),$._hoverX=d($.x1-z.marker.pad.r),$._hoverY=x(W?$.y1-z.marker.pad.b/2:$.y0+z.marker.pad.t/2);var ae=b.select(this),oe=w.ensureSingle(ae,"path","surface",function(xe){xe.style("pointer-events",P?"none":"all")});c?oe.transition().attrTween("d",function(xe){var ve=A(xe,n,J(),[_,m]);return function(fe){return g(ve(fe))}}):oe.attr("d",g),ae.call(s,u,r,i,{styleOne:f,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,r,{isTransitioning:r._transitioning}),oe.call(f,$,z,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=ne?B?"":t.getPtLabel($)||"":o($,u,z,i,D)||"";var se=w.ensureSingle(ae,"g","slicetext"),ce=w.ensureSingle(se,"text","",function(xe){xe.attr("data-notex",1)}),me=w.ensureUniformFontSize(r,t.determineTextFont(z,$,D.font));ce.text($._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":V||ne?"start":"middle").call(a.font,me).call(k.convertToTspans,r),$.textBB=a.bBox(ce.node()),$.transform=v($,{fontSize:me.size,isHeader:ne}),$.transform.fontSize=me.size,c?ce.transition().attrTween("transform",function(xe){var ve=C(xe,n,J(),[_,m]);return function(fe){return T(ve(fe))}}):ce.attr("transform",T($))}),ee}},14102:function(L){"use strict";L.exports=function M(e,b,w){var a;w.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),w.flipX&&(a=e.x0,e.x0=b[0]-e.x1,e.x1=b[0]-a),w.flipY&&(a=e.y0,e.y0=b[1]-e.y1,e.y1=b[1]-a);var k=e.children;if(k)for(var y=0;y<k.length;y++)M(k[y],b,w)}},70954:function(L,M,e){"use strict";L.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(L){"use strict";L.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(L,M,e){"use strict";var b=e(71828),w=e(55479);L.exports=function(a,k){function y(f,l){return b.coerce(a,k,w,f,l)}y("treemapcolorway",k.colorway),y("extendtreemapcolors")}},37210:function(L,M,e){"use strict";var b=e(674),w=e(14102);L.exports=function(a,k,y){var f,l=y.flipX,t=y.flipY,s=y.packing==="dice-slice",o=y.pad[t?"bottom":"top"],n=y.pad[l?"right":"left"],r=y.pad[l?"left":"right"],i=y.pad[t?"top":"bottom"];s&&(f=n,n=o,o=f,f=r,r=i,i=f);var u=b.treemap().tile(function(p,h){switch(p){case"squarify":return b.treemapSquarify.ratio(h);case"binary":return b.treemapBinary;case"dice":return b.treemapDice;case"slice":return b.treemapSlice;default:return b.treemapSliceDice}}(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(n).paddingRight(r).paddingTop(o).paddingBottom(i).size(s?[k[1],k[0]]:k)(a);return(s||l||t)&&w(u,k,{swapXY:s,flipX:l,flipY:t}),u}},5893:function(L,M,e){"use strict";var b=e(80694),w=e(52583);L.exports=function(a,k,y,f){return b(a,k,y,f,{type:"treemap",drawDescendants:w})}},46650:function(L,M,e){"use strict";var b=e(39898),w=e(81684).sX,a=e(2791),k=e(71828),y=e(97313).TEXTPAD,f=e(17295).toMoveInsideBar,l=e(72597).recordMinTextSize,t=e(43473),s=e(66209);function o(n){return a.isHierarchyRoot(n)?"":a.getPtId(n)}L.exports=function(n,r,i,u,p){var h=n._fullLayout,_=r[0],m=_.trace,d=m.type==="icicle",x=_.hierarchy,g=a.findEntryWithLevel(x,m.level),v=b.select(i),T=v.selectAll("g.pathbar"),c=v.selectAll("g.slice");if(!g)return T.remove(),void c.remove();var E=a.isHierarchyRoot(g),A=!h.uniformtext.mode&&a.hasTransition(u),C=a.getMaxDepth(m),O=h._size,P=m.domain,D=O.w*(P.x[1]-P.x[0]),z=O.h*(P.y[1]-P.y[0]),V=D,F=m.pathbar.thickness,W=m.marker.line.width+t.gapWithPathbar,B=m.pathbar.visible?m.pathbar.side.indexOf("bottom")>-1?z+W:-(F+W):0,U={x0:V,x1:V,y0:B,y1:B+F},H=function(he,_e,Te){var Fe=m.tiling.pad,Ye=function(ht){return ht-Fe<=_e.x0},Ge=function(ht){return ht+Fe>=_e.x1},ot=function(ht){return ht-Fe<=_e.y0},st=function(ht){return ht+Fe>=_e.y1};return he.x0===_e.x0&&he.x1===_e.x1&&he.y0===_e.y0&&he.y1===_e.y1?{x0:he.x0,x1:he.x1,y0:he.y0,y1:he.y1}:{x0:Ye(he.x0-Fe)?0:Ge(he.x0-Fe)?Te[0]:he.x0,x1:Ye(he.x1+Fe)?0:Ge(he.x1+Fe)?Te[0]:he.x1,y0:ot(he.y0-Fe)?0:st(he.y0-Fe)?Te[1]:he.y0,y1:ot(he.y1+Fe)?0:st(he.y1+Fe)?Te[1]:he.y1}},q=null,ee={},K={},J=null,Z=function(he,_e){return _e?ee[o(he)]:K[o(he)]};_.hasMultipleRoots&&E&&C++,m._maxDepth=C,m._backgroundColor=h.paper_bgcolor,m._entryDepth=g.data.depth,m._atRootLevel=E;var $=-D/2+O.l+O.w*(P.x[1]+P.x[0])/2,ne=-z/2+O.t+O.h*(1-(P.y[1]+P.y[0])/2),ae=function(he){return $+he},oe=function(he){return ne+he},se=oe(0),ce=ae(0),me=function(he){return ce+he},xe=function(he){return se+he};function ve(he,_e){return he+","+_e}var fe=me(0),pe=function(he){he.x=Math.max(fe,he.x)},Le=m.pathbar.edgeshape,ye=m[d?"tiling":"marker"].pad,Ae=function(he){return m.textposition.indexOf(he)!==-1},Me=Ae("top"),ke=Ae("left"),te=Ae("right"),ue=Ae("bottom"),ge=function(he,_e){var Te=he.x0,Fe=he.x1,Ye=he.y0,Ge=he.y1,ot=he.textBB,st=Me||_e.isHeader&&!ue?"start":ue?"end":"middle",ht=Ae("right"),xt=Ae("left")||_e.onPathbar?-1:ht?1:0;if(_e.isHeader){if((Te+=(d?ye:ye.l)-y)>=(Fe-=(d?ye:ye.r)-y)){var Ct=(Te+Fe)/2;Te=Ct,Fe=Ct}var St;ue?Ye<(St=Ge-(d?ye:ye.b))&&St<Ge&&(Ye=St):Ye<(St=Ye+(d?ye:ye.t))&&St<Ge&&(Ge=St)}var kt=f(Te,Fe,Ye,Ge,ot,{isHorizontal:!1,constrained:!0,angle:0,anchor:st,leftToRight:xt});return kt.fontSize=_e.fontSize,kt.targetX=ae(kt.targetX),kt.targetY=oe(kt.targetY),isNaN(kt.targetX)||isNaN(kt.targetY)?{}:(Te!==Fe&&Ye!==Ge&&l(m.type,kt,h),{scale:kt.scale,rotate:kt.rotate,textX:kt.textX,textY:kt.textY,anchorX:kt.anchorX,anchorY:kt.anchorY,targetX:kt.targetX,targetY:kt.targetY})},we=function(he,_e){for(var Te,Fe=0,Ye=he;!Te&&Fe<C;)Fe++,(Ye=Ye.parent)?Te=Z(Ye,_e):Fe=C;return Te||{}},Ee=function(he,_e,Te,Fe,Ye){var Ge,ot=Z(he,_e);if(ot)Ge=ot;else if(_e)Ge=U;else if(q)if(he.parent){var st=J||Te;st&&!_e?Ge=H(he,st,Fe):(Ge={},k.extendFlat(Ge,we(he,_e)))}else Ge=k.extendFlat({},he),d&&(Ye.orientation==="h"?Ye.flipX?Ge.x0=he.x1:Ge.x1=0:Ye.flipY?Ge.y0=he.y1:Ge.y1=0);else Ge={};return w(Ge,{x0:he.x0,x1:he.x1,y0:he.y0,y1:he.y1})},Be=function(he,_e,Te,Fe){var Ye=Z(he,_e),Ge={},ot=function(ht,xt,Ct,St){if(xt)return ee[o(x)]||U;var kt=K[m.level]||Ct;return function(Nt){return Nt.data.depth-g.data.depth<C}(ht)?H(ht,kt,St):{}}(he,_e,Te,Fe);k.extendFlat(Ge,{transform:ge({x0:ot.x0,x1:ot.x1,y0:ot.y0,y1:ot.y1,textBB:he.textBB,_text:he._text},{isHeader:a.isHeader(he,m)})}),Ye?Ge=Ye:he.parent&&k.extendFlat(Ge,we(he,_e));var st=he.transform;return he.x0!==he.x1&&he.y0!==he.y1&&l(m.type,st,h),w(Ge,{transform:{scale:st.scale,rotate:st.rotate,textX:st.textX,textY:st.textY,anchorX:st.anchorX,anchorY:st.anchorY,targetX:st.targetX,targetY:st.targetY}})},Re=function(he,_e,Te,Fe,Ye){var Ge=Fe[0],ot=Fe[1];A?he.exit().transition().each(function(){var st=b.select(this);st.select("path.surface").transition().attrTween("d",function(ht){var xt=function(Ct,St,kt,Nt){var Dt,Et=Z(Ct,St);if(St)Dt=U;else{var Wt=Z(g,St);Dt=Wt?H(Ct,Wt,Nt):{}}return w(Et,Dt)}(ht,_e,0,[Ge,ot]);return function(Ct){return Ye(xt(Ct))}}),st.select("g.slicetext").attr("opacity",0)}).remove():he.exit().remove()},je=function(he){var _e=he.transform;return he.x0!==he.x1&&he.y0!==he.y1&&l(m.type,_e,h),k.getTextTransform({textX:_e.textX,textY:_e.textY,anchorX:_e.anchorX,anchorY:_e.anchorY,targetX:_e.targetX,targetY:_e.targetY,scale:_e.scale,rotate:_e.rotate})};A&&(T.each(function(he){ee[o(he)]={x0:he.x0,x1:he.x1,y0:he.y0,y1:he.y1},he.transform&&(ee[o(he)].transform={textX:he.transform.textX,textY:he.transform.textY,anchorX:he.transform.anchorX,anchorY:he.transform.anchorY,targetX:he.transform.targetX,targetY:he.transform.targetY,scale:he.transform.scale,rotate:he.transform.rotate})}),c.each(function(he){K[o(he)]={x0:he.x0,x1:he.x1,y0:he.y0,y1:he.y1},he.transform&&(K[o(he)].transform={textX:he.transform.textX,textY:he.transform.textY,anchorX:he.transform.anchorX,anchorY:he.transform.anchorY,targetX:he.transform.targetX,targetY:he.transform.targetY,scale:he.transform.scale,rotate:he.transform.rotate}),!q&&a.isEntry(he)&&(q=he)})),J=p(n,r,g,c,{width:D,height:z,viewX:ae,viewY:oe,pathSlice:function(he){var _e=ae(he.x0),Te=ae(he.x1),Fe=oe(he.y0),Ye=oe(he.y1),Ge=Te-_e,ot=Ye-Fe;if(!Ge||!ot)return"";var st=m.marker.cornerradius||0,ht=Math.min(st,Ge/2,ot/2);ht&&he.data&&he.data.data&&he.data.data.label&&(Me&&(ht=Math.min(ht,ye.t)),ke&&(ht=Math.min(ht,ye.l)),te&&(ht=Math.min(ht,ye.r)),ue&&(ht=Math.min(ht,ye.b)));var xt=function(Ct,St){return ht?"a"+ve(ht,ht)+" 0 0 1 "+ve(Ct,St):""};return"M"+ve(_e,Fe+ht)+xt(ht,-ht)+"L"+ve(Te-ht,Fe)+xt(ht,ht)+"L"+ve(Te,Ye-ht)+xt(-ht,ht)+"L"+ve(_e+ht,Ye)+xt(-ht,-ht)+"Z"},toMoveInsideSlice:ge,prevEntry:q,makeUpdateSliceInterpolator:Ee,makeUpdateTextInterpolator:Be,handleSlicesExit:Re,hasTransition:A,strTransform:je}),m.pathbar.visible?s(n,r,g,T,{barDifY:B,width:V,height:F,viewX:me,viewY:xe,pathSlice:function(he){var _e=me(Math.max(Math.min(he.x0,he.x0),0)),Te=me(Math.min(Math.max(he.x1,he.x1),V)),Fe=xe(he.y0),Ye=xe(he.y1),Ge=F/2,ot={},st={};ot.x=_e,st.x=Te,ot.y=st.y=(Fe+Ye)/2;var ht={x:_e,y:Fe},xt={x:Te,y:Fe},Ct={x:Te,y:Ye},St={x:_e,y:Ye};return Le===">"?(ht.x-=Ge,xt.x-=Ge,Ct.x-=Ge,St.x-=Ge):Le==="/"?(Ct.x-=Ge,St.x-=Ge,ot.x-=Ge/2,st.x-=Ge/2):Le==="\\"?(ht.x-=Ge,xt.x-=Ge,ot.x-=Ge/2,st.x-=Ge/2):Le==="<"&&(ot.x-=Ge,st.x-=Ge),pe(ht),pe(St),pe(ot),pe(xt),pe(Ct),pe(st),"M"+ve(ht.x,ht.y)+"L"+ve(xt.x,xt.y)+"L"+ve(st.x,st.y)+"L"+ve(Ct.x,Ct.y)+"L"+ve(St.x,St.y)+"L"+ve(ot.x,ot.y)+"Z"},toMoveInsideSlice:ge,makeUpdateSliceInterpolator:Ee,makeUpdateTextInterpolator:Be,handleSlicesExit:Re,hasTransition:A,strTransform:je}):T.remove()}},96362:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(71828),k=e(2791),y=e(72597).resizeText;function f(l,t,s,o){var n,r,i=(o||{}).hovered,u=t.data.data,p=u.i,h=u.color,_=k.isHierarchyRoot(t),m=1;if(i)n=s._hovered.marker.line.color,r=s._hovered.marker.line.width;else if(_&&h===s.root.color)m=100,n="rgba(0,0,0,0)",r=0;else if(n=a.castOption(s,p,"marker.line.color")||w.defaultLine,r=a.castOption(s,p,"marker.line.width")||0,!s._hasColorscale&&!t.onPathbar){var d=s.marker.depthfade;if(d){var x,g=w.combine(w.addOpacity(s._backgroundColor,.75),h);if(d===!0){var v=k.getMaxDepth(s);x=isFinite(v)?k.isLeaf(t)?0:s._maxVisibleLayers-(t.data.depth-s._entryDepth):t.data.height+1}else x=t.data.depth-s._entryDepth,s._atRootLevel||x++;if(x>0)for(var T=0;T<x;T++){var c=.5*T/x;h=w.combine(w.addOpacity(g,c),h)}}}l.style("stroke-width",r).call(w.fill,h).call(w.stroke,n).style("opacity",m)}L.exports={style:function(l){var t=l._fullLayout._treemaplayer.selectAll(".trace");y(l,t,"treemap"),t.each(function(s){var o=b.select(this),n=s[0].trace;o.style("opacity",n.opacity),o.selectAll("path.surface").each(function(r){b.select(this).call(f,r,n,{hovered:!1})})})},styleOne:f}},68875:function(L,M,e){"use strict";var b=e(53522),w=e(1426).extendFlat,a=e(12663).axisHoverFormat;L.exports={y:b.y,x:b.x,x0:b.x0,y0:b.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:w({},b.name,{}),orientation:w({},b.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:b.fillcolor,points:w({},b.boxpoints,{}),jitter:w({},b.jitter,{}),pointpos:w({},b.pointpos,{}),width:w({},b.width,{}),marker:b.marker,text:b.text,hovertext:b.hovertext,hovertemplate:b.hovertemplate,quartilemethod:b.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,selected:b.selected,unselected:b.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(48518),k=e(60168),y=e(50606).BADNUM;function f(t,s,o){var n=s.max-s.min;if(!n)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,n/1e4);var r=o.length,i=b.stdev(o,r-1,s.mean);return Math.max(function(u,p,h){return 1.059*Math.min(p,h/1.349)*Math.pow(u,-.2)}(r,i,s.q3-s.q1),n/100)}function l(t,s,o,n){var r,i=t.spanmode,u=t.span||[],p=[s.min,s.max],h=[s.min-2*n,s.max+2*n];function _(d){var x=u[d],g=o.type==="multicategory"?o.r2c(x):o.d2c(x,0,t[s.valLetter+"calendar"]);return g===y?h[d]:g}var m={type:"linear",range:r=i==="soft"?h:i==="hard"?p:[_(0),_(1)]};return w.setConvert(m),m.cleanRange(),r}L.exports=function(t,s){var o=a(t,s);if(o[0].t.empty)return o;for(var n=t._fullLayout,r=w.getFromId(t,s[s.orientation==="h"?"xaxis":"yaxis"]),i=1/0,u=-1/0,p=0,h=0,_=0;_<o.length;_++){var m=o[_],d=m.pts.map(k.extractVal),x=m.bandwidth=f(s,m,d),g=m.span=l(s,m,r,x);if(m.min===m.max&&x===0)g=m.span=[m.min,m.max],m.density=[{v:1,t:g[0]}],m.bandwidth=x,p=Math.max(p,1);else{var v=g[1]-g[0],T=Math.ceil(v/(x/3)),c=v/T;if(!isFinite(c)||!isFinite(T))return b.error("Something went wrong with computing the violin span"),o[0].t.empty=!0,o;var E=k.makeKDE(m,s,d);m.density=new Array(T);for(var A=0,C=g[0];C<g[1]+c/2;A++,C+=c){var O=E(C);m.density[A]={v:O,t:C},p=Math.max(p,O)}}h=Math.max(h,d.length),i=Math.min(i,g[0]),u=Math.max(u,g[1])}var P=w.findExtremes(r,[i,u],{padded:!0});if(s._extremes[r._id]=P,s.width)o[0].t.maxKDE=p;else{var D=n._violinScaleGroupStats,z=s.scalegroup,V=D[z];V?(V.maxKDE=Math.max(V.maxKDE,p),V.maxCount=Math.max(V.maxCount,h)):D[z]={maxKDE:p,maxCount:h}}return o[0].t.labels.kde=b._(t,"kde:"),o}},86403:function(L,M,e){"use strict";var b=e(37188).setPositionOffset,w=["v","h"];L.exports=function(a,k){for(var y=a.calcdata,f=k.xaxis,l=k.yaxis,t=0;t<w.length;t++){for(var s=w[t],o=s==="h"?l:f,n=[],r=0;r<y.length;r++){var i=y[r],u=i[0].t,p=i[0].trace;p.visible!==!0||p.type!=="violin"||u.empty||p.orientation!==s||p.xaxis!==f._id||p.yaxis!==l._id||n.push(r)}b("violin",a,n,o)}}},15899:function(L,M,e){"use strict";var b=e(71828),w=e(7901),a=e(36411),k=e(68875);L.exports=function(y,f,l,t){function s(v,T){return b.coerce(y,f,k,v,T)}function o(v,T){return b.coerce2(y,f,k,v,T)}if(a.handleSampleDefaults(y,f,s,t),f.visible!==!1){s("bandwidth"),s("side"),s("width")||(s("scalegroup",f.name),s("scalemode"));var n,r=s("span");Array.isArray(r)&&(n="manual"),s("spanmode",n);var i=s("line.color",(y.marker||{}).color||l),u=s("line.width"),p=s("fillcolor",w.addOpacity(f.line.color,.5));a.handlePointsDefaults(y,f,s,{prefix:""});var h=o("box.width"),_=o("box.fillcolor",p),m=o("box.line.color",i),d=o("box.line.width",u);s("box.visible",!!(h||_||m||d))||(f.box={visible:!1});var x=o("meanline.color",i),g=o("meanline.width",u);s("meanline.visible",!!(x||g))||(f.meanline={visible:!1}),s("quartilemethod")}}},60168:function(L,M,e){"use strict";var b=e(71828),w=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};M.makeKDE=function(a,k,y){var f=y.length,l=w,t=a.bandwidth,s=1/(f*t);return function(o){for(var n=0,r=0;r<f;r++)n+=l((o-y[r])/t);return s*n}},M.getPositionOnKdePath=function(a,k,y){var f,l;k.orientation==="h"?(f="y",l="x"):(f="x",l="y");var t=b.findPointOnPath(a.path,y,l,{pathLength:a.pathLength}),s=a.posCenterPx,o=t[f];return[o,k.side==="both"?2*s-o:s]},M.getKdeValue=function(a,k,y){var f=a.pts.map(M.extractVal);return M.makeKDE(a,k,f)(y)/a.posDensityScale},M.extractVal=function(a){return a.v}},57634:function(L,M,e){"use strict";var b=e(7901),w=e(71828),a=e(89298),k=e(41868),y=e(60168);L.exports=function(f,l,t,s,o){o||(o={});var n,r,i=o.hoverLayer,u=f.cd,p=u[0].trace,h=p.hoveron,_=h.indexOf("violins")!==-1,m=h.indexOf("kde")!==-1,d=[];if(_||m){var x=k.hoverOnBoxes(f,l,t,s);if(m&&x.length>0){var g,v,T,c,E,A=f.xa,C=f.ya;p.orientation==="h"?(E=l,g="y",T=C,v="x",c=A):(E=t,g="x",T=A,v="y",c=C);var O=u[f.index];if(E>=O.span[0]&&E<=O.span[1]){var P=w.extendFlat({},f),D=c.c2p(E,!0),z=y.getKdeValue(O,p,E),V=y.getPositionOnKdePath(O,p,D),F=T._offset,W=T._length;P[g+"0"]=V[0],P[g+"1"]=V[1],P[v+"0"]=P[v+"1"]=D,P[v+"Label"]=v+": "+a.hoverLabelText(c,E,p[v+"hoverformat"])+", "+u[0].t.labels.kde+" "+z.toFixed(3);for(var B=0,U=0;U<x.length;U++)if(x[U].attr==="med"){B=U;break}P.spikeDistance=x[B].spikeDistance;var H=g+"Spike";P[H]=x[B][H],x[B].spikeDistance=void 0,x[B][H]=void 0,P.hovertemplate=!1,d.push(P),(r={})[g+"1"]=w.constrain(F+V[0],F,F+W),r[g+"2"]=w.constrain(F+V[1],F,F+W),r[v+"1"]=r[v+"2"]=c._offset+D}}_&&(d=d.concat(x))}h.indexOf("points")!==-1&&(n=k.hoverOnPoints(f,l,t));var q=i.selectAll(".violinline-"+p.uid).data(r?[0]:[]);return q.enter().append("line").classed("violinline-"+p.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(r).call(b.stroke,f.color),s==="closest"?n?[n]:d:(n&&d.push(n),d)}},47462:function(L,M,e){"use strict";L.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(L,M,e){"use strict";var b=e(40094),w=e(71828).extendFlat;L.exports={violinmode:w({},b.boxmode,{}),violingap:w({},b.boxgap,{}),violingroupgap:w({},b.boxgroupgap,{})}},33598:function(L,M,e){"use strict";var b=e(71828),w=e(9228),a=e(4199);L.exports=function(k,y,f){a._supply(k,y,f,function(l,t){return b.coerce(k,y,w,l,t)},"violin")}},28443:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(86047),y=e(34621),f=e(60168);L.exports=function(l,t,s,o){var n=l._context.staticPlot,r=l._fullLayout,i=t.xaxis,u=t.yaxis;function p(h,_){var m=y(h,{xaxis:i,yaxis:u,trace:_,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(m[0],1)}w.makeTraceGroups(o,s,"trace violins").each(function(h){var _=b.select(this),m=h[0],d=m.t,x=m.trace;if(x.visible!==!0||d.empty)_.remove();else{var g=d.bPos,v=d.bdPos,T=t[d.valLetter+"axis"],c=t[d.posLetter+"axis"],E=x.side==="both",A=E||x.side==="positive",C=E||x.side==="negative",O=_.selectAll("path.violin").data(w.identity);O.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),O.exit().remove(),O.each(function(U){var H,q,ee,K,J,Z,$,ne,ae=b.select(this),oe=U.density,se=oe.length,ce=c.c2l(U.pos+g,!0),me=c.l2p(ce);if(x.width)H=d.maxKDE/v;else{var xe=r._violinScaleGroupStats[x.scalegroup];H=x.scalemode==="count"?xe.maxKDE/v*(xe.maxCount/U.pts.length):xe.maxKDE/v}if(A){for($=new Array(se),J=0;J<se;J++)(ne=$[J]={})[d.posLetter]=ce+oe[J].v/H,ne[d.valLetter]=T.c2l(oe[J].t,!0);q=p($,x)}if(C){for($=new Array(se),Z=0,J=se-1;Z<se;Z++,J--)(ne=$[Z]={})[d.posLetter]=ce-oe[J].v/H,ne[d.valLetter]=T.c2l(oe[J].t,!0);ee=p($,x)}if(E)K=q+"L"+ee.substr(1)+"Z";else{var ve=[me,T.c2p(oe[0].t)],fe=[me,T.c2p(oe[se-1].t)];x.orientation==="h"&&(ve.reverse(),fe.reverse()),K=A?"M"+ve+"L"+q.substr(1)+"L"+fe:"M"+fe+"L"+ee.substr(1)+"L"+ve}ae.attr("d",K),U.posCenterPx=me,U.posDensityScale=H*v,U.path=ae.node(),U.pathLength=U.path.getTotalLength()/(E?2:1)});var P,D,z,V=x.box,F=V.width,W=(V.line||{}).width;E?(P=v*F,D=0):A?(P=[0,v*F/2],D=W*{x:1,y:-1}[d.posLetter]):(P=[v*F/2,0],D=W*{x:-1,y:1}[d.posLetter]),k.plotBoxAndWhiskers(_,{pos:c,val:T},x,{bPos:g,bdPos:P,bPosPxOffset:D}),k.plotBoxMean(_,{pos:c,val:T},x,{bPos:g,bdPos:P,bPosPxOffset:D}),!x.box.visible&&x.meanline.visible&&(z=w.identity);var B=_.selectAll("path.meanline").data(z||[]);B.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),B.exit().remove(),B.each(function(U){var H=T.c2p(U.mean,!0),q=f.getPositionOnKdePath(U,x,H);b.select(this).attr("d",x.orientation==="h"?"M"+H+","+q[0]+"V"+q[1]:"M"+q[0]+","+H+"H"+q[1])}),k.plotPoints(_,{x:i,y:u},x,d)}})}},31847:function(L,M,e){"use strict";var b=e(39898),w=e(7901),a=e(16296).stylePoints;L.exports=function(k){var y=b.select(k).selectAll("g.trace.violins");y.style("opacity",function(f){return f[0].trace.opacity}),y.each(function(f){var l=f[0].trace,t=b.select(this),s=l.box||{},o=s.line||{},n=l.meanline||{},r=n.width;t.selectAll("path.violin").style("stroke-width",l.line.width+"px").call(w.stroke,l.line.color).call(w.fill,l.fillcolor),t.selectAll("path.box").style("stroke-width",o.width+"px").call(w.stroke,o.color).call(w.fill,s.fillcolor);var i={"stroke-width":r+"px","stroke-dasharray":2*r+"px,"+r+"px"};t.selectAll("path.mean").style(i).call(w.stroke,n.color),t.selectAll("path.meanline").style(i).call(w.stroke,n.color),a(t,l,k)})}},16336:function(L,M,e){"use strict";var b=e(50693),w=e(16249),a=e(54532),k=e(9012),y=e(1426).extendFlat,f=e(30962).overrideAll,l=L.exports=f(y({x:w.x,y:w.y,z:w.z,value:w.value,isomin:w.isomin,isomax:w.isomax,surface:w.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:w.slices,caps:w.caps,text:w.text,hovertext:w.hovertext,xhoverformat:w.xhoverformat,yhoverformat:w.yhoverformat,zhoverformat:w.zhoverformat,valuehoverformat:w.valuehoverformat,hovertemplate:w.hovertemplate},b("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:w.colorbar,opacity:w.opacity,opacityscale:a.opacityscale,lightposition:w.lightposition,lighting:w.lighting,flatshading:w.flatshading,contour:w.contour,hoverinfo:y({},k.hoverinfo),showlegend:y({},k.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},64809:function(L,M,e){"use strict";var b=e(9330).gl_mesh3d,w=e(81697).parseColorScale,a=e(78614),k=e(21081).extractOpts,y=e(90060),f=e(22674).findNearestOnAxis,l=e(22674).generateIsoMeshes;function t(o,n,r){this.scene=o,this.uid=r,this.mesh=n,this.name="",this.data=null,this.showContour=!1}var s=t.prototype;s.handlePick=function(o){if(o.object===this.mesh){var n=o.data.index,r=this.data._meshX[n],i=this.data._meshY[n],u=this.data._meshZ[n],p=this.data._Ys.length,h=this.data._Zs.length,_=f(r,this.data._Xs).id,m=f(i,this.data._Ys).id,d=f(u,this.data._Zs).id,x=o.index=d+h*m+h*p*_;o.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var g=this.data.hovertext||this.data.text;return Array.isArray(g)&&g[x]!==void 0?o.textLabel=g[x]:g&&(o.textLabel=g),!0}},s.update=function(o){var n=this.scene,r=n.fullSceneLayout;function i(h,_,m,d){return _.map(function(x){return h.d2l(x,0,d)*m})}this.data=l(o);var u={positions:y(i(r.xaxis,o._meshX,n.dataScale[0],o.xcalendar),i(r.yaxis,o._meshY,n.dataScale[1],o.ycalendar),i(r.zaxis,o._meshZ,n.dataScale[2],o.zcalendar)),cells:y(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,opacityscale:o.opacityscale,contourEnable:o.contour.show,contourColor:a(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},p=k(o);u.vertexIntensity=o._meshIntensity,u.vertexIntensityBounds=[p.min,p.max],u.colormap=w(o),this.mesh.update(u)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},L.exports=function(o,n){var r=o.glplot.gl,i=b({gl:r}),u=new t(o,i,n.uid);return i._trace=u,u.update(n),o.glplot.add(i),u}},47651:function(L,M,e){"use strict";var b=e(71828),w=e(16336),a=e(82738).supplyIsoDefaults,k=e(91831).opacityscaleDefaults;L.exports=function(y,f,l,t){function s(o,n){return b.coerce(y,f,w,o,n)}a(y,f,l,t,s),k(y,f,t,s)}},17659:function(L,M,e){"use strict";L.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(L,M,e){"use strict";var b=e(1486),w=e(82196).line,a=e(9012),k=e(12663).axisHoverFormat,y=e(5386).fF,f=e(5386).si,l=e(48334),t=e(1426).extendFlat,s=e(7901);function o(n){return{marker:{color:t({},b.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},b.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},b.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}L.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),hovertext:b.hovertext,hovertemplate:y({},{keys:l.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:f({editType:"plot"},{keys:l.eventDataKeys.concat(["label"])}),text:b.text,textposition:b.textposition,insidetextanchor:b.insidetextanchor,textangle:b.textangle,textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:b.outsidetextfont,constraintext:b.constraintext,cliponaxis:b.cliponaxis,orientation:b.orientation,offset:b.offset,width:b.width,increasing:o(),decreasing:o(),totals:o(),connector:{line:{color:t({},w.color,{dflt:s.defaultLine}),width:t({},w.width,{editType:"plot"}),dash:w.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup}},52752:function(L,M,e){"use strict";var b=e(89298),w=e(42973),a=e(71828).mergeArray,k=e(66279),y=e(50606).BADNUM;function f(t){return t==="a"||t==="absolute"}function l(t){return t==="t"||t==="total"}L.exports=function(t,s){var o,n,r,i,u,p,h=b.getFromId(t,s.xaxis||"x"),_=b.getFromId(t,s.yaxis||"y");s.orientation==="h"?(o=h.makeCalcdata(s,"x"),r=_.makeCalcdata(s,"y"),i=w(s,_,"y",r),u=!!s.yperiodalignment,p="y"):(o=_.makeCalcdata(s,"y"),r=h.makeCalcdata(s,"x"),i=w(s,h,"x",r),u=!!s.xperiodalignment,p="x"),n=i.vals;for(var m,d=Math.min(n.length,o.length),x=new Array(d),g=0,v=!1,T=0;T<d;T++){var c=o[T]||0,E=!1;(o[T]!==y||l(s.measure[T])||f(s.measure[T]))&&T+1<d&&(o[T+1]!==y||l(s.measure[T+1])||f(s.measure[T+1]))&&(E=!0);var A=x[T]={i:T,p:n[T],s:c,rawS:c,cNext:E};f(s.measure[T])?(g=A.s,A.isSum=!0,A.dir="totals",A.s=g):l(s.measure[T])?(A.isSum=!0,A.dir="totals",A.s=g):(A.isSum=!1,A.dir=A.rawS<0?"decreasing":"increasing",m=A.s,A.s=g+m,g+=m),A.dir==="totals"&&(v=!0),u&&(x[T].orig_p=r[T],x[T][p+"End"]=i.ends[T],x[T][p+"Start"]=i.starts[T]),s.ids&&(A.id=String(s.ids[T])),A.v=(s.base||0)+g}return x.length&&(x[0].hasTotals=v),a(s.text,x,"tx"),a(s.hovertext,x,"htx"),k(x,s),x}},48334:function(L){"use strict";L.exports={eventDataKeys:["initial","delta","final"]}},70766:function(L,M,e){"use strict";var b=e(11661).setGroupPositions;L.exports=function(w,a){var k,y,f=w._fullLayout,l=w._fullData,t=w.calcdata,s=a.xaxis,o=a.yaxis,n=[],r=[],i=[];for(y=0;y<l.length;y++){var u=l[y];u.visible===!0&&u.xaxis===s._id&&u.yaxis===o._id&&u.type==="waterfall"&&(k=t[y],u.orientation==="h"?i.push(k):r.push(k),n.push(k))}var p={mode:f.waterfallmode,norm:f.waterfallnorm,gap:f.waterfallgap,groupgap:f.waterfallgroupgap};for(b(w,s,o,r,p),b(w,o,s,i,p),y=0;y<n.length;y++){k=n[y];for(var h=0;h<k.length;h++){var _=k[h];_.isSum===!1&&(_.s0+=h===0?0:k[h-1].s),h+1<k.length&&(k[h].nextP0=k[h+1].p0,k[h].nextS0=k[h+1].s0)}}}},83266:function(L,M,e){"use strict";var b=e(71828),w=e(26125),a=e(90769).handleText,k=e(67513),y=e(73927),f=e(43037),l=e(7901),t=e(22372),s=t.INCREASING.COLOR,o=t.DECREASING.COLOR;function n(r,i,u){r(i+".marker.color",u),r(i+".marker.line.color",l.defaultLine),r(i+".marker.line.width")}L.exports={supplyDefaults:function(r,i,u,p){function h(m,d){return b.coerce(r,i,f,m,d)}if(k(r,i,p,h)){y(r,i,p,h),h("xhoverformat"),h("yhoverformat"),h("measure"),h("orientation",i.x&&!i.y?"h":"v"),h("base"),h("offset"),h("width"),h("text"),h("hovertext"),h("hovertemplate");var _=h("textposition");a(r,i,p,h,_,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition!=="none"&&(h("texttemplate"),i.texttemplate||h("textinfo")),n(h,"increasing",s),n(h,"decreasing",o),n(h,"totals","#4499FF"),h("connector.visible")&&(h("connector.mode"),h("connector.line.width")&&(h("connector.line.color"),h("connector.line.dash")))}else i.visible=!1},crossTraceDefaults:function(r,i){var u,p;function h(m){return b.coerce(p._input,p,f,m)}if(i.waterfallmode==="group")for(var _=0;_<r.length;_++)u=(p=r[_])._input,w(u,p,i,h)}}},58593:function(L){"use strict";L.exports=function(M,e){return M.x="xVal"in e?e.xVal:e.x,M.y="yVal"in e?e.yVal:e.y,"initial"in e&&(M.initial=e.initial),"delta"in e&&(M.delta=e.delta),"final"in e&&(M.final=e.final),e.xa&&(M.xaxis=e.xa),e.ya&&(M.yaxis=e.ya),M}},61326:function(L,M,e){"use strict";var b=e(89298).hoverLabelText,w=e(7901).opacity,a=e(95423).hoverOnBars,k=e(22372),y=k.INCREASING.SYMBOL,f=k.DECREASING.SYMBOL;L.exports=function(l,t,s,o,n){var r=a(l,t,s,o,n);if(r){var i=r.cd,u=i[0].trace,p=u.orientation==="h",h=p?"x":"y",_=p?l.xa:l.ya,m=i[r.index],d=m.isSum?m.b+m.s:m.rawS;if(!m.isSum){r.initial=m.b+m.s-d,r.delta=d,r.final=r.initial+r.delta;var x=A(Math.abs(r.delta));r.deltaLabel=d<0?"("+x+")":x,r.finalLabel=A(r.final),r.initialLabel=A(r.initial)}var g=m.hi||u.hoverinfo,v=[];if(g&&g!=="none"&&g!=="skip"){var T=g==="all",c=g.split("+"),E=function(C){return T||c.indexOf(C)!==-1};m.isSum||(!E("final")||E(p?"x":"y")||v.push(r.finalLabel),E("delta")&&(d<0?v.push(r.deltaLabel+" "+f):v.push(r.deltaLabel+" "+y)),E("initial")&&v.push("Initial: "+r.initialLabel))}return v.length&&(r.extraText=v.join("<br>")),r.color=function(C,O){var P=C[O.dir].marker,D=P.color,z=P.line.color,V=P.line.width;return w(D)?D:w(z)&&V?z:void 0}(u,m),[r]}function A(C){return b(_,C,u[h+"hoverformat"])}}},19990:function(L,M,e){"use strict";L.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(L){"use strict";L.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(L,M,e){"use strict";var b=e(71828),w=e(13494);L.exports=function(a,k,y){var f=!1;function l(o,n){return b.coerce(a,k,w,o,n)}for(var t=0;t<y.length;t++){var s=y[t];if(s.visible&&s.type==="waterfall"){f=!0;break}}f&&(l("waterfallmode"),l("waterfallgap",.2),l("waterfallgroupgap"))}},30436:function(L,M,e){"use strict";var b=e(39898),w=e(71828),a=e(91424),k=e(50606).BADNUM,y=e(17295),f=e(72597).clearMinTextSize;L.exports=function(l,t,s,o){var n=l._fullLayout;f("waterfall",n),y.plot(l,t,s,o,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),function(r,i,u,p){var h=i.xaxis,_=i.yaxis;w.makeTraceGroups(p,u,"trace bars").each(function(m){var d=b.select(this),x=m[0].trace,g=w.ensureSingle(d,"g","lines");if(x.connector&&x.connector.visible){var v=x.orientation==="h",T=x.connector.mode,c=g.selectAll("g.line").data(w.identity);c.enter().append("g").classed("line",!0),c.exit().remove();var E=c.size();c.each(function(A,C){if(C===E-1||A.cNext){var O=function(V,F,W,B){var U=[],H=[],q=B?F:W,ee=B?W:F;return U[0]=q.c2p(V.s0,!0),H[0]=ee.c2p(V.p0,!0),U[1]=q.c2p(V.s1,!0),H[1]=ee.c2p(V.p1,!0),U[2]=q.c2p(V.nextS0,!0),H[2]=ee.c2p(V.nextP0,!0),B?[U,H]:[H,U]}(A,h,_,v),P=O[0],D=O[1],z="";P[0]!==k&&D[0]!==k&&P[1]!==k&&D[1]!==k&&(T==="spanning"&&!A.isSum&&C>0&&(z+=v?"M"+P[0]+","+D[1]+"V"+D[0]:"M"+P[1]+","+D[0]+"H"+P[0]),T!=="between"&&(A.isSum||C<E-1)&&(z+=v?"M"+P[1]+","+D[0]+"V"+D[1]:"M"+P[0]+","+D[1]+"H"+P[1]),P[2]!==k&&D[2]!==k&&(z+=v?"M"+P[1]+","+D[1]+"V"+D[2]:"M"+P[1]+","+D[1]+"H"+P[2])),z===""&&(z="M0,0Z"),w.ensureSingle(b.select(this),"path").attr("d",z).call(a.setClipUrl,i.layerClipId,r)}})}else g.remove()})}(l,t,s,o)}},55750:function(L,M,e){"use strict";var b=e(39898),w=e(91424),a=e(7901),k=e(37822).DESELECTDIM,y=e(16688),f=e(72597).resizeText,l=y.styleTextPoints;L.exports={style:function(t,s,o){var n=o||b.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");f(t,n,"waterfall"),n.style("opacity",function(r){return r[0].trace.opacity}),n.each(function(r){var i=b.select(this),u=r[0].trace;i.selectAll(".point > path").each(function(p){if(!p.isBlank){var h=u[p.dir].marker;b.select(this).call(a.fill,h.color).call(a.stroke,h.line.color).call(w.dashLine,h.line.dash,h.line.width).style("opacity",u.selectedpoints&&!p.selected?k:1)}}),l(i,u,t),i.selectAll(".lines").each(function(){var p=u.connector.line;w.lineGroupStyle(b.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},82887:function(L,M,e){"use strict";var b=e(89298),w=e(71828),a=e(86281),k=e(79344).p,y=e(50606).BADNUM;M.moduleType="transform",M.name="aggregate";var f=M.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},l=f.aggregations;function t(r,i,u,p){if(p.enabled){for(var h=p.target,_=w.nestedProperty(i,h),m=_.get(),d=function(v,T){var c=v.func,E=T.d2c,A=T.c2d;switch(c){case"count":return s;case"first":return o;case"last":return n;case"sum":return function(C,O){for(var P=0,D=0;D<O.length;D++){var z=E(C[O[D]]);z!==y&&(P+=z)}return A(P)};case"avg":return function(C,O){for(var P=0,D=0,z=0;z<O.length;z++){var V=E(C[O[z]]);V!==y&&(P+=V,D++)}return D?A(P/D):y};case"min":return function(C,O){for(var P=1/0,D=0;D<O.length;D++){var z=E(C[O[D]]);z!==y&&(P=Math.min(P,z))}return P===1/0?y:A(P)};case"max":return function(C,O){for(var P=-1/0,D=0;D<O.length;D++){var z=E(C[O[D]]);z!==y&&(P=Math.max(P,z))}return P===-1/0?y:A(P)};case"range":return function(C,O){for(var P=1/0,D=-1/0,z=0;z<O.length;z++){var V=E(C[O[z]]);V!==y&&(P=Math.min(P,V),D=Math.max(D,V))}return D===-1/0||P===1/0?y:A(D-P)};case"change":return function(C,O){var P=E(C[O[0]]),D=E(C[O[O.length-1]]);return P===y||D===y?y:A(D-P)};case"median":return function(C,O){for(var P=[],D=0;D<O.length;D++){var z=E(C[O[D]]);z!==y&&P.push(z)}if(!P.length)return y;P.sort(w.sorterAsc);var V=(P.length-1)/2;return A((P[Math.floor(V)]+P[Math.ceil(V)])/2)};case"mode":return function(C,O){for(var P={},D=0,z=y,V=0;V<O.length;V++){var F=E(C[O[V]]);if(F!==y){var W=P[F]=(P[F]||0)+1;W>D&&(D=W,z=F)}}return D?A(z):y};case"rms":return function(C,O){for(var P=0,D=0,z=0;z<O.length;z++){var V=E(C[O[z]]);V!==y&&(P+=V*V,D++)}return D?A(Math.sqrt(P/D)):y};case"stddev":return function(C,O){var P,D=0,z=0,V=1,F=y;for(P=0;P<O.length&&F===y;P++)F=E(C[O[P]]);if(F===y)return y;for(;P<O.length;P++){var W=E(C[O[P]]);if(W!==y){var B=W-F;D+=B,z+=B*B,V++}}var U=v.funcmode==="sample"?V-1:V;return U?Math.sqrt((z-D*D/V)/U):0}}}(p,b.getDataConversions(r,i,h,m)),x=new Array(u.length),g=0;g<u.length;g++)x[g]=d(m,u[g]);_.set(x),p.func==="count"&&w.pushUnique(i._arrayAttrs,h)}}function s(r,i){return i.length}function o(r,i){return r[i[0]]}function n(r,i){return r[i[i.length-1]]}M.supplyDefaults=function(r,i){var u,p={};function h(A,C){return w.coerce(r,p,f,A,C)}if(!h("enabled"))return p;var _=a.findArrayAttributes(i),m={};for(u=0;u<_.length;u++)m[_[u]]=1;var d=h("groups");if(!Array.isArray(d)){if(!m[d])return p.enabled=!1,p;m[d]=0}var x,g=r.aggregations||[],v=p.aggregations=new Array(g.length);function T(A,C){return w.coerce(g[u],x,l,A,C)}for(u=0;u<g.length;u++){x={_index:u};var c=T("target"),E=T("func");T("enabled")&&c&&(m[c]||E==="count"&&m[c]===void 0)?(E==="stddev"&&T("funcmode"),m[c]=0,v[u]=x):v[u]={enabled:!1,_index:u}}for(u=0;u<_.length;u++)m[_[u]]&&v.push({target:_[u],func:l.func.dflt,enabled:!0,_index:-1});return p},M.calcTransform=function(r,i,u){if(u.enabled){var p=u.groups,h=w.getTargetArray(i,{target:p});if(h){var _,m,d,x,g={},v={},T=[],c=k(i.transforms,u),E=h.length;for(i._length&&(E=Math.min(E,i._length)),_=0;_<E;_++)(d=g[m=h[_]])===void 0?(g[m]=T.length,x=[_],T.push(x),v[g[m]]=c(_)):(T[d].push(_),v[g[m]]=(v[g[m]]||[]).concat(c(_)));u._indexToPoints=v;var A=u.aggregations;for(_=0;_<A.length;_++)t(r,i,T,A[_]);typeof p=="string"&&t(r,i,T,{target:p,func:"first",enabled:!0}),i._length=T.length}}}},14382:function(L,M,e){"use strict";var b=e(71828),w=e(73972),a=e(89298),k=e(79344).p,y=e(74808),f=y.COMPARISON_OPS,l=y.INTERVAL_OPS,t=y.SET_OPS;M.moduleType="transform",M.name="filter",M.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(l).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},M.supplyDefaults=function(s){var o={};function n(u,p){return b.coerce(s,o,M.attributes,u,p)}if(n("enabled")){var r=n("target");if(b.isArrayOrTypedArray(r)&&r.length===0)return o.enabled=!1,o;n("preservegaps"),n("operation"),n("value");var i=w.getComponentMethod("calendars","handleDefaults");i(s,o,"valuecalendar",null),i(s,o,"targetcalendar",null)}return o},M.calcTransform=function(s,o,n){if(n.enabled){var r=b.getTargetArray(o,n);if(r){var i=n.target,u=r.length;o._length&&(u=Math.min(u,o._length));var p=n.targetcalendar,h=o._arrayAttrs,_=n.preservegaps;if(typeof i=="string"){var m=b.nestedProperty(o,i+"calendar").get();m&&(p=m)}var d,x,g=function(O,P,D){var z=O.operation,V=O.value,F=Array.isArray(V);function W(q){return q.indexOf(z)!==-1}var B,U=function(q){return P(q,0,O.valuecalendar)},H=function(q){return P(q,0,D)};switch(W(f)?B=U(F?V[0]:V):W(l)?B=F?[U(V[0]),U(V[1])]:[U(V),U(V)]:W(t)&&(B=F?V.map(U):[U(V)]),z){case"=":return function(q){return H(q)===B};case"!=":return function(q){return H(q)!==B};case"<":return function(q){return H(q)<B};case"<=":return function(q){return H(q)<=B};case">":return function(q){return H(q)>B};case">=":return function(q){return H(q)>=B};case"[]":return function(q){var ee=H(q);return ee>=B[0]&&ee<=B[1]};case"()":return function(q){var ee=H(q);return ee>B[0]&&ee<B[1]};case"[)":return function(q){var ee=H(q);return ee>=B[0]&&ee<B[1]};case"(]":return function(q){var ee=H(q);return ee>B[0]&&ee<=B[1]};case"][":return function(q){var ee=H(q);return ee<=B[0]||ee>=B[1]};case")(":return function(q){var ee=H(q);return ee<B[0]||ee>B[1]};case"](":return function(q){var ee=H(q);return ee<=B[0]||ee>B[1]};case")[":return function(q){var ee=H(q);return ee<B[0]||ee>=B[1]};case"{}":return function(q){return B.indexOf(H(q))!==-1};case"}{":return function(q){return B.indexOf(H(q))===-1}}}(n,a.getDataToCoordFunc(s,o,i,r),p),v={},T={},c=0;_?(d=function(O){v[O.astr]=b.extendDeep([],O.get()),O.set(new Array(u))},x=function(O,P){var D=v[O.astr][P];O.get()[P]=D}):(d=function(O){v[O.astr]=b.extendDeep([],O.get()),O.set([])},x=function(O,P){var D=v[O.astr][P];O.get().push(D)}),C(d);for(var E=k(o.transforms,n),A=0;A<u;A++)g(r[A])?(C(x,A),T[c++]=E(A)):_&&c++;n._indexToPoints=T,o._length=c}}function C(O,P){for(var D=0;D<h.length;D++)O(b.nestedProperty(o,h[D]),P)}}},43102:function(L,M,e){"use strict";var b=e(71828),w=e(86281),a=e(74875),k=e(79344).p;function y(f,l){var t,s,o,n,r,i,u,p,h,_,m=l.transform,d=l.transformIndex,x=f.transforms[d].groups,g=k(f.transforms,m);if(!b.isArrayOrTypedArray(x)||x.length===0)return[f];var v=b.filterUnique(x),T=new Array(v.length),c=x.length,E=w.findArrayAttributes(f),A=m.styles||[],C={};for(t=0;t<A.length;t++)C[A[t].target]=A[t].value;m.styles&&(_=b.keyedContainer(m,"styles","target","value.name"));var O={},P={};for(t=0;t<v.length;t++){O[i=v[t]]=t,P[i]=0,(u=T[t]=b.extendDeepNoArrays({},f))._group=i,u.transforms[d]._indexToPoints={};var D=null;for(_&&(D=_.get(i)),u.name=D||D===""?D:b.templateString(m.nameformat,{trace:f.name,group:i}),p=u.transforms,u.transforms=[],s=0;s<p.length;s++)u.transforms[s]=b.extendDeepNoArrays({},p[s]);for(s=0;s<E.length;s++)b.nestedProperty(u,E[s]).set([])}for(o=0;o<E.length;o++){for(n=E[o],s=0,h=[];s<v.length;s++)h[s]=b.nestedProperty(T[s],n).get();for(r=b.nestedProperty(f,n).get(),s=0;s<c;s++)h[O[x[s]]].push(r[s])}for(s=0;s<c;s++)(u=T[O[x[s]]]).transforms[d]._indexToPoints[P[x[s]]]=g(s),P[x[s]]++;for(t=0;t<v.length;t++)i=v[t],u=T[t],a.clearExpandedTraceDefaultColors(u),u=b.extendDeepNoArrays(u,C[i]||{});return T}M.moduleType="transform",M.name="groupby",M.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},M.supplyDefaults=function(f,l,t){var s,o={};function n(h,_){return b.coerce(f,o,M.attributes,h,_)}if(!n("enabled"))return o;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var r=f.styles,i=o.styles=[];if(r)for(s=0;s<r.length;s++){var u=i[s]={};b.coerce(r[s],i[s],M.attributes.styles,"target");var p=b.coerce(r[s],i[s],M.attributes.styles,"value");b.isPlainObject(p)?u.value=b.extendDeep({},p):p&&delete u.value}return o},M.transform=function(f,l){var t,s,o,n=[];for(s=0;s<f.length;s++)for(t=y(f[s],l),o=0;o<t.length;o++)n.push(t[o]);return n}},79344:function(L,M){"use strict";M.p=function(e,b){for(var w,a,k=0;k<e.length&&(w=e[k])!==b;k++)w._indexToPoints&&w.enabled!==!1&&(a=w._indexToPoints);var y=a?function(f){return a[f]}:function(f){return[f]};return y}},32275:function(L,M,e){"use strict";var b=e(71828),w=e(89298),a=e(79344).p,k=e(50606).BADNUM;M.moduleType="transform",M.name="sort",M.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},M.supplyDefaults=function(y){var f={};function l(t,s){return b.coerce(y,f,M.attributes,t,s)}return l("enabled")&&(l("target"),l("order")),f},M.calcTransform=function(y,f,l){if(l.enabled){var t=b.getTargetArray(f,l);if(t){var s=l.target,o=t.length;f._length&&(o=Math.min(o,f._length));var n,r,i=f._arrayAttrs,u=function(x,g,v,T){var c,E=new Array(T),A=new Array(T);for(c=0;c<T;c++)E[c]={v:g[c],i:c};for(E.sort(function(C,O){switch(C.order){case"ascending":return function(P,D){var z=O(P.v),V=O(D.v);return z===k?1:V===k?-1:z-V};case"descending":return function(P,D){var z=O(P.v),V=O(D.v);return z===k?1:V===k?-1:V-z}}}(x,v)),c=0;c<T;c++)A[c]=E[c].i;return A}(l,t,w.getDataToCoordFunc(y,f,s,t),o),p=a(f.transforms,l),h={};for(n=0;n<i.length;n++){var _=b.nestedProperty(f,i[n]),m=_.get(),d=new Array(o);for(r=0;r<o;r++)d[r]=m[u[r]];_.set(d)}for(r=0;r<o;r++)h[r]=p(u[r]);l._indexToPoints=h,f._length=o}}}},11506:function(L,M){"use strict";M.version="2.21.0"},9330:function(L,M,e){var b,w=e(90386);b=function(){return function(){var a={7386:function(f,l,t){f.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(f,l,t){"use strict";function s(he,_e){if(!(he instanceof _e))throw new TypeError("Cannot call a class as a function")}function o(he,_e){for(var Te=0;Te<_e.length;Te++){var Fe=_e[Te];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(he,Fe.key,Fe)}}function n(he,_e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,Fe){return Te.__proto__=Fe,Te},n(he,_e)}function r(he,_e){if(_e&&(p(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(he)}function i(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function u(he){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},u(he)}function p(he){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},p(he)}var h=t(3910),_=t(3187),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.lW=g,l.h2=50;var d=2147483647;function x(he){if(he>d)throw new RangeError('The value "'+he+'" is invalid for option "size"');var _e=new Uint8Array(he);return Object.setPrototypeOf(_e,g.prototype),_e}function g(he,_e,Te){if(typeof he=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(he)}return v(he,_e,Te)}function v(he,_e,Te){if(typeof he=="string")return function(Ge,ot){if(typeof ot=="string"&&ot!==""||(ot="utf8"),!g.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);var st=0|O(Ge,ot),ht=x(st),xt=ht.write(Ge,ot);return xt!==st&&(ht=ht.slice(0,xt)),ht}(he,_e);if(ArrayBuffer.isView(he))return function(Ge){if(we(Ge,Uint8Array)){var ot=new Uint8Array(Ge);return A(ot.buffer,ot.byteOffset,ot.byteLength)}return E(Ge)}(he);if(he==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+p(he));if(we(he,ArrayBuffer)||he&&we(he.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(he,SharedArrayBuffer)||he&&we(he.buffer,SharedArrayBuffer)))return A(he,_e,Te);if(typeof he=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Fe=he.valueOf&&he.valueOf();if(Fe!=null&&Fe!==he)return g.from(Fe,_e,Te);var Ye=function(Ge){if(g.isBuffer(Ge)){var ot=0|C(Ge.length),st=x(ot);return st.length===0||Ge.copy(st,0,0,ot),st}return Ge.length!==void 0?typeof Ge.length!="number"||Ee(Ge.length)?x(0):E(Ge):Ge.type==="Buffer"&&Array.isArray(Ge.data)?E(Ge.data):void 0}(he);if(Ye)return Ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof he[Symbol.toPrimitive]=="function")return g.from(he[Symbol.toPrimitive]("string"),_e,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+p(he))}function T(he){if(typeof he!="number")throw new TypeError('"size" argument must be of type number');if(he<0)throw new RangeError('The value "'+he+'" is invalid for option "size"')}function c(he){return T(he),x(he<0?0:0|C(he))}function E(he){for(var _e=he.length<0?0:0|C(he.length),Te=x(_e),Fe=0;Fe<_e;Fe+=1)Te[Fe]=255&he[Fe];return Te}function A(he,_e,Te){if(_e<0||he.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<_e+(Te||0))throw new RangeError('"length" is outside of buffer bounds');var Fe;return Fe=_e===void 0&&Te===void 0?new Uint8Array(he):Te===void 0?new Uint8Array(he,_e):new Uint8Array(he,_e,Te),Object.setPrototypeOf(Fe,g.prototype),Fe}function C(he){if(he>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|he}function O(he,_e){if(g.isBuffer(he))return he.length;if(ArrayBuffer.isView(he)||we(he,ArrayBuffer))return he.byteLength;if(typeof he!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+p(he));var Te=he.length,Fe=arguments.length>2&&arguments[2]===!0;if(!Fe&&Te===0)return 0;for(var Ye=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return te(he).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Te;case"hex":return Te>>>1;case"base64":return ue(he).length;default:if(Ye)return Fe?-1:te(he).length;_e=(""+_e).toLowerCase(),Ye=!0}}function P(he,_e,Te){var Fe=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((Te===void 0||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0)<=(_e>>>=0))return"";for(he||(he="utf8");;)switch(he){case"hex":return $(this,_e,Te);case"utf8":case"utf-8":return ee(this,_e,Te);case"ascii":return J(this,_e,Te);case"latin1":case"binary":return Z(this,_e,Te);case"base64":return q(this,_e,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,_e,Te);default:if(Fe)throw new TypeError("Unknown encoding: "+he);he=(he+"").toLowerCase(),Fe=!0}}function D(he,_e,Te){var Fe=he[_e];he[_e]=he[Te],he[Te]=Fe}function z(he,_e,Te,Fe,Ye){if(he.length===0)return-1;if(typeof Te=="string"?(Fe=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),Ee(Te=+Te)&&(Te=Ye?0:he.length-1),Te<0&&(Te=he.length+Te),Te>=he.length){if(Ye)return-1;Te=he.length-1}else if(Te<0){if(!Ye)return-1;Te=0}if(typeof _e=="string"&&(_e=g.from(_e,Fe)),g.isBuffer(_e))return _e.length===0?-1:V(he,_e,Te,Fe,Ye);if(typeof _e=="number")return _e&=255,typeof Uint8Array.prototype.indexOf=="function"?Ye?Uint8Array.prototype.indexOf.call(he,_e,Te):Uint8Array.prototype.lastIndexOf.call(he,_e,Te):V(he,[_e],Te,Fe,Ye);throw new TypeError("val must be string, number or Buffer")}function V(he,_e,Te,Fe,Ye){var Ge,ot=1,st=he.length,ht=_e.length;if(Fe!==void 0&&((Fe=String(Fe).toLowerCase())==="ucs2"||Fe==="ucs-2"||Fe==="utf16le"||Fe==="utf-16le")){if(he.length<2||_e.length<2)return-1;ot=2,st/=2,ht/=2,Te/=2}function xt(Nt,Dt){return ot===1?Nt[Dt]:Nt.readUInt16BE(Dt*ot)}if(Ye){var Ct=-1;for(Ge=Te;Ge<st;Ge++)if(xt(he,Ge)===xt(_e,Ct===-1?0:Ge-Ct)){if(Ct===-1&&(Ct=Ge),Ge-Ct+1===ht)return Ct*ot}else Ct!==-1&&(Ge-=Ge-Ct),Ct=-1}else for(Te+ht>st&&(Te=st-ht),Ge=Te;Ge>=0;Ge--){for(var St=!0,kt=0;kt<ht;kt++)if(xt(he,Ge+kt)!==xt(_e,kt)){St=!1;break}if(St)return Ge}return-1}function F(he,_e,Te,Fe){Te=Number(Te)||0;var Ye=he.length-Te;Fe?(Fe=Number(Fe))>Ye&&(Fe=Ye):Fe=Ye;var Ge,ot=_e.length;for(Fe>ot/2&&(Fe=ot/2),Ge=0;Ge<Fe;++Ge){var st=parseInt(_e.substr(2*Ge,2),16);if(Ee(st))return Ge;he[Te+Ge]=st}return Ge}function W(he,_e,Te,Fe){return ge(te(_e,he.length-Te),he,Te,Fe)}function B(he,_e,Te,Fe){return ge(function(Ye){for(var Ge=[],ot=0;ot<Ye.length;++ot)Ge.push(255&Ye.charCodeAt(ot));return Ge}(_e),he,Te,Fe)}function U(he,_e,Te,Fe){return ge(ue(_e),he,Te,Fe)}function H(he,_e,Te,Fe){return ge(function(Ye,Ge){for(var ot,st,ht,xt=[],Ct=0;Ct<Ye.length&&!((Ge-=2)<0);++Ct)st=(ot=Ye.charCodeAt(Ct))>>8,ht=ot%256,xt.push(ht),xt.push(st);return xt}(_e,he.length-Te),he,Te,Fe)}function q(he,_e,Te){return _e===0&&Te===he.length?h.fromByteArray(he):h.fromByteArray(he.slice(_e,Te))}function ee(he,_e,Te){Te=Math.min(he.length,Te);for(var Fe=[],Ye=_e;Ye<Te;){var Ge=he[Ye],ot=null,st=Ge>239?4:Ge>223?3:Ge>191?2:1;if(Ye+st<=Te){var ht=void 0,xt=void 0,Ct=void 0,St=void 0;switch(st){case 1:Ge<128&&(ot=Ge);break;case 2:(192&(ht=he[Ye+1]))==128&&(St=(31&Ge)<<6|63&ht)>127&&(ot=St);break;case 3:ht=he[Ye+1],xt=he[Ye+2],(192&ht)==128&&(192&xt)==128&&(St=(15&Ge)<<12|(63&ht)<<6|63&xt)>2047&&(St<55296||St>57343)&&(ot=St);break;case 4:ht=he[Ye+1],xt=he[Ye+2],Ct=he[Ye+3],(192&ht)==128&&(192&xt)==128&&(192&Ct)==128&&(St=(15&Ge)<<18|(63&ht)<<12|(63&xt)<<6|63&Ct)>65535&&St<1114112&&(ot=St)}}ot===null?(ot=65533,st=1):ot>65535&&(ot-=65536,Fe.push(ot>>>10&1023|55296),ot=56320|1023&ot),Fe.push(ot),Ye+=st}return function(kt){var Nt=kt.length;if(Nt<=K)return String.fromCharCode.apply(String,kt);for(var Dt="",Et=0;Et<Nt;)Dt+=String.fromCharCode.apply(String,kt.slice(Et,Et+=K));return Dt}(Fe)}g.TYPED_ARRAY_SUPPORT=function(){try{var he=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(he,_e),he.foo()===42}catch{return!1}}(),g.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(he,_e,Te){return v(he,_e,Te)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(he,_e,Te){return function(Fe,Ye,Ge){return T(Fe),Fe<=0?x(Fe):Ye!==void 0?typeof Ge=="string"?x(Fe).fill(Ye,Ge):x(Fe).fill(Ye):x(Fe)}(he,_e,Te)},g.allocUnsafe=function(he){return c(he)},g.allocUnsafeSlow=function(he){return c(he)},g.isBuffer=function(he){return he!=null&&he._isBuffer===!0&&he!==g.prototype},g.compare=function(he,_e){if(we(he,Uint8Array)&&(he=g.from(he,he.offset,he.byteLength)),we(_e,Uint8Array)&&(_e=g.from(_e,_e.offset,_e.byteLength)),!g.isBuffer(he)||!g.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(he===_e)return 0;for(var Te=he.length,Fe=_e.length,Ye=0,Ge=Math.min(Te,Fe);Ye<Ge;++Ye)if(he[Ye]!==_e[Ye]){Te=he[Ye],Fe=_e[Ye];break}return Te<Fe?-1:Fe<Te?1:0},g.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(he,_e){if(!Array.isArray(he))throw new TypeError('"list" argument must be an Array of Buffers');if(he.length===0)return g.alloc(0);var Te;if(_e===void 0)for(_e=0,Te=0;Te<he.length;++Te)_e+=he[Te].length;var Fe=g.allocUnsafe(_e),Ye=0;for(Te=0;Te<he.length;++Te){var Ge=he[Te];if(we(Ge,Uint8Array))Ye+Ge.length>Fe.length?(g.isBuffer(Ge)||(Ge=g.from(Ge)),Ge.copy(Fe,Ye)):Uint8Array.prototype.set.call(Fe,Ge,Ye);else{if(!g.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(Fe,Ye)}Ye+=Ge.length}return Fe},g.byteLength=O,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var he=this.length;if(he%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _e=0;_e<he;_e+=2)D(this,_e,_e+1);return this},g.prototype.swap32=function(){var he=this.length;if(he%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _e=0;_e<he;_e+=4)D(this,_e,_e+3),D(this,_e+1,_e+2);return this},g.prototype.swap64=function(){var he=this.length;if(he%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _e=0;_e<he;_e+=8)D(this,_e,_e+7),D(this,_e+1,_e+6),D(this,_e+2,_e+5),D(this,_e+3,_e+4);return this},g.prototype.toString=function(){var he=this.length;return he===0?"":arguments.length===0?ee(this,0,he):P.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(he){if(!g.isBuffer(he))throw new TypeError("Argument must be a Buffer");return this===he||g.compare(this,he)===0},g.prototype.inspect=function(){var he="",_e=l.h2;return he=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(he+=" ... "),"<Buffer "+he+">"},m&&(g.prototype[m]=g.prototype.inspect),g.prototype.compare=function(he,_e,Te,Fe,Ye){if(we(he,Uint8Array)&&(he=g.from(he,he.offset,he.byteLength)),!g.isBuffer(he))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+p(he));if(_e===void 0&&(_e=0),Te===void 0&&(Te=he?he.length:0),Fe===void 0&&(Fe=0),Ye===void 0&&(Ye=this.length),_e<0||Te>he.length||Fe<0||Ye>this.length)throw new RangeError("out of range index");if(Fe>=Ye&&_e>=Te)return 0;if(Fe>=Ye)return-1;if(_e>=Te)return 1;if(this===he)return 0;for(var Ge=(Ye>>>=0)-(Fe>>>=0),ot=(Te>>>=0)-(_e>>>=0),st=Math.min(Ge,ot),ht=this.slice(Fe,Ye),xt=he.slice(_e,Te),Ct=0;Ct<st;++Ct)if(ht[Ct]!==xt[Ct]){Ge=ht[Ct],ot=xt[Ct];break}return Ge<ot?-1:ot<Ge?1:0},g.prototype.includes=function(he,_e,Te){return this.indexOf(he,_e,Te)!==-1},g.prototype.indexOf=function(he,_e,Te){return z(this,he,_e,Te,!0)},g.prototype.lastIndexOf=function(he,_e,Te){return z(this,he,_e,Te,!1)},g.prototype.write=function(he,_e,Te,Fe){if(_e===void 0)Fe="utf8",Te=this.length,_e=0;else if(Te===void 0&&typeof _e=="string")Fe=_e,Te=this.length,_e=0;else{if(!isFinite(_e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_e>>>=0,isFinite(Te)?(Te>>>=0,Fe===void 0&&(Fe="utf8")):(Fe=Te,Te=void 0)}var Ye=this.length-_e;if((Te===void 0||Te>Ye)&&(Te=Ye),he.length>0&&(Te<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");for(var Ge=!1;;)switch(Fe){case"hex":return F(this,he,_e,Te);case"utf8":case"utf-8":return W(this,he,_e,Te);case"ascii":case"latin1":case"binary":return B(this,he,_e,Te);case"base64":return U(this,he,_e,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,he,_e,Te);default:if(Ge)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ge=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;function J(he,_e,Te){var Fe="";Te=Math.min(he.length,Te);for(var Ye=_e;Ye<Te;++Ye)Fe+=String.fromCharCode(127&he[Ye]);return Fe}function Z(he,_e,Te){var Fe="";Te=Math.min(he.length,Te);for(var Ye=_e;Ye<Te;++Ye)Fe+=String.fromCharCode(he[Ye]);return Fe}function $(he,_e,Te){var Fe=he.length;(!_e||_e<0)&&(_e=0),(!Te||Te<0||Te>Fe)&&(Te=Fe);for(var Ye="",Ge=_e;Ge<Te;++Ge)Ye+=Be[he[Ge]];return Ye}function ne(he,_e,Te){for(var Fe=he.slice(_e,Te),Ye="",Ge=0;Ge<Fe.length-1;Ge+=2)Ye+=String.fromCharCode(Fe[Ge]+256*Fe[Ge+1]);return Ye}function ae(he,_e,Te){if(he%1!=0||he<0)throw new RangeError("offset is not uint");if(he+_e>Te)throw new RangeError("Trying to access beyond buffer length")}function oe(he,_e,Te,Fe,Ye,Ge){if(!g.isBuffer(he))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>Ye||_e<Ge)throw new RangeError('"value" argument is out of bounds');if(Te+Fe>he.length)throw new RangeError("Index out of range")}function se(he,_e,Te,Fe,Ye){ye(_e,Fe,Ye,he,Te,7);var Ge=Number(_e&BigInt(4294967295));he[Te++]=Ge,Ge>>=8,he[Te++]=Ge,Ge>>=8,he[Te++]=Ge,Ge>>=8,he[Te++]=Ge;var ot=Number(_e>>BigInt(32)&BigInt(4294967295));return he[Te++]=ot,ot>>=8,he[Te++]=ot,ot>>=8,he[Te++]=ot,ot>>=8,he[Te++]=ot,Te}function ce(he,_e,Te,Fe,Ye){ye(_e,Fe,Ye,he,Te,7);var Ge=Number(_e&BigInt(4294967295));he[Te+7]=Ge,Ge>>=8,he[Te+6]=Ge,Ge>>=8,he[Te+5]=Ge,Ge>>=8,he[Te+4]=Ge;var ot=Number(_e>>BigInt(32)&BigInt(4294967295));return he[Te+3]=ot,ot>>=8,he[Te+2]=ot,ot>>=8,he[Te+1]=ot,ot>>=8,he[Te]=ot,Te+8}function me(he,_e,Te,Fe,Ye,Ge){if(Te+Fe>he.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function xe(he,_e,Te,Fe,Ye){return _e=+_e,Te>>>=0,Ye||me(he,0,Te,4),_.write(he,_e,Te,Fe,23,4),Te+4}function ve(he,_e,Te,Fe,Ye){return _e=+_e,Te>>>=0,Ye||me(he,0,Te,8),_.write(he,_e,Te,Fe,52,8),Te+8}g.prototype.slice=function(he,_e){var Te=this.length;(he=~~he)<0?(he+=Te)<0&&(he=0):he>Te&&(he=Te),(_e=_e===void 0?Te:~~_e)<0?(_e+=Te)<0&&(_e=0):_e>Te&&(_e=Te),_e<he&&(_e=he);var Fe=this.subarray(he,_e);return Object.setPrototypeOf(Fe,g.prototype),Fe},g.prototype.readUintLE=g.prototype.readUIntLE=function(he,_e,Te){he>>>=0,_e>>>=0,Te||ae(he,_e,this.length);for(var Fe=this[he],Ye=1,Ge=0;++Ge<_e&&(Ye*=256);)Fe+=this[he+Ge]*Ye;return Fe},g.prototype.readUintBE=g.prototype.readUIntBE=function(he,_e,Te){he>>>=0,_e>>>=0,Te||ae(he,_e,this.length);for(var Fe=this[he+--_e],Ye=1;_e>0&&(Ye*=256);)Fe+=this[he+--_e]*Ye;return Fe},g.prototype.readUint8=g.prototype.readUInt8=function(he,_e){return he>>>=0,_e||ae(he,1,this.length),this[he]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(he,_e){return he>>>=0,_e||ae(he,2,this.length),this[he]|this[he+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(he,_e){return he>>>=0,_e||ae(he,2,this.length),this[he]<<8|this[he+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(he,_e){return he>>>=0,_e||ae(he,4,this.length),(this[he]|this[he+1]<<8|this[he+2]<<16)+16777216*this[he+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(he,_e){return he>>>=0,_e||ae(he,4,this.length),16777216*this[he]+(this[he+1]<<16|this[he+2]<<8|this[he+3])},g.prototype.readBigUInt64LE=Re(function(he){Ae(he>>>=0,"offset");var _e=this[he],Te=this[he+7];_e!==void 0&&Te!==void 0||Me(he,this.length-8);var Fe=_e+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24),Ye=this[++he]+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(Fe)+(BigInt(Ye)<<BigInt(32))}),g.prototype.readBigUInt64BE=Re(function(he){Ae(he>>>=0,"offset");var _e=this[he],Te=this[he+7];_e!==void 0&&Te!==void 0||Me(he,this.length-8);var Fe=_e*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he],Ye=this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+Te;return(BigInt(Fe)<<BigInt(32))+BigInt(Ye)}),g.prototype.readIntLE=function(he,_e,Te){he>>>=0,_e>>>=0,Te||ae(he,_e,this.length);for(var Fe=this[he],Ye=1,Ge=0;++Ge<_e&&(Ye*=256);)Fe+=this[he+Ge]*Ye;return Fe>=(Ye*=128)&&(Fe-=Math.pow(2,8*_e)),Fe},g.prototype.readIntBE=function(he,_e,Te){he>>>=0,_e>>>=0,Te||ae(he,_e,this.length);for(var Fe=_e,Ye=1,Ge=this[he+--Fe];Fe>0&&(Ye*=256);)Ge+=this[he+--Fe]*Ye;return Ge>=(Ye*=128)&&(Ge-=Math.pow(2,8*_e)),Ge},g.prototype.readInt8=function(he,_e){return he>>>=0,_e||ae(he,1,this.length),128&this[he]?-1*(255-this[he]+1):this[he]},g.prototype.readInt16LE=function(he,_e){he>>>=0,_e||ae(he,2,this.length);var Te=this[he]|this[he+1]<<8;return 32768&Te?4294901760|Te:Te},g.prototype.readInt16BE=function(he,_e){he>>>=0,_e||ae(he,2,this.length);var Te=this[he+1]|this[he]<<8;return 32768&Te?4294901760|Te:Te},g.prototype.readInt32LE=function(he,_e){return he>>>=0,_e||ae(he,4,this.length),this[he]|this[he+1]<<8|this[he+2]<<16|this[he+3]<<24},g.prototype.readInt32BE=function(he,_e){return he>>>=0,_e||ae(he,4,this.length),this[he]<<24|this[he+1]<<16|this[he+2]<<8|this[he+3]},g.prototype.readBigInt64LE=Re(function(he){Ae(he>>>=0,"offset");var _e=this[he],Te=this[he+7];_e!==void 0&&Te!==void 0||Me(he,this.length-8);var Fe=this[he+4]+this[he+5]*Math.pow(2,8)+this[he+6]*Math.pow(2,16)+(Te<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(_e+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24))}),g.prototype.readBigInt64BE=Re(function(he){Ae(he>>>=0,"offset");var _e=this[he],Te=this[he+7];_e!==void 0&&Te!==void 0||Me(he,this.length-8);var Fe=(_e<<24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+Te)}),g.prototype.readFloatLE=function(he,_e){return he>>>=0,_e||ae(he,4,this.length),_.read(this,he,!0,23,4)},g.prototype.readFloatBE=function(he,_e){return he>>>=0,_e||ae(he,4,this.length),_.read(this,he,!1,23,4)},g.prototype.readDoubleLE=function(he,_e){return he>>>=0,_e||ae(he,8,this.length),_.read(this,he,!0,52,8)},g.prototype.readDoubleBE=function(he,_e){return he>>>=0,_e||ae(he,8,this.length),_.read(this,he,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(he,_e,Te,Fe){he=+he,_e>>>=0,Te>>>=0,Fe||oe(this,he,_e,Te,Math.pow(2,8*Te)-1,0);var Ye=1,Ge=0;for(this[_e]=255&he;++Ge<Te&&(Ye*=256);)this[_e+Ge]=he/Ye&255;return _e+Te},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(he,_e,Te,Fe){he=+he,_e>>>=0,Te>>>=0,Fe||oe(this,he,_e,Te,Math.pow(2,8*Te)-1,0);var Ye=Te-1,Ge=1;for(this[_e+Ye]=255&he;--Ye>=0&&(Ge*=256);)this[_e+Ye]=he/Ge&255;return _e+Te},g.prototype.writeUint8=g.prototype.writeUInt8=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,1,255,0),this[_e]=255&he,_e+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,2,65535,0),this[_e]=255&he,this[_e+1]=he>>>8,_e+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,2,65535,0),this[_e]=he>>>8,this[_e+1]=255&he,_e+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,4,4294967295,0),this[_e+3]=he>>>24,this[_e+2]=he>>>16,this[_e+1]=he>>>8,this[_e]=255&he,_e+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,4,4294967295,0),this[_e]=he>>>24,this[_e+1]=he>>>16,this[_e+2]=he>>>8,this[_e+3]=255&he,_e+4},g.prototype.writeBigUInt64LE=Re(function(he){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,he,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Re(function(he){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,he,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(he,_e,Te,Fe){if(he=+he,_e>>>=0,!Fe){var Ye=Math.pow(2,8*Te-1);oe(this,he,_e,Te,Ye-1,-Ye)}var Ge=0,ot=1,st=0;for(this[_e]=255&he;++Ge<Te&&(ot*=256);)he<0&&st===0&&this[_e+Ge-1]!==0&&(st=1),this[_e+Ge]=(he/ot>>0)-st&255;return _e+Te},g.prototype.writeIntBE=function(he,_e,Te,Fe){if(he=+he,_e>>>=0,!Fe){var Ye=Math.pow(2,8*Te-1);oe(this,he,_e,Te,Ye-1,-Ye)}var Ge=Te-1,ot=1,st=0;for(this[_e+Ge]=255&he;--Ge>=0&&(ot*=256);)he<0&&st===0&&this[_e+Ge+1]!==0&&(st=1),this[_e+Ge]=(he/ot>>0)-st&255;return _e+Te},g.prototype.writeInt8=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,1,127,-128),he<0&&(he=255+he+1),this[_e]=255&he,_e+1},g.prototype.writeInt16LE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,2,32767,-32768),this[_e]=255&he,this[_e+1]=he>>>8,_e+2},g.prototype.writeInt16BE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,2,32767,-32768),this[_e]=he>>>8,this[_e+1]=255&he,_e+2},g.prototype.writeInt32LE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,4,2147483647,-2147483648),this[_e]=255&he,this[_e+1]=he>>>8,this[_e+2]=he>>>16,this[_e+3]=he>>>24,_e+4},g.prototype.writeInt32BE=function(he,_e,Te){return he=+he,_e>>>=0,Te||oe(this,he,_e,4,2147483647,-2147483648),he<0&&(he=4294967295+he+1),this[_e]=he>>>24,this[_e+1]=he>>>16,this[_e+2]=he>>>8,this[_e+3]=255&he,_e+4},g.prototype.writeBigInt64LE=Re(function(he){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,he,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Re(function(he){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,he,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(he,_e,Te){return xe(this,he,_e,!0,Te)},g.prototype.writeFloatBE=function(he,_e,Te){return xe(this,he,_e,!1,Te)},g.prototype.writeDoubleLE=function(he,_e,Te){return ve(this,he,_e,!0,Te)},g.prototype.writeDoubleBE=function(he,_e,Te){return ve(this,he,_e,!1,Te)},g.prototype.copy=function(he,_e,Te,Fe){if(!g.isBuffer(he))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),Fe||Fe===0||(Fe=this.length),_e>=he.length&&(_e=he.length),_e||(_e=0),Fe>0&&Fe<Te&&(Fe=Te),Fe===Te||he.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),he.length-_e<Fe-Te&&(Fe=he.length-_e+Te);var Ye=Fe-Te;return this===he&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,Te,Fe):Uint8Array.prototype.set.call(he,this.subarray(Te,Fe),_e),Ye},g.prototype.fill=function(he,_e,Te,Fe){if(typeof he=="string"){if(typeof _e=="string"?(Fe=_e,_e=0,Te=this.length):typeof Te=="string"&&(Fe=Te,Te=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!g.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(he.length===1){var Ye=he.charCodeAt(0);(Fe==="utf8"&&Ye<128||Fe==="latin1")&&(he=Ye)}}else typeof he=="number"?he&=255:typeof he=="boolean"&&(he=Number(he));if(_e<0||this.length<_e||this.length<Te)throw new RangeError("Out of range index");if(Te<=_e)return this;var Ge;if(_e>>>=0,Te=Te===void 0?this.length:Te>>>0,he||(he=0),typeof he=="number")for(Ge=_e;Ge<Te;++Ge)this[Ge]=he;else{var ot=g.isBuffer(he)?he:g.from(he,Fe),st=ot.length;if(st===0)throw new TypeError('The value "'+he+'" is invalid for argument "value"');for(Ge=0;Ge<Te-_e;++Ge)this[Ge+_e]=ot[Ge%st]}return this};var fe={};function pe(he,_e,Te){fe[he]=function(Fe){(function(Ct,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");Ct.prototype=Object.create(St&&St.prototype,{constructor:{value:Ct,writable:!0,configurable:!0}}),Object.defineProperty(Ct,"prototype",{writable:!1}),St&&n(Ct,St)})(xt,Fe);var Ye,Ge,ot,st,ht=(ot=xt,st=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ct,St=u(ot);if(st){var kt=u(this).constructor;Ct=Reflect.construct(St,arguments,kt)}else Ct=St.apply(this,arguments);return r(this,Ct)});function xt(){var Ct;return s(this,xt),Ct=ht.call(this),Object.defineProperty(i(Ct),"message",{value:_e.apply(i(Ct),arguments),writable:!0,configurable:!0}),Ct.name="".concat(Ct.name," [").concat(he,"]"),Ct.stack,delete Ct.name,Ct}return Ye=xt,(Ge=[{key:"code",get:function(){return he},set:function(Ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(he,"]: ").concat(this.message)}}])&&o(Ye.prototype,Ge),Object.defineProperty(Ye,"prototype",{writable:!1}),xt}(Te)}function Le(he){for(var _e="",Te=he.length,Fe=he[0]==="-"?1:0;Te>=Fe+4;Te-=3)_e="_".concat(he.slice(Te-3,Te)).concat(_e);return"".concat(he.slice(0,Te)).concat(_e)}function ye(he,_e,Te,Fe,Ye,Ge){if(he>Te||he<_e){var ot,st=typeof _e=="bigint"?"n":"";throw ot=Ge>3?_e===0||_e===BigInt(0)?">= 0".concat(st," and < 2").concat(st," ** ").concat(8*(Ge+1)).concat(st):">= -(2".concat(st," ** ").concat(8*(Ge+1)-1).concat(st,") and < 2 ** ")+"".concat(8*(Ge+1)-1).concat(st):">= ".concat(_e).concat(st," and <= ").concat(Te).concat(st),new fe.ERR_OUT_OF_RANGE("value",ot,he)}(function(ht,xt,Ct){Ae(xt,"offset"),ht[xt]!==void 0&&ht[xt+Ct]!==void 0||Me(xt,ht.length-(Ct+1))})(Fe,Ye,Ge)}function Ae(he,_e){if(typeof he!="number")throw new fe.ERR_INVALID_ARG_TYPE(_e,"number",he)}function Me(he,_e,Te){throw Math.floor(he)!==he?(Ae(he,Te),new fe.ERR_OUT_OF_RANGE(Te||"offset","an integer",he)):_e<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE(Te||"offset",">= ".concat(Te?1:0," and <= ").concat(_e),he)}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(he){return he?"".concat(he," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(he,_e){return'The "'.concat(he,'" argument must be of type number. Received type ').concat(p(_e))},TypeError),pe("ERR_OUT_OF_RANGE",function(he,_e,Te){var Fe='The value of "'.concat(he,'" is out of range.'),Ye=Te;return Number.isInteger(Te)&&Math.abs(Te)>Math.pow(2,32)?Ye=Le(String(Te)):typeof Te=="bigint"&&(Ye=String(Te),(Te>Math.pow(BigInt(2),BigInt(32))||Te<-Math.pow(BigInt(2),BigInt(32)))&&(Ye=Le(Ye)),Ye+="n"),Fe+" It must be ".concat(_e,". Received ").concat(Ye)},RangeError);var ke=/[^+/0-9A-Za-z-_]/g;function te(he,_e){var Te;_e=_e||1/0;for(var Fe=he.length,Ye=null,Ge=[],ot=0;ot<Fe;++ot){if((Te=he.charCodeAt(ot))>55295&&Te<57344){if(!Ye){if(Te>56319){(_e-=3)>-1&&Ge.push(239,191,189);continue}if(ot+1===Fe){(_e-=3)>-1&&Ge.push(239,191,189);continue}Ye=Te;continue}if(Te<56320){(_e-=3)>-1&&Ge.push(239,191,189),Ye=Te;continue}Te=65536+(Ye-55296<<10|Te-56320)}else Ye&&(_e-=3)>-1&&Ge.push(239,191,189);if(Ye=null,Te<128){if((_e-=1)<0)break;Ge.push(Te)}else if(Te<2048){if((_e-=2)<0)break;Ge.push(Te>>6|192,63&Te|128)}else if(Te<65536){if((_e-=3)<0)break;Ge.push(Te>>12|224,Te>>6&63|128,63&Te|128)}else{if(!(Te<1114112))throw new Error("Invalid code point");if((_e-=4)<0)break;Ge.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,63&Te|128)}}return Ge}function ue(he){return h.toByteArray(function(_e){if((_e=(_e=_e.split("=")[0]).trim().replace(ke,"")).length<2)return"";for(;_e.length%4!=0;)_e+="=";return _e}(he))}function ge(he,_e,Te,Fe){var Ye;for(Ye=0;Ye<Fe&&!(Ye+Te>=_e.length||Ye>=he.length);++Ye)_e[Ye+Te]=he[Ye];return Ye}function we(he,_e){return he instanceof _e||he!=null&&he.constructor!=null&&he.constructor.name!=null&&he.constructor.name===_e.name}function Ee(he){return he!=he}var Be=function(){for(var he="0123456789abcdef",_e=new Array(256),Te=0;Te<16;++Te)for(var Fe=16*Te,Ye=0;Ye<16;++Ye)_e[Fe+Ye]=he[Te]+he[Ye];return _e}();function Re(he){return typeof BigInt>"u"?je:he}function je(){throw new Error("BigInt not supported")}},2321:function(f){"use strict";f.exports=o,f.exports.isMobile=o,f.exports.default=o;var l=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,s=/android|ipad|playbook|silk/i;function o(n){n||(n={});var r=n.ua;if(r||typeof navigator>"u"||(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;var i=l.test(r)&&!t.test(r)||!!n.tablet&&s.test(r);return!i&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(i=!0),i}},3910:function(f,l){"use strict";l.byteLength=function(h){var _=u(h),m=_[0],d=_[1];return 3*(m+d)/4-d},l.toByteArray=function(h){var _,m,d=u(h),x=d[0],g=d[1],v=new o(function(E,A,C){return 3*(A+C)/4-C}(0,x,g)),T=0,c=g>0?x-4:x;for(m=0;m<c;m+=4)_=s[h.charCodeAt(m)]<<18|s[h.charCodeAt(m+1)]<<12|s[h.charCodeAt(m+2)]<<6|s[h.charCodeAt(m+3)],v[T++]=_>>16&255,v[T++]=_>>8&255,v[T++]=255&_;return g===2&&(_=s[h.charCodeAt(m)]<<2|s[h.charCodeAt(m+1)]>>4,v[T++]=255&_),g===1&&(_=s[h.charCodeAt(m)]<<10|s[h.charCodeAt(m+1)]<<4|s[h.charCodeAt(m+2)]>>2,v[T++]=_>>8&255,v[T++]=255&_),v},l.fromByteArray=function(h){for(var _,m=h.length,d=m%3,x=[],g=16383,v=0,T=m-d;v<T;v+=g)x.push(p(h,v,v+g>T?T:v+g));return d===1?(_=h[m-1],x.push(t[_>>2]+t[_<<4&63]+"==")):d===2&&(_=(h[m-2]<<8)+h[m-1],x.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),x.join("")};for(var t=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=n.length;r<i;++r)t[r]=n[r],s[n.charCodeAt(r)]=r;function u(h){var _=h.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");return m===-1&&(m=_),[m,m===_?0:4-m%4]}function p(h,_,m){for(var d,x,g=[],v=_;v<m;v+=3)d=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(255&h[v+2]),g.push(t[(x=d)>>18&63]+t[x>>12&63]+t[x>>6&63]+t[63&x]);return g.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},3187:function(f,l){l.read=function(t,s,o,n,r){var i,u,p=8*r-n-1,h=(1<<p)-1,_=h>>1,m=-7,d=o?r-1:0,x=o?-1:1,g=t[s+d];for(d+=x,i=g&(1<<-m)-1,g>>=-m,m+=p;m>0;i=256*i+t[s+d],d+=x,m-=8);for(u=i&(1<<-m)-1,i>>=-m,m+=n;m>0;u=256*u+t[s+d],d+=x,m-=8);if(i===0)i=1-_;else{if(i===h)return u?NaN:1/0*(g?-1:1);u+=Math.pow(2,n),i-=_}return(g?-1:1)*u*Math.pow(2,i-n)},l.write=function(t,s,o,n,r,i){var u,p,h,_=8*i-r-1,m=(1<<_)-1,d=m>>1,x=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,v=n?1:-1,T=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(p=isNaN(s)?1:0,u=m):(u=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-u))<1&&(u--,h*=2),(s+=u+d>=1?x/h:x*Math.pow(2,1-d))*h>=2&&(u++,h/=2),u+d>=m?(p=0,u=m):u+d>=1?(p=(s*h-1)*Math.pow(2,r),u+=d):(p=s*Math.pow(2,d-1)*Math.pow(2,r),u=0));r>=8;t[o+g]=255&p,g+=v,p/=256,r-=8);for(u=u<<r|p,_+=r;_>0;t[o+g]=255&u,g+=v,u/=256,_-=8);t[o+g-v]|=128*T}},1152:function(f,l,t){"use strict";f.exports=function(u){var p=(u=u||{}).eye||[0,0,1],h=u.center||[0,0,0],_=u.up||[0,1,0],m=u.distanceLimits||[0,1/0],d=u.mode||"turntable",x=s(),g=o(),v=n();return x.setDistanceLimits(m[0],m[1]),x.lookAt(0,p,h,_),g.setDistanceLimits(m[0],m[1]),g.lookAt(0,p,h,_),v.setDistanceLimits(m[0],m[1]),v.lookAt(0,p,h,_),new r({turntable:x,orbit:g,matrix:v},d)};var s=t(3440),o=t(7774),n=t(9298);function r(u,p){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(h){return u[h]}),this._mode=p,this._active=u[p],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var i=r.prototype;i.flush=function(u){for(var p=this._controllerList,h=0;h<p.length;++h)p[h].flush(u)},i.idle=function(u){for(var p=this._controllerList,h=0;h<p.length;++h)p[h].idle(u)},i.lookAt=function(u,p,h,_){for(var m=this._controllerList,d=0;d<m.length;++d)m[d].lookAt(u,p,h,_)},i.rotate=function(u,p,h,_){for(var m=this._controllerList,d=0;d<m.length;++d)m[d].rotate(u,p,h,_)},i.pan=function(u,p,h,_){for(var m=this._controllerList,d=0;d<m.length;++d)m[d].pan(u,p,h,_)},i.translate=function(u,p,h,_){for(var m=this._controllerList,d=0;d<m.length;++d)m[d].translate(u,p,h,_)},i.setMatrix=function(u,p){for(var h=this._controllerList,_=0;_<h.length;++_)h[_].setMatrix(u,p)},i.setDistanceLimits=function(u,p){for(var h=this._controllerList,_=0;_<h.length;++_)h[_].setDistanceLimits(u,p)},i.setDistance=function(u,p){for(var h=this._controllerList,_=0;_<h.length;++_)h[_].setDistance(u,p)},i.recalcMatrix=function(u){this._active.recalcMatrix(u)},i.getDistance=function(u){return this._active.getDistance(u)},i.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},i.lastT=function(){return this._active.lastT()},i.setMode=function(u){if(u!==this._mode){var p=this._controllerNames.indexOf(u);if(!(p<0)){var h=this._active,_=this._controllerList[p],m=Math.max(h.lastT(),_.lastT());h.recalcMatrix(m),_.setMatrix(m,h.computedMatrix),this._active=_,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},i.getMode=function(){return this._mode}},8126:function(f,l,t){"use strict";var s=typeof WeakMap>"u"?t(5346):WeakMap,o=t(5827),n=t(2944),r=new s;f.exports=function(i){var u=r.get(i),p=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!p||!i.isBuffer(p)){var h=o(i,new Float32Array([-1,-1,-1,4,4,-1]));(u=n(i,[{buffer:h,type:i.FLOAT,size:2}]))._triangleBuffer=h,r.set(i,u)}u.bind(),i.drawArrays(i.TRIANGLES,0,3),u.unbind()}},8008:function(f,l,t){var s=t(4930);f.exports=function(o,n,r){n=typeof n=="number"?n:1,r=r||": ";var i=o.split(/\r?\n/),u=String(i.length+n-1).length;return i.map(function(p,h){var _=h+n,m=String(_).length;return s(_,u-m)+r+p}).join(`
`)}},2153:function(f,l,t){"use strict";f.exports=function(n){var r=n.length;if(r===0)return[];if(r===1)return[0];for(var i=n[0].length,u=[n[0]],p=[0],h=1;h<r;++h)if(u.push(n[h]),o(u,i)){if(p.push(h),p.length===i+1)return p}else u.pop();return p};var s=t(417);function o(n,r){for(var i=new Array(r+1),u=0;u<n.length;++u)i[u]=n[u];for(u=0;u<=n.length;++u){for(var p=n.length;p<=r;++p){for(var h=new Array(r),_=0;_<r;++_)h[_]=Math.pow(p+1-u,_);i[p]=h}if(s.apply(void 0,i))return!0}return!1}},4653:function(f,l,t){"use strict";f.exports=function(n,r){return s(r).filter(function(i){for(var u=new Array(i.length),p=0;p<i.length;++p)u[p]=r[i[p]];return o(u)*n<1})};var s=t(4419),o=t(1778)},2350:function(f,l,t){f.exports=function(n,r){return o(s(n,r))};var s=t(4653),o=t(8691)},7896:function(f){f.exports=function(l){return atob(l)}},957:function(f,l,t){"use strict";f.exports=function(n,r){for(var i=r.length,u=new Array(i+1),p=0;p<i;++p){for(var h=new Array(i+1),_=0;_<=i;++_)h[_]=n[_][p];u[p]=h}for(u[i]=new Array(i+1),p=0;p<=i;++p)u[i][p]=1;var m=new Array(i+1);for(p=0;p<i;++p)m[p]=r[p];m[i]=1;var d=s(u,m),x=o(d[i+1]);x===0&&(x=1);var g=new Array(i+1);for(p=0;p<=i;++p)g[p]=o(d[p])/x;return g};var s=t(6606);function o(n){for(var r=0,i=0;i<n.length;++i)r+=n[i];return r}},1539:function(f,l,t){"use strict";var s=t(8524);f.exports=function(o,n){return s(o[0].mul(n[1]).add(n[0].mul(o[1])),o[1].mul(n[1]))}},8846:function(f){"use strict";f.exports=function(l,t){return l[0].mul(t[1]).cmp(t[0].mul(l[1]))}},9189:function(f,l,t){"use strict";var s=t(8524);f.exports=function(o,n){return s(o[0].mul(n[1]),o[1].mul(n[0]))}},5125:function(f,l,t){"use strict";var s=t(234),o=t(3218),n=t(5514),r=t(2813),i=t(8524),u=t(9189);f.exports=function p(h,_){if(s(h))return _?u(h,p(_)):[h[0].clone(),h[1].clone()];var m,d,x=0;if(o(h))m=h.clone();else if(typeof h=="string")m=r(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))m=n(h);else{for(;h!==Math.floor(h);)h*=Math.pow(2,256),x-=256;m=n(h)}}if(s(_))m.mul(_[1]),d=_[0].clone();else if(o(_))d=_.clone();else if(typeof _=="string")d=r(_);else if(_)if(_===Math.floor(_))d=n(_);else{for(;_!==Math.floor(_);)_*=Math.pow(2,256),x+=256;d=n(_)}else d=n(1);return x>0?m=m.ushln(x):x<0&&(d=d.ushln(-x)),i(m,d)}},234:function(f,l,t){"use strict";var s=t(3218);f.exports=function(o){return Array.isArray(o)&&o.length===2&&s(o[0])&&s(o[1])}},4275:function(f,l,t){"use strict";var s=t(1928);f.exports=function(o){return o.cmp(new s(0))}},9958:function(f,l,t){"use strict";var s=t(4275);f.exports=function(o){var n=o.length,r=o.words,i=0;if(n===1)i=r[0];else if(n===2)i=r[0]+67108864*r[1];else for(var u=0;u<n;u++)i+=r[u]*Math.pow(67108864,u);return s(o)*i}},1112:function(f,l,t){"use strict";var s=t(8362),o=t(2288).countTrailingZeros;f.exports=function(n){var r=o(s.lo(n));if(r<32)return r;var i=o(s.hi(n));return i>20?52:i+32}},3218:function(f,l,t){"use strict";t(1928),f.exports=function(s){return s&&typeof s=="object"&&!!s.words}},5514:function(f,l,t){"use strict";var s=t(1928),o=t(8362);f.exports=function(n){var r=o.exponent(n);return r<52?new s(n):new s(n*Math.pow(2,52-r)).ushln(r-52)}},8524:function(f,l,t){"use strict";var s=t(5514),o=t(4275);f.exports=function(n,r){var i=o(n),u=o(r);if(i===0)return[s(0),s(1)];if(u===0)return[s(0),s(0)];u<0&&(n=n.neg(),r=r.neg());var p=n.gcd(r);return p.cmpn(1)?[n.div(p),r.div(p)]:[n,r]}},2813:function(f,l,t){"use strict";var s=t(1928);f.exports=function(o){return new s(o)}},3962:function(f,l,t){"use strict";var s=t(8524);f.exports=function(o,n){return s(o[0].mul(n[0]),o[1].mul(n[1]))}},4951:function(f,l,t){"use strict";var s=t(4275);f.exports=function(o){return s(o[0])*s(o[1])}},4354:function(f,l,t){"use strict";var s=t(8524);f.exports=function(o,n){return s(o[0].mul(n[1]).sub(o[1].mul(n[0])),o[1].mul(n[1]))}},7999:function(f,l,t){"use strict";var s=t(9958),o=t(1112);f.exports=function(n){var r=n[0],i=n[1];if(r.cmpn(0)===0)return 0;var u=r.abs().divmod(i.abs()),p=u.div,h=s(p),_=u.mod,m=r.negative!==i.negative?-1:1;if(_.cmpn(0)===0)return m*h;if(h){var d=o(h)+4,x=s(_.ushln(d).divRound(i));return m*(h+x*Math.pow(2,-d))}var g=i.bitLength()-_.bitLength()+53;return x=s(_.ushln(g).divRound(i)),g<1023?m*x*Math.pow(2,-g):m*(x*=Math.pow(2,-1023))*Math.pow(2,1023-g)}},5070:function(f){"use strict";function l(i,u,p,h,_){for(var m=_+1;h<=_;){var d=h+_>>>1,x=i[d];(p!==void 0?p(x,u):x-u)>=0?(m=d,_=d-1):h=d+1}return m}function t(i,u,p,h,_){for(var m=_+1;h<=_;){var d=h+_>>>1,x=i[d];(p!==void 0?p(x,u):x-u)>0?(m=d,_=d-1):h=d+1}return m}function s(i,u,p,h,_){for(var m=h-1;h<=_;){var d=h+_>>>1,x=i[d];(p!==void 0?p(x,u):x-u)<0?(m=d,h=d+1):_=d-1}return m}function o(i,u,p,h,_){for(var m=h-1;h<=_;){var d=h+_>>>1,x=i[d];(p!==void 0?p(x,u):x-u)<=0?(m=d,h=d+1):_=d-1}return m}function n(i,u,p,h,_){for(;h<=_;){var m=h+_>>>1,d=i[m],x=p!==void 0?p(d,u):d-u;if(x===0)return m;x<=0?h=m+1:_=m-1}return-1}function r(i,u,p,h,_,m){return typeof p=="function"?m(i,u,p,h===void 0?0:0|h,_===void 0?i.length-1:0|_):m(i,u,void 0,p===void 0?0:0|p,h===void 0?i.length-1:0|h)}f.exports={ge:function(i,u,p,h,_){return r(i,u,p,h,_,l)},gt:function(i,u,p,h,_){return r(i,u,p,h,_,t)},lt:function(i,u,p,h,_){return r(i,u,p,h,_,s)},le:function(i,u,p,h,_){return r(i,u,p,h,_,o)},eq:function(i,u,p,h,_){return r(i,u,p,h,_,n)}}},2288:function(f,l){"use strict";function t(o){var n=32;return(o&=-o)&&n--,65535&o&&(n-=16),16711935&o&&(n-=8),252645135&o&&(n-=4),858993459&o&&(n-=2),1431655765&o&&(n-=1),n}l.INT_BITS=32,l.INT_MAX=2147483647,l.INT_MIN=-2147483648,l.sign=function(o){return(o>0)-(o<0)},l.abs=function(o){var n=o>>31;return(o^n)-n},l.min=function(o,n){return n^(o^n)&-(o<n)},l.max=function(o,n){return o^(o^n)&-(o<n)},l.isPow2=function(o){return!(o&o-1||!o)},l.log2=function(o){var n,r;return n=(o>65535)<<4,n|=r=((o>>>=n)>255)<<3,n|=r=((o>>>=r)>15)<<2,(n|=r=((o>>>=r)>3)<<1)|(o>>>=r)>>1},l.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},l.popCount=function(o){return 16843009*((o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135)>>>24},l.countTrailingZeros=t,l.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,1+((o|=o>>>8)|o>>>16)},l.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1)},l.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,27030>>>(o&=15)&1};var s=new Array(256);(function(o){for(var n=0;n<256;++n){var r=n,i=n,u=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--u;o[n]=i<<u&255}})(s),l.reverse=function(o){return s[255&o]<<24|s[o>>>8&255]<<16|s[o>>>16&255]<<8|s[o>>>24&255]},l.interleave2=function(o,n){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},l.deinterleave2=function(o,n){return(o=65535&((o=16711935&((o=252645135&((o=858993459&((o=o>>>n&1431655765)|o>>>1))|o>>>2))|o>>>4))|o>>>16))<<16>>16},l.interleave3=function(o,n,r){return o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2),(o|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},l.deinterleave3=function(o,n){return(o=1023&((o=4278190335&((o=251719695&((o=3272356035&((o=o>>>n&1227133513)|o>>>2))|o>>>4))|o>>>8))|o>>>16))<<22>>22},l.nextCombination=function(o){var n=o|o-1;return n+1|(~n&-~n)-1>>>t(o)+1}},1928:function(f,l,t){(function(s,o){"use strict";function n(F,W){if(!F)throw new Error(W||"Assertion failed")}function r(F,W){F.super_=W;var B=function(){};B.prototype=W.prototype,F.prototype=new B,F.prototype.constructor=F}function i(F,W,B){if(i.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&(W!=="le"&&W!=="be"||(B=W,W=10),this._init(F||0,W||10,B||"be"))}var u;typeof s=="object"?s.exports=i:o.BN=i,i.BN=i,i.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(6601).Buffer}catch{}function p(F,W){var B=F.charCodeAt(W);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function h(F,W,B){var U=p(F,B);return B-1>=W&&(U|=p(F,B-1)<<4),U}function _(F,W,B,U){for(var H=0,q=Math.min(F.length,B),ee=W;ee<q;ee++){var K=F.charCodeAt(ee)-48;H*=U,H+=K>=49?K-49+10:K>=17?K-17+10:K}return H}i.isBN=function(F){return F instanceof i||F!==null&&typeof F=="object"&&F.constructor.wordSize===i.wordSize&&Array.isArray(F.words)},i.max=function(F,W){return F.cmp(W)>0?F:W},i.min=function(F,W){return F.cmp(W)<0?F:W},i.prototype._init=function(F,W,B){if(typeof F=="number")return this._initNumber(F,W,B);if(typeof F=="object")return this._initArray(F,W,B);W==="hex"&&(W=16),n(W===(0|W)&&W>=2&&W<=36);var U=0;(F=F.toString().replace(/\s+/g,""))[0]==="-"&&(U++,this.negative=1),U<F.length&&(W===16?this._parseHex(F,U,B):(this._parseBase(F,W,U),B==="le"&&this._initArray(this.toArray(),W,B)))},i.prototype._initNumber=function(F,W,B){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[67108863&F],this.length=1):F<4503599627370496?(this.words=[67108863&F,F/67108864&67108863],this.length=2):(n(F<9007199254740992),this.words=[67108863&F,F/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),W,B)},i.prototype._initArray=function(F,W,B){if(n(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var H,q,ee=0;if(B==="be")for(U=F.length-1,H=0;U>=0;U-=3)q=F[U]|F[U-1]<<8|F[U-2]<<16,this.words[H]|=q<<ee&67108863,this.words[H+1]=q>>>26-ee&67108863,(ee+=24)>=26&&(ee-=26,H++);else if(B==="le")for(U=0,H=0;U<F.length;U+=3)q=F[U]|F[U+1]<<8|F[U+2]<<16,this.words[H]|=q<<ee&67108863,this.words[H+1]=q>>>26-ee&67108863,(ee+=24)>=26&&(ee-=26,H++);return this.strip()},i.prototype._parseHex=function(F,W,B){this.length=Math.ceil((F.length-W)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var H,q=0,ee=0;if(B==="be")for(U=F.length-1;U>=W;U-=2)H=h(F,W,U)<<q,this.words[ee]|=67108863&H,q>=18?(q-=18,ee+=1,this.words[ee]|=H>>>26):q+=8;else for(U=(F.length-W)%2==0?W+1:W;U<F.length;U+=2)H=h(F,W,U)<<q,this.words[ee]|=67108863&H,q>=18?(q-=18,ee+=1,this.words[ee]|=H>>>26):q+=8;this.strip()},i.prototype._parseBase=function(F,W,B){this.words=[0],this.length=1;for(var U=0,H=1;H<=67108863;H*=W)U++;U--,H=H/W|0;for(var q=F.length-B,ee=q%U,K=Math.min(q,q-ee)+B,J=0,Z=B;Z<K;Z+=U)J=_(F,Z,Z+U,W),this.imuln(H),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(ee!==0){var $=1;for(J=_(F,Z,F.length,W),Z=0;Z<ee;Z++)$*=W;this.imuln($),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this.strip()},i.prototype.copy=function(F){F.words=new Array(this.length);for(var W=0;W<this.length;W++)F.words[W]=this.words[W];F.length=this.length,F.negative=this.negative,F.red=this.red},i.prototype.clone=function(){var F=new i(null);return this.copy(F),F},i.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(F,W,B){B.negative=W.negative^F.negative;var U=F.length+W.length|0;B.length=U,U=U-1|0;var H=0|F.words[0],q=0|W.words[0],ee=H*q,K=67108863&ee,J=ee/67108864|0;B.words[0]=K;for(var Z=1;Z<U;Z++){for(var $=J>>>26,ne=67108863&J,ae=Math.min(Z,W.length-1),oe=Math.max(0,Z-F.length+1);oe<=ae;oe++){var se=Z-oe|0;$+=(ee=(H=0|F.words[se])*(q=0|W.words[oe])+ne)/67108864|0,ne=67108863&ee}B.words[Z]=0|ne,J=0|$}return J!==0?B.words[Z]=0|J:B.length--,B.strip()}i.prototype.toString=function(F,W){var B;if(W=0|W||1,(F=F||10)===16||F==="hex"){B="";for(var U=0,H=0,q=0;q<this.length;q++){var ee=this.words[q],K=(16777215&(ee<<U|H)).toString(16);B=(H=ee>>>24-U&16777215)!=0||q!==this.length-1?m[6-K.length]+K+B:K+B,(U+=2)>=26&&(U-=26,q--)}for(H!==0&&(B=H.toString(16)+B);B.length%W!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(F===(0|F)&&F>=2&&F<=36){var J=d[F],Z=x[F];B="";var $=this.clone();for($.negative=0;!$.isZero();){var ne=$.modn(Z).toString(F);B=($=$.idivn(Z)).isZero()?ne+B:m[J-ne.length]+ne+B}for(this.isZero()&&(B="0"+B);B.length%W!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=67108864*this.words[1]:this.length===3&&this.words[2]===1?F+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(F,W){return n(u!==void 0),this.toArrayLike(u,F,W)},i.prototype.toArray=function(F,W){return this.toArrayLike(Array,F,W)},i.prototype.toArrayLike=function(F,W,B){var U=this.byteLength(),H=B||Math.max(1,U);n(U<=H,"byte array longer than desired length"),n(H>0,"Requested array length <= 0"),this.strip();var q,ee,K=W==="le",J=new F(H),Z=this.clone();if(K){for(ee=0;!Z.isZero();ee++)q=Z.andln(255),Z.iushrn(8),J[ee]=q;for(;ee<H;ee++)J[ee]=0}else{for(ee=0;ee<H-U;ee++)J[ee]=0;for(ee=0;!Z.isZero();ee++)q=Z.andln(255),Z.iushrn(8),J[H-ee-1]=q}return J},Math.clz32?i.prototype._countBits=function(F){return 32-Math.clz32(F)}:i.prototype._countBits=function(F){var W=F,B=0;return W>=4096&&(B+=13,W>>>=13),W>=64&&(B+=7,W>>>=7),W>=8&&(B+=4,W>>>=4),W>=2&&(B+=2,W>>>=2),B+W},i.prototype._zeroBits=function(F){if(F===0)return 26;var W=F,B=0;return!(8191&W)&&(B+=13,W>>>=13),!(127&W)&&(B+=7,W>>>=7),!(15&W)&&(B+=4,W>>>=4),!(3&W)&&(B+=2,W>>>=2),!(1&W)&&B++,B},i.prototype.bitLength=function(){var F=this.words[this.length-1],W=this._countBits(F);return 26*(this.length-1)+W},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,W=0;W<this.length;W++){var B=this._zeroBits(this.words[W]);if(F+=B,B!==26)break}return F},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},i.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var W=0;W<F.length;W++)this.words[W]=this.words[W]|F.words[W];return this.strip()},i.prototype.ior=function(F){return n((this.negative|F.negative)==0),this.iuor(F)},i.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},i.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},i.prototype.iuand=function(F){var W;W=this.length>F.length?F:this;for(var B=0;B<W.length;B++)this.words[B]=this.words[B]&F.words[B];return this.length=W.length,this.strip()},i.prototype.iand=function(F){return n((this.negative|F.negative)==0),this.iuand(F)},i.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},i.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},i.prototype.iuxor=function(F){var W,B;this.length>F.length?(W=this,B=F):(W=F,B=this);for(var U=0;U<B.length;U++)this.words[U]=W.words[U]^B.words[U];if(this!==W)for(;U<W.length;U++)this.words[U]=W.words[U];return this.length=W.length,this.strip()},i.prototype.ixor=function(F){return n((this.negative|F.negative)==0),this.iuxor(F)},i.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},i.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},i.prototype.inotn=function(F){n(typeof F=="number"&&F>=0);var W=0|Math.ceil(F/26),B=F%26;this._expand(W),B>0&&W--;for(var U=0;U<W;U++)this.words[U]=67108863&~this.words[U];return B>0&&(this.words[U]=~this.words[U]&67108863>>26-B),this.strip()},i.prototype.notn=function(F){return this.clone().inotn(F)},i.prototype.setn=function(F,W){n(typeof F=="number"&&F>=0);var B=F/26|0,U=F%26;return this._expand(B+1),this.words[B]=W?this.words[B]|1<<U:this.words[B]&~(1<<U),this.strip()},i.prototype.iadd=function(F){var W,B,U;if(this.negative!==0&&F.negative===0)return this.negative=0,W=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,W=this.isub(F),F.negative=1,W._normSign();this.length>F.length?(B=this,U=F):(B=F,U=this);for(var H=0,q=0;q<U.length;q++)W=(0|B.words[q])+(0|U.words[q])+H,this.words[q]=67108863&W,H=W>>>26;for(;H!==0&&q<B.length;q++)W=(0|B.words[q])+H,this.words[q]=67108863&W,H=W>>>26;if(this.length=B.length,H!==0)this.words[this.length]=H,this.length++;else if(B!==this)for(;q<B.length;q++)this.words[q]=B.words[q];return this},i.prototype.add=function(F){var W;return F.negative!==0&&this.negative===0?(F.negative=0,W=this.sub(F),F.negative^=1,W):F.negative===0&&this.negative!==0?(this.negative=0,W=F.sub(this),this.negative=1,W):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},i.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var W=this.iadd(F);return F.negative=1,W._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var B,U,H=this.cmp(F);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;H>0?(B=this,U=F):(B=F,U=this);for(var q=0,ee=0;ee<U.length;ee++)q=(W=(0|B.words[ee])-(0|U.words[ee])+q)>>26,this.words[ee]=67108863&W;for(;q!==0&&ee<B.length;ee++)q=(W=(0|B.words[ee])+q)>>26,this.words[ee]=67108863&W;if(q===0&&ee<B.length&&B!==this)for(;ee<B.length;ee++)this.words[ee]=B.words[ee];return this.length=Math.max(this.length,ee),B!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(F){return this.clone().isub(F)};var v=function(F,W,B){var U,H,q,ee=F.words,K=W.words,J=B.words,Z=0,$=0|ee[0],ne=8191&$,ae=$>>>13,oe=0|ee[1],se=8191&oe,ce=oe>>>13,me=0|ee[2],xe=8191&me,ve=me>>>13,fe=0|ee[3],pe=8191&fe,Le=fe>>>13,ye=0|ee[4],Ae=8191&ye,Me=ye>>>13,ke=0|ee[5],te=8191&ke,ue=ke>>>13,ge=0|ee[6],we=8191&ge,Ee=ge>>>13,Be=0|ee[7],Re=8191&Be,je=Be>>>13,he=0|ee[8],_e=8191&he,Te=he>>>13,Fe=0|ee[9],Ye=8191&Fe,Ge=Fe>>>13,ot=0|K[0],st=8191&ot,ht=ot>>>13,xt=0|K[1],Ct=8191&xt,St=xt>>>13,kt=0|K[2],Nt=8191&kt,Dt=kt>>>13,Et=0|K[3],Wt=8191&Et,Ht=Et>>>13,Ke=0|K[4],$e=8191&Ke,Ue=Ke>>>13,nt=0|K[5],ct=8191&nt,Oe=nt>>>13,Ne=0|K[6],Qe=8191&Ne,ut=Ne>>>13,pt=0|K[7],wt=8191&pt,Lt=pt>>>13,It=0|K[8],yt=8191&It,Rt=It>>>13,bt=0|K[9],Pt=8191&bt,Bt=bt>>>13;B.negative=F.negative^W.negative,B.length=19;var Zt=(Z+(U=Math.imul(ne,st))|0)+((8191&(H=(H=Math.imul(ne,ht))+Math.imul(ae,st)|0))<<13)|0;Z=((q=Math.imul(ae,ht))+(H>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,U=Math.imul(se,st),H=(H=Math.imul(se,ht))+Math.imul(ce,st)|0,q=Math.imul(ce,ht);var Yt=(Z+(U=U+Math.imul(ne,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(ne,St)|0)+Math.imul(ae,Ct)|0))<<13)|0;Z=((q=q+Math.imul(ae,St)|0)+(H>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,U=Math.imul(xe,st),H=(H=Math.imul(xe,ht))+Math.imul(ve,st)|0,q=Math.imul(ve,ht),U=U+Math.imul(se,Ct)|0,H=(H=H+Math.imul(se,St)|0)+Math.imul(ce,Ct)|0,q=q+Math.imul(ce,St)|0;var Kt=(Z+(U=U+Math.imul(ne,Nt)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Dt)|0)+Math.imul(ae,Nt)|0))<<13)|0;Z=((q=q+Math.imul(ae,Dt)|0)+(H>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,U=Math.imul(pe,st),H=(H=Math.imul(pe,ht))+Math.imul(Le,st)|0,q=Math.imul(Le,ht),U=U+Math.imul(xe,Ct)|0,H=(H=H+Math.imul(xe,St)|0)+Math.imul(ve,Ct)|0,q=q+Math.imul(ve,St)|0,U=U+Math.imul(se,Nt)|0,H=(H=H+Math.imul(se,Dt)|0)+Math.imul(ce,Nt)|0,q=q+Math.imul(ce,Dt)|0;var tn=(Z+(U=U+Math.imul(ne,Wt)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Ht)|0)+Math.imul(ae,Wt)|0))<<13)|0;Z=((q=q+Math.imul(ae,Ht)|0)+(H>>>13)|0)+(tn>>>26)|0,tn&=67108863,U=Math.imul(Ae,st),H=(H=Math.imul(Ae,ht))+Math.imul(Me,st)|0,q=Math.imul(Me,ht),U=U+Math.imul(pe,Ct)|0,H=(H=H+Math.imul(pe,St)|0)+Math.imul(Le,Ct)|0,q=q+Math.imul(Le,St)|0,U=U+Math.imul(xe,Nt)|0,H=(H=H+Math.imul(xe,Dt)|0)+Math.imul(ve,Nt)|0,q=q+Math.imul(ve,Dt)|0,U=U+Math.imul(se,Wt)|0,H=(H=H+Math.imul(se,Ht)|0)+Math.imul(ce,Wt)|0,q=q+Math.imul(ce,Ht)|0;var on=(Z+(U=U+Math.imul(ne,$e)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Ue)|0)+Math.imul(ae,$e)|0))<<13)|0;Z=((q=q+Math.imul(ae,Ue)|0)+(H>>>13)|0)+(on>>>26)|0,on&=67108863,U=Math.imul(te,st),H=(H=Math.imul(te,ht))+Math.imul(ue,st)|0,q=Math.imul(ue,ht),U=U+Math.imul(Ae,Ct)|0,H=(H=H+Math.imul(Ae,St)|0)+Math.imul(Me,Ct)|0,q=q+Math.imul(Me,St)|0,U=U+Math.imul(pe,Nt)|0,H=(H=H+Math.imul(pe,Dt)|0)+Math.imul(Le,Nt)|0,q=q+Math.imul(Le,Dt)|0,U=U+Math.imul(xe,Wt)|0,H=(H=H+Math.imul(xe,Ht)|0)+Math.imul(ve,Wt)|0,q=q+Math.imul(ve,Ht)|0,U=U+Math.imul(se,$e)|0,H=(H=H+Math.imul(se,Ue)|0)+Math.imul(ce,$e)|0,q=q+Math.imul(ce,Ue)|0;var _n=(Z+(U=U+Math.imul(ne,ct)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Oe)|0)+Math.imul(ae,ct)|0))<<13)|0;Z=((q=q+Math.imul(ae,Oe)|0)+(H>>>13)|0)+(_n>>>26)|0,_n&=67108863,U=Math.imul(we,st),H=(H=Math.imul(we,ht))+Math.imul(Ee,st)|0,q=Math.imul(Ee,ht),U=U+Math.imul(te,Ct)|0,H=(H=H+Math.imul(te,St)|0)+Math.imul(ue,Ct)|0,q=q+Math.imul(ue,St)|0,U=U+Math.imul(Ae,Nt)|0,H=(H=H+Math.imul(Ae,Dt)|0)+Math.imul(Me,Nt)|0,q=q+Math.imul(Me,Dt)|0,U=U+Math.imul(pe,Wt)|0,H=(H=H+Math.imul(pe,Ht)|0)+Math.imul(Le,Wt)|0,q=q+Math.imul(Le,Ht)|0,U=U+Math.imul(xe,$e)|0,H=(H=H+Math.imul(xe,Ue)|0)+Math.imul(ve,$e)|0,q=q+Math.imul(ve,Ue)|0,U=U+Math.imul(se,ct)|0,H=(H=H+Math.imul(se,Oe)|0)+Math.imul(ce,ct)|0,q=q+Math.imul(ce,Oe)|0;var fn=(Z+(U=U+Math.imul(ne,Qe)|0)|0)+((8191&(H=(H=H+Math.imul(ne,ut)|0)+Math.imul(ae,Qe)|0))<<13)|0;Z=((q=q+Math.imul(ae,ut)|0)+(H>>>13)|0)+(fn>>>26)|0,fn&=67108863,U=Math.imul(Re,st),H=(H=Math.imul(Re,ht))+Math.imul(je,st)|0,q=Math.imul(je,ht),U=U+Math.imul(we,Ct)|0,H=(H=H+Math.imul(we,St)|0)+Math.imul(Ee,Ct)|0,q=q+Math.imul(Ee,St)|0,U=U+Math.imul(te,Nt)|0,H=(H=H+Math.imul(te,Dt)|0)+Math.imul(ue,Nt)|0,q=q+Math.imul(ue,Dt)|0,U=U+Math.imul(Ae,Wt)|0,H=(H=H+Math.imul(Ae,Ht)|0)+Math.imul(Me,Wt)|0,q=q+Math.imul(Me,Ht)|0,U=U+Math.imul(pe,$e)|0,H=(H=H+Math.imul(pe,Ue)|0)+Math.imul(Le,$e)|0,q=q+Math.imul(Le,Ue)|0,U=U+Math.imul(xe,ct)|0,H=(H=H+Math.imul(xe,Oe)|0)+Math.imul(ve,ct)|0,q=q+Math.imul(ve,Oe)|0,U=U+Math.imul(se,Qe)|0,H=(H=H+Math.imul(se,ut)|0)+Math.imul(ce,Qe)|0,q=q+Math.imul(ce,ut)|0;var Sn=(Z+(U=U+Math.imul(ne,wt)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Lt)|0)+Math.imul(ae,wt)|0))<<13)|0;Z=((q=q+Math.imul(ae,Lt)|0)+(H>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,U=Math.imul(_e,st),H=(H=Math.imul(_e,ht))+Math.imul(Te,st)|0,q=Math.imul(Te,ht),U=U+Math.imul(Re,Ct)|0,H=(H=H+Math.imul(Re,St)|0)+Math.imul(je,Ct)|0,q=q+Math.imul(je,St)|0,U=U+Math.imul(we,Nt)|0,H=(H=H+Math.imul(we,Dt)|0)+Math.imul(Ee,Nt)|0,q=q+Math.imul(Ee,Dt)|0,U=U+Math.imul(te,Wt)|0,H=(H=H+Math.imul(te,Ht)|0)+Math.imul(ue,Wt)|0,q=q+Math.imul(ue,Ht)|0,U=U+Math.imul(Ae,$e)|0,H=(H=H+Math.imul(Ae,Ue)|0)+Math.imul(Me,$e)|0,q=q+Math.imul(Me,Ue)|0,U=U+Math.imul(pe,ct)|0,H=(H=H+Math.imul(pe,Oe)|0)+Math.imul(Le,ct)|0,q=q+Math.imul(Le,Oe)|0,U=U+Math.imul(xe,Qe)|0,H=(H=H+Math.imul(xe,ut)|0)+Math.imul(ve,Qe)|0,q=q+Math.imul(ve,ut)|0,U=U+Math.imul(se,wt)|0,H=(H=H+Math.imul(se,Lt)|0)+Math.imul(ce,wt)|0,q=q+Math.imul(ce,Lt)|0;var Xn=(Z+(U=U+Math.imul(ne,yt)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Rt)|0)+Math.imul(ae,yt)|0))<<13)|0;Z=((q=q+Math.imul(ae,Rt)|0)+(H>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,U=Math.imul(Ye,st),H=(H=Math.imul(Ye,ht))+Math.imul(Ge,st)|0,q=Math.imul(Ge,ht),U=U+Math.imul(_e,Ct)|0,H=(H=H+Math.imul(_e,St)|0)+Math.imul(Te,Ct)|0,q=q+Math.imul(Te,St)|0,U=U+Math.imul(Re,Nt)|0,H=(H=H+Math.imul(Re,Dt)|0)+Math.imul(je,Nt)|0,q=q+Math.imul(je,Dt)|0,U=U+Math.imul(we,Wt)|0,H=(H=H+Math.imul(we,Ht)|0)+Math.imul(Ee,Wt)|0,q=q+Math.imul(Ee,Ht)|0,U=U+Math.imul(te,$e)|0,H=(H=H+Math.imul(te,Ue)|0)+Math.imul(ue,$e)|0,q=q+Math.imul(ue,Ue)|0,U=U+Math.imul(Ae,ct)|0,H=(H=H+Math.imul(Ae,Oe)|0)+Math.imul(Me,ct)|0,q=q+Math.imul(Me,Oe)|0,U=U+Math.imul(pe,Qe)|0,H=(H=H+Math.imul(pe,ut)|0)+Math.imul(Le,Qe)|0,q=q+Math.imul(Le,ut)|0,U=U+Math.imul(xe,wt)|0,H=(H=H+Math.imul(xe,Lt)|0)+Math.imul(ve,wt)|0,q=q+Math.imul(ve,Lt)|0,U=U+Math.imul(se,yt)|0,H=(H=H+Math.imul(se,Rt)|0)+Math.imul(ce,yt)|0,q=q+Math.imul(ce,Rt)|0;var An=(Z+(U=U+Math.imul(ne,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(ne,Bt)|0)+Math.imul(ae,Pt)|0))<<13)|0;Z=((q=q+Math.imul(ae,Bt)|0)+(H>>>13)|0)+(An>>>26)|0,An&=67108863,U=Math.imul(Ye,Ct),H=(H=Math.imul(Ye,St))+Math.imul(Ge,Ct)|0,q=Math.imul(Ge,St),U=U+Math.imul(_e,Nt)|0,H=(H=H+Math.imul(_e,Dt)|0)+Math.imul(Te,Nt)|0,q=q+Math.imul(Te,Dt)|0,U=U+Math.imul(Re,Wt)|0,H=(H=H+Math.imul(Re,Ht)|0)+Math.imul(je,Wt)|0,q=q+Math.imul(je,Ht)|0,U=U+Math.imul(we,$e)|0,H=(H=H+Math.imul(we,Ue)|0)+Math.imul(Ee,$e)|0,q=q+Math.imul(Ee,Ue)|0,U=U+Math.imul(te,ct)|0,H=(H=H+Math.imul(te,Oe)|0)+Math.imul(ue,ct)|0,q=q+Math.imul(ue,Oe)|0,U=U+Math.imul(Ae,Qe)|0,H=(H=H+Math.imul(Ae,ut)|0)+Math.imul(Me,Qe)|0,q=q+Math.imul(Me,ut)|0,U=U+Math.imul(pe,wt)|0,H=(H=H+Math.imul(pe,Lt)|0)+Math.imul(Le,wt)|0,q=q+Math.imul(Le,Lt)|0,U=U+Math.imul(xe,yt)|0,H=(H=H+Math.imul(xe,Rt)|0)+Math.imul(ve,yt)|0,q=q+Math.imul(ve,Rt)|0;var un=(Z+(U=U+Math.imul(se,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(se,Bt)|0)+Math.imul(ce,Pt)|0))<<13)|0;Z=((q=q+Math.imul(ce,Bt)|0)+(H>>>13)|0)+(un>>>26)|0,un&=67108863,U=Math.imul(Ye,Nt),H=(H=Math.imul(Ye,Dt))+Math.imul(Ge,Nt)|0,q=Math.imul(Ge,Dt),U=U+Math.imul(_e,Wt)|0,H=(H=H+Math.imul(_e,Ht)|0)+Math.imul(Te,Wt)|0,q=q+Math.imul(Te,Ht)|0,U=U+Math.imul(Re,$e)|0,H=(H=H+Math.imul(Re,Ue)|0)+Math.imul(je,$e)|0,q=q+Math.imul(je,Ue)|0,U=U+Math.imul(we,ct)|0,H=(H=H+Math.imul(we,Oe)|0)+Math.imul(Ee,ct)|0,q=q+Math.imul(Ee,Oe)|0,U=U+Math.imul(te,Qe)|0,H=(H=H+Math.imul(te,ut)|0)+Math.imul(ue,Qe)|0,q=q+Math.imul(ue,ut)|0,U=U+Math.imul(Ae,wt)|0,H=(H=H+Math.imul(Ae,Lt)|0)+Math.imul(Me,wt)|0,q=q+Math.imul(Me,Lt)|0,U=U+Math.imul(pe,yt)|0,H=(H=H+Math.imul(pe,Rt)|0)+Math.imul(Le,yt)|0,q=q+Math.imul(Le,Rt)|0;var Tn=(Z+(U=U+Math.imul(xe,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(xe,Bt)|0)+Math.imul(ve,Pt)|0))<<13)|0;Z=((q=q+Math.imul(ve,Bt)|0)+(H>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,U=Math.imul(Ye,Wt),H=(H=Math.imul(Ye,Ht))+Math.imul(Ge,Wt)|0,q=Math.imul(Ge,Ht),U=U+Math.imul(_e,$e)|0,H=(H=H+Math.imul(_e,Ue)|0)+Math.imul(Te,$e)|0,q=q+Math.imul(Te,Ue)|0,U=U+Math.imul(Re,ct)|0,H=(H=H+Math.imul(Re,Oe)|0)+Math.imul(je,ct)|0,q=q+Math.imul(je,Oe)|0,U=U+Math.imul(we,Qe)|0,H=(H=H+Math.imul(we,ut)|0)+Math.imul(Ee,Qe)|0,q=q+Math.imul(Ee,ut)|0,U=U+Math.imul(te,wt)|0,H=(H=H+Math.imul(te,Lt)|0)+Math.imul(ue,wt)|0,q=q+Math.imul(ue,Lt)|0,U=U+Math.imul(Ae,yt)|0,H=(H=H+Math.imul(Ae,Rt)|0)+Math.imul(Me,yt)|0,q=q+Math.imul(Me,Rt)|0;var gn=(Z+(U=U+Math.imul(pe,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(pe,Bt)|0)+Math.imul(Le,Pt)|0))<<13)|0;Z=((q=q+Math.imul(Le,Bt)|0)+(H>>>13)|0)+(gn>>>26)|0,gn&=67108863,U=Math.imul(Ye,$e),H=(H=Math.imul(Ye,Ue))+Math.imul(Ge,$e)|0,q=Math.imul(Ge,Ue),U=U+Math.imul(_e,ct)|0,H=(H=H+Math.imul(_e,Oe)|0)+Math.imul(Te,ct)|0,q=q+Math.imul(Te,Oe)|0,U=U+Math.imul(Re,Qe)|0,H=(H=H+Math.imul(Re,ut)|0)+Math.imul(je,Qe)|0,q=q+Math.imul(je,ut)|0,U=U+Math.imul(we,wt)|0,H=(H=H+Math.imul(we,Lt)|0)+Math.imul(Ee,wt)|0,q=q+Math.imul(Ee,Lt)|0,U=U+Math.imul(te,yt)|0,H=(H=H+Math.imul(te,Rt)|0)+Math.imul(ue,yt)|0,q=q+Math.imul(ue,Rt)|0;var dn=(Z+(U=U+Math.imul(Ae,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Bt)|0)+Math.imul(Me,Pt)|0))<<13)|0;Z=((q=q+Math.imul(Me,Bt)|0)+(H>>>13)|0)+(dn>>>26)|0,dn&=67108863,U=Math.imul(Ye,ct),H=(H=Math.imul(Ye,Oe))+Math.imul(Ge,ct)|0,q=Math.imul(Ge,Oe),U=U+Math.imul(_e,Qe)|0,H=(H=H+Math.imul(_e,ut)|0)+Math.imul(Te,Qe)|0,q=q+Math.imul(Te,ut)|0,U=U+Math.imul(Re,wt)|0,H=(H=H+Math.imul(Re,Lt)|0)+Math.imul(je,wt)|0,q=q+Math.imul(je,Lt)|0,U=U+Math.imul(we,yt)|0,H=(H=H+Math.imul(we,Rt)|0)+Math.imul(Ee,yt)|0,q=q+Math.imul(Ee,Rt)|0;var Rn=(Z+(U=U+Math.imul(te,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(te,Bt)|0)+Math.imul(ue,Pt)|0))<<13)|0;Z=((q=q+Math.imul(ue,Bt)|0)+(H>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,U=Math.imul(Ye,Qe),H=(H=Math.imul(Ye,ut))+Math.imul(Ge,Qe)|0,q=Math.imul(Ge,ut),U=U+Math.imul(_e,wt)|0,H=(H=H+Math.imul(_e,Lt)|0)+Math.imul(Te,wt)|0,q=q+Math.imul(Te,Lt)|0,U=U+Math.imul(Re,yt)|0,H=(H=H+Math.imul(Re,Rt)|0)+Math.imul(je,yt)|0,q=q+Math.imul(je,Rt)|0;var In=(Z+(U=U+Math.imul(we,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(we,Bt)|0)+Math.imul(Ee,Pt)|0))<<13)|0;Z=((q=q+Math.imul(Ee,Bt)|0)+(H>>>13)|0)+(In>>>26)|0,In&=67108863,U=Math.imul(Ye,wt),H=(H=Math.imul(Ye,Lt))+Math.imul(Ge,wt)|0,q=Math.imul(Ge,Lt),U=U+Math.imul(_e,yt)|0,H=(H=H+Math.imul(_e,Rt)|0)+Math.imul(Te,yt)|0,q=q+Math.imul(Te,Rt)|0;var Hn=(Z+(U=U+Math.imul(Re,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(Re,Bt)|0)+Math.imul(je,Pt)|0))<<13)|0;Z=((q=q+Math.imul(je,Bt)|0)+(H>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,U=Math.imul(Ye,yt),H=(H=Math.imul(Ye,Rt))+Math.imul(Ge,yt)|0,q=Math.imul(Ge,Rt);var Yn=(Z+(U=U+Math.imul(_e,Pt)|0)|0)+((8191&(H=(H=H+Math.imul(_e,Bt)|0)+Math.imul(Te,Pt)|0))<<13)|0;Z=((q=q+Math.imul(Te,Bt)|0)+(H>>>13)|0)+(Yn>>>26)|0,Yn&=67108863;var Gn=(Z+(U=Math.imul(Ye,Pt))|0)+((8191&(H=(H=Math.imul(Ye,Bt))+Math.imul(Ge,Pt)|0))<<13)|0;return Z=((q=Math.imul(Ge,Bt))+(H>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,J[0]=Zt,J[1]=Yt,J[2]=Kt,J[3]=tn,J[4]=on,J[5]=_n,J[6]=fn,J[7]=Sn,J[8]=Xn,J[9]=An,J[10]=un,J[11]=Tn,J[12]=gn,J[13]=dn,J[14]=Rn,J[15]=In,J[16]=Hn,J[17]=Yn,J[18]=Gn,Z!==0&&(J[19]=Z,B.length++),B};function T(F,W,B){return new c().mulp(F,W,B)}function c(F,W){this.x=F,this.y=W}Math.imul||(v=g),i.prototype.mulTo=function(F,W){var B,U=this.length+F.length;return B=this.length===10&&F.length===10?v(this,F,W):U<63?g(this,F,W):U<1024?function(H,q,ee){ee.negative=q.negative^H.negative,ee.length=H.length+q.length;for(var K=0,J=0,Z=0;Z<ee.length-1;Z++){var $=J;J=0;for(var ne=67108863&K,ae=Math.min(Z,q.length-1),oe=Math.max(0,Z-H.length+1);oe<=ae;oe++){var se=Z-oe,ce=(0|H.words[se])*(0|q.words[oe]),me=67108863&ce;ne=67108863&(me=me+ne|0),J+=($=($=$+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,$&=67108863}ee.words[Z]=ne,K=$,$=J}return K!==0?ee.words[Z]=K:ee.length--,ee.strip()}(this,F,W):T(this,F,W),B},c.prototype.makeRBT=function(F){for(var W=new Array(F),B=i.prototype._countBits(F)-1,U=0;U<F;U++)W[U]=this.revBin(U,B,F);return W},c.prototype.revBin=function(F,W,B){if(F===0||F===B-1)return F;for(var U=0,H=0;H<W;H++)U|=(1&F)<<W-H-1,F>>=1;return U},c.prototype.permute=function(F,W,B,U,H,q){for(var ee=0;ee<q;ee++)U[ee]=W[F[ee]],H[ee]=B[F[ee]]},c.prototype.transform=function(F,W,B,U,H,q){this.permute(q,F,W,B,U,H);for(var ee=1;ee<H;ee<<=1)for(var K=ee<<1,J=Math.cos(2*Math.PI/K),Z=Math.sin(2*Math.PI/K),$=0;$<H;$+=K)for(var ne=J,ae=Z,oe=0;oe<ee;oe++){var se=B[$+oe],ce=U[$+oe],me=B[$+oe+ee],xe=U[$+oe+ee],ve=ne*me-ae*xe;xe=ne*xe+ae*me,me=ve,B[$+oe]=se+me,U[$+oe]=ce+xe,B[$+oe+ee]=se-me,U[$+oe+ee]=ce-xe,oe!==K&&(ve=J*ne-Z*ae,ae=J*ae+Z*ne,ne=ve)}},c.prototype.guessLen13b=function(F,W){var B=1|Math.max(W,F),U=1&B,H=0;for(B=B/2|0;B;B>>>=1)H++;return 1<<H+1+U},c.prototype.conjugate=function(F,W,B){if(!(B<=1))for(var U=0;U<B/2;U++){var H=F[U];F[U]=F[B-U-1],F[B-U-1]=H,H=W[U],W[U]=-W[B-U-1],W[B-U-1]=-H}},c.prototype.normalize13b=function(F,W){for(var B=0,U=0;U<W/2;U++){var H=8192*Math.round(F[2*U+1]/W)+Math.round(F[2*U]/W)+B;F[U]=67108863&H,B=H<67108864?0:H/67108864|0}return F},c.prototype.convert13b=function(F,W,B,U){for(var H=0,q=0;q<W;q++)H+=0|F[q],B[2*q]=8191&H,H>>>=13,B[2*q+1]=8191&H,H>>>=13;for(q=2*W;q<U;++q)B[q]=0;n(H===0),n((-8192&H)==0)},c.prototype.stub=function(F){for(var W=new Array(F),B=0;B<F;B++)W[B]=0;return W},c.prototype.mulp=function(F,W,B){var U=2*this.guessLen13b(F.length,W.length),H=this.makeRBT(U),q=this.stub(U),ee=new Array(U),K=new Array(U),J=new Array(U),Z=new Array(U),$=new Array(U),ne=new Array(U),ae=B.words;ae.length=U,this.convert13b(F.words,F.length,ee,U),this.convert13b(W.words,W.length,Z,U),this.transform(ee,q,K,J,U,H),this.transform(Z,q,$,ne,U,H);for(var oe=0;oe<U;oe++){var se=K[oe]*$[oe]-J[oe]*ne[oe];J[oe]=K[oe]*ne[oe]+J[oe]*$[oe],K[oe]=se}return this.conjugate(K,J,U),this.transform(K,J,ae,q,U,H),this.conjugate(ae,q,U),this.normalize13b(ae,U),B.negative=F.negative^W.negative,B.length=F.length+W.length,B.strip()},i.prototype.mul=function(F){var W=new i(null);return W.words=new Array(this.length+F.length),this.mulTo(F,W)},i.prototype.mulf=function(F){var W=new i(null);return W.words=new Array(this.length+F.length),T(this,F,W)},i.prototype.imul=function(F){return this.clone().mulTo(F,this)},i.prototype.imuln=function(F){n(typeof F=="number"),n(F<67108864);for(var W=0,B=0;B<this.length;B++){var U=(0|this.words[B])*F,H=(67108863&U)+(67108863&W);W>>=26,W+=U/67108864|0,W+=H>>>26,this.words[B]=67108863&H}return W!==0&&(this.words[B]=W,this.length++),this},i.prototype.muln=function(F){return this.clone().imuln(F)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(F){var W=function(q){for(var ee=new Array(q.bitLength()),K=0;K<ee.length;K++){var J=K/26|0,Z=K%26;ee[K]=(q.words[J]&1<<Z)>>>Z}return ee}(F);if(W.length===0)return new i(1);for(var B=this,U=0;U<W.length&&W[U]===0;U++,B=B.sqr());if(++U<W.length)for(var H=B.sqr();U<W.length;U++,H=H.sqr())W[U]!==0&&(B=B.mul(H));return B},i.prototype.iushln=function(F){n(typeof F=="number"&&F>=0);var W,B=F%26,U=(F-B)/26,H=67108863>>>26-B<<26-B;if(B!==0){var q=0;for(W=0;W<this.length;W++){var ee=this.words[W]&H,K=(0|this.words[W])-ee<<B;this.words[W]=K|q,q=ee>>>26-B}q&&(this.words[W]=q,this.length++)}if(U!==0){for(W=this.length-1;W>=0;W--)this.words[W+U]=this.words[W];for(W=0;W<U;W++)this.words[W]=0;this.length+=U}return this.strip()},i.prototype.ishln=function(F){return n(this.negative===0),this.iushln(F)},i.prototype.iushrn=function(F,W,B){var U;n(typeof F=="number"&&F>=0),U=W?(W-W%26)/26:0;var H=F%26,q=Math.min((F-H)/26,this.length),ee=67108863^67108863>>>H<<H,K=B;if(U-=q,U=Math.max(0,U),K){for(var J=0;J<q;J++)K.words[J]=this.words[J];K.length=q}if(q!==0)if(this.length>q)for(this.length-=q,J=0;J<this.length;J++)this.words[J]=this.words[J+q];else this.words[0]=0,this.length=1;var Z=0;for(J=this.length-1;J>=0&&(Z!==0||J>=U);J--){var $=0|this.words[J];this.words[J]=Z<<26-H|$>>>H,Z=$&ee}return K&&Z!==0&&(K.words[K.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(F,W,B){return n(this.negative===0),this.iushrn(F,W,B)},i.prototype.shln=function(F){return this.clone().ishln(F)},i.prototype.ushln=function(F){return this.clone().iushln(F)},i.prototype.shrn=function(F){return this.clone().ishrn(F)},i.prototype.ushrn=function(F){return this.clone().iushrn(F)},i.prototype.testn=function(F){n(typeof F=="number"&&F>=0);var W=F%26,B=(F-W)/26,U=1<<W;return!(this.length<=B||!(this.words[B]&U))},i.prototype.imaskn=function(F){n(typeof F=="number"&&F>=0);var W=F%26,B=(F-W)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(W!==0&&B++,this.length=Math.min(B,this.length),W!==0){var U=67108863^67108863>>>W<<W;this.words[this.length-1]&=U}return this.strip()},i.prototype.maskn=function(F){return this.clone().imaskn(F)},i.prototype.iaddn=function(F){return n(typeof F=="number"),n(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(0|this.words[0])<F?(this.words[0]=F-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},i.prototype._iaddn=function(F){this.words[0]+=F;for(var W=0;W<this.length&&this.words[W]>=67108864;W++)this.words[W]-=67108864,W===this.length-1?this.words[W+1]=1:this.words[W+1]++;return this.length=Math.max(this.length,W+1),this},i.prototype.isubn=function(F){if(n(typeof F=="number"),n(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var W=0;W<this.length&&this.words[W]<0;W++)this.words[W]+=67108864,this.words[W+1]-=1;return this.strip()},i.prototype.addn=function(F){return this.clone().iaddn(F)},i.prototype.subn=function(F){return this.clone().isubn(F)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(F,W,B){var U,H,q=F.length+B;this._expand(q);var ee=0;for(U=0;U<F.length;U++){H=(0|this.words[U+B])+ee;var K=(0|F.words[U])*W;ee=((H-=67108863&K)>>26)-(K/67108864|0),this.words[U+B]=67108863&H}for(;U<this.length-B;U++)ee=(H=(0|this.words[U+B])+ee)>>26,this.words[U+B]=67108863&H;if(ee===0)return this.strip();for(n(ee===-1),ee=0,U=0;U<this.length;U++)ee=(H=-(0|this.words[U])+ee)>>26,this.words[U]=67108863&H;return this.negative=1,this.strip()},i.prototype._wordDiv=function(F,W){var B=(this.length,F.length),U=this.clone(),H=F,q=0|H.words[H.length-1];(B=26-this._countBits(q))!=0&&(H=H.ushln(B),U.iushln(B),q=0|H.words[H.length-1]);var ee,K=U.length-H.length;if(W!=="mod"){(ee=new i(null)).length=K+1,ee.words=new Array(ee.length);for(var J=0;J<ee.length;J++)ee.words[J]=0}var Z=U.clone()._ishlnsubmul(H,1,K);Z.negative===0&&(U=Z,ee&&(ee.words[K]=1));for(var $=K-1;$>=0;$--){var ne=67108864*(0|U.words[H.length+$])+(0|U.words[H.length+$-1]);for(ne=Math.min(ne/q|0,67108863),U._ishlnsubmul(H,ne,$);U.negative!==0;)ne--,U.negative=0,U._ishlnsubmul(H,1,$),U.isZero()||(U.negative^=1);ee&&(ee.words[$]=ne)}return ee&&ee.strip(),U.strip(),W!=="div"&&B!==0&&U.iushrn(B),{div:ee||null,mod:U}},i.prototype.divmod=function(F,W,B){return n(!F.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&F.negative===0?(q=this.neg().divmod(F,W),W!=="mod"&&(U=q.div.neg()),W!=="div"&&(H=q.mod.neg(),B&&H.negative!==0&&H.iadd(F)),{div:U,mod:H}):this.negative===0&&F.negative!==0?(q=this.divmod(F.neg(),W),W!=="mod"&&(U=q.div.neg()),{div:U,mod:q.mod}):this.negative&F.negative?(q=this.neg().divmod(F.neg(),W),W!=="div"&&(H=q.mod.neg(),B&&H.negative!==0&&H.isub(F)),{div:q.div,mod:H}):F.length>this.length||this.cmp(F)<0?{div:new i(0),mod:this}:F.length===1?W==="div"?{div:this.divn(F.words[0]),mod:null}:W==="mod"?{div:null,mod:new i(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new i(this.modn(F.words[0]))}:this._wordDiv(F,W);var U,H,q},i.prototype.div=function(F){return this.divmod(F,"div",!1).div},i.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},i.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},i.prototype.divRound=function(F){var W=this.divmod(F);if(W.mod.isZero())return W.div;var B=W.div.negative!==0?W.mod.isub(F):W.mod,U=F.ushrn(1),H=F.andln(1),q=B.cmp(U);return q<0||H===1&&q===0?W.div:W.div.negative!==0?W.div.isubn(1):W.div.iaddn(1)},i.prototype.modn=function(F){n(F<=67108863);for(var W=67108864%F,B=0,U=this.length-1;U>=0;U--)B=(W*B+(0|this.words[U]))%F;return B},i.prototype.idivn=function(F){n(F<=67108863);for(var W=0,B=this.length-1;B>=0;B--){var U=(0|this.words[B])+67108864*W;this.words[B]=U/F|0,W=U%F}return this.strip()},i.prototype.divn=function(F){return this.clone().idivn(F)},i.prototype.egcd=function(F){n(F.negative===0),n(!F.isZero());var W=this,B=F.clone();W=W.negative!==0?W.umod(F):W.clone();for(var U=new i(1),H=new i(0),q=new i(0),ee=new i(1),K=0;W.isEven()&&B.isEven();)W.iushrn(1),B.iushrn(1),++K;for(var J=B.clone(),Z=W.clone();!W.isZero();){for(var $=0,ne=1;!(W.words[0]&ne)&&$<26;++$,ne<<=1);if($>0)for(W.iushrn($);$-- >0;)(U.isOdd()||H.isOdd())&&(U.iadd(J),H.isub(Z)),U.iushrn(1),H.iushrn(1);for(var ae=0,oe=1;!(B.words[0]&oe)&&ae<26;++ae,oe<<=1);if(ae>0)for(B.iushrn(ae);ae-- >0;)(q.isOdd()||ee.isOdd())&&(q.iadd(J),ee.isub(Z)),q.iushrn(1),ee.iushrn(1);W.cmp(B)>=0?(W.isub(B),U.isub(q),H.isub(ee)):(B.isub(W),q.isub(U),ee.isub(H))}return{a:q,b:ee,gcd:B.iushln(K)}},i.prototype._invmp=function(F){n(F.negative===0),n(!F.isZero());var W=this,B=F.clone();W=W.negative!==0?W.umod(F):W.clone();for(var U,H=new i(1),q=new i(0),ee=B.clone();W.cmpn(1)>0&&B.cmpn(1)>0;){for(var K=0,J=1;!(W.words[0]&J)&&K<26;++K,J<<=1);if(K>0)for(W.iushrn(K);K-- >0;)H.isOdd()&&H.iadd(ee),H.iushrn(1);for(var Z=0,$=1;!(B.words[0]&$)&&Z<26;++Z,$<<=1);if(Z>0)for(B.iushrn(Z);Z-- >0;)q.isOdd()&&q.iadd(ee),q.iushrn(1);W.cmp(B)>=0?(W.isub(B),H.isub(q)):(B.isub(W),q.isub(H))}return(U=W.cmpn(1)===0?H:q).cmpn(0)<0&&U.iadd(F),U},i.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var W=this.clone(),B=F.clone();W.negative=0,B.negative=0;for(var U=0;W.isEven()&&B.isEven();U++)W.iushrn(1),B.iushrn(1);for(;;){for(;W.isEven();)W.iushrn(1);for(;B.isEven();)B.iushrn(1);var H=W.cmp(B);if(H<0){var q=W;W=B,B=q}else if(H===0||B.cmpn(1)===0)break;W.isub(B)}return B.iushln(U)},i.prototype.invm=function(F){return this.egcd(F).a.umod(F)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(F){return this.words[0]&F},i.prototype.bincn=function(F){n(typeof F=="number");var W=F%26,B=(F-W)/26,U=1<<W;if(this.length<=B)return this._expand(B+1),this.words[B]|=U,this;for(var H=U,q=B;H!==0&&q<this.length;q++){var ee=0|this.words[q];H=(ee+=H)>>>26,ee&=67108863,this.words[q]=ee}return H!==0&&(this.words[q]=H,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(F){var W,B=F<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;if(this.strip(),this.length>1)W=1;else{B&&(F=-F),n(F<=67108863,"Number is too big");var U=0|this.words[0];W=U===F?0:U<F?-1:1}return this.negative!==0?0|-W:W},i.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var W=this.ucmp(F);return this.negative!==0?0|-W:W},i.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var W=0,B=this.length-1;B>=0;B--){var U=0|this.words[B],H=0|F.words[B];if(U!==H){U<H?W=-1:U>H&&(W=1);break}}return W},i.prototype.gtn=function(F){return this.cmpn(F)===1},i.prototype.gt=function(F){return this.cmp(F)===1},i.prototype.gten=function(F){return this.cmpn(F)>=0},i.prototype.gte=function(F){return this.cmp(F)>=0},i.prototype.ltn=function(F){return this.cmpn(F)===-1},i.prototype.lt=function(F){return this.cmp(F)===-1},i.prototype.lten=function(F){return this.cmpn(F)<=0},i.prototype.lte=function(F){return this.cmp(F)<=0},i.prototype.eqn=function(F){return this.cmpn(F)===0},i.prototype.eq=function(F){return this.cmp(F)===0},i.red=function(F){return new z(F)},i.prototype.toRed=function(F){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(F){return this.red=F,this},i.prototype.forceRed=function(F){return n(!this.red,"Already a number in reduction context"),this._forceRed(F)},i.prototype.redAdd=function(F){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},i.prototype.redIAdd=function(F){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},i.prototype.redSub=function(F){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},i.prototype.redISub=function(F){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},i.prototype.redShl=function(F){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},i.prototype.redMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},i.prototype.redIMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(F){return n(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var E={k256:null,p224:null,p192:null,p25519:null};function A(F,W){this.name=F,this.p=new i(W,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function D(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(F){if(typeof F=="string"){var W=i._prime(F);this.m=W.p,this.prime=W}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}function V(F){z.call(this,F),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var F=new i(null);return F.words=new Array(Math.ceil(this.n/13)),F},A.prototype.ireduce=function(F){var W,B=F;do this.split(B,this.tmp),W=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength();while(W>this.n);var U=W<this.n?-1:B.ucmp(this.p);return U===0?(B.words[0]=0,B.length=1):U>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},A.prototype.split=function(F,W){F.iushrn(this.n,0,W)},A.prototype.imulK=function(F){return F.imul(this.k)},r(C,A),C.prototype.split=function(F,W){for(var B=4194303,U=Math.min(F.length,9),H=0;H<U;H++)W.words[H]=F.words[H];if(W.length=U,F.length<=9)return F.words[0]=0,void(F.length=1);var q=F.words[9];for(W.words[W.length++]=q&B,H=10;H<F.length;H++){var ee=0|F.words[H];F.words[H-10]=(ee&B)<<4|q>>>22,q=ee}q>>>=22,F.words[H-10]=q,q===0&&F.length>10?F.length-=10:F.length-=9},C.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var W=0,B=0;B<F.length;B++){var U=0|F.words[B];W+=977*U,F.words[B]=67108863&W,W=64*U+(W/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F},r(O,A),r(P,A),r(D,A),D.prototype.imulK=function(F){for(var W=0,B=0;B<F.length;B++){var U=19*(0|F.words[B])+W,H=67108863&U;U>>>=26,F.words[B]=H,W=U}return W!==0&&(F.words[F.length++]=W),F},i._prime=function(F){if(E[F])return E[F];var W;if(F==="k256")W=new C;else if(F==="p224")W=new O;else if(F==="p192")W=new P;else{if(F!=="p25519")throw new Error("Unknown prime "+F);W=new D}return E[F]=W,W},z.prototype._verify1=function(F){n(F.negative===0,"red works only with positives"),n(F.red,"red works only with red numbers")},z.prototype._verify2=function(F,W){n((F.negative|W.negative)==0,"red works only with positives"),n(F.red&&F.red===W.red,"red works only with red numbers")},z.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},z.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},z.prototype.add=function(F,W){this._verify2(F,W);var B=F.add(W);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},z.prototype.iadd=function(F,W){this._verify2(F,W);var B=F.iadd(W);return B.cmp(this.m)>=0&&B.isub(this.m),B},z.prototype.sub=function(F,W){this._verify2(F,W);var B=F.sub(W);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},z.prototype.isub=function(F,W){this._verify2(F,W);var B=F.isub(W);return B.cmpn(0)<0&&B.iadd(this.m),B},z.prototype.shl=function(F,W){return this._verify1(F),this.imod(F.ushln(W))},z.prototype.imul=function(F,W){return this._verify2(F,W),this.imod(F.imul(W))},z.prototype.mul=function(F,W){return this._verify2(F,W),this.imod(F.mul(W))},z.prototype.isqr=function(F){return this.imul(F,F.clone())},z.prototype.sqr=function(F){return this.mul(F,F)},z.prototype.sqrt=function(F){if(F.isZero())return F.clone();var W=this.m.andln(3);if(n(W%2==1),W===3){var B=this.m.add(new i(1)).iushrn(2);return this.pow(F,B)}for(var U=this.m.subn(1),H=0;!U.isZero()&&U.andln(1)===0;)H++,U.iushrn(1);n(!U.isZero());var q=new i(1).toRed(this),ee=q.redNeg(),K=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new i(2*J*J).toRed(this);this.pow(J,K).cmp(ee)!==0;)J.redIAdd(ee);for(var Z=this.pow(J,U),$=this.pow(F,U.addn(1).iushrn(1)),ne=this.pow(F,U),ae=H;ne.cmp(q)!==0;){for(var oe=ne,se=0;oe.cmp(q)!==0;se++)oe=oe.redSqr();n(se<ae);var ce=this.pow(Z,new i(1).iushln(ae-se-1));$=$.redMul(ce),Z=ce.redSqr(),ne=ne.redMul(Z),ae=se}return $},z.prototype.invm=function(F){var W=F._invmp(this.m);return W.negative!==0?(W.negative=0,this.imod(W).redNeg()):this.imod(W)},z.prototype.pow=function(F,W){if(W.isZero())return new i(1).toRed(this);if(W.cmpn(1)===0)return F.clone();var B=new Array(16);B[0]=new i(1).toRed(this),B[1]=F;for(var U=2;U<B.length;U++)B[U]=this.mul(B[U-1],F);var H=B[0],q=0,ee=0,K=W.bitLength()%26;for(K===0&&(K=26),U=W.length-1;U>=0;U--){for(var J=W.words[U],Z=K-1;Z>=0;Z--){var $=J>>Z&1;H!==B[0]&&(H=this.sqr(H)),$!==0||q!==0?(q<<=1,q|=$,(++ee==4||U===0&&Z===0)&&(H=this.mul(H,B[q]),ee=0,q=0)):ee=0}K=26}return H},z.prototype.convertTo=function(F){var W=F.umod(this.m);return W===F?W.clone():W},z.prototype.convertFrom=function(F){var W=F.clone();return W.red=null,W},i.mont=function(F){return new V(F)},r(V,z),V.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},V.prototype.convertFrom=function(F){var W=this.imod(F.mul(this.rinv));return W.red=null,W},V.prototype.imul=function(F,W){if(F.isZero()||W.isZero())return F.words[0]=0,F.length=1,F;var B=F.imul(W),U=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=B.isub(U).iushrn(this.shift),q=H;return H.cmp(this.m)>=0?q=H.isub(this.m):H.cmpn(0)<0&&(q=H.iadd(this.m)),q._forceRed(this)},V.prototype.mul=function(F,W){if(F.isZero()||W.isZero())return new i(0)._forceRed(this);var B=F.mul(W),U=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=B.isub(U).iushrn(this.shift),q=H;return H.cmp(this.m)>=0?q=H.isub(this.m):H.cmpn(0)<0&&(q=H.iadd(this.m)),q._forceRed(this)},V.prototype.invm=function(F){return this.imod(F._invmp(this.m).mul(this.r2))._forceRed(this)}})(f=t.nmd(f),this)},2692:function(f){"use strict";f.exports=function(l){var t,s,o,n=l.length,r=0;for(t=0;t<n;++t)r+=l[t].length;var i=new Array(r),u=0;for(t=0;t<n;++t){var p=l[t],h=p.length;for(s=0;s<h;++s){var _=i[u++]=new Array(h-1),m=0;for(o=0;o<h;++o)o!==s&&(_[m++]=p[o]);if(1&s){var d=_[1];_[1]=_[0],_[0]=d}}}return i}},2569:function(f,l,t){"use strict";f.exports=function(d,x,g){switch(arguments.length){case 1:return _(d);case 2:return typeof x=="function"?p(d,d,x,!0):m(d,x);case 3:return p(d,x,g,!1);default:throw new Error("box-intersect: Invalid arguments")}};var s,o=t(5306),n=t(1390),r=t(2337);function i(d,x){for(var g=0;g<d;++g)if(!(x[g]<=x[g+d]))return!0;return!1}function u(d,x,g,v){for(var T=0,c=0,E=0,A=d.length;E<A;++E){var C=d[E];if(!i(x,C)){for(var O=0;O<2*x;++O)g[T++]=C[O];v[c++]=E}}return c}function p(d,x,g,v){var T=d.length,c=x.length;if(!(T<=0||c<=0)){var E=d[0].length>>>1;if(!(E<=0)){var A,C=o.mallocDouble(2*E*T),O=o.mallocInt32(T);if((T=u(d,E,C,O))>0){if(E===1&&v)n.init(T),A=n.sweepComplete(E,g,0,T,C,O,0,T,C,O);else{var P=o.mallocDouble(2*E*c),D=o.mallocInt32(c);(c=u(x,E,P,D))>0&&(n.init(T+c),A=E===1?n.sweepBipartite(E,g,0,T,C,O,0,c,P,D):r(E,g,v,T,C,O,c,P,D),o.free(P),o.free(D))}o.free(C),o.free(O)}return A}}}function h(d,x){s.push([d,x])}function _(d){return s=[],p(d,d,h,!0),s}function m(d,x){return s=[],p(d,x,h,!1),s}},7333:function(f,l){"use strict";function t(s){return s?function(o,n,r,i,u,p,h,_,m,d,x){return u-i>m-_?function(g,v,T,c,E,A,C,O,P,D,z){for(var V=2*g,F=c,W=V*c;F<E;++F,W+=V){var B=A[v+W],U=A[v+W+g],H=C[F];e:for(var q=O,ee=V*O;q<P;++q,ee+=V){var K=D[v+ee],J=D[v+ee+g],Z=z[q];if(!(J<B||U<K)){for(var $=v+1;$<g;++$){var ne=A[$+W],ae=A[$+g+W],oe=D[$+ee],se=D[$+g+ee];if(ae<oe||se<ne)continue e}var ce=T(H,Z);if(ce!==void 0)return ce}}}}(o,n,r,i,u,p,h,_,m,d,x):function(g,v,T,c,E,A,C,O,P,D,z){for(var V=2*g,F=O,W=V*O;F<P;++F,W+=V){var B=D[v+W],U=D[v+W+g],H=z[F];e:for(var q=c,ee=V*c;q<E;++q,ee+=V){var K=A[v+ee],J=A[v+ee+g],Z=C[q];if(!(U<K||J<B)){for(var $=v+1;$<g;++$){var ne=A[$+ee],ae=A[$+g+ee],oe=D[$+W],se=D[$+g+W];if(ae<oe||se<ne)continue e}var ce=T(Z,H);if(ce!==void 0)return ce}}}}(o,n,r,i,u,p,h,_,m,d,x)}:function(o,n,r,i,u,p,h,_,m,d,x,g){return p-u>d-m?i?function(v,T,c,E,A,C,O,P,D,z,V){for(var F=2*v,W=E,B=F*E;W<A;++W,B+=F){var U=C[T+B],H=C[T+B+v],q=O[W];e:for(var ee=P,K=F*P;ee<D;++ee,K+=F){var J=z[T+K],Z=V[ee];if(!(J<=U||H<J)){for(var $=T+1;$<v;++$){var ne=C[$+B],ae=C[$+v+B],oe=z[$+K],se=z[$+v+K];if(ae<oe||se<ne)continue e}var ce=c(Z,q);if(ce!==void 0)return ce}}}}(o,n,r,u,p,h,_,m,d,x,g):function(v,T,c,E,A,C,O,P,D,z,V){for(var F=2*v,W=E,B=F*E;W<A;++W,B+=F){var U=C[T+B],H=C[T+B+v],q=O[W];e:for(var ee=P,K=F*P;ee<D;++ee,K+=F){var J=z[T+K],Z=V[ee];if(!(J<U||H<J)){for(var $=T+1;$<v;++$){var ne=C[$+B],ae=C[$+v+B],oe=z[$+K],se=z[$+v+K];if(ae<oe||se<ne)continue e}var ce=c(q,Z);if(ce!==void 0)return ce}}}}(o,n,r,u,p,h,_,m,d,x,g):i?function(v,T,c,E,A,C,O,P,D,z,V){for(var F=2*v,W=P,B=F*P;W<D;++W,B+=F){var U=z[T+B],H=V[W];e:for(var q=E,ee=F*E;q<A;++q,ee+=F){var K=C[T+ee],J=C[T+ee+v],Z=O[q];if(!(U<=K||J<U)){for(var $=T+1;$<v;++$){var ne=C[$+ee],ae=C[$+v+ee],oe=z[$+B],se=z[$+v+B];if(ae<oe||se<ne)continue e}var ce=c(H,Z);if(ce!==void 0)return ce}}}}(o,n,r,u,p,h,_,m,d,x,g):function(v,T,c,E,A,C,O,P,D,z,V){for(var F=2*v,W=P,B=F*P;W<D;++W,B+=F){var U=z[T+B],H=V[W];e:for(var q=E,ee=F*E;q<A;++q,ee+=F){var K=C[T+ee],J=C[T+ee+v],Z=O[q];if(!(U<K||J<U)){for(var $=T+1;$<v;++$){var ne=C[$+ee],ae=C[$+v+ee],oe=z[$+B],se=z[$+v+B];if(ae<oe||se<ne)continue e}var ce=c(Z,H);if(ce!==void 0)return ce}}}}(o,n,r,u,p,h,_,m,d,x,g)}}l.partial=t(!1),l.full=t(!0)},2337:function(f,l,t){"use strict";f.exports=function(O,P,D,z,V,F,W,B,U){(function(Be,Re){var je=8*o.log2(Re+1)*(Be+1)|0,he=o.nextPow2(6*je);T.length<he&&(s.free(T),T=s.mallocInt32(he));var _e=o.nextPow2(2*je);c.length<_e&&(s.free(c),c=s.mallocDouble(_e))})(O,z+W);var H,q=0,ee=2*O;for(E(q++,0,0,z,0,W,D?16:0,-1/0,1/0),D||E(q++,0,0,W,0,z,1,-1/0,1/0);q>0;){var K=6*(q-=1),J=T[K],Z=T[K+1],$=T[K+2],ne=T[K+3],ae=T[K+4],oe=T[K+5],se=2*q,ce=c[se],me=c[se+1],xe=1&oe,ve=!!(16&oe),fe=V,pe=F,Le=B,ye=U;if(xe&&(fe=B,pe=U,Le=V,ye=F),!(2&oe&&($=d(O,J,Z,$,fe,pe,me),Z>=$)||4&oe&&(Z=x(O,J,Z,$,fe,pe,ce))>=$)){var Ae=$-Z,Me=ae-ne;if(ve){if(O*Ae*(Ae+Me)<4194304){if((H=u.scanComplete(O,J,P,Z,$,fe,pe,ne,ae,Le,ye))!==void 0)return H;continue}}else{if(O*Math.min(Ae,Me)<128){if((H=r(O,J,P,xe,Z,$,fe,pe,ne,ae,Le,ye))!==void 0)return H;continue}if(O*Ae*Me<4194304){if((H=u.scanBipartite(O,J,P,xe,Z,$,fe,pe,ne,ae,Le,ye))!==void 0)return H;continue}}var ke=_(O,J,Z,$,fe,pe,ce,me);if(Z<ke)if(O*(ke-Z)<128){if((H=i(O,J+1,P,Z,ke,fe,pe,ne,ae,Le,ye))!==void 0)return H}else if(J===O-2){if((H=xe?u.sweepBipartite(O,P,ne,ae,Le,ye,Z,ke,fe,pe):u.sweepBipartite(O,P,Z,ke,fe,pe,ne,ae,Le,ye))!==void 0)return H}else E(q++,J+1,Z,ke,ne,ae,xe,-1/0,1/0),E(q++,J+1,ne,ae,Z,ke,1^xe,-1/0,1/0);if(ke<$){var te=p(O,J,ne,ae,Le,ye),ue=Le[ee*te+J],ge=m(O,J,te,ae,Le,ye,ue);if(ge<ae&&E(q++,J,ke,$,ge,ae,(4|xe)+(ve?16:0),ue,me),ne<te&&E(q++,J,ke,$,ne,te,(2|xe)+(ve?16:0),ce,ue),te+1===ge){if((H=ve?C(O,J,P,ke,$,fe,pe,te,Le,ye[te]):A(O,J,P,xe,ke,$,fe,pe,te,Le,ye[te]))!==void 0)return H}else if(te<ge){var we;if(ve){if(ke<(we=g(O,J,ke,$,fe,pe,ue))){var Ee=m(O,J,ke,we,fe,pe,ue);if(J===O-2){if(ke<Ee&&(H=u.sweepComplete(O,P,ke,Ee,fe,pe,te,ge,Le,ye))!==void 0||Ee<we&&(H=u.sweepBipartite(O,P,Ee,we,fe,pe,te,ge,Le,ye))!==void 0)return H}else ke<Ee&&E(q++,J+1,ke,Ee,te,ge,16,-1/0,1/0),Ee<we&&(E(q++,J+1,Ee,we,te,ge,0,-1/0,1/0),E(q++,J+1,te,ge,Ee,we,1,-1/0,1/0))}}else ke<(we=xe?v(O,J,ke,$,fe,pe,ue):g(O,J,ke,$,fe,pe,ue))&&(J===O-2?H=xe?u.sweepBipartite(O,P,te,ge,Le,ye,ke,we,fe,pe):u.sweepBipartite(O,P,ke,we,fe,pe,te,ge,Le,ye):(E(q++,J+1,ke,we,te,ge,xe,-1/0,1/0),E(q++,J+1,te,ge,ke,we,1^xe,-1/0,1/0)))}}}}};var s=t(5306),o=t(2288),n=t(7333),r=n.partial,i=n.full,u=t(1390),p=t(2464),h=t(122),_=h("!(lo>=p0)&&!(p1>=hi)"),m=h("lo===p0"),d=h("lo<p0"),x=h("hi<=p0"),g=h("lo<=p0&&p0<=hi"),v=h("lo<p0&&p0<=hi"),T=s.mallocInt32(1024),c=s.mallocDouble(1024);function E(O,P,D,z,V,F,W,B,U){var H=6*O;T[H]=P,T[H+1]=D,T[H+2]=z,T[H+3]=V,T[H+4]=F,T[H+5]=W;var q=2*O;c[q]=B,c[q+1]=U}function A(O,P,D,z,V,F,W,B,U,H,q){var ee=2*O,K=U*ee,J=H[K+P];e:for(var Z=V,$=V*ee;Z<F;++Z,$+=ee){var ne=W[$+P],ae=W[$+P+O];if(!(J<ne||ae<J||z&&J===ne)){for(var oe,se=B[Z],ce=P+1;ce<O;++ce){ne=W[$+ce],ae=W[$+ce+O];var me=H[K+ce],xe=H[K+ce+O];if(ae<me||xe<ne)continue e}if((oe=z?D(q,se):D(se,q))!==void 0)return oe}}}function C(O,P,D,z,V,F,W,B,U,H){var q=2*O,ee=B*q,K=U[ee+P];e:for(var J=z,Z=z*q;J<V;++J,Z+=q){var $=W[J];if($!==H){var ne=F[Z+P],ae=F[Z+P+O];if(!(K<ne||ae<K)){for(var oe=P+1;oe<O;++oe){ne=F[Z+oe],ae=F[Z+oe+O];var se=U[ee+oe],ce=U[ee+oe+O];if(ae<se||ce<ne)continue e}var me=D($,H);if(me!==void 0)return me}}}}},2464:function(f,l,t){"use strict";f.exports=function(n,r,i,u,p,h){if(u<=i+1)return i;for(var _=i,m=u,d=u+i>>>1,x=2*n,g=d,v=p[x*d+r];_<m;){if(m-_<8){o(n,r,_,m,p,h),v=p[x*d+r];break}var T=m-_,c=Math.random()*T+_|0,E=p[x*c+r],A=Math.random()*T+_|0,C=p[x*A+r],O=Math.random()*T+_|0,P=p[x*O+r];E<=C?P>=C?(g=A,v=C):E>=P?(g=c,v=E):(g=O,v=P):C>=P?(g=A,v=C):P>=E?(g=c,v=E):(g=O,v=P);for(var D=x*(m-1),z=x*g,V=0;V<x;++V,++D,++z){var F=p[D];p[D]=p[z],p[z]=F}var W=h[m-1];for(h[m-1]=h[g],h[g]=W,D=x*(m-1),z=x*(g=s(n,r,_,m-1,p,h,v)),V=0;V<x;++V,++D,++z)F=p[D],p[D]=p[z],p[z]=F;if(W=h[m-1],h[m-1]=h[g],h[g]=W,d<g){for(m=g-1;_<m&&p[x*(m-1)+r]===v;)m-=1;m+=1}else{if(!(g<d))break;for(_=g+1;_<m&&p[x*_+r]===v;)_+=1}}return s(n,r,i,d,p,h,p[x*d+r])};var s=t(122)("lo<p0");function o(n,r,i,u,p,h){for(var _=2*n,m=_*(i+1)+r,d=i+1;d<u;++d,m+=_)for(var x=p[m],g=d,v=_*(d-1);g>i&&p[v+r]>x;--g,v-=_){for(var T=v,c=v+_,E=0;E<_;++E,++T,++c){var A=p[T];p[T]=p[c],p[c]=A}var C=h[g];h[g]=h[g-1],h[g-1]=C}}},122:function(f){"use strict";f.exports=function(t){return l[t]};var l={"lo===p0":function(t,s,o,n,r,i,u){for(var p=2*t,h=p*o,_=h,m=o,d=s,x=o;n>x;++x,h+=p)if(r[h+d]===u)if(m===x)m+=1,_+=p;else{for(var g=0;p>g;++g){var v=r[h+g];r[h+g]=r[_],r[_++]=v}var T=i[x];i[x]=i[m],i[m++]=T}return m},"lo<p0":function(t,s,o,n,r,i,u){for(var p=2*t,h=p*o,_=h,m=o,d=s,x=o;n>x;++x,h+=p)if(r[h+d]<u)if(m===x)m+=1,_+=p;else{for(var g=0;p>g;++g){var v=r[h+g];r[h+g]=r[_],r[_++]=v}var T=i[x];i[x]=i[m],i[m++]=T}return m},"lo<=p0":function(t,s,o,n,r,i,u){for(var p=2*t,h=p*o,_=h,m=o,d=t+s,x=o;n>x;++x,h+=p)if(r[h+d]<=u)if(m===x)m+=1,_+=p;else{for(var g=0;p>g;++g){var v=r[h+g];r[h+g]=r[_],r[_++]=v}var T=i[x];i[x]=i[m],i[m++]=T}return m},"hi<=p0":function(t,s,o,n,r,i,u){for(var p=2*t,h=p*o,_=h,m=o,d=t+s,x=o;n>x;++x,h+=p)if(r[h+d]<=u)if(m===x)m+=1,_+=p;else{for(var g=0;p>g;++g){var v=r[h+g];r[h+g]=r[_],r[_++]=v}var T=i[x];i[x]=i[m],i[m++]=T}return m},"lo<p0&&p0<=hi":function(t,s,o,n,r,i,u){for(var p=2*t,h=p*o,_=h,m=o,d=s,x=t+s,g=o;n>g;++g,h+=p){var v=r[h+d],T=r[h+x];if(v<u&&u<=T)if(m===g)m+=1,_+=p;else{for(var c=0;p>c;++c){var E=r[h+c];r[h+c]=r[_],r[_++]=E}var A=i[g];i[g]=i[m],i[m++]=A}}return m},"lo<=p0&&p0<=hi":function(t,s,o,n,r,i,u){for(var p=2*t,h=p*o,_=h,m=o,d=s,x=t+s,g=o;n>g;++g,h+=p){var v=r[h+d],T=r[h+x];if(v<=u&&u<=T)if(m===g)m+=1,_+=p;else{for(var c=0;p>c;++c){var E=r[h+c];r[h+c]=r[_],r[_++]=E}var A=i[g];i[g]=i[m],i[m++]=A}}return m},"!(lo>=p0)&&!(p1>=hi)":function(t,s,o,n,r,i,u,p){for(var h=2*t,_=h*o,m=_,d=o,x=s,g=t+s,v=o;n>v;++v,_+=h){var T=r[_+x],c=r[_+g];if(!(T>=u||p>=c))if(d===v)d+=1,m+=h;else{for(var E=0;h>E;++E){var A=r[_+E];r[_+E]=r[m],r[m++]=A}var C=i[v];i[v]=i[d],i[d++]=C}}return d}}},309:function(f){"use strict";function l(p,h,_){for(var m=2*(p+1),d=p+1;d<=h;++d){for(var x=_[m++],g=_[m++],v=d,T=m-2;v-- >p;){var c=_[T-2],E=_[T-1];if(c<x||c===x&&E<g)break;_[T]=c,_[T+1]=E,T-=2}_[T]=x,_[T+1]=g}}function t(p,h,_){h*=2;var m=_[p*=2],d=_[p+1];_[p]=_[h],_[p+1]=_[h+1],_[h]=m,_[h+1]=d}function s(p,h,_){h*=2,_[p*=2]=_[h],_[p+1]=_[h+1]}function o(p,h,_,m){h*=2,_*=2;var d=m[p*=2],x=m[p+1];m[p]=m[h],m[p+1]=m[h+1],m[h]=m[_],m[h+1]=m[_+1],m[_]=d,m[_+1]=x}function n(p,h,_,m,d){h*=2,d[p*=2]=d[h],d[h]=_,d[p+1]=d[h+1],d[h+1]=m}function r(p,h,_){h*=2;var m=_[p*=2],d=_[h];return!(m<d)&&(m!==d||_[p+1]>_[h+1])}function i(p,h,_,m){var d=m[p*=2];return d<h||d===h&&m[p+1]<_}function u(p,h,_){var m=(h-p+1)/6|0,d=p+m,x=h-m,g=p+h>>1,v=g-m,T=g+m,c=d,E=v,A=g,C=T,O=x,P=p+1,D=h-1,z=0;r(c,E,_)&&(z=c,c=E,E=z),r(C,O,_)&&(z=C,C=O,O=z),r(c,A,_)&&(z=c,c=A,A=z),r(E,A,_)&&(z=E,E=A,A=z),r(c,C,_)&&(z=c,c=C,C=z),r(A,C,_)&&(z=A,A=C,C=z),r(E,O,_)&&(z=E,E=O,O=z),r(E,A,_)&&(z=E,E=A,A=z),r(C,O,_)&&(z=C,C=O,O=z);for(var V=_[2*E],F=_[2*E+1],W=_[2*C],B=_[2*C+1],U=2*c,H=2*A,q=2*O,ee=2*d,K=2*g,J=2*x,Z=0;Z<2;++Z){var $=_[U+Z],ne=_[H+Z],ae=_[q+Z];_[ee+Z]=$,_[K+Z]=ne,_[J+Z]=ae}s(v,p,_),s(T,h,_);for(var oe=P;oe<=D;++oe)if(i(oe,V,F,_))oe!==P&&t(oe,P,_),++P;else if(!i(oe,W,B,_))for(;;){if(i(D,W,B,_)){i(D,V,F,_)?(o(oe,P,D,_),++P,--D):(t(oe,D,_),--D);break}if(--D<oe)break}n(p,P-1,V,F,_),n(h,D+1,W,B,_),P-2-p<=32?l(p,P-2,_):u(p,P-2,_),h-(D+2)<=32?l(D+2,h,_):u(D+2,h,_),D-P<=32?l(P,D,_):u(P,D,_)}f.exports=function(p,h){h<=128?l(0,h-1,p):u(0,h-1,p)}},1390:function(f,l,t){"use strict";f.exports={init:function(T){var c=o.nextPow2(T);u.length<c&&(s.free(u),u=s.mallocInt32(c)),p.length<c&&(s.free(p),p=s.mallocInt32(c)),h.length<c&&(s.free(h),h=s.mallocInt32(c)),_.length<c&&(s.free(_),_=s.mallocInt32(c)),m.length<c&&(s.free(m),m=s.mallocInt32(c)),d.length<c&&(s.free(d),d=s.mallocInt32(c));var E=8*c;x.length<E&&(s.free(x),x=s.mallocDouble(E))},sweepBipartite:function(T,c,E,A,C,O,P,D,z,V){for(var F=0,W=2*T,B=T-1,U=W-1,H=E;H<A;++H){var q=O[H],ee=W*H;x[F++]=C[ee+B],x[F++]=-(q+1),x[F++]=C[ee+U],x[F++]=q}for(H=P;H<D;++H){q=V[H]+r;var K=W*H;x[F++]=z[K+B],x[F++]=-q,x[F++]=z[K+U],x[F++]=q}var J=F>>>1;n(x,J);var Z=0,$=0;for(H=0;H<J;++H){var ne=0|x[2*H+1];if(ne>=r)g(h,_,$--,ne=ne-r|0);else if(ne>=0)g(u,p,Z--,ne);else if(ne<=-268435456){ne=-ne-r|0;for(var ae=0;ae<Z;++ae)if((oe=c(u[ae],ne))!==void 0)return oe;v(h,_,$++,ne)}else{for(ne=-ne-1|0,ae=0;ae<$;++ae){var oe;if((oe=c(ne,h[ae]))!==void 0)return oe}v(u,p,Z++,ne)}}},sweepComplete:function(T,c,E,A,C,O,P,D,z,V){for(var F=0,W=2*T,B=T-1,U=W-1,H=E;H<A;++H){var q=O[H]+1<<1,ee=W*H;x[F++]=C[ee+B],x[F++]=-q,x[F++]=C[ee+U],x[F++]=q}for(H=P;H<D;++H){q=V[H]+1<<1;var K=W*H;x[F++]=z[K+B],x[F++]=1|-q,x[F++]=z[K+U],x[F++]=1|q}var J=F>>>1;n(x,J);var Z=0,$=0,ne=0;for(H=0;H<J;++H){var ae=0|x[2*H+1],oe=1&ae;if(H<J-1&&ae>>1==x[2*H+3]>>1&&(oe=2,H+=1),ae<0){for(var se=-(ae>>1)-1,ce=0;ce<ne;++ce)if((me=c(m[ce],se))!==void 0)return me;if(oe!==0){for(ce=0;ce<Z;++ce)if((me=c(u[ce],se))!==void 0)return me}if(oe!==1)for(ce=0;ce<$;++ce){var me;if((me=c(h[ce],se))!==void 0)return me}oe===0?v(u,p,Z++,se):oe===1?v(h,_,$++,se):oe===2&&v(m,d,ne++,se)}else se=(ae>>1)-1,oe===0?g(u,p,Z--,se):oe===1?g(h,_,$--,se):oe===2&&g(m,d,ne--,se)}},scanBipartite:function(T,c,E,A,C,O,P,D,z,V,F,W){var B=0,U=2*T,H=c,q=c+T,ee=1,K=1;A?K=r:ee=r;for(var J=C;J<O;++J){var Z=J+ee,$=U*J;x[B++]=P[$+H],x[B++]=-Z,x[B++]=P[$+q],x[B++]=Z}for(J=z;J<V;++J){Z=J+K;var ne=U*J;x[B++]=F[ne+H],x[B++]=-Z}var ae=B>>>1;n(x,ae);var oe=0;for(J=0;J<ae;++J){var se=0|x[2*J+1];if(se<0){var ce=!1;if((Z=-se)>=r?(ce=!A,Z-=r):(ce=!!A,Z-=1),ce)v(u,p,oe++,Z);else{var me=W[Z],xe=U*Z,ve=F[xe+c+1],fe=F[xe+c+1+T];e:for(var pe=0;pe<oe;++pe){var Le=u[pe],ye=U*Le;if(!(fe<P[ye+c+1]||P[ye+c+1+T]<ve)){for(var Ae=c+2;Ae<T;++Ae)if(F[xe+Ae+T]<P[ye+Ae]||P[ye+Ae+T]<F[xe+Ae])continue e;var Me,ke=D[Le];if((Me=A?E(me,ke):E(ke,me))!==void 0)return Me}}}}else g(u,p,oe--,se-ee)}},scanComplete:function(T,c,E,A,C,O,P,D,z,V,F){for(var W=0,B=2*T,U=c,H=c+T,q=A;q<C;++q){var ee=q+r,K=B*q;x[W++]=O[K+U],x[W++]=-ee,x[W++]=O[K+H],x[W++]=ee}for(q=D;q<z;++q){ee=q+1;var J=B*q;x[W++]=V[J+U],x[W++]=-ee}var Z=W>>>1;n(x,Z);var $=0;for(q=0;q<Z;++q){var ne=0|x[2*q+1];if(ne<0)if((ee=-ne)>=r)u[$++]=ee-r;else{var ae=F[ee-=1],oe=B*ee,se=V[oe+c+1],ce=V[oe+c+1+T];e:for(var me=0;me<$;++me){var xe=u[me],ve=P[xe];if(ve===ae)break;var fe=B*xe;if(!(ce<O[fe+c+1]||O[fe+c+1+T]<se)){for(var pe=c+2;pe<T;++pe)if(V[oe+pe+T]<O[fe+pe]||O[fe+pe+T]<V[oe+pe])continue e;var Le=E(ve,ae);if(Le!==void 0)return Le}}}else{for(ee=ne-r,me=$-1;me>=0;--me)if(u[me]===ee){for(pe=me+1;pe<$;++pe)u[pe-1]=u[pe];break}--$}}}};var s=t(5306),o=t(2288),n=t(309),r=1<<28,i=1024,u=s.mallocInt32(i),p=s.mallocInt32(i),h=s.mallocInt32(i),_=s.mallocInt32(i),m=s.mallocInt32(i),d=s.mallocInt32(i),x=s.mallocDouble(8192);function g(T,c,E,A){var C=c[A],O=T[E-1];T[C]=O,c[O]=C}function v(T,c,E,A){T[E]=A,c[A]=E}},7761:function(f,l,t){"use strict";var s=t(9971),o=t(743),n=t(2161),r=t(7098);function i(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function u(h,_){return h[0]-_[0]||h[1]-_[1]}function p(h,_,m){return _ in h?h[_]:m}f.exports=function(h,_,m){Array.isArray(_)?(m=m||{},_=_||[]):(m=_||{},_=[]);var d=!!p(m,"delaunay",!0),x=!!p(m,"interior",!0),g=!!p(m,"exterior",!0),v=!!p(m,"infinity",!1);if(!x&&!g||h.length===0)return[];var T=s(h,_);if(d||x!==g||v){for(var c=o(h.length,function(C){return C.map(i).sort(u)}(_)),E=0;E<T.length;++E){var A=T[E];c.addTriangle(A[0],A[1],A[2])}return d&&n(h,c),g?x?v?r(c,0,v):c.cells():r(c,1,v):r(c,-1)}return T}},2161:function(f,l,t){"use strict";var s=t(2227)[4];function o(n,r,i,u,p,h){var _=r.opposite(u,p);if(!(_<0)){if(p<u){var m=u;u=p,p=m,m=h,h=_,_=m}r.isConstraint(u,p)||s(n[u],n[p],n[h],n[_])<0&&i.push(u,p)}}t(5070),f.exports=function(n,r){for(var i=[],u=n.length,p=r.stars,h=0;h<u;++h)for(var _=p[h],m=1;m<_.length;m+=2)if(!((v=_[m])<h||r.isConstraint(h,v))){for(var d=_[m-1],x=-1,g=1;g<_.length;g+=2)if(_[g-1]===v){x=_[g];break}x<0||s(n[h],n[v],n[d],n[x])<0&&i.push(h,v)}for(;i.length>0;){for(var v=i.pop(),T=(d=-1,x=-1,_=p[h=i.pop()],1);T<_.length;T+=2){var c=_[T-1],E=_[T];c===v?x=E:E===v&&(d=c)}d<0||x<0||s(n[h],n[v],n[d],n[x])>=0||(r.flip(h,v),o(n,r,i,d,h,x),o(n,r,i,h,x,d),o(n,r,i,x,v,d),o(n,r,i,v,d,x))}}},7098:function(f,l,t){"use strict";var s,o=t(5070);function n(i,u,p,h,_,m,d){this.cells=i,this.neighbor=u,this.flags=h,this.constraint=p,this.active=_,this.next=m,this.boundary=d}function r(i,u){return i[0]-u[0]||i[1]-u[1]||i[2]-u[2]}f.exports=function(i,u,p){var h=function(P,D){for(var z=P.cells(),V=z.length,F=0;F<V;++F){var W=(ne=z[F])[0],B=ne[1],U=ne[2];B<U?B<W&&(ne[0]=B,ne[1]=U,ne[2]=W):U<W&&(ne[0]=U,ne[1]=W,ne[2]=B)}z.sort(r);var H=new Array(V);for(F=0;F<H.length;++F)H[F]=0;var q=[],ee=[],K=new Array(3*V),J=new Array(3*V),Z=null;D&&(Z=[]);var $=new n(z,K,J,H,q,ee,Z);for(F=0;F<V;++F)for(var ne=z[F],ae=0;ae<3;++ae){W=ne[ae],B=ne[(ae+1)%3];var oe=K[3*F+ae]=$.locate(B,W,P.opposite(B,W)),se=J[3*F+ae]=P.isConstraint(W,B);oe<0&&(se?ee.push(F):(q.push(F),H[F]=1),D&&Z.push([B,W,-1]))}return $}(i,p);if(u===0)return p?h.cells.concat(h.boundary):h.cells;for(var _=1,m=h.active,d=h.next,x=h.flags,g=h.cells,v=h.constraint,T=h.neighbor;m.length>0||d.length>0;){for(;m.length>0;){var c=m.pop();if(x[c]!==-_){x[c]=_,g[c];for(var E=0;E<3;++E){var A=T[3*c+E];A>=0&&x[A]===0&&(v[3*c+E]?d.push(A):(m.push(A),x[A]=_))}}}var C=d;d=m,m=C,d.length=0,_=-_}var O=function(P,D,z){for(var V=0,F=0;F<P.length;++F)D[F]===z&&(P[V++]=P[F]);return P.length=V,P}(g,x,u);return p?O.concat(h.boundary):O},n.prototype.locate=(s=[0,0,0],function(i,u,p){var h=i,_=u,m=p;return u<p?u<i&&(h=u,_=p,m=i):p<i&&(h=p,_=i,m=u),h<0?-1:(s[0]=h,s[1]=_,s[2]=m,o.eq(this.cells,s,r))})},9971:function(f,l,t){"use strict";var s=t(5070),o=t(417)[3];function n(d,x,g,v,T){this.a=d,this.b=x,this.idx=g,this.lowerIds=v,this.upperIds=T}function r(d,x,g,v){this.a=d,this.b=x,this.type=g,this.idx=v}function i(d,x){var g=d.a[0]-x.a[0]||d.a[1]-x.a[1]||d.type-x.type;return g||(d.type!==0&&(g=o(d.a,d.b,x.b))?g:d.idx-x.idx)}function u(d,x){return o(d.a,d.b,x)}function p(d,x,g,v,T){for(var c=s.lt(x,v,u),E=s.gt(x,v,u),A=c;A<E;++A){for(var C=x[A],O=C.lowerIds,P=O.length;P>1&&o(g[O[P-2]],g[O[P-1]],v)>0;)d.push([O[P-1],O[P-2],T]),P-=1;O.length=P,O.push(T);var D=C.upperIds;for(P=D.length;P>1&&o(g[D[P-2]],g[D[P-1]],v)<0;)d.push([D[P-2],D[P-1],T]),P-=1;D.length=P,D.push(T)}}function h(d,x){var g;return(g=d.a[0]<x.a[0]?o(d.a,d.b,x.a):o(x.b,x.a,d.a))?g:(g=x.b[0]<d.b[0]?o(d.a,d.b,x.b):o(x.b,x.a,d.b))||d.idx-x.idx}function _(d,x,g){var v=s.le(d,g,h),T=d[v],c=T.upperIds,E=c[c.length-1];T.upperIds=[E],d.splice(v+1,0,new n(g.a,g.b,g.idx,[E],c))}function m(d,x,g){var v=g.a;g.a=g.b,g.b=v;var T=s.eq(d,g,h),c=d[T];d[T-1].upperIds=c.upperIds,d.splice(T,1)}f.exports=function(d,x){for(var g=d.length,v=x.length,T=[],c=0;c<g;++c)T.push(new r(d[c],null,0,c));for(c=0;c<v;++c){var E=x[c],A=d[E[0]],C=d[E[1]];A[0]<C[0]?T.push(new r(A,C,2,c),new r(C,A,1,c)):A[0]>C[0]&&T.push(new r(C,A,2,c),new r(A,C,1,c))}T.sort(i);for(var O=T[0].a[0]-(1+Math.abs(T[0].a[0]))*Math.pow(2,-52),P=[new n([O,1],[O,0],-1,[],[],[],[])],D=[],z=(c=0,T.length);c<z;++c){var V=T[c],F=V.type;F===0?p(D,P,d,V.a,V.idx):F===2?_(P,0,V):m(P,0,V)}return D}},743:function(f,l,t){"use strict";var s=t(5070);function o(i,u){this.stars=i,this.edges=u}f.exports=function(i,u){for(var p=new Array(i),h=0;h<i;++h)p[h]=[];return new o(p,u)};var n=o.prototype;function r(i,u,p){for(var h=1,_=i.length;h<_;h+=2)if(i[h-1]===u&&i[h]===p)return i[h-1]=i[_-2],i[h]=i[_-1],void(i.length=_-2)}n.isConstraint=function(){var i=[0,0];function u(p,h){return p[0]-h[0]||p[1]-h[1]}return function(p,h){return i[0]=Math.min(p,h),i[1]=Math.max(p,h),s.eq(this.edges,i,u)>=0}}(),n.removeTriangle=function(i,u,p){var h=this.stars;r(h[i],u,p),r(h[u],p,i),r(h[p],i,u)},n.addTriangle=function(i,u,p){var h=this.stars;h[i].push(u,p),h[u].push(p,i),h[p].push(i,u)},n.opposite=function(i,u){for(var p=this.stars[u],h=1,_=p.length;h<_;h+=2)if(p[h]===i)return p[h-1];return-1},n.flip=function(i,u){var p=this.opposite(i,u),h=this.opposite(u,i);this.removeTriangle(i,u,p),this.removeTriangle(u,i,h),this.addTriangle(i,h,p),this.addTriangle(u,p,h)},n.edges=function(){for(var i=this.stars,u=[],p=0,h=i.length;p<h;++p)for(var _=i[p],m=0,d=_.length;m<d;m+=2)u.push([_[m],_[m+1]]);return u},n.cells=function(){for(var i=this.stars,u=[],p=0,h=i.length;p<h;++p)for(var _=i[p],m=0,d=_.length;m<d;m+=2){var x=_[m],g=_[m+1];p<Math.min(x,g)&&u.push([p,x,g])}return u}},9887:function(f){"use strict";f.exports=function(l){for(var t=1,s=1;s<l.length;++s)for(var o=0;o<s;++o)if(l[s]<l[o])t=-t;else if(l[o]===l[s])return 0;return t}},9243:function(f,l,t){"use strict";var s=t(3094),o=t(6606);function n(u,p){for(var h=0,_=u.length,m=0;m<_;++m)h+=u[m]*p[m];return h}function r(u){var p=u.length;if(p===0)return[];u[0].length;var h=s([u.length+1,u.length+1],1),_=s([u.length+1],1);h[p][p]=0;for(var m=0;m<p;++m){for(var d=0;d<=m;++d)h[d][m]=h[m][d]=2*n(u[m],u[d]);_[m]=n(u[m],u[m])}var x=o(h,_),g=0,v=x[p+1];for(m=0;m<v.length;++m)g+=v[m];var T=new Array(p);for(m=0;m<p;++m){v=x[m];var c=0;for(d=0;d<v.length;++d)c+=v[d];T[m]=c/g}return T}function i(u){if(u.length===0)return[];for(var p=u[0].length,h=s([p]),_=r(u),m=0;m<u.length;++m)for(var d=0;d<p;++d)h[d]+=u[m][d]*_[m];return h}i.barycenetric=r,f.exports=i},1778:function(f,l,t){f.exports=function(o){for(var n=s(o),r=0,i=0;i<o.length;++i)for(var u=o[i],p=0;p<n.length;++p)r+=Math.pow(u[p]-n[p],2);return Math.sqrt(r/o.length)};var s=t(9243)},197:function(f,l,t){"use strict";f.exports=function(E,A,C){var O;if(C){O=A;for(var P=new Array(A.length),D=0;D<A.length;++D){var z=A[D];P[D]=[z[0],z[1],C[D]]}A=P}for(var V=function(F,W,B){var U=x(F,[],d(F));return T(W,U,B),!!U}(E,A,!!C);c(E,A,!!C);)V=!0;if(C&&V)for(O.length=0,C.length=0,D=0;D<A.length;++D)z=A[D],O.push([z[0],z[1]]),C.push(z[2]);return V};var s=t(1731),o=t(2569),n=t(4434),r=t(5125),i=t(8846),u=t(7999),p=t(2826),h=t(8551),_=t(5528);function m(E){var A=u(E);return[h(A,-1/0),h(A,1/0)]}function d(E){for(var A=new Array(E.length),C=0;C<E.length;++C){var O=E[C];A[C]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return A}function x(E,A,C){for(var O=A.length,P=new s(O),D=[],z=0;z<A.length;++z){var V=A[z],F=m(V[0]),W=m(V[1]);D.push([h(F[0],-1/0),h(W[0],-1/0),h(F[1],1/0),h(W[1],1/0)])}o(D,function(ee,K){P.link(ee,K)});var B=!0,U=new Array(O);for(z=0;z<O;++z)(q=P.find(z))!==z&&(B=!1,E[q]=[Math.min(E[z][0],E[q][0]),Math.min(E[z][1],E[q][1])]);if(B)return null;var H=0;for(z=0;z<O;++z){var q;(q=P.find(z))===z?(U[z]=H,E[H++]=E[z]):U[z]=-1}for(E.length=H,z=0;z<O;++z)U[z]<0&&(U[z]=U[P.find(z)]);return U}function g(E,A){return E[0]-A[0]||E[1]-A[1]}function v(E,A){return E[0]-A[0]||E[1]-A[1]||(E[2]<A[2]?-1:E[2]>A[2]?1:0)}function T(E,A,C){if(E.length!==0){if(A)for(var O=0;O<E.length;++O){var P=A[(z=E[O])[0]],D=A[z[1]];z[0]=Math.min(P,D),z[1]=Math.max(P,D)}else for(O=0;O<E.length;++O){var z;P=(z=E[O])[0],D=z[1],z[0]=Math.min(P,D),z[1]=Math.max(P,D)}C?E.sort(v):E.sort(g);var V=1;for(O=1;O<E.length;++O){var F=E[O-1],W=E[O];(W[0]!==F[0]||W[1]!==F[1]||C&&W[2]!==F[2])&&(E[V++]=W)}E.length=V}}function c(E,A,C){var O=function(F,W){for(var B=new Array(W.length),U=0;U<W.length;++U){var H=W[U],q=F[H[0]],ee=F[H[1]];B[U]=[h(Math.min(q[0],ee[0]),-1/0),h(Math.min(q[1],ee[1]),-1/0),h(Math.max(q[0],ee[0]),1/0),h(Math.max(q[1],ee[1]),1/0)]}return B}(E,A),P=function(F,W,B){var U=[];return o(B,function(H,q){var ee=W[H],K=W[q];if(ee[0]!==K[0]&&ee[0]!==K[1]&&ee[1]!==K[0]&&ee[1]!==K[1]){var J=F[ee[0]],Z=F[ee[1]],$=F[K[0]],ne=F[K[1]];n(J,Z,$,ne)&&U.push([H,q])}}),U}(E,A,O),D=function(F,W,B,U){var H=[];return o(B,U,function(q,ee){var K=W[q];if(K[0]!==ee&&K[1]!==ee){var J=F[ee],Z=F[K[0]],$=F[K[1]];n(Z,$,J,J)&&H.push([q,ee])}}),H}(E,A,O,d(E)),z=function(F,W,B,U,H){var q,ee,K=F.map(function(Me){return[r(Me[0]),r(Me[1])]});for(q=0;q<B.length;++q){var J=B[q];ee=J[0];var Z=J[1],$=W[ee],ne=W[Z],ae=_(p(F[$[0]]),p(F[$[1]]),p(F[ne[0]]),p(F[ne[1]]));if(ae){var oe=F.length;F.push([u(ae[0]),u(ae[1])]),K.push(ae),U.push([ee,oe],[Z,oe])}}for(U.sort(function(Me,ke){if(Me[0]!==ke[0])return Me[0]-ke[0];var te=K[Me[1]],ue=K[ke[1]];return i(te[0],ue[0])||i(te[1],ue[1])}),q=U.length-1;q>=0;--q){var se=W[ee=(ye=U[q])[0]],ce=se[0],me=se[1],xe=F[ce],ve=F[me];if((xe[0]-ve[0]||xe[1]-ve[1])<0){var fe=ce;ce=me,me=fe}se[0]=ce;var pe,Le=se[1]=ye[1];for(H&&(pe=se[2]);q>0&&U[q-1][0]===ee;){var ye,Ae=(ye=U[--q])[1];H?W.push([Le,Ae,pe]):W.push([Le,Ae]),Le=Ae}H?W.push([Le,me,pe]):W.push([Le,me])}return K}(E,A,P,D,C),V=x(E,z);return T(A,V,C),!!V||P.length>0||D.length>0}},5528:function(f,l,t){"use strict";f.exports=function(_,m,d,x){var g=i(m,_),v=i(x,d),T=h(g,v);if(r(T)===0)return null;var c=h(v,i(_,d)),E=o(c,T),A=p(g,E);return u(_,A)};var s=t(3962),o=t(9189),n=t(4354),r=t(4951),i=t(6695),u=t(7584),p=t(4469);function h(_,m){return n(s(_[0],m[1]),s(_[1],m[0]))}},5692:function(f){f.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(f,l,t){"use strict";var s=t(5692),o=t(3578);function n(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function r(u){for(var p,h="#",_=0;_<3;++_)h+=("00"+(p=(p=u[_]).toString(16))).substr(p.length);return h}function i(u){return"rgba("+u.join(",")+")"}f.exports=function(u){var p,h,_,m,d,x,g,v,T,c;if(u||(u={}),v=(u.nshades||72)-1,g=u.format||"hex",(x=u.colormap)||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!s[x])throw Error(x+" not a supported colorscale");d=s[x]}else{if(!Array.isArray(x))throw Error("unsupported colormap option",x);d=x.slice()}if(d.length>v+1)throw new Error(x+" map requires nshades to be at least size "+d.length);T=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],p=d.map(function(P){return Math.round(P.index*v)}),T[0]=Math.min(Math.max(T[0],0),1),T[1]=Math.min(Math.max(T[1],0),1);var E=d.map(function(P,D){var z=d[D].index,V=d[D].rgb.slice();return V.length===4&&V[3]>=0&&V[3]<=1||(V[3]=T[0]+(T[1]-T[0])*z),V}),A=[];for(c=0;c<p.length-1;++c){m=p[c+1]-p[c],h=E[c],_=E[c+1];for(var C=0;C<m;C++){var O=C/m;A.push([Math.round(o(h[0],_[0],O)),Math.round(o(h[1],_[1],O)),Math.round(o(h[2],_[2],O)),o(h[3],_[3],O)])}}return A.push(d[d.length-1].rgb.concat(T[1])),g==="hex"?A=A.map(r):g==="rgbaString"?A=A.map(i):g==="float"&&(A=A.map(n)),A}},9398:function(f,l,t){"use strict";f.exports=function(p,h,_,m){var d=s(h,_,m);if(d===0){var x=o(s(p,h,_)),g=o(s(p,h,m));if(x===g){if(x===0){var v=u(p,h,_);return v===u(p,h,m)?0:v?1:-1}return 0}return g===0?x>0||u(p,h,m)?-1:1:x===0?g>0||u(p,h,_)?1:-1:o(g-x)}var T=s(p,h,_);return T>0?d>0&&s(p,h,m)>0?1:-1:T<0?d>0||s(p,h,m)>0?1:-1:s(p,h,m)>0||u(p,h,_)?1:-1};var s=t(417),o=t(7538),n=t(87),r=t(2019),i=t(9662);function u(p,h,_){var m=n(p[0],-h[0]),d=n(p[1],-h[1]),x=n(_[0],-h[0]),g=n(_[1],-h[1]),v=i(r(m,x),r(d,g));return v[v.length-1]>=0}},7538:function(f){"use strict";f.exports=function(l){return l<0?-1:l>0?1:0}},9209:function(f){f.exports=function(s,o){var n=s.length,r=s.length-o.length;if(r)return r;switch(n){case 0:return 0;case 1:return s[0]-o[0];case 2:return s[0]+s[1]-o[0]-o[1]||l(s[0],s[1])-l(o[0],o[1]);case 3:var i=s[0]+s[1],u=o[0]+o[1];if(r=i+s[2]-(u+o[2]))return r;var p=l(s[0],s[1]),h=l(o[0],o[1]);return l(p,s[2])-l(h,o[2])||l(p+s[2],i)-l(h+o[2],u);case 4:var _=s[0],m=s[1],d=s[2],x=s[3],g=o[0],v=o[1],T=o[2],c=o[3];return _+m+d+x-(g+v+T+c)||l(_,m,d,x)-l(g,v,T,c,g)||l(_+m,_+d,_+x,m+d,m+x,d+x)-l(g+v,g+T,g+c,v+T,v+c,T+c)||l(_+m+d,_+m+x,_+d+x,m+d+x)-l(g+v+T,g+v+c,g+T+c,v+T+c);default:for(var E=s.slice().sort(t),A=o.slice().sort(t),C=0;C<n;++C)if(r=E[C]-A[C])return r;return 0}};var l=Math.min;function t(s,o){return s-o}},1284:function(f,l,t){"use strict";var s=t(9209),o=t(9887);f.exports=function(n,r){return s(n,r)||o(n)-o(r)}},5537:function(f,l,t){"use strict";var s=t(8950),o=t(8722),n=t(3332);f.exports=function(r){var i=r.length;if(i===0)return[];if(i===1)return[[0]];var u=r[0].length;return u===0?[]:u===1?s(r):u===2?o(r):n(r,u)}},8950:function(f){"use strict";f.exports=function(l){for(var t=0,s=0,o=1;o<l.length;++o)l[o][0]<l[t][0]&&(t=o),l[o][0]>l[s][0]&&(s=o);return t<s?[[t],[s]]:t>s?[[s],[t]]:[[t]]}},8722:function(f,l,t){"use strict";f.exports=function(o){var n=s(o),r=n.length;if(r<=2)return[];for(var i=new Array(r),u=n[r-1],p=0;p<r;++p){var h=n[p];i[p]=[u,h],u=h}return i};var s=t(3266)},3332:function(f,l,t){"use strict";f.exports=function(n,r){try{return s(n,!0)}catch{var i=o(n);if(i.length<=r)return[];var u=function(h,_){for(var m=h.length,d=new Array(m),x=0;x<_.length;++x)d[x]=h[_[x]];var g=_.length;for(x=0;x<m;++x)_.indexOf(x)<0&&(d[g++]=h[x]);return d}(n,i);return function(h,_){for(var m=h.length,d=_.length,x=0;x<m;++x)for(var g=h[x],v=0;v<g.length;++v){var T=g[v];if(T<d)g[v]=_[T];else{T-=d;for(var c=0;c<d;++c)T>=_[c]&&(T+=1);g[v]=T}}return h}(s(u,!0),i)}};var s=t(2183),o=t(2153)},9680:function(f){"use strict";f.exports=function(l,t,s,o,n,r){var i=n-1,u=n*n,p=i*i,h=(1+2*n)*p,_=n*p,m=u*(3-2*n),d=u*i;if(l.length){r||(r=new Array(l.length));for(var x=l.length-1;x>=0;--x)r[x]=h*l[x]+_*t[x]+m*s[x]+d*o[x];return r}return h*l+_*t+m*s+d*o},f.exports.derivative=function(l,t,s,o,n,r){var i=6*n*n-6*n,u=3*n*n-4*n+1,p=-6*n*n+6*n,h=3*n*n-2*n;if(l.length){r||(r=new Array(l.length));for(var _=l.length-1;_>=0;--_)r[_]=i*l[_]+u*t[_]+p*s[_]+h*o[_];return r}return i*l+u*t+p*s[_]+h*o}},4419:function(f,l,t){"use strict";var s=t(2183),o=t(1215);function n(i,u){this.point=i,this.index=u}function r(i,u){for(var p=i.point,h=u.point,_=p.length,m=0;m<_;++m){var d=h[m]-p[m];if(d)return d}return 0}f.exports=function(i,u){var p=i.length;if(p===0)return[];var h=i[0].length;if(h<1)return[];if(h===1)return function(z,V,F){if(z===1)return F?[[-1,0]]:[];var W=V.map(function(ee,K){return[ee[0],K]});W.sort(function(ee,K){return ee[0]-K[0]});for(var B=new Array(z-1),U=1;U<z;++U){var H=W[U-1],q=W[U];B[U-1]=[H[1],q[1]]}return F&&B.push([-1,B[0][1]],[B[z-1][1],-1]),B}(p,i,u);for(var _=new Array(p),m=1,d=0;d<p;++d){for(var x=i[d],g=new Array(h+1),v=0,T=0;T<h;++T){var c=x[T];g[T]=c,v+=c*c}g[h]=v,_[d]=new n(g,d),m=Math.max(v,m)}o(_,r),p=_.length;var E=new Array(p+h+1),A=new Array(p+h+1),C=(h+1)*(h+1)*m,O=new Array(h+1);for(d=0;d<=h;++d)O[d]=0;for(O[h]=C,E[0]=O.slice(),A[0]=-1,d=0;d<=h;++d)(g=O.slice())[d]=1,E[d+1]=g,A[d+1]=-1;for(d=0;d<p;++d){var P=_[d];E[d+h+1]=P.point,A[d+h+1]=P.index}var D=s(E,!1);if(D=u?D.filter(function(z){for(var V=0,F=0;F<=h;++F){var W=A[z[F]];if(W<0&&++V>=2)return!1;z[F]=W}return!0}):D.filter(function(z){for(var V=0;V<=h;++V){var F=A[z[V]];if(F<0)return!1;z[V]=F}return!0}),1&h)for(d=0;d<D.length;++d)g=(P=D[d])[0],P[0]=P[1],P[1]=g;return D}},8362:function(f){var l=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),s=new Uint32Array(t.buffer);t[0]=1,l=!0,s[1]===1072693248?(f.exports=function(n){return t[0]=n,[s[0],s[1]]},f.exports.pack=function(n,r){return s[0]=n,s[1]=r,t[0]},f.exports.lo=function(n){return t[0]=n,s[0]},f.exports.hi=function(n){return t[0]=n,s[1]}):s[0]===1072693248?(f.exports=function(n){return t[0]=n,[s[1],s[0]]},f.exports.pack=function(n,r){return s[1]=n,s[0]=r,t[0]},f.exports.lo=function(n){return t[0]=n,s[1]},f.exports.hi=function(n){return t[0]=n,s[0]}):l=!1}if(!l){var o=new Buffer(8);f.exports=function(n){return o.writeDoubleLE(n,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},f.exports.pack=function(n,r){return o.writeUInt32LE(n,0,!0),o.writeUInt32LE(r,4,!0),o.readDoubleLE(0,!0)},f.exports.lo=function(n){return o.writeDoubleLE(n,0,!0),o.readUInt32LE(0,!0)},f.exports.hi=function(n){return o.writeDoubleLE(n,0,!0),o.readUInt32LE(4,!0)}}f.exports.sign=function(n){return f.exports.hi(n)>>>31},f.exports.exponent=function(n){return(f.exports.hi(n)<<1>>>21)-1023},f.exports.fraction=function(n){var r=f.exports.lo(n),i=f.exports.hi(n),u=1048575&i;return 2146435072&i&&(u+=1048576),[r,u]},f.exports.denormalized=function(n){return!(2146435072&f.exports.hi(n))}},3094:function(f){"use strict";function l(t,s,o){var n=0|t[o];if(n<=0)return[];var r,i=new Array(n);if(o===t.length-1)for(r=0;r<n;++r)i[r]=s;else for(r=0;r<n;++r)i[r]=l(t,s,o+1);return i}f.exports=function(t,s){switch(s===void 0&&(s=0),typeof t){case"number":if(t>0)return function(o,n){var r,i;for(r=new Array(o),i=0;i<o;++i)r[i]=n;return r}(0|t,s);break;case"object":if(typeof t.length=="number")return l(t,s,0)}return[]}},8348:function(f,l,t){"use strict";f.exports=function(o,n){var r=o.length;if(typeof n!="number"){n=0;for(var i=0;i<r;++i){var u=o[i];n=Math.max(n,u[0],u[1])}n=1+(0|n)}n|=0;var p=new Array(n);for(i=0;i<n;++i)p[i]=[];for(i=0;i<r;++i)p[(u=o[i])[0]].push(u[1]),p[u[1]].push(u[0]);for(var h=0;h<n;++h)s(p[h],function(_,m){return _-m});return p};var s=t(1215)},5795:function(f){"use strict";f.exports=function(l,t,s){var o=t||0,n=s||1;return[[l[12]+l[0],l[13]+l[1],l[14]+l[2],l[15]+l[3]],[l[12]-l[0],l[13]-l[1],l[14]-l[2],l[15]-l[3]],[l[12]+l[4],l[13]+l[5],l[14]+l[6],l[15]+l[7]],[l[12]-l[4],l[13]-l[5],l[14]-l[6],l[15]-l[7]],[o*l[12]+l[8],o*l[13]+l[9],o*l[14]+l[10],o*l[15]+l[11]],[n*l[12]-l[8],n*l[13]-l[9],n*l[14]-l[10],n*l[15]-l[11]]]}},8444:function(f,l,t){"use strict";f.exports=function(p,h,_){switch(arguments.length){case 0:return new r([0],[0],0);case 1:return typeof p=="number"?new r(m=u(p),m,0):new r(p,u(p.length),0);case 2:if(typeof h=="number"){var m=u(p.length);return new r(p,m,+h)}_=0;case 3:if(p.length!==h.length)throw new Error("state and velocity lengths must match");return new r(p,h,_)}};var s=t(9680),o=t(5070);function n(p,h,_){return Math.min(h,Math.max(p,_))}function r(p,h,_){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var m=0;m<this.dimension;++m)this.bounds[0][m]=-1/0,this.bounds[1][m]=1/0;this._state=p.slice().reverse(),this._velocity=h.slice().reverse(),this._time=[_],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var i=r.prototype;function u(p){for(var h=new Array(p),_=0;_<p;++_)h[_]=0;return h}i.flush=function(p){var h=o.gt(this._time,p)-1;h<=0||(this._time.splice(0,h),this._state.splice(0,h*this.dimension),this._velocity.splice(0,h*this.dimension))},i.curve=function(p){var h=this._time,_=h.length,m=o.le(h,p),d=this._scratch[0],x=this._state,g=this._velocity,v=this.dimension,T=this.bounds;if(m<0)for(var c=v-1,E=0;E<v;++E,--c)d[E]=x[c];else if(m>=_-1){c=x.length-1;var A=p-h[_-1];for(E=0;E<v;++E,--c)d[E]=x[c]+A*g[c]}else{c=v*(m+1)-1;var C=h[m],O=h[m+1]-C||1,P=this._scratch[1],D=this._scratch[2],z=this._scratch[3],V=this._scratch[4],F=!0;for(E=0;E<v;++E,--c)P[E]=x[c],z[E]=g[c]*O,D[E]=x[c+v],V[E]=g[c+v]*O,F=F&&P[E]===D[E]&&z[E]===V[E]&&z[E]===0;if(F)for(E=0;E<v;++E)d[E]=P[E];else s(P,z,D,V,(p-C)/O,d)}var W=T[0],B=T[1];for(E=0;E<v;++E)d[E]=n(W[E],B[E],d[E]);return d},i.dcurve=function(p){var h=this._time,_=h.length,m=o.le(h,p),d=this._scratch[0],x=this._state,g=this._velocity,v=this.dimension;if(m>=_-1)for(var T=x.length-1,c=(h[_-1],0);c<v;++c,--T)d[c]=g[T];else{T=v*(m+1)-1;var E=h[m],A=h[m+1]-E||1,C=this._scratch[1],O=this._scratch[2],P=this._scratch[3],D=this._scratch[4],z=!0;for(c=0;c<v;++c,--T)C[c]=x[T],P[c]=g[T]*A,O[c]=x[T+v],D[c]=g[T+v]*A,z=z&&C[c]===O[c]&&P[c]===D[c]&&P[c]===0;if(z)for(c=0;c<v;++c)d[c]=0;else for(s.derivative(C,P,O,D,(p-E)/A,d),c=0;c<v;++c)d[c]/=A}return d},i.lastT=function(){var p=this._time;return p[p.length-1]},i.stable=function(){for(var p=this._velocity,h=p.length,_=this.dimension-1;_>=0;--_)if(p[--h])return!1;return!0},i.jump=function(p){var h=this.lastT(),_=this.dimension;if(!(p<h||arguments.length!==_+1)){var m=this._state,d=this._velocity,x=m.length-this.dimension,g=this.bounds,v=g[0],T=g[1];this._time.push(h,p);for(var c=0;c<2;++c)for(var E=0;E<_;++E)m.push(m[x++]),d.push(0);for(this._time.push(p),E=_;E>0;--E)m.push(n(v[E-1],T[E-1],arguments[E])),d.push(0)}},i.push=function(p){var h=this.lastT(),_=this.dimension;if(!(p<h||arguments.length!==_+1)){var m=this._state,d=this._velocity,x=m.length-this.dimension,g=p-h,v=this.bounds,T=v[0],c=v[1],E=g>1e-6?1/g:0;this._time.push(p);for(var A=_;A>0;--A){var C=n(T[A-1],c[A-1],arguments[A]);m.push(C),d.push((C-m[x++])*E)}}},i.set=function(p){var h=this.dimension;if(!(p<this.lastT()||arguments.length!==h+1)){var _=this._state,m=this._velocity,d=this.bounds,x=d[0],g=d[1];this._time.push(p);for(var v=h;v>0;--v)_.push(n(x[v-1],g[v-1],arguments[v])),m.push(0)}},i.move=function(p){var h=this.lastT(),_=this.dimension;if(!(p<=h||arguments.length!==_+1)){var m=this._state,d=this._velocity,x=m.length-this.dimension,g=this.bounds,v=g[0],T=g[1],c=p-h,E=c>1e-6?1/c:0;this._time.push(p);for(var A=_;A>0;--A){var C=arguments[A];m.push(n(v[A-1],T[A-1],m[x++]+C)),d.push(C*E)}}},i.idle=function(p){var h=this.lastT();if(!(p<h)){var _=this.dimension,m=this._state,d=this._velocity,x=m.length-_,g=this.bounds,v=g[0],T=g[1],c=p-h;this._time.push(p);for(var E=_-1;E>=0;--E)m.push(n(v[E],T[E],m[x]+c*d[x])),d.push(0),x+=1}}},7080:function(f){"use strict";function l(x,g,v,T,c,E){this._color=x,this.key=g,this.value=v,this.left=T,this.right=c,this._count=E}function t(x){return new l(x._color,x.key,x.value,x.left,x.right,x._count)}function s(x,g){return new l(x,g.key,g.value,g.left,g.right,g._count)}function o(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function n(x,g){this._compare=x,this.root=g}f.exports=function(x){return new n(x||d,null)};var r=n.prototype;function i(x,g){var v;return g.left&&(v=i(x,g.left))?v:(v=x(g.key,g.value))||(g.right?i(x,g.right):void 0)}function u(x,g,v,T){if(g(x,T.key)<=0){var c;if(T.left&&(c=u(x,g,v,T.left))||(c=v(T.key,T.value)))return c}if(T.right)return u(x,g,v,T.right)}function p(x,g,v,T,c){var E,A=v(x,c.key),C=v(g,c.key);if(A<=0&&(c.left&&(E=p(x,g,v,T,c.left))||C>0&&(E=T(c.key,c.value))))return E;if(C>0&&c.right)return p(x,g,v,T,c.right)}function h(x,g){this.tree=x,this._stack=g}Object.defineProperty(r,"keys",{get:function(){var x=[];return this.forEach(function(g,v){x.push(g)}),x}}),Object.defineProperty(r,"values",{get:function(){var x=[];return this.forEach(function(g,v){x.push(v)}),x}}),Object.defineProperty(r,"length",{get:function(){return this.root?this.root._count:0}}),r.insert=function(x,g){for(var v=this._compare,T=this.root,c=[],E=[];T;){var A=v(x,T.key);c.push(T),E.push(A),T=A<=0?T.left:T.right}c.push(new l(0,x,g,null,null,1));for(var C=c.length-2;C>=0;--C)T=c[C],E[C]<=0?c[C]=new l(T._color,T.key,T.value,c[C+1],T.right,T._count+1):c[C]=new l(T._color,T.key,T.value,T.left,c[C+1],T._count+1);for(C=c.length-1;C>1;--C){var O=c[C-1];if(T=c[C],O._color===1||T._color===1)break;var P=c[C-2];if(P.left===O)if(O.left===T){if(!(D=P.right)||D._color!==0){P._color=0,P.left=O.right,O._color=1,O.right=P,c[C-2]=O,c[C-1]=T,o(P),o(O),C>=3&&((z=c[C-3]).left===P?z.left=O:z.right=O);break}O._color=1,P.right=s(1,D),P._color=0,C-=1}else{if(!(D=P.right)||D._color!==0){O.right=T.left,P._color=0,P.left=T.right,T._color=1,T.left=O,T.right=P,c[C-2]=T,c[C-1]=O,o(P),o(O),o(T),C>=3&&((z=c[C-3]).left===P?z.left=T:z.right=T);break}O._color=1,P.right=s(1,D),P._color=0,C-=1}else if(O.right===T){if(!(D=P.left)||D._color!==0){P._color=0,P.right=O.left,O._color=1,O.left=P,c[C-2]=O,c[C-1]=T,o(P),o(O),C>=3&&((z=c[C-3]).right===P?z.right=O:z.left=O);break}O._color=1,P.left=s(1,D),P._color=0,C-=1}else{var D;if(!(D=P.left)||D._color!==0){var z;O.left=T.right,P._color=0,P.right=T.left,T._color=1,T.right=O,T.left=P,c[C-2]=T,c[C-1]=O,o(P),o(O),o(T),C>=3&&((z=c[C-3]).right===P?z.right=T:z.left=T);break}O._color=1,P.left=s(1,D),P._color=0,C-=1}}return c[0]._color=1,new n(v,c[0])},r.forEach=function(x,g,v){if(this.root)switch(arguments.length){case 1:return i(x,this.root);case 2:return u(g,this._compare,x,this.root);case 3:return this._compare(g,v)>=0?void 0:p(g,v,this._compare,x,this.root)}},Object.defineProperty(r,"begin",{get:function(){for(var x=[],g=this.root;g;)x.push(g),g=g.left;return new h(this,x)}}),Object.defineProperty(r,"end",{get:function(){for(var x=[],g=this.root;g;)x.push(g),g=g.right;return new h(this,x)}}),r.at=function(x){if(x<0)return new h(this,[]);for(var g=this.root,v=[];;){if(v.push(g),g.left){if(x<g.left._count){g=g.left;continue}x-=g.left._count}if(!x)return new h(this,v);if(x-=1,!g.right||x>=g.right._count)break;g=g.right}return new h(this,[])},r.ge=function(x){for(var g=this._compare,v=this.root,T=[],c=0;v;){var E=g(x,v.key);T.push(v),E<=0&&(c=T.length),v=E<=0?v.left:v.right}return T.length=c,new h(this,T)},r.gt=function(x){for(var g=this._compare,v=this.root,T=[],c=0;v;){var E=g(x,v.key);T.push(v),E<0&&(c=T.length),v=E<0?v.left:v.right}return T.length=c,new h(this,T)},r.lt=function(x){for(var g=this._compare,v=this.root,T=[],c=0;v;){var E=g(x,v.key);T.push(v),E>0&&(c=T.length),v=E<=0?v.left:v.right}return T.length=c,new h(this,T)},r.le=function(x){for(var g=this._compare,v=this.root,T=[],c=0;v;){var E=g(x,v.key);T.push(v),E>=0&&(c=T.length),v=E<0?v.left:v.right}return T.length=c,new h(this,T)},r.find=function(x){for(var g=this._compare,v=this.root,T=[];v;){var c=g(x,v.key);if(T.push(v),c===0)return new h(this,T);v=c<=0?v.left:v.right}return new h(this,[])},r.remove=function(x){var g=this.find(x);return g?g.remove():this},r.get=function(x){for(var g=this._compare,v=this.root;v;){var T=g(x,v.key);if(T===0)return v.value;v=T<=0?v.left:v.right}};var _=h.prototype;function m(x,g){x.key=g.key,x.value=g.value,x.left=g.left,x.right=g.right,x._color=g._color,x._count=g._count}function d(x,g){return x<g?-1:x>g?1:0}Object.defineProperty(_,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(_,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),_.clone=function(){return new h(this.tree,this._stack.slice())},_.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var g=new Array(x.length),v=x[x.length-1];g[g.length-1]=new l(v._color,v.key,v.value,v.left,v.right,v._count);for(var T=x.length-2;T>=0;--T)(v=x[T]).left===x[T+1]?g[T]=new l(v._color,v.key,v.value,g[T+1],v.right,v._count):g[T]=new l(v._color,v.key,v.value,v.left,g[T+1],v._count);if((v=g[g.length-1]).left&&v.right){var c=g.length;for(v=v.left;v.right;)g.push(v),v=v.right;var E=g[c-1];for(g.push(new l(v._color,E.key,E.value,v.left,v.right,v._count)),g[c-1].key=v.key,g[c-1].value=v.value,T=g.length-2;T>=c;--T)v=g[T],g[T]=new l(v._color,v.key,v.value,v.left,g[T+1],v._count);g[c-1].left=g[c]}if((v=g[g.length-1])._color===0){var A=g[g.length-2];for(A.left===v?A.left=null:A.right===v&&(A.right=null),g.pop(),T=0;T<g.length;++T)g[T]._count--;return new n(this.tree._compare,g[0])}if(v.left||v.right){for(v.left?m(v,v.left):v.right&&m(v,v.right),v._color=1,T=0;T<g.length-1;++T)g[T]._count--;return new n(this.tree._compare,g[0])}if(g.length===1)return new n(this.tree._compare,null);for(T=0;T<g.length;++T)g[T]._count--;var C=g[g.length-2];return function(O){for(var P,D,z,V,F=O.length-1;F>=0;--F){if(P=O[F],F===0)return void(P._color=1);if((D=O[F-1]).left===P){if((z=D.right).right&&z.right._color===0)return V=(z=D.right=t(z)).right=t(z.right),D.right=z.left,z.left=D,z.right=V,z._color=D._color,P._color=1,D._color=1,V._color=1,o(D),o(z),F>1&&((W=O[F-2]).left===D?W.left=z:W.right=z),void(O[F-1]=z);if(z.left&&z.left._color===0)return V=(z=D.right=t(z)).left=t(z.left),D.right=V.left,z.left=V.right,V.left=D,V.right=z,V._color=D._color,D._color=1,z._color=1,P._color=1,o(D),o(z),o(V),F>1&&((W=O[F-2]).left===D?W.left=V:W.right=V),void(O[F-1]=V);if(z._color===1){if(D._color===0)return D._color=1,void(D.right=s(0,z));D.right=s(0,z);continue}z=t(z),D.right=z.left,z.left=D,z._color=D._color,D._color=0,o(D),o(z),F>1&&((W=O[F-2]).left===D?W.left=z:W.right=z),O[F-1]=z,O[F]=D,F+1<O.length?O[F+1]=P:O.push(P),F+=2}else{if((z=D.left).left&&z.left._color===0)return V=(z=D.left=t(z)).left=t(z.left),D.left=z.right,z.right=D,z.left=V,z._color=D._color,P._color=1,D._color=1,V._color=1,o(D),o(z),F>1&&((W=O[F-2]).right===D?W.right=z:W.left=z),void(O[F-1]=z);if(z.right&&z.right._color===0)return V=(z=D.left=t(z)).right=t(z.right),D.left=V.right,z.right=V.left,V.right=D,V.left=z,V._color=D._color,D._color=1,z._color=1,P._color=1,o(D),o(z),o(V),F>1&&((W=O[F-2]).right===D?W.right=V:W.left=V),void(O[F-1]=V);if(z._color===1){if(D._color===0)return D._color=1,void(D.left=s(0,z));D.left=s(0,z);continue}var W;z=t(z),D.left=z.right,z.right=D,z._color=D._color,D._color=0,o(D),o(z),F>1&&((W=O[F-2]).right===D?W.right=z:W.left=z),O[F-1]=z,O[F]=D,F+1<O.length?O[F+1]=P:O.push(P),F+=2}}}(g),C.left===v?C.left=null:C.right=null,new n(this.tree._compare,g[0])},Object.defineProperty(_,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(_,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(_,"index",{get:function(){var x=0,g=this._stack;if(g.length===0){var v=this.tree.root;return v?v._count:0}g[g.length-1].left&&(x=g[g.length-1].left._count);for(var T=g.length-2;T>=0;--T)g[T+1]===g[T].right&&(++x,g[T].left&&(x+=g[T].left._count));return x},enumerable:!0}),_.next=function(){var x=this._stack;if(x.length!==0){var g=x[x.length-1];if(g.right)for(g=g.right;g;)x.push(g),g=g.left;else for(x.pop();x.length>0&&x[x.length-1].right===g;)g=x[x.length-1],x.pop()}},Object.defineProperty(_,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var g=x.length-1;g>0;--g)if(x[g-1].left===x[g])return!0;return!1}}),_.update=function(x){var g=this._stack;if(g.length===0)throw new Error("Can't update empty node!");var v=new Array(g.length),T=g[g.length-1];v[v.length-1]=new l(T._color,T.key,x,T.left,T.right,T._count);for(var c=g.length-2;c>=0;--c)(T=g[c]).left===g[c+1]?v[c]=new l(T._color,T.key,T.value,v[c+1],T.right,T._count):v[c]=new l(T._color,T.key,T.value,T.left,v[c+1],T._count);return new n(this.tree._compare,v[0])},_.prev=function(){var x=this._stack;if(x.length!==0){var g=x[x.length-1];if(g.left)for(g=g.left;g;)x.push(g),g=g.right;else for(x.pop();x.length>0&&x[x.length-1].left===g;)g=x[x.length-1],x.pop()}},Object.defineProperty(_,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var g=x.length-1;g>0;--g)if(x[g-1].right===x[g])return!0;return!1}})},7453:function(f,l,t){"use strict";f.exports=function(A,C){var O=new h(A);return O.update(C),O};var s=t(9557),o=t(1681),n=t(1011),r=t(2864),i=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function p(A,C){return A[0]=C[0],A[1]=C[1],A[2]=C[2],A}function h(A){this.gl=A,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(A)}var _=h.prototype;function m(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}_.update=function(A){function C(ee,K,J){if(J in A){var Z,$=A[J],ne=this[J];(ee?Array.isArray($)&&Array.isArray($[0]):Array.isArray($))?this[J]=Z=[K($[0]),K($[1]),K($[2])]:this[J]=Z=[K($),K($),K($)];for(var ae=0;ae<3;++ae)if(Z[ae]!==ne[ae])return!0}return!1}A=A||{};var O,P=C.bind(this,!1,Number),D=C.bind(this,!1,Boolean),z=C.bind(this,!1,String),V=C.bind(this,!0,function(ee){if(Array.isArray(ee)){if(ee.length===3)return[+ee[0],+ee[1],+ee[2],1];if(ee.length===4)return[+ee[0],+ee[1],+ee[2],+ee[3]]}return[0,0,0,1]}),F=!1,W=!1;if("bounds"in A)for(var B=A.bounds,U=0;U<2;++U)for(var H=0;H<3;++H)B[U][H]!==this.bounds[U][H]&&(W=!0),this.bounds[U][H]=B[U][H];if("ticks"in A)for(O=A.ticks,F=!0,this.autoTicks=!1,U=0;U<3;++U)this.tickSpacing[U]=0;else P("tickSpacing")&&(this.autoTicks=!0,W=!0);if(this._firstInit&&("ticks"in A||"tickSpacing"in A||(this.autoTicks=!0),W=!0,F=!0,this._firstInit=!1),W&&this.autoTicks&&(O=i.create(this.bounds,this.tickSpacing),F=!0),F){for(U=0;U<3;++U)O[U].sort(function(ee,K){return ee.x-K.x});i.equal(O,this.ticks)?F=!1:this.ticks=O}D("tickEnable"),z("tickFont")&&(F=!0),P("tickSize"),P("tickAngle"),P("tickPad"),V("tickColor");var q=z("labels");z("labelFont")&&(q=!0),D("labelEnable"),P("labelSize"),P("labelPad"),V("labelColor"),D("lineEnable"),D("lineMirror"),P("lineWidth"),V("lineColor"),D("lineTickEnable"),D("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),V("lineTickColor"),D("gridEnable"),P("gridWidth"),V("gridColor"),D("zeroEnable"),V("zeroLineColor"),P("zeroLineWidth"),D("backgroundEnable"),V("backgroundColor"),this._text?this._text&&(q||F)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=s(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&F&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};var d=[new m,new m,new m];function x(A,C,O,P,D){for(var z=A.primalOffset,V=A.primalMinor,F=A.mirrorOffset,W=A.mirrorMinor,B=P[C],U=0;U<3;++U)if(C!==U){var H=z,q=F,ee=V,K=W;B&1<<U&&(H=F,q=z,ee=W,K=V),H[U]=O[0][U],q[U]=O[1][U],D[U]>0?(ee[U]=-1,K[U]=0):(ee[U]=0,K[U]=1)}}var g=[0,0,0],v={model:u,view:u,projection:u,_ortho:!1};_.isOpaque=function(){return!0},_.isTransparent=function(){return!1},_.drawTransparent=function(A){};var T=[0,0,0],c=[0,0,0],E=[0,0,0];_.draw=function(A){A=A||v;for(var C=this.gl,O=A.model||u,P=A.view||u,D=A.projection||u,z=this.bounds,V=A._ortho||!1,F=r(O,P,D,z,V),W=F.cubeEdges,B=F.axis,U=P[12],H=P[13],q=P[14],ee=P[15],K=(V?2:1)*this.pixelRatio*(D[3]*U+D[7]*H+D[11]*q+D[15]*ee)/C.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=W[J],this.lastCubeProps.axis[J]=B[J];var Z=d;for(J=0;J<3;++J)x(d[J],J,this.bounds,W,B);C=this.gl;var $,ne,ae,oe=g;for(J=0;J<3;++J)this.backgroundEnable[J]?oe[J]=B[J]:oe[J]=0;for(this._background.draw(O,P,D,z,oe,this.backgroundColor),this._lines.bind(O,P,D,this),J=0;J<3;++J){var se=[0,0,0];B[J]>0?se[J]=z[1][J]:se[J]=z[0][J];for(var ce=0;ce<2;++ce){var me=(J+1+ce)%3,xe=(J+1+(1^ce))%3;this.gridEnable[me]&&this._lines.drawGrid(me,xe,this.bounds,se,this.gridColor[me],this.gridWidth[me]*this.pixelRatio)}for(ce=0;ce<2;++ce)me=(J+1+ce)%3,xe=(J+1+(1^ce))%3,this.zeroEnable[xe]&&Math.min(z[0][xe],z[1][xe])<=0&&Math.max(z[0][xe],z[1][xe])>=0&&this._lines.drawZero(me,xe,this.bounds,se,this.zeroLineColor[xe],this.zeroLineWidth[xe]*this.pixelRatio)}for(J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);var ve=p(T,Z[J].primalMinor),fe=p(c,Z[J].mirrorMinor),pe=this.lineTickLength;for(ce=0;ce<3;++ce){var Le=K/O[5*ce];ve[ce]*=pe[ce]*Le,fe[ce]*=pe[ce]*Le}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,Z[J].primalOffset,ve,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,Z[J].mirrorOffset,fe,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}function ye(ge){(ae=[0,0,0])[ge]=1}function Ae(ge,we,Ee){var Be=(ge+1)%3,Re=(ge+2)%3,je=we[Be],he=we[Re],_e=Ee[Be],Te=Ee[Re];je>0&&Te>0||je>0&&Te<0||je<0&&Te>0||je<0&&Te<0?ye(Be):(he>0&&_e>0||he>0&&_e<0||he<0&&_e>0||he<0&&_e<0)&&ye(Re)}for(this._lines.unbind(),this._text.bind(O,P,D,this.pixelRatio),J=0;J<3;++J){var Me=Z[J].primalMinor,ke=Z[J].mirrorMinor,te=p(E,Z[J].primalOffset);for(ce=0;ce<3;++ce)this.lineTickEnable[J]&&(te[ce]+=K*Me[ce]*Math.max(this.lineTickLength[ce],0)/O[5*ce]);var ue=[0,0,0];if(ue[J]=1,this.tickEnable[J]){for(this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,ne=1,($=[this.tickAlign[J],.5,ne])[0]==="auto"?$[0]=0:$[0]=parseInt(""+$[0]),ae=[0,0,0],Ae(J,Me,ke),ce=0;ce<3;++ce)te[ce]+=K*Me[ce]*this.tickPad[ce]/O[5*ce];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],te,this.tickColor[J],ue,ae,$)}if(this.labelEnable[J]){for(ne=0,ae=[0,0,0],this.labels[J].length>4&&(ye(J),ne=1),($=[this.labelAlign[J],.5,ne])[0]==="auto"?$[0]=0:$[0]=parseInt(""+$[0]),ce=0;ce<3;++ce)te[ce]+=K*Me[ce]*this.labelPad[ce]/O[5*ce];te[J]+=.5*(z[0][J]+z[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],te,this.labelColor[J],[0,0,0],ae,$)}}this._text.unbind()},_.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(f,l,t){"use strict";f.exports=function(u){for(var p=[],h=[],_=0,m=0;m<3;++m)for(var d=(m+1)%3,x=(m+2)%3,g=[0,0,0],v=[0,0,0],T=-1;T<=1;T+=2){h.push(_,_+2,_+1,_+1,_+2,_+3),g[m]=T,v[m]=T;for(var c=-1;c<=1;c+=2){g[d]=c;for(var E=-1;E<=1;E+=2)g[x]=E,p.push(g[0],g[1],g[2],v[0],v[1],v[2]),_+=1}var A=d;d=x,x=A}var C=s(u,new Float32Array(p)),O=s(u,new Uint16Array(h),u.ELEMENT_ARRAY_BUFFER),P=o(u,[{buffer:C,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:u.FLOAT,size:3,offset:12,stride:24}],O),D=n(u);return D.attributes.position.location=0,D.attributes.normal.location=1,new r(u,C,P,D)};var s=t(5827),o=t(2944),n=t(1943).bg;function r(u,p,h,_){this.gl=u,this.buffer=p,this.vao=h,this.shader=_}var i=r.prototype;i.draw=function(u,p,h,_,m,d){for(var x=!1,g=0;g<3;++g)x=x||m[g];if(x){var v=this.gl;v.enable(v.POLYGON_OFFSET_FILL),v.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:p,projection:h,bounds:_,enable:m,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),v.disable(v.POLYGON_OFFSET_FILL)}},i.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(f,l,t){"use strict";f.exports=function(c,E,A,C,O){o(i,E,c),o(i,A,i);for(var P=0,D=0;D<2;++D){h[2]=C[D][2];for(var z=0;z<2;++z){h[1]=C[z][1];for(var V=0;V<2;++V)h[0]=C[V][0],m(u[P],h,i),P+=1}}var F=-1;for(D=0;D<8;++D){for(var W=u[D][3],B=0;B<3;++B)p[D][B]=u[D][B]/W;O&&(p[D][2]*=-1),W<0&&(F<0||p[D][2]<p[F][2])&&(F=D)}if(F<0){F=0;for(var U=0;U<3;++U){for(var H=(U+2)%3,q=(U+1)%3,ee=-1,K=-1,J=0;J<2;++J){var Z=(ne=J<<U)+(J<<H)+(1-J<<q),$=ne+(1-J<<H)+(J<<q);r(p[ne],p[Z],p[$],_)<0||(J?ee=1:K=1)}if(ee<0||K<0)K>ee&&(F|=1<<U);else{for(J=0;J<2;++J){Z=(ne=J<<U)+(J<<H)+(1-J<<q),$=ne+(1-J<<H)+(J<<q);var ne,ae=x([u[ne],u[Z],u[$],u[ne+(1<<H)+(1<<q)]]);J?ee=ae:K=ae}K>ee&&(F|=1<<U)}}}var oe=7^F,se=-1;for(D=0;D<8;++D)D!==F&&D!==oe&&(se<0||p[se][1]>p[D][1])&&(se=D);var ce=-1;for(D=0;D<3;++D)(xe=se^1<<D)!==F&&xe!==oe&&(ce<0&&(ce=xe),(q=p[xe])[0]<p[ce][0]&&(ce=xe));var me=-1;for(D=0;D<3;++D){var xe;(xe=se^1<<D)!==F&&xe!==oe&&xe!==ce&&(me<0&&(me=xe),(q=p[xe])[0]>p[me][0]&&(me=xe))}var ve=g;ve[0]=ve[1]=ve[2]=0,ve[s.log2(ce^se)]=se&ce,ve[s.log2(se^me)]=se&me;var fe=7^me;fe===F||fe===oe?(fe=7^ce,ve[s.log2(me^fe)]=fe&me):ve[s.log2(ce^fe)]=fe&ce;var pe=v,Le=F;for(U=0;U<3;++U)pe[U]=Le&1<<U?-1:1;return T};var s=t(2288),o=t(104),n=t(4670),r=t(417),i=new Array(16),u=new Array(8),p=new Array(8),h=new Array(3),_=[0,0,0];function m(c,E,A){for(var C=0;C<4;++C){c[C]=A[12+C];for(var O=0;O<3;++O)c[C]+=E[O]*A[4*O+C]}}(function(){for(var c=0;c<8;++c)u[c]=[1,1,1,1],p[c]=[1,1,1]})();var d=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function x(c){for(var E=0;E<d.length;++E)if((c=n.positive(c,d[E])).length<3)return 0;var A=c[0],C=A[0]/A[3],O=A[1]/A[3],P=0;for(E=1;E+1<c.length;++E){var D=c[E],z=c[E+1],V=D[0]/D[3]-C,F=D[1]/D[3]-O,W=z[0]/z[3]-C,B=z[1]/z[3]-O;P+=Math.abs(V*B-F*W)}return P}var g=[1,1,1],v=[0,0,0],T={cubeEdges:g,axis:v}},1681:function(f,l,t){"use strict";f.exports=function(g,v,T){var c=[],E=[0,0,0],A=[0,0,0],C=[0,0,0],O=[0,0,0];c.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var D=c.length/3|0,z=0;z<T[P].length;++z){var V=+T[P][z].x;c.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1)}var F=c.length/3|0;E[P]=D,A[P]=F-D,D=c.length/3|0;for(var W=0;W<T[P].length;++W)V=+T[P][W].x,c.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1);F=c.length/3|0,C[P]=D,O[P]=F-D}var B=s(g,new Float32Array(c)),U=o(g,[{buffer:B,type:g.FLOAT,size:3,stride:0,offset:0}]),H=n(g);return H.attributes.position.location=0,new d(g,B,U,H,A,E,O,C)};var s=t(5827),o=t(2944),n=t(1943).j,r=[0,0,0],i=[0,0,0],u=[0,0,0],p=[0,0,0],h=[1,1];function _(g){return g[0]=g[1]=g[2]=0,g}function m(g,v){return g[0]=v[0],g[1]=v[1],g[2]=v[2],g}function d(g,v,T,c,E,A,C,O){this.gl=g,this.vertBuffer=v,this.vao=T,this.shader=c,this.tickCount=E,this.tickOffset=A,this.gridCount=C,this.gridOffset=O}var x=d.prototype;x.bind=function(g,v,T){this.shader.bind(),this.shader.uniforms.model=g,this.shader.uniforms.view=v,this.shader.uniforms.projection=T,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},x.unbind=function(){this.vao.unbind()},x.drawAxisLine=function(g,v,T,c,E){var A=_(i);this.shader.uniforms.majorAxis=i,A[g]=v[1][g]-v[0][g],this.shader.uniforms.minorAxis=A;var C,O=m(p,T);O[g]+=v[0][g],this.shader.uniforms.offset=O,this.shader.uniforms.lineWidth=E,this.shader.uniforms.color=c,(C=_(u))[(g+2)%3]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,6),(C=_(u))[(g+1)%3]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,6)},x.drawAxisTicks=function(g,v,T,c,E){if(this.tickCount[g]){var A=_(r);A[g]=1,this.shader.uniforms.majorAxis=A,this.shader.uniforms.offset=v,this.shader.uniforms.minorAxis=T,this.shader.uniforms.color=c,this.shader.uniforms.lineWidth=E;var C=_(u);C[g]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g])}},x.drawGrid=function(g,v,T,c,E,A){if(this.gridCount[g]){var C=_(i);C[v]=T[1][v]-T[0][v],this.shader.uniforms.minorAxis=C;var O=m(p,c);O[v]+=T[0][v],this.shader.uniforms.offset=O;var P=_(r);P[g]=1,this.shader.uniforms.majorAxis=P;var D=_(u);D[g]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=E,this.vao.draw(this.gl.TRIANGLES,this.gridCount[g],this.gridOffset[g])}},x.drawZero=function(g,v,T,c,E,A){var C=_(i);this.shader.uniforms.majorAxis=C,C[g]=T[1][g]-T[0][g],this.shader.uniforms.minorAxis=C;var O=m(p,c);O[g]+=T[0][g],this.shader.uniforms.offset=O;var P=_(u);P[v]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=E,this.vao.draw(this.gl.TRIANGLES,6)},x.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(f,l,t){"use strict";var s=t(6832),o=t(5158),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),r=s([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);l.j=function(_){return o(_,n,r,null,[{name:"position",type:"vec3"}])};var i=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=s([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);l.f=function(_){return o(_,i,u,null,[{name:"position",type:"vec3"}])};var p=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=s([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);l.bg=function(_){return o(_,p,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(f,l,t){"use strict";f.exports=function(m,d,x,g,v,T){var c=s(m),E=o(m,[{buffer:c,size:3}]),A=r(m);A.attributes.position.location=0;var C=new p(m,A,c,E);return C.update(d,x,g,v,T),C};var s=t(5827),o=t(2944),n=t(875),r=t(1943).f,i=window||w.global||{},u=i.__TEXT_CACHE||{};function p(m,d,x,g){this.gl=m,this.shader=d,this.buffer=x,this.vao=g,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}i.__TEXT_CACHE={};var h=p.prototype,_=[0,0];h.bind=function(m,d,x,g){this.vao.bind(),this.shader.bind();var v=this.shader.uniforms;v.model=m,v.view=d,v.projection=x,v.pixelScale=g,_[0]=this.gl.drawingBufferWidth,_[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=_},h.unbind=function(){this.vao.unbind()},h.update=function(m,d,x,g,v){var T=[];function c(V,F,W,B,U,H){var q=u[W];q||(q=u[W]={});var ee=q[F];ee||(ee=q[F]=function(ce,me){try{return n(ce,me)}catch(xe){return console.warn('error vectorizing text:"'+ce+'" error:',xe),{cells:[],positions:[]}}}(F,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:U,styletags:H}));for(var K=(B||12)/12,J=ee.positions,Z=ee.cells,$=0,ne=Z.length;$<ne;++$)for(var ae=Z[$],oe=2;oe>=0;--oe){var se=J[ae[oe]];T.push(K*se[0],-K*se[1],V)}}for(var E=[0,0,0],A=[0,0,0],C=[0,0,0],O=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},D=0;D<3;++D){C[D]=T.length/3|0,c(.5*(m[0][D]+m[1][D]),d[D],x[D],12,1.25,P),O[D]=(T.length/3|0)-C[D],E[D]=T.length/3|0;for(var z=0;z<g[D].length;++z)g[D][z].text&&c(g[D][z].x,g[D][z].text,g[D][z].font||v,g[D][z].fontSize||12,1.25,P);A[D]=(T.length/3|0)-E[D]}this.buffer.update(T),this.tickOffset=E,this.tickCount=A,this.labelOffset=C,this.labelCount=O},h.drawTicks=function(m,d,x,g,v,T,c,E){this.tickCount[m]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=v,this.shader.uniforms.angle=x,this.shader.uniforms.scale=d,this.shader.uniforms.offset=g,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[m],this.tickOffset[m]))},h.drawLabel=function(m,d,x,g,v,T,c,E){this.labelCount[m]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=v,this.shader.uniforms.angle=x,this.shader.uniforms.scale=d,this.shader.uniforms.offset=g,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[m],this.labelOffset[m]))},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(f,l){"use strict";function t(s,o){var n=s+"",r=n.indexOf("."),i=0;r>=0&&(i=n.length-r-1);var u=Math.pow(10,i),p=Math.round(s*o*u),h=p+"";if(h.indexOf("e")>=0)return h;var _=p/u,m=p%u;p<0?(_=0|-Math.ceil(_),m=0|-m):(_=0|Math.floor(_),m|=0);var d=""+_;if(p<0&&(d="-"+d),i){for(var x=""+m;x.length<i;)x="0"+x;return d+"."+x}return d}l.create=function(s,o){for(var n=[],r=0;r<3;++r){for(var i=[],u=(s[0][r],s[1][r],0);u*o[r]<=s[1][r];++u)i.push({x:u*o[r],text:t(o[r],u)});for(u=-1;u*o[r]>=s[0][r];--u)i.push({x:u*o[r],text:t(o[r],u)});n.push(i)}return n},l.equal=function(s,o){for(var n=0;n<3;++n){if(s[n].length!==o[n].length)return!1;for(var r=0;r<s[n].length;++r){var i=s[n][r],u=o[n][r];if(i.x!==u.x||i.text!==u.text||i.font!==u.font||i.fontColor!==u.fontColor||i.fontSize!==u.fontSize||i.dx!==u.dx||i.dy!==u.dy)return!1}}return!0}},2771:function(f,l,t){"use strict";f.exports=function(T,c,E,A,C){var O=c.model||p,P=c.view||p,D=c.projection||p,z=c._ortho||!1,V=T.bounds,F=(C=C||n(O,P,D,V,z)).axis;r(h,P,O),r(h,D,h);for(var W=g,B=0;B<3;++B)W[B].lo=1/0,W[B].hi=-1/0,W[B].pixelsPerDataUnit=1/0;var U=s(i(h,h));i(h,h);for(var H=0;H<3;++H){var q=(H+1)%3,ee=(H+2)%3,K=v;e:for(B=0;B<2;++B){var J=[];if(F[H]<0!=!!B){K[H]=V[B][H];for(var Z=0;Z<2;++Z){K[q]=V[Z^B][q];for(var $=0;$<2;++$)K[ee]=V[$^Z^B][ee],J.push(K.slice())}var ne=z?5:4;for(Z=ne;Z===ne;++Z){if(J.length===0)continue e;J=o.positive(J,U[Z])}for(Z=0;Z<J.length;++Z){ee=J[Z];var ae=x(v,h,ee,E,A);for($=0;$<3;++$)W[$].lo=Math.min(W[$].lo,ee[$]),W[$].hi=Math.max(W[$].hi,ee[$]),$!==H&&(W[$].pixelsPerDataUnit=Math.min(W[$].pixelsPerDataUnit,Math.abs(ae[$])))}}}}return W};var s=t(5795),o=t(4670),n=t(2864),r=t(104),i=t(2142),u=t(6342),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function _(T,c,E){this.lo=T,this.hi=c,this.pixelsPerDataUnit=E}var m=[0,0,0,1],d=[0,0,0,1];function x(T,c,E,A,C){for(var O=0;O<3;++O){for(var P=m,D=d,z=0;z<3;++z)D[z]=P[z]=E[z];D[3]=P[3]=1,D[O]+=1,u(D,D,c),D[3]<0&&(T[O]=1/0),P[O]-=1,u(P,P,c),P[3]<0&&(T[O]=1/0);var V=(P[0]/P[3]-D[0]/D[3])*A,F=(P[1]/P[3]-D[1]/D[3])*C;T[O]=.25*Math.sqrt(V*V+F*F)}return T}var g=[new _(1/0,-1/0,1/0),new _(1/0,-1/0,1/0),new _(1/0,-1/0,1/0)],v=[0,0,0]},5827:function(f,l,t){"use strict";var s=t(5306),o=t(7498),n=t(5050),r=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function i(_,m,d,x,g){this.gl=_,this.type=m,this.handle=d,this.length=x,this.usage=g}var u=i.prototype;function p(_,m,d,x,g,v){var T=g.length*g.BYTES_PER_ELEMENT;if(v<0)return _.bufferData(m,g,x),T;if(T+v>d)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return _.bufferSubData(m,v,g),d}function h(_,m){for(var d=s.malloc(_.length,m),x=_.length,g=0;g<x;++g)d[g]=_[g];return d}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(_,m){if(typeof m!="number"&&(m=-1),this.bind(),typeof _=="object"&&_.shape!==void 0){var d=_.dtype;if(r.indexOf(d)<0&&(d="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(d=gl.getExtension("OES_element_index_uint")&&d!=="uint16"?"uint32":"uint16"),d===_.dtype&&function(T,c){for(var E=1,A=c.length-1;A>=0;--A){if(c[A]!==E)return!1;E*=T[A]}return!0}(_.shape,_.stride))_.offset===0&&_.data.length===_.shape[0]?this.length=p(this.gl,this.type,this.length,this.usage,_.data,m):this.length=p(this.gl,this.type,this.length,this.usage,_.data.subarray(_.offset,_.shape[0]),m);else{var x=s.malloc(_.size,d),g=n(x,_.shape);o.assign(g,_),this.length=p(this.gl,this.type,this.length,this.usage,m<0?x:x.subarray(0,_.size),m),s.free(x)}}else if(Array.isArray(_)){var v;v=this.type===this.gl.ELEMENT_ARRAY_BUFFER?h(_,"uint16"):h(_,"float32"),this.length=p(this.gl,this.type,this.length,this.usage,m<0?v:v.subarray(0,_.length),m),s.free(v)}else if(typeof _=="object"&&typeof _.length=="number")this.length=p(this.gl,this.type,this.length,this.usage,_,m);else{if(typeof _!="number"&&_!==void 0)throw new Error("gl-buffer: Invalid data type");if(m>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(_|=0)<=0&&(_=1),this.gl.bufferData(this.type,0|_,this.usage),this.length=_}},f.exports=function(_,m,d,x){if(d=d||_.ARRAY_BUFFER,x=x||_.DYNAMIC_DRAW,d!==_.ARRAY_BUFFER&&d!==_.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(x!==_.DYNAMIC_DRAW&&x!==_.STATIC_DRAW&&x!==_.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var g=_.createBuffer(),v=new i(_,d,g,0,x);return v.update(m),v}},1140:function(f,l,t){"use strict";var s=t(2858);f.exports=function(n,r){var i=n.positions,u=n.vectors,p={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return r&&(r[0]=[0,0,0],r[1]=[0,0,0]),p;for(var h=0,_=1/0,m=-1/0,d=1/0,x=-1/0,g=1/0,v=-1/0,T=null,c=null,E=[],A=1/0,C=!1,O=0;O<i.length;O++){var P=i[O];_=Math.min(P[0],_),m=Math.max(P[0],m),d=Math.min(P[1],d),x=Math.max(P[1],x),g=Math.min(P[2],g),v=Math.max(P[2],v);var D=u[O];if(s.length(D)>h&&(h=s.length(D)),O){var z=2*s.distance(T,P)/(s.length(c)+s.length(D));z?(A=Math.min(A,z),C=!1):C=!0}C||(T=P,c=D),E.push(D)}var V=[_,d,g],F=[m,x,v];r&&(r[0]=V,r[1]=F),h===0&&(h=1);var W=1/h;isFinite(A)||(A=1),p.vectorScale=A;var B=n.coneSize||.5;n.absoluteConeSize&&(B=n.absoluteConeSize*W),p.coneScale=B,O=0;for(var U=0;O<i.length;O++)for(var H=(P=i[O])[0],q=P[1],ee=P[2],K=E[O],J=s.length(K)*W,Z=0;Z<8;Z++){p.positions.push([H,q,ee,U++]),p.positions.push([H,q,ee,U++]),p.positions.push([H,q,ee,U++]),p.positions.push([H,q,ee,U++]),p.positions.push([H,q,ee,U++]),p.positions.push([H,q,ee,U++]),p.vectors.push(K),p.vectors.push(K),p.vectors.push(K),p.vectors.push(K),p.vectors.push(K),p.vectors.push(K),p.vertexIntensity.push(J,J,J),p.vertexIntensity.push(J,J,J);var $=p.positions.length;p.cells.push([$-6,$-5,$-4],[$-3,$-2,$-1])}return p};var o=t(7234);f.exports.createMesh=t(5028),f.exports.createConeMesh=function(n,r){return f.exports.createMesh(n,r,{shaders:o,traceType:"cone"})}},5028:function(f,l,t){"use strict";var s=t(5158),o=t(5827),n=t(2944),r=t(8931),i=t(104),u=t(7437),p=t(5050),h=t(9156),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(v,T,c,E,A,C,O,P,D,z,V){this.gl=v,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=c,this.pickShader=E,this.trianglePositions=A,this.triangleVectors=C,this.triangleColors=P,this.triangleUVs=D,this.triangleIds=O,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=V,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var d=m.prototype;function x(v,T){var c=s(v,T.meshShader.vertex,T.meshShader.fragment,null,T.meshShader.attributes);return c.attributes.position.location=0,c.attributes.color.location=2,c.attributes.uv.location=3,c.attributes.vector.location=4,c}function g(v,T){var c=s(v,T.pickShader.vertex,T.pickShader.fragment,null,T.pickShader.attributes);return c.attributes.position.location=0,c.attributes.id.location=1,c.attributes.vector.location=4,c}d.isOpaque=function(){return this.opacity>=1},d.isTransparent=function(){return this.opacity<1},d.pickSlots=1,d.setPickBase=function(v){this.pickId=v},d.update=function(v){v=v||{};var T=this.gl;this.dirty=!0,"lightPosition"in v&&(this.lightPosition=v.lightPosition),"opacity"in v&&(this.opacity=v.opacity),"ambient"in v&&(this.ambientLight=v.ambient),"diffuse"in v&&(this.diffuseLight=v.diffuse),"specular"in v&&(this.specularLight=v.specular),"roughness"in v&&(this.roughness=v.roughness),"fresnel"in v&&(this.fresnel=v.fresnel),v.tubeScale!==void 0&&(this.tubeScale=v.tubeScale),v.vectorScale!==void 0&&(this.vectorScale=v.vectorScale),v.coneScale!==void 0&&(this.coneScale=v.coneScale),v.coneOffset!==void 0&&(this.coneOffset=v.coneOffset),v.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(function(se){for(var ce=h({colormap:se,nshades:256,format:"rgba"}),me=new Uint8Array(1024),xe=0;xe<256;++xe){for(var ve=ce[xe],fe=0;fe<3;++fe)me[4*xe+fe]=ve[fe];me[4*xe+3]=255*ve[3]}return p(me,[256,256,4],[4,0,1])}(v.colormap)),this.texture.generateMipmap());var c=v.cells,E=v.positions,A=v.vectors;if(E&&c&&A){var C=[],O=[],P=[],D=[],z=[];this.cells=c,this.positions=E,this.vectors=A;var V=v.meshColor||[1,1,1,1],F=v.vertexIntensity,W=1/0,B=-1/0;if(F)if(v.vertexIntensityBounds)W=+v.vertexIntensityBounds[0],B=+v.vertexIntensityBounds[1];else for(var U=0;U<F.length;++U){var H=F[U];W=Math.min(W,H),B=Math.max(B,H)}else for(U=0;U<E.length;++U)H=E[U][2],W=Math.min(W,H),B=Math.max(B,H);for(this.intensity=F||function(se){for(var ce=se.length,me=new Array(ce),xe=0;xe<ce;++xe)me[xe]=se[xe][2];return me}(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=0;U<E.length;++U)for(var q=E[U],ee=0;ee<3;++ee)!isNaN(q[ee])&&isFinite(q[ee])&&(this.bounds[0][ee]=Math.min(this.bounds[0][ee],q[ee]),this.bounds[1][ee]=Math.max(this.bounds[1][ee],q[ee]));var K=0;e:for(U=0;U<c.length;++U){var J=c[U];if(J.length===3){for(ee=0;ee<3;++ee){q=E[$=J[ee]];for(var Z=0;Z<3;++Z)if(isNaN(q[Z])||!isFinite(q[Z]))continue e}for(ee=0;ee<3;++ee){var $;q=E[$=J[2-ee]],C.push(q[0],q[1],q[2],q[3]);var ne=A[$];O.push(ne[0],ne[1],ne[2],ne[3]||0);var ae,oe=V;oe.length===3?P.push(oe[0],oe[1],oe[2],1):P.push(oe[0],oe[1],oe[2],oe[3]),ae=F?[(F[$]-W)/(B-W),0]:[(q[2]-W)/(B-W),0],D.push(ae[0],ae[1]),z.push(U)}K+=1}}this.triangleCount=K,this.trianglePositions.update(C),this.triangleVectors.update(O),this.triangleColors.update(P),this.triangleUVs.update(D),this.triangleIds.update(new Uint32Array(z))}},d.drawTransparent=d.draw=function(v){v=v||{};for(var T=this.gl,c=v.model||_,E=v.view||_,A=v.projection||_,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)C[0][O]=Math.max(C[0][O],this.clipBounds[0][O]),C[1][O]=Math.min(C[1][O],this.clipBounds[1][O]);var P={model:c,view:E,projection:A,inverseModel:_.slice(),clipBounds:C,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};P.inverseModel=u(P.inverseModel,P.model),T.disable(T.CULL_FACE),this.texture.bind(0);var D=new Array(16);for(i(D,P.view,P.model),i(D,P.projection,D),u(D,D),O=0;O<3;++O)P.eyePosition[O]=D[12+O]/D[15];var z=D[15];for(O=0;O<3;++O)z+=this.lightPosition[O]*D[4*O+3];for(O=0;O<3;++O){for(var V=D[12+O],F=0;F<3;++F)V+=D[4*F+O]*this.lightPosition[F];P.lightPosition[O]=V/z}if(this.triangleCount>0){var W=this.triShader;W.bind(),W.uniforms=P,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},d.drawPick=function(v){v=v||{};for(var T=this.gl,c=v.model||_,E=v.view||_,A=v.projection||_,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)C[0][O]=Math.max(C[0][O],this.clipBounds[0][O]),C[1][O]=Math.min(C[1][O],this.clipBounds[1][O]);this._model=[].slice.call(c),this._view=[].slice.call(E),this._projection=[].slice.call(A),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var P={model:c,view:E,projection:A,clipBounds:C,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},D=this.pickShader;D.bind(),D.uniforms=P,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},d.pick=function(v){if(!v||v.id!==this.pickId)return null;var T=v.value[0]+256*v.value[1]+65536*v.value[2],c=this.cells[T],E=this.positions[c[1]].slice(0,3),A={position:E,dataCoordinate:E,index:Math.floor(c[1]/48)};return this.traceType==="cone"?A.index=Math.floor(c[1]/48):this.traceType==="streamtube"&&(A.intensity=this.intensity[c[1]],A.velocity=this.vectors[c[1]].slice(0,3),A.divergence=this.vectors[c[1]][3],A.index=T),A},d.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},f.exports=function(v,T,c){var E=c.shaders;arguments.length===1&&(v=(T=v).gl);var A=x(v,E),C=g(v,E),O=r(v,p(new Uint8Array([255,255,255,255]),[1,1,4]));O.generateMipmap(),O.minFilter=v.LINEAR_MIPMAP_LINEAR,O.magFilter=v.LINEAR;var P=o(v),D=o(v),z=o(v),V=o(v),F=o(v),W=n(v,[{buffer:P,type:v.FLOAT,size:4},{buffer:F,type:v.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:v.FLOAT,size:4},{buffer:V,type:v.FLOAT,size:2},{buffer:D,type:v.FLOAT,size:4}]),B=new m(v,O,A,C,P,D,F,z,V,W,c.traceType||"cone");return B.update(T),B}},7234:function(f,l,t){var s=t(6832),o=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=s([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),r=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),i=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);l.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},l.pickShader={vertex:r,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(f){f.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(f,l,t){var s=t(1950);f.exports=function(o){return s[o]}},3110:function(f,l,t){"use strict";f.exports=function(m){var d=m.gl,x=s(d),g=o(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),v=n(d);v.attributes.position.location=0,v.attributes.color.location=1,v.attributes.offset.location=2;var T=new i(d,x,g,v);return T.update(m),T};var s=t(5827),o=t(2944),n=t(7667),r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function i(m,d,x,g){this.gl=m,this.shader=g,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=i.prototype;function p(m,d){for(var x=0;x<3;++x)m[0][x]=Math.min(m[0][x],d[x]),m[1][x]=Math.max(m[1][x],d[x])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(m){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var g=x.view=m.view||r,v=x.projection=m.projection||r;x.model=m.model||r,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var T=g[12],c=g[13],E=g[14],A=g[15],C=(m._ortho?2:1)*this.pixelRatio*(v[3]*T+v[7]*c+v[11]*E+v[15]*A)/d.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)d.lineWidth(this.lineWidth[O]*this.pixelRatio),x.capSize=this.capSize[O]*C,this.lineCount[O]&&d.drawArrays(d.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};var h=function(){for(var m=new Array(3),d=0;d<3;++d){for(var x=[],g=1;g<=2;++g)for(var v=-1;v<=1;v+=2){var T=[0,0,0];T[(g+d)%3]=v,x.push(T)}m[d]=x}return m}();function _(m,d,x,g){for(var v=h[g],T=0;T<v.length;++T){var c=v[T];m.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],c[0],c[1],c[2])}return v.length}u.update=function(m){"lineWidth"in(m=m||{})&&(this.lineWidth=m.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in m&&(this.capSize=m.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in m&&(this.opacity=+m.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=m.color||[[0,0,0],[0,0,0],[0,0,0]],x=m.position,g=m.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&g){var v=[],T=x.length,c=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var E=0;E<3;++E){this.lineOffset[E]=c;e:for(var A=0;A<T;++A){for(var C=x[A],O=0;O<3;++O)if(isNaN(C[O])||!isFinite(C[O]))continue e;var P,D=g[A],z=d[E];Array.isArray(z[0])&&(z=d[A]),z.length===3?z=[z[0],z[1],z[2],1]:z.length===4&&(z=[z[0],z[1],z[2],z[3]],!this.hasAlpha&&z[3]<1&&(this.hasAlpha=!0)),isNaN(D[0][E])||isNaN(D[1][E])||(D[0][E]<0&&((P=C.slice())[E]+=D[0][E],v.push(C[0],C[1],C[2],z[0],z[1],z[2],z[3],0,0,0,P[0],P[1],P[2],z[0],z[1],z[2],z[3],0,0,0),p(this.bounds,P),c+=2+_(v,P,z,E)),D[1][E]>0&&((P=C.slice())[E]+=D[1][E],v.push(C[0],C[1],C[2],z[0],z[1],z[2],z[3],0,0,0,P[0],P[1],P[2],z[0],z[1],z[2],z[3],0,0,0),p(this.bounds,P),c+=2+_(v,P,z,E)))}this.lineCount[E]=c-this.lineOffset[E]}this.buffer.update(v)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(f,l,t){"use strict";var s=t(6832),o=t(5158),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),r=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);f.exports=function(i){return o(i,n,r,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(f,l,t){"use strict";var s=t(8931);f.exports=function(T,c,E,A){o||(o=T.FRAMEBUFFER_UNSUPPORTED,n=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,r=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,i=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var C=T.getExtension("WEBGL_draw_buffers");if(!u&&C&&function(W,B){var U=W.getParameter(B.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(U+1);for(var H=0;H<=U;++H){for(var q=new Array(U),ee=0;ee<H;++ee)q[ee]=W.COLOR_ATTACHMENT0+ee;for(ee=H;ee<U;++ee)q[ee]=W.NONE;u[H]=q}}(T,C),Array.isArray(c)&&(A=E,E=0|c[1],c=0|c[0]),typeof c!="number")throw new Error("gl-fbo: Missing shape parameter");var O=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(c<0||c>O||E<0||E>O)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(A=A||{})){if((P=Math.max(0|A.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!C)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>T.getParameter(C.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var D=T.UNSIGNED_BYTE,z=T.getExtension("OES_texture_float");if(A.float&&P>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");D=T.FLOAT}else A.preferFloat&&P>0&&z&&(D=T.FLOAT);var V=!0;"depth"in A&&(V=!!A.depth);var F=!1;return"stencil"in A&&(F=!!A.stencil),new x(T,c,E,D,P,V,F,C)};var o,n,r,i,u=null;function p(T){return[T.getParameter(T.FRAMEBUFFER_BINDING),T.getParameter(T.RENDERBUFFER_BINDING),T.getParameter(T.TEXTURE_BINDING_2D)]}function h(T,c){T.bindFramebuffer(T.FRAMEBUFFER,c[0]),T.bindRenderbuffer(T.RENDERBUFFER,c[1]),T.bindTexture(T.TEXTURE_2D,c[2])}function _(T){switch(T){case o:throw new Error("gl-fbo: Framebuffer unsupported");case n:throw new Error("gl-fbo: Framebuffer incomplete attachment");case r:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case i:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function m(T,c,E,A,C,O){if(!A)return null;var P=s(T,c,E,C,A);return P.magFilter=T.NEAREST,P.minFilter=T.NEAREST,P.mipSamples=1,P.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,O,T.TEXTURE_2D,P.handle,0),P}function d(T,c,E,A,C){var O=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,O),T.renderbufferStorage(T.RENDERBUFFER,A,c,E),T.framebufferRenderbuffer(T.FRAMEBUFFER,C,T.RENDERBUFFER,O),O}function x(T,c,E,A,C,O,P,D){this.gl=T,this._shape=[0|c,0|E],this._destroyed=!1,this._ext=D,this.color=new Array(C);for(var z=0;z<C;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=A,this._useDepth=O,this._useStencil=P;var V=this,F=[0|c,0|E];Object.defineProperties(F,{0:{get:function(){return V._shape[0]},set:function(W){return V.width=W}},1:{get:function(){return V._shape[1]},set:function(W){return V.height=W}}}),this._shapeVector=F,function(W){var B=p(W.gl),U=W.gl,H=W.handle=U.createFramebuffer(),q=W._shape[0],ee=W._shape[1],K=W.color.length,J=W._ext,Z=W._useStencil,$=W._useDepth,ne=W._colorType;U.bindFramebuffer(U.FRAMEBUFFER,H);for(var ae=0;ae<K;++ae)W.color[ae]=m(U,q,ee,ne,U.RGBA,U.COLOR_ATTACHMENT0+ae);K===0?(W._color_rb=d(U,q,ee,U.RGBA4,U.COLOR_ATTACHMENT0),J&&J.drawBuffersWEBGL(u[0])):K>1&&J.drawBuffersWEBGL(u[K]);var oe=U.getExtension("WEBGL_depth_texture");oe?Z?W.depth=m(U,q,ee,oe.UNSIGNED_INT_24_8_WEBGL,U.DEPTH_STENCIL,U.DEPTH_STENCIL_ATTACHMENT):$&&(W.depth=m(U,q,ee,U.UNSIGNED_SHORT,U.DEPTH_COMPONENT,U.DEPTH_ATTACHMENT)):$&&Z?W._depth_rb=d(U,q,ee,U.DEPTH_STENCIL,U.DEPTH_STENCIL_ATTACHMENT):$?W._depth_rb=d(U,q,ee,U.DEPTH_COMPONENT16,U.DEPTH_ATTACHMENT):Z&&(W._depth_rb=d(U,q,ee,U.STENCIL_INDEX,U.STENCIL_ATTACHMENT));var se=U.checkFramebufferStatus(U.FRAMEBUFFER);if(se!==U.FRAMEBUFFER_COMPLETE){for(W._destroyed=!0,U.bindFramebuffer(U.FRAMEBUFFER,null),U.deleteFramebuffer(W.handle),W.handle=null,W.depth&&(W.depth.dispose(),W.depth=null),W._depth_rb&&(U.deleteRenderbuffer(W._depth_rb),W._depth_rb=null),ae=0;ae<W.color.length;++ae)W.color[ae].dispose(),W.color[ae]=null;W._color_rb&&(U.deleteRenderbuffer(W._color_rb),W._color_rb=null),h(U,B),_(se)}h(U,B)}(this)}var g=x.prototype;function v(T,c,E){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(T._shape[0]!==c||T._shape[1]!==E){var A=T.gl,C=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(c<0||c>C||E<0||E>C)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=c,T._shape[1]=E;for(var O=p(A),P=0;P<T.color.length;++P)T.color[P].shape=T._shape;T._color_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,T._color_rb),A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&A.renderbufferStorage(A.RENDERBUFFER,A.STENCIL_INDEX,T._shape[0],T._shape[1])),A.bindFramebuffer(A.FRAMEBUFFER,T.handle);var D=A.checkFramebufferStatus(A.FRAMEBUFFER);D!==A.FRAMEBUFFER_COMPLETE&&(T.dispose(),h(A,O),_(D)),h(A,O)}}Object.defineProperties(g,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[0|T,0|T]),T.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var c=0|T[0],E=0|T[1];return v(this,c,E),[c,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return v(this,T|=0,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return T|=0,v(this,this._shape[0],T),T},enumerable:!1}}),g.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},g.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var c=0;c<this.color.length;++c)this.color[c].dispose(),this.color[c]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(f,l,t){var s=t(8974).sprintf,o=t(6603),n=t(9365),r=t(8008);f.exports=function(i,u,p){"use strict";var h=n(u)||"of unknown name (see npm glsl-shader-name)",_="unknown type";p!==void 0&&(_=p===o.FRAGMENT_SHADER?"fragment":"vertex");for(var m=s(`Error compiling %s shader %s:
`,_,h),d=s("%s%s",m,i),x=i.split(`
`),g={},v=0;v<x.length;v++){var T=x[v];if(T!==""&&T!=="\0"){var c=parseInt(T.split(":")[2]);if(isNaN(c))throw new Error(s("Could not parse error: %s",T));g[c]=T}}var E=r(u).split(`
`);for(v=0;v<E.length;v++)if((g[v+3]||g[v+2]||g[v+1])&&(m+=E[v]+`
`,g[v+1])){var A=g[v+1];A=A.substr(A.split(":",3).join(":").length+1).trim(),m+=s(`^^^ %s

`,A)}return{long:m.trim(),short:d.trim()}}},6386:function(f,l,t){"use strict";f.exports=function(d,x){var g=d.gl,v=new p(d,r(g,u.vertex,u.fragment),r(g,u.pickVertex,u.pickFragment),i(g),i(g),i(g),i(g));return v.update(x),d.addObject(v),v};var s=t(5070),o=t(9560),n=t(5306),r=t(5158),i=t(5827),u=t(1292);function p(d,x,g,v,T,c,E){this.plot=d,this.shader=x,this.pickShader=g,this.positionBuffer=v,this.weightBuffer=T,this.colorBuffer=c,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h,_=p.prototype,m=[0,0,1,0,0,1,1,0,1,1,0,1];_.draw=(h=[1,0,0,0,1,0,0,0,1],function(){var d=this.plot,x=this.shader,g=this.bounds,v=this.numVertices;if(!(v<=0)){var T=d.gl,c=d.dataBox,E=g[2]-g[0],A=g[3]-g[1],C=c[2]-c[0],O=c[3]-c[1];h[0]=2*E/C,h[4]=2*A/O,h[6]=2*(g[0]-c[0])/C-1,h[7]=2*(g[1]-c[1])/O-1,x.bind();var P=x.uniforms;P.viewTransform=h,P.shape=this.shape;var D=x.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(T.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(T.UNSIGNED_BYTE,!0),T.drawArrays(T.TRIANGLES,0,v)}}),_.drawPick=function(){var d=[1,0,0,0,1,0,0,0,1],x=[0,0,0,0];return function(g){var v=this.plot,T=this.pickShader,c=this.bounds,E=this.numVertices;if(!(E<=0)){var A=v.gl,C=v.dataBox,O=c[2]-c[0],P=c[3]-c[1],D=C[2]-C[0],z=C[3]-C[1];d[0]=2*O/D,d[4]=2*P/z,d[6]=2*(c[0]-C[0])/D-1,d[7]=2*(c[1]-C[1])/z-1;for(var V=0;V<4;++V)x[V]=g>>8*V&255;this.pickOffset=g,T.bind();var F=T.uniforms;F.viewTransform=d,F.pickOffset=x,F.shape=this.shape;var W=T.attributes;return this.positionBuffer.bind(),W.position.pointer(),this.weightBuffer.bind(),W.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),W.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,E),g+this.shape[0]*this.shape[1]}}}(),_.pick=function(d,x,g){var v=this.pickOffset,T=this.shape[0]*this.shape[1];if(g<v||g>=v+T)return null;var c=g-v,E=this.xData,A=this.yData;return{object:this,pointId:c,dataCoord:[E[c%this.shape[0]],A[c/this.shape[0]|0]]}},_.update=function(d){var x=(d=d||{}).shape||[0,0],g=d.x||o(x[0]),v=d.y||o(x[1]),T=d.z||new Float32Array(x[0]*x[1]),c=d.zsmooth!==!1;this.xData=g,this.yData=v;var E,A,C,O,P=d.colorLevels||[0],D=d.colorValues||[0,0,0,1],z=P.length,V=this.bounds;c?(E=V[0]=g[0],A=V[1]=v[0],C=V[2]=g[g.length-1],O=V[3]=v[v.length-1]):(E=V[0]=g[0]+(g[1]-g[0])/2,A=V[1]=v[0]+(v[1]-v[0])/2,C=V[2]=g[g.length-1]+(g[g.length-1]-g[g.length-2])/2,O=V[3]=v[v.length-1]+(v[v.length-1]-v[v.length-2])/2);var F=1/(C-E),W=1/(O-A),B=x[0],U=x[1];this.shape=[B,U];var H=(c?(B-1)*(U-1):B*U)*(m.length>>>1);this.numVertices=H;for(var q=n.mallocUint8(4*H),ee=n.mallocFloat32(2*H),K=n.mallocUint8(2*H),J=n.mallocUint32(H),Z=0,$=c?B-1:B,ne=c?U-1:U,ae=0;ae<ne;++ae){var oe,se;c?(oe=W*(v[ae]-A),se=W*(v[ae+1]-A)):(oe=ae<U-1?W*(v[ae]-(v[ae+1]-v[ae])/2-A):W*(v[ae]-(v[ae]-v[ae-1])/2-A),se=ae<U-1?W*(v[ae]+(v[ae+1]-v[ae])/2-A):W*(v[ae]+(v[ae]-v[ae-1])/2-A));for(var ce=0;ce<$;++ce){var me,xe;c?(me=F*(g[ce]-E),xe=F*(g[ce+1]-E)):(me=ce<B-1?F*(g[ce]-(g[ce+1]-g[ce])/2-E):F*(g[ce]-(g[ce]-g[ce-1])/2-E),xe=ce<B-1?F*(g[ce]+(g[ce+1]-g[ce])/2-E):F*(g[ce]+(g[ce]-g[ce-1])/2-E));for(var ve=0;ve<m.length;ve+=2){var fe,pe,Le,ye,Ae=m[ve],Me=m[ve+1],ke=T[c?(ae+Me)*B+(ce+Ae):ae*B+ce],te=s.le(P,ke);if(te<0)fe=D[0],pe=D[1],Le=D[2],ye=D[3];else if(te===z-1)fe=D[4*z-4],pe=D[4*z-3],Le=D[4*z-2],ye=D[4*z-1];else{var ue=(ke-P[te])/(P[te+1]-P[te]),ge=1-ue,we=4*te,Ee=4*(te+1);fe=ge*D[we]+ue*D[Ee],pe=ge*D[we+1]+ue*D[Ee+1],Le=ge*D[we+2]+ue*D[Ee+2],ye=ge*D[we+3]+ue*D[Ee+3]}q[4*Z]=255*fe,q[4*Z+1]=255*pe,q[4*Z+2]=255*Le,q[4*Z+3]=255*ye,ee[2*Z]=.5*me+.5*xe,ee[2*Z+1]=.5*oe+.5*se,K[2*Z]=Ae,K[2*Z+1]=Me,J[Z]=ae*B+ce,Z+=1}}}this.positionBuffer.update(ee),this.weightBuffer.update(K),this.colorBuffer.update(q),this.idBuffer.update(J),n.free(ee),n.free(q),n.free(K),n.free(J)},_.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(f,l,t){"use strict";var s=t(6832);f.exports={fragment:s([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:s([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(f,l,t){var s=t(6832),o=t(5158),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),r=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),i=s([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];l.createShader=function(p){return o(p,n,r,null,u)},l.createPickShader=function(p){return o(p,n,i,null,u)}},6086:function(f,l,t){"use strict";f.exports=function(E){var A=E.gl||E.scene&&E.scene.gl,C=_(A);C.attributes.position.location=0,C.attributes.nextPosition.location=1,C.attributes.arcLength.location=2,C.attributes.lineWidth.location=3,C.attributes.color.location=4;var O=m(A);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var P=s(A),D=o(A,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),z=p(new Array(1024),[256,1,4]),V=0;V<1024;++V)z.data[V]=255;var F=n(A,z);F.wrap=A.REPEAT;var W=new T(A,C,O,P,D,F);return W.update(E),W};var s=t(5827),o=t(2944),n=t(8931),r=new Uint8Array(4),i=new Float32Array(r.buffer),u=t(5070),p=t(5050),h=t(248),_=h.createShader,m=h.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(E,A){for(var C=0,O=0;O<3;++O){var P=E[O]-A[O];C+=P*P}return Math.sqrt(C)}function g(E){for(var A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],C=0;C<3;++C)A[0][C]=Math.max(E[0][C],A[0][C]),A[1][C]=Math.min(E[1][C],A[1][C]);return A}function v(E,A,C,O){this.arcLength=E,this.position=A,this.index=C,this.dataCoordinate=O}function T(E,A,C,O,P,D){this.gl=E,this.shader=A,this.pickShader=C,this.buffer=O,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=D,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var c=T.prototype;c.isTransparent=function(){return this.hasAlpha},c.isOpaque=function(){return!this.hasAlpha},c.pickSlots=1,c.setPickBase=function(E){this.pickId=E},c.drawTransparent=c.draw=function(E){if(this.vertexCount){var A=this.gl,C=this.shader,O=this.vao;C.bind(),C.uniforms={model:E.model||d,view:E.view||d,projection:E.projection||d,clipBounds:g(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(A.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},c.drawPick=function(E){if(this.vertexCount){var A=this.gl,C=this.pickShader,O=this.vao;C.bind(),C.uniforms={model:E.model||d,view:E.view||d,projection:E.projection||d,pickId:this.pickId,clipBounds:g(this.clipBounds),screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(A.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},c.update=function(E){var A,C;this.dirty=!0;var O=!!E.connectGaps;"dashScale"in E&&(this.dashScale=E.dashScale),this.hasAlpha=!1,"opacity"in E&&(this.opacity=+E.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],D=[],z=[],V=0,F=0,W=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=E.position||E.positions;if(B){var U=E.color||E.colors||[0,0,0,1],H=E.lineWidth||1,q=!1;e:for(A=1;A<B.length;++A){var ee,K,J,Z=B[A-1],$=B[A];for(D.push(V),z.push(Z.slice()),C=0;C<3;++C){if(isNaN(Z[C])||isNaN($[C])||!isFinite(Z[C])||!isFinite($[C])){if(!O&&P.length>0){for(var ne=0;ne<24;++ne)P.push(P[P.length-12]);F+=2,q=!0}continue e}W[0][C]=Math.min(W[0][C],Z[C],$[C]),W[1][C]=Math.max(W[1][C],Z[C],$[C])}Array.isArray(U[0])?(ee=U.length>A-1?U[A-1]:U.length>0?U[U.length-1]:[0,0,0,1],K=U.length>A?U[A]:U.length>0?U[U.length-1]:[0,0,0,1]):ee=K=U,ee.length===3&&(ee=[ee[0],ee[1],ee[2],1]),K.length===3&&(K=[K[0],K[1],K[2],1]),!this.hasAlpha&&ee[3]<1&&(this.hasAlpha=!0),J=Array.isArray(H)?H.length>A-1?H[A-1]:H.length>0?H[H.length-1]:[0,0,0,1]:H;var ae=V;if(V+=x(Z,$),q){for(C=0;C<2;++C)P.push(Z[0],Z[1],Z[2],$[0],$[1],$[2],ae,J,ee[0],ee[1],ee[2],ee[3]);F+=2,q=!1}P.push(Z[0],Z[1],Z[2],$[0],$[1],$[2],ae,J,ee[0],ee[1],ee[2],ee[3],Z[0],Z[1],Z[2],$[0],$[1],$[2],ae,-J,ee[0],ee[1],ee[2],ee[3],$[0],$[1],$[2],Z[0],Z[1],Z[2],V,-J,K[0],K[1],K[2],K[3],$[0],$[1],$[2],Z[0],Z[1],Z[2],V,J,K[0],K[1],K[2],K[3]),F+=4}}if(this.buffer.update(P),D.push(V),z.push(B[B.length-1].slice()),this.bounds=W,this.vertexCount=F,this.points=z,this.arcLength=D,"dashes"in E){var oe=E.dashes.slice();for(oe.unshift(0),A=1;A<oe.length;++A)oe[A]=oe[A-1]+oe[A];var se=p(new Array(1024),[256,1,4]);for(A=0;A<256;++A){for(C=0;C<4;++C)se.set(A,0,C,0);1&u.le(oe,oe[oe.length-1]*A/255)?se.set(A,0,0,0):se.set(A,0,0,255)}this.texture.setPixels(se)}},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},c.pick=function(E){if(!E||E.id!==this.pickId)return null;var A=function(B,U,H,q){return r[0]=0,r[1]=H,r[2]=U,r[3]=B,i[0]}(E.value[0],E.value[1],E.value[2]),C=u.le(this.arcLength,A);if(C<0)return null;if(C===this.arcLength.length-1)return new v(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),C);for(var O=this.points[C],P=this.points[Math.min(C+1,this.points.length-1)],D=(A-this.arcLength[C])/(this.arcLength[C+1]-this.arcLength[C]),z=1-D,V=[0,0,0],F=0;F<3;++F)V[F]=z*O[F]+D*P[F];var W=Math.min(D<.5?C:C+1,this.points.length-1);return new v(A,V,W,this.points[W])}},7332:function(f){f.exports=function(l){var t=new Float32Array(16);return t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t[4]=l[4],t[5]=l[5],t[6]=l[6],t[7]=l[7],t[8]=l[8],t[9]=l[9],t[10]=l[10],t[11]=l[11],t[12]=l[12],t[13]=l[13],t[14]=l[14],t[15]=l[15],t}},9823:function(f){f.exports=function(){var l=new Float32Array(16);return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}},7787:function(f){f.exports=function(l){var t=l[0],s=l[1],o=l[2],n=l[3],r=l[4],i=l[5],u=l[6],p=l[7],h=l[8],_=l[9],m=l[10],d=l[11],x=l[12],g=l[13],v=l[14],T=l[15];return(t*i-s*r)*(m*T-d*v)-(t*u-o*r)*(_*T-d*g)+(t*p-n*r)*(_*v-m*g)+(s*u-o*i)*(h*T-d*x)-(s*p-n*i)*(h*v-m*x)+(o*p-n*u)*(h*g-_*x)}},5950:function(f){f.exports=function(l,t){var s=t[0],o=t[1],n=t[2],r=t[3],i=s+s,u=o+o,p=n+n,h=s*i,_=o*i,m=o*u,d=n*i,x=n*u,g=n*p,v=r*i,T=r*u,c=r*p;return l[0]=1-m-g,l[1]=_+c,l[2]=d-T,l[3]=0,l[4]=_-c,l[5]=1-h-g,l[6]=x+v,l[7]=0,l[8]=d+T,l[9]=x-v,l[10]=1-h-m,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}},7280:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=t[3],u=o+o,p=n+n,h=r+r,_=o*u,m=o*p,d=o*h,x=n*p,g=n*h,v=r*h,T=i*u,c=i*p,E=i*h;return l[0]=1-(x+v),l[1]=m+E,l[2]=d-c,l[3]=0,l[4]=m-E,l[5]=1-(_+v),l[6]=g+T,l[7]=0,l[8]=d+c,l[9]=g-T,l[10]=1-(_+x),l[11]=0,l[12]=s[0],l[13]=s[1],l[14]=s[2],l[15]=1,l}},9947:function(f){f.exports=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}},7437:function(f){f.exports=function(l,t){var s=t[0],o=t[1],n=t[2],r=t[3],i=t[4],u=t[5],p=t[6],h=t[7],_=t[8],m=t[9],d=t[10],x=t[11],g=t[12],v=t[13],T=t[14],c=t[15],E=s*u-o*i,A=s*p-n*i,C=s*h-r*i,O=o*p-n*u,P=o*h-r*u,D=n*h-r*p,z=_*v-m*g,V=_*T-d*g,F=_*c-x*g,W=m*T-d*v,B=m*c-x*v,U=d*c-x*T,H=E*U-A*B+C*W+O*F-P*V+D*z;return H?(H=1/H,l[0]=(u*U-p*B+h*W)*H,l[1]=(n*B-o*U-r*W)*H,l[2]=(v*D-T*P+c*O)*H,l[3]=(d*P-m*D-x*O)*H,l[4]=(p*F-i*U-h*V)*H,l[5]=(s*U-n*F+r*V)*H,l[6]=(T*C-g*D-c*A)*H,l[7]=(_*D-d*C+x*A)*H,l[8]=(i*B-u*F+h*z)*H,l[9]=(o*F-s*B-r*z)*H,l[10]=(g*P-v*C+c*E)*H,l[11]=(m*C-_*P-x*E)*H,l[12]=(u*V-i*W-p*z)*H,l[13]=(s*W-o*V+n*z)*H,l[14]=(v*A-g*O-T*E)*H,l[15]=(_*O-m*A+d*E)*H,l):null}},3012:function(f,l,t){var s=t(9947);f.exports=function(o,n,r,i){var u,p,h,_,m,d,x,g,v,T,c=n[0],E=n[1],A=n[2],C=i[0],O=i[1],P=i[2],D=r[0],z=r[1],V=r[2];return Math.abs(c-D)<1e-6&&Math.abs(E-z)<1e-6&&Math.abs(A-V)<1e-6?s(o):(x=c-D,g=E-z,v=A-V,u=O*(v*=T=1/Math.sqrt(x*x+g*g+v*v))-P*(g*=T),p=P*(x*=T)-C*v,h=C*g-O*x,(T=Math.sqrt(u*u+p*p+h*h))?(u*=T=1/T,p*=T,h*=T):(u=0,p=0,h=0),_=g*h-v*p,m=v*u-x*h,d=x*p-g*u,(T=Math.sqrt(_*_+m*m+d*d))?(_*=T=1/T,m*=T,d*=T):(_=0,m=0,d=0),o[0]=u,o[1]=_,o[2]=x,o[3]=0,o[4]=p,o[5]=m,o[6]=g,o[7]=0,o[8]=h,o[9]=d,o[10]=v,o[11]=0,o[12]=-(u*c+p*E+h*A),o[13]=-(_*c+m*E+d*A),o[14]=-(x*c+g*E+v*A),o[15]=1,o)}},104:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=t[3],u=t[4],p=t[5],h=t[6],_=t[7],m=t[8],d=t[9],x=t[10],g=t[11],v=t[12],T=t[13],c=t[14],E=t[15],A=s[0],C=s[1],O=s[2],P=s[3];return l[0]=A*o+C*u+O*m+P*v,l[1]=A*n+C*p+O*d+P*T,l[2]=A*r+C*h+O*x+P*c,l[3]=A*i+C*_+O*g+P*E,A=s[4],C=s[5],O=s[6],P=s[7],l[4]=A*o+C*u+O*m+P*v,l[5]=A*n+C*p+O*d+P*T,l[6]=A*r+C*h+O*x+P*c,l[7]=A*i+C*_+O*g+P*E,A=s[8],C=s[9],O=s[10],P=s[11],l[8]=A*o+C*u+O*m+P*v,l[9]=A*n+C*p+O*d+P*T,l[10]=A*r+C*h+O*x+P*c,l[11]=A*i+C*_+O*g+P*E,A=s[12],C=s[13],O=s[14],P=s[15],l[12]=A*o+C*u+O*m+P*v,l[13]=A*n+C*p+O*d+P*T,l[14]=A*r+C*h+O*x+P*c,l[15]=A*i+C*_+O*g+P*E,l}},5268:function(f){f.exports=function(l,t,s,o,n,r,i){var u=1/(t-s),p=1/(o-n),h=1/(r-i);return l[0]=-2*u,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*p,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*h,l[11]=0,l[12]=(t+s)*u,l[13]=(n+o)*p,l[14]=(i+r)*h,l[15]=1,l}},1120:function(f){f.exports=function(l,t,s,o,n){var r=1/Math.tan(t/2),i=1/(o-n);return l[0]=r/s,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=r,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=(n+o)*i,l[11]=-1,l[12]=0,l[13]=0,l[14]=2*n*o*i,l[15]=0,l}},4422:function(f){f.exports=function(l,t,s,o){var n,r,i,u,p,h,_,m,d,x,g,v,T,c,E,A,C,O,P,D,z,V,F,W,B=o[0],U=o[1],H=o[2],q=Math.sqrt(B*B+U*U+H*H);return Math.abs(q)<1e-6?null:(B*=q=1/q,U*=q,H*=q,n=Math.sin(s),i=1-(r=Math.cos(s)),u=t[0],p=t[1],h=t[2],_=t[3],m=t[4],d=t[5],x=t[6],g=t[7],v=t[8],T=t[9],c=t[10],E=t[11],A=B*B*i+r,C=U*B*i+H*n,O=H*B*i-U*n,P=B*U*i-H*n,D=U*U*i+r,z=H*U*i+B*n,V=B*H*i+U*n,F=U*H*i-B*n,W=H*H*i+r,l[0]=u*A+m*C+v*O,l[1]=p*A+d*C+T*O,l[2]=h*A+x*C+c*O,l[3]=_*A+g*C+E*O,l[4]=u*P+m*D+v*z,l[5]=p*P+d*D+T*z,l[6]=h*P+x*D+c*z,l[7]=_*P+g*D+E*z,l[8]=u*V+m*F+v*W,l[9]=p*V+d*F+T*W,l[10]=h*V+x*F+c*W,l[11]=_*V+g*F+E*W,t!==l&&(l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l)}},6109:function(f){f.exports=function(l,t,s){var o=Math.sin(s),n=Math.cos(s),r=t[4],i=t[5],u=t[6],p=t[7],h=t[8],_=t[9],m=t[10],d=t[11];return t!==l&&(l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l[4]=r*n+h*o,l[5]=i*n+_*o,l[6]=u*n+m*o,l[7]=p*n+d*o,l[8]=h*n-r*o,l[9]=_*n-i*o,l[10]=m*n-u*o,l[11]=d*n-p*o,l}},7115:function(f){f.exports=function(l,t,s){var o=Math.sin(s),n=Math.cos(s),r=t[0],i=t[1],u=t[2],p=t[3],h=t[8],_=t[9],m=t[10],d=t[11];return t!==l&&(l[4]=t[4],l[5]=t[5],l[6]=t[6],l[7]=t[7],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l[0]=r*n-h*o,l[1]=i*n-_*o,l[2]=u*n-m*o,l[3]=p*n-d*o,l[8]=r*o+h*n,l[9]=i*o+_*n,l[10]=u*o+m*n,l[11]=p*o+d*n,l}},5240:function(f){f.exports=function(l,t,s){var o=Math.sin(s),n=Math.cos(s),r=t[0],i=t[1],u=t[2],p=t[3],h=t[4],_=t[5],m=t[6],d=t[7];return t!==l&&(l[8]=t[8],l[9]=t[9],l[10]=t[10],l[11]=t[11],l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15]),l[0]=r*n+h*o,l[1]=i*n+_*o,l[2]=u*n+m*o,l[3]=p*n+d*o,l[4]=h*n-r*o,l[5]=_*n-i*o,l[6]=m*n-u*o,l[7]=d*n-p*o,l}},3668:function(f){f.exports=function(l,t,s){var o=s[0],n=s[1],r=s[2];return l[0]=t[0]*o,l[1]=t[1]*o,l[2]=t[2]*o,l[3]=t[3]*o,l[4]=t[4]*n,l[5]=t[5]*n,l[6]=t[6]*n,l[7]=t[7]*n,l[8]=t[8]*r,l[9]=t[9]*r,l[10]=t[10]*r,l[11]=t[11]*r,l[12]=t[12],l[13]=t[13],l[14]=t[14],l[15]=t[15],l}},998:function(f){f.exports=function(l,t,s){var o,n,r,i,u,p,h,_,m,d,x,g,v=s[0],T=s[1],c=s[2];return t===l?(l[12]=t[0]*v+t[4]*T+t[8]*c+t[12],l[13]=t[1]*v+t[5]*T+t[9]*c+t[13],l[14]=t[2]*v+t[6]*T+t[10]*c+t[14],l[15]=t[3]*v+t[7]*T+t[11]*c+t[15]):(o=t[0],n=t[1],r=t[2],i=t[3],u=t[4],p=t[5],h=t[6],_=t[7],m=t[8],d=t[9],x=t[10],g=t[11],l[0]=o,l[1]=n,l[2]=r,l[3]=i,l[4]=u,l[5]=p,l[6]=h,l[7]=_,l[8]=m,l[9]=d,l[10]=x,l[11]=g,l[12]=o*v+u*T+m*c+t[12],l[13]=n*v+p*T+d*c+t[13],l[14]=r*v+h*T+x*c+t[14],l[15]=i*v+_*T+g*c+t[15]),l}},2142:function(f){f.exports=function(l,t){if(l===t){var s=t[1],o=t[2],n=t[3],r=t[6],i=t[7],u=t[11];l[1]=t[4],l[2]=t[8],l[3]=t[12],l[4]=s,l[6]=t[9],l[7]=t[13],l[8]=o,l[9]=r,l[11]=t[14],l[12]=n,l[13]=i,l[14]=u}else l[0]=t[0],l[1]=t[4],l[2]=t[8],l[3]=t[12],l[4]=t[1],l[5]=t[5],l[6]=t[9],l[7]=t[13],l[8]=t[2],l[9]=t[6],l[10]=t[10],l[11]=t[14],l[12]=t[3],l[13]=t[7],l[14]=t[11],l[15]=t[15];return l}},4340:function(f,l,t){"use strict";var s=t(957),o=t(7309);function n(u,p){for(var h=[0,0,0,0],_=0;_<4;++_)for(var m=0;m<4;++m)h[m]+=u[4*_+m]*p[_];return h}function r(u,p,h,_,m){for(var d=n(_,n(h,n(p,[u[0],u[1],u[2],1]))),x=0;x<3;++x)d[x]/=d[3];return[.5*m[0]*(1+d[0]),.5*m[1]*(1-d[1])]}function i(u,p){for(var h=[0,0,0],_=0;_<u.length;++_)for(var m=u[_],d=p[_],x=0;x<3;++x)h[x]+=d*m[x];return h}f.exports=function(u,p,h,_,m,d){if(u.length===1)return[0,u[0].slice()];for(var x=new Array(u.length),g=0;g<u.length;++g)x[g]=r(u[g],h,_,m,d);var v=0,T=1/0;for(g=0;g<x.length;++g){for(var c=0,E=0;E<2;++E)c+=Math.pow(x[g][E]-p[E],2);c<T&&(T=c,v=g)}var A=function(O,P){if(O.length===2){for(var D=0,z=0,V=0;V<2;++V)D+=Math.pow(P[V]-O[0][V],2),z+=Math.pow(P[V]-O[1][V],2);return(D=Math.sqrt(D))+(z=Math.sqrt(z))<1e-6?[1,0]:[z/(D+z),D/(z+D)]}if(O.length===3){var F=[0,0];return o(O[0],O[1],O[2],P,F),s(O,F)}return[]}(x,p),C=0;for(g=0;g<3;++g){if(A[g]<-.001||A[g]>1.0001)return null;C+=A[g]}return Math.abs(C-1)>.001?null:[v,i(u,A),A]}},2056:function(f,l,t){var s=t(6832),o=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=s([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),r=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),i=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),p=s([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),_=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),m=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),d=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),x=s([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);l.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},l.wireShader={vertex:r,fragment:i,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},l.pointShader={vertex:u,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},l.pickShader={vertex:h,fragment:_,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},l.pointPickShader={vertex:m,fragment:_,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},l.contourShader={vertex:d,fragment:x,attributes:[{name:"position",type:"vec3"}]}},8116:function(f,l,t){"use strict";var s=t(5158),o=t(5827),n=t(2944),r=t(8931),i=t(115),u=t(104),p=t(7437),h=t(5050),_=t(9156),m=t(7212),d=t(5306),x=t(2056),g=t(4340),v=x.meshShader,T=x.wireShader,c=x.pointShader,E=x.pickShader,A=x.pointPickShader,C=x.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(q,ee,K,J,Z,$,ne,ae,oe,se,ce,me,xe,ve,fe,pe,Le,ye,Ae,Me,ke,te,ue,ge,we,Ee,Be){this.gl=q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=ee,this.dirty=!0,this.triShader=K,this.lineShader=J,this.pointShader=Z,this.pickShader=$,this.pointPickShader=ne,this.contourShader=ae,this.trianglePositions=oe,this.triangleColors=ce,this.triangleNormals=xe,this.triangleUVs=me,this.triangleIds=se,this.triangleVAO=ve,this.triangleCount=0,this.lineWidth=1,this.edgePositions=fe,this.edgeColors=Le,this.edgeUVs=ye,this.edgeIds=pe,this.edgeVAO=Ae,this.edgeCount=0,this.pointPositions=Me,this.pointColors=te,this.pointUVs=ue,this.pointSizes=ge,this.pointIds=ke,this.pointVAO=we,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ee,this.contourVAO=Be,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var D=P.prototype;function z(q,ee){if(!ee||!ee.length)return 1;for(var K=0;K<ee.length;++K){if(ee.length<2)return 1;if(ee[K][0]===q)return ee[K][1];if(ee[K][0]>q&&K>0){var J=(ee[K][0]-q)/(ee[K][0]-ee[K-1][0]);return ee[K][1]*(1-J)+J*ee[K-1][1]}}return 1}function V(q){var ee=s(q,v.vertex,v.fragment);return ee.attributes.position.location=0,ee.attributes.color.location=2,ee.attributes.uv.location=3,ee.attributes.normal.location=4,ee}function F(q){var ee=s(q,T.vertex,T.fragment);return ee.attributes.position.location=0,ee.attributes.color.location=2,ee.attributes.uv.location=3,ee}function W(q){var ee=s(q,c.vertex,c.fragment);return ee.attributes.position.location=0,ee.attributes.color.location=2,ee.attributes.uv.location=3,ee.attributes.pointSize.location=4,ee}function B(q){var ee=s(q,E.vertex,E.fragment);return ee.attributes.position.location=0,ee.attributes.id.location=1,ee}function U(q){var ee=s(q,A.vertex,A.fragment);return ee.attributes.position.location=0,ee.attributes.id.location=1,ee.attributes.pointSize.location=4,ee}function H(q){var ee=s(q,C.vertex,C.fragment);return ee.attributes.position.location=0,ee}D.isOpaque=function(){return!this.hasAlpha},D.isTransparent=function(){return this.hasAlpha},D.pickSlots=1,D.setPickBase=function(q){this.pickId=q},D.highlight=function(q){if(q&&this.contourEnable){for(var ee=m(this.cells,this.intensity,q.intensity),K=ee.cells,J=ee.vertexIds,Z=ee.vertexWeights,$=K.length,ne=d.mallocFloat32(6*$),ae=0,oe=0;oe<$;++oe)for(var se=K[oe],ce=0;ce<2;++ce){var me=se[0];se.length===2&&(me=se[ce]);for(var xe=J[me][0],ve=J[me][1],fe=Z[me],pe=1-fe,Le=this.positions[xe],ye=this.positions[ve],Ae=0;Ae<3;++Ae)ne[ae++]=fe*Le[Ae]+pe*ye[Ae]}this.contourCount=ae/3|0,this.contourPositions.update(ne.subarray(0,ae)),d.free(ne)}else this.contourCount=0},D.update=function(q){q=q||{};var ee=this.gl;this.dirty=!0,"contourEnable"in q&&(this.contourEnable=q.contourEnable),"contourColor"in q&&(this.contourColor=q.contourColor),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"lightPosition"in q&&(this.lightPosition=q.lightPosition),this.hasAlpha=!1,"opacity"in q&&(this.opacity=q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in q&&(this.opacityscale=q.opacityscale,this.hasAlpha=!0),"ambient"in q&&(this.ambientLight=q.ambient),"diffuse"in q&&(this.diffuseLight=q.diffuse),"specular"in q&&(this.specularLight=q.specular),"roughness"in q&&(this.roughness=q.roughness),"fresnel"in q&&(this.fresnel=q.fresnel),q.texture?(this.texture.dispose(),this.texture=r(ee,q.texture)):q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=ee.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=ee.LINEAR,this.texture.setPixels(function(Ht,Ke){for(var $e=_({colormap:Ht,nshades:256,format:"rgba"}),Ue=new Uint8Array(1024),nt=0;nt<256;++nt){for(var ct=$e[nt],Oe=0;Oe<3;++Oe)Ue[4*nt+Oe]=ct[Oe];Ue[4*nt+3]=Ke?255*z(nt/255,Ke):255*ct[3]}return h(Ue,[256,256,4],[4,0,1])}(q.colormap,this.opacityscale)),this.texture.generateMipmap());var K=q.cells,J=q.positions;if(J&&K){var Z=[],$=[],ne=[],ae=[],oe=[],se=[],ce=[],me=[],xe=[],ve=[],fe=[],pe=[],Le=[],ye=[];this.cells=K,this.positions=J;var Ae=q.vertexNormals,Me=q.cellNormals,ke=q.vertexNormalsEpsilon===void 0?1e-6:q.vertexNormalsEpsilon,te=q.faceNormalsEpsilon===void 0?1e-6:q.faceNormalsEpsilon;q.useFacetNormals&&!Me&&(Me=i.faceNormals(K,J,te)),Me||Ae||(Ae=i.vertexNormals(K,J,ke));var ue=q.vertexColors,ge=q.cellColors,we=q.meshColor||[1,1,1,1],Ee=q.vertexUVs,Be=q.vertexIntensity,Re=q.cellUVs,je=q.cellIntensity,he=1/0,_e=-1/0;if(!Ee&&!Re)if(Be)if(q.vertexIntensityBounds)he=+q.vertexIntensityBounds[0],_e=+q.vertexIntensityBounds[1];else for(var Te=0;Te<Be.length;++Te){var Fe=Be[Te];he=Math.min(he,Fe),_e=Math.max(_e,Fe)}else if(je)if(q.cellIntensityBounds)he=+q.cellIntensityBounds[0],_e=+q.cellIntensityBounds[1];else for(Te=0;Te<je.length;++Te)Fe=je[Te],he=Math.min(he,Fe),_e=Math.max(_e,Fe);else for(Te=0;Te<J.length;++Te)Fe=J[Te][2],he=Math.min(he,Fe),_e=Math.max(_e,Fe);this.intensity=Be||je||function(Ht){for(var Ke=Ht.length,$e=new Array(Ke),Ue=0;Ue<Ke;++Ue)$e[Ue]=Ht[Ue][2];return $e}(J),this.pickVertex=!(je||ge);var Ye=q.pointSizes,Ge=q.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Te=0;Te<J.length;++Te)for(var ot=J[Te],st=0;st<3;++st)!isNaN(ot[st])&&isFinite(ot[st])&&(this.bounds[0][st]=Math.min(this.bounds[0][st],ot[st]),this.bounds[1][st]=Math.max(this.bounds[1][st],ot[st]));var ht=0,xt=0,Ct=0;e:for(Te=0;Te<K.length;++Te){var St=K[Te];switch(St.length){case 1:for(ot=J[Nt=St[0]],st=0;st<3;++st)if(isNaN(ot[st])||!isFinite(ot[st]))continue e;ve.push(ot[0],ot[1],ot[2]),Dt=ue?ue[Nt]:ge?ge[Te]:we,this.opacityscale&&Be?$.push(Dt[0],Dt[1],Dt[2],this.opacity*z((Be[Nt]-he)/(_e-he),this.opacityscale)):Dt.length===3?fe.push(Dt[0],Dt[1],Dt[2],this.opacity):(fe.push(Dt[0],Dt[1],Dt[2],Dt[3]*this.opacity),Dt[3]<1&&(this.hasAlpha=!0)),Et=Ee?Ee[Nt]:Be?[(Be[Nt]-he)/(_e-he),0]:Re?Re[Te]:je?[(je[Te]-he)/(_e-he),0]:[(ot[2]-he)/(_e-he),0],pe.push(Et[0],Et[1]),Ye?Le.push(Ye[Nt]):Le.push(Ge),ye.push(Te),Ct+=1;break;case 2:for(st=0;st<2;++st){ot=J[Nt=St[st]];for(var kt=0;kt<3;++kt)if(isNaN(ot[kt])||!isFinite(ot[kt]))continue e}for(st=0;st<2;++st)ot=J[Nt=St[st]],se.push(ot[0],ot[1],ot[2]),Dt=ue?ue[Nt]:ge?ge[Te]:we,this.opacityscale&&Be?$.push(Dt[0],Dt[1],Dt[2],this.opacity*z((Be[Nt]-he)/(_e-he),this.opacityscale)):Dt.length===3?ce.push(Dt[0],Dt[1],Dt[2],this.opacity):(ce.push(Dt[0],Dt[1],Dt[2],Dt[3]*this.opacity),Dt[3]<1&&(this.hasAlpha=!0)),Et=Ee?Ee[Nt]:Be?[(Be[Nt]-he)/(_e-he),0]:Re?Re[Te]:je?[(je[Te]-he)/(_e-he),0]:[(ot[2]-he)/(_e-he),0],me.push(Et[0],Et[1]),xe.push(Te);xt+=1;break;case 3:for(st=0;st<3;++st)for(ot=J[Nt=St[st]],kt=0;kt<3;++kt)if(isNaN(ot[kt])||!isFinite(ot[kt]))continue e;for(st=0;st<3;++st){var Nt,Dt,Et,Wt;ot=J[Nt=St[2-st]],Z.push(ot[0],ot[1],ot[2]),(Dt=ue?ue[Nt]:ge?ge[Te]:we)?this.opacityscale&&Be?$.push(Dt[0],Dt[1],Dt[2],this.opacity*z((Be[Nt]-he)/(_e-he),this.opacityscale)):Dt.length===3?$.push(Dt[0],Dt[1],Dt[2],this.opacity):($.push(Dt[0],Dt[1],Dt[2],Dt[3]*this.opacity),Dt[3]<1&&(this.hasAlpha=!0)):$.push(.5,.5,.5,1),Et=Ee?Ee[Nt]:Be?[(Be[Nt]-he)/(_e-he),0]:Re?Re[Te]:je?[(je[Te]-he)/(_e-he),0]:[(ot[2]-he)/(_e-he),0],ae.push(Et[0],Et[1]),Wt=Ae?Ae[Nt]:Me[Te],ne.push(Wt[0],Wt[1],Wt[2]),oe.push(Te)}ht+=1}}this.pointCount=Ct,this.edgeCount=xt,this.triangleCount=ht,this.pointPositions.update(ve),this.pointColors.update(fe),this.pointUVs.update(pe),this.pointSizes.update(Le),this.pointIds.update(new Uint32Array(ye)),this.edgePositions.update(se),this.edgeColors.update(ce),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(xe)),this.trianglePositions.update(Z),this.triangleColors.update($),this.triangleUVs.update(ae),this.triangleNormals.update(ne),this.triangleIds.update(new Uint32Array(oe))}},D.drawTransparent=D.draw=function(q){q=q||{};for(var ee=this.gl,K=q.model||O,J=q.view||O,Z=q.projection||O,$=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ne=0;ne<3;++ne)$[0][ne]=Math.max($[0][ne],this.clipBounds[0][ne]),$[1][ne]=Math.min($[1][ne],this.clipBounds[1][ne]);var ae={model:K,view:J,projection:Z,inverseModel:O.slice(),clipBounds:$,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ae.inverseModel=p(ae.inverseModel,ae.model),ee.disable(ee.CULL_FACE),this.texture.bind(0);var oe=new Array(16);for(u(oe,ae.view,ae.model),u(oe,ae.projection,oe),p(oe,oe),ne=0;ne<3;++ne)ae.eyePosition[ne]=oe[12+ne]/oe[15];var se,ce=oe[15];for(ne=0;ne<3;++ne)ce+=this.lightPosition[ne]*oe[4*ne+3];for(ne=0;ne<3;++ne){for(var me=oe[12+ne],xe=0;xe<3;++xe)me+=oe[4*xe+ne]*this.lightPosition[xe];ae.lightPosition[ne]=me/ce}this.triangleCount>0&&((se=this.triShader).bind(),se.uniforms=ae,this.triangleVAO.bind(),ee.drawArrays(ee.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((se=this.lineShader).bind(),se.uniforms=ae,this.edgeVAO.bind(),ee.lineWidth(this.lineWidth*this.pixelRatio),ee.drawArrays(ee.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((se=this.pointShader).bind(),se.uniforms=ae,this.pointVAO.bind(),ee.drawArrays(ee.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((se=this.contourShader).bind(),se.uniforms=ae,this.contourVAO.bind(),ee.drawArrays(ee.LINES,0,this.contourCount),this.contourVAO.unbind())},D.drawPick=function(q){q=q||{};for(var ee=this.gl,K=q.model||O,J=q.view||O,Z=q.projection||O,$=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ne=0;ne<3;++ne)$[0][ne]=Math.max($[0][ne],this.clipBounds[0][ne]),$[1][ne]=Math.min($[1][ne],this.clipBounds[1][ne]);this._model=[].slice.call(K),this._view=[].slice.call(J),this._projection=[].slice.call(Z),this._resolution=[ee.drawingBufferWidth,ee.drawingBufferHeight];var ae,oe={model:K,view:J,projection:Z,clipBounds:$,pickId:this.pickId/255};(ae=this.pickShader).bind(),ae.uniforms=oe,this.triangleCount>0&&(this.triangleVAO.bind(),ee.drawArrays(ee.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),ee.lineWidth(this.lineWidth*this.pixelRatio),ee.drawArrays(ee.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ae=this.pointPickShader).bind(),ae.uniforms=oe,this.pointVAO.bind(),ee.drawArrays(ee.POINTS,0,this.pointCount),this.pointVAO.unbind())},D.pick=function(q){if(!q||q.id!==this.pickId)return null;for(var ee=q.value[0]+256*q.value[1]+65536*q.value[2],K=this.cells[ee],J=this.positions,Z=new Array(K.length),$=0;$<K.length;++$)Z[$]=J[K[$]];var ne=q.coord[0],ae=q.coord[1];if(!this.pickVertex){var oe=this.positions[K[0]],se=this.positions[K[1]],ce=this.positions[K[2]],me=[(oe[0]+se[0]+ce[0])/3,(oe[1]+se[1]+ce[1])/3,(oe[2]+se[2]+ce[2])/3];return{_cellCenter:!0,position:[ne,ae],index:ee,cell:K,cellId:ee,intensity:this.intensity[ee],dataCoordinate:me}}var xe=g(Z,[ne*this.pixelRatio,this._resolution[1]-ae*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!xe)return null;var ve=xe[2],fe=0;for($=0;$<K.length;++$)fe+=ve[$]*this.intensity[K[$]];return{position:xe[1],index:K[xe[0]],cell:K,cellId:ee,intensity:fe,dataCoordinate:this.positions[K[xe[0]]]}},D.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},f.exports=function(q,ee){arguments.length===1&&(q=(ee=q).gl);var K=q.getExtension("OES_standard_derivatives")||q.getExtension("MOZ_OES_standard_derivatives")||q.getExtension("WEBKIT_OES_standard_derivatives");if(!K)throw new Error("derivatives not supported");var J=V(q),Z=F(q),$=W(q),ne=B(q),ae=U(q),oe=H(q),se=r(q,h(new Uint8Array([255,255,255,255]),[1,1,4]));se.generateMipmap(),se.minFilter=q.LINEAR_MIPMAP_LINEAR,se.magFilter=q.LINEAR;var ce=o(q),me=o(q),xe=o(q),ve=o(q),fe=o(q),pe=n(q,[{buffer:ce,type:q.FLOAT,size:3},{buffer:fe,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:q.FLOAT,size:4},{buffer:xe,type:q.FLOAT,size:2},{buffer:ve,type:q.FLOAT,size:3}]),Le=o(q),ye=o(q),Ae=o(q),Me=o(q),ke=n(q,[{buffer:Le,type:q.FLOAT,size:3},{buffer:Me,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:q.FLOAT,size:4},{buffer:Ae,type:q.FLOAT,size:2}]),te=o(q),ue=o(q),ge=o(q),we=o(q),Ee=o(q),Be=n(q,[{buffer:te,type:q.FLOAT,size:3},{buffer:Ee,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:q.FLOAT,size:4},{buffer:ge,type:q.FLOAT,size:2},{buffer:we,type:q.FLOAT,size:1}]),Re=o(q),je=n(q,[{buffer:Re,type:q.FLOAT,size:3}]),he=new P(q,se,J,Z,$,ne,ae,oe,ce,fe,me,xe,ve,pe,Le,Me,ye,Ae,ke,te,Ee,ue,ge,we,Be,Re,je);return he.update(ee),he}},4554:function(f,l,t){"use strict";f.exports=function(h){var _=h.gl;return new r(h,s(_,[0,0,0,1,1,0,1,1]),o(_,n.boxVert,n.lineFrag))};var s=t(5827),o=t(5158),n=t(2709);function r(h,_,m){this.plot=h,this.vbo=_,this.shader=m}var i,u,p=r.prototype;p.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},p.drawBox=(i=[0,0],u=[0,0],function(h,_,m,d,x){var g=this.plot,v=this.shader,T=g.gl;i[0]=h,i[1]=_,u[0]=m,u[1]=d,v.uniforms.lo=i,v.uniforms.hi=u,v.uniforms.color=x,T.drawArrays(T.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(f,l,t){"use strict";f.exports=function(g){var v=g.gl;return new i(g,s(v),o(v,r.gridVert,r.gridFrag),o(v,r.tickVert,r.gridFrag))};var s=t(5827),o=t(5158),n=t(5070),r=t(2709);function i(g,v,T,c){this.plot=g,this.vbo=v,this.shader=T,this.tickShader=c,this.ticks=[[],[]]}function u(g,v){return g-v}var p,h,_,m,d,x=i.prototype;x.draw=(p=[0,0],h=[0,0],_=[0,0],function(){for(var g=this.plot,v=this.vbo,T=this.shader,c=this.ticks,E=g.gl,A=g._tickBounds,C=g.dataBox,O=g.viewBox,P=g.gridLineWidth,D=g.gridLineColor,z=g.gridLineEnable,V=g.pixelRatio,F=0;F<2;++F){var W=A[F],B=A[F+2]-W,U=.5*(C[F+2]+C[F]),H=C[F+2]-C[F];h[F]=2*B/H,p[F]=2*(W-U)/H}T.bind(),v.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=p,T.uniforms.dataScale=h;var q=0;for(F=0;F<2;++F){_[0]=_[1]=0,_[F]=1,T.uniforms.dataAxis=_,T.uniforms.lineWidth=P[F]/(O[F+2]-O[F])*V,T.uniforms.color=D[F];var ee=6*c[F].length;z[F]&&ee&&E.drawArrays(E.TRIANGLES,q,ee),q+=ee}}),x.drawTickMarks=function(){var g=[0,0],v=[0,0],T=[1,0],c=[0,1],E=[0,0],A=[0,0];return function(){for(var C=this.plot,O=this.vbo,P=this.tickShader,D=this.ticks,z=C.gl,V=C._tickBounds,F=C.dataBox,W=C.viewBox,B=C.pixelRatio,U=C.screenBox,H=U[2]-U[0],q=U[3]-U[1],ee=W[2]-W[0],K=W[3]-W[1],J=0;J<2;++J){var Z=V[J],$=V[J+2]-Z,ne=.5*(F[J+2]+F[J]),ae=F[J+2]-F[J];v[J]=2*$/ae,g[J]=2*(Z-ne)/ae}v[0]*=ee/H,g[0]*=ee/H,v[1]*=K/q,g[1]*=K/q,P.bind(),O.bind(),P.attributes.dataCoord.pointer();var oe=P.uniforms;oe.dataShift=g,oe.dataScale=v;var se=C.tickMarkLength,ce=C.tickMarkWidth,me=C.tickMarkColor,xe=6*D[0].length,ve=Math.min(n.ge(D[0],(F[0]-V[0])/(V[2]-V[0]),u),D[0].length),fe=Math.min(n.gt(D[0],(F[2]-V[0])/(V[2]-V[0]),u),D[0].length),pe=0+6*ve,Le=6*Math.max(0,fe-ve),ye=Math.min(n.ge(D[1],(F[1]-V[1])/(V[3]-V[1]),u),D[1].length),Ae=Math.min(n.gt(D[1],(F[3]-V[1])/(V[3]-V[1]),u),D[1].length),Me=xe+6*ye,ke=6*Math.max(0,Ae-ye);E[0]=2*(W[0]-se[1])/H-1,E[1]=(W[3]+W[1])/q-1,A[0]=se[1]*B/H,A[1]=ce[1]*B/q,ke&&(oe.color=me[1],oe.tickScale=A,oe.dataAxis=c,oe.screenOffset=E,z.drawArrays(z.TRIANGLES,Me,ke)),E[0]=(W[2]+W[0])/H-1,E[1]=2*(W[1]-se[0])/q-1,A[0]=ce[0]*B/H,A[1]=se[0]*B/q,Le&&(oe.color=me[0],oe.tickScale=A,oe.dataAxis=T,oe.screenOffset=E,z.drawArrays(z.TRIANGLES,pe,Le)),E[0]=2*(W[2]+se[3])/H-1,E[1]=(W[3]+W[1])/q-1,A[0]=se[3]*B/H,A[1]=ce[3]*B/q,ke&&(oe.color=me[3],oe.tickScale=A,oe.dataAxis=c,oe.screenOffset=E,z.drawArrays(z.TRIANGLES,Me,ke)),E[0]=(W[2]+W[0])/H-1,E[1]=2*(W[3]+se[2])/q-1,A[0]=ce[2]*B/H,A[1]=se[2]*B/q,Le&&(oe.color=me[2],oe.tickScale=A,oe.dataAxis=T,oe.screenOffset=E,z.drawArrays(z.TRIANGLES,pe,Le))}}(),x.update=(m=[1,1,-1,-1,1,-1],d=[1,-1,1,1,-1,-1],function(g){for(var v=g.ticks,T=g.bounds,c=new Float32Array(18*(v[0].length+v[1].length)),E=(this.plot.zeroLineEnable,0),A=[[],[]],C=0;C<2;++C)for(var O=A[C],P=v[C],D=T[C],z=T[C+2],V=0;V<P.length;++V){var F=(P[V].x-D)/(z-D);O.push(F);for(var W=0;W<6;++W)c[E++]=F,c[E++]=m[W],c[E++]=d[W]}this.ticks=A,this.vbo.update(c)}),x.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(f,l,t){"use strict";f.exports=function(h){var _=h.gl;return new r(h,s(_,[-1,-1,-1,1,1,-1,1,1]),o(_,n.lineVert,n.lineFrag))};var s=t(5827),o=t(5158),n=t(2709);function r(h,_,m){this.plot=h,this.vbo=_,this.shader=m}var i,u,p=r.prototype;p.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},p.drawLine=(i=[0,0],u=[0,0],function(h,_,m,d,x,g){var v=this.plot,T=this.shader,c=v.gl;i[0]=h,i[1]=_,u[0]=m,u[1]=d,T.uniforms.start=i,T.uniforms.end=u,T.uniforms.width=x*v.pixelRatio,T.uniforms.color=g,c.drawArrays(c.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(f,l,t){"use strict";var s=t(6832),o=s([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);f.exports={lineVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:o,textVert:s([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:o,gridVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:o,boxVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(f,l,t){"use strict";f.exports=function(v){var T=v.gl;return new u(v,s(T),o(T,i.textVert,i.textFrag))};var s=t(5827),o=t(5158),n=t(6946),r=t(5070),i=t(2709);function u(v,T,c){this.plot=v,this.vbo=T,this.shader=c,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var p,h,_,m,d,x,g=u.prototype;g.drawTicks=(p=[0,0],h=[0,0],_=[0,0],function(v){var T=this.plot,c=this.shader,E=this.tickX[v],A=this.tickOffset[v],C=T.gl,O=T.viewBox,P=T.dataBox,D=T.screenBox,z=T.pixelRatio,V=T.tickEnable,F=T.tickPad,W=T.tickColor,B=T.tickAngle,U=T.labelEnable,H=T.labelPad,q=T.labelColor,ee=T.labelAngle,K=this.labelOffset[v],J=this.labelCount[v],Z=r.lt(E,P[v]),$=r.le(E,P[v+2]);p[0]=p[1]=0,p[v]=1,h[v]=(O[2+v]+O[v])/(D[2+v]-D[v])-1;var ne=2/D[2+(1^v)]-D[1^v];h[1^v]=ne*O[1^v]-1,V[v]&&(h[1^v]-=ne*z*F[v],Z<$&&A[$]>A[Z]&&(c.uniforms.dataAxis=p,c.uniforms.screenOffset=h,c.uniforms.color=W[v],c.uniforms.angle=B[v],C.drawArrays(C.TRIANGLES,A[Z],A[$]-A[Z]))),U[v]&&J&&(h[1^v]-=ne*z*H[v],c.uniforms.dataAxis=_,c.uniforms.screenOffset=h,c.uniforms.color=q[v],c.uniforms.angle=ee[v],C.drawArrays(C.TRIANGLES,K,J)),h[1^v]=ne*O[2+(1^v)]-1,V[v+2]&&(h[1^v]+=ne*z*F[v+2],Z<$&&A[$]>A[Z]&&(c.uniforms.dataAxis=p,c.uniforms.screenOffset=h,c.uniforms.color=W[v+2],c.uniforms.angle=B[v+2],C.drawArrays(C.TRIANGLES,A[Z],A[$]-A[Z]))),U[v+2]&&J&&(h[1^v]+=ne*z*H[v+2],c.uniforms.dataAxis=_,c.uniforms.screenOffset=h,c.uniforms.color=q[v+2],c.uniforms.angle=ee[v+2],C.drawArrays(C.TRIANGLES,K,J))}),g.drawTitle=function(){var v=[0,0],T=[0,0];return function(){var c=this.plot,E=this.shader,A=c.gl,C=c.screenBox,O=c.titleCenter,P=c.titleAngle,D=c.titleColor,z=c.pixelRatio;if(this.titleCount){for(var V=0;V<2;++V)T[V]=2*(O[V]*z-C[V])/(C[2+V]-C[V])-1;E.bind(),E.uniforms.dataAxis=v,E.uniforms.screenOffset=T,E.uniforms.angle=P,E.uniforms.color=D,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=(m=[0,0],d=[0,0],x=[0,0],function(){var v=this.plot,T=this.shader,c=v._tickBounds,E=v.dataBox,A=v.screenBox,C=v.viewBox;T.bind();for(var O=0;O<2;++O){var P=c[O],D=c[O+2]-P,z=.5*(E[O+2]+E[O]),V=E[O+2]-E[O],F=C[O],W=C[O+2]-F,B=A[O],U=A[O+2]-B;d[O]=2*D/V*W/U,m[O]=2*(P-z)/V*W/U}x[1]=2*v.pixelRatio/(A[3]-A[1]),x[0]=x[1]*(A[3]-A[1])/(A[2]-A[0]),T.uniforms.dataScale=d,T.uniforms.dataShift=m,T.uniforms.textScale=x,this.vbo.bind(),T.attributes.textCoordinate.pointer()}),g.update=function(v){var T,c,E,A,C,O=[],P=v.ticks,D=v.bounds;for(C=0;C<2;++C){var z=[Math.floor(O.length/3)],V=[-1/0],F=P[C];for(T=0;T<F.length;++T){var W=F[T],B=W.x,U=W.text,H=W.font||"sans-serif";A=W.fontSize||12;for(var q=1/(D[C+2]-D[C]),ee=D[C],K=U.split(`
`),J=0;J<K.length;J++)for(E=n(H,K[J]).data,c=0;c<E.length;c+=2)O.push(E[c]*A,-E[c+1]*A-J*A*1.2,(B-ee)*q);z.push(Math.floor(O.length/3)),V.push(B)}this.tickOffset[C]=z,this.tickX[C]=V}for(C=0;C<2;++C){for(this.labelOffset[C]=Math.floor(O.length/3),E=n(v.labelFont[C],v.labels[C],{textAlign:"center"}).data,A=v.labelSize[C],T=0;T<E.length;T+=2)O.push(E[T]*A,-E[T+1]*A,0);this.labelCount[C]=Math.floor(O.length/3)-this.labelOffset[C]}for(this.titleOffset=Math.floor(O.length/3),E=n(v.titleFont,v.title).data,A=v.titleSize,T=0;T<E.length;T+=2)O.push(E[T]*A,-E[T+1]*A,0);this.titleCount=Math.floor(O.length/3)-this.titleOffset,this.vbo.update(O)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(f,l,t){"use strict";f.exports=function(m){var d=m.gl,x=new u(d,s(d,[d.drawingBufferWidth,d.drawingBufferHeight]));return x.grid=o(x),x.text=n(x),x.line=r(x),x.box=i(x),x.update(m),x};var s=t(2611),o=t(3016),n=t(5613),r=t(1154),i=t(4554);function u(m,d){this.gl=m,this.pickBuffer=d,this.screenBox=[0,0,m.drawingBufferWidth,m.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var p=u.prototype;function h(m){for(var d=m.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function _(m,d){return m.x-d.x}p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){var m=this.gl,d=this.screenBox,x=this.viewBox,g=this.dataBox,v=this.pixelRatio,T=this.grid,c=this.line,E=this.text,A=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,m.bindFramebuffer(m.FRAMEBUFFER,null),m.enable(m.SCISSOR_TEST),m.disable(m.DEPTH_TEST),m.depthFunc(m.LESS),m.depthMask(!1),m.enable(m.BLEND),m.blendEquation(m.FUNC_ADD,m.FUNC_ADD),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),this.borderColor){m.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var C=this.borderColor;m.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT)}m.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),m.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var O=this.backgroundColor;m.clearColor(O[0]*O[3],O[1]*O[3],O[2]*O[3],O[3]),m.clear(m.COLOR_BUFFER_BIT),T.draw();var P=this.zeroLineEnable,D=this.zeroLineColor,z=this.zeroLineWidth;if(P[0]||P[1]){c.bind();for(var V=0;V<2;++V)if(P[V]&&g[V]<=0&&g[V+2]>=0){var F=d[V]-g[V]*(d[V+2]-d[V])/(g[V+2]-g[V]);V===0?c.drawLine(F,d[1],F,d[3],z[V],D[V]):c.drawLine(d[0],F,d[2],F,z[V],D[V])}}for(V=0;V<A.length;++V)A[V].draw();m.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),m.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),c.bind();var W=this.borderLineEnable,B=this.borderLineWidth,U=this.borderLineColor;for(W[1]&&c.drawLine(x[0],x[1]-.5*B[1]*v,x[0],x[3]+.5*B[3]*v,B[1],U[1]),W[0]&&c.drawLine(x[0]-.5*B[0]*v,x[1],x[2]+.5*B[2]*v,x[1],B[0],U[0]),W[3]&&c.drawLine(x[2],x[1]-.5*B[1]*v,x[2],x[3]+.5*B[3]*v,B[3],U[3]),W[2]&&c.drawLine(x[0]-.5*B[0]*v,x[3],x[2]+.5*B[2]*v,x[3],B[2],U[2]),E.bind(),V=0;V<2;++V)E.drawTicks(V);this.titleEnable&&E.drawTitle();var H=this.overlays;for(V=0;V<H.length;++V)H[V].draw();m.disable(m.SCISSOR_TEST),m.disable(m.BLEND),m.depthMask(!0)}},p.drawPick=function(){if(!this.static){var m=this.pickBuffer;this.gl,this._pickTimeout=null,m.begin();for(var d=1,x=this.objects,g=0;g<x.length;++g)d=x[g].drawPick(d);m.end()}},p.pick=function(m,d){if(!this.static){var x=this.pixelRatio,g=this.pickPixelRatio,v=this.viewBox,T=0|Math.round((m-v[0]/x)*g),c=0|Math.round((d-v[1]/x)*g),E=this.pickBuffer.query(T,c,this.pickRadius);if(!E)return null;for(var A=E.id+(E.value[0]<<8)+(E.value[1]<<16)+(E.value[2]<<24),C=this.objects,O=0;O<C.length;++O){var P=C[O].pick(T,c,A);if(P)return P}return null}},p.setScreenBox=function(m){var d=this.screenBox,x=this.pixelRatio;d[0]=0|Math.round(m[0]*x),d[1]=0|Math.round(m[1]*x),d[2]=0|Math.round(m[2]*x),d[3]=0|Math.round(m[3]*x),this.setDirty()},p.setDataBox=function(m){var d=this.dataBox;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3])&&(d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],this.setDirty())},p.setViewBox=function(m){var d=this.pixelRatio,x=this.viewBox;x[0]=0|Math.round(m[0]*d),x[1]=0|Math.round(m[1]*d),x[2]=0|Math.round(m[2]*d),x[3]=0|Math.round(m[3]*d);var g=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((m[2]-m[0])*g),0|Math.round((m[3]-m[1])*g)],this.setDirty()},p.update=function(m){m=m||{};var d=this.gl;this.pixelRatio=m.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(m.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(m.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var g=this.viewBox,v=(g[2]-g[0])/(g[3]-g[1]);this.setDataBox(m.dataBox||[-10,-10/v,10,10/v]),this.borderColor=m.borderColor!==!1&&(m.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(m.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(m.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(m.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(m.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(m.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(m.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(m.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(m.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(m.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(m.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(m.titleCenter||[.5*(g[0]+g[2])/x,(g[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in m)||!!m.titleEnable,this.titleAngle=m.titleAngle||0,this.titleColor=(m.titleColor||[0,0,0,1]).slice(),this.labelPad=(m.labelPad||[15,15,15,15]).slice(),this.labelAngle=(m.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(m.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(m.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(m.tickPad||[15,15,15,15]).slice(),this.tickAngle=(m.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(m.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(m.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(m.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(m.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(m.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=m.ticks||[[],[]],c=this._tickBounds;c[0]=c[1]=1/0,c[2]=c[3]=-1/0;for(var E=0;E<2;++E){var A=T[E].slice(0);A.length!==0&&(A.sort(_),c[E]=Math.min(c[E],A[0].x),c[E+2]=Math.max(c[E+2],A[A.length-1].x))}this.grid.update({bounds:c,ticks:T}),this.text.update({bounds:c,ticks:T,labels:m.labels||["x","y"],labelSize:m.labelSize||[12,12],labelFont:m.labelFont||["sans-serif","sans-serif"],title:m.title||"",titleSize:m.titleSize||18,titleFont:m.titleFont||"sans-serif"}),this.static=!!m.static,this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var m=this.objects.length-1;m>=0;--m)this.objects[m].dispose();for(this.objects.length=0,m=this.overlays.length-1;m>=0;--m)this.overlays[m].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(m){this.objects.indexOf(m)<0&&(this.objects.push(m),this.setDirty())},p.removeObject=function(m){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===m){d.splice(x,1),this.setDirty();break}},p.addOverlay=function(m){this.overlays.indexOf(m)<0&&(this.overlays.push(m),this.setOverlayDirty())},p.removeOverlay=function(m){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===m){d.splice(x,1),this.setOverlayDirty();break}}},4296:function(f,l,t){"use strict";f.exports=function(p,h){p=p||document.body;var _=[.01,1/0];"distanceLimits"in(h=h||{})&&(_[0]=h.distanceLimits[0],_[1]=h.distanceLimits[1]),"zoomMin"in h&&(_[0]=h.zoomMin),"zoomMax"in h&&(_[1]=h.zoomMax);var m=o({center:h.center||[0,0,0],up:h.up||[0,1,0],eye:h.eye||[0,0,10],mode:h.mode||"orbit",distanceLimits:_}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,g=p.clientWidth,v=p.clientHeight,T={keyBindingMode:"rotate",enableWheel:!0,view:m,element:p,delay:h.delay||16,rotateSpeed:h.rotateSpeed||1,zoomSpeed:h.zoomSpeed||1,translateSpeed:h.translateSpeed||1,flipX:!!h.flipX,flipY:!!h.flipY,modes:m.modes,_ortho:h._ortho||h.projection&&h.projection.type==="orthographic"||!1,tick:function(){var c=s(),E=this.delay,A=c-2*E;m.idle(c-E),m.recalcMatrix(A),m.flush(c-(100+2*E));for(var C=!0,O=m.computedMatrix,P=0;P<16;++P)C=C&&d[P]===O[P],d[P]=O[P];var D=p.clientWidth===g&&p.clientHeight===v;return g=p.clientWidth,v=p.clientHeight,C?!D:(x=Math.exp(m.computedRadius[0]),!0)},lookAt:function(c,E,A){m.lookAt(m.lastT(),c,E,A)},rotate:function(c,E,A){m.rotate(m.lastT(),c,E,A)},pan:function(c,E,A){m.pan(m.lastT(),c,E,A)},translate:function(c,E,A){m.translate(m.lastT(),c,E,A)}};return Object.defineProperties(T,{matrix:{get:function(){return m.computedMatrix},set:function(c){return m.setMatrix(m.lastT(),c),m.computedMatrix},enumerable:!0},mode:{get:function(){return m.getMode()},set:function(c){var E=m.computedUp.slice(),A=m.computedEye.slice(),C=m.computedCenter.slice();if(m.setMode(c),c==="turntable"){var O=s();m._active.lookAt(O,A,C,E),m._active.lookAt(O+500,A,C,[0,0,1]),m._active.flush(O)}return m.getMode()},enumerable:!0},center:{get:function(){return m.computedCenter},set:function(c){return m.lookAt(m.lastT(),null,c),m.computedCenter},enumerable:!0},eye:{get:function(){return m.computedEye},set:function(c){return m.lookAt(m.lastT(),c),m.computedEye},enumerable:!0},up:{get:function(){return m.computedUp},set:function(c){return m.lookAt(m.lastT(),null,null,c),m.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(c){return m.setDistance(m.lastT(),c),c},enumerable:!0},distanceLimits:{get:function(){return m.getDistanceLimits(_)},set:function(c){return m.setDistanceLimits(c),c},enumerable:!0}}),p.addEventListener("contextmenu",function(c){return c.preventDefault(),!1}),T._lastX=-1,T._lastY=-1,T._lastMods={shift:!1,control:!1,alt:!1,meta:!1},T.enableMouseListeners=function(){function c(E,A,C,O){var P=T.keyBindingMode;if(P!==!1){var D=P==="rotate",z=P==="pan",V=P==="zoom",F=!!O.control,W=!!O.alt,B=!!O.shift,U=!!(1&E),H=!!(2&E),q=!!(4&E),ee=1/p.clientHeight,K=ee*(A-T._lastX),J=ee*(C-T._lastY),Z=T.flipX?1:-1,$=T.flipY?1:-1,ne=Math.PI*T.rotateSpeed,ae=s();if(T._lastX!==-1&&T._lastY!==-1&&((D&&U&&!F&&!W&&!B||U&&!F&&!W&&B)&&m.rotate(ae,Z*ne*K,-$*ne*J,0),(z&&U&&!F&&!W&&!B||H||U&&F&&!W&&!B)&&m.pan(ae,-T.translateSpeed*K*x,T.translateSpeed*J*x,0),V&&U&&!F&&!W&&!B||q||U&&!F&&W&&!B)){var oe=-T.zoomSpeed*J/window.innerHeight*(ae-m.lastT())*100;m.pan(ae,0,0,x*(Math.exp(oe)-1))}return T._lastX=A,T._lastY=C,T._lastMods=O,!0}}T.mouseListener=n(p,c),p.addEventListener("touchstart",function(E){var A=i(E.changedTouches[0],p);c(0,A[0],A[1],T._lastMods),c(1,A[0],A[1],T._lastMods)},!!u&&{passive:!0}),p.addEventListener("touchmove",function(E){var A=i(E.changedTouches[0],p);c(1,A[0],A[1],T._lastMods),E.preventDefault()},!!u&&{passive:!1}),p.addEventListener("touchend",function(E){c(0,T._lastX,T._lastY,T._lastMods)},!!u&&{passive:!0}),T.wheelListener=r(p,function(E,A){if(T.keyBindingMode!==!1&&T.enableWheel){var C=T.flipX?1:-1,O=T.flipY?1:-1,P=s();if(Math.abs(E)>Math.abs(A))m.rotate(P,0,0,-E*C*Math.PI*T.rotateSpeed/window.innerWidth);else if(!T._ortho){var D=-T.zoomSpeed*O*A/window.innerHeight*(P-m.lastT())/20;m.pan(P,0,0,x*(Math.exp(D)-1))}}},!0)},T.enableMouseListeners(),T};var s=t(8161),o=t(1152),n=t(6145),r=t(6475),i=t(2565),u=t(5233)},8245:function(f,l,t){var s=t(6832),o=t(5158),n=s([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),r=s([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);f.exports=function(i){return o(i,n,r,null,[{name:"position",type:"vec2"}])}},1059:function(f,l,t){"use strict";var s=t(4296),o=t(7453),n=t(2771),r=t(6496),i=t(2611),u=t(4234),p=t(8126),h=t(6145),_=t(1120),m=t(5268),d=t(8245),x=t(2321)({tablet:!0,featureDetect:!0});function g(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function v(c){var E=Math.round(Math.log(Math.abs(c))/Math.log(10));if(E<0){var A=Math.round(Math.pow(10,-E));return Math.ceil(c*A)/A}return E>0?(A=Math.round(Math.pow(10,E)),Math.ceil(c/A)*A):Math.ceil(c)}function T(c){return typeof c!="boolean"||c}f.exports={createScene:function(c){(c=c||{}).camera=c.camera||{};var E=c.canvas;E||(E=document.createElement("canvas"),c.container?c.container.appendChild(E):document.body.appendChild(E));var A=c.gl;if(A||(c.glOptions&&(x=!!c.glOptions.preserveDrawingBuffer),A=function(Le,ye){var Ae=null;try{(Ae=Le.getContext("webgl",ye))||(Ae=Le.getContext("experimental-webgl",ye))}catch{return null}return Ae}(E,c.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:x})),!A)throw new Error("webgl not supported");var C=c.bounds||[[-10,-10,-10],[10,10,10]],O=new g,P=u(A,A.drawingBufferWidth,A.drawingBufferHeight,{preferFloat:!x}),D=d(A),z=c.cameraObject&&c.cameraObject._ortho===!0||c.camera.projection&&c.camera.projection.type==="orthographic"||!1,V={eye:c.camera.eye||[2,0,0],center:c.camera.center||[0,0,0],up:c.camera.up||[0,1,0],zoomMin:c.camera.zoomMax||.1,zoomMax:c.camera.zoomMin||100,mode:c.camera.mode||"turntable",_ortho:z},F=c.axes||{},W=o(A,F);W.enable=!F.disable;var B=c.spikes||{},U=r(A,B),H=[],q=[],ee=[],K=[],J=!0,Z=!0,$={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},ne=(Z=!0,[A.drawingBufferWidth,A.drawingBufferHeight]),ae=c.cameraObject||s(E,V),oe={gl:A,contextLost:!1,pixelRatio:c.pixelRatio||1,canvas:E,selection:O,camera:ae,axes:W,axesPixels:null,spikes:U,bounds:C,objects:H,shape:ne,aspect:c.aspectRatio||[1,1,1],pickRadius:c.pickRadius||10,zNear:c.zNear||.01,zFar:c.zFar||1e3,fovy:c.fovy||Math.PI/4,clearColor:c.clearColor||[0,0,0,0],autoResize:T(c.autoResize),autoBounds:T(c.autoBounds),autoScale:!!c.autoScale,autoCenter:T(c.autoCenter),clipToBounds:T(c.clipToBounds),snapToData:!!c.snapToData,onselect:c.onselect||null,onrender:c.onrender||null,onclick:c.onclick||null,cameraParams:$,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Le){this.aspect[0]=Le.x,this.aspect[1]=Le.y,this.aspect[2]=Le.z,Z=!0},setBounds:function(Le,ye){this.bounds[0][Le]=ye.min,this.bounds[1][Le]=ye.max},setClearColor:function(Le){this.clearColor=Le},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},se=[A.drawingBufferWidth/oe.pixelRatio|0,A.drawingBufferHeight/oe.pixelRatio|0];function ce(){if(!oe._stopped&&oe.autoResize){var Le=E.parentNode,ye=1,Ae=1;Le&&Le!==document.body?(ye=Le.clientWidth,Ae=Le.clientHeight):(ye=window.innerWidth,Ae=window.innerHeight);var Me=0|Math.ceil(ye*oe.pixelRatio),ke=0|Math.ceil(Ae*oe.pixelRatio);if(Me!==E.width||ke!==E.height){E.width=Me,E.height=ke;var te=E.style;te.position=te.position||"absolute",te.left="0px",te.top="0px",te.width=ye+"px",te.height=Ae+"px",J=!0}}}function me(){for(var Le=H.length,ye=K.length,Ae=0;Ae<ye;++Ae)ee[Ae]=0;e:for(Ae=0;Ae<Le;++Ae){var Me=H[Ae],ke=Me.pickSlots;if(ke){for(var te=0;te<ye;++te)if(ee[te]+ke<255){q[Ae]=te,Me.setPickBase(ee[te]+1),ee[te]+=ke;continue e}var ue=i(A,ne);q[Ae]=ye,K.push(ue),ee.push(ke),Me.setPickBase(1),ye+=1}else q[Ae]=-1}for(;ye>0&&ee[ye-1]===0;)ee.pop(),K.pop().dispose()}function xe(){if(oe.contextLost)return!0;A.isContextLost()&&(oe.contextLost=!0,oe.mouseListener.enabled=!1,oe.selection.object=null,oe.oncontextloss&&oe.oncontextloss())}oe.autoResize&&ce(),window.addEventListener("resize",ce),oe.update=function(Le){oe._stopped||(Le=Le||{},J=!0,Z=!0)},oe.add=function(Le){oe._stopped||(Le.axes=W,H.push(Le),q.push(-1),J=!0,Z=!0,me())},oe.remove=function(Le){if(!oe._stopped){var ye=H.indexOf(Le);ye<0||(H.splice(ye,1),q.pop(),J=!0,Z=!0,me())}},oe.dispose=function(){if(!oe._stopped&&(oe._stopped=!0,window.removeEventListener("resize",ce),E.removeEventListener("webglcontextlost",xe),oe.mouseListener.enabled=!1,!oe.contextLost)){W.dispose(),U.dispose();for(var Le=0;Le<H.length;++Le)H[Le].dispose();for(P.dispose(),Le=0;Le<K.length;++Le)K[Le].dispose();D.dispose(),A=null,W=null,U=null,H=[]}},oe._mouseRotating=!1,oe._prevButtons=0,oe.enableMouseListeners=function(){oe.mouseListener=h(E,function(Le,ye,Ae){if(!oe._stopped){var Me=K.length,ke=H.length,te=O.object;O.distance=1/0,O.mouse[0]=ye,O.mouse[1]=Ae,O.object=null,O.screen=null,O.dataCoordinate=O.dataPosition=null;var ue=!1;if(Le&&oe._prevButtons)oe._mouseRotating=!0;else{oe._mouseRotating&&(Z=!0),oe._mouseRotating=!1;for(var ge=0;ge<Me;++ge){var we=K[ge].query(ye,se[1]-Ae-1,oe.pickRadius);if(we){if(we.distance>O.distance)continue;for(var Ee=0;Ee<ke;++Ee){var Be=H[Ee];if(q[Ee]===ge){var Re=Be.pick(we);Re&&(O.buttons=Le,O.screen=we.coord,O.distance=we.distance,O.object=Be,O.index=Re.distance,O.dataPosition=Re.position,O.dataCoordinate=Re.dataCoordinate,O.data=Re,ue=!0)}}}}}te&&te!==O.object&&(te.highlight&&te.highlight(null),J=!0),O.object&&(O.object.highlight&&O.object.highlight(O.data),J=!0),(ue=ue||O.object!==te)&&oe.onselect&&oe.onselect(O),1&Le&&!(1&oe._prevButtons)&&oe.onclick&&oe.onclick(O),oe._prevButtons=Le}})},E.addEventListener("webglcontextlost",xe);var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],fe=[ve[0].slice(),ve[1].slice()];function pe(){if(!xe()){ce();var Le=oe.camera.tick();$.view=oe.camera.matrix,J=J||Le,Z=Z||Le,W.pixelRatio=oe.pixelRatio,U.pixelRatio=oe.pixelRatio;var ye=H.length,Ae=ve[0],Me=ve[1];Ae[0]=Ae[1]=Ae[2]=1/0,Me[0]=Me[1]=Me[2]=-1/0;for(var ke=0;ke<ye;++ke){(Fe=H[ke]).pixelRatio=oe.pixelRatio,Fe.axes=oe.axes,J=J||!!Fe.dirty,Z=Z||!!Fe.dirty;var te=Fe.bounds;if(te)for(var ue=te[0],ge=te[1],we=0;we<3;++we)Ae[we]=Math.min(Ae[we],ue[we]),Me[we]=Math.max(Me[we],ge[we])}var Ee=oe.bounds;if(oe.autoBounds)for(we=0;we<3;++we){if(Me[we]<Ae[we])Ae[we]=-1,Me[we]=1;else{Ae[we]===Me[we]&&(Ae[we]-=1,Me[we]+=1);var Be=.05*(Me[we]-Ae[we]);Ae[we]=Ae[we]-Be,Me[we]=Me[we]+Be}Ee[0][we]=Ae[we],Ee[1][we]=Me[we]}var Re=!1;for(we=0;we<3;++we)Re=Re||fe[0][we]!==Ee[0][we]||fe[1][we]!==Ee[1][we],fe[0][we]=Ee[0][we],fe[1][we]=Ee[1][we];if(Z=Z||Re,J=J||Re){if(Re){var je=[0,0,0];for(ke=0;ke<3;++ke)je[ke]=v((Ee[1][ke]-Ee[0][ke])/10);W.autoTicks?W.update({bounds:Ee,tickSpacing:je}):W.update({bounds:Ee})}var he=A.drawingBufferWidth,_e=A.drawingBufferHeight;for(ne[0]=he,ne[1]=_e,se[0]=0|Math.max(he/oe.pixelRatio,1),se[1]=0|Math.max(_e/oe.pixelRatio,1),function(Ye,Ge){var ot=Ye.bounds,st=Ye.cameraParams,ht=st.projection,xt=st.model,Ct=Ye.gl.drawingBufferWidth,St=Ye.gl.drawingBufferHeight,kt=Ye.zNear,Nt=Ye.zFar,Dt=Ye.fovy,Et=Ct/St;Ge?(m(ht,-Et,Et,-1,1,kt,Nt),st._ortho=!0):(_(ht,Dt,Et,kt,Nt),st._ortho=!1);for(var Wt=0;Wt<16;++Wt)xt[Wt]=0;xt[15]=1;var Ht=0;for(Wt=0;Wt<3;++Wt)Ht=Math.max(Ht,ot[1][Wt]-ot[0][Wt]);for(Wt=0;Wt<3;++Wt)Ye.autoScale?xt[5*Wt]=Ye.aspect[Wt]/(ot[1][Wt]-ot[0][Wt]):xt[5*Wt]=1/Ht,Ye.autoCenter&&(xt[12+Wt]=.5*-xt[5*Wt]*(ot[0][Wt]+ot[1][Wt]))}(oe,z),ke=0;ke<ye;++ke)(Fe=H[ke]).axesBounds=Ee,oe.clipToBounds&&(Fe.clipBounds=Ee);O.object&&(oe.snapToData?U.position=O.dataCoordinate:U.position=O.dataPosition,U.bounds=Ee),Z&&(Z=!1,function(){if(!xe()){A.colorMask(!0,!0,!0,!0),A.depthMask(!0),A.disable(A.BLEND),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL);for(var Ye=H.length,Ge=K.length,ot=0;ot<Ge;++ot){var st=K[ot];st.shape=se,st.begin();for(var ht=0;ht<Ye;++ht)if(q[ht]===ot){var xt=H[ht];xt.drawPick&&(xt.pixelRatio=1,xt.drawPick($))}st.end()}}}()),oe.axesPixels=n(oe.axes,$,he,_e),oe.onrender&&oe.onrender(),A.bindFramebuffer(A.FRAMEBUFFER,null),A.viewport(0,0,he,_e),oe.clearRGBA(),A.depthMask(!0),A.colorMask(!0,!0,!0,!0),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL),A.disable(A.BLEND),A.disable(A.CULL_FACE);var Te=!1;for(W.enable&&(Te=Te||W.isTransparent(),W.draw($)),U.axes=W,O.object&&U.draw($),A.disable(A.CULL_FACE),ke=0;ke<ye;++ke)(Fe=H[ke]).axes=W,Fe.pixelRatio=oe.pixelRatio,Fe.isOpaque&&Fe.isOpaque()&&Fe.draw($),Fe.isTransparent&&Fe.isTransparent()&&(Te=!0);if(Te){for(P.shape=ne,P.bind(),A.clear(A.DEPTH_BUFFER_BIT),A.colorMask(!1,!1,!1,!1),A.depthMask(!0),A.depthFunc(A.LESS),W.enable&&W.isTransparent()&&W.drawTransparent($),ke=0;ke<ye;++ke)(Fe=H[ke]).isOpaque&&Fe.isOpaque()&&Fe.draw($);for(A.enable(A.BLEND),A.blendEquation(A.FUNC_ADD),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.colorMask(!0,!0,!0,!0),A.depthMask(!1),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent($),ke=0;ke<ye;++ke){var Fe;(Fe=H[ke]).isTransparent&&Fe.isTransparent()&&Fe.drawTransparent($)}A.bindFramebuffer(A.FRAMEBUFFER,null),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.disable(A.DEPTH_TEST),D.bind(),P.color[0].bind(0),D.uniforms.accumBuffer=0,p(A),A.disable(A.BLEND)}for(J=!1,ke=0;ke<ye;++ke)H[ke].dirty=!1}}}return oe.enableMouseListeners(),function Le(){oe._stopped||oe.contextLost||(pe(),requestAnimationFrame(Le))}(),oe.redraw=function(){oe._stopped||(J=!0,pe())},oe},createCamera:s}},8023:function(f,l,t){var s=t(6832);l.pointVertex=s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),l.pointFragment=s([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),l.pickVertex=s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),l.pickFragment=s([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(f,l,t){"use strict";var s=t(5158),o=t(5827),n=t(5306),r=t(8023);function i(_,m,d,x,g){this.plot=_,this.offsetBuffer=m,this.pickBuffer=d,this.shader=x,this.pickShader=g,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}f.exports=function(_,m){var d=_.gl,x=new i(_,o(d),o(d),s(d,r.pointVertex,r.pointFragment),s(d,r.pickVertex,r.pickFragment));return x.update(m),_.addObject(x),x};var u,p,h=i.prototype;h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},h.update=function(_){var m;function d(A,C){return A in _?_[A]:C}_=_||{},this.sizeMin=d("sizeMin",.5),this.sizeMax=d("sizeMax",20),this.color=d("color",[1,0,0,1]).slice(),this.areaRatio=d("areaRatio",1),this.borderColor=d("borderColor",[0,0,0,1]).slice(),this.blend=d("blend",!1);var x=_.positions.length>>>1,g=_.positions instanceof Float32Array,v=_.idToIndex instanceof Int32Array&&_.idToIndex.length>=x,T=_.positions,c=g?T:n.mallocFloat32(T.length),E=v?_.idToIndex:n.mallocInt32(x);if(g||c.set(T),!v)for(c.set(T),m=0;m<x;m++)E[m]=m;this.points=T,this.offsetBuffer.update(c),this.pickBuffer.update(E),g||n.free(c),v||n.free(E),this.pointCount=x,this.pickOffset=0},h.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(_){var m=_!==void 0,d=m?this.pickShader:this.shader,x=this.plot.gl,g=this.plot.dataBox;if(this.pointCount===0)return _;var v=g[2]-g[0],T=g[3]-g[1],c=function(O,P){var D,z=0,V=O.length>>>1;for(D=0;D<V;D++){var F=O[2*D],W=O[2*D+1];F>=P[0]&&F<=P[2]&&W>=P[1]&&W<=P[3]&&z++}return z}(this.points,g),E=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(c,.33333)));u[0]=2/v,u[4]=2/T,u[6]=-2*g[0]/v-1,u[7]=-2*g[1]/T-1,this.offsetBuffer.bind(),d.bind(),d.attributes.position.pointer(),d.uniforms.matrix=u,d.uniforms.color=this.color,d.uniforms.borderColor=this.borderColor,d.uniforms.pointCloud=E<5,d.uniforms.pointSize=E,d.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),m&&(p[0]=255&_,p[1]=_>>8&255,p[2]=_>>16&255,p[3]=_>>24&255,this.pickBuffer.bind(),d.attributes.pickId.pointer(x.UNSIGNED_BYTE),d.uniforms.pickOffset=p,this.pickOffset=_);var A=x.getParameter(x.BLEND),C=x.getParameter(x.DITHER);return A&&!this.blend&&x.disable(x.BLEND),C&&x.disable(x.DITHER),x.drawArrays(x.POINTS,0,this.pointCount),A&&!this.blend&&x.enable(x.BLEND),C&&x.enable(x.DITHER),_+this.pointCount}),h.draw=h.unifiedDraw,h.drawPick=h.unifiedDraw,h.pick=function(_,m,d){var x=this.pickOffset,g=this.pointCount;if(d<x||d>=x+g)return null;var v=d-x,T=this.points;return{object:this,pointId:v,dataCoord:[T[2*v],T[2*v+1]]}}},6093:function(f){f.exports=function(l,t,s,o){var n,r,i,u,p,h=t[0],_=t[1],m=t[2],d=t[3],x=s[0],g=s[1],v=s[2],T=s[3];return(r=h*x+_*g+m*v+d*T)<0&&(r=-r,x=-x,g=-g,v=-v,T=-T),1-r>1e-6?(n=Math.acos(r),i=Math.sin(n),u=Math.sin((1-o)*n)/i,p=Math.sin(o*n)/i):(u=1-o,p=o),l[0]=u*h+p*x,l[1]=u*_+p*g,l[2]=u*m+p*v,l[3]=u*d+p*T,l}},8240:function(f){"use strict";f.exports=function(l){return l||l===0?l.toString():""}},4123:function(f,l,t){"use strict";var s=t(875);f.exports=function(n,r,i){var u=o[r];if(u||(u=o[r]={}),n in u)return u[n];var p={textAlign:"center",textBaseline:"middle",lineHeight:1,font:r,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},h=s(n,p);p.triangles=!1;var _,m,d=s(n,p);if(i&&i!==1){for(_=0;_<h.positions.length;++_)for(m=0;m<h.positions[_].length;++m)h.positions[_][m]/=i;for(_=0;_<d.positions.length;++_)for(m=0;m<d.positions[_].length;++m)d.positions[_][m]/=i}var x=[[1/0,1/0],[-1/0,-1/0]],g=d.positions.length;for(_=0;_<g;++_){var v=d.positions[_];for(m=0;m<2;++m)x[0][m]=Math.min(x[0][m],v[m]),x[1][m]=Math.max(x[1][m],v[m])}return u[n]=[h,d,x]};var o={}},9282:function(f,l,t){var s=t(5158),o=t(6832),n=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),r=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),i=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),p=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],_={vertex:n,fragment:u,attributes:h},m={vertex:r,fragment:u,attributes:h},d={vertex:i,fragment:u,attributes:h},x={vertex:n,fragment:p,attributes:h},g={vertex:r,fragment:p,attributes:h},v={vertex:i,fragment:p,attributes:h};function T(c,E){var A=s(c,E),C=A.attributes;return C.position.location=0,C.color.location=1,C.glyph.location=2,C.id.location=3,A}l.createPerspective=function(c){return T(c,_)},l.createOrtho=function(c){return T(c,m)},l.createProject=function(c){return T(c,d)},l.createPickPerspective=function(c){return T(c,x)},l.createPickOrtho=function(c){return T(c,g)},l.createPickProject=function(c){return T(c,v)}},2182:function(f,l,t){"use strict";var s=t(3596),o=t(5827),n=t(2944),r=t(5306),i=t(104),u=t(9282),p=t(4123),h=t(8240),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(q,ee){var K=q[0],J=q[1],Z=q[2],$=q[3];return q[0]=ee[0]*K+ee[4]*J+ee[8]*Z+ee[12]*$,q[1]=ee[1]*K+ee[5]*J+ee[9]*Z+ee[13]*$,q[2]=ee[2]*K+ee[6]*J+ee[10]*Z+ee[14]*$,q[3]=ee[3]*K+ee[7]*J+ee[11]*Z+ee[15]*$,q}function d(q,ee,K,J){return m(J,J),m(J,J),m(J,J)}function x(q,ee){this.index=q,this.dataCoordinate=this.position=ee}function g(q){return q===!0||q>1?1:q}function v(q,ee,K,J,Z,$,ne,ae,oe,se,ce,me){this.gl=q,this.pixelRatio=1,this.shader=ee,this.orthoShader=K,this.projectShader=J,this.pointBuffer=Z,this.colorBuffer=$,this.glyphBuffer=ne,this.idBuffer=ae,this.vao=oe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=se,this.pickOrthoShader=ce,this.pickProjectShader=me,this.points=[],this._selectResult=new x(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}f.exports=function(q){var ee=q.gl,K=u.createPerspective(ee),J=u.createOrtho(ee),Z=u.createProject(ee),$=u.createPickPerspective(ee),ne=u.createPickOrtho(ee),ae=u.createPickProject(ee),oe=o(ee),se=o(ee),ce=o(ee),me=o(ee),xe=new v(ee,K,J,Z,oe,se,ce,me,n(ee,[{buffer:oe,size:3,type:ee.FLOAT},{buffer:se,size:4,type:ee.FLOAT},{buffer:ce,size:2,type:ee.FLOAT},{buffer:me,size:4,type:ee.UNSIGNED_BYTE,normalized:!0}]),$,ne,ae);return xe.update(q),xe};var T=v.prototype;T.pickSlots=1,T.setPickBase=function(q){this.pickId=q},T.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},T.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var c=[0,0],E=[0,0,0],A=[0,0,0],C=[0,0,0,1],O=[0,0,0,1],P=_.slice(),D=[0,0,0],z=[[0,0,0],[0,0,0]];function V(q){return q[0]=q[1]=q[2]=0,q}function F(q,ee){return q[0]=ee[0],q[1]=ee[1],q[2]=ee[2],q[3]=1,q}function W(q,ee,K,J){return q[0]=ee[0],q[1]=ee[1],q[2]=ee[2],q[K]=J,q}var B=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function U(q,ee,K,J,Z,$,ne){var ae=K.gl;if(($===K.projectHasAlpha||ne)&&function(se,ce,me,xe){var ve,fe=ce.axesProject,pe=ce.gl,Le=se.uniforms,ye=me.model||_,Ae=me.view||_,Me=me.projection||_,ke=ce.axesBounds,te=function(ot){for(var st=z,ht=0;ht<2;++ht)for(var xt=0;xt<3;++xt)st[ht][xt]=Math.max(Math.min(ot[ht][xt],1e8),-1e8);return st}(ce.clipBounds);ve=ce.axes&&ce.axes.lastCubeProps?ce.axes.lastCubeProps.axis:[1,1,1],c[0]=2/pe.drawingBufferWidth,c[1]=2/pe.drawingBufferHeight,se.bind(),Le.view=Ae,Le.projection=Me,Le.screenSize=c,Le.highlightId=ce.highlightId,Le.highlightScale=ce.highlightScale,Le.clipBounds=te,Le.pickGroup=ce.pickId/255,Le.pixelRatio=xe;for(var ue=0;ue<3;++ue)if(fe[ue]){Le.scale=ce.projectScale[ue],Le.opacity=ce.projectOpacity[ue];for(var ge=P,we=0;we<16;++we)ge[we]=0;for(we=0;we<4;++we)ge[5*we]=1;ge[5*ue]=0,ve[ue]<0?ge[12+ue]=ke[0][ue]:ge[12+ue]=ke[1][ue],i(ge,ye,ge),Le.model=ge;var Ee=(ue+1)%3,Be=(ue+2)%3,Re=V(E),je=V(A);Re[Ee]=1,je[Be]=1;var he=d(0,0,0,F(C,Re)),_e=d(0,0,0,F(O,je));if(Math.abs(he[1])>Math.abs(_e[1])){var Te=he;he=_e,_e=Te,Te=Re,Re=je,je=Te;var Fe=Ee;Ee=Be,Be=Fe}he[0]<0&&(Re[Ee]=-1),_e[1]>0&&(je[Be]=-1);var Ye=0,Ge=0;for(we=0;we<4;++we)Ye+=Math.pow(ye[4*Ee+we],2),Ge+=Math.pow(ye[4*Be+we],2);Re[Ee]/=Math.sqrt(Ye),je[Be]/=Math.sqrt(Ge),Le.axes[0]=Re,Le.axes[1]=je,Le.fragClipBounds[0]=W(D,te[0],ue,-1e8),Le.fragClipBounds[1]=W(D,te[1],ue,1e8),ce.vao.bind(),ce.vao.draw(pe.TRIANGLES,ce.vertexCount),ce.lineWidth>0&&(pe.lineWidth(ce.lineWidth*xe),ce.vao.draw(pe.LINES,ce.lineVertexCount,ce.vertexCount)),ce.vao.unbind()}}(ee,K,J,Z),$===K.hasAlpha||ne){q.bind();var oe=q.uniforms;oe.model=J.model||_,oe.view=J.view||_,oe.projection=J.projection||_,c[0]=2/ae.drawingBufferWidth,c[1]=2/ae.drawingBufferHeight,oe.screenSize=c,oe.highlightId=K.highlightId,oe.highlightScale=K.highlightScale,oe.fragClipBounds=B,oe.clipBounds=K.axes.bounds,oe.opacity=K.opacity,oe.pickGroup=K.pickId/255,oe.pixelRatio=Z,K.vao.bind(),K.vao.draw(ae.TRIANGLES,K.vertexCount),K.lineWidth>0&&(ae.lineWidth(K.lineWidth*Z),K.vao.draw(ae.LINES,K.lineVertexCount,K.vertexCount)),K.vao.unbind()}}function H(q,ee,K,J){var Z;Z=Array.isArray(q)?ee<q.length?q[ee]:void 0:q,Z=h(Z);var $=!0;s(Z)&&(Z="\u25BC",$=!1);var ne=p(Z,K,J);return{mesh:ne[0],lines:ne[1],bounds:ne[2],visible:$}}T.draw=function(q){U(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,q,this.pixelRatio,!1,!1)},T.drawTransparent=function(q){U(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,q,this.pixelRatio,!0,!1)},T.drawPick=function(q){U(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,q,1,!0,!0)},T.pick=function(q){if(!q||q.id!==this.pickId)return null;var ee=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(ee>=this.pointCount||ee<0)return null;var K=this.points[ee],J=this._selectResult;J.index=ee;for(var Z=0;Z<3;++Z)J.position[Z]=J.dataCoordinate[Z]=K[Z];return J},T.highlight=function(q){if(q){var ee=q.index,K=255&ee,J=ee>>8&255,Z=ee>>16&255;this.highlightId=[K/255,J/255,Z/255,0]}else this.highlightId=[1,1,1,1]},T.update=function(q){if("perspective"in(q=q||{})&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(Array.isArray(q.project))this.axesProject=q.project;else{var ee=!!q.project;this.axesProject=[ee,ee,ee]}if("projectScale"in q)if(Array.isArray(q.projectScale))this.projectScale=q.projectScale.slice();else{var K=+q.projectScale;this.projectScale=[K,K,K]}if(this.projectHasAlpha=!1,"projectOpacity"in q){Array.isArray(q.projectOpacity)?this.projectOpacity=q.projectOpacity.slice():(K=+q.projectOpacity,this.projectOpacity=[K,K,K]);for(var J=0;J<3;++J)this.projectOpacity[J]=g(this.projectOpacity[J]),this.projectOpacity[J]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=g(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Z,$,ne=q.position,ae=q.font||"normal",oe=q.alignment||[0,0];if(oe.length===2)Z=oe[0],$=oe[1];else for(Z=[],$=[],J=0;J<oe.length;++J)Z[J]=oe[J][0],$[J]=oe[J][1];var se=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],me=q.glyph,xe=q.color,ve=q.size,fe=q.angle,pe=q.lineColor,Le=-1,ye=0,Ae=0,Me=0;if(ne.length){Me=ne.length;e:for(J=0;J<Me;++J){for(var ke=ne[J],te=0;te<3;++te)if(isNaN(ke[te])||!isFinite(ke[te]))continue e;var ue=(st=H(me,J,ae,this.pixelRatio)).mesh,ge=st.lines,we=st.bounds;ye+=3*ue.cells.length,Ae+=2*ge.edges.length}}var Ee=ye+Ae,Be=r.mallocFloat(3*Ee),Re=r.mallocFloat(4*Ee),je=r.mallocFloat(2*Ee),he=r.mallocUint32(Ee);if(Ee>0){var _e=0,Te=ye,Fe=[0,0,0,1],Ye=[0,0,0,1],Ge=Array.isArray(xe)&&Array.isArray(xe[0]),ot=Array.isArray(pe)&&Array.isArray(pe[0]);e:for(J=0;J<Me;++J){for(Le+=1,ke=ne[J],te=0;te<3;++te){if(isNaN(ke[te])||!isFinite(ke[te]))continue e;ce[te]=Math.max(ce[te],ke[te]),se[te]=Math.min(se[te],ke[te])}ue=(st=H(me,J,ae,this.pixelRatio)).mesh,ge=st.lines,we=st.bounds;var st,ht=st.visible;if(ht)if(Array.isArray(xe)){if((xt=Ge?J<xe.length?xe[J]:[0,0,0,0]:xe).length===3){for(te=0;te<3;++te)Fe[te]=xt[te];Fe[3]=1}else if(xt.length===4){for(te=0;te<4;++te)Fe[te]=xt[te];!this.hasAlpha&&xt[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;else Fe=[1,1,1,0];if(ht)if(Array.isArray(pe)){var xt;if((xt=ot?J<pe.length?pe[J]:[0,0,0,0]:pe).length===3){for(te=0;te<3;++te)Ye[te]=xt[te];Ye[te]=1}else if(xt.length===4){for(te=0;te<4;++te)Ye[te]=xt[te];!this.hasAlpha&&xt[3]<1&&(this.hasAlpha=!0)}}else Ye[0]=Ye[1]=Ye[2]=0,Ye[3]=1;else Ye=[1,1,1,0];var Ct=.5;ht?Array.isArray(ve)?Ct=J<ve.length?+ve[J]:12:ve?Ct=+ve:this.useOrtho&&(Ct=12):Ct=0;var St=0;Array.isArray(fe)?St=J<fe.length?+fe[J]:0:fe&&(St=+fe);var kt=Math.cos(St),Nt=Math.sin(St);for(ke=ne[J],te=0;te<3;++te)ce[te]=Math.max(ce[te],ke[te]),se[te]=Math.min(se[te],ke[te]);var Dt=Z,Et=$;Dt=0,Array.isArray(Z)?Dt=J<Z.length?Z[J]:0:Z&&(Dt=Z),Et=0,Array.isArray($)?Et=J<$.length?$[J]:0:$&&(Et=$);var Wt=[Dt*=Dt>0?1-we[0][0]:Dt<0?1+we[1][0]:1,Et*=Et>0?1-we[0][1]:Et<0?1+we[1][1]:1],Ht=ue.cells||[],Ke=ue.positions||[];for(te=0;te<Ht.length;++te)for(var $e=Ht[te],Ue=0;Ue<3;++Ue){for(var nt=0;nt<3;++nt)Be[3*_e+nt]=ke[nt];for(nt=0;nt<4;++nt)Re[4*_e+nt]=Fe[nt];he[_e]=Le;var ct=Ke[$e[Ue]];je[2*_e]=Ct*(kt*ct[0]-Nt*ct[1]+Wt[0]),je[2*_e+1]=Ct*(Nt*ct[0]+kt*ct[1]+Wt[1]),_e+=1}for(Ht=ge.edges,Ke=ge.positions,te=0;te<Ht.length;++te)for($e=Ht[te],Ue=0;Ue<2;++Ue){for(nt=0;nt<3;++nt)Be[3*Te+nt]=ke[nt];for(nt=0;nt<4;++nt)Re[4*Te+nt]=Ye[nt];he[Te]=Le,ct=Ke[$e[Ue]],je[2*Te]=Ct*(kt*ct[0]-Nt*ct[1]+Wt[0]),je[2*Te+1]=Ct*(Nt*ct[0]+kt*ct[1]+Wt[1]),Te+=1}}}this.bounds=[se,ce],this.points=ne,this.pointCount=ne.length,this.vertexCount=ye,this.lineVertexCount=Ae,this.pointBuffer.update(Be),this.colorBuffer.update(Re),this.glyphBuffer.update(je),this.idBuffer.update(he),r.free(Be),r.free(Re),r.free(je),r.free(he)},T.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(f,l,t){"use strict";var s=t(6832);l.boxVertex=s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),l.boxFragment=s([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(f,l,t){"use strict";var s=t(5158),o=t(5827),n=t(1884);function r(u,p,h){this.plot=u,this.boxBuffer=p,this.boxShader=h,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}f.exports=function(u,p){var h=u.gl,_=new r(u,o(h,[0,0,0,1,1,0,1,1]),s(h,n.boxVertex,n.boxFragment));return _.update(p),u.addOverlay(_),_};var i=r.prototype;i.draw=function(){if(this.enabled){var u=this.plot,p=this.selectBox,h=this.borderWidth,_=(this.innerFill,this.innerColor),m=(this.outerFill,this.outerColor),d=this.borderColor,x=u.box,g=u.screenBox,v=u.dataBox,T=u.viewBox,c=u.pixelRatio,E=(p[0]-v[0])*(T[2]-T[0])/(v[2]-v[0])+T[0],A=(p[1]-v[1])*(T[3]-T[1])/(v[3]-v[1])+T[1],C=(p[2]-v[0])*(T[2]-T[0])/(v[2]-v[0])+T[0],O=(p[3]-v[1])*(T[3]-T[1])/(v[3]-v[1])+T[1];if(E=Math.max(E,T[0]),A=Math.max(A,T[1]),C=Math.min(C,T[2]),O=Math.min(O,T[3]),!(C<E||O<A)){x.bind();var P=g[2]-g[0],D=g[3]-g[1];if(this.outerFill&&(x.drawBox(0,0,P,A,m),x.drawBox(0,A,E,O,m),x.drawBox(0,O,P,D,m),x.drawBox(C,A,P,O,m)),this.innerFill&&x.drawBox(E,A,C,O,_),h>0){var z=h*c;x.drawBox(E-z,A-z,C+z,A+z,d),x.drawBox(E-z,O-z,C+z,O+z,d),x.drawBox(E-z,A-z,E+z,O+z,d),x.drawBox(C-z,A-z,C+z,O+z,d)}}}},i.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},i.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(f,l,t){"use strict";f.exports=function(h,_){var m=_[0],d=_[1];return new u(h,s(h,m,d,{}),o.mallocUint8(m*d*4))};var s=t(4234),o=t(5306),n=t(5050),r=t(2288).nextPow2;function i(h,_,m,d,x){this.coord=[h,_],this.id=m,this.value=d,this.distance=x}function u(h,_,m){this.gl=h,this.fbo=_,this.buffer=m,this._readTimeout=null;var d=this;this._readCallback=function(){d.gl&&(_.bind(),h.readPixels(0,0,_.shape[0],_.shape[1],h.RGBA,h.UNSIGNED_BYTE,d.buffer),d._readTimeout=null)}}var p=u.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var _=this.fbo.shape[0],m=this.fbo.shape[1];if(m*_*4>this.buffer.length){o.free(this.buffer);for(var d=this.buffer=o.mallocUint8(r(m*_*4)),x=0;x<m*_*4;++x)d[x]=255}return h}}}),p.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},p.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(h,_,m){if(!this.gl)return null;var d=this.fbo.shape.slice();h|=0,_|=0,typeof m!="number"&&(m=1);var x=0|Math.min(Math.max(h-m,0),d[0]),g=0|Math.min(Math.max(h+m,0),d[0]),v=0|Math.min(Math.max(_-m,0),d[1]),T=0|Math.min(Math.max(_+m,0),d[1]);if(g<=x||T<=v)return null;var c=[g-x,T-v],E=n(this.buffer,[c[0],c[1],4],[4,4*d[0],1],4*(x+d[0]*v)),A=function(P,D,z){for(var V=1e8,F=-1,W=-1,B=P.shape[0],U=P.shape[1],H=0;H<B;H++)for(var q=0;q<U;q++){var ee=P.get(H,q,0),K=P.get(H,q,1),J=P.get(H,q,2),Z=P.get(H,q,3);if(ee<255||K<255||J<255||Z<255){var $=D-H,ne=z-q,ae=$*$+ne*ne;ae<V&&(V=ae,F=H,W=q)}}return[F,W,V]}(E.hi(c[0],c[1],1),m,m),C=A[0],O=A[1];return C<0||Math.pow(this.radius,2)<A[2]?null:new i(C+x|0,O+v|0,E.get(C,O,0),[E.get(C,O,1),E.get(C,O,2),E.get(C,O,3)],Math.sqrt(A[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(f,l,t){"use strict";var s=t(9016),o=t(4280),n=t(3984),r=t(1628),i=t(2631),u=t(9068);function p(m){this.gl=m,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=p.prototype;function _(m,d){return m.name<d.name?-1:1}h.bind=function(){var m;this.program||this._relink();var d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(m=x;m<d;m++)this.gl.enableVertexAttribArray(m);else if(x>d)for(m=d;m<x;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var m=this.gl.lastAttribCount,d=0;d<m;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(m,d,x,g){if(!d||arguments.length===1){var v=m;m=v.vertex,d=v.fragment,x=v.uniforms,g=v.attributes}var T=this,c=T.gl,E=T._vref;T._vref=r.shader(c,c.VERTEX_SHADER,m),E&&E.dispose(),T.vertShader=T._vref.shader;var A=this._fref;if(T._fref=r.shader(c,c.FRAGMENT_SHADER,d),A&&A.dispose(),T.fragShader=T._fref.shader,!x||!g){var C=c.createProgram();if(c.attachShader(C,T.fragShader),c.attachShader(C,T.vertShader),c.linkProgram(C),!c.getProgramParameter(C,c.LINK_STATUS)){var O=c.getProgramInfoLog(C);throw new u(O,"Error linking program:"+O)}x=x||i.uniforms(c,C),g=g||i.attributes(c,C),c.deleteProgram(C)}(g=g.slice()).sort(_);var P,D=[],z=[],V=[];for(P=0;P<g.length;++P){var F=g[P];if(F.type.indexOf("mat")>=0){for(var W=0|F.type.charAt(F.type.length-1),B=new Array(W),U=0;U<W;++U)B[U]=V.length,z.push(F.name+"["+U+"]"),typeof F.location=="number"?V.push(F.location+U):Array.isArray(F.location)&&F.location.length===W&&typeof F.location[U]=="number"?V.push(0|F.location[U]):V.push(-1);D.push({name:F.name,type:F.type,locations:B})}else D.push({name:F.name,type:F.type,locations:[V.length]}),z.push(F.name),typeof F.location=="number"?V.push(0|F.location):V.push(-1)}var H=0;for(P=0;P<V.length;++P)if(V[P]<0){for(;V.indexOf(H)>=0;)H+=1;V[P]=H}var q=new Array(x.length);function ee(){T.program=r.program(c,T._vref,T._fref,z,V);for(var K=0;K<x.length;++K)q[K]=c.getUniformLocation(T.program,x[K].name)}ee(),T._relink=ee,T.types={uniforms:n(x),attributes:n(g)},T.attributes=o(c,T,D,V),Object.defineProperty(T,"uniforms",s(c,T,x,q))},f.exports=function(m,d,x,g,v){var T=new p(m);return T.update(d,x,g,v),T}},9068:function(f){function l(t,s,o){this.shortMessage=s||"",this.longMessage=o||"",this.rawError=t||"",this.message="gl-shader: "+(s||t||"")+(o?`
`+o:""),this.stack=new Error().stack}l.prototype=new Error,l.prototype.name="GLError",l.prototype.constructor=l,f.exports=l},4280:function(f,l,t){"use strict";f.exports=function(p,h,_,m){for(var d={},x=0,g=_.length;x<g;++x){var v=_[x],T=v.name,c=v.type,E=v.locations;switch(c){case"bool":case"int":case"float":i(p,h,E[0],m,1,d,T);break;default:if(c.indexOf("vec")>=0){if((A=c.charCodeAt(c.length-1)-48)<2||A>4)throw new s("","Invalid data type for attribute "+T+": "+c);i(p,h,E[0],m,A,d,T)}else{if(!(c.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+T+": "+c);var A;if((A=c.charCodeAt(c.length-1)-48)<2||A>4)throw new s("","Invalid data type for attribute "+T+": "+c);u(p,h,E,m,A,d,T)}}}return d};var s=t(9068);function o(p,h,_,m,d,x){this._gl=p,this._wrapper=h,this._index=_,this._locations=m,this._dimension=d,this._constFunc=x}var n=o.prototype;n.pointer=function(p,h,_,m){var d=this,x=d._gl,g=d._locations[d._index];x.vertexAttribPointer(g,d._dimension,p||x.FLOAT,!!h,_||0,m||0),x.enableVertexAttribArray(g)},n.set=function(p,h,_,m){return this._constFunc(this._locations[this._index],p,h,_,m)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var r=[function(p,h,_){return _.length===void 0?p.vertexAttrib1f(h,_):p.vertexAttrib1fv(h,_)},function(p,h,_,m){return _.length===void 0?p.vertexAttrib2f(h,_,m):p.vertexAttrib2fv(h,_)},function(p,h,_,m,d){return _.length===void 0?p.vertexAttrib3f(h,_,m,d):p.vertexAttrib3fv(h,_)},function(p,h,_,m,d,x){return _.length===void 0?p.vertexAttrib4f(h,_,m,d,x):p.vertexAttrib4fv(h,_)}];function i(p,h,_,m,d,x,g){var v=r[d],T=new o(p,h,_,m,d,v);Object.defineProperty(x,g,{set:function(c){return p.disableVertexAttribArray(m[_]),v(p,m[_],c),c},get:function(){return T},enumerable:!0})}function u(p,h,_,m,d,x,g){for(var v=new Array(d),T=new Array(d),c=0;c<d;++c)i(p,h,_[c],m,d,v,c),T[c]=v[c];Object.defineProperty(v,"location",{set:function(C){if(Array.isArray(C))for(var O=0;O<d;++O)T[O].location=C[O];else for(O=0;O<d;++O)T[O].location=C+O;return C},get:function(){for(var C=new Array(d),O=0;O<d;++O)C[O]=m[_[O]];return C},enumerable:!0}),v.pointer=function(C,O,P,D){C=C||p.FLOAT,O=!!O,P=P||d*d,D=D||0;for(var z=0;z<d;++z){var V=m[_[z]];p.vertexAttribPointer(V,d,C,O,P,D+z*d),p.enableVertexAttribArray(V)}};var E=new Array(d),A=p["vertexAttrib"+d+"fv"];Object.defineProperty(x,g,{set:function(C){for(var O=0;O<d;++O){var P=m[_[O]];if(p.disableVertexAttribArray(P),Array.isArray(C[0]))A.call(p,P,C[O]);else{for(var D=0;D<d;++D)E[D]=C[d*O+D];A.call(p,P,E)}}return C},get:function(){return v},enumerable:!0})}},9016:function(f,l,t){"use strict";var s=t(3984),o=t(9068);function n(i){return function(){return i}}function r(i,u){for(var p=new Array(i),h=0;h<i;++h)p[h]=u;return p}f.exports=function(i,u,p,h){function _(v){return function(T){for(var c=m("",v),E=0;E<c.length;++E){var A=c[E],C=A[0],O=A[1];if(h[O]){var P=T;if(typeof C=="string"&&(C.indexOf(".")===0||C.indexOf("[")===0)){var D=C;if(C.indexOf(".")===0&&(D=C.slice(1)),D.indexOf("]")===D.length-1){var z=D.indexOf("["),V=D.slice(0,z),F=D.slice(z+1,D.length-1);P=V?T[V][F]:T[F]}else P=T[D]}var W,B=p[O].type;switch(B){case"bool":case"int":case"sampler2D":case"samplerCube":i.uniform1i(h[O],P);break;case"float":i.uniform1f(h[O],P);break;default:var U=B.indexOf("vec");if(!(0<=U&&U<=1&&B.length===4+U)){if(B.indexOf("mat")===0&&B.length===4){if((W=B.charCodeAt(B.length-1)-48)<2||W>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+B);i["uniformMatrix"+W+"fv"](h[O],!1,P);break}throw new o("","Unknown uniform data type for "+name+": "+B)}if((W=B.charCodeAt(B.length-1)-48)<2||W>4)throw new o("","Invalid data type");switch(B.charAt(0)){case"b":case"i":i["uniform"+W+"iv"](h[O],P);break;case"v":i["uniform"+W+"fv"](h[O],P);break;default:throw new o("","Unrecognized data type for vector "+name+": "+B)}}}}}}function m(v,T){if(typeof T!="object")return[[v,T]];var c=[];for(var E in T){var A=T[E],C=v;parseInt(E)+""===E?C+="["+E+"]":C+="."+E,typeof A=="object"?c.push.apply(c,m(C,A)):c.push([C,A])}return c}function d(v,T,c){if(typeof c=="object"){var E=x(c);Object.defineProperty(v,T,{get:n(E),set:_(c),enumerable:!0,configurable:!1})}else h[c]?Object.defineProperty(v,T,{get:(A=c,function(C,O,P){return C.getUniform(O.program,P[A])}),set:_(c),enumerable:!0,configurable:!1}):v[T]=function(C){switch(C){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var O=C.indexOf("vec");if(0<=O&&O<=1&&C.length===4+O){if((P=C.charCodeAt(C.length-1)-48)<2||P>4)throw new o("","Invalid data type");return C.charAt(0)==="b"?r(P,!1):r(P,0)}if(C.indexOf("mat")===0&&C.length===4){var P;if((P=C.charCodeAt(C.length-1)-48)<2||P>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+C);return r(P*P,0)}throw new o("","Unknown uniform data type for "+name+": "+C)}}(p[c].type);var A}function x(v){var T;if(Array.isArray(v)){T=new Array(v.length);for(var c=0;c<v.length;++c)d(T,c,v[c])}else for(var E in T={},v)d(T,E,v[E]);return T}var g=s(p,!0);return{get:n(x(g)),set:_(g),enumerable:!0,configurable:!0}}},3984:function(f){"use strict";f.exports=function(l,t){for(var s={},o=0;o<l.length;++o)for(var n=l[o].name.split("."),r=s,i=0;i<n.length;++i){var u=n[i].split("[");if(u.length>1){u[0]in r||(r[u[0]]=[]),r=r[u[0]];for(var p=1;p<u.length;++p){var h=parseInt(u[p]);p<u.length-1||i<n.length-1?(h in r||(p<u.length-1?r[h]=[]:r[h]={}),r=r[h]):r[h]=t?o:l[o].type}}else i<n.length-1?(u[0]in r||(r[u[0]]={}),r=r[u[0]]):r[u[0]]=t?o:l[o].type}return s}},2631:function(f,l){"use strict";l.uniforms=function(n,r){for(var i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS),u=[],p=0;p<i;++p){var h=n.getActiveUniform(r,p);if(h){var _=o(n,h.type);if(h.size>1)for(var m=0;m<h.size;++m)u.push({name:h.name.replace("[0]","["+m+"]"),type:_});else u.push({name:h.name,type:_})}}return u},l.attributes=function(n,r){for(var i=n.getProgramParameter(r,n.ACTIVE_ATTRIBUTES),u=[],p=0;p<i;++p){var h=n.getActiveAttrib(r,p);h&&u.push({name:h.name,type:o(n,h.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function o(n,r){if(!s){var i=Object.keys(t);s={};for(var u=0;u<i.length;++u){var p=i[u];s[n[p]]=t[p]}}return s[r]}},1628:function(f,l,t){"use strict";l.shader=function(_,m,d){return h(_).getShaderReference(m,d)},l.program=function(_,m,d,x,g){return h(_).getProgram(m,d,x,g)};var s=t(9068),o=t(3530),n=new(typeof WeakMap>"u"?t(4037):WeakMap),r=0;function i(_,m,d,x,g,v,T){this.id=_,this.src=m,this.type=d,this.shader=x,this.count=v,this.programs=[],this.cache=T}function u(_){this.gl=_,this.shaders=[{},{}],this.programs={}}i.prototype.dispose=function(){if(--this.count==0){for(var _=this.cache,m=_.gl,d=this.programs,x=0,g=d.length;x<g;++x){var v=_.programs[d[x]];v&&(delete _.programs[x],m.deleteProgram(v))}m.deleteShader(this.shader),delete _.shaders[this.type===m.FRAGMENT_SHADER|0][this.src]}};var p=u.prototype;function h(_){var m=n.get(_);return m||(m=new u(_),n.set(_,m)),m}p.getShaderReference=function(_,m){var d=this.gl,x=this.shaders[_===d.FRAGMENT_SHADER|0],g=x[m];if(g&&d.isShader(g.shader))g.count+=1;else{var v=function(T,c,E){var A=T.createShader(c);if(T.shaderSource(A,E),T.compileShader(A),!T.getShaderParameter(A,T.COMPILE_STATUS)){var C=T.getShaderInfoLog(A);try{var O=o(C,E,c)}catch(P){throw console.warn("Failed to format compiler error: "+P),new s(C,`Error compiling shader:
`+C)}throw new s(C,O.short,O.long)}return A}(d,_,m);g=x[m]=new i(r++,m,_,v,[],1,this)}return g},p.getProgram=function(_,m,d,x){var g=[_.id,m.id,d.join(":"),x.join(":")].join("@"),v=this.programs[g];return v&&this.gl.isProgram(v)||(this.programs[g]=v=function(T,c,E,A,C){var O=T.createProgram();T.attachShader(O,c),T.attachShader(O,E);for(var P=0;P<A.length;++P)T.bindAttribLocation(O,C[P],A[P]);if(T.linkProgram(O),!T.getProgramParameter(O,T.LINK_STATUS)){var D=T.getProgramInfoLog(O);throw new s(D,"Error linking program: "+D)}return O}(this.gl,_.shader,m.shader,d,x),_.programs.push(g),m.programs.push(g)),v}},3050:function(f){"use strict";function l(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}f.exports=function(s,o){var n=new l(s);return n.update(o),s.addOverlay(n),n};var t=l.prototype;t.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(o){return o.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var s=this.enable,o=this.width,n=this.color,r=this.center,i=this.plot,u=i.line,p=i.dataBox,h=i.viewBox;if(u.bind(),p[0]<=r[0]&&r[0]<=p[2]&&p[1]<=r[1]&&r[1]<=p[3]){var _=h[0]+(r[0]-p[0])/(p[2]-p[0])*(h[2]-h[0]),m=h[1]+(r[1]-p[1])/(p[3]-p[1])*(h[3]-h[1]);s[0]&&u.drawLine(_,m,h[0],m,o[0],n[0]),s[1]&&u.drawLine(_,m,_,h[1],o[1],n[1]),s[2]&&u.drawLine(_,m,h[2],m,o[2],n[2]),s[3]&&u.drawLine(_,m,_,h[3],o[3],n[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(f,l,t){"use strict";var s=t(6832),o=t(5158),n=s([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),r=s([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);f.exports=function(i){return o(i,n,r,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(f,l,t){"use strict";var s=t(5827),o=t(2944),n=t(3540);f.exports=function(m,d){var x=[];function g(A,C,O,P,D,z){var V=[A,C,O,0,0,0,1];V[P+3]=1,V[P]=D,x.push.apply(x,V),V[6]=-1,x.push.apply(x,V),V[P]=z,x.push.apply(x,V),x.push.apply(x,V),V[6]=1,x.push.apply(x,V),V[P]=D,x.push.apply(x,V)}g(0,0,0,0,0,1),g(0,0,0,1,0,1),g(0,0,0,2,0,1),g(1,0,0,1,-1,1),g(1,0,0,2,-1,1),g(0,1,0,0,-1,1),g(0,1,0,2,-1,1),g(0,0,1,0,-1,1),g(0,0,1,1,-1,1);var v=s(m,x),T=o(m,[{type:m.FLOAT,buffer:v,size:3,offset:0,stride:28},{type:m.FLOAT,buffer:v,size:3,offset:12,stride:28},{type:m.FLOAT,buffer:v,size:1,offset:24,stride:28}]),c=n(m);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.weight.location=2;var E=new i(m,v,T,c);return E.update(d),E};var r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function i(m,d,x,g){this.gl=m,this.buffer=d,this.vao=x,this.shader=g,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=i.prototype,p=[0,0,0],h=[0,0,0],_=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(m){},u.draw=function(m){var d=this.gl,x=this.vao,g=this.shader;x.bind(),g.bind();var v,T=m.model||r,c=m.view||r,E=m.projection||r;this.axes&&(v=this.axes.lastCubeProps.axis);for(var A=p,C=h,O=0;O<3;++O)v&&v[O]<0?(A[O]=this.bounds[0][O],C[O]=this.bounds[1][O]):(A[O]=this.bounds[1][O],C[O]=this.bounds[0][O]);for(_[0]=d.drawingBufferWidth,_[1]=d.drawingBufferHeight,g.uniforms.model=T,g.uniforms.view=c,g.uniforms.projection=E,g.uniforms.coordinates=[this.position,A,C],g.uniforms.colors=this.colors,g.uniforms.screenShape=_,O=0;O<3;++O)g.uniforms.lineWidth=this.lineWidth[O]*this.pixelRatio,this.enabled[O]&&(x.draw(d.TRIANGLES,6,6*O),this.drawSides[O]&&x.draw(d.TRIANGLES,12,18+12*O));x.unbind()},u.update=function(m){m&&("bounds"in m&&(this.bounds=m.bounds),"position"in m&&(this.position=m.position),"lineWidth"in m&&(this.lineWidth=m.lineWidth),"colors"in m&&(this.colors=m.colors),"enabled"in m&&(this.enabled=m.enabled),"drawSides"in m&&(this.drawSides=m.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(f,l,t){var s=t(6832),o=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=s([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),r=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),i=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);l.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},l.pickShader={vertex:r,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(f,l,t){"use strict";var s=t(2858),o=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],r=function(_,m){var d,x=_.length;for(d=0;d<x;d++){var g=_[d];if(g===m)return d;if(g>m)return d-1}return d},i=function(_,m,d){return _<m?m:_>d?d:_},u=function(_){var m=1/0;_.sort(function(v,T){return v-T});for(var d=_.length,x=1;x<d;x++){var g=Math.abs(_[x]-_[x-1]);g<m&&(m=g)}return m};f.exports=function(_,m){var d=_.startingPositions,x=_.maxLength||1e3,g=_.tubeSize||1,v=_.absoluteTubeSize,T=_.gridFill||"+x+y+z",c={};T.indexOf("-x")!==-1&&(c.reversedX=!0),T.indexOf("-y")!==-1&&(c.reversedY=!0),T.indexOf("-z")!==-1&&(c.reversedZ=!0),c.filled=n.indexOf(T.replace(/-/g,"").replace(/\+/g,""));var E=_.getVelocity||function(pe){return function(Le,ye,Ae){var Me=ye.vectors,ke=ye.meshgrid,te=Le[0],ue=Le[1],ge=Le[2],we=ke[0].length,Ee=ke[1].length,Be=ke[2].length,Re=r(ke[0],te),je=r(ke[1],ue),he=r(ke[2],ge),_e=Re+1,Te=je+1,Fe=he+1;if(Re=i(Re,0,we-1),_e=i(_e,0,we-1),je=i(je,0,Ee-1),Te=i(Te,0,Ee-1),he=i(he,0,Be-1),Fe=i(Fe,0,Be-1),Re<0||je<0||he<0||_e>we-1||Te>Ee-1||Fe>Be-1)return s.create();var Ye,Ge,ot,st,ht,xt,Ct=ke[0][Re],St=ke[0][_e],kt=ke[1][je],Nt=ke[1][Te],Dt=ke[2][he],Et=(te-Ct)/(St-Ct),Wt=(ue-kt)/(Nt-kt),Ht=(ge-Dt)/(ke[2][Fe]-Dt);switch(isFinite(Et)||(Et=.5),isFinite(Wt)||(Wt=.5),isFinite(Ht)||(Ht=.5),Ae.reversedX&&(Re=we-1-Re,_e=we-1-_e),Ae.reversedY&&(je=Ee-1-je,Te=Ee-1-Te),Ae.reversedZ&&(he=Be-1-he,Fe=Be-1-Fe),Ae.filled){case 5:ht=he,xt=Fe,ot=je*Be,st=Te*Be,Ye=Re*Be*Ee,Ge=_e*Be*Ee;break;case 4:ht=he,xt=Fe,Ye=Re*Be,Ge=_e*Be,ot=je*Be*we,st=Te*Be*we;break;case 3:ot=je,st=Te,ht=he*Ee,xt=Fe*Ee,Ye=Re*Ee*Be,Ge=_e*Ee*Be;break;case 2:ot=je,st=Te,Ye=Re*Ee,Ge=_e*Ee,ht=he*Ee*we,xt=Fe*Ee*we;break;case 1:Ye=Re,Ge=_e,ht=he*we,xt=Fe*we,ot=je*we*Be,st=Te*we*Be;break;default:Ye=Re,Ge=_e,ot=je*we,st=Te*we,ht=he*we*Ee,xt=Fe*we*Ee}var Ke=Me[Ye+ot+ht],$e=Me[Ye+ot+xt],Ue=Me[Ye+st+ht],nt=Me[Ye+st+xt],ct=Me[Ge+ot+ht],Oe=Me[Ge+ot+xt],Ne=Me[Ge+st+ht],Qe=Me[Ge+st+xt],ut=s.create(),pt=s.create(),wt=s.create(),Lt=s.create();s.lerp(ut,Ke,ct,Et),s.lerp(pt,$e,Oe,Et),s.lerp(wt,Ue,Ne,Et),s.lerp(Lt,nt,Qe,Et);var It=s.create(),yt=s.create();s.lerp(It,ut,wt,Wt),s.lerp(yt,pt,Lt,Wt);var Rt=s.create();return s.lerp(Rt,It,yt,Ht),Rt}(pe,_,c)},A=_.getDivergence||function(pe,Le){var ye=s.create(),Ae=1e-4;s.add(ye,pe,[Ae,0,0]);var Me=E(ye);s.subtract(Me,Me,Le),s.scale(Me,Me,1/Ae),s.add(ye,pe,[0,Ae,0]);var ke=E(ye);s.subtract(ke,ke,Le),s.scale(ke,ke,1/Ae),s.add(ye,pe,[0,0,Ae]);var te=E(ye);return s.subtract(te,te,Le),s.scale(te,te,1/Ae),s.add(ye,Me,ke),s.add(ye,ye,te),ye},C=[],O=m[0][0],P=m[0][1],D=m[0][2],z=m[1][0],V=m[1][1],F=m[1][2],W=function(pe){var Le=pe[0],ye=pe[1],Ae=pe[2];return!(Le<O||Le>z||ye<P||ye>V||Ae<D||Ae>F)},B=10*s.distance(m[0],m[1])/x,U=B*B,H=1,q=0,ee=d.length;ee>1&&(H=function(pe){for(var Le=[],ye=[],Ae=[],Me={},ke={},te={},ue=pe.length,ge=0;ge<ue;ge++){var we=pe[ge],Ee=we[0],Be=we[1],Re=we[2];Me[Ee]||(Le.push(Ee),Me[Ee]=!0),ke[Be]||(ye.push(Be),ke[Be]=!0),te[Re]||(Ae.push(Re),te[Re]=!0)}var je=u(Le),he=u(ye),_e=u(Ae),Te=Math.min(je,he,_e);return isFinite(Te)?Te:1}(d));for(var K=0;K<ee;K++){var J=s.create();s.copy(J,d[K]);var Z=[J],$=[],ne=E(J),ae=J;$.push(ne);var oe=[],se=A(J,ne),ce=s.length(se);isFinite(ce)&&ce>q&&(q=ce),oe.push(ce),C.push({points:Z,velocities:$,divergences:oe});for(var me=0;me<100*x&&Z.length<x&&W(J);){me++;var xe=s.clone(ne),ve=s.squaredLength(xe);if(ve===0)break;ve>U&&s.scale(xe,xe,B/Math.sqrt(ve)),s.add(xe,xe,J),ne=E(xe),s.squaredDistance(ae,xe)-U>-1e-4*U&&(Z.push(xe),ae=xe,$.push(ne),se=A(xe,ne),ce=s.length(se),isFinite(ce)&&ce>q&&(q=ce),oe.push(ce)),J=xe}}var fe=function(pe,Le,ye,Ae){for(var Me=0,ke=0;ke<pe.length;ke++)for(var te=pe[ke].velocities,ue=0;ue<te.length;ue++)Me=Math.max(Me,s.length(te[ue]));var ge=pe.map(function(Ye){return function(Ge,ot,st,ht){for(var xt=Ge.points,Ct=Ge.velocities,St=Ge.divergences,kt=[],Nt=[],Dt=[],Et=[],Wt=[],Ht=[],Ke=0,$e=0,Ue=o.create(),nt=o.create(),ct=0;ct<xt.length;ct++){var Oe=xt[ct],Ne=Ct[ct],Qe=St[ct];ot===0&&(Qe=.05*st),$e=s.length(Ne)/ht,Ue=o.create(),s.copy(Ue,Ne),Ue[3]=Qe;for(var ut=0;ut<8;ut++)Wt[ut]=[Oe[0],Oe[1],Oe[2],ut];if(Et.length>0)for(ut=0;ut<8;ut++){var pt=(ut+1)%8;kt.push(Et[ut],Wt[ut],Wt[pt],Wt[pt],Et[pt],Et[ut]),Dt.push(nt,Ue,Ue,Ue,nt,nt),Ht.push(Ke,$e,$e,$e,Ke,Ke);var wt=kt.length;Nt.push([wt-6,wt-5,wt-4],[wt-3,wt-2,wt-1])}var Lt=Et;Et=Wt,Wt=Lt;var It=nt;nt=Ue,Ue=It;var yt=Ke;Ke=$e,$e=yt}return{positions:kt,cells:Nt,vectors:Dt,vertexIntensity:Ht}}(Ye,ye,Ae,Me)}),we=[],Ee=[],Be=[],Re=[];for(ke=0;ke<ge.length;ke++){var je=ge[ke],he=we.length;for(we=we.concat(je.positions),Be=Be.concat(je.vectors),Re=Re.concat(je.vertexIntensity),ue=0;ue<je.cells.length;ue++){var _e=je.cells[ue],Te=[];Ee.push(Te);for(var Fe=0;Fe<_e.length;Fe++)Te.push(_e[Fe]+he)}}return{positions:we,cells:Ee,vectors:Be,vertexIntensity:Re,colormap:Le}}(C,_.colormap,q,H);return v?fe.tubeScale=v:(q===0&&(q=1),fe.tubeScale=.5*g*H/q),fe};var p=t(9578),h=t(1140).createMesh;f.exports.createTubeMesh=function(_,m){return h(_,m,{shaders:p,traceType:"streamtube"})}},9054:function(f,l,t){var s=t(5158),o=t(6832),n=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),r=o([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),i=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);l.createShader=function(p){var h=s(p,n,r,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},l.createPickShader=function(p){var h=s(p,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},l.createContourShader=function(p){var h=s(p,i,r,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},l.createPickContourShader=function(p){var h=s(p,i,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(f,l,t){"use strict";f.exports=function(ae){var oe=ae.gl,se=c(oe),ce=A(oe),me=E(oe),xe=C(oe),ve=o(oe),fe=n(oe,[{buffer:ve,size:4,stride:40,offset:0},{buffer:ve,size:3,stride:40,offset:16},{buffer:ve,size:3,stride:40,offset:28}]),pe=o(oe),Le=n(oe,[{buffer:pe,size:4,stride:20,offset:0},{buffer:pe,size:1,stride:20,offset:16}]),ye=o(oe),Ae=n(oe,[{buffer:ye,size:2,type:oe.FLOAT}]),Me=r(oe,1,256,oe.RGBA,oe.UNSIGNED_BYTE);Me.minFilter=oe.LINEAR,Me.magFilter=oe.LINEAR;var ke=new V(oe,[0,0],[[0,0,0],[0,0,0]],se,ce,ve,fe,Me,me,xe,pe,Le,ye,Ae,[0,0,0]),te={levels:[[],[],[]]};for(var ue in ae)te[ue]=ae[ue];return te.colormap=te.colormap||"jet",ke.update(te),ke};var s=t(2288),o=t(5827),n=t(2944),r=t(8931),i=t(5306),u=t(9156),p=t(7498),h=t(7382),_=t(5050),m=t(4162),d=t(104),x=t(7437),g=t(5070),v=t(9144),T=t(9054),c=T.createShader,E=T.createContourShader,A=T.createPickShader,C=T.createPickContourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],P=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function z(ae,oe,se,ce,me){this.position=ae,this.index=oe,this.uv=se,this.level=ce,this.dataCoordinate=me}function V(ae,oe,se,ce,me,xe,ve,fe,pe,Le,ye,Ae,Me,ke,te){this.gl=ae,this.shape=oe,this.bounds=se,this.objectOffset=te,this.intensityBounds=[],this._shader=ce,this._pickShader=me,this._coordinateBuffer=xe,this._vao=ve,this._colorMap=fe,this._contourShader=pe,this._contourPickShader=Le,this._contourBuffer=ye,this._contourVAO=Ae,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new z([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Me,this._dynamicVAO=ke,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[_(i.mallocFloat(1024),[0,0]),_(i.mallocFloat(1024),[0,0]),_(i.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}(function(){for(var ae=0;ae<3;++ae){var oe=D[ae],se=(ae+2)%3;oe[(ae+1)%3+0]=1,oe[se+3]=1,oe[ae+6]=1}})();var F=V.prototype;F.genColormap=function(ae,oe){var se=!1,ce=h([u({colormap:ae,nshades:256,format:"rgba"}).map(function(me,xe){var ve=oe?function(fe,pe){if(!pe||!pe.length)return 1;for(var Le=0;Le<pe.length;++Le){if(pe.length<2)return 1;if(pe[Le][0]===fe)return pe[Le][1];if(pe[Le][0]>fe&&Le>0){var ye=(pe[Le][0]-fe)/(pe[Le][0]-pe[Le-1][0]);return pe[Le][1]*(1-ye)+ye*pe[Le-1][1]}}return 1}(xe/255,oe):me[3];return ve<1&&(se=!0),[me[0],me[1],me[2],255*ve]})]);return p.divseq(ce,255),this.hasAlphaScale=se,ce},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(ae){this.pickId=ae};var W=[0,0,0],B={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function U(ae,oe){var se,ce,me,xe=oe.axes&&oe.axes.lastCubeProps.axis||W,ve=oe.showSurface,fe=oe.showContour;for(se=0;se<3;++se)for(ve=ve||oe.surfaceProject[se],ce=0;ce<3;++ce)fe=fe||oe.contourProject[se][ce];for(se=0;se<3;++se){var pe=B.projections[se];for(ce=0;ce<16;++ce)pe[ce]=0;for(ce=0;ce<4;++ce)pe[5*ce]=1;pe[5*se]=0,pe[12+se]=oe.axesBounds[+(xe[se]>0)][se],d(pe,ae.model,pe);var Le=B.clipBounds[se];for(me=0;me<2;++me)for(ce=0;ce<3;++ce)Le[me][ce]=ae.clipBounds[me][ce];Le[0][se]=-1e8,Le[1][se]=1e8}return B.showSurface=ve,B.showContour=fe,B}var H={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},q=O.slice(),ee=[1,0,0,0,1,0,0,0,1];function K(ae,oe){ae=ae||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ce=H;ce.model=ae.model||O,ce.view=ae.view||O,ce.projection=ae.projection||O,ce.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ce.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ce.objectOffset=this.objectOffset,ce.contourColor=this.contourColor[0],ce.inverseModel=x(ce.inverseModel,ce.model);for(var me=0;me<2;++me)for(var xe=ce.clipBounds[me],ve=0;ve<3;++ve)xe[ve]=Math.min(Math.max(this.clipBounds[me][ve],-1e8),1e8);ce.kambient=this.ambientLight,ce.kdiffuse=this.diffuseLight,ce.kspecular=this.specularLight,ce.roughness=this.roughness,ce.fresnel=this.fresnel,ce.opacity=this.opacity,ce.height=0,ce.permutation=ee,ce.vertexColor=this.vertexColor;var fe=q;for(d(fe,ce.view,ce.model),d(fe,ce.projection,fe),x(fe,fe),me=0;me<3;++me)ce.eyePosition[me]=fe[12+me]/fe[15];var pe=fe[15];for(me=0;me<3;++me)pe+=this.lightPosition[me]*fe[4*me+3];for(me=0;me<3;++me){var Le=fe[12+me];for(ve=0;ve<3;++ve)Le+=fe[4*ve+me]*this.lightPosition[ve];ce.lightPosition[me]=Le/pe}var ye=U(ce,this);if(ye.showSurface){for(this._shader.bind(),this._shader.uniforms=ce,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),me=0;me<3;++me)this.surfaceProject[me]&&this.vertexCount&&(this._shader.uniforms.model=ye.projections[me],this._shader.uniforms.clipBounds=ye.clipBounds[me],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ye.showContour){var Ae=this._contourShader;ce.kambient=1,ce.kdiffuse=0,ce.kspecular=0,ce.opacity=1,Ae.bind(),Ae.uniforms=ce;var Me=this._contourVAO;for(Me.bind(),me=0;me<3;++me)for(Ae.uniforms.permutation=D[me],se.lineWidth(this.contourWidth[me]*this.pixelRatio),ve=0;ve<this.contourLevels[me].length;++ve)ve===this.highlightLevel[me]?(Ae.uniforms.contourColor=this.highlightColor[me],Ae.uniforms.contourTint=this.highlightTint[me]):ve!==0&&ve-1!==this.highlightLevel[me]||(Ae.uniforms.contourColor=this.contourColor[me],Ae.uniforms.contourTint=this.contourTint[me]),this._contourCounts[me][ve]&&(Ae.uniforms.height=this.contourLevels[me][ve],Me.draw(se.LINES,this._contourCounts[me][ve],this._contourOffsets[me][ve]));for(me=0;me<3;++me)for(Ae.uniforms.model=ye.projections[me],Ae.uniforms.clipBounds=ye.clipBounds[me],ve=0;ve<3;++ve)if(this.contourProject[me][ve]){Ae.uniforms.permutation=D[ve],se.lineWidth(this.contourWidth[ve]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[ve].length;++ke)ke===this.highlightLevel[ve]?(Ae.uniforms.contourColor=this.highlightColor[ve],Ae.uniforms.contourTint=this.highlightTint[ve]):ke!==0&&ke-1!==this.highlightLevel[ve]||(Ae.uniforms.contourColor=this.contourColor[ve],Ae.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][ke]&&(Ae.uniforms.height=this.contourLevels[ve][ke],Me.draw(se.LINES,this._contourCounts[ve][ke],this._contourOffsets[ve][ke]))}for(Me.unbind(),(Me=this._dynamicVAO).bind(),me=0;me<3;++me)if(this._dynamicCounts[me]!==0)for(Ae.uniforms.model=ce.model,Ae.uniforms.clipBounds=ce.clipBounds,Ae.uniforms.permutation=D[me],se.lineWidth(this.dynamicWidth[me]*this.pixelRatio),Ae.uniforms.contourColor=this.dynamicColor[me],Ae.uniforms.contourTint=this.dynamicTint[me],Ae.uniforms.height=this.dynamicLevel[me],Me.draw(se.LINES,this._dynamicCounts[me],this._dynamicOffsets[me]),ve=0;ve<3;++ve)this.contourProject[ve][me]&&(Ae.uniforms.model=ye.projections[ve],Ae.uniforms.clipBounds=ye.clipBounds[ve],Me.draw(se.LINES,this._dynamicCounts[me],this._dynamicOffsets[me]));Me.unbind()}}F.draw=function(ae){return K.call(this,ae,!1)},F.drawTransparent=function(ae){return K.call(this,ae,!0)};var J={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function Z(ae,oe){return Array.isArray(ae)?[oe(ae[0]),oe(ae[1]),oe(ae[2])]:[oe(ae),oe(ae),oe(ae)]}function $(ae){return Array.isArray(ae)?ae.length===3?[ae[0],ae[1],ae[2],1]:[ae[0],ae[1],ae[2],ae[3]]:[0,0,0,1]}function ne(ae){if(Array.isArray(ae)){if(Array.isArray(ae))return[$(ae[0]),$(ae[1]),$(ae[2])];var oe=$(ae);return[oe.slice(),oe.slice(),oe.slice()]}}F.drawPick=function(ae){ae=ae||{};var oe=this.gl;oe.disable(oe.CULL_FACE);var se=J;se.model=ae.model||O,se.view=ae.view||O,se.projection=ae.projection||O,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ee;for(var ce=0;ce<2;++ce)for(var me=se.clipBounds[ce],xe=0;xe<3;++xe)me[xe]=Math.min(Math.max(this.clipBounds[ce][xe],-1e8),1e8);var ve=U(se,this);if(ve.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(oe.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)this.surfaceProject[ce]&&(this._pickShader.uniforms.model=ve.projections[ce],this._pickShader.uniforms.clipBounds=ve.clipBounds[ce],this._vao.draw(oe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ve.showContour){var fe=this._contourPickShader;fe.bind(),fe.uniforms=se;var pe=this._contourVAO;for(pe.bind(),xe=0;xe<3;++xe)for(oe.lineWidth(this.contourWidth[xe]*this.pixelRatio),fe.uniforms.permutation=D[xe],ce=0;ce<this.contourLevels[xe].length;++ce)this._contourCounts[xe][ce]&&(fe.uniforms.height=this.contourLevels[xe][ce],pe.draw(oe.LINES,this._contourCounts[xe][ce],this._contourOffsets[xe][ce]));for(ce=0;ce<3;++ce)for(fe.uniforms.model=ve.projections[ce],fe.uniforms.clipBounds=ve.clipBounds[ce],xe=0;xe<3;++xe)if(this.contourProject[ce][xe]){fe.uniforms.permutation=D[xe],oe.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var Le=0;Le<this.contourLevels[xe].length;++Le)this._contourCounts[xe][Le]&&(fe.uniforms.height=this.contourLevels[xe][Le],pe.draw(oe.LINES,this._contourCounts[xe][Le],this._contourOffsets[xe][Le]))}pe.unbind()}},F.pick=function(ae){if(!ae||ae.id!==this.pickId)return null;var oe=this._field[2].shape,se=this._pickResult,ce=oe[0]*(ae.value[0]+(ae.value[2]>>4)/16)/255,me=Math.floor(ce),xe=ce-me,ve=oe[1]*(ae.value[1]+(15&ae.value[2])/16)/255,fe=Math.floor(ve),pe=ve-fe;me+=1,fe+=1;var Le=se.position;Le[0]=Le[1]=Le[2]=0;for(var ye=0;ye<2;++ye)for(var Ae=ye?xe:1-xe,Me=0;Me<2;++Me)for(var ke=me+ye,te=fe+Me,ue=Ae*(Me?pe:1-pe),ge=0;ge<3;++ge)Le[ge]+=this._field[ge].get(ke,te)*ue;for(var we=this._pickResult.level,Ee=0;Ee<3;++Ee)if(we[Ee]=g.le(this.contourLevels[Ee],Le[Ee]),we[Ee]<0)this.contourLevels[Ee].length>0&&(we[Ee]=0);else if(we[Ee]<this.contourLevels[Ee].length-1){var Be=this.contourLevels[Ee][we[Ee]],Re=this.contourLevels[Ee][we[Ee]+1];Math.abs(Be-Le[Ee])>Math.abs(Re-Le[Ee])&&(we[Ee]+=1)}for(se.index[0]=xe<.5?me:me+1,se.index[1]=pe<.5?fe:fe+1,se.uv[0]=ce/oe[0],se.uv[1]=ve/oe[1],ge=0;ge<3;++ge)se.dataCoordinate[ge]=this._field[ge].get(se.index[0],se.index[1]);return se},F.padField=function(ae,oe){var se=oe.shape.slice(),ce=ae.shape.slice();p.assign(ae.lo(1,1).hi(se[0],se[1]),oe),p.assign(ae.lo(1).hi(se[0],1),oe.hi(se[0],1)),p.assign(ae.lo(1,ce[1]-1).hi(se[0],1),oe.lo(0,se[1]-1).hi(se[0],1)),p.assign(ae.lo(0,1).hi(1,se[1]),oe.hi(1)),p.assign(ae.lo(ce[0]-1,1).hi(1,se[1]),oe.lo(se[0]-1)),ae.set(0,0,oe.get(0,0)),ae.set(0,ce[1]-1,oe.get(0,se[1]-1)),ae.set(ce[0]-1,0,oe.get(se[0]-1,0)),ae.set(ce[0]-1,ce[1]-1,oe.get(se[0]-1,se[1]-1))},F.update=function(ae){ae=ae||{},this.objectOffset=ae.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ae&&(this.contourWidth=Z(ae.contourWidth,Number)),"showContour"in ae&&(this.showContour=Z(ae.showContour,Boolean)),"showSurface"in ae&&(this.showSurface=!!ae.showSurface),"contourTint"in ae&&(this.contourTint=Z(ae.contourTint,Boolean)),"contourColor"in ae&&(this.contourColor=ne(ae.contourColor)),"contourProject"in ae&&(this.contourProject=Z(ae.contourProject,function(An){return Z(An,Boolean)})),"surfaceProject"in ae&&(this.surfaceProject=ae.surfaceProject),"dynamicColor"in ae&&(this.dynamicColor=ne(ae.dynamicColor)),"dynamicTint"in ae&&(this.dynamicTint=Z(ae.dynamicTint,Number)),"dynamicWidth"in ae&&(this.dynamicWidth=Z(ae.dynamicWidth,Number)),"opacity"in ae&&(this.opacity=ae.opacity),"opacityscale"in ae&&(this.opacityscale=ae.opacityscale),"colorBounds"in ae&&(this.colorBounds=ae.colorBounds),"vertexColor"in ae&&(this.vertexColor=ae.vertexColor?1:0),"colormap"in ae&&this._colorMap.setPixels(this.genColormap(ae.colormap,this.opacityscale));var oe=ae.field||ae.coords&&ae.coords[2]||null,se=!1;if(oe||(oe=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ae||"coords"in ae){var ce=(oe.shape[0]+2)*(oe.shape[1]+2);ce>this._field[2].data.length&&(i.freeFloat(this._field[2].data),this._field[2].data=i.mallocFloat(s.nextPow2(ce))),this._field[2]=_(this._field[2].data,[oe.shape[0]+2,oe.shape[1]+2]),this.padField(this._field[2],oe),this.shape=oe.shape.slice();for(var me=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(i.freeFloat(this._field[xe].data),this._field[xe].data=i.mallocFloat(this._field[2].size)),this._field[xe]=_(this._field[xe].data,[me[0]+2,me[1]+2]);if(ae.coords){var ve=ae.coords;if(!Array.isArray(ve)||ve.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var fe=ve[xe];for(Me=0;Me<2;++Me)if(fe.shape[Me]!==me[Me])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],fe)}}else if(ae.ticks){var pe=ae.ticks;if(!Array.isArray(pe)||pe.length!==2)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var Le=pe[xe];if((Array.isArray(Le)||Le.length)&&(Le=_(Le)),Le.shape[0]!==me[xe])throw new Error("gl-surface: invalid tick length");var ye=_(Le.data,me);ye.stride[xe]=Le.stride[0],ye.stride[1^xe]=0,this.padField(this._field[xe],ye)}}else{for(xe=0;xe<2;++xe){var Ae=[0,0];Ae[xe]=1,this._field[xe]=_(this._field[xe].data,[me[0]+2,me[1]+2],Ae,0)}this._field[0].set(0,0,0);for(var Me=0;Me<me[0];++Me)this._field[0].set(Me+1,0,Me);for(this._field[0].set(me[0]+1,0,me[0]-1),this._field[1].set(0,0,0),Me=0;Me<me[1];++Me)this._field[1].set(0,Me+1,Me);this._field[1].set(0,me[1]+1,me[1]-1)}var ke=this._field,te=_(i.mallocFloat(3*ke[2].size*2),[3,me[0]+2,me[1]+2,2]);for(xe=0;xe<3;++xe)v(te.pick(xe),ke[xe],"mirror");var ue=_(i.mallocFloat(3*ke[2].size),[me[0]+2,me[1]+2,3]);for(xe=0;xe<me[0]+2;++xe)for(Me=0;Me<me[1]+2;++Me){var ge=te.get(0,xe,Me,0),we=te.get(0,xe,Me,1),Ee=te.get(1,xe,Me,0),Be=te.get(1,xe,Me,1),Re=te.get(2,xe,Me,0),je=te.get(2,xe,Me,1),he=Ee*je-Be*Re,_e=Re*we-je*ge,Te=ge*Be-we*Ee,Fe=Math.sqrt(he*he+_e*_e+Te*Te);Fe<1e-8?(Fe=Math.max(Math.abs(he),Math.abs(_e),Math.abs(Te)))<1e-8?(Te=1,_e=he=0,Fe=1):Fe=1/Fe:Fe=1/Math.sqrt(Fe),ue.set(xe,Me,0,he*Fe),ue.set(xe,Me,1,_e*Fe),ue.set(xe,Me,2,Te*Fe)}i.free(te.data);var Ye=[1/0,1/0,1/0],Ge=[-1/0,-1/0,-1/0],ot=1/0,st=-1/0,ht=(me[0]-1)*(me[1]-1)*6,xt=i.mallocFloat(s.nextPow2(10*ht)),Ct=0,St=0;for(xe=0;xe<me[0]-1;++xe)e:for(Me=0;Me<me[1]-1;++Me){for(var kt=0;kt<2;++kt)for(var Nt=0;Nt<2;++Nt)for(var Dt=0;Dt<3;++Dt){var Et=this._field[Dt].get(1+xe+kt,1+Me+Nt);if(isNaN(Et)||!isFinite(Et))continue e}for(Dt=0;Dt<6;++Dt){var Wt=xe+P[Dt][0],Ht=Me+P[Dt][1],Ke=this._field[0].get(Wt+1,Ht+1),$e=this._field[1].get(Wt+1,Ht+1);Et=this._field[2].get(Wt+1,Ht+1),he=ue.get(Wt+1,Ht+1,0),_e=ue.get(Wt+1,Ht+1,1),Te=ue.get(Wt+1,Ht+1,2),ae.intensity&&(Ue=ae.intensity.get(Wt,Ht));var Ue=ae.intensity?ae.intensity.get(Wt,Ht):Et+this.objectOffset[2];xt[Ct++]=Wt,xt[Ct++]=Ht,xt[Ct++]=Ke,xt[Ct++]=$e,xt[Ct++]=Et,xt[Ct++]=0,xt[Ct++]=Ue,xt[Ct++]=he,xt[Ct++]=_e,xt[Ct++]=Te,Ye[0]=Math.min(Ye[0],Ke+this.objectOffset[0]),Ye[1]=Math.min(Ye[1],$e+this.objectOffset[1]),Ye[2]=Math.min(Ye[2],Et+this.objectOffset[2]),ot=Math.min(ot,Ue),Ge[0]=Math.max(Ge[0],Ke+this.objectOffset[0]),Ge[1]=Math.max(Ge[1],$e+this.objectOffset[1]),Ge[2]=Math.max(Ge[2],Et+this.objectOffset[2]),st=Math.max(st,Ue),St+=1}}for(ae.intensityBounds&&(ot=+ae.intensityBounds[0],st=+ae.intensityBounds[1]),xe=6;xe<Ct;xe+=10)xt[xe]=(xt[xe]-ot)/(st-ot);this._vertexCount=St,this._coordinateBuffer.update(xt.subarray(0,Ct)),i.freeFloat(xt),i.free(ue.data),this.bounds=[Ye,Ge],this.intensity=ae.intensity||this._field[2],this.intensityBounds[0]===ot&&this.intensityBounds[1]===st||(se=!0),this.intensityBounds=[ot,st]}if("levels"in ae){var nt=ae.levels;for(nt=Array.isArray(nt[0])?nt.slice():[[],[],nt],xe=0;xe<3;++xe)nt[xe]=nt[xe].slice(),nt[xe].sort(function(An,un){return An-un});for(xe=0;xe<3;++xe)for(Me=0;Me<nt[xe].length;++Me)nt[xe][Me]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(nt[xe].length!==this.contourLevels[xe].length){se=!0;break}for(Me=0;Me<nt[xe].length;++Me)if(nt[xe][Me]!==this.contourLevels[xe][Me]){se=!0;break e}}this.contourLevels=nt}if(se){ke=this._field,me=this.shape;for(var ct=[],Oe=0;Oe<3;++Oe){var Ne=this.contourLevels[Oe],Qe=[],ut=[],pt=[0,0,0];for(xe=0;xe<Ne.length;++xe){var wt=m(this._field[Oe],Ne[xe]);Qe.push(ct.length/5|0),St=0;e:for(Me=0;Me<wt.cells.length;++Me){var Lt=wt.cells[Me];for(Dt=0;Dt<2;++Dt){var It=wt.positions[Lt[Dt]],yt=It[0],Rt=0|Math.floor(yt),bt=yt-Rt,Pt=It[1],Bt=0|Math.floor(Pt),Zt=Pt-Bt,Yt=!1;t:for(var Kt=0;Kt<3;++Kt){pt[Kt]=0;var tn=(Oe+Kt+1)%3;for(kt=0;kt<2;++kt){var on=kt?bt:1-bt;for(Wt=0|Math.min(Math.max(Rt+kt,0),me[0]),Nt=0;Nt<2;++Nt){var _n=Nt?Zt:1-Zt;if(Ht=0|Math.min(Math.max(Bt+Nt,0),me[1]),Et=Kt<2?this._field[tn].get(Wt,Ht):(this.intensity.get(Wt,Ht)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Et)||isNaN(Et)){Yt=!0;break t}var fn=on*_n;pt[Kt]+=fn*Et}}}if(Yt){if(Dt>0){for(var Sn=0;Sn<5;++Sn)ct.pop();St-=1}continue e}ct.push(pt[0],pt[1],It[0],It[1],pt[2]),St+=1}}ut.push(St)}this._contourOffsets[Oe]=Qe,this._contourCounts[Oe]=ut}var Xn=i.mallocFloat(ct.length);for(xe=0;xe<ct.length;++xe)Xn[xe]=ct[xe];this._contourBuffer.update(Xn),i.freeFloat(Xn)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ae=0;ae<3;++ae)i.freeFloat(this._field[ae].data)},F.highlight=function(ae){var oe,se;if(!ae)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(oe=0;oe<3;++oe)this.enableHighlight[oe]?this.highlightLevel[oe]=ae.level[oe]:this.highlightLevel[oe]=-1;for(se=this.snapToData?ae.dataCoordinate:ae.position,oe=0;oe<3;++oe)se[oe]-=this.objectOffset[oe];if(this.enableDynamic[0]&&se[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&se[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&se[2]!==this.dynamicLevel[2]){for(var ce=0,me=this.shape,xe=i.mallocFloat(12*me[0]*me[1]),ve=0;ve<3;++ve)if(this.enableDynamic[ve]){this.dynamicLevel[ve]=se[ve];var fe=(ve+1)%3,pe=(ve+2)%3,Le=this._field[ve],ye=this._field[fe],Ae=this._field[pe],Me=m(Le,se[ve]),ke=Me.cells,te=Me.positions;for(this._dynamicOffsets[ve]=ce,oe=0;oe<ke.length;++oe)for(var ue=ke[oe],ge=0;ge<2;++ge){var we=te[ue[ge]],Ee=+we[0],Be=0|Ee,Re=0|Math.min(Be+1,me[0]),je=Ee-Be,he=1-je,_e=+we[1],Te=0|_e,Fe=0|Math.min(Te+1,me[1]),Ye=_e-Te,Ge=1-Ye,ot=he*Ge,st=he*Ye,ht=je*Ge,xt=je*Ye,Ct=ot*ye.get(Be,Te)+st*ye.get(Be,Fe)+ht*ye.get(Re,Te)+xt*ye.get(Re,Fe),St=ot*Ae.get(Be,Te)+st*Ae.get(Be,Fe)+ht*Ae.get(Re,Te)+xt*Ae.get(Re,Fe);if(isNaN(Ct)||isNaN(St)){ge&&(ce-=1);break}xe[2*ce+0]=Ct,xe[2*ce+1]=St,ce+=1}this._dynamicCounts[ve]=ce-this._dynamicOffsets[ve]}else this.dynamicLevel[ve]=NaN,this._dynamicCounts[ve]=0;this._dynamicBuffer.update(xe.subarray(0,2*ce)),i.freeFloat(xe)}}},8931:function(f,l,t){"use strict";var s=t(5050),o=t(7498),n=t(5306);f.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(r||p(A),typeof arguments[1]=="number")return T(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return T(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var C=arguments[1],O=h(C)?C:C.raw;if(O)return c(A,O,0|C.width,0|C.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(C.shape&&C.data&&C.stride)return E(A,C)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var r=null,i=null,u=null;function p(A){r=[A.LINEAR,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_NEAREST],i=[A.NEAREST,A.LINEAR,A.NEAREST_MIPMAP_NEAREST,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_LINEAR],u=[A.REPEAT,A.CLAMP_TO_EDGE,A.MIRRORED_REPEAT]}function h(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var _=function(A,C){o.muls(A,C,255)};function m(A,C,O){var P=A.gl,D=P.getParameter(P.MAX_TEXTURE_SIZE);if(C<0||C>D||O<0||O>D)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[C,O],A.bind(),P.texImage2D(P.TEXTURE_2D,0,A.format,C,O,0,A.format,A.type,null),A._mipLevels=[0],A}function d(A,C,O,P,D,z){this.gl=A,this.handle=C,this.format=D,this.type=z,this._shape=[O,P],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var V=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return V._wrapS},set:function(B){return V.wrapS=B}},{get:function(){return V._wrapT},set:function(B){return V.wrapT=B}}]),this._wrapVector=F;var W=[this._shape[0],this._shape[1]];Object.defineProperties(W,[{get:function(){return V._shape[0]},set:function(B){return V.width=B}},{get:function(){return V._shape[1]},set:function(B){return V.height=B}}]),this._shapeVector=W}var x=d.prototype;function g(A,C){return A.length===3?C[2]===1&&C[1]===A[0]*A[2]&&C[0]===A[2]:C[0]===1&&C[1]===A[0]}function v(A){var C=A.createTexture();return A.bindTexture(A.TEXTURE_2D,C),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),C}function T(A,C,O,P,D){var z=A.getParameter(A.MAX_TEXTURE_SIZE);if(C<0||C>z||O<0||O>z)throw new Error("gl-texture2d: Invalid texture shape");if(D===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var V=v(A);return A.texImage2D(A.TEXTURE_2D,0,P,C,O,0,P,D,null),new d(A,V,C,O,P,D)}function c(A,C,O,P,D,z){var V=v(A);return A.texImage2D(A.TEXTURE_2D,0,D,D,z,C),new d(A,V,O,P,D,z)}function E(A,C){var O=C.dtype,P=C.shape.slice(),D=A.getParameter(A.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>D||P[1]<0||P[1]>D)throw new Error("gl-texture2d: Invalid texture size");var z=g(P,C.stride.slice()),V=0;O==="float32"?V=A.FLOAT:O==="float64"?(V=A.FLOAT,z=!1,O="float32"):O==="uint8"?V=A.UNSIGNED_BYTE:(V=A.UNSIGNED_BYTE,z=!1,O="uint8");var F,W,B=0;if(P.length===2)B=A.LUMINANCE,P=[P[0],P[1],1],C=s(C.data,P,[C.stride[0],C.stride[1],1],C.offset);else{if(P.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(P[2]===1)B=A.ALPHA;else if(P[2]===2)B=A.LUMINANCE_ALPHA;else if(P[2]===3)B=A.RGB;else{if(P[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");B=A.RGBA}}V!==A.FLOAT||A.getExtension("OES_texture_float")||(V=A.UNSIGNED_BYTE,z=!1);var U=C.size;if(z)F=C.offset===0&&C.data.length===U?C.data:C.data.subarray(C.offset,C.offset+U);else{var H=[P[2],P[2]*P[0],1];W=n.malloc(U,O);var q=s(W,P,H,0);O!=="float32"&&O!=="float64"||V!==A.UNSIGNED_BYTE?o.assign(q,C):_(q,C),F=W.subarray(0,U)}var ee=v(A);return A.texImage2D(A.TEXTURE_2D,0,B,P[0],P[1],0,B,V,F),z||n.free(W),new d(A,ee,P[0],P[1],B,V)}Object.defineProperties(x,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var C=this.gl;if(this.type===C.FLOAT&&r.indexOf(A)>=0&&(C.getExtension("OES_texture_float_linear")||(A=C.NEAREST)),i.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var C=this.gl;if(this.type===C.FLOAT&&r.indexOf(A)>=0&&(C.getExtension("OES_texture_float_linear")||(A=C.NEAREST)),i.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var C=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),C!==this._anisoSamples){var O=this.gl.getExtension("EXT_texture_filter_anisotropic");O&&this.gl.texParameterf(this.gl.TEXTURE_2D,O.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),A.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var C=0;C<2;++C)if(u.indexOf(A[C])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var O=this.gl;return this.bind(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this._wrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(A.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return m(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return m(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return A|=0,m(this,this._shape[0],A),A}}}),x.bind=function(A){var C=this.gl;return A!==void 0&&C.activeTexture(C.TEXTURE0+(0|A)),C.bindTexture(C.TEXTURE_2D,this.handle),A!==void 0?0|A:C.getParameter(C.ACTIVE_TEXTURE)-C.TEXTURE0},x.dispose=function(){this.gl.deleteTexture(this.handle)},x.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),C=0;A>0;++C,A>>>=1)this._mipLevels.indexOf(C)<0&&this._mipLevels.push(C)},x.setPixels=function(A,C,O,P){var D=this.gl;this.bind(),Array.isArray(C)?(P=O,O=0|C[1],C=0|C[0]):(C=C||0,O=O||0),P=P||0;var z=h(A)?A:A.raw;if(z)this._mipLevels.indexOf(P)<0?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(P)):D.texSubImage2D(D.TEXTURE_2D,P,C,O,this.format,this.type,z);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||C+A.shape[1]>this._shape[1]>>>P||O+A.shape[0]>this._shape[0]>>>P||C<0||O<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(V,F,W,B,U,H,q,ee){var K=ee.dtype,J=ee.shape.slice();if(J.length<2||J.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Z=0,$=0,ne=g(J,ee.stride.slice());if(K==="float32"?Z=V.FLOAT:K==="float64"?(Z=V.FLOAT,ne=!1,K="float32"):K==="uint8"?Z=V.UNSIGNED_BYTE:(Z=V.UNSIGNED_BYTE,ne=!1,K="uint8"),J.length===2)$=V.LUMINANCE,J=[J[0],J[1],1],ee=s(ee.data,J,[ee.stride[0],ee.stride[1],1],ee.offset);else{if(J.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(J[2]===1)$=V.ALPHA;else if(J[2]===2)$=V.LUMINANCE_ALPHA;else if(J[2]===3)$=V.RGB;else{if(J[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");$=V.RGBA}J[2]}if($!==V.LUMINANCE&&$!==V.ALPHA||U!==V.LUMINANCE&&U!==V.ALPHA||($=U),$!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ae=ee.size,oe=q.indexOf(B)<0;if(oe&&q.push(B),Z===H&&ne)ee.offset===0&&ee.data.length===ae?oe?V.texImage2D(V.TEXTURE_2D,B,U,J[0],J[1],0,U,H,ee.data):V.texSubImage2D(V.TEXTURE_2D,B,F,W,J[0],J[1],U,H,ee.data):oe?V.texImage2D(V.TEXTURE_2D,B,U,J[0],J[1],0,U,H,ee.data.subarray(ee.offset,ee.offset+ae)):V.texSubImage2D(V.TEXTURE_2D,B,F,W,J[0],J[1],U,H,ee.data.subarray(ee.offset,ee.offset+ae));else{var se;se=H===V.FLOAT?n.mallocFloat32(ae):n.mallocUint8(ae);var ce=s(se,J,[J[2],J[2]*J[0],1]);Z===V.FLOAT&&H===V.UNSIGNED_BYTE?_(ce,ee):o.assign(ce,ee),oe?V.texImage2D(V.TEXTURE_2D,B,U,J[0],J[1],0,U,H,se.subarray(0,ae)):V.texSubImage2D(V.TEXTURE_2D,B,F,W,J[0],J[1],U,H,se.subarray(0,ae)),H===V.FLOAT?n.freeFloat32(se):n.freeUint8(se)}})(D,C,O,P,this.format,this.type,this._mipLevels,A)}}},3056:function(f){"use strict";f.exports=function(l,t,s){t?t.bind():l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null);var o=0|l.getParameter(l.MAX_VERTEX_ATTRIBS);if(s){if(s.length>o)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<s.length;++n){var r=s[n];if(r.buffer){var i=r.buffer,u=r.size||4,p=r.type||l.FLOAT,h=!!r.normalized,_=r.stride||0,m=r.offset||0;i.bind(),l.enableVertexAttribArray(n),l.vertexAttribPointer(n,u,p,h,_,m)}else{if(typeof r=="number")l.vertexAttrib1f(n,r);else if(r.length===1)l.vertexAttrib1f(n,r[0]);else if(r.length===2)l.vertexAttrib2f(n,r[0],r[1]);else if(r.length===3)l.vertexAttrib3f(n,r[0],r[1],r[2]);else{if(r.length!==4)throw new Error("gl-vao: Invalid vertex attribute");l.vertexAttrib4f(n,r[0],r[1],r[2],r[3])}l.disableVertexAttribArray(n)}}for(;n<o;++n)l.disableVertexAttribArray(n)}else for(l.bindBuffer(l.ARRAY_BUFFER,null),n=0;n<o;++n)l.disableVertexAttribArray(n)}},7220:function(f,l,t){"use strict";var s=t(3056);function o(n){this.gl=n,this._elements=null,this._attributes=null,this._elementsType=n.UNSIGNED_SHORT}o.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},o.prototype.update=function(n,r,i){this._elements=r,this._attributes=n,this._elementsType=i||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(n,r,i){i=i||0;var u=this.gl;this._elements?u.drawElements(n,r,this._elementsType,i):u.drawArrays(n,i,r)},f.exports=function(n){return new o(n)}},3778:function(f,l,t){"use strict";var s=t(3056);function o(r,i,u,p,h,_){this.location=r,this.dimension=i,this.a=u,this.b=p,this.c=h,this.d=_}function n(r,i,u){this.gl=r,this._ext=i,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=r.UNSIGNED_SHORT}o.prototype.bind=function(r){switch(this.dimension){case 1:r.vertexAttrib1f(this.location,this.a);break;case 2:r.vertexAttrib2f(this.location,this.a,this.b);break;case 3:r.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:r.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var r=0;r<this._attribs.length;++r)this._attribs[r].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(r,i,u){if(this.bind(),s(this.gl,i,r),this.unbind(),this._attribs.length=0,r)for(var p=0;p<r.length;++p){var h=r[p];typeof h=="number"?this._attribs.push(new o(p,1,h)):Array.isArray(h)&&this._attribs.push(new o(p,h.length,h[0],h[1],h[2],h[3]))}this._useElements=!!i,this._elementsType=u||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(r,i,u){u=u||0;var p=this.gl;this._useElements?p.drawElements(r,i,this._elementsType,u):p.drawArrays(r,u,i)},f.exports=function(r,i){return new n(r,i,i.createVertexArrayOES())}},2944:function(f,l,t){"use strict";var s=t(3778),o=t(7220);function n(r){this.bindVertexArrayOES=r.bindVertexArray.bind(r),this.createVertexArrayOES=r.createVertexArray.bind(r),this.deleteVertexArrayOES=r.deleteVertexArray.bind(r)}f.exports=function(r,i,u,p){var h,_=r.createVertexArray?new n(r):r.getExtension("OES_vertex_array_object");return(h=_?s(r,_):o(r)).update(i,u,p),h}},2598:function(f){f.exports=function(l,t,s){return l[0]=t[0]+s[0],l[1]=t[1]+s[1],l[2]=t[2]+s[2],l}},5879:function(f,l,t){f.exports=function(r,i){var u=s(r[0],r[1],r[2]),p=s(i[0],i[1],i[2]);o(u,u),o(p,p);var h=n(u,p);return h>1?0:Math.acos(h)};var s=t(5415),o=t(899),n=t(9305)},8827:function(f){f.exports=function(l,t){return l[0]=Math.ceil(t[0]),l[1]=Math.ceil(t[1]),l[2]=Math.ceil(t[2]),l}},7622:function(f){f.exports=function(l){var t=new Float32Array(3);return t[0]=l[0],t[1]=l[1],t[2]=l[2],t}},8782:function(f){f.exports=function(l,t){return l[0]=t[0],l[1]=t[1],l[2]=t[2],l}},8501:function(f){f.exports=function(){var l=new Float32Array(3);return l[0]=0,l[1]=0,l[2]=0,l}},903:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=s[0],u=s[1],p=s[2];return l[0]=n*p-r*u,l[1]=r*i-o*p,l[2]=o*u-n*i,l}},5981:function(f,l,t){f.exports=t(8288)},8288:function(f){f.exports=function(l,t){var s=t[0]-l[0],o=t[1]-l[1],n=t[2]-l[2];return Math.sqrt(s*s+o*o+n*n)}},8629:function(f,l,t){f.exports=t(7979)},7979:function(f){f.exports=function(l,t,s){return l[0]=t[0]/s[0],l[1]=t[1]/s[1],l[2]=t[2]/s[2],l}},9305:function(f){f.exports=function(l,t){return l[0]*t[0]+l[1]*t[1]+l[2]*t[2]}},154:function(f){f.exports=1e-6},4932:function(f,l,t){f.exports=function(o,n){var r=o[0],i=o[1],u=o[2],p=n[0],h=n[1],_=n[2];return Math.abs(r-p)<=s*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-h)<=s*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-_)<=s*Math.max(1,Math.abs(u),Math.abs(_))};var s=t(154)},5777:function(f){f.exports=function(l,t){return l[0]===t[0]&&l[1]===t[1]&&l[2]===t[2]}},3306:function(f){f.exports=function(l,t){return l[0]=Math.floor(t[0]),l[1]=Math.floor(t[1]),l[2]=Math.floor(t[2]),l}},7447:function(f,l,t){f.exports=function(o,n,r,i,u,p){var h,_;for(n||(n=3),r||(r=0),_=i?Math.min(i*n+r,o.length):o.length,h=r;h<_;h+=n)s[0]=o[h],s[1]=o[h+1],s[2]=o[h+2],u(s,s,p),o[h]=s[0],o[h+1]=s[1],o[h+2]=s[2];return o};var s=t(8501)()},5415:function(f){f.exports=function(l,t,s){var o=new Float32Array(3);return o[0]=l,o[1]=t,o[2]=s,o}},2858:function(f,l,t){f.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(f){f.exports=function(l,t){return l[0]=1/t[0],l[1]=1/t[1],l[2]=1/t[2],l}},1468:function(f,l,t){f.exports=t(4693)},4693:function(f){f.exports=function(l){var t=l[0],s=l[1],o=l[2];return Math.sqrt(t*t+s*s+o*o)}},1868:function(f){f.exports=function(l,t,s,o){var n=t[0],r=t[1],i=t[2];return l[0]=n+o*(s[0]-n),l[1]=r+o*(s[1]-r),l[2]=i+o*(s[2]-i),l}},1716:function(f){f.exports=function(l,t,s){return l[0]=Math.max(t[0],s[0]),l[1]=Math.max(t[1],s[1]),l[2]=Math.max(t[2],s[2]),l}},3605:function(f){f.exports=function(l,t,s){return l[0]=Math.min(t[0],s[0]),l[1]=Math.min(t[1],s[1]),l[2]=Math.min(t[2],s[2]),l}},5733:function(f,l,t){f.exports=t(105)},105:function(f){f.exports=function(l,t,s){return l[0]=t[0]*s[0],l[1]=t[1]*s[1],l[2]=t[2]*s[2],l}},435:function(f){f.exports=function(l,t){return l[0]=-t[0],l[1]=-t[1],l[2]=-t[2],l}},899:function(f){f.exports=function(l,t){var s=t[0],o=t[1],n=t[2],r=s*s+o*o+n*n;return r>0&&(r=1/Math.sqrt(r),l[0]=t[0]*r,l[1]=t[1]*r,l[2]=t[2]*r),l}},6660:function(f){f.exports=function(l,t){t=t||1;var s=2*Math.random()*Math.PI,o=2*Math.random()-1,n=Math.sqrt(1-o*o)*t;return l[0]=Math.cos(s)*n,l[1]=Math.sin(s)*n,l[2]=o*t,l}},392:function(f){f.exports=function(l,t,s,o){var n=s[1],r=s[2],i=t[1]-n,u=t[2]-r,p=Math.sin(o),h=Math.cos(o);return l[0]=t[0],l[1]=n+i*h-u*p,l[2]=r+i*p+u*h,l}},3222:function(f){f.exports=function(l,t,s,o){var n=s[0],r=s[2],i=t[0]-n,u=t[2]-r,p=Math.sin(o),h=Math.cos(o);return l[0]=n+u*p+i*h,l[1]=t[1],l[2]=r+u*h-i*p,l}},3388:function(f){f.exports=function(l,t,s,o){var n=s[0],r=s[1],i=t[0]-n,u=t[1]-r,p=Math.sin(o),h=Math.cos(o);return l[0]=n+i*h-u*p,l[1]=r+i*p+u*h,l[2]=t[2],l}},1624:function(f){f.exports=function(l,t){return l[0]=Math.round(t[0]),l[1]=Math.round(t[1]),l[2]=Math.round(t[2]),l}},5685:function(f){f.exports=function(l,t,s){return l[0]=t[0]*s,l[1]=t[1]*s,l[2]=t[2]*s,l}},6722:function(f){f.exports=function(l,t,s,o){return l[0]=t[0]+s[0]*o,l[1]=t[1]+s[1]*o,l[2]=t[2]+s[2]*o,l}},831:function(f){f.exports=function(l,t,s,o){return l[0]=t,l[1]=s,l[2]=o,l}},5294:function(f,l,t){f.exports=t(6403)},3303:function(f,l,t){f.exports=t(4337)},6403:function(f){f.exports=function(l,t){var s=t[0]-l[0],o=t[1]-l[1],n=t[2]-l[2];return s*s+o*o+n*n}},4337:function(f){f.exports=function(l){var t=l[0],s=l[1],o=l[2];return t*t+s*s+o*o}},8921:function(f,l,t){f.exports=t(911)},911:function(f){f.exports=function(l,t,s){return l[0]=t[0]-s[0],l[1]=t[1]-s[1],l[2]=t[2]-s[2],l}},9908:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2];return l[0]=o*s[0]+n*s[3]+r*s[6],l[1]=o*s[1]+n*s[4]+r*s[7],l[2]=o*s[2]+n*s[5]+r*s[8],l}},3255:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=s[3]*o+s[7]*n+s[11]*r+s[15];return i=i||1,l[0]=(s[0]*o+s[4]*n+s[8]*r+s[12])/i,l[1]=(s[1]*o+s[5]*n+s[9]*r+s[13])/i,l[2]=(s[2]*o+s[6]*n+s[10]*r+s[14])/i,l}},6568:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=s[0],u=s[1],p=s[2],h=s[3],_=h*o+u*r-p*n,m=h*n+p*o-i*r,d=h*r+i*n-u*o,x=-i*o-u*n-p*r;return l[0]=_*h+x*-i+m*-p-d*-u,l[1]=m*h+x*-u+d*-i-_*-p,l[2]=d*h+x*-p+_*-u-m*-i,l}},3433:function(f){f.exports=function(l,t,s){return l[0]=t[0]+s[0],l[1]=t[1]+s[1],l[2]=t[2]+s[2],l[3]=t[3]+s[3],l}},1413:function(f){f.exports=function(l){var t=new Float32Array(4);return t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t}},3470:function(f){f.exports=function(l,t){return l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l}},5313:function(f){f.exports=function(){var l=new Float32Array(4);return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l}},5446:function(f){f.exports=function(l,t){var s=t[0]-l[0],o=t[1]-l[1],n=t[2]-l[2],r=t[3]-l[3];return Math.sqrt(s*s+o*o+n*n+r*r)}},205:function(f){f.exports=function(l,t,s){return l[0]=t[0]/s[0],l[1]=t[1]/s[1],l[2]=t[2]/s[2],l[3]=t[3]/s[3],l}},4242:function(f){f.exports=function(l,t){return l[0]*t[0]+l[1]*t[1]+l[2]*t[2]+l[3]*t[3]}},5680:function(f){f.exports=function(l,t,s,o){var n=new Float32Array(4);return n[0]=l,n[1]=t,n[2]=s,n[3]=o,n}},4020:function(f,l,t){f.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(f){f.exports=function(l,t){return l[0]=1/t[0],l[1]=1/t[1],l[2]=1/t[2],l[3]=1/t[3],l}},8177:function(f){f.exports=function(l){var t=l[0],s=l[1],o=l[2],n=l[3];return Math.sqrt(t*t+s*s+o*o+n*n)}},8746:function(f){f.exports=function(l,t,s,o){var n=t[0],r=t[1],i=t[2],u=t[3];return l[0]=n+o*(s[0]-n),l[1]=r+o*(s[1]-r),l[2]=i+o*(s[2]-i),l[3]=u+o*(s[3]-u),l}},3030:function(f){f.exports=function(l,t,s){return l[0]=Math.max(t[0],s[0]),l[1]=Math.max(t[1],s[1]),l[2]=Math.max(t[2],s[2]),l[3]=Math.max(t[3],s[3]),l}},2170:function(f){f.exports=function(l,t,s){return l[0]=Math.min(t[0],s[0]),l[1]=Math.min(t[1],s[1]),l[2]=Math.min(t[2],s[2]),l[3]=Math.min(t[3],s[3]),l}},746:function(f){f.exports=function(l,t,s){return l[0]=t[0]*s[0],l[1]=t[1]*s[1],l[2]=t[2]*s[2],l[3]=t[3]*s[3],l}},6459:function(f){f.exports=function(l,t){return l[0]=-t[0],l[1]=-t[1],l[2]=-t[2],l[3]=-t[3],l}},381:function(f){f.exports=function(l,t){var s=t[0],o=t[1],n=t[2],r=t[3],i=s*s+o*o+n*n+r*r;return i>0&&(i=1/Math.sqrt(i),l[0]=s*i,l[1]=o*i,l[2]=n*i,l[3]=r*i),l}},3770:function(f,l,t){var s=t(381),o=t(5510);f.exports=function(n,r){return r=r||1,n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),s(n,n),o(n,n,r),n}},5510:function(f){f.exports=function(l,t,s){return l[0]=t[0]*s,l[1]=t[1]*s,l[2]=t[2]*s,l[3]=t[3]*s,l}},4224:function(f){f.exports=function(l,t,s,o){return l[0]=t[0]+s[0]*o,l[1]=t[1]+s[1]*o,l[2]=t[2]+s[2]*o,l[3]=t[3]+s[3]*o,l}},6453:function(f){f.exports=function(l,t,s,o,n){return l[0]=t,l[1]=s,l[2]=o,l[3]=n,l}},1542:function(f){f.exports=function(l,t){var s=t[0]-l[0],o=t[1]-l[1],n=t[2]-l[2],r=t[3]-l[3];return s*s+o*o+n*n+r*r}},9037:function(f){f.exports=function(l){var t=l[0],s=l[1],o=l[2],n=l[3];return t*t+s*s+o*o+n*n}},2705:function(f){f.exports=function(l,t,s){return l[0]=t[0]-s[0],l[1]=t[1]-s[1],l[2]=t[2]-s[2],l[3]=t[3]-s[3],l}},6342:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=t[3];return l[0]=s[0]*o+s[4]*n+s[8]*r+s[12]*i,l[1]=s[1]*o+s[5]*n+s[9]*r+s[13]*i,l[2]=s[2]*o+s[6]*n+s[10]*r+s[14]*i,l[3]=s[3]*o+s[7]*n+s[11]*r+s[15]*i,l}},5022:function(f){f.exports=function(l,t,s){var o=t[0],n=t[1],r=t[2],i=s[0],u=s[1],p=s[2],h=s[3],_=h*o+u*r-p*n,m=h*n+p*o-i*r,d=h*r+i*n-u*o,x=-i*o-u*n-p*r;return l[0]=_*h+x*-i+m*-p-d*-u,l[1]=m*h+x*-u+d*-i-_*-p,l[2]=d*h+x*-p+_*-u-m*-i,l[3]=t[3],l}},9365:function(f,l,t){var s=t(8096),o=t(7896);f.exports=function(n){for(var r=Array.isArray(n)?n:s(n),i=0;i<r.length;i++){var u=r[i];if(u.type==="preprocessor"){var p=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var h=p[1],_=p[2];return(h?o(_):_).trim()}}}}},3193:function(f,l,t){f.exports=function(_){var m,d,x,g=0,v=0,T=u,c=[],E=[],A=1,C=0,O=0,P=!1,D=!1,z="",V=n,F=s;(_=_||{}).version==="300 es"&&(V=i,F=r);var W={},B={};for(g=0;g<V.length;g++)W[V[g]]=!0;for(g=0;g<F.length;g++)B[F[g]]=!0;return function(se){return E=[],se!==null?function(ce){var me;for(g=0,ce.toString&&(ce=ce.toString()),z+=ce.replace(/\r\n/g,`
`),x=z.length;m=z[g],g<x;){switch(me=g,T){case 0:g=K();break;case 1:case 2:g=ee();break;case 3:g=J();break;case 4:g=ne();break;case 11:g=$();break;case 5:g=ae();break;case p:g=oe();break;case 9:g=q();break;case u:g=H()}me!==g&&(z[me]===`
`?(C=0,++A):++C)}return v+=g,z=z.slice(g),E}(se):(c.length&&U(c.join("")),T=10,U("(eof)"),E)};function U(se){se.length&&E.push({type:h[T],data:se,position:O,line:A,column:C})}function H(){return c=c.length?[]:c,d==="/"&&m==="*"?(O=v+g-1,T=0,d=m,g+1):d==="/"&&m==="/"?(O=v+g-1,T=1,d=m,g+1):m==="#"?(T=2,O=v+g,g):/\s/.test(m)?(T=9,O=v+g,g):(P=/\d/.test(m),D=/[^\w_]/.test(m),O=v+g,T=P?4:D?3:p,g)}function q(){return/[^\s]/g.test(m)?(U(c.join("")),T=u,g):(c.push(m),d=m,g+1)}function ee(){return m!=="\r"&&m!==`
`||d==="\\"?(c.push(m),d=m,g+1):(U(c.join("")),T=u,g)}function K(){return m==="/"&&d==="*"?(c.push(m),U(c.join("")),T=u,g+1):(c.push(m),d=m,g+1)}function J(){if(d==="."&&/\d/.test(m))return T=5,g;if(d==="/"&&m==="*")return T=0,g;if(d==="/"&&m==="/")return T=1,g;if(m==="."&&c.length){for(;Z(c););return T=5,g}if(m===";"||m===")"||m==="("){if(c.length)for(;Z(c););return U(m),T=u,g+1}var se=c.length===2&&m!=="=";if(/[\w_\d\s]/.test(m)||se){for(;Z(c););return T=u,g}return c.push(m),d=m,g+1}function Z(se){for(var ce,me,xe=0;;){if(ce=o.indexOf(se.slice(0,se.length+xe).join("")),me=o[ce],ce===-1){if(xe--+se.length>0)continue;me=se.slice(0,1).join("")}return U(me),O+=me.length,(c=c.slice(me.length)).length}}function $(){return/[^a-fA-F0-9]/.test(m)?(U(c.join("")),T=u,g):(c.push(m),d=m,g+1)}function ne(){return m==="."||/[eE]/.test(m)?(c.push(m),T=5,d=m,g+1):m==="x"&&c.length===1&&c[0]==="0"?(T=11,c.push(m),d=m,g+1):/[^\d]/.test(m)?(U(c.join("")),T=u,g):(c.push(m),d=m,g+1)}function ae(){return m==="f"&&(c.push(m),d=m,g+=1),/[eE]/.test(m)?(c.push(m),d=m,g+1):(m!=="-"&&m!=="+"||!/[eE]/.test(d))&&/[^\d]/.test(m)?(U(c.join("")),T=u,g):(c.push(m),d=m,g+1)}function oe(){if(/[^\d\w_]/.test(m)){var se=c.join("");return T=B[se]?8:W[se]?7:6,U(c.join("")),T=u,g}return c.push(m),d=m,g+1}};var s=t(399),o=t(9746),n=t(9525),r=t(9458),i=t(3585),u=999,p=9999,h=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(f,l,t){var s=t(9525);s=s.slice().filter(function(o){return!/^(gl\_|texture)/.test(o)}),f.exports=s.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(f){f.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(f,l,t){var s=t(399);f.exports=s.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(f){f.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(f){f.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(f,l,t){var s=t(3193);f.exports=function(o,n){var r=s(n),i=[];return(i=i.concat(r(o))).concat(r(null))}},6832:function(f){f.exports=function(l){typeof l=="string"&&(l=[l]);for(var t=[].slice.call(arguments,1),s=[],o=0;o<l.length-1;o++)s.push(l[o],t[o]||"");return s.push(l[o]),s.join("")}},5233:function(f,l,t){"use strict";var s=t(4846);f.exports=s&&function(){var o=!1;try{var n=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{o=!1}return o}()},2183:function(f,l,t){"use strict";f.exports=function(_,m){var d=_.length;if(d===0)throw new Error("Must have at least d+1 points");var x=_[0].length;if(d<=x)throw new Error("Must input at least d+1 points");var g=_.slice(0,x+1),v=s.apply(void 0,g);if(v===0)throw new Error("Input not in general position");for(var T=new Array(x+1),c=0;c<=x;++c)T[c]=c;v<0&&(T[0]=1,T[1]=0);var E=new n(T,new Array(x+1),!1),A=E.adjacent,C=new Array(x+2);for(c=0;c<=x;++c){for(var O=T.slice(),P=0;P<=x;++P)P===c&&(O[P]=-1);var D=O[0];O[0]=O[1],O[1]=D;var z=new n(O,new Array(x+1),!0);A[c]=z,C[c]=z}for(C[x+1]=E,c=0;c<=x;++c){O=A[c].vertices;var V=A[c].adjacent;for(P=0;P<=x;++P){var F=O[P];if(F<0)V[P]=E;else for(var W=0;W<=x;++W)A[W].vertices.indexOf(F)<0&&(V[P]=A[W])}}var B=new p(x,g,C),U=!!m;for(c=x+1;c<d;++c)B.insert(_[c],U);return B.boundary()};var s=t(417),o=t(8211).H;function n(_,m,d){this.vertices=_,this.adjacent=m,this.boundary=d,this.lastVisited=-1}function r(_,m,d){this.vertices=_,this.cell=m,this.index=d}function i(_,m){return o(_.vertices,m.vertices)}n.prototype.flip=function(){var _=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=_;var m=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=m};var u=[];function p(_,m,d){this.dimension=_,this.vertices=m,this.simplices=d,this.interior=d.filter(function(T){return!T.boundary}),this.tuple=new Array(_+1);for(var x=0;x<=_;++x)this.tuple[x]=this.vertices[x];var g,v=u[_];v||(v=u[_]=((g=s[_+1])||(g=s),function(T){return function(){var c=this.tuple;return T.apply(this,c)}}(g))),this.orient=v}var h=p.prototype;h.handleBoundaryDegeneracy=function(_,m){var d=this.dimension,x=this.vertices.length-1,g=this.tuple,v=this.vertices,T=[_];for(_.lastVisited=-x;T.length>0;)for(var c=(_=T.pop()).adjacent,E=0;E<=d;++E){var A=c[E];if(A.boundary&&!(A.lastVisited<=-x)){for(var C=A.vertices,O=0;O<=d;++O){var P=C[O];g[O]=P<0?m:v[P]}var D=this.orient();if(D>0)return A;A.lastVisited=-x,D===0&&T.push(A)}}return null},h.walk=function(_,m){var d=this.vertices.length-1,x=this.dimension,g=this.vertices,v=this.tuple,T=m?this.interior.length*Math.random()|0:this.interior.length-1,c=this.interior[T];e:for(;!c.boundary;){for(var E=c.vertices,A=c.adjacent,C=0;C<=x;++C)v[C]=g[E[C]];for(c.lastVisited=d,C=0;C<=x;++C){var O=A[C];if(!(O.lastVisited>=d)){var P=v[C];v[C]=_;var D=this.orient();if(v[C]=P,D<0){c=O;continue e}O.boundary?O.lastVisited=-d:O.lastVisited=d}}return}return c},h.addPeaks=function(_,m){var d=this.vertices.length-1,x=this.dimension,g=this.vertices,v=this.tuple,T=this.interior,c=this.simplices,E=[m];m.lastVisited=d,m.vertices[m.vertices.indexOf(-1)]=d,m.boundary=!1,T.push(m);for(var A=[];E.length>0;){var C=(m=E.pop()).vertices,O=m.adjacent,P=C.indexOf(d);if(!(P<0)){for(var D=0;D<=x;++D)if(D!==P){var z=O[D];if(z.boundary&&!(z.lastVisited>=d)){var V=z.vertices;if(z.lastVisited!==-d){for(var F=0,W=0;W<=x;++W)V[W]<0?(F=W,v[W]=_):v[W]=g[V[W]];if(this.orient()>0){V[F]=d,z.boundary=!1,T.push(z),E.push(z),z.lastVisited=d;continue}z.lastVisited=-d}var B=z.adjacent,U=C.slice(),H=O.slice(),q=new n(U,H,!0);c.push(q);var ee=B.indexOf(m);if(!(ee<0))for(B[ee]=q,H[P]=z,U[D]=-1,H[D]=m,O[D]=q,q.flip(),W=0;W<=x;++W){var K=U[W];if(!(K<0||K===d)){for(var J=new Array(x-1),Z=0,$=0;$<=x;++$){var ne=U[$];ne<0||$===W||(J[Z++]=ne)}A.push(new r(J,q,W))}}}}}}for(A.sort(i),D=0;D+1<A.length;D+=2){var ae=A[D],oe=A[D+1],se=ae.index,ce=oe.index;se<0||ce<0||(ae.cell.adjacent[ae.index]=oe.cell,oe.cell.adjacent[oe.index]=ae.cell)}},h.insert=function(_,m){var d=this.vertices;d.push(_);var x=this.walk(_,m);if(x){for(var g=this.dimension,v=this.tuple,T=0;T<=g;++T){var c=x.vertices[T];v[T]=c<0?_:d[c]}var E=this.orient(v);E<0||(E!==0||(x=this.handleBoundaryDegeneracy(x,_)))&&this.addPeaks(_,x)}},h.boundary=function(){for(var _=this.dimension,m=[],d=this.simplices,x=d.length,g=0;g<x;++g){var v=d[g];if(v.boundary){for(var T=new Array(_),c=v.vertices,E=0,A=0,C=0;C<=_;++C)c[C]>=0?T[E++]=c[C]:A=1&C;if(A===(1&_)){var O=T[0];T[0]=T[1],T[1]=O}m.push(T)}}return m}},9014:function(f,l,t){"use strict";var s=t(5070);function o(E,A,C,O,P){this.mid=E,this.left=A,this.right=C,this.leftPoints=O,this.rightPoints=P,this.count=(A?A.count:0)+(C?C.count:0)+O.length}f.exports=function(E){return E&&E.length!==0?new T(v(E)):new T(null)};var n=o.prototype;function r(E,A){E.mid=A.mid,E.left=A.left,E.right=A.right,E.leftPoints=A.leftPoints,E.rightPoints=A.rightPoints,E.count=A.count}function i(E,A){var C=v(A);E.mid=C.mid,E.left=C.left,E.right=C.right,E.leftPoints=C.leftPoints,E.rightPoints=C.rightPoints,E.count=C.count}function u(E,A){var C=E.intervals([]);C.push(A),i(E,C)}function p(E,A){var C=E.intervals([]),O=C.indexOf(A);return O<0?0:(C.splice(O,1),i(E,C),1)}function h(E,A,C){for(var O=0;O<E.length&&E[O][0]<=A;++O){var P=C(E[O]);if(P)return P}}function _(E,A,C){for(var O=E.length-1;O>=0&&E[O][1]>=A;--O){var P=C(E[O]);if(P)return P}}function m(E,A){for(var C=0;C<E.length;++C){var O=A(E[C]);if(O)return O}}function d(E,A){return E-A}function x(E,A){return E[0]-A[0]||E[1]-A[1]}function g(E,A){return E[1]-A[1]||E[0]-A[0]}function v(E){if(E.length===0)return null;for(var A=[],C=0;C<E.length;++C)A.push(E[C][0],E[C][1]);A.sort(d);var O=A[A.length>>1],P=[],D=[],z=[];for(C=0;C<E.length;++C){var V=E[C];V[1]<O?P.push(V):O<V[0]?D.push(V):z.push(V)}var F=z,W=z.slice();return F.sort(x),W.sort(g),new o(O,v(P),v(D),F,W)}function T(E){this.root=E}n.intervals=function(E){return E.push.apply(E,this.leftPoints),this.left&&this.left.intervals(E),this.right&&this.right.intervals(E),E},n.insert=function(E){var A=this.count-this.leftPoints.length;if(this.count+=1,E[1]<this.mid)this.left?4*(this.left.count+1)>3*(A+1)?u(this,E):this.left.insert(E):this.left=v([E]);else if(E[0]>this.mid)this.right?4*(this.right.count+1)>3*(A+1)?u(this,E):this.right.insert(E):this.right=v([E]);else{var C=s.ge(this.leftPoints,E,x),O=s.ge(this.rightPoints,E,g);this.leftPoints.splice(C,0,E),this.rightPoints.splice(O,0,E)}},n.remove=function(E){var A=this.count-this.leftPoints;if(E[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(A-1)?p(this,E):(D=this.left.remove(E))===2?(this.left=null,this.count-=1,1):(D===1&&(this.count-=1),D):0;if(E[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(A-1)?p(this,E):(D=this.right.remove(E))===2?(this.right=null,this.count-=1,1):(D===1&&(this.count-=1),D):0;if(this.count===1)return this.leftPoints[0]===E?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===E){if(this.left&&this.right){for(var C=this,O=this.left;O.right;)C=O,O=O.right;if(C===this)O.right=this.right;else{var P=this.left,D=this.right;C.count-=O.count,C.right=O.left,O.left=P,O.right=D}r(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?r(this,this.left):r(this,this.right);return 1}for(P=s.ge(this.leftPoints,E,x);P<this.leftPoints.length&&this.leftPoints[P][0]===E[0];++P)if(this.leftPoints[P]===E){for(this.count-=1,this.leftPoints.splice(P,1),D=s.ge(this.rightPoints,E,g);D<this.rightPoints.length&&this.rightPoints[D][1]===E[1];++D)if(this.rightPoints[D]===E)return this.rightPoints.splice(D,1),1}return 0},n.queryPoint=function(E,A){return E<this.mid?this.left&&(C=this.left.queryPoint(E,A))?C:h(this.leftPoints,E,A):E>this.mid?this.right&&(C=this.right.queryPoint(E,A))?C:_(this.rightPoints,E,A):m(this.leftPoints,A);var C},n.queryInterval=function(E,A,C){var O;return E<this.mid&&this.left&&(O=this.left.queryInterval(E,A,C))||A>this.mid&&this.right&&(O=this.right.queryInterval(E,A,C))?O:A<this.mid?h(this.leftPoints,A,C):E>this.mid?_(this.rightPoints,E,C):m(this.leftPoints,C)};var c=T.prototype;c.insert=function(E){this.root?this.root.insert(E):this.root=new o(E[0],null,null,[E],[E])},c.remove=function(E){if(this.root){var A=this.root.remove(E);return A===2&&(this.root=null),A!==0}return!1},c.queryPoint=function(E,A){if(this.root)return this.root.queryPoint(E,A)},c.queryInterval=function(E,A,C){if(E<=A&&this.root)return this.root.queryInterval(E,A,C)},Object.defineProperty(c,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(c,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(f){"use strict";f.exports=function(l){for(var t=new Array(l),s=0;s<l;++s)t[s]=s;return t}},4846:function(f){f.exports=!0},4780:function(f){function l(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}f.exports=function(t){return t!=null&&(l(t)||function(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&l(s.slice(0,0))}(t)||!!t._isBuffer)}},3596:function(f){"use strict";f.exports=function(l){for(var t,s=l.length,o=0;o<s;o++)if(((t=l.charCodeAt(o))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(f){f.exports=function(l,t,s){return l*(1-s)+t*s}},7191:function(f,l,t){var s=t(4690),o=t(9823),n=t(7332),r=t(7787),i=t(7437),u=t(2142),p={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},h=o(),_=o(),m=[0,0,0,0],d=[[0,0,0],[0,0,0],[0,0,0]],x=[0,0,0];function g(v,T,c,E,A){v[0]=T[0]*E+c[0]*A,v[1]=T[1]*E+c[1]*A,v[2]=T[2]*E+c[2]*A}f.exports=function(v,T,c,E,A,C){if(T||(T=[0,0,0]),c||(c=[0,0,0]),E||(E=[0,0,0]),A||(A=[0,0,0,1]),C||(C=[0,0,0,1]),!s(h,v)||(n(_,h),_[3]=0,_[7]=0,_[11]=0,_[15]=1,Math.abs(r(_)<1e-8)))return!1;var O,P,D,z,V,F,W,B=h[3],U=h[7],H=h[11],q=h[12],ee=h[13],K=h[14],J=h[15];if(B!==0||U!==0||H!==0){if(m[0]=B,m[1]=U,m[2]=H,m[3]=J,!i(_,_))return!1;u(_,_),O=A,D=_,z=(P=m)[0],V=P[1],F=P[2],W=P[3],O[0]=D[0]*z+D[4]*V+D[8]*F+D[12]*W,O[1]=D[1]*z+D[5]*V+D[9]*F+D[13]*W,O[2]=D[2]*z+D[6]*V+D[10]*F+D[14]*W,O[3]=D[3]*z+D[7]*V+D[11]*F+D[15]*W}else A[0]=A[1]=A[2]=0,A[3]=1;if(T[0]=q,T[1]=ee,T[2]=K,function($,ne){$[0][0]=ne[0],$[0][1]=ne[1],$[0][2]=ne[2],$[1][0]=ne[4],$[1][1]=ne[5],$[1][2]=ne[6],$[2][0]=ne[8],$[2][1]=ne[9],$[2][2]=ne[10]}(d,h),c[0]=p.length(d[0]),p.normalize(d[0],d[0]),E[0]=p.dot(d[0],d[1]),g(d[1],d[1],d[0],1,-E[0]),c[1]=p.length(d[1]),p.normalize(d[1],d[1]),E[0]/=c[1],E[1]=p.dot(d[0],d[2]),g(d[2],d[2],d[0],1,-E[1]),E[2]=p.dot(d[1],d[2]),g(d[2],d[2],d[1],1,-E[2]),c[2]=p.length(d[2]),p.normalize(d[2],d[2]),E[1]/=c[2],E[2]/=c[2],p.cross(x,d[1],d[2]),p.dot(d[0],x)<0)for(var Z=0;Z<3;Z++)c[Z]*=-1,d[Z][0]*=-1,d[Z][1]*=-1,d[Z][2]*=-1;return C[0]=.5*Math.sqrt(Math.max(1+d[0][0]-d[1][1]-d[2][2],0)),C[1]=.5*Math.sqrt(Math.max(1-d[0][0]+d[1][1]-d[2][2],0)),C[2]=.5*Math.sqrt(Math.max(1-d[0][0]-d[1][1]+d[2][2],0)),C[3]=.5*Math.sqrt(Math.max(1+d[0][0]+d[1][1]+d[2][2],0)),d[2][1]>d[1][2]&&(C[0]=-C[0]),d[0][2]>d[2][0]&&(C[1]=-C[1]),d[1][0]>d[0][1]&&(C[2]=-C[2]),!0}},4690:function(f){f.exports=function(l,t){var s=t[15];if(s===0)return!1;for(var o=1/s,n=0;n<16;n++)l[n]=t[n]*o;return!0}},7649:function(f,l,t){var s=t(1868),o=t(1102),n=t(7191),r=t(7787),i=t(1116),u=_(),p=_(),h=_();function _(){return{translate:m(),scale:m(1),skew:m(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function m(d){return[d||0,d||0,d||0]}f.exports=function(d,x,g,v){if(r(x)===0||r(g)===0)return!1;var T=n(x,u.translate,u.scale,u.skew,u.perspective,u.quaternion),c=n(g,p.translate,p.scale,p.skew,p.perspective,p.quaternion);return!(!T||!c||(s(h.translate,u.translate,p.translate,v),s(h.skew,u.skew,p.skew,v),s(h.scale,u.scale,p.scale,v),s(h.perspective,u.perspective,p.perspective,v),i(h.quaternion,u.quaternion,p.quaternion,v),o(d,h.translate,h.scale,h.skew,h.perspective,h.quaternion),0))}},1102:function(f,l,t){var s={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},o=(s.create(),s.create());f.exports=function(n,r,i,u,p,h){return s.identity(n),s.fromRotationTranslation(n,h,r),n[3]=p[0],n[7]=p[1],n[11]=p[2],n[15]=p[3],s.identity(o),u[2]!==0&&(o[9]=u[2],s.multiply(n,n,o)),u[1]!==0&&(o[9]=0,o[8]=u[1],s.multiply(n,n,o)),u[0]!==0&&(o[8]=0,o[4]=u[0],s.multiply(n,n,o)),s.scale(n,n,i),n}},9298:function(f,l,t){"use strict";var s=t(5070),o=t(7649),n=t(7437),r=t(6109),i=t(7115),u=t(5240),p=t(3012),h=t(998),_=(t(3668),t(899)),m=[0,0,0];function d(v){this._components=v.slice(),this._time=[0],this.prevMatrix=v.slice(),this.nextMatrix=v.slice(),this.computedMatrix=v.slice(),this.computedInverse=v.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}f.exports=function(v){return new d((v=v||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var x=d.prototype;x.recalcMatrix=function(v){var T=this._time,c=s.le(T,v),E=this.computedMatrix;if(!(c<0)){var A=this._components;if(c===T.length-1)for(var C=16*c,O=0;O<16;++O)E[O]=A[C++];else{var P=T[c+1]-T[c],D=(C=16*c,this.prevMatrix),z=!0;for(O=0;O<16;++O)D[O]=A[C++];var V=this.nextMatrix;for(O=0;O<16;++O)V[O]=A[C++],z=z&&D[O]===V[O];if(P<1e-6||z)for(O=0;O<16;++O)E[O]=D[O];else o(E,D,V,(v-T[c])/P)}var F=this.computedUp;F[0]=E[1],F[1]=E[5],F[2]=E[9],_(F,F);var W=this.computedInverse;n(W,E);var B=this.computedEye,U=W[15];B[0]=W[12]/U,B[1]=W[13]/U,B[2]=W[14]/U;var H=this.computedCenter,q=Math.exp(this.computedRadius[0]);for(O=0;O<3;++O)H[O]=B[O]-E[2+4*O]*q}},x.idle=function(v){if(!(v<this.lastT())){for(var T=this._components,c=T.length-16,E=0;E<16;++E)T.push(T[c++]);this._time.push(v)}},x.flush=function(v){var T=s.gt(this._time,v)-2;T<0||(this._time.splice(0,T),this._components.splice(0,16*T))},x.lastT=function(){return this._time[this._time.length-1]},x.lookAt=function(v,T,c,E){this.recalcMatrix(v),T=T||this.computedEye,c=c||m,E=E||this.computedUp,this.setMatrix(v,p(this.computedMatrix,T,c,E));for(var A=0,C=0;C<3;++C)A+=Math.pow(c[C]-T[C],2);A=Math.log(Math.sqrt(A)),this.computedRadius[0]=A},x.rotate=function(v,T,c,E){this.recalcMatrix(v);var A=this.computedInverse;T&&i(A,A,T),c&&r(A,A,c),E&&u(A,A,E),this.setMatrix(v,n(this.computedMatrix,A))};var g=[0,0,0];x.pan=function(v,T,c,E){g[0]=-(T||0),g[1]=-(c||0),g[2]=-(E||0),this.recalcMatrix(v);var A=this.computedInverse;h(A,A,g),this.setMatrix(v,n(A,A))},x.translate=function(v,T,c,E){g[0]=T||0,g[1]=c||0,g[2]=E||0,this.recalcMatrix(v);var A=this.computedMatrix;h(A,A,g),this.setMatrix(v,A)},x.setMatrix=function(v,T){if(!(v<this.lastT())){this._time.push(v);for(var c=0;c<16;++c)this._components.push(T[c])}},x.setDistance=function(v,T){this.computedRadius[0]=T},x.setDistanceLimits=function(v,T){var c=this._limits;c[0]=v,c[1]=T},x.getDistanceLimits=function(v){var T=this._limits;return v?(v[0]=T[0],v[1]=T[1],v):T}},3266:function(f,l,t){"use strict";f.exports=function(o){var n=o.length;if(n<3){for(var r=new Array(n),i=0;i<n;++i)r[i]=i;return n===2&&o[0][0]===o[1][0]&&o[0][1]===o[1][1]?[0]:r}var u=new Array(n);for(i=0;i<n;++i)u[i]=i;u.sort(function(T,c){return o[T][0]-o[c][0]||o[T][1]-o[c][1]});var p=[u[0],u[1]],h=[u[0],u[1]];for(i=2;i<n;++i){for(var _=u[i],m=o[_],d=p.length;d>1&&s(o[p[d-2]],o[p[d-1]],m)<=0;)d-=1,p.pop();for(p.push(_),d=h.length;d>1&&s(o[h[d-2]],o[h[d-1]],m)>=0;)d-=1,h.pop();h.push(_)}r=new Array(h.length+p.length-2);for(var x=0,g=(i=0,p.length);i<g;++i)r[x++]=p[i];for(var v=h.length-2;v>0;--v)r[x++]=h[v];return r};var s=t(417)[3]},6145:function(f,l,t){"use strict";f.exports=function(o,n){n||(n=o,o=window);var r=0,i=0,u=0,p={shift:!1,alt:!1,control:!1,meta:!1},h=!1;function _(C){var O=!1;return"altKey"in C&&(O=O||C.altKey!==p.alt,p.alt=!!C.altKey),"shiftKey"in C&&(O=O||C.shiftKey!==p.shift,p.shift=!!C.shiftKey),"ctrlKey"in C&&(O=O||C.ctrlKey!==p.control,p.control=!!C.ctrlKey),"metaKey"in C&&(O=O||C.metaKey!==p.meta,p.meta=!!C.metaKey),O}function m(C,O){var P=s.x(O),D=s.y(O);"buttons"in O&&(C=0|O.buttons),(C!==r||P!==i||D!==u||_(O))&&(r=0|C,i=P||0,u=D||0,n&&n(r,i,u,p))}function d(C){m(0,C)}function x(){(r||i||u||p.shift||p.alt||p.meta||p.control)&&(i=u=0,r=0,p.shift=p.alt=p.control=p.meta=!1,n&&n(0,0,0,p))}function g(C){_(C)&&n&&n(r,i,u,p)}function v(C){s.buttons(C)===0?m(0,C):m(r,C)}function T(C){m(r|s.buttons(C),C)}function c(C){m(r&~s.buttons(C),C)}function E(){h||(h=!0,o.addEventListener("mousemove",v),o.addEventListener("mousedown",T),o.addEventListener("mouseup",c),o.addEventListener("mouseleave",d),o.addEventListener("mouseenter",d),o.addEventListener("mouseout",d),o.addEventListener("mouseover",d),o.addEventListener("blur",x),o.addEventListener("keyup",g),o.addEventListener("keydown",g),o.addEventListener("keypress",g),o!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",g),window.addEventListener("keydown",g),window.addEventListener("keypress",g)))}E();var A={element:o};return Object.defineProperties(A,{enabled:{get:function(){return h},set:function(C){C?E():h&&(h=!1,o.removeEventListener("mousemove",v),o.removeEventListener("mousedown",T),o.removeEventListener("mouseup",c),o.removeEventListener("mouseleave",d),o.removeEventListener("mouseenter",d),o.removeEventListener("mouseout",d),o.removeEventListener("mouseover",d),o.removeEventListener("blur",x),o.removeEventListener("keyup",g),o.removeEventListener("keydown",g),o.removeEventListener("keypress",g),o!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",g),window.removeEventListener("keydown",g),window.removeEventListener("keypress",g)))},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),A};var s=t(4110)},2565:function(f){var l={left:0,top:0};f.exports=function(t,s,o){s=s||t.currentTarget||t.srcElement,Array.isArray(o)||(o=[0,0]);var n,r=t.clientX||0,i=t.clientY||0,u=(n=s)===window||n===document||n===document.body?l:n.getBoundingClientRect();return o[0]=r-u.left,o[1]=i-u.top,o}},4110:function(f,l){"use strict";function t(s){return s.target||s.srcElement||window}l.buttons=function(s){if(typeof s=="object"){if("buttons"in s)return s.buttons;if("which"in s){if((o=s.which)===2)return 4;if(o===3)return 2;if(o>0)return 1<<o-1}else if("button"in s){var o;if((o=s.button)===1)return 4;if(o===2)return 2;if(o>=0)return 1<<o}}return 0},l.element=t,l.x=function(s){if(typeof s=="object"){if("offsetX"in s)return s.offsetX;var o=t(s).getBoundingClientRect();return s.clientX-o.left}return 0},l.y=function(s){if(typeof s=="object"){if("offsetY"in s)return s.offsetY;var o=t(s).getBoundingClientRect();return s.clientY-o.top}return 0}},6475:function(f,l,t){"use strict";var s=t(14);f.exports=function(o,n,r){typeof o=="function"&&(r=!!n,n=o,o=window);var i=s("ex",o),u=function(p){r&&p.preventDefault();var h=p.deltaX||0,_=p.deltaY||0,m=p.deltaZ||0,d=1;switch(p.deltaMode){case 1:d=i;break;case 2:d=window.innerHeight}if(_*=d,m*=d,(h*=d)||_||m)return n(h,_,m,p)};return o.addEventListener("wheel",u),u}},9284:function(f,l,t){"use strict";var s=t(5306);f.exports=function(n){function r(m){throw new Error("ndarray-extract-contour: "+m)}typeof n!="object"&&r("Must specify arguments");var i=n.order;Array.isArray(i)||r("Must specify order");var u=n.arrayArguments||1;u<1&&r("Must have at least one array argument"),(n.scalarArguments||0)<0&&r("Scalar arg count must be > 0"),typeof n.vertex!="function"&&r("Must specify vertex creation function"),typeof n.cell!="function"&&r("Must specify cell creation function"),typeof n.phase!="function"&&r("Must specify phase function");for(var p=n.getters||[],h=new Array(u),_=0;_<u;++_)p.indexOf(_)>=0?h[_]=!0:h[_]=!1;return function(m,d,x,g,v,T){var c=[T,v].join(",");return(0,o[c])(m,d,x,s.mallocUint32,s.freeUint32)}(n.vertex,n.cell,n.phase,0,i,h)};var o={"false,0,1":function(n,r,i,u,p){return function(h,_,m,d){var x,g=0|h.shape[0],v=0|h.shape[1],T=h.data,c=0|h.offset,E=0|h.stride[0],A=0|h.stride[1],C=c,O=0|-E,P=0,D=0|-A,z=0,V=-E-A|0,F=0,W=0|E,B=A-E*g|0,U=0,H=0,q=0,ee=2*g|0,K=u(ee),J=u(ee),Z=0,$=0,ne=-1,ae=-1,oe=0,se=0|-g,ce=0|g,me=0,xe=-g-1|0,ve=g-1|0,fe=0,pe=0,Le=0;for(U=0;U<g;++U)K[Z++]=i(T[C],_,m,d),C+=W;if(C+=B,v>0){if(H=1,K[Z++]=i(T[C],_,m,d),C+=W,g>0)for(U=1,x=T[C],$=K[Z]=i(x,_,m,d),oe=K[Z+ne],me=K[Z+se],fe=K[Z+xe],$===oe&&$===me&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,oe,me,fe,_,m,d),pe=J[Z]=q++),Z+=1,C+=W,U=2;U<g;++U)x=T[C],$=K[Z]=i(x,_,m,d),oe=K[Z+ne],me=K[Z+se],fe=K[Z+xe],$===oe&&$===me&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,oe,me,fe,_,m,d),pe=J[Z]=q++,fe!==oe&&r(J[Z+ne],pe,F,P,fe,oe,_,m,d)),Z+=1,C+=W;for(C+=B,Z=0,Le=ne,ne=ae,ae=Le,Le=se,se=ce,ce=Le,Le=xe,xe=ve,ve=Le,H=2;H<v;++H){if(K[Z++]=i(T[C],_,m,d),C+=W,g>0)for(U=1,x=T[C],$=K[Z]=i(x,_,m,d),oe=K[Z+ne],me=K[Z+se],fe=K[Z+xe],$===oe&&$===me&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,oe,me,fe,_,m,d),pe=J[Z]=q++,fe!==me&&r(J[Z+se],pe,z,F,me,fe,_,m,d)),Z+=1,C+=W,U=2;U<g;++U)x=T[C],$=K[Z]=i(x,_,m,d),oe=K[Z+ne],me=K[Z+se],fe=K[Z+xe],$===oe&&$===me&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,oe,me,fe,_,m,d),pe=J[Z]=q++,fe!==me&&r(J[Z+se],pe,z,F,me,fe,_,m,d),fe!==oe&&r(J[Z+ne],pe,F,P,fe,oe,_,m,d)),Z+=1,C+=W;1&H&&(Z=0),Le=ne,ne=ae,ae=Le,Le=se,se=ce,ce=Le,Le=xe,xe=ve,ve=Le,C+=B}}p(J),p(K)}},"false,1,0":function(n,r,i,u,p){return function(h,_,m,d){var x,g=0|h.shape[0],v=0|h.shape[1],T=h.data,c=0|h.offset,E=0|h.stride[0],A=0|h.stride[1],C=c,O=0|-E,P=0,D=0|-A,z=0,V=-E-A|0,F=0,W=0|A,B=E-A*v|0,U=0,H=0,q=0,ee=2*v|0,K=u(ee),J=u(ee),Z=0,$=0,ne=-1,ae=-1,oe=0,se=0|-v,ce=0|v,me=0,xe=-v-1|0,ve=v-1|0,fe=0,pe=0,Le=0;for(H=0;H<v;++H)K[Z++]=i(T[C],_,m,d),C+=W;if(C+=B,g>0){if(U=1,K[Z++]=i(T[C],_,m,d),C+=W,v>0)for(H=1,x=T[C],$=K[Z]=i(x,_,m,d),me=K[Z+se],oe=K[Z+ne],fe=K[Z+xe],$===me&&$===oe&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,me,oe,fe,_,m,d),pe=J[Z]=q++),Z+=1,C+=W,H=2;H<v;++H)x=T[C],$=K[Z]=i(x,_,m,d),me=K[Z+se],oe=K[Z+ne],fe=K[Z+xe],$===me&&$===oe&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,me,oe,fe,_,m,d),pe=J[Z]=q++,fe!==oe&&r(J[Z+ne],pe,z,F,oe,fe,_,m,d)),Z+=1,C+=W;for(C+=B,Z=0,Le=se,se=ce,ce=Le,Le=ne,ne=ae,ae=Le,Le=xe,xe=ve,ve=Le,U=2;U<g;++U){if(K[Z++]=i(T[C],_,m,d),C+=W,v>0)for(H=1,x=T[C],$=K[Z]=i(x,_,m,d),me=K[Z+se],oe=K[Z+ne],fe=K[Z+xe],$===me&&$===oe&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,me,oe,fe,_,m,d),pe=J[Z]=q++,fe!==me&&r(J[Z+se],pe,F,P,fe,me,_,m,d)),Z+=1,C+=W,H=2;H<v;++H)x=T[C],$=K[Z]=i(x,_,m,d),me=K[Z+se],oe=K[Z+ne],fe=K[Z+xe],$===me&&$===oe&&$===fe||(P=T[C+O],z=T[C+D],F=T[C+V],n(U,H,x,P,z,F,$,me,oe,fe,_,m,d),pe=J[Z]=q++,fe!==oe&&r(J[Z+ne],pe,z,F,oe,fe,_,m,d),fe!==me&&r(J[Z+se],pe,F,P,fe,me,_,m,d)),Z+=1,C+=W;1&U&&(Z=0),Le=se,se=ce,ce=Le,Le=ne,ne=ae,ae=Le,Le=xe,xe=ve,ve=Le,C+=B}}p(J),p(K)}}}},9144:function(f,l,t){"use strict";var s=t(3094),o={zero:function(g,v,T,c){var E=g[0];c|=0;var A=0,C=T[0];for(A=0;A<E;++A)v[c]=0,c+=C},fdTemplate1:function(g,v,T,c,E,A,C){var O=g[0],P=T[0],D=-1*P,z=P;c|=0,C|=0;var V=0,F=P,W=A[0];for(V=0;V<O;++V)E[C]=.5*(v[c+D]-v[c+z]),c+=F,C+=W},fdTemplate2:function(g,v,T,c,E,A,C,O,P,D){var z=g[0],V=g[1],F=T[0],W=T[1],B=A[0],U=A[1],H=P[0],q=P[1],ee=-1*F,K=F,J=-1*W,Z=W;c|=0,C|=0,D|=0;var $=0,ne=0,ae=W,oe=F-V*W,se=U,ce=B-V*U,me=q,xe=H-V*q;for(ne=0;ne<z;++ne){for($=0;$<V;++$)E[C]=.5*(v[c+ee]-v[c+K]),O[D]=.5*(v[c+J]-v[c+Z]),c+=ae,C+=se,D+=me;c+=oe,C+=ce,D+=xe}}},n={cdiff:function(g){var v={};return function(T,c,E){var A=T.dtype,C=T.order,O=c.dtype,P=c.order,D=E.dtype,z=E.order,V=[A,C.join(),O,P.join(),D,z.join()].join(),F=v[V];return F||(v[V]=F=g([A,C,O,P,D,z])),F(T.shape.slice(0),T.data,T.stride,0|T.offset,c.data,c.stride,0|c.offset,E.data,E.stride,0|E.offset)}},zero:function(g){var v={};return function(T){var c=T.dtype,E=T.order,A=[c,E.join()].join(),C=v[A];return C||(v[A]=C=g([c,E])),C(T.shape.slice(0),T.data,T.stride,0|T.offset)}},fdTemplate1:function(g){var v={};return function(T,c){var E=T.dtype,A=T.order,C=c.dtype,O=c.order,P=[E,A.join(),C,O.join()].join(),D=v[P];return D||(v[P]=D=g([E,A,C,O])),D(T.shape.slice(0),T.data,T.stride,0|T.offset,c.data,c.stride,0|c.offset)}},fdTemplate2:function(g){var v={};return function(T,c,E){var A=T.dtype,C=T.order,O=c.dtype,P=c.order,D=E.dtype,z=E.order,V=[A,C.join(),O,P.join(),D,z.join()].join(),F=v[V];return F||(v[V]=F=g([A,C,O,P,D,z])),F(T.shape.slice(0),T.data,T.stride,0|T.offset,c.data,c.stride,0|c.offset,E.data,E.stride,0|E.offset)}}};function r(g){return(0,n[g.funcName])(i.bind(void 0,g))}function i(g){return o[g.funcName]}function u(g){return r({funcName:g.funcName})}var p={},h={},_=u({funcName:"cdiff"}),m=u({funcName:"zero"});function d(g){return g in p?p[g]:p[g]=u({funcName:"fdTemplate"+g})}function x(g,v,T,c){return function(E,A){var C=A.shape.slice();return C[0]>2&&C[1]>2&&c(A.pick(-1,-1).lo(1,1).hi(C[0]-2,C[1]-2),E.pick(-1,-1,0).lo(1,1).hi(C[0]-2,C[1]-2),E.pick(-1,-1,1).lo(1,1).hi(C[0]-2,C[1]-2)),C[1]>2&&(T(A.pick(0,-1).lo(1).hi(C[1]-2),E.pick(0,-1,1).lo(1).hi(C[1]-2)),v(E.pick(0,-1,0).lo(1).hi(C[1]-2))),C[1]>2&&(T(A.pick(C[0]-1,-1).lo(1).hi(C[1]-2),E.pick(C[0]-1,-1,1).lo(1).hi(C[1]-2)),v(E.pick(C[0]-1,-1,0).lo(1).hi(C[1]-2))),C[0]>2&&(T(A.pick(-1,0).lo(1).hi(C[0]-2),E.pick(-1,0,0).lo(1).hi(C[0]-2)),v(E.pick(-1,0,1).lo(1).hi(C[0]-2))),C[0]>2&&(T(A.pick(-1,C[1]-1).lo(1).hi(C[0]-2),E.pick(-1,C[1]-1,0).lo(1).hi(C[0]-2)),v(E.pick(-1,C[1]-1,1).lo(1).hi(C[0]-2))),E.set(0,0,0,0),E.set(0,0,1,0),E.set(C[0]-1,0,0,0),E.set(C[0]-1,0,1,0),E.set(0,C[1]-1,0,0),E.set(0,C[1]-1,1,0),E.set(C[0]-1,C[1]-1,0,0),E.set(C[0]-1,C[1]-1,1,0),E}}f.exports=function(g,v,T){return Array.isArray(T)||(T=s(v.dimension,typeof T=="string"?T:"clamp")),v.size===0?g:v.dimension===0?(g.set(0),g):function(c){var E=c.join();if(P=h[E])return P;for(var A=c.length,C=[_,m],O=1;O<=A;++O)C.push(d(O));var P=x.apply(void 0,C);return h[E]=P,P}(T)(g,v)}},3581:function(f){"use strict";function l(n,r){var i=Math.floor(r),u=r-i,p=0<=i&&i<n.shape[0],h=0<=i+1&&i+1<n.shape[0];return(1-u)*(p?+n.get(i):0)+u*(h?+n.get(i+1):0)}function t(n,r,i){var u=Math.floor(r),p=r-u,h=0<=u&&u<n.shape[0],_=0<=u+1&&u+1<n.shape[0],m=Math.floor(i),d=i-m,x=0<=m&&m<n.shape[1],g=0<=m+1&&m+1<n.shape[1],v=h&&x?n.get(u,m):0,T=h&&g?n.get(u,m+1):0;return(1-d)*((1-p)*v+p*(_&&x?n.get(u+1,m):0))+d*((1-p)*T+p*(_&&g?n.get(u+1,m+1):0))}function s(n,r,i,u){var p=Math.floor(r),h=r-p,_=0<=p&&p<n.shape[0],m=0<=p+1&&p+1<n.shape[0],d=Math.floor(i),x=i-d,g=0<=d&&d<n.shape[1],v=0<=d+1&&d+1<n.shape[1],T=Math.floor(u),c=u-T,E=0<=T&&T<n.shape[2],A=0<=T+1&&T+1<n.shape[2],C=_&&g&&E?n.get(p,d,T):0,O=_&&v&&E?n.get(p,d+1,T):0,P=m&&g&&E?n.get(p+1,d,T):0,D=m&&v&&E?n.get(p+1,d+1,T):0,z=_&&g&&A?n.get(p,d,T+1):0,V=_&&v&&A?n.get(p,d+1,T+1):0;return(1-c)*((1-x)*((1-h)*C+h*P)+x*((1-h)*O+h*D))+c*((1-x)*((1-h)*z+h*(m&&g&&A?n.get(p+1,d,T+1):0))+x*((1-h)*V+h*(m&&v&&A?n.get(p+1,d+1,T+1):0)))}function o(n){var r,i,u=0|n.shape.length,p=new Array(u),h=new Array(u),_=new Array(u),m=new Array(u);for(r=0;r<u;++r)i=+arguments[r+1],p[r]=Math.floor(i),h[r]=i-p[r],_[r]=0<=p[r]&&p[r]<n.shape[r],m[r]=0<=p[r]+1&&p[r]+1<n.shape[r];var d,x,g,v=0;e:for(r=0;r<1<<u;++r){for(x=1,g=n.offset,d=0;d<u;++d)if(r&1<<d){if(!m[d])continue e;x*=h[d],g+=n.stride[d]*(p[d]+1)}else{if(!_[d])continue e;x*=1-h[d],g+=n.stride[d]*p[d]}v+=x*n.data[g]}return v}f.exports=function(n,r,i,u){switch(n.shape.length){case 0:return 0;case 1:return l(n,r);case 2:return t(n,r,i);case 3:return s(n,r,i,u);default:return o.apply(void 0,arguments)}},f.exports.d1=l,f.exports.d2=t,f.exports.d3=s},7498:function(f,l){"use strict";var t={"float64,2,1,0":function(){return function(i,u,p,h,_){var m=i[0],d=i[1],x=i[2],g=p[0],v=p[1],T=p[2];h|=0;var c=0,E=0,A=0,C=T,O=v-x*T,P=g-d*v;for(A=0;A<m;++A){for(E=0;E<d;++E){for(c=0;c<x;++c)u[h]/=_,h+=C;h+=O}h+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(i,u,p,h,_,m,d,x){for(var g=i[0],v=i[1],T=i[2],c=p[0],E=p[1],A=p[2],C=m[0],O=m[1],P=m[2],D=h|=0,z=d|=0,V=0|i[0];V>0;){V<64?(g=V,V=0):(g=64,V-=64);for(var F=0|i[1];F>0;){F<64?(v=F,F=0):(v=64,F-=64),h=D+V*c+F*E,d=z+V*C+F*O;var W=0,B=0,U=0,H=A,q=c-T*A,ee=E-g*c,K=P,J=C-T*P,Z=O-g*C;for(U=0;U<v;++U){for(B=0;B<g;++B){for(W=0;W<T;++W)u[h]=_[d]*x,h+=H,d+=K;h+=q,d+=J}h+=ee,d+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(i,u,p,h,_,m,d){var x=i[0],g=i[1],v=p[0],T=p[1],c=m[0],E=m[1];h|=0,d|=0;var A=0,C=0,O=T,P=v-g*T,D=E,z=c-g*E;for(C=0;C<x;++C){for(A=0;A<g;++A)u[h]=_[d],h+=O,d+=D;h+=P,d+=z}}},"float32,1,0,float32,0,1":function(){return function(i,u,p,h,_,m,d){for(var x=i[0],g=i[1],v=p[0],T=p[1],c=m[0],E=m[1],A=h|=0,C=d|=0,O=0|i[1];O>0;){O<64?(g=O,O=0):(g=64,O-=64);for(var P=0|i[0];P>0;){P<64?(x=P,P=0):(x=64,P-=64),h=A+O*T+P*v,d=C+O*E+P*c;var D=0,z=0,V=T,F=v-g*T,W=E,B=c-g*E;for(z=0;z<x;++z){for(D=0;D<g;++D)u[h]=_[d],h+=V,d+=W;h+=F,d+=B}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(i,u,p,h,_,m,d){for(var x=i[0],g=i[1],v=i[2],T=p[0],c=p[1],E=p[2],A=m[0],C=m[1],O=m[2],P=h|=0,D=d|=0,z=0|i[2];z>0;){z<64?(v=z,z=0):(v=64,z-=64);for(var V=0|i[0];V>0;){V<64?(x=V,V=0):(x=64,V-=64);for(var F=0|i[1];F>0;){F<64?(g=F,F=0):(g=64,F-=64),h=P+z*E+V*T+F*c,d=D+z*O+V*A+F*C;var W=0,B=0,U=0,H=E,q=T-v*E,ee=c-x*T,K=O,J=A-v*O,Z=C-x*A;for(U=0;U<g;++U){for(B=0;B<x;++B){for(W=0;W<v;++W)u[h]=_[d],h+=H,d+=K;h+=q,d+=J}h+=ee,d+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(i,u,p,h,_,m,d){var x=i[0],g=i[1],v=i[2],T=p[0],c=p[1],E=p[2],A=m[0],C=m[1],O=m[2];h|=0,d|=0;var P=0,D=0,z=0,V=E,F=T-v*E,W=c-x*T,B=O,U=A-v*O,H=C-x*A;for(z=0;z<g;++z){for(D=0;D<x;++D){for(P=0;P<v;++P)u[h]=_[d],h+=V,d+=B;h+=F,d+=U}h+=W,d+=H}}}},s=function(i,u){var p=u.join(",");return(0,t[p])()},o={mul:function(i){var u={};return function(p,h,_){var m=p.dtype,d=p.order,x=h.dtype,g=h.order,v=_.dtype,T=_.order,c=[m,d.join(),x,g.join(),v,T.join()].join(),E=u[c];return E||(u[c]=E=i([m,d,x,g,v,T])),E(p.shape.slice(0),p.data,p.stride,0|p.offset,h.data,h.stride,0|h.offset,_.data,_.stride,0|_.offset)}},muls:function(i){var u={};return function(p,h,_){var m=p.dtype,d=p.order,x=h.dtype,g=h.order,v=[m,d.join(),x,g.join()].join(),T=u[v];return T||(u[v]=T=i([m,d,x,g])),T(p.shape.slice(0),p.data,p.stride,0|p.offset,h.data,h.stride,0|h.offset,_)}},mulseq:function(i){var u={};return function(p,h){var _=p.dtype,m=p.order,d=[_,m.join()].join(),x=u[d];return x||(u[d]=x=i([_,m])),x(p.shape.slice(0),p.data,p.stride,0|p.offset,h)}},div:function(i){var u={};return function(p,h,_){var m=p.dtype,d=p.order,x=h.dtype,g=h.order,v=_.dtype,T=_.order,c=[m,d.join(),x,g.join(),v,T.join()].join(),E=u[c];return E||(u[c]=E=i([m,d,x,g,v,T])),E(p.shape.slice(0),p.data,p.stride,0|p.offset,h.data,h.stride,0|h.offset,_.data,_.stride,0|_.offset)}},divs:function(i){var u={};return function(p,h,_){var m=p.dtype,d=p.order,x=h.dtype,g=h.order,v=[m,d.join(),x,g.join()].join(),T=u[v];return T||(u[v]=T=i([m,d,x,g])),T(p.shape.slice(0),p.data,p.stride,0|p.offset,h.data,h.stride,0|h.offset,_)}},divseq:function(i){var u={};return function(p,h){var _=p.dtype,m=p.order,d=[_,m.join()].join(),x=u[d];return x||(u[d]=x=i([_,m])),x(p.shape.slice(0),p.data,p.stride,0|p.offset,h)}},assign:function(i){var u={};return function(p,h){var _=p.dtype,m=p.order,d=h.dtype,x=h.order,g=[_,m.join(),d,x.join()].join(),v=u[g];return v||(u[g]=v=i([_,m,d,x])),v(p.shape.slice(0),p.data,p.stride,0|p.offset,h.data,h.stride,0|h.offset)}}};function n(i){return u={funcName:i.funcName},(0,o[u.funcName])(s.bind(void 0,u));var u}var r={mul:"*",div:"/"};(function(){for(var i in r)l[i]=n({funcName:i}),l[i+"s"]=n({funcName:i+"s"}),l[i+"seq"]=n({funcName:i+"seq"})})(),l.assign=n({funcName:"assign"})},7382:function(f,l,t){"use strict";var s=t(5050),o=t(9262);f.exports=function(n,r){for(var i=[],u=n,p=1;Array.isArray(u);)i.push(u.length),p*=u.length,u=u[0];return i.length===0?s():(r||(r=s(new Float64Array(p),i)),o(r,n),r)}},9262:function(f){"use strict";f.exports=function(l){var t={};return function(s,o){var n=s.dtype,r=s.order,i=[n,r.join()].join(),u=t[i];return u||(t[i]=u=l([n,r])),u(s.shape.slice(0),s.data,s.stride,0|s.offset,o)}}(function(){return function(l,t,s,o,n){var r=l[0],i=l[1],u=l[2],p=s[0],h=s[1],_=s[2],m=[0,0,0];o|=0;var d=0,x=0,g=0,v=_,T=h-u*_,c=p-i*h;for(g=0;g<r;++g){for(x=0;x<i;++x){for(d=0;d<u;++d){var E,A=n;for(E=0;E<m.length-1;++E)A=A[m[E]];t[o]=A[m[m.length-1]],o+=v,++m[2]}o+=T,m[2]-=u,++m[1]}o+=c,m[1]-=i,++m[0]}}}.bind(void 0,{funcName:"convert"}))},8139:function(f,l,t){"use strict";var s=t(5306);function o(u){return u==="uint32"?[s.mallocUint32,s.freeUint32]:null}var n={"uint32,1,0":function(u,p){return function(h,_,m,d,x,g,v,T,c,E,A){var C,O,P,D,z,V,F,W,B=h*x+d,U=u(T);for(C=h+1;C<=_;++C){for(O=C,P=B+=x,z=0,V=B,D=0;D<T;++D)U[z++]=m[V],V+=c;e:for(;O-- >h;){z=0,V=P-x;t:for(D=0;D<T;++D){if((F=m[V])<(W=U[z]))break e;if(F>W)break t;V+=E,z+=A}for(z=P,V=P-x,D=0;D<T;++D)m[z]=m[V],z+=c,V+=c;P-=x}for(z=P,V=0,D=0;D<T;++D)m[z]=U[V++],z+=c}p(U)}}},r={"uint32,1,0":function(u,p,h){return function _(m,d,x,g,v,T,c,E,A,C,O){var P,D,z,V,F,W,B,U,H,q,ee,K,J,Z,$,ne,ae,oe,se,ce,me,xe,ve,fe,pe,Le=(d-m+1)/6|0,ye=m+Le,Ae=d-Le,Me=m+d>>1,ke=Me-Le,te=Me+Le,ue=ye,ge=ke,we=Me,Ee=te,Be=Ae,Re=m+1,je=d-1,he=!0,_e=0,Te=0,Fe=0,Ye=E,Ge=p(Ye),ot=p(Ye);ee=v*ue,K=v*ge,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=ue,ue=ge,ge=D;break e}if(Fe<0)break e;pe+=C}ee=v*Ee,K=v*Be,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=Ee,Ee=Be,Be=D;break e}if(Fe<0)break e;pe+=C}ee=v*ue,K=v*we,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=ue,ue=we,we=D;break e}if(Fe<0)break e;pe+=C}ee=v*ge,K=v*we,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=ge,ge=we,we=D;break e}if(Fe<0)break e;pe+=C}ee=v*ue,K=v*Ee,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=ue,ue=Ee,Ee=D;break e}if(Fe<0)break e;pe+=C}ee=v*we,K=v*Ee,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=we,we=Ee,Ee=D;break e}if(Fe<0)break e;pe+=C}ee=v*ge,K=v*Be,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=ge,ge=Be,Be=D;break e}if(Fe<0)break e;pe+=C}ee=v*ge,K=v*we,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=ge,ge=we,we=D;break e}if(Fe<0)break e;pe+=C}ee=v*Ee,K=v*Be,pe=g;e:for(q=0;q<E;++q){if(U=K+pe,(Fe=x[B=ee+pe]-x[U])>0){D=Ee,Ee=Be,Be=D;break e}if(Fe<0)break e;pe+=C}for(ee=v*ue,K=v*ge,J=v*we,Z=v*Ee,$=v*Be,ne=v*ye,ae=v*Me,oe=v*Ae,fe=0,pe=g,q=0;q<E;++q)B=ee+pe,U=K+pe,H=J+pe,se=Z+pe,ce=$+pe,me=ne+pe,xe=ae+pe,ve=oe+pe,Ge[fe]=x[U],ot[fe]=x[se],he=he&&Ge[fe]===ot[fe],z=x[B],V=x[H],F=x[ce],x[me]=z,x[xe]=V,x[ve]=F,++fe,pe+=A;for(ee=v*ke,K=v*m,pe=g,q=0;q<E;++q)U=K+pe,x[B=ee+pe]=x[U],pe+=A;for(ee=v*te,K=v*d,pe=g,q=0;q<E;++q)U=K+pe,x[B=ee+pe]=x[U],pe+=A;if(he)for(W=Re;W<=je;++W){for(B=g+W*v,fe=0,q=0;q<E&&(Fe=x[B]-Ge[fe])==0;++q)fe+=O,B+=C;if(Fe!==0)if(Fe<0){if(W!==Re)for(ee=v*W,K=v*Re,pe=g,q=0;q<E;++q)U=K+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=P,pe+=A;++Re}else for(;;){for(B=g+je*v,fe=0,q=0;q<E&&(Fe=x[B]-Ge[fe])==0;++q)fe+=O,B+=C;if(!(Fe>0)){if(Fe<0){for(ee=v*W,K=v*Re,J=v*je,pe=g,q=0;q<E;++q)U=K+pe,H=J+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=x[H],x[H]=P,pe+=A;++Re,--je;break}for(ee=v*W,K=v*je,pe=g,q=0;q<E;++q)U=K+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=P,pe+=A;--je;break}je--}}else for(W=Re;W<=je;++W){for(B=g+W*v,fe=0,q=0;q<E&&(_e=x[B]-Ge[fe])==0;++q)fe+=O,B+=C;if(_e<0){if(W!==Re)for(ee=v*W,K=v*Re,pe=g,q=0;q<E;++q)U=K+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=P,pe+=A;++Re}else{for(B=g+W*v,fe=0,q=0;q<E&&(Te=x[B]-ot[fe])==0;++q)fe+=O,B+=C;if(Te>0)for(;;){for(B=g+je*v,fe=0,q=0;q<E&&(Fe=x[B]-ot[fe])==0;++q)fe+=O,B+=C;if(!(Fe>0)){for(B=g+je*v,fe=0,q=0;q<E&&(Fe=x[B]-Ge[fe])==0;++q)fe+=O,B+=C;if(Fe<0){for(ee=v*W,K=v*Re,J=v*je,pe=g,q=0;q<E;++q)U=K+pe,H=J+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=x[H],x[H]=P,pe+=A;++Re,--je}else{for(ee=v*W,K=v*je,pe=g,q=0;q<E;++q)U=K+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=P,pe+=A;--je}break}if(--je<W)break}}}for(ee=v*m,K=v*(Re-1),fe=0,pe=g,q=0;q<E;++q)U=K+pe,x[B=ee+pe]=x[U],x[U]=Ge[fe],++fe,pe+=A;for(ee=v*d,K=v*(je+1),fe=0,pe=g,q=0;q<E;++q)U=K+pe,x[B=ee+pe]=x[U],x[U]=ot[fe],++fe,pe+=A;if(Re-2-m<=32?u(m,Re-2,x,g,v,T,c,E,A,C,O):_(m,Re-2,x,g,v,T,c,E,A,C,O),d-(je+2)<=32?u(je+2,d,x,g,v,T,c,E,A,C,O):_(je+2,d,x,g,v,T,c,E,A,C,O),he)return h(Ge),void h(ot);if(Re<ye&&je>Ae){e:for(;;){for(B=g+Re*v,fe=0,pe=g,q=0;q<E;++q){if(x[B]!==Ge[fe])break e;++fe,B+=A}++Re}e:for(;;){for(B=g+je*v,fe=0,pe=g,q=0;q<E;++q){if(x[B]!==ot[fe])break e;++fe,B+=A}--je}for(W=Re;W<=je;++W){for(B=g+W*v,fe=0,q=0;q<E&&(_e=x[B]-Ge[fe])==0;++q)fe+=O,B+=C;if(_e===0){if(W!==Re)for(ee=v*W,K=v*Re,pe=g,q=0;q<E;++q)U=K+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=P,pe+=A;++Re}else{for(B=g+W*v,fe=0,q=0;q<E&&(Te=x[B]-ot[fe])==0;++q)fe+=O,B+=C;if(Te===0)for(;;){for(B=g+je*v,fe=0,q=0;q<E&&(Fe=x[B]-ot[fe])==0;++q)fe+=O,B+=C;if(Fe!==0){for(B=g+je*v,fe=0,q=0;q<E&&(Fe=x[B]-Ge[fe])==0;++q)fe+=O,B+=C;if(Fe<0){for(ee=v*W,K=v*Re,J=v*je,pe=g,q=0;q<E;++q)U=K+pe,H=J+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=x[H],x[H]=P,pe+=A;++Re,--je}else{for(ee=v*W,K=v*je,pe=g,q=0;q<E;++q)U=K+pe,P=x[B=ee+pe],x[B]=x[U],x[U]=P,pe+=A;--je}break}if(--je<W)break}}}}h(Ge),h(ot),je-Re<=32?u(Re,je,x,g,v,T,c,E,A,C,O):_(Re,je,x,g,v,T,c,E,A,C,O)}}},i={"uint32,1,0":function(u,p){return function(h){var _=h.data,m=0|h.offset,d=h.shape,x=h.stride,g=0|x[0],v=0|d[0],T=0|x[1],c=0|d[1],E=T,A=T;v<=32?u(0,v-1,_,m,g,T,v,c,E,A,1):p(0,v-1,_,m,g,T,v,c,E,A,1)}}};f.exports=function(u,p){var h=[p,u].join(","),_=i[h],m=function(x,g){var v=o(g),T=[g,x].join(","),c=n[T];return v?c(v[0],v[1]):c()}(u,p),d=function(x,g,v){var T=o(g),c=[g,x].join(","),E=r[c];return x.length>1&&T?E(v,T[0],T[1]):E(v)}(u,p,m);return _(m,d)}},8729:function(f,l,t){"use strict";var s=t(8139),o={};f.exports=function(n){var r=n.order,i=n.dtype,u=[r,i].join(":"),p=o[u];return p||(o[u]=p=s(r,i)),p(n),n}},5050:function(f,l,t){var s=t(4780),o=typeof Float64Array<"u";function n(h,_){return h[0]-_[0]}function r(){var h,_=this.stride,m=new Array(_.length);for(h=0;h<m.length;++h)m[h]=[Math.abs(_[h]),h];m.sort(n);var d=new Array(m.length);for(h=0;h<d.length;++h)d[h]=m[h][1];return d}var i={T:function(h){function _(d){this.data=d}var m=_.prototype;return m.dtype=h,m.index=function(){return-1},m.size=0,m.dimension=-1,m.shape=m.stride=m.order=[],m.lo=m.hi=m.transpose=m.step=function(){return new _(this.data)},m.get=m.set=function(){},m.pick=function(){return null},function(d){return new _(d)}},0:function(h,_){function m(x,g){this.data=x,this.offset=g}var d=m.prototype;return d.dtype=h,d.index=function(){return this.offset},d.dimension=0,d.size=1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new m(this.data,this.offset)},d.pick=function(){return _(this.data)},d.valueOf=d.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},d.set=function(x){return h==="generic"?this.data.set(this.offset,x):this.data[this.offset]=x},function(x,g,v,T){return new m(x,T)}},1:function(h,_,m){function d(g,v,T,c){this.data=g,this.shape=[v],this.stride=[T],this.offset=0|c}var x=d.prototype;return x.dtype=h,x.dimension=1,Object.defineProperty(x,"size",{get:function(){return this.shape[0]}}),x.order=[0],x.set=function(g,v){return h==="generic"?this.data.set(this.offset+this.stride[0]*g,v):this.data[this.offset+this.stride[0]*g]=v},x.get=function(g){return h==="generic"?this.data.get(this.offset+this.stride[0]*g):this.data[this.offset+this.stride[0]*g]},x.index=function(g){return this.offset+this.stride[0]*g},x.hi=function(g){return new d(this.data,typeof g!="number"||g<0?this.shape[0]:0|g,this.stride[0],this.offset)},x.lo=function(g){var v=this.offset,T=0,c=this.shape[0],E=this.stride[0];return typeof g=="number"&&g>=0&&(v+=E*(T=0|g),c-=T),new d(this.data,c,E,v)},x.step=function(g){var v=this.shape[0],T=this.stride[0],c=this.offset,E=0,A=Math.ceil;return typeof g=="number"&&((E=0|g)<0?(c+=T*(v-1),v=A(-v/E)):v=A(v/E),T*=E),new d(this.data,v,T,c)},x.transpose=function(g){g=g===void 0?0:0|g;var v=this.shape,T=this.stride;return new d(this.data,v[g],T[g],this.offset)},x.pick=function(g){var v=[],T=[],c=this.offset;return typeof g=="number"&&g>=0?c=c+this.stride[0]*g|0:(v.push(this.shape[0]),T.push(this.stride[0])),(0,_[v.length+1])(this.data,v,T,c)},function(g,v,T,c){return new d(g,v[0],T[0],c)}},2:function(h,_,m){function d(g,v,T,c,E,A){this.data=g,this.shape=[v,T],this.stride=[c,E],this.offset=0|A}var x=d.prototype;return x.dtype=h,x.dimension=2,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(x,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),x.set=function(g,v,T){return h==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*v,T):this.data[this.offset+this.stride[0]*g+this.stride[1]*v]=T},x.get=function(g,v){return h==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*v):this.data[this.offset+this.stride[0]*g+this.stride[1]*v]},x.index=function(g,v){return this.offset+this.stride[0]*g+this.stride[1]*v},x.hi=function(g,v){return new d(this.data,typeof g!="number"||g<0?this.shape[0]:0|g,typeof v!="number"||v<0?this.shape[1]:0|v,this.stride[0],this.stride[1],this.offset)},x.lo=function(g,v){var T=this.offset,c=0,E=this.shape[0],A=this.shape[1],C=this.stride[0],O=this.stride[1];return typeof g=="number"&&g>=0&&(T+=C*(c=0|g),E-=c),typeof v=="number"&&v>=0&&(T+=O*(c=0|v),A-=c),new d(this.data,E,A,C,O,T)},x.step=function(g,v){var T=this.shape[0],c=this.shape[1],E=this.stride[0],A=this.stride[1],C=this.offset,O=0,P=Math.ceil;return typeof g=="number"&&((O=0|g)<0?(C+=E*(T-1),T=P(-T/O)):T=P(T/O),E*=O),typeof v=="number"&&((O=0|v)<0?(C+=A*(c-1),c=P(-c/O)):c=P(c/O),A*=O),new d(this.data,T,c,E,A,C)},x.transpose=function(g,v){g=g===void 0?0:0|g,v=v===void 0?1:0|v;var T=this.shape,c=this.stride;return new d(this.data,T[g],T[v],c[g],c[v],this.offset)},x.pick=function(g,v){var T=[],c=[],E=this.offset;return typeof g=="number"&&g>=0?E=E+this.stride[0]*g|0:(T.push(this.shape[0]),c.push(this.stride[0])),typeof v=="number"&&v>=0?E=E+this.stride[1]*v|0:(T.push(this.shape[1]),c.push(this.stride[1])),(0,_[T.length+1])(this.data,T,c,E)},function(g,v,T,c){return new d(g,v[0],v[1],T[0],T[1],c)}},3:function(h,_,m){function d(g,v,T,c,E,A,C,O){this.data=g,this.shape=[v,T,c],this.stride=[E,A,C],this.offset=0|O}var x=d.prototype;return x.dtype=h,x.dimension=3,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(x,"order",{get:function(){var g=Math.abs(this.stride[0]),v=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return g>v?v>T?[2,1,0]:g>T?[1,2,0]:[1,0,2]:g>T?[2,0,1]:T>v?[0,1,2]:[0,2,1]}}),x.set=function(g,v,T,c){return h==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T,c):this.data[this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T]=c},x.get=function(g,v,T){return h==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T):this.data[this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T]},x.index=function(g,v,T){return this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T},x.hi=function(g,v,T){return new d(this.data,typeof g!="number"||g<0?this.shape[0]:0|g,typeof v!="number"||v<0?this.shape[1]:0|v,typeof T!="number"||T<0?this.shape[2]:0|T,this.stride[0],this.stride[1],this.stride[2],this.offset)},x.lo=function(g,v,T){var c=this.offset,E=0,A=this.shape[0],C=this.shape[1],O=this.shape[2],P=this.stride[0],D=this.stride[1],z=this.stride[2];return typeof g=="number"&&g>=0&&(c+=P*(E=0|g),A-=E),typeof v=="number"&&v>=0&&(c+=D*(E=0|v),C-=E),typeof T=="number"&&T>=0&&(c+=z*(E=0|T),O-=E),new d(this.data,A,C,O,P,D,z,c)},x.step=function(g,v,T){var c=this.shape[0],E=this.shape[1],A=this.shape[2],C=this.stride[0],O=this.stride[1],P=this.stride[2],D=this.offset,z=0,V=Math.ceil;return typeof g=="number"&&((z=0|g)<0?(D+=C*(c-1),c=V(-c/z)):c=V(c/z),C*=z),typeof v=="number"&&((z=0|v)<0?(D+=O*(E-1),E=V(-E/z)):E=V(E/z),O*=z),typeof T=="number"&&((z=0|T)<0?(D+=P*(A-1),A=V(-A/z)):A=V(A/z),P*=z),new d(this.data,c,E,A,C,O,P,D)},x.transpose=function(g,v,T){g=g===void 0?0:0|g,v=v===void 0?1:0|v,T=T===void 0?2:0|T;var c=this.shape,E=this.stride;return new d(this.data,c[g],c[v],c[T],E[g],E[v],E[T],this.offset)},x.pick=function(g,v,T){var c=[],E=[],A=this.offset;return typeof g=="number"&&g>=0?A=A+this.stride[0]*g|0:(c.push(this.shape[0]),E.push(this.stride[0])),typeof v=="number"&&v>=0?A=A+this.stride[1]*v|0:(c.push(this.shape[1]),E.push(this.stride[1])),typeof T=="number"&&T>=0?A=A+this.stride[2]*T|0:(c.push(this.shape[2]),E.push(this.stride[2])),(0,_[c.length+1])(this.data,c,E,A)},function(g,v,T,c){return new d(g,v[0],v[1],v[2],T[0],T[1],T[2],c)}},4:function(h,_,m){function d(g,v,T,c,E,A,C,O,P,D){this.data=g,this.shape=[v,T,c,E],this.stride=[A,C,O,P],this.offset=0|D}var x=d.prototype;return x.dtype=h,x.dimension=4,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(x,"order",{get:m}),x.set=function(g,v,T,c,E){return h==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c,E):this.data[this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c]=E},x.get=function(g,v,T,c){return h==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c):this.data[this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c]},x.index=function(g,v,T,c){return this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c},x.hi=function(g,v,T,c){return new d(this.data,typeof g!="number"||g<0?this.shape[0]:0|g,typeof v!="number"||v<0?this.shape[1]:0|v,typeof T!="number"||T<0?this.shape[2]:0|T,typeof c!="number"||c<0?this.shape[3]:0|c,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},x.lo=function(g,v,T,c){var E=this.offset,A=0,C=this.shape[0],O=this.shape[1],P=this.shape[2],D=this.shape[3],z=this.stride[0],V=this.stride[1],F=this.stride[2],W=this.stride[3];return typeof g=="number"&&g>=0&&(E+=z*(A=0|g),C-=A),typeof v=="number"&&v>=0&&(E+=V*(A=0|v),O-=A),typeof T=="number"&&T>=0&&(E+=F*(A=0|T),P-=A),typeof c=="number"&&c>=0&&(E+=W*(A=0|c),D-=A),new d(this.data,C,O,P,D,z,V,F,W,E)},x.step=function(g,v,T,c){var E=this.shape[0],A=this.shape[1],C=this.shape[2],O=this.shape[3],P=this.stride[0],D=this.stride[1],z=this.stride[2],V=this.stride[3],F=this.offset,W=0,B=Math.ceil;return typeof g=="number"&&((W=0|g)<0?(F+=P*(E-1),E=B(-E/W)):E=B(E/W),P*=W),typeof v=="number"&&((W=0|v)<0?(F+=D*(A-1),A=B(-A/W)):A=B(A/W),D*=W),typeof T=="number"&&((W=0|T)<0?(F+=z*(C-1),C=B(-C/W)):C=B(C/W),z*=W),typeof c=="number"&&((W=0|c)<0?(F+=V*(O-1),O=B(-O/W)):O=B(O/W),V*=W),new d(this.data,E,A,C,O,P,D,z,V,F)},x.transpose=function(g,v,T,c){g=g===void 0?0:0|g,v=v===void 0?1:0|v,T=T===void 0?2:0|T,c=c===void 0?3:0|c;var E=this.shape,A=this.stride;return new d(this.data,E[g],E[v],E[T],E[c],A[g],A[v],A[T],A[c],this.offset)},x.pick=function(g,v,T,c){var E=[],A=[],C=this.offset;return typeof g=="number"&&g>=0?C=C+this.stride[0]*g|0:(E.push(this.shape[0]),A.push(this.stride[0])),typeof v=="number"&&v>=0?C=C+this.stride[1]*v|0:(E.push(this.shape[1]),A.push(this.stride[1])),typeof T=="number"&&T>=0?C=C+this.stride[2]*T|0:(E.push(this.shape[2]),A.push(this.stride[2])),typeof c=="number"&&c>=0?C=C+this.stride[3]*c|0:(E.push(this.shape[3]),A.push(this.stride[3])),(0,_[E.length+1])(this.data,E,A,C)},function(g,v,T,c){return new d(g,v[0],v[1],v[2],v[3],T[0],T[1],T[2],T[3],c)}},5:function(h,_,m){function d(g,v,T,c,E,A,C,O,P,D,z,V){this.data=g,this.shape=[v,T,c,E,A],this.stride=[C,O,P,D,z],this.offset=0|V}var x=d.prototype;return x.dtype=h,x.dimension=5,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(x,"order",{get:m}),x.set=function(g,v,T,c,E,A){return h==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c+this.stride[4]*E,A):this.data[this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c+this.stride[4]*E]=A},x.get=function(g,v,T,c,E){return h==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c+this.stride[4]*E):this.data[this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c+this.stride[4]*E]},x.index=function(g,v,T,c,E){return this.offset+this.stride[0]*g+this.stride[1]*v+this.stride[2]*T+this.stride[3]*c+this.stride[4]*E},x.hi=function(g,v,T,c,E){return new d(this.data,typeof g!="number"||g<0?this.shape[0]:0|g,typeof v!="number"||v<0?this.shape[1]:0|v,typeof T!="number"||T<0?this.shape[2]:0|T,typeof c!="number"||c<0?this.shape[3]:0|c,typeof E!="number"||E<0?this.shape[4]:0|E,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},x.lo=function(g,v,T,c,E){var A=this.offset,C=0,O=this.shape[0],P=this.shape[1],D=this.shape[2],z=this.shape[3],V=this.shape[4],F=this.stride[0],W=this.stride[1],B=this.stride[2],U=this.stride[3],H=this.stride[4];return typeof g=="number"&&g>=0&&(A+=F*(C=0|g),O-=C),typeof v=="number"&&v>=0&&(A+=W*(C=0|v),P-=C),typeof T=="number"&&T>=0&&(A+=B*(C=0|T),D-=C),typeof c=="number"&&c>=0&&(A+=U*(C=0|c),z-=C),typeof E=="number"&&E>=0&&(A+=H*(C=0|E),V-=C),new d(this.data,O,P,D,z,V,F,W,B,U,H,A)},x.step=function(g,v,T,c,E){var A=this.shape[0],C=this.shape[1],O=this.shape[2],P=this.shape[3],D=this.shape[4],z=this.stride[0],V=this.stride[1],F=this.stride[2],W=this.stride[3],B=this.stride[4],U=this.offset,H=0,q=Math.ceil;return typeof g=="number"&&((H=0|g)<0?(U+=z*(A-1),A=q(-A/H)):A=q(A/H),z*=H),typeof v=="number"&&((H=0|v)<0?(U+=V*(C-1),C=q(-C/H)):C=q(C/H),V*=H),typeof T=="number"&&((H=0|T)<0?(U+=F*(O-1),O=q(-O/H)):O=q(O/H),F*=H),typeof c=="number"&&((H=0|c)<0?(U+=W*(P-1),P=q(-P/H)):P=q(P/H),W*=H),typeof E=="number"&&((H=0|E)<0?(U+=B*(D-1),D=q(-D/H)):D=q(D/H),B*=H),new d(this.data,A,C,O,P,D,z,V,F,W,B,U)},x.transpose=function(g,v,T,c,E){g=g===void 0?0:0|g,v=v===void 0?1:0|v,T=T===void 0?2:0|T,c=c===void 0?3:0|c,E=E===void 0?4:0|E;var A=this.shape,C=this.stride;return new d(this.data,A[g],A[v],A[T],A[c],A[E],C[g],C[v],C[T],C[c],C[E],this.offset)},x.pick=function(g,v,T,c,E){var A=[],C=[],O=this.offset;return typeof g=="number"&&g>=0?O=O+this.stride[0]*g|0:(A.push(this.shape[0]),C.push(this.stride[0])),typeof v=="number"&&v>=0?O=O+this.stride[1]*v|0:(A.push(this.shape[1]),C.push(this.stride[1])),typeof T=="number"&&T>=0?O=O+this.stride[2]*T|0:(A.push(this.shape[2]),C.push(this.stride[2])),typeof c=="number"&&c>=0?O=O+this.stride[3]*c|0:(A.push(this.shape[3]),C.push(this.stride[3])),typeof E=="number"&&E>=0?O=O+this.stride[4]*E|0:(A.push(this.shape[4]),C.push(this.stride[4])),(0,_[A.length+1])(this.data,A,C,O)},function(g,v,T,c){return new d(g,v[0],v[1],v[2],v[3],v[4],T[0],T[1],T[2],T[3],T[4],c)}}};function u(h,_){var m=_===-1?"T":String(_),d=i[m];return _===-1?d(h):_===0?d(h,p[h][0]):d(h,p[h],r)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};f.exports=function(h,_,m,d){if(h===void 0)return(0,p.array[0])([]);typeof h=="number"&&(h=[h]),_===void 0&&(_=[h.length]);var x=_.length;if(m===void 0){m=new Array(x);for(var g=x-1,v=1;g>=0;--g)m[g]=v,v*=_[g]}if(d===void 0)for(d=0,g=0;g<x;++g)m[g]<0&&(d-=(_[g]-1)*m[g]);for(var T=function(E){if(s(E))return"buffer";if(o)switch(Object.prototype.toString.call(E)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(E)?"array":"generic"}(h),c=p[T];c.length<=x+1;)c.push(u(T,c.length-1));return(0,c[x+1])(h,_,m,d)}},8551:function(f,l,t){"use strict";var s=t(8362),o=Math.pow(2,-1074),n=-1>>>0;f.exports=function(r,i){if(isNaN(r)||isNaN(i))return NaN;if(r===i)return r;if(r===0)return i<0?-o:o;var u=s.hi(r),p=s.lo(r);return i>r==r>0?p===n?(u+=1,p=0):p+=1:p===0?(p=n,u-=1):p-=1,s.pack(p,u)}},115:function(f,l){l.vertexNormals=function(t,s,o){for(var n=s.length,r=new Array(n),i=o===void 0?1e-6:o,u=0;u<n;++u)r[u]=[0,0,0];for(u=0;u<t.length;++u)for(var p=t[u],h=0,_=p[p.length-1],m=p[0],d=0;d<p.length;++d){h=_,_=m,m=p[(d+1)%p.length];for(var x=s[h],g=s[_],v=s[m],T=new Array(3),c=0,E=new Array(3),A=0,C=0;C<3;++C)T[C]=x[C]-g[C],c+=T[C]*T[C],E[C]=v[C]-g[C],A+=E[C]*E[C];if(c*A>i){var O=r[_],P=1/Math.sqrt(c*A);for(C=0;C<3;++C){var D=(C+1)%3,z=(C+2)%3;O[C]+=P*(E[D]*T[z]-E[z]*T[D])}}}for(u=0;u<n;++u){O=r[u];var V=0;for(C=0;C<3;++C)V+=O[C]*O[C];if(V>i)for(P=1/Math.sqrt(V),C=0;C<3;++C)O[C]*=P;else for(C=0;C<3;++C)O[C]=0}return r},l.faceNormals=function(t,s,o){for(var n=t.length,r=new Array(n),i=o===void 0?1e-6:o,u=0;u<n;++u){for(var p=t[u],h=new Array(3),_=0;_<3;++_)h[_]=s[p[_]];var m=new Array(3),d=new Array(3);for(_=0;_<3;++_)m[_]=h[1][_]-h[0][_],d[_]=h[2][_]-h[0][_];var x=new Array(3),g=0;for(_=0;_<3;++_){var v=(_+1)%3,T=(_+2)%3;x[_]=m[v]*d[T]-m[T]*d[v],g+=x[_]*x[_]}for(g=g>i?1/Math.sqrt(g):0,_=0;_<3;++_)x[_]*=g;r[u]=x}return r}},567:function(f){"use strict";f.exports=function(l,t,s,o,n,r,i,u,p,h){var _=t+r+h;if(m>0){var m=Math.sqrt(_+1);l[0]=.5*(i-p)/m,l[1]=.5*(u-o)/m,l[2]=.5*(s-r)/m,l[3]=.5*m}else{var d=Math.max(t,r,h);m=Math.sqrt(2*d-_+1),t>=d?(l[0]=.5*m,l[1]=.5*(n+s)/m,l[2]=.5*(u+o)/m,l[3]=.5*(i-p)/m):r>=d?(l[0]=.5*(s+n)/m,l[1]=.5*m,l[2]=.5*(p+i)/m,l[3]=.5*(u-o)/m):(l[0]=.5*(o+u)/m,l[1]=.5*(i+p)/m,l[2]=.5*m,l[3]=.5*(s-n)/m)}return l}},7774:function(f,l,t){"use strict";f.exports=function(d){var x=(d=d||{}).center||[0,0,0],g=d.rotation||[0,0,0,1],v=d.radius||1;x=[].slice.call(x,0,3),h(g=[].slice.call(g,0,4),g);var T=new _(g,x,Math.log(v));return T.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&T.lookAt(0,d.eye,d.center,d.up),T};var s=t(8444),o=t(3012),n=t(5950),r=t(7437),i=t(567);function u(d,x,g){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(g,2))}function p(d,x,g,v){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(g,2)+Math.pow(v,2))}function h(d,x){var g=x[0],v=x[1],T=x[2],c=x[3],E=p(g,v,T,c);E>1e-6?(d[0]=g/E,d[1]=v/E,d[2]=T/E,d[3]=c/E):(d[0]=d[1]=d[2]=0,d[3]=1)}function _(d,x,g){this.radius=s([g]),this.center=s(x),this.rotation=s(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var m=_.prototype;m.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},m.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;h(x,x);var g=this.computedMatrix;n(g,x);var v=this.computedCenter,T=this.computedEye,c=this.computedUp,E=Math.exp(this.computedRadius[0]);T[0]=v[0]+E*g[2],T[1]=v[1]+E*g[6],T[2]=v[2]+E*g[10],c[0]=g[1],c[1]=g[5],c[2]=g[9];for(var A=0;A<3;++A){for(var C=0,O=0;O<3;++O)C+=g[A+4*O]*T[O];g[12+A]=-C}},m.getMatrix=function(d,x){this.recalcMatrix(d);var g=this.computedMatrix;if(x){for(var v=0;v<16;++v)x[v]=g[v];return x}return g},m.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},m.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},m.pan=function(d,x,g,v){x=x||0,g=g||0,v=v||0,this.recalcMatrix(d);var T=this.computedMatrix,c=T[1],E=T[5],A=T[9],C=u(c,E,A);c/=C,E/=C,A/=C;var O=T[0],P=T[4],D=T[8],z=O*c+P*E+D*A,V=u(O-=c*z,P-=E*z,D-=A*z);O/=V,P/=V,D/=V;var F=T[2],W=T[6],B=T[10],U=F*c+W*E+B*A,H=F*O+W*P+B*D,q=u(F-=U*c+H*O,W-=U*E+H*P,B-=U*A+H*D);F/=q,W/=q,B/=q;var ee=O*x+c*g,K=P*x+E*g,J=D*x+A*g;this.center.move(d,ee,K,J);var Z=Math.exp(this.computedRadius[0]);Z=Math.max(1e-4,Z+v),this.radius.set(d,Math.log(Z))},m.rotate=function(d,x,g,v){this.recalcMatrix(d),x=x||0,g=g||0;var T=this.computedMatrix,c=T[0],E=T[4],A=T[8],C=T[1],O=T[5],P=T[9],D=T[2],z=T[6],V=T[10],F=x*c+g*C,W=x*E+g*O,B=x*A+g*P,U=-(z*B-V*W),H=-(V*F-D*B),q=-(D*W-z*F),ee=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(H,2)-Math.pow(q,2))),K=p(U,H,q,ee);K>1e-6?(U/=K,H/=K,q/=K,ee/=K):(U=H=q=0,ee=1);var J=this.computedRotation,Z=J[0],$=J[1],ne=J[2],ae=J[3],oe=Z*ee+ae*U+$*q-ne*H,se=$*ee+ae*H+ne*U-Z*q,ce=ne*ee+ae*q+Z*H-$*U,me=ae*ee-Z*U-$*H-ne*q;if(v){U=D,H=z,q=V;var xe=Math.sin(v)/u(U,H,q);U*=xe,H*=xe,q*=xe,me=me*(ee=Math.cos(x))-(oe=oe*ee+me*U+se*q-ce*H)*U-(se=se*ee+me*H+ce*U-oe*q)*H-(ce=ce*ee+me*q+oe*H-se*U)*q}var ve=p(oe,se,ce,me);ve>1e-6?(oe/=ve,se/=ve,ce/=ve,me/=ve):(oe=se=ce=0,me=1),this.rotation.set(d,oe,se,ce,me)},m.lookAt=function(d,x,g,v){this.recalcMatrix(d),g=g||this.computedCenter,x=x||this.computedEye,v=v||this.computedUp;var T=this.computedMatrix;o(T,x,g,v);var c=this.computedRotation;i(c,T[0],T[1],T[2],T[4],T[5],T[6],T[8],T[9],T[10]),h(c,c),this.rotation.set(d,c[0],c[1],c[2],c[3]);for(var E=0,A=0;A<3;++A)E+=Math.pow(g[A]-x[A],2);this.radius.set(d,.5*Math.log(Math.max(E,1e-6))),this.center.set(d,g[0],g[1],g[2])},m.translate=function(d,x,g,v){this.center.move(d,x||0,g||0,v||0)},m.setMatrix=function(d,x){var g=this.computedRotation;i(g,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(g,g),this.rotation.set(d,g[0],g[1],g[2],g[3]);var v=this.computedMatrix;r(v,x);var T=v[15];if(Math.abs(T)>1e-6){var c=v[12]/T,E=v[13]/T,A=v[14]/T;this.recalcMatrix(d);var C=Math.exp(this.computedRadius[0]);this.center.set(d,c-v[2]*C,E-v[6]*C,A-v[10]*C),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},m.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},m.setDistanceLimits=function(d,x){d=d>0?Math.log(d):-1/0,x=x>0?Math.log(x):1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},m.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},m.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},m.fromJSON=function(d){var x=this.lastT(),g=d.center;g&&this.center.set(x,g[0],g[1],g[2]);var v=d.rotation;v&&this.rotation.set(x,v[0],v[1],v[2],v[3]);var T=d.distance;T&&T>0&&this.radius.set(x,Math.log(T)),this.setDistanceLimits(d.zoomMin,d.zoomMax)}},4930:function(f,l,t){"use strict";var s=t(6184);f.exports=function(o,n,r){return s(r=r!==void 0?r+"":" ",n)+o}},4405:function(f){f.exports=function(l,t){t||(t=[0,""]),l=String(l);var s=parseFloat(l,10);return t[0]=s,t[1]=l.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(f,l,t){"use strict";f.exports=function(o,n){for(var r=0|n.length,i=o.length,u=[new Array(r),new Array(r)],p=0;p<r;++p)u[0][p]=[],u[1][p]=[];for(p=0;p<i;++p){var h=o[p];u[0][h[0]].push(h),u[1][h[1]].push(h)}var _=[];for(p=0;p<r;++p)u[0][p].length+u[1][p].length===0&&_.push([p]);function m(E,A){var C=u[A][E[A]];C.splice(C.indexOf(E),1)}function d(E,A,C){for(var O,P,D,z=0;z<2;++z)if(u[z][A].length>0){O=u[z][A][0],D=z;break}P=O[1^D];for(var V=0;V<2;++V)for(var F=u[V][A],W=0;W<F.length;++W){var B=F[W],U=B[1^V];s(n[E],n[A],n[P],n[U])>0&&(O=B,P=U,D=V)}return C||O&&m(O,D),P}function x(E,A){var C=u[A][E][0],O=[E];m(C,A);for(var P=C[1^A];;){for(;P!==E;)O.push(P),P=d(O[O.length-2],P,!1);if(u[0][E].length+u[1][E].length===0)break;var D=O[O.length-1],z=E,V=O[1],F=d(D,z,!0);if(s(n[D],n[z],n[V],n[F])<0)break;O.push(E),P=d(D,z)}return O}function g(E,A){return A[1]===A[A.length-1]}for(p=0;p<r;++p)for(var v=0;v<2;++v){for(var T=[];u[v][p].length>0;){u[0][p].length;var c=x(p,v);g(0,c)?T.push.apply(T,c):(T.length>0&&_.push(T),T=c)}T.length>0&&_.push(T)}return _};var s=t(9398)},3959:function(f,l,t){"use strict";f.exports=function(o,n){for(var r=s(o,n.length),i=new Array(n.length),u=new Array(n.length),p=[],h=0;h<n.length;++h){var _=r[h].length;u[h]=_,i[h]=!0,_<=1&&p.push(h)}for(;p.length>0;){var m=p.pop();i[m]=!1;var d=r[m];for(h=0;h<d.length;++h){var x=d[h];--u[x]==0&&p.push(x)}}var g=new Array(n.length),v=[];for(h=0;h<n.length;++h)i[h]?(m=v.length,g[h]=m,v.push(n[h])):g[h]=-1;var T=[];for(h=0;h<o.length;++h){var c=o[h];i[c[0]]&&i[c[1]]&&T.push([g[c[0]],g[c[1]]])}return[T,v]};var s=t(8348)},8040:function(f,l,t){"use strict";f.exports=function(_,m){var d=p(_,m);_=d[0];for(var x=(m=d[1]).length,g=(_.length,s(_,m.length)),v=0;v<x;++v)if(g[v].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var T=o(_,m),c=(T=T.filter(function(Le){for(var ye=Le.length,Ae=[0],Me=0;Me<ye;++Me){var ke=m[Le[Me]],te=m[Le[(Me+1)%ye]],ue=r(-ke[0],ke[1]),ge=r(-ke[0],te[1]),we=r(te[0],ke[1]),Ee=r(te[0],te[1]);Ae=i(Ae,i(i(ue,ge),i(we,Ee)))}return Ae[Ae.length-1]>0})).length,E=new Array(c),A=new Array(c);for(v=0;v<c;++v){E[v]=v;var C=new Array(c),O=T[v].map(function(Le){return m[Le]}),P=n([O]),D=0;e:for(var z=0;z<c;++z)if(C[z]=0,v!==z){for(var V=(fe=T[z]).length,F=0;F<V;++F){var W=P(m[fe[F]]);if(W!==0){W<0&&(C[z]=1,D+=1);continue e}}C[z]=1,D+=1}A[v]=[D,v,C]}for(A.sort(function(Le,ye){return ye[0]-Le[0]}),v=0;v<c;++v){var B=(C=A[v])[1],U=C[2];for(z=0;z<c;++z)U[z]&&(E[z]=B)}var H=function(Le){for(var ye=new Array(Le),Ae=0;Ae<Le;++Ae)ye[Ae]=[];return ye}(c);for(v=0;v<c;++v)H[v].push(E[v]),H[E[v]].push(v);var q={},ee=h(x,!1);for(v=0;v<c;++v)for(V=(fe=T[v]).length,z=0;z<V;++z){var K=fe[z],J=fe[(z+1)%V],Z=Math.min(K,J)+":"+Math.max(K,J);if(Z in q){var $=q[Z];H[$].push(v),H[v].push($),ee[K]=ee[J]=!0}else q[Z]=v}function ne(Le){for(var ye=Le.length,Ae=0;Ae<ye;++Ae)if(!ee[Le[Ae]])return!1;return!0}var ae=[],oe=h(c,-1);for(v=0;v<c;++v)E[v]!==v||ne(T[v])?oe[v]=-1:(ae.push(v),oe[v]=0);for(d=[];ae.length>0;){var se=ae.pop(),ce=H[se];u(ce,function(Le,ye){return Le-ye});var me,xe=ce.length,ve=oe[se];if(ve===0){var fe=T[se];me=[fe]}for(v=0;v<xe;++v){var pe=ce[v];oe[pe]>=0||(oe[pe]=1^ve,ae.push(pe),ve===0&&(ne(fe=T[pe])||(fe.reverse(),me.push(fe))))}ve===0&&d.push(me)}return d};var s=t(8348),o=t(4166),n=t(211),r=t(9660),i=t(9662),u=t(1215),p=t(3959);function h(_,m){for(var d=new Array(_),x=0;x<_;++x)d[x]=m;return d}},211:function(f,l,t){f.exports=function(h){for(var _=h.length,m=[],d=[],x=0;x<_;++x)for(var g=h[x],v=g.length,T=v-1,c=0;c<v;T=c++){var E=g[T],A=g[c];E[0]===A[0]?d.push([E,A]):m.push([E,A])}if(m.length===0)return d.length===0?p:(C=u(d),function(D){return C(D[0],D[1])?0:1});var C,O=o(m),P=function(D,z){return function(V){var F=r.le(z,V[0]);if(F<0)return 1;var W=D[F];if(!W){if(!(F>0&&z[F]===V[0]))return 1;W=D[F-1]}for(var B=1;W;){var U=W.key,H=s(V,U[0],U[1]);if(U[0][0]<U[1][0])if(H<0)W=W.left;else{if(!(H>0))return 0;B=-1,W=W.right}else if(H>0)W=W.left;else{if(!(H<0))return 0;B=1,W=W.right}}return B}}(O.slabs,O.coordinates);return d.length===0?P:function(D,z){return function(V){return D(V[0],V[1])?0:z(V)}}(u(d),P)};var s=t(417)[3],o=t(4385),n=t(9014),r=t(5070);function i(){return!0}function u(h){for(var _={},m=0;m<h.length;++m){var d=h[m],x=d[0][0],g=d[0][1],v=d[1][1],T=[Math.min(g,v),Math.max(g,v)];x in _?_[x].push(T):_[x]=[T]}var c={},E=Object.keys(_);for(m=0;m<E.length;++m){var A=_[E[m]];c[E[m]]=n(A)}return function(C){return function(O,P){var D=C[O];return!!D&&!!D.queryPoint(P,i)}}(c)}function p(h){return 1}},7309:function(f){"use strict";var l=new Float64Array(4),t=new Float64Array(4),s=new Float64Array(4);f.exports=function(o,n,r,i,u){l.length<i.length&&(l=new Float64Array(i.length),t=new Float64Array(i.length),s=new Float64Array(i.length));for(var p=0;p<i.length;++p)l[p]=o[p]-i[p],t[p]=n[p]-o[p],s[p]=r[p]-o[p];var h=0,_=0,m=0,d=0,x=0,g=0;for(p=0;p<i.length;++p){var v=t[p],T=s[p],c=l[p];h+=v*v,_+=v*T,m+=T*T,d+=c*v,x+=c*T,g+=c*c}var E,A,C,O,P,D=Math.abs(h*m-_*_),z=_*x-m*d,V=_*d-h*x;if(z+V<=D)if(z<0)V<0&&d<0?(V=0,-d>=h?(z=1,E=h+2*d+g):E=d*(z=-d/h)+g):(z=0,x>=0?(V=0,E=g):-x>=m?(V=1,E=m+2*x+g):E=x*(V=-x/m)+g);else if(V<0)V=0,d>=0?(z=0,E=g):-d>=h?(z=1,E=h+2*d+g):E=d*(z=-d/h)+g;else{var F=1/D;E=(z*=F)*(h*z+_*(V*=F)+2*d)+V*(_*z+m*V+2*x)+g}else z<0?(C=m+x)>(A=_+d)?(O=C-A)>=(P=h-2*_+m)?(z=1,V=0,E=h+2*d+g):E=(z=O/P)*(h*z+_*(V=1-z)+2*d)+V*(_*z+m*V+2*x)+g:(z=0,C<=0?(V=1,E=m+2*x+g):x>=0?(V=0,E=g):E=x*(V=-x/m)+g):V<0?(C=h+d)>(A=_+x)?(O=C-A)>=(P=h-2*_+m)?(V=1,z=0,E=m+2*x+g):E=(z=1-(V=O/P))*(h*z+_*V+2*d)+V*(_*z+m*V+2*x)+g:(V=0,C<=0?(z=1,E=h+2*d+g):d>=0?(z=0,E=g):E=d*(z=-d/h)+g):(O=m+x-_-d)<=0?(z=0,V=1,E=m+2*x+g):O>=(P=h-2*_+m)?(z=1,V=0,E=h+2*d+g):E=(z=O/P)*(h*z+_*(V=1-z)+2*d)+V*(_*z+m*V+2*x)+g;var W=1-z-V;for(p=0;p<i.length;++p)u[p]=W*o[p]+z*n[p]+V*r[p];return E<0?0:E}},1116:function(f,l,t){f.exports=t(6093)},7584:function(f,l,t){"use strict";var s=t(1539);f.exports=function(o,n){for(var r=o.length,i=new Array(r),u=0;u<r;++u)i[u]=s(o[u],n[u]);return i}},2826:function(f,l,t){"use strict";f.exports=function(o){for(var n=new Array(o.length),r=0;r<o.length;++r)n[r]=s(o[r]);return n};var s=t(5125)},4469:function(f,l,t){"use strict";var s=t(5125),o=t(3962);f.exports=function(n,r){for(var i=s(r),u=n.length,p=new Array(u),h=0;h<u;++h)p[h]=o(n[h],i);return p}},6695:function(f,l,t){"use strict";var s=t(4354);f.exports=function(o,n){for(var r=o.length,i=new Array(r),u=0;u<r;++u)i[u]=s(o[u],n[u]);return i}},7037:function(f,l,t){"use strict";var s=t(9209),o=t(1284),n=t(9887);f.exports=function(r){r.sort(o);for(var i=r.length,u=0,p=0;p<i;++p){var h=r[p],_=n(h);if(_!==0){if(u>0){var m=r[u-1];if(s(h,m)===0&&n(m)!==_){u-=1;continue}}r[u++]=h}}return r.length=u,r}},6184:function(f){"use strict";var l,t="";f.exports=function(s,o){if(typeof s!="string")throw new TypeError("expected a string");if(o===1)return s;if(o===2)return s+s;var n=s.length*o;if(l!==s||l===void 0)l=s,t="";else if(t.length>=n)return t.substr(0,n);for(;n>t.length&&o>1;)1&o&&(t+=s),o>>=1,s+=s;return t=(t+=s).substr(0,n)}},8161:function(f,l,t){f.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(f){"use strict";f.exports=function(l){for(var t=l.length,s=l[l.length-1],o=t,n=t-2;n>=0;--n){var r=s,i=l[n];(p=i-((s=r+i)-r))&&(l[--o]=s,s=p)}var u=0;for(n=o;n<t;++n){var p;(p=(i=s)-((s=(r=l[n])+i)-r))&&(l[u++]=p)}return l[u++]=s,l.length=u,l}},8167:function(f,l,t){"use strict";var s=t(9660),o=t(9662),n=t(8289),r=t(402);function i(x,g,v,T){return function(c){return T(x(v(c[0][0],c[1][1]),v(-c[0][1],c[1][0])))}}function u(x,g,v,T){return function(c){return T(x(g(x(v(c[1][1],c[2][2]),v(-c[1][2],c[2][1])),c[0][0]),x(g(x(v(c[1][0],c[2][2]),v(-c[1][2],c[2][0])),-c[0][1]),g(x(v(c[1][0],c[2][1]),v(-c[1][1],c[2][0])),c[0][2]))))}}function p(x,g,v,T){return function(c){return T(x(x(g(x(g(x(v(c[2][2],c[3][3]),v(-c[2][3],c[3][2])),c[1][1]),x(g(x(v(c[2][1],c[3][3]),v(-c[2][3],c[3][1])),-c[1][2]),g(x(v(c[2][1],c[3][2]),v(-c[2][2],c[3][1])),c[1][3]))),c[0][0]),g(x(g(x(v(c[2][2],c[3][3]),v(-c[2][3],c[3][2])),c[1][0]),x(g(x(v(c[2][0],c[3][3]),v(-c[2][3],c[3][0])),-c[1][2]),g(x(v(c[2][0],c[3][2]),v(-c[2][2],c[3][0])),c[1][3]))),-c[0][1])),x(g(x(g(x(v(c[2][1],c[3][3]),v(-c[2][3],c[3][1])),c[1][0]),x(g(x(v(c[2][0],c[3][3]),v(-c[2][3],c[3][0])),-c[1][1]),g(x(v(c[2][0],c[3][1]),v(-c[2][1],c[3][0])),c[1][3]))),c[0][2]),g(x(g(x(v(c[2][1],c[3][2]),v(-c[2][2],c[3][1])),c[1][0]),x(g(x(v(c[2][0],c[3][2]),v(-c[2][2],c[3][0])),-c[1][1]),g(x(v(c[2][0],c[3][1]),v(-c[2][1],c[3][0])),c[1][2]))),-c[0][3]))))}}function h(x,g,v,T){return function(c){return T(x(x(g(x(x(g(x(g(x(v(c[3][3],c[4][4]),v(-c[3][4],c[4][3])),c[2][2]),x(g(x(v(c[3][2],c[4][4]),v(-c[3][4],c[4][2])),-c[2][3]),g(x(v(c[3][2],c[4][3]),v(-c[3][3],c[4][2])),c[2][4]))),c[1][1]),g(x(g(x(v(c[3][3],c[4][4]),v(-c[3][4],c[4][3])),c[2][1]),x(g(x(v(c[3][1],c[4][4]),v(-c[3][4],c[4][1])),-c[2][3]),g(x(v(c[3][1],c[4][3]),v(-c[3][3],c[4][1])),c[2][4]))),-c[1][2])),x(g(x(g(x(v(c[3][2],c[4][4]),v(-c[3][4],c[4][2])),c[2][1]),x(g(x(v(c[3][1],c[4][4]),v(-c[3][4],c[4][1])),-c[2][2]),g(x(v(c[3][1],c[4][2]),v(-c[3][2],c[4][1])),c[2][4]))),c[1][3]),g(x(g(x(v(c[3][2],c[4][3]),v(-c[3][3],c[4][2])),c[2][1]),x(g(x(v(c[3][1],c[4][3]),v(-c[3][3],c[4][1])),-c[2][2]),g(x(v(c[3][1],c[4][2]),v(-c[3][2],c[4][1])),c[2][3]))),-c[1][4]))),c[0][0]),g(x(x(g(x(g(x(v(c[3][3],c[4][4]),v(-c[3][4],c[4][3])),c[2][2]),x(g(x(v(c[3][2],c[4][4]),v(-c[3][4],c[4][2])),-c[2][3]),g(x(v(c[3][2],c[4][3]),v(-c[3][3],c[4][2])),c[2][4]))),c[1][0]),g(x(g(x(v(c[3][3],c[4][4]),v(-c[3][4],c[4][3])),c[2][0]),x(g(x(v(c[3][0],c[4][4]),v(-c[3][4],c[4][0])),-c[2][3]),g(x(v(c[3][0],c[4][3]),v(-c[3][3],c[4][0])),c[2][4]))),-c[1][2])),x(g(x(g(x(v(c[3][2],c[4][4]),v(-c[3][4],c[4][2])),c[2][0]),x(g(x(v(c[3][0],c[4][4]),v(-c[3][4],c[4][0])),-c[2][2]),g(x(v(c[3][0],c[4][2]),v(-c[3][2],c[4][0])),c[2][4]))),c[1][3]),g(x(g(x(v(c[3][2],c[4][3]),v(-c[3][3],c[4][2])),c[2][0]),x(g(x(v(c[3][0],c[4][3]),v(-c[3][3],c[4][0])),-c[2][2]),g(x(v(c[3][0],c[4][2]),v(-c[3][2],c[4][0])),c[2][3]))),-c[1][4]))),-c[0][1])),x(g(x(x(g(x(g(x(v(c[3][3],c[4][4]),v(-c[3][4],c[4][3])),c[2][1]),x(g(x(v(c[3][1],c[4][4]),v(-c[3][4],c[4][1])),-c[2][3]),g(x(v(c[3][1],c[4][3]),v(-c[3][3],c[4][1])),c[2][4]))),c[1][0]),g(x(g(x(v(c[3][3],c[4][4]),v(-c[3][4],c[4][3])),c[2][0]),x(g(x(v(c[3][0],c[4][4]),v(-c[3][4],c[4][0])),-c[2][3]),g(x(v(c[3][0],c[4][3]),v(-c[3][3],c[4][0])),c[2][4]))),-c[1][1])),x(g(x(g(x(v(c[3][1],c[4][4]),v(-c[3][4],c[4][1])),c[2][0]),x(g(x(v(c[3][0],c[4][4]),v(-c[3][4],c[4][0])),-c[2][1]),g(x(v(c[3][0],c[4][1]),v(-c[3][1],c[4][0])),c[2][4]))),c[1][3]),g(x(g(x(v(c[3][1],c[4][3]),v(-c[3][3],c[4][1])),c[2][0]),x(g(x(v(c[3][0],c[4][3]),v(-c[3][3],c[4][0])),-c[2][1]),g(x(v(c[3][0],c[4][1]),v(-c[3][1],c[4][0])),c[2][3]))),-c[1][4]))),c[0][2]),x(g(x(x(g(x(g(x(v(c[3][2],c[4][4]),v(-c[3][4],c[4][2])),c[2][1]),x(g(x(v(c[3][1],c[4][4]),v(-c[3][4],c[4][1])),-c[2][2]),g(x(v(c[3][1],c[4][2]),v(-c[3][2],c[4][1])),c[2][4]))),c[1][0]),g(x(g(x(v(c[3][2],c[4][4]),v(-c[3][4],c[4][2])),c[2][0]),x(g(x(v(c[3][0],c[4][4]),v(-c[3][4],c[4][0])),-c[2][2]),g(x(v(c[3][0],c[4][2]),v(-c[3][2],c[4][0])),c[2][4]))),-c[1][1])),x(g(x(g(x(v(c[3][1],c[4][4]),v(-c[3][4],c[4][1])),c[2][0]),x(g(x(v(c[3][0],c[4][4]),v(-c[3][4],c[4][0])),-c[2][1]),g(x(v(c[3][0],c[4][1]),v(-c[3][1],c[4][0])),c[2][4]))),c[1][2]),g(x(g(x(v(c[3][1],c[4][2]),v(-c[3][2],c[4][1])),c[2][0]),x(g(x(v(c[3][0],c[4][2]),v(-c[3][2],c[4][0])),-c[2][1]),g(x(v(c[3][0],c[4][1]),v(-c[3][1],c[4][0])),c[2][2]))),-c[1][4]))),-c[0][3]),g(x(x(g(x(g(x(v(c[3][2],c[4][3]),v(-c[3][3],c[4][2])),c[2][1]),x(g(x(v(c[3][1],c[4][3]),v(-c[3][3],c[4][1])),-c[2][2]),g(x(v(c[3][1],c[4][2]),v(-c[3][2],c[4][1])),c[2][3]))),c[1][0]),g(x(g(x(v(c[3][2],c[4][3]),v(-c[3][3],c[4][2])),c[2][0]),x(g(x(v(c[3][0],c[4][3]),v(-c[3][3],c[4][0])),-c[2][2]),g(x(v(c[3][0],c[4][2]),v(-c[3][2],c[4][0])),c[2][3]))),-c[1][1])),x(g(x(g(x(v(c[3][1],c[4][3]),v(-c[3][3],c[4][1])),c[2][0]),x(g(x(v(c[3][0],c[4][3]),v(-c[3][3],c[4][0])),-c[2][1]),g(x(v(c[3][0],c[4][1]),v(-c[3][1],c[4][0])),c[2][3]))),c[1][2]),g(x(g(x(v(c[3][1],c[4][2]),v(-c[3][2],c[4][1])),c[2][0]),x(g(x(v(c[3][0],c[4][2]),v(-c[3][2],c[4][0])),-c[2][1]),g(x(v(c[3][0],c[4][1]),v(-c[3][1],c[4][0])),c[2][2]))),-c[1][3]))),c[0][4])))))}}function _(x){return(x===2?i:x===3?u:x===4?p:x===5?h:void 0)(o,n,s,r)}var m=[function(){return[0]},function(x){return[x[0][0]]}];function d(x,g,v,T,c,E,A,C){return function(O){switch(O.length){case 0:return x(O);case 1:return g(O);case 2:return v(O);case 3:return T(O);case 4:return c(O);case 5:return E(O)}var P=A[O.length];return P||(P=A[O.length]=C(O.length)),P(O)}}(function(){for(;m.length<6;)m.push(_(m.length));f.exports=d.apply(void 0,m.concat([m,_]));for(var x=0;x<m.length;++x)f.exports[x]=m[x]})()},9130:function(f,l,t){"use strict";var s=t(9660),o=t(9662);f.exports=function(n,r){for(var i=s(n[0],r[0]),u=1;u<n.length;++u)i=o(i,s(n[u],r[u]));return i}},2227:function(f,l,t){"use strict";var s=t(9660),o=t(9662),n=t(4078),r=t(8289);function i(g){return(g===3?u:g===4?p:g===5?h:_)(o,n,s,r)}function u(g,v,T,c){return function(E,A,C){var O=T(E[0],E[0]),P=c(O,A[0]),D=c(O,C[0]),z=T(A[0],A[0]),V=c(z,E[0]),F=c(z,C[0]),W=T(C[0],C[0]),B=c(W,E[0]),U=c(W,A[0]),H=g(v(U,F),v(V,P)),q=v(B,D),ee=v(H,q);return ee[ee.length-1]}}function p(g,v,T,c){return function(E,A,C,O){var P=g(T(E[0],E[0]),T(E[1],E[1])),D=c(P,A[0]),z=c(P,C[0]),V=c(P,O[0]),F=g(T(A[0],A[0]),T(A[1],A[1])),W=c(F,E[0]),B=c(F,C[0]),U=c(F,O[0]),H=g(T(C[0],C[0]),T(C[1],C[1])),q=c(H,E[0]),ee=c(H,A[0]),K=c(H,O[0]),J=g(T(O[0],O[0]),T(O[1],O[1])),Z=c(J,E[0]),$=c(J,A[0]),ne=c(J,C[0]),ae=g(g(c(v(ne,K),A[1]),g(c(v($,U),-C[1]),c(v(ee,B),O[1]))),g(c(v($,U),E[1]),g(c(v(Z,V),-A[1]),c(v(W,D),O[1])))),oe=g(g(c(v(ne,K),E[1]),g(c(v(Z,V),-C[1]),c(v(q,z),O[1]))),g(c(v(ee,B),E[1]),g(c(v(q,z),-A[1]),c(v(W,D),C[1])))),se=v(ae,oe);return se[se.length-1]}}function h(g,v,T,c){return function(E,A,C,O,P){var D=g(T(E[0],E[0]),g(T(E[1],E[1]),T(E[2],E[2]))),z=c(D,A[0]),V=c(D,C[0]),F=c(D,O[0]),W=c(D,P[0]),B=g(T(A[0],A[0]),g(T(A[1],A[1]),T(A[2],A[2]))),U=c(B,E[0]),H=c(B,C[0]),q=c(B,O[0]),ee=c(B,P[0]),K=g(T(C[0],C[0]),g(T(C[1],C[1]),T(C[2],C[2]))),J=c(K,E[0]),Z=c(K,A[0]),$=c(K,O[0]),ne=c(K,P[0]),ae=g(T(O[0],O[0]),g(T(O[1],O[1]),T(O[2],O[2]))),oe=c(ae,E[0]),se=c(ae,A[0]),ce=c(ae,C[0]),me=c(ae,P[0]),xe=g(T(P[0],P[0]),g(T(P[1],P[1]),T(P[2],P[2]))),ve=c(xe,E[0]),fe=c(xe,A[0]),pe=c(xe,C[0]),Le=c(xe,O[0]),ye=g(g(g(c(g(c(v(Le,me),C[1]),g(c(v(pe,ne),-O[1]),c(v(ce,$),P[1]))),A[2]),g(c(g(c(v(Le,me),A[1]),g(c(v(fe,ee),-O[1]),c(v(se,q),P[1]))),-C[2]),c(g(c(v(pe,ne),A[1]),g(c(v(fe,ee),-C[1]),c(v(Z,H),P[1]))),O[2]))),g(c(g(c(v(ce,$),A[1]),g(c(v(se,q),-C[1]),c(v(Z,H),O[1]))),-P[2]),g(c(g(c(v(Le,me),A[1]),g(c(v(fe,ee),-O[1]),c(v(se,q),P[1]))),E[2]),c(g(c(v(Le,me),E[1]),g(c(v(ve,W),-O[1]),c(v(oe,F),P[1]))),-A[2])))),g(g(c(g(c(v(fe,ee),E[1]),g(c(v(ve,W),-A[1]),c(v(U,z),P[1]))),O[2]),g(c(g(c(v(se,q),E[1]),g(c(v(oe,F),-A[1]),c(v(U,z),O[1]))),-P[2]),c(g(c(v(ce,$),A[1]),g(c(v(se,q),-C[1]),c(v(Z,H),O[1]))),E[2]))),g(c(g(c(v(ce,$),E[1]),g(c(v(oe,F),-C[1]),c(v(J,V),O[1]))),-A[2]),g(c(g(c(v(se,q),E[1]),g(c(v(oe,F),-A[1]),c(v(U,z),O[1]))),C[2]),c(g(c(v(Z,H),E[1]),g(c(v(J,V),-A[1]),c(v(U,z),C[1]))),-O[2]))))),Ae=g(g(g(c(g(c(v(Le,me),C[1]),g(c(v(pe,ne),-O[1]),c(v(ce,$),P[1]))),E[2]),c(g(c(v(Le,me),E[1]),g(c(v(ve,W),-O[1]),c(v(oe,F),P[1]))),-C[2])),g(c(g(c(v(pe,ne),E[1]),g(c(v(ve,W),-C[1]),c(v(J,V),P[1]))),O[2]),c(g(c(v(ce,$),E[1]),g(c(v(oe,F),-C[1]),c(v(J,V),O[1]))),-P[2]))),g(g(c(g(c(v(pe,ne),A[1]),g(c(v(fe,ee),-C[1]),c(v(Z,H),P[1]))),E[2]),c(g(c(v(pe,ne),E[1]),g(c(v(ve,W),-C[1]),c(v(J,V),P[1]))),-A[2])),g(c(g(c(v(fe,ee),E[1]),g(c(v(ve,W),-A[1]),c(v(U,z),P[1]))),C[2]),c(g(c(v(Z,H),E[1]),g(c(v(J,V),-A[1]),c(v(U,z),C[1]))),-P[2])))),Me=v(ye,Ae);return Me[Me.length-1]}}function _(g,v,T,c){return function(E,A,C,O,P,D){var z=g(g(T(E[0],E[0]),T(E[1],E[1])),g(T(E[2],E[2]),T(E[3],E[3]))),V=c(z,A[0]),F=c(z,C[0]),W=c(z,O[0]),B=c(z,P[0]),U=c(z,D[0]),H=g(g(T(A[0],A[0]),T(A[1],A[1])),g(T(A[2],A[2]),T(A[3],A[3]))),q=c(H,E[0]),ee=c(H,C[0]),K=c(H,O[0]),J=c(H,P[0]),Z=c(H,D[0]),$=g(g(T(C[0],C[0]),T(C[1],C[1])),g(T(C[2],C[2]),T(C[3],C[3]))),ne=c($,E[0]),ae=c($,A[0]),oe=c($,O[0]),se=c($,P[0]),ce=c($,D[0]),me=g(g(T(O[0],O[0]),T(O[1],O[1])),g(T(O[2],O[2]),T(O[3],O[3]))),xe=c(me,E[0]),ve=c(me,A[0]),fe=c(me,C[0]),pe=c(me,P[0]),Le=c(me,D[0]),ye=g(g(T(P[0],P[0]),T(P[1],P[1])),g(T(P[2],P[2]),T(P[3],P[3]))),Ae=c(ye,E[0]),Me=c(ye,A[0]),ke=c(ye,C[0]),te=c(ye,O[0]),ue=c(ye,D[0]),ge=g(g(T(D[0],D[0]),T(D[1],D[1])),g(T(D[2],D[2]),T(D[3],D[3]))),we=c(ge,E[0]),Ee=c(ge,A[0]),Be=c(ge,C[0]),Re=c(ge,O[0]),je=c(ge,P[0]),he=g(g(g(c(g(g(c(g(c(v(je,ue),O[1]),g(c(v(Re,Le),-P[1]),c(v(te,pe),D[1]))),C[2]),c(g(c(v(je,ue),C[1]),g(c(v(Be,ce),-P[1]),c(v(ke,se),D[1]))),-O[2])),g(c(g(c(v(Re,Le),C[1]),g(c(v(Be,ce),-O[1]),c(v(fe,oe),D[1]))),P[2]),c(g(c(v(te,pe),C[1]),g(c(v(ke,se),-O[1]),c(v(fe,oe),P[1]))),-D[2]))),A[3]),g(c(g(g(c(g(c(v(je,ue),O[1]),g(c(v(Re,Le),-P[1]),c(v(te,pe),D[1]))),A[2]),c(g(c(v(je,ue),A[1]),g(c(v(Ee,Z),-P[1]),c(v(Me,J),D[1]))),-O[2])),g(c(g(c(v(Re,Le),A[1]),g(c(v(Ee,Z),-O[1]),c(v(ve,K),D[1]))),P[2]),c(g(c(v(te,pe),A[1]),g(c(v(Me,J),-O[1]),c(v(ve,K),P[1]))),-D[2]))),-C[3]),c(g(g(c(g(c(v(je,ue),C[1]),g(c(v(Be,ce),-P[1]),c(v(ke,se),D[1]))),A[2]),c(g(c(v(je,ue),A[1]),g(c(v(Ee,Z),-P[1]),c(v(Me,J),D[1]))),-C[2])),g(c(g(c(v(Be,ce),A[1]),g(c(v(Ee,Z),-C[1]),c(v(ae,ee),D[1]))),P[2]),c(g(c(v(ke,se),A[1]),g(c(v(Me,J),-C[1]),c(v(ae,ee),P[1]))),-D[2]))),O[3]))),g(g(c(g(g(c(g(c(v(Re,Le),C[1]),g(c(v(Be,ce),-O[1]),c(v(fe,oe),D[1]))),A[2]),c(g(c(v(Re,Le),A[1]),g(c(v(Ee,Z),-O[1]),c(v(ve,K),D[1]))),-C[2])),g(c(g(c(v(Be,ce),A[1]),g(c(v(Ee,Z),-C[1]),c(v(ae,ee),D[1]))),O[2]),c(g(c(v(fe,oe),A[1]),g(c(v(ve,K),-C[1]),c(v(ae,ee),O[1]))),-D[2]))),-P[3]),c(g(g(c(g(c(v(te,pe),C[1]),g(c(v(ke,se),-O[1]),c(v(fe,oe),P[1]))),A[2]),c(g(c(v(te,pe),A[1]),g(c(v(Me,J),-O[1]),c(v(ve,K),P[1]))),-C[2])),g(c(g(c(v(ke,se),A[1]),g(c(v(Me,J),-C[1]),c(v(ae,ee),P[1]))),O[2]),c(g(c(v(fe,oe),A[1]),g(c(v(ve,K),-C[1]),c(v(ae,ee),O[1]))),-P[2]))),D[3])),g(c(g(g(c(g(c(v(je,ue),O[1]),g(c(v(Re,Le),-P[1]),c(v(te,pe),D[1]))),A[2]),c(g(c(v(je,ue),A[1]),g(c(v(Ee,Z),-P[1]),c(v(Me,J),D[1]))),-O[2])),g(c(g(c(v(Re,Le),A[1]),g(c(v(Ee,Z),-O[1]),c(v(ve,K),D[1]))),P[2]),c(g(c(v(te,pe),A[1]),g(c(v(Me,J),-O[1]),c(v(ve,K),P[1]))),-D[2]))),E[3]),c(g(g(c(g(c(v(je,ue),O[1]),g(c(v(Re,Le),-P[1]),c(v(te,pe),D[1]))),E[2]),c(g(c(v(je,ue),E[1]),g(c(v(we,U),-P[1]),c(v(Ae,B),D[1]))),-O[2])),g(c(g(c(v(Re,Le),E[1]),g(c(v(we,U),-O[1]),c(v(xe,W),D[1]))),P[2]),c(g(c(v(te,pe),E[1]),g(c(v(Ae,B),-O[1]),c(v(xe,W),P[1]))),-D[2]))),-A[3])))),g(g(g(c(g(g(c(g(c(v(je,ue),A[1]),g(c(v(Ee,Z),-P[1]),c(v(Me,J),D[1]))),E[2]),c(g(c(v(je,ue),E[1]),g(c(v(we,U),-P[1]),c(v(Ae,B),D[1]))),-A[2])),g(c(g(c(v(Ee,Z),E[1]),g(c(v(we,U),-A[1]),c(v(q,V),D[1]))),P[2]),c(g(c(v(Me,J),E[1]),g(c(v(Ae,B),-A[1]),c(v(q,V),P[1]))),-D[2]))),O[3]),c(g(g(c(g(c(v(Re,Le),A[1]),g(c(v(Ee,Z),-O[1]),c(v(ve,K),D[1]))),E[2]),c(g(c(v(Re,Le),E[1]),g(c(v(we,U),-O[1]),c(v(xe,W),D[1]))),-A[2])),g(c(g(c(v(Ee,Z),E[1]),g(c(v(we,U),-A[1]),c(v(q,V),D[1]))),O[2]),c(g(c(v(ve,K),E[1]),g(c(v(xe,W),-A[1]),c(v(q,V),O[1]))),-D[2]))),-P[3])),g(c(g(g(c(g(c(v(te,pe),A[1]),g(c(v(Me,J),-O[1]),c(v(ve,K),P[1]))),E[2]),c(g(c(v(te,pe),E[1]),g(c(v(Ae,B),-O[1]),c(v(xe,W),P[1]))),-A[2])),g(c(g(c(v(Me,J),E[1]),g(c(v(Ae,B),-A[1]),c(v(q,V),P[1]))),O[2]),c(g(c(v(ve,K),E[1]),g(c(v(xe,W),-A[1]),c(v(q,V),O[1]))),-P[2]))),D[3]),c(g(g(c(g(c(v(Re,Le),C[1]),g(c(v(Be,ce),-O[1]),c(v(fe,oe),D[1]))),A[2]),c(g(c(v(Re,Le),A[1]),g(c(v(Ee,Z),-O[1]),c(v(ve,K),D[1]))),-C[2])),g(c(g(c(v(Be,ce),A[1]),g(c(v(Ee,Z),-C[1]),c(v(ae,ee),D[1]))),O[2]),c(g(c(v(fe,oe),A[1]),g(c(v(ve,K),-C[1]),c(v(ae,ee),O[1]))),-D[2]))),E[3]))),g(g(c(g(g(c(g(c(v(Re,Le),C[1]),g(c(v(Be,ce),-O[1]),c(v(fe,oe),D[1]))),E[2]),c(g(c(v(Re,Le),E[1]),g(c(v(we,U),-O[1]),c(v(xe,W),D[1]))),-C[2])),g(c(g(c(v(Be,ce),E[1]),g(c(v(we,U),-C[1]),c(v(ne,F),D[1]))),O[2]),c(g(c(v(fe,oe),E[1]),g(c(v(xe,W),-C[1]),c(v(ne,F),O[1]))),-D[2]))),-A[3]),c(g(g(c(g(c(v(Re,Le),A[1]),g(c(v(Ee,Z),-O[1]),c(v(ve,K),D[1]))),E[2]),c(g(c(v(Re,Le),E[1]),g(c(v(we,U),-O[1]),c(v(xe,W),D[1]))),-A[2])),g(c(g(c(v(Ee,Z),E[1]),g(c(v(we,U),-A[1]),c(v(q,V),D[1]))),O[2]),c(g(c(v(ve,K),E[1]),g(c(v(xe,W),-A[1]),c(v(q,V),O[1]))),-D[2]))),C[3])),g(c(g(g(c(g(c(v(Be,ce),A[1]),g(c(v(Ee,Z),-C[1]),c(v(ae,ee),D[1]))),E[2]),c(g(c(v(Be,ce),E[1]),g(c(v(we,U),-C[1]),c(v(ne,F),D[1]))),-A[2])),g(c(g(c(v(Ee,Z),E[1]),g(c(v(we,U),-A[1]),c(v(q,V),D[1]))),C[2]),c(g(c(v(ae,ee),E[1]),g(c(v(ne,F),-A[1]),c(v(q,V),C[1]))),-D[2]))),-O[3]),c(g(g(c(g(c(v(fe,oe),A[1]),g(c(v(ve,K),-C[1]),c(v(ae,ee),O[1]))),E[2]),c(g(c(v(fe,oe),E[1]),g(c(v(xe,W),-C[1]),c(v(ne,F),O[1]))),-A[2])),g(c(g(c(v(ve,K),E[1]),g(c(v(xe,W),-A[1]),c(v(q,V),O[1]))),C[2]),c(g(c(v(ae,ee),E[1]),g(c(v(ne,F),-A[1]),c(v(q,V),C[1]))),-O[2]))),D[3]))))),_e=g(g(g(c(g(g(c(g(c(v(je,ue),O[1]),g(c(v(Re,Le),-P[1]),c(v(te,pe),D[1]))),C[2]),c(g(c(v(je,ue),C[1]),g(c(v(Be,ce),-P[1]),c(v(ke,se),D[1]))),-O[2])),g(c(g(c(v(Re,Le),C[1]),g(c(v(Be,ce),-O[1]),c(v(fe,oe),D[1]))),P[2]),c(g(c(v(te,pe),C[1]),g(c(v(ke,se),-O[1]),c(v(fe,oe),P[1]))),-D[2]))),E[3]),g(c(g(g(c(g(c(v(je,ue),O[1]),g(c(v(Re,Le),-P[1]),c(v(te,pe),D[1]))),E[2]),c(g(c(v(je,ue),E[1]),g(c(v(we,U),-P[1]),c(v(Ae,B),D[1]))),-O[2])),g(c(g(c(v(Re,Le),E[1]),g(c(v(we,U),-O[1]),c(v(xe,W),D[1]))),P[2]),c(g(c(v(te,pe),E[1]),g(c(v(Ae,B),-O[1]),c(v(xe,W),P[1]))),-D[2]))),-C[3]),c(g(g(c(g(c(v(je,ue),C[1]),g(c(v(Be,ce),-P[1]),c(v(ke,se),D[1]))),E[2]),c(g(c(v(je,ue),E[1]),g(c(v(we,U),-P[1]),c(v(Ae,B),D[1]))),-C[2])),g(c(g(c(v(Be,ce),E[1]),g(c(v(we,U),-C[1]),c(v(ne,F),D[1]))),P[2]),c(g(c(v(ke,se),E[1]),g(c(v(Ae,B),-C[1]),c(v(ne,F),P[1]))),-D[2]))),O[3]))),g(g(c(g(g(c(g(c(v(Re,Le),C[1]),g(c(v(Be,ce),-O[1]),c(v(fe,oe),D[1]))),E[2]),c(g(c(v(Re,Le),E[1]),g(c(v(we,U),-O[1]),c(v(xe,W),D[1]))),-C[2])),g(c(g(c(v(Be,ce),E[1]),g(c(v(we,U),-C[1]),c(v(ne,F),D[1]))),O[2]),c(g(c(v(fe,oe),E[1]),g(c(v(xe,W),-C[1]),c(v(ne,F),O[1]))),-D[2]))),-P[3]),c(g(g(c(g(c(v(te,pe),C[1]),g(c(v(ke,se),-O[1]),c(v(fe,oe),P[1]))),E[2]),c(g(c(v(te,pe),E[1]),g(c(v(Ae,B),-O[1]),c(v(xe,W),P[1]))),-C[2])),g(c(g(c(v(ke,se),E[1]),g(c(v(Ae,B),-C[1]),c(v(ne,F),P[1]))),O[2]),c(g(c(v(fe,oe),E[1]),g(c(v(xe,W),-C[1]),c(v(ne,F),O[1]))),-P[2]))),D[3])),g(c(g(g(c(g(c(v(je,ue),C[1]),g(c(v(Be,ce),-P[1]),c(v(ke,se),D[1]))),A[2]),c(g(c(v(je,ue),A[1]),g(c(v(Ee,Z),-P[1]),c(v(Me,J),D[1]))),-C[2])),g(c(g(c(v(Be,ce),A[1]),g(c(v(Ee,Z),-C[1]),c(v(ae,ee),D[1]))),P[2]),c(g(c(v(ke,se),A[1]),g(c(v(Me,J),-C[1]),c(v(ae,ee),P[1]))),-D[2]))),E[3]),c(g(g(c(g(c(v(je,ue),C[1]),g(c(v(Be,ce),-P[1]),c(v(ke,se),D[1]))),E[2]),c(g(c(v(je,ue),E[1]),g(c(v(we,U),-P[1]),c(v(Ae,B),D[1]))),-C[2])),g(c(g(c(v(Be,ce),E[1]),g(c(v(we,U),-C[1]),c(v(ne,F),D[1]))),P[2]),c(g(c(v(ke,se),E[1]),g(c(v(Ae,B),-C[1]),c(v(ne,F),P[1]))),-D[2]))),-A[3])))),g(g(g(c(g(g(c(g(c(v(je,ue),A[1]),g(c(v(Ee,Z),-P[1]),c(v(Me,J),D[1]))),E[2]),c(g(c(v(je,ue),E[1]),g(c(v(we,U),-P[1]),c(v(Ae,B),D[1]))),-A[2])),g(c(g(c(v(Ee,Z),E[1]),g(c(v(we,U),-A[1]),c(v(q,V),D[1]))),P[2]),c(g(c(v(Me,J),E[1]),g(c(v(Ae,B),-A[1]),c(v(q,V),P[1]))),-D[2]))),C[3]),c(g(g(c(g(c(v(Be,ce),A[1]),g(c(v(Ee,Z),-C[1]),c(v(ae,ee),D[1]))),E[2]),c(g(c(v(Be,ce),E[1]),g(c(v(we,U),-C[1]),c(v(ne,F),D[1]))),-A[2])),g(c(g(c(v(Ee,Z),E[1]),g(c(v(we,U),-A[1]),c(v(q,V),D[1]))),C[2]),c(g(c(v(ae,ee),E[1]),g(c(v(ne,F),-A[1]),c(v(q,V),C[1]))),-D[2]))),-P[3])),g(c(g(g(c(g(c(v(ke,se),A[1]),g(c(v(Me,J),-C[1]),c(v(ae,ee),P[1]))),E[2]),c(g(c(v(ke,se),E[1]),g(c(v(Ae,B),-C[1]),c(v(ne,F),P[1]))),-A[2])),g(c(g(c(v(Me,J),E[1]),g(c(v(Ae,B),-A[1]),c(v(q,V),P[1]))),C[2]),c(g(c(v(ae,ee),E[1]),g(c(v(ne,F),-A[1]),c(v(q,V),C[1]))),-P[2]))),D[3]),c(g(g(c(g(c(v(te,pe),C[1]),g(c(v(ke,se),-O[1]),c(v(fe,oe),P[1]))),A[2]),c(g(c(v(te,pe),A[1]),g(c(v(Me,J),-O[1]),c(v(ve,K),P[1]))),-C[2])),g(c(g(c(v(ke,se),A[1]),g(c(v(Me,J),-C[1]),c(v(ae,ee),P[1]))),O[2]),c(g(c(v(fe,oe),A[1]),g(c(v(ve,K),-C[1]),c(v(ae,ee),O[1]))),-P[2]))),E[3]))),g(g(c(g(g(c(g(c(v(te,pe),C[1]),g(c(v(ke,se),-O[1]),c(v(fe,oe),P[1]))),E[2]),c(g(c(v(te,pe),E[1]),g(c(v(Ae,B),-O[1]),c(v(xe,W),P[1]))),-C[2])),g(c(g(c(v(ke,se),E[1]),g(c(v(Ae,B),-C[1]),c(v(ne,F),P[1]))),O[2]),c(g(c(v(fe,oe),E[1]),g(c(v(xe,W),-C[1]),c(v(ne,F),O[1]))),-P[2]))),-A[3]),c(g(g(c(g(c(v(te,pe),A[1]),g(c(v(Me,J),-O[1]),c(v(ve,K),P[1]))),E[2]),c(g(c(v(te,pe),E[1]),g(c(v(Ae,B),-O[1]),c(v(xe,W),P[1]))),-A[2])),g(c(g(c(v(Me,J),E[1]),g(c(v(Ae,B),-A[1]),c(v(q,V),P[1]))),O[2]),c(g(c(v(ve,K),E[1]),g(c(v(xe,W),-A[1]),c(v(q,V),O[1]))),-P[2]))),C[3])),g(c(g(g(c(g(c(v(ke,se),A[1]),g(c(v(Me,J),-C[1]),c(v(ae,ee),P[1]))),E[2]),c(g(c(v(ke,se),E[1]),g(c(v(Ae,B),-C[1]),c(v(ne,F),P[1]))),-A[2])),g(c(g(c(v(Me,J),E[1]),g(c(v(Ae,B),-A[1]),c(v(q,V),P[1]))),C[2]),c(g(c(v(ae,ee),E[1]),g(c(v(ne,F),-A[1]),c(v(q,V),C[1]))),-P[2]))),-O[3]),c(g(g(c(g(c(v(fe,oe),A[1]),g(c(v(ve,K),-C[1]),c(v(ae,ee),O[1]))),E[2]),c(g(c(v(fe,oe),E[1]),g(c(v(xe,W),-C[1]),c(v(ne,F),O[1]))),-A[2])),g(c(g(c(v(ve,K),E[1]),g(c(v(xe,W),-A[1]),c(v(q,V),O[1]))),C[2]),c(g(c(v(ae,ee),E[1]),g(c(v(ne,F),-A[1]),c(v(q,V),C[1]))),-O[2]))),P[3]))))),Te=v(he,_e);return Te[Te.length-1]}}var m=[function(){return 0},function(){return 0},function(){return 0}];function d(g){var v=m[g.length];return v||(v=m[g.length]=i(g.length)),v.apply(void 0,g)}function x(g,v,T,c,E,A,C,O){return function(P,D,z,V,F,W){switch(arguments.length){case 0:case 1:return 0;case 2:return c(P,D);case 3:return E(P,D,z);case 4:return A(P,D,z,V);case 5:return C(P,D,z,V,F);case 6:return O(P,D,z,V,F,W)}for(var B=new Array(arguments.length),U=0;U<arguments.length;++U)B[U]=arguments[U];return g(B)}}(function(){for(;m.length<=6;)m.push(i(m.length));f.exports=x.apply(void 0,[d].concat(m));for(var g=0;g<=6;++g)f.exports[g]=m[g]})()},6606:function(f,l,t){"use strict";var s=t(8167);function o(m){return(m===2?n:m===3?r:m===4?i:m===5?u:p)(m<6?s[m]:s)}function n(m){return function(d,x){return[m([[+x[0],+d[0][1]],[+x[1],+d[1][1]]]),m([[+d[0][0],+x[0]],[+d[1][0],+x[1]]]),m(d)]}}function r(m){return function(d,x){return[m([[+x[0],+d[0][1],+d[0][2]],[+x[1],+d[1][1],+d[1][2]],[+x[2],+d[2][1],+d[2][2]]]),m([[+d[0][0],+x[0],+d[0][2]],[+d[1][0],+x[1],+d[1][2]],[+d[2][0],+x[2],+d[2][2]]]),m([[+d[0][0],+d[0][1],+x[0]],[+d[1][0],+d[1][1],+x[1]],[+d[2][0],+d[2][1],+x[2]]]),m(d)]}}function i(m){return function(d,x){return[m([[+x[0],+d[0][1],+d[0][2],+d[0][3]],[+x[1],+d[1][1],+d[1][2],+d[1][3]],[+x[2],+d[2][1],+d[2][2],+d[2][3]],[+x[3],+d[3][1],+d[3][2],+d[3][3]]]),m([[+d[0][0],+x[0],+d[0][2],+d[0][3]],[+d[1][0],+x[1],+d[1][2],+d[1][3]],[+d[2][0],+x[2],+d[2][2],+d[2][3]],[+d[3][0],+x[3],+d[3][2],+d[3][3]]]),m([[+d[0][0],+d[0][1],+x[0],+d[0][3]],[+d[1][0],+d[1][1],+x[1],+d[1][3]],[+d[2][0],+d[2][1],+x[2],+d[2][3]],[+d[3][0],+d[3][1],+x[3],+d[3][3]]]),m([[+d[0][0],+d[0][1],+d[0][2],+x[0]],[+d[1][0],+d[1][1],+d[1][2],+x[1]],[+d[2][0],+d[2][1],+d[2][2],+x[2]],[+d[3][0],+d[3][1],+d[3][2],+x[3]]]),m(d)]}}function u(m){return function(d,x){return[m([[+x[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+x[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+x[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+x[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+x[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),m([[+d[0][0],+x[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+x[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+x[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+x[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+x[4],+d[4][2],+d[4][3],+d[4][4]]]),m([[+d[0][0],+d[0][1],+x[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+x[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+x[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+x[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+x[4],+d[4][3],+d[4][4]]]),m([[+d[0][0],+d[0][1],+d[0][2],+x[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+x[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+x[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+x[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+x[4],+d[4][4]]]),m([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+x[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+x[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+x[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+x[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+x[4]]]),m(d)]}}function p(m){return function(d,x){return[m([[+x[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+x[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+x[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+x[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+x[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+x[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),m([[+d[0][0],+x[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+x[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+x[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+x[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+x[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+x[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),m([[+d[0][0],+d[0][1],+x[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+x[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+x[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+x[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+x[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+x[5],+d[5][3],+d[5][4],+d[5][5]]]),m([[+d[0][0],+d[0][1],+d[0][2],+x[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+x[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+x[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+x[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+x[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+x[5],+d[5][4],+d[5][5]]]),m([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+x[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+x[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+x[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+x[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+x[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+x[5],+d[5][5]]]),m([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+x[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+x[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+x[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+x[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+x[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+x[5]]]),m(d)]}}var h=[function(){return[[0]]},function(m,d){return[[d[0]],[m[0][0]]]}];function _(m,d,x,g,v,T,c,E){return function(A,C){switch(A.length){case 0:return m(A,C);case 1:return d(A,C);case 2:return x(A,C);case 3:return g(A,C);case 4:return v(A,C);case 5:return T(A,C)}var O=c[A.length];return O||(O=c[A.length]=E(A.length)),O(A,C)}}(function(){for(;h.length<6;)h.push(o(h.length));f.exports=_.apply(void 0,h.concat([h,o]));for(var m=0;m<6;++m)f.exports[m]=h[m]})()},417:function(f,l,t){"use strict";var s=t(9660),o=t(9662),n=t(8289),r=t(4078);function i(v,T,c,E){return function(A,C,O){var P=v(v(T(C[1],O[0]),T(-O[1],C[0])),v(T(A[1],C[0]),T(-C[1],A[0]))),D=v(T(A[1],O[0]),T(-O[1],A[0])),z=E(P,D);return z[z.length-1]}}function u(v,T,c,E){return function(A,C,O,P){var D=v(v(c(v(T(O[1],P[0]),T(-P[1],O[0])),C[2]),v(c(v(T(C[1],P[0]),T(-P[1],C[0])),-O[2]),c(v(T(C[1],O[0]),T(-O[1],C[0])),P[2]))),v(c(v(T(C[1],P[0]),T(-P[1],C[0])),A[2]),v(c(v(T(A[1],P[0]),T(-P[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),P[2])))),z=v(v(c(v(T(O[1],P[0]),T(-P[1],O[0])),A[2]),v(c(v(T(A[1],P[0]),T(-P[1],A[0])),-O[2]),c(v(T(A[1],O[0]),T(-O[1],A[0])),P[2]))),v(c(v(T(C[1],O[0]),T(-O[1],C[0])),A[2]),v(c(v(T(A[1],O[0]),T(-O[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),O[2])))),V=E(D,z);return V[V.length-1]}}function p(v,T,c,E){return function(A,C,O,P,D){var z=v(v(v(c(v(c(v(T(P[1],D[0]),T(-D[1],P[0])),O[2]),v(c(v(T(O[1],D[0]),T(-D[1],O[0])),-P[2]),c(v(T(O[1],P[0]),T(-P[1],O[0])),D[2]))),C[3]),v(c(v(c(v(T(P[1],D[0]),T(-D[1],P[0])),C[2]),v(c(v(T(C[1],D[0]),T(-D[1],C[0])),-P[2]),c(v(T(C[1],P[0]),T(-P[1],C[0])),D[2]))),-O[3]),c(v(c(v(T(O[1],D[0]),T(-D[1],O[0])),C[2]),v(c(v(T(C[1],D[0]),T(-D[1],C[0])),-O[2]),c(v(T(C[1],O[0]),T(-O[1],C[0])),D[2]))),P[3]))),v(c(v(c(v(T(O[1],P[0]),T(-P[1],O[0])),C[2]),v(c(v(T(C[1],P[0]),T(-P[1],C[0])),-O[2]),c(v(T(C[1],O[0]),T(-O[1],C[0])),P[2]))),-D[3]),v(c(v(c(v(T(P[1],D[0]),T(-D[1],P[0])),C[2]),v(c(v(T(C[1],D[0]),T(-D[1],C[0])),-P[2]),c(v(T(C[1],P[0]),T(-P[1],C[0])),D[2]))),A[3]),c(v(c(v(T(P[1],D[0]),T(-D[1],P[0])),A[2]),v(c(v(T(A[1],D[0]),T(-D[1],A[0])),-P[2]),c(v(T(A[1],P[0]),T(-P[1],A[0])),D[2]))),-C[3])))),v(v(c(v(c(v(T(C[1],D[0]),T(-D[1],C[0])),A[2]),v(c(v(T(A[1],D[0]),T(-D[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),D[2]))),P[3]),v(c(v(c(v(T(C[1],P[0]),T(-P[1],C[0])),A[2]),v(c(v(T(A[1],P[0]),T(-P[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),P[2]))),-D[3]),c(v(c(v(T(O[1],P[0]),T(-P[1],O[0])),C[2]),v(c(v(T(C[1],P[0]),T(-P[1],C[0])),-O[2]),c(v(T(C[1],O[0]),T(-O[1],C[0])),P[2]))),A[3]))),v(c(v(c(v(T(O[1],P[0]),T(-P[1],O[0])),A[2]),v(c(v(T(A[1],P[0]),T(-P[1],A[0])),-O[2]),c(v(T(A[1],O[0]),T(-O[1],A[0])),P[2]))),-C[3]),v(c(v(c(v(T(C[1],P[0]),T(-P[1],C[0])),A[2]),v(c(v(T(A[1],P[0]),T(-P[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),P[2]))),O[3]),c(v(c(v(T(C[1],O[0]),T(-O[1],C[0])),A[2]),v(c(v(T(A[1],O[0]),T(-O[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),O[2]))),-P[3]))))),V=v(v(v(c(v(c(v(T(P[1],D[0]),T(-D[1],P[0])),O[2]),v(c(v(T(O[1],D[0]),T(-D[1],O[0])),-P[2]),c(v(T(O[1],P[0]),T(-P[1],O[0])),D[2]))),A[3]),c(v(c(v(T(P[1],D[0]),T(-D[1],P[0])),A[2]),v(c(v(T(A[1],D[0]),T(-D[1],A[0])),-P[2]),c(v(T(A[1],P[0]),T(-P[1],A[0])),D[2]))),-O[3])),v(c(v(c(v(T(O[1],D[0]),T(-D[1],O[0])),A[2]),v(c(v(T(A[1],D[0]),T(-D[1],A[0])),-O[2]),c(v(T(A[1],O[0]),T(-O[1],A[0])),D[2]))),P[3]),c(v(c(v(T(O[1],P[0]),T(-P[1],O[0])),A[2]),v(c(v(T(A[1],P[0]),T(-P[1],A[0])),-O[2]),c(v(T(A[1],O[0]),T(-O[1],A[0])),P[2]))),-D[3]))),v(v(c(v(c(v(T(O[1],D[0]),T(-D[1],O[0])),C[2]),v(c(v(T(C[1],D[0]),T(-D[1],C[0])),-O[2]),c(v(T(C[1],O[0]),T(-O[1],C[0])),D[2]))),A[3]),c(v(c(v(T(O[1],D[0]),T(-D[1],O[0])),A[2]),v(c(v(T(A[1],D[0]),T(-D[1],A[0])),-O[2]),c(v(T(A[1],O[0]),T(-O[1],A[0])),D[2]))),-C[3])),v(c(v(c(v(T(C[1],D[0]),T(-D[1],C[0])),A[2]),v(c(v(T(A[1],D[0]),T(-D[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),D[2]))),O[3]),c(v(c(v(T(C[1],O[0]),T(-O[1],C[0])),A[2]),v(c(v(T(A[1],O[0]),T(-O[1],A[0])),-C[2]),c(v(T(A[1],C[0]),T(-C[1],A[0])),O[2]))),-D[3])))),F=E(z,V);return F[F.length-1]}}function h(v){return(v===3?i:v===4?u:p)(o,s,n,r)}var _=h(3),m=h(4),d=[function(){return 0},function(){return 0},function(v,T){return T[0]-v[0]},function(v,T,c){var E,A=(v[1]-c[1])*(T[0]-c[0]),C=(v[0]-c[0])*(T[1]-c[1]),O=A-C;if(A>0){if(C<=0)return O;E=A+C}else{if(!(A<0)||C>=0)return O;E=-(A+C)}var P=33306690738754716e-32*E;return O>=P||O<=-P?O:_(v,T,c)},function(v,T,c,E){var A=v[0]-E[0],C=T[0]-E[0],O=c[0]-E[0],P=v[1]-E[1],D=T[1]-E[1],z=c[1]-E[1],V=v[2]-E[2],F=T[2]-E[2],W=c[2]-E[2],B=C*z,U=O*D,H=O*P,q=A*z,ee=A*D,K=C*P,J=V*(B-U)+F*(H-q)+W*(ee-K),Z=7771561172376103e-31*((Math.abs(B)+Math.abs(U))*Math.abs(V)+(Math.abs(H)+Math.abs(q))*Math.abs(F)+(Math.abs(ee)+Math.abs(K))*Math.abs(W));return J>Z||-J>Z?J:m(v,T,c,E)}];function x(v){var T=d[v.length];return T||(T=d[v.length]=h(v.length)),T.apply(void 0,v)}function g(v,T,c,E,A,C,O){return function(P,D,z,V,F){switch(arguments.length){case 0:case 1:return 0;case 2:return E(P,D);case 3:return A(P,D,z);case 4:return C(P,D,z,V);case 5:return O(P,D,z,V,F)}for(var W=new Array(arguments.length),B=0;B<arguments.length;++B)W[B]=arguments[B];return v(W)}}(function(){for(;d.length<=5;)d.push(h(d.length));f.exports=g.apply(void 0,[x].concat(d));for(var v=0;v<=5;++v)f.exports[v]=d[v]})()},2019:function(f,l,t){"use strict";var s=t(9662),o=t(8289);f.exports=function(n,r){if(n.length===1)return o(r,n[0]);if(r.length===1)return o(n,r[0]);if(n.length===0||r.length===0)return[0];var i=[0];if(n.length<r.length)for(var u=0;u<n.length;++u)i=s(i,o(r,n[u]));else for(u=0;u<r.length;++u)i=s(i,o(n,r[u]));return i}},8289:function(f,l,t){"use strict";var s=t(9660),o=t(87);f.exports=function(n,r){var i=n.length;if(i===1){var u=s(n[0],r);return u[0]?u:[u[1]]}var p=new Array(2*i),h=[.1,.1],_=[.1,.1],m=0;s(n[0],r,h),h[0]&&(p[m++]=h[0]);for(var d=1;d<i;++d){s(n[d],r,_);var x=h[1];o(x,_[0],h),h[0]&&(p[m++]=h[0]);var g=_[1],v=h[1],T=g+v,c=v-(T-g);h[1]=T,c&&(p[m++]=c)}return h[1]&&(p[m++]=h[1]),m===0&&(p[m++]=0),p.length=m,p}},4434:function(f,l,t){"use strict";f.exports=function(o,n,r,i){var u=s(o,r,i),p=s(n,r,i);if(u>0&&p>0||u<0&&p<0)return!1;var h=s(r,o,n),_=s(i,o,n);return!(h>0&&_>0||h<0&&_<0)&&(u!==0||p!==0||h!==0||_!==0||function(m,d,x,g){for(var v=0;v<2;++v){var T=m[v],c=d[v],E=Math.min(T,c),A=Math.max(T,c),C=x[v],O=g[v],P=Math.min(C,O);if(Math.max(C,O)<E||A<P)return!1}return!0}(o,n,r,i))};var s=t(417)[3]},4078:function(f){"use strict";f.exports=function(l,t){var s=0|l.length,o=0|t.length;if(s===1&&o===1)return function(P,D){var z=P+D,V=z-P,F=P-(z-V)+(D-V);return F?[F,z]:[z]}(l[0],-t[0]);var n,r,i=new Array(s+o),u=0,p=0,h=0,_=Math.abs,m=l[p],d=_(m),x=-t[h],g=_(x);d<g?(r=m,(p+=1)<s&&(d=_(m=l[p]))):(r=x,(h+=1)<o&&(g=_(x=-t[h]))),p<s&&d<g||h>=o?(n=m,(p+=1)<s&&(d=_(m=l[p]))):(n=x,(h+=1)<o&&(g=_(x=-t[h])));for(var v,T,c=n+r,E=c-n,A=r-E,C=A,O=c;p<s&&h<o;)d<g?(n=m,(p+=1)<s&&(d=_(m=l[p]))):(n=x,(h+=1)<o&&(g=_(x=-t[h]))),(A=(r=C)-(E=(c=n+r)-n))&&(i[u++]=A),C=O-((v=O+c)-(T=v-O))+(c-T),O=v;for(;p<s;)(A=(r=C)-(E=(c=(n=m)+r)-n))&&(i[u++]=A),C=O-((v=O+c)-(T=v-O))+(c-T),O=v,(p+=1)<s&&(m=l[p]);for(;h<o;)(A=(r=C)-(E=(c=(n=x)+r)-n))&&(i[u++]=A),C=O-((v=O+c)-(T=v-O))+(c-T),O=v,(h+=1)<o&&(x=-t[h]);return C&&(i[u++]=C),O&&(i[u++]=O),u||(i[u++]=0),i.length=u,i}},9662:function(f){"use strict";f.exports=function(l,t){var s=0|l.length,o=0|t.length;if(s===1&&o===1)return function(P,D){var z=P+D,V=z-P,F=P-(z-V)+(D-V);return F?[F,z]:[z]}(l[0],t[0]);var n,r,i=new Array(s+o),u=0,p=0,h=0,_=Math.abs,m=l[p],d=_(m),x=t[h],g=_(x);d<g?(r=m,(p+=1)<s&&(d=_(m=l[p]))):(r=x,(h+=1)<o&&(g=_(x=t[h]))),p<s&&d<g||h>=o?(n=m,(p+=1)<s&&(d=_(m=l[p]))):(n=x,(h+=1)<o&&(g=_(x=t[h])));for(var v,T,c=n+r,E=c-n,A=r-E,C=A,O=c;p<s&&h<o;)d<g?(n=m,(p+=1)<s&&(d=_(m=l[p]))):(n=x,(h+=1)<o&&(g=_(x=t[h]))),(A=(r=C)-(E=(c=n+r)-n))&&(i[u++]=A),C=O-((v=O+c)-(T=v-O))+(c-T),O=v;for(;p<s;)(A=(r=C)-(E=(c=(n=m)+r)-n))&&(i[u++]=A),C=O-((v=O+c)-(T=v-O))+(c-T),O=v,(p+=1)<s&&(m=l[p]);for(;h<o;)(A=(r=C)-(E=(c=(n=x)+r)-n))&&(i[u++]=A),C=O-((v=O+c)-(T=v-O))+(c-T),O=v,(h+=1)<o&&(x=t[h]);return C&&(i[u++]=C),O&&(i[u++]=O),u||(i[u++]=0),i.length=u,i}},8691:function(f,l,t){"use strict";f.exports=function(n){return o(s(n))};var s=t(2692),o=t(7037)},7212:function(f,l,t){"use strict";f.exports=function(i,u,p,h){if(p=p||0,h===void 0&&(h=function(c){for(var E=c.length,A=0,C=0;C<E;++C)A=0|Math.max(A,c[C].length);return A-1}(i)),i.length===0||h<1)return{cells:[],vertexIds:[],vertexWeights:[]};var _=function(c,E){for(var A=c.length,C=o.mallocUint8(A),O=0;O<A;++O)C[O]=c[O]<E|0;return C}(u,+p),m=function(c,E){for(var A=c.length,C=E*(E+1)/2*A|0,O=o.mallocUint32(2*C),P=0,D=0;D<A;++D)for(var z=c[D],V=(E=z.length,0);V<E;++V)for(var F=0;F<V;++F){var W=z[F],B=z[V];O[P++]=0|Math.min(W,B),O[P++]=0|Math.max(W,B)}n(s(O,[P/2|0,2]));var U=2;for(D=2;D<P;D+=2)O[D-2]===O[D]&&O[D-1]===O[D+1]||(O[U++]=O[D],O[U++]=O[D+1]);return s(O,[U/2|0,2])}(i,h),d=function(c,E,A,C){for(var O=c.data,P=c.shape[0],D=o.mallocDouble(P),z=0,V=0;V<P;++V){var F=O[2*V],W=O[2*V+1];if(A[F]!==A[W]){var B=E[F],U=E[W];O[2*z]=F,O[2*z+1]=W,D[z++]=(U-C)/(U-B)}}return c.shape[0]=z,s(D,[z])}(m,u,_,+p),x=function(c,E){var A=o.mallocInt32(2*E),C=c.shape[0],O=c.data;A[0]=0;for(var P=0,D=0;D<C;++D){var z=O[2*D];if(z!==P){for(A[2*P+1]=D;++P<z;)A[2*P]=D,A[2*P+1]=D;A[2*P]=D}}for(A[2*P+1]=C;++P<E;)A[2*P]=A[2*P+1]=C;return A}(m,0|u.length),g=r(h)(i,m.data,x,_),v=function(c){for(var E=0|c.shape[0],A=c.data,C=new Array(E),O=0;O<E;++O)C[O]=[A[2*O],A[2*O+1]];return C}(m),T=[].slice.call(d.data,0,d.shape[0]);return o.free(_),o.free(m.data),o.free(d.data),o.free(x),{cells:g,vertexIds:v,vertexWeights:T}};var s=t(5050),o=t(5306),n=t(8729),r=t(1168)},1168:function(f){"use strict";f.exports=function(t){return l[t]()};var l=[function(){return function(t,s,o,n){for(var r=t.length,i=0;i<r;++i)t[i].length;return[]}},function(){function t(s,o,n,r){for(var i=0|Math.min(n,r),u=0|Math.max(n,r),p=s[2*i],h=s[2*i+1];p<h;){var _=p+h>>1,m=o[2*_+1];if(m===u)return _;u<m?h=_:p=_+1}return p}return function(s,o,n,r){for(var i=s.length,u=[],p=0;p<i;++p){var h=s[p];if(h.length===2){var _=(r[h[0]]<<0)+(r[h[1]]<<1);if(_===0||_===3)continue;switch(_){case 0:case 3:break;case 1:u.push([t(n,o,h[0],h[1])]);break;case 2:u.push([t(n,o,h[1],h[0])])}}}return u}},function(){function t(s,o,n,r){for(var i=0|Math.min(n,r),u=0|Math.max(n,r),p=s[2*i],h=s[2*i+1];p<h;){var _=p+h>>1,m=o[2*_+1];if(m===u)return _;u<m?h=_:p=_+1}return p}return function(s,o,n,r){for(var i=s.length,u=[],p=0;p<i;++p){var h=s[p],_=h.length;if(_===3){if((m=(r[h[0]]<<0)+(r[h[1]]<<1)+(r[h[2]]<<2))==0||m===7)continue;switch(m){case 0:case 7:break;case 1:u.push([t(n,o,h[0],h[2]),t(n,o,h[0],h[1])]);break;case 2:u.push([t(n,o,h[1],h[0]),t(n,o,h[1],h[2])]);break;case 3:u.push([t(n,o,h[0],h[2]),t(n,o,h[1],h[2])]);break;case 4:u.push([t(n,o,h[2],h[1]),t(n,o,h[2],h[0])]);break;case 5:u.push([t(n,o,h[2],h[1]),t(n,o,h[0],h[1])]);break;case 6:u.push([t(n,o,h[1],h[0]),t(n,o,h[2],h[0])])}}else if(_===2){var m;if((m=(r[h[0]]<<0)+(r[h[1]]<<1))==0||m===3)continue;switch(m){case 0:case 3:break;case 1:u.push([t(n,o,h[0],h[1])]);break;case 2:u.push([t(n,o,h[1],h[0])])}}}return u}},function(){function t(s,o,n,r){for(var i=0|Math.min(n,r),u=0|Math.max(n,r),p=s[2*i],h=s[2*i+1];p<h;){var _=p+h>>1,m=o[2*_+1];if(m===u)return _;u<m?h=_:p=_+1}return p}return function(s,o,n,r){for(var i=s.length,u=[],p=0;p<i;++p){var h=s[p],_=h.length;if(_===4){if((m=(r[h[0]]<<0)+(r[h[1]]<<1)+(r[h[2]]<<2)+(r[h[3]]<<3))==0||m===15)continue;switch(m){case 0:case 15:break;case 1:u.push([t(n,o,h[0],h[1]),t(n,o,h[0],h[2]),t(n,o,h[0],h[3])]);break;case 2:u.push([t(n,o,h[1],h[2]),t(n,o,h[1],h[0]),t(n,o,h[1],h[3])]);break;case 3:u.push([t(n,o,h[1],h[2]),t(n,o,h[0],h[2]),t(n,o,h[0],h[3])],[t(n,o,h[1],h[3]),t(n,o,h[1],h[2]),t(n,o,h[0],h[3])]);break;case 4:u.push([t(n,o,h[2],h[0]),t(n,o,h[2],h[1]),t(n,o,h[2],h[3])]);break;case 5:u.push([t(n,o,h[0],h[1]),t(n,o,h[2],h[1]),t(n,o,h[0],h[3])],[t(n,o,h[2],h[1]),t(n,o,h[2],h[3]),t(n,o,h[0],h[3])]);break;case 6:u.push([t(n,o,h[2],h[0]),t(n,o,h[1],h[0]),t(n,o,h[1],h[3])],[t(n,o,h[2],h[3]),t(n,o,h[2],h[0]),t(n,o,h[1],h[3])]);break;case 7:u.push([t(n,o,h[0],h[3]),t(n,o,h[1],h[3]),t(n,o,h[2],h[3])]);break;case 8:u.push([t(n,o,h[3],h[1]),t(n,o,h[3],h[0]),t(n,o,h[3],h[2])]);break;case 9:u.push([t(n,o,h[3],h[1]),t(n,o,h[0],h[1]),t(n,o,h[0],h[2])],[t(n,o,h[3],h[2]),t(n,o,h[3],h[1]),t(n,o,h[0],h[2])]);break;case 10:u.push([t(n,o,h[1],h[0]),t(n,o,h[3],h[0]),t(n,o,h[1],h[2])],[t(n,o,h[3],h[0]),t(n,o,h[3],h[2]),t(n,o,h[1],h[2])]);break;case 11:u.push([t(n,o,h[1],h[2]),t(n,o,h[0],h[2]),t(n,o,h[3],h[2])]);break;case 12:u.push([t(n,o,h[3],h[0]),t(n,o,h[2],h[0]),t(n,o,h[2],h[1])],[t(n,o,h[3],h[1]),t(n,o,h[3],h[0]),t(n,o,h[2],h[1])]);break;case 13:u.push([t(n,o,h[0],h[1]),t(n,o,h[2],h[1]),t(n,o,h[3],h[1])]);break;case 14:u.push([t(n,o,h[2],h[0]),t(n,o,h[1],h[0]),t(n,o,h[3],h[0])])}}else if(_===3){if((m=(r[h[0]]<<0)+(r[h[1]]<<1)+(r[h[2]]<<2))==0||m===7)continue;switch(m){case 0:case 7:break;case 1:u.push([t(n,o,h[0],h[2]),t(n,o,h[0],h[1])]);break;case 2:u.push([t(n,o,h[1],h[0]),t(n,o,h[1],h[2])]);break;case 3:u.push([t(n,o,h[0],h[2]),t(n,o,h[1],h[2])]);break;case 4:u.push([t(n,o,h[2],h[1]),t(n,o,h[2],h[0])]);break;case 5:u.push([t(n,o,h[2],h[1]),t(n,o,h[0],h[1])]);break;case 6:u.push([t(n,o,h[1],h[0]),t(n,o,h[2],h[0])])}}else if(_===2){var m;if((m=(r[h[0]]<<0)+(r[h[1]]<<1))==0||m===3)continue;switch(m){case 0:case 3:break;case 1:u.push([t(n,o,h[0],h[1])]);break;case 2:u.push([t(n,o,h[1],h[0])])}}}return u}}]},8211:function(f,l,t){"use strict";t(2288),t(1731),l.H=function(s,o){var n=s.length,r=s.length-o.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return s[0]-o[0];case 2:return(h=s[0]+s[1]-o[0]-o[1])||i(s[0],s[1])-i(o[0],o[1]);case 3:var u=s[0]+s[1],p=o[0]+o[1];if(h=u+s[2]-(p+o[2]))return h;var h,_=i(s[0],s[1]),m=i(o[0],o[1]);return(h=i(_,s[2])-i(m,o[2]))||i(_+s[2],u)-i(m+o[2],p);default:var d=s.slice(0);d.sort();var x=o.slice(0);x.sort();for(var g=0;g<n;++g)if(r=d[g]-x[g])return r;return 0}}},9392:function(f,l){"use strict";function t(o){var n=32;return(o&=-o)&&n--,65535&o&&(n-=16),16711935&o&&(n-=8),252645135&o&&(n-=4),858993459&o&&(n-=2),1431655765&o&&(n-=1),n}l.INT_BITS=32,l.INT_MAX=2147483647,l.INT_MIN=-2147483648,l.sign=function(o){return(o>0)-(o<0)},l.abs=function(o){var n=o>>31;return(o^n)-n},l.min=function(o,n){return n^(o^n)&-(o<n)},l.max=function(o,n){return o^(o^n)&-(o<n)},l.isPow2=function(o){return!(o&o-1||!o)},l.log2=function(o){var n,r;return n=(o>65535)<<4,n|=r=((o>>>=n)>255)<<3,n|=r=((o>>>=r)>15)<<2,(n|=r=((o>>>=r)>3)<<1)|(o>>>=r)>>1},l.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},l.popCount=function(o){return 16843009*((o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135)>>>24},l.countTrailingZeros=t,l.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,1+((o|=o>>>8)|o>>>16)},l.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1)},l.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,27030>>>(o&=15)&1};var s=new Array(256);(function(o){for(var n=0;n<256;++n){var r=n,i=n,u=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--u;o[n]=i<<u&255}})(s),l.reverse=function(o){return s[255&o]<<24|s[o>>>8&255]<<16|s[o>>>16&255]<<8|s[o>>>24&255]},l.interleave2=function(o,n){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},l.deinterleave2=function(o,n){return(o=65535&((o=16711935&((o=252645135&((o=858993459&((o=o>>>n&1431655765)|o>>>1))|o>>>2))|o>>>4))|o>>>16))<<16>>16},l.interleave3=function(o,n,r){return o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2),(o|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},l.deinterleave3=function(o,n){return(o=1023&((o=4278190335&((o=251719695&((o=3272356035&((o=o>>>n&1227133513)|o>>>2))|o>>>4))|o>>>8))|o>>>16))<<22>>22},l.nextCombination=function(o){var n=o|o-1;return n+1|(~n&-~n)-1>>>t(o)+1}},6656:function(f,l,t){"use strict";var s=t(9392),o=t(9521);function n(m,d){var x=m.length,g=m.length-d.length,v=Math.min;if(g)return g;switch(x){case 0:return 0;case 1:return m[0]-d[0];case 2:return(E=m[0]+m[1]-d[0]-d[1])||v(m[0],m[1])-v(d[0],d[1]);case 3:var T=m[0]+m[1],c=d[0]+d[1];if(E=T+m[2]-(c+d[2]))return E;var E,A=v(m[0],m[1]),C=v(d[0],d[1]);return(E=v(A,m[2])-v(C,d[2]))||v(A+m[2],T)-v(C+d[2],c);default:var O=m.slice(0);O.sort();var P=d.slice(0);P.sort();for(var D=0;D<x;++D)if(g=O[D]-P[D])return g;return 0}}function r(m,d){return n(m[0],d[0])}function i(m,d){if(d){for(var x=m.length,g=new Array(x),v=0;v<x;++v)g[v]=[m[v],d[v]];for(g.sort(r),v=0;v<x;++v)m[v]=g[v][0],d[v]=g[v][1];return m}return m.sort(n),m}function u(m){if(m.length===0)return[];for(var d=1,x=m.length,g=1;g<x;++g){var v=m[g];if(n(v,m[g-1])){if(g===d){d++;continue}m[d++]=v}}return m.length=d,m}function p(m,d){for(var x=0,g=m.length-1,v=-1;x<=g;){var T=x+g>>1,c=n(m[T],d);c<=0?(c===0&&(v=T),x=T+1):c>0&&(g=T-1)}return v}function h(m,d){for(var x=new Array(m.length),g=0,v=x.length;g<v;++g)x[g]=[];for(var T=[],c=(g=0,d.length);g<c;++g)for(var E=d[g],A=E.length,C=1,O=1<<A;C<O;++C){T.length=s.popCount(C);for(var P=0,D=0;D<A;++D)C&1<<D&&(T[P++]=E[D]);var z=p(m,T);if(!(z<0))for(;x[z++].push(g),!(z>=m.length||n(m[z],T)!==0););}return x}function _(m,d){if(d<0)return[];for(var x=[],g=(1<<d+1)-1,v=0;v<m.length;++v)for(var T=m[v],c=g;c<1<<T.length;c=s.nextCombination(c)){for(var E=new Array(d+1),A=0,C=0;C<T.length;++C)c&1<<C&&(E[A++]=T[C]);x.push(E)}return i(x)}l.dimension=function(m){for(var d=0,x=Math.max,g=0,v=m.length;g<v;++g)d=x(d,m[g].length);return d-1},l.countVertices=function(m){for(var d=-1,x=Math.max,g=0,v=m.length;g<v;++g)for(var T=m[g],c=0,E=T.length;c<E;++c)d=x(d,T[c]);return d+1},l.cloneCells=function(m){for(var d=new Array(m.length),x=0,g=m.length;x<g;++x)d[x]=m[x].slice(0);return d},l.compareCells=n,l.normalize=i,l.unique=u,l.findCell=p,l.incidence=h,l.dual=function(m,d){if(!d)return h(u(_(m,0)),m);for(var x=new Array(d),g=0;g<d;++g)x[g]=[];g=0;for(var v=m.length;g<v;++g)for(var T=m[g],c=0,E=T.length;c<E;++c)x[T[c]].push(g);return x},l.explode=function(m){for(var d=[],x=0,g=m.length;x<g;++x)for(var v=m[x],T=0|v.length,c=1,E=1<<T;c<E;++c){for(var A=[],C=0;C<T;++C)c>>>C&1&&A.push(v[C]);d.push(A)}return i(d)},l.skeleton=_,l.boundary=function(m){for(var d=[],x=0,g=m.length;x<g;++x)for(var v=m[x],T=0,c=v.length;T<c;++T){for(var E=new Array(v.length-1),A=0,C=0;A<c;++A)A!==T&&(E[C++]=v[A]);d.push(E)}return i(d)},l.connectedComponents=function(m,d){return d?function(x,g){for(var v=new o(g),T=0;T<x.length;++T)for(var c=x[T],E=0;E<c.length;++E)for(var A=E+1;A<c.length;++A)v.link(c[E],c[A]);var C=[],O=v.ranks;for(T=0;T<O.length;++T)O[T]=-1;for(T=0;T<x.length;++T){var P=v.find(x[T][0]);O[P]<0?(O[P]=C.length,C.push([x[T].slice(0)])):C[O[P]].push(x[T].slice(0))}return C}(m,d):function(x){for(var g=u(i(_(x,0))),v=new o(g.length),T=0;T<x.length;++T)for(var c=x[T],E=0;E<c.length;++E)for(var A=p(g,[c[E]]),C=E+1;C<c.length;++C)v.link(A,p(g,[c[C]]));var O=[],P=v.ranks;for(T=0;T<P.length;++T)P[T]=-1;for(T=0;T<x.length;++T){var D=v.find(p(g,[x[T][0]]));P[D]<0?(P[D]=O.length,O.push([x[T].slice(0)])):O[P[D]].push(x[T].slice(0))}return O}(m)}},9521:function(f){"use strict";function l(t){this.roots=new Array(t),this.ranks=new Array(t);for(var s=0;s<t;++s)this.roots[s]=s,this.ranks[s]=0}f.exports=l,l.prototype.length=function(){return this.roots.length},l.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},l.prototype.find=function(t){for(var s=this.roots;s[t]!==t;){var o=s[t];s[t]=s[o],t=o}return t},l.prototype.link=function(t,s){var o=this.find(t),n=this.find(s);if(o!==n){var r=this.ranks,i=this.roots,u=r[o],p=r[n];u<p?i[o]=n:p<u?i[n]=o:(i[n]=o,++r[o])}}},8243:function(f,l,t){"use strict";f.exports=function(n,r,i){for(var u=r.length,p=n.length,h=new Array(u),_=new Array(u),m=new Array(u),d=new Array(u),x=0;x<u;++x)h[x]=_[x]=-1,m[x]=1/0,d[x]=!1;for(x=0;x<p;++x){var g=n[x];if(g.length!==2)throw new Error("Input must be a graph");var v=g[1],T=g[0];_[T]!==-1?_[T]=-2:_[T]=v,h[v]!==-1?h[v]=-2:h[v]=T}function c(K){if(d[K])return 1/0;var J,Z,$,ne=h[K],ae=_[K];return ne<0||ae<0?1/0:(J=r[K],Z=r[ne],$=r[ae],Math.abs(s(J,Z,$))/Math.sqrt(Math.pow(Z[0]-$[0],2)+Math.pow(Z[1]-$[1],2)))}function E(K,J){var Z=F[K],$=F[J];F[K]=$,F[J]=Z,W[Z]=J,W[$]=K}function A(K){return m[F[K]]}function C(K){return 1&K?K-1>>1:(K>>1)-1}function O(K){for(var J=A(K);;){var Z=J,$=2*K+1,ne=2*(K+1),ae=K;if($<B){var oe=A($);oe<Z&&(ae=$,Z=oe)}if(ne<B&&A(ne)<Z&&(ae=ne),ae===K)return K;E(K,ae),K=ae}}function P(K){for(var J=A(K);K>0;){var Z=C(K);if(!(Z>=0&&J<A(Z)))return K;E(K,Z),K=Z}}function D(){if(B>0){var K=F[0];return E(0,B-1),B-=1,O(0),K}return-1}function z(K,J){var Z=F[K];return m[Z]===J?K:(m[Z]=-1/0,P(K),D(),m[Z]=J,P((B+=1)-1))}function V(K){if(!d[K]){d[K]=!0;var J=h[K],Z=_[K];h[Z]>=0&&(h[Z]=J),_[J]>=0&&(_[J]=Z),W[J]>=0&&z(W[J],c(J)),W[Z]>=0&&z(W[Z],c(Z))}}var F=[],W=new Array(u);for(x=0;x<u;++x)(m[x]=c(x))<1/0?(W[x]=F.length,F.push(x)):W[x]=-1;var B=F.length;for(x=B>>1;x>=0;--x)O(x);for(;;){var U=D();if(U<0||m[U]>i)break;V(U)}var H=[];for(x=0;x<u;++x)d[x]||(W[x]=H.length,H.push(r[x].slice()));function q(K,J){if(K[J]<0)return J;var Z=J,$=J;do{var ne=K[$];if(!d[$]||ne<0||ne===$||(ne=K[$=ne],!d[$]||ne<0||ne===$))break;$=ne,Z=K[Z]}while(Z!==$);for(var ae=J;ae!==$;ae=K[ae])K[ae]=$;return $}H.length;var ee=[];return n.forEach(function(K){var J=q(h,K[0]),Z=q(_,K[1]);if(J>=0&&Z>=0&&J!==Z){var $=W[J],ne=W[Z];$!==ne&&ee.push([$,ne])}}),o.unique(o.normalize(ee)),{positions:H,edges:ee}};var s=t(417),o=t(6656)},6638:function(f,l,t){"use strict";f.exports=function(n,r){var i,u,p,h;if(r[0][0]<r[1][0])i=r[0],u=r[1];else{if(!(r[0][0]>r[1][0]))return o(r,n);i=r[1],u=r[0]}if(n[0][0]<n[1][0])p=n[0],h=n[1];else{if(!(n[0][0]>n[1][0]))return-o(n,r);p=n[1],h=n[0]}var _=s(i,u,h),m=s(i,u,p);if(_<0){if(m<=0)return _}else if(_>0){if(m>=0)return _}else if(m)return m;if(_=s(h,p,u),m=s(h,p,i),_<0){if(m<=0)return _}else if(_>0){if(m>=0)return _}else if(m)return m;return u[0]-h[0]};var s=t(417);function o(n,r){var i,u,p,h;if(r[0][0]<r[1][0])i=r[0],u=r[1];else{if(!(r[0][0]>r[1][0])){var _=Math.min(n[0][1],n[1][1]),m=Math.max(n[0][1],n[1][1]),d=Math.min(r[0][1],r[1][1]),x=Math.max(r[0][1],r[1][1]);return m<d?m-d:_>x?_-x:m-x}i=r[1],u=r[0]}n[0][1]<n[1][1]?(p=n[0],h=n[1]):(p=n[1],h=n[0]);var g=s(u,i,p);return g||(g=s(u,i,h))||h-u}},4385:function(f,l,t){"use strict";f.exports=function(m){for(var d=m.length,x=2*d,g=new Array(x),v=0;v<d;++v){var T=m[v],c=T[0][0]<T[1][0];g[2*v]=new _(T[0][0],T,c,v),g[2*v+1]=new _(T[1][0],T,!c,v)}g.sort(function(V,F){var W=V.x-F.x;return W||(W=V.create-F.create)||Math.min(V.segment[0][1],V.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});var E=o(r),A=[],C=[],O=[];for(v=0;v<x;){for(var P=g[v].x,D=[];v<x;){var z=g[v];if(z.x!==P)break;v+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(D.push(new h(z.segment[0][1],z.index,!0,!0)),D.push(new h(z.segment[1][1],z.index,!1,!1))):(D.push(new h(z.segment[1][1],z.index,!0,!1)),D.push(new h(z.segment[0][1],z.index,!1,!0)))):E=z.create?E.insert(z.segment,z.index):E.remove(z.segment)}A.push(E.root),C.push(P),O.push(D)}return new i(A,C,O)};var s=t(5070),o=t(7080),n=t(417),r=t(6638);function i(m,d,x){this.slabs=m,this.coordinates=d,this.horizontal=x}function u(m,d){return m.y-d}function p(m,d){for(var x=null;m;){var g,v,T=m.key;T[0][0]<T[1][0]?(g=T[0],v=T[1]):(g=T[1],v=T[0]);var c=n(g,v,d);if(c<0)m=m.left;else if(c>0)if(d[0]!==T[1][0])x=m,m=m.right;else{if(E=p(m.right,d))return E;m=m.left}else{if(d[0]!==T[1][0])return m;var E;if(E=p(m.right,d))return E;m=m.left}}return x}function h(m,d,x,g){this.y=m,this.index=d,this.start=x,this.closed=g}function _(m,d,x,g){this.x=m,this.segment=d,this.create=x,this.index=g}i.prototype.castUp=function(m){var d=s.le(this.coordinates,m[0]);if(d<0)return-1;this.slabs[d];var x=p(this.slabs[d],m),g=-1;if(x&&(g=x.value),this.coordinates[d]===m[0]){var v=null;if(x&&(v=x.key),d>0){var T=p(this.slabs[d-1],m);T&&(v?r(T.key,v)>0&&(v=T.key,g=T.value):(g=T.value,v=T.key))}var c=this.horizontal[d];if(c.length>0){var E=s.ge(c,m[1],u);if(E<c.length){var A=c[E];if(m[1]===A.y){if(A.closed)return A.index;for(;E<c.length-1&&c[E+1].y===m[1];)if((A=c[E+=1]).closed)return A.index;if(A.y===m[1]&&!A.start){if((E+=1)>=c.length)return g;A=c[E]}}if(A.start)if(v){var C=n(v[0],v[1],[m[0],A.y]);v[0][0]>v[1][0]&&(C=-C),C>0&&(g=A.index)}else g=A.index;else A.y!==m[1]&&(g=A.index)}}}return g}},4670:function(f,l,t){"use strict";var s=t(9130),o=t(9662);function n(i,u){var p=o(s(i,u),[u[u.length-1]]);return p[p.length-1]}function r(i,u,p,h){var _=-u/(h-u);_<0?_=0:_>1&&(_=1);for(var m=1-_,d=i.length,x=new Array(d),g=0;g<d;++g)x[g]=_*i[g]+m*p[g];return x}f.exports=function(i,u){for(var p=[],h=[],_=n(i[i.length-1],u),m=i[i.length-1],d=i[0],x=0;x<i.length;++x,m=d){var g=n(d=i[x],u);if(_<0&&g>0||_>0&&g<0){var v=r(m,g,d,_);p.push(v),h.push(v.slice())}g<0?h.push(d.slice()):g>0?p.push(d.slice()):(p.push(d.slice()),h.push(d.slice())),_=g}return{positive:p,negative:h}},f.exports.positive=function(i,u){for(var p=[],h=n(i[i.length-1],u),_=i[i.length-1],m=i[0],d=0;d<i.length;++d,_=m){var x=n(m=i[d],u);(h<0&&x>0||h>0&&x<0)&&p.push(r(_,x,m,h)),x>=0&&p.push(m.slice()),h=x}return p},f.exports.negative=function(i,u){for(var p=[],h=n(i[i.length-1],u),_=i[i.length-1],m=i[0],d=0;d<i.length;++d,_=m){var x=n(m=i[d],u);(h<0&&x>0||h>0&&x<0)&&p.push(r(_,x,m,h)),x<=0&&p.push(m.slice()),h=x}return p}},8974:function(f,l,t){var s;(function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return i(p(h),arguments)}function r(h,_){return n.apply(null,[h].concat(_||[]))}function i(h,_){var m,d,x,g,v,T,c,E,A,C=1,O=h.length,P="";for(d=0;d<O;d++)if(typeof h[d]=="string")P+=h[d];else if(typeof h[d]=="object"){if((g=h[d]).keys)for(m=_[C],x=0;x<g.keys.length;x++){if(m==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[x],g.keys[x-1]));m=m[g.keys[x]]}else m=g.param_no?_[g.param_no]:_[C++];if(o.not_type.test(g.type)&&o.not_primitive.test(g.type)&&m instanceof Function&&(m=m()),o.numeric_arg.test(g.type)&&typeof m!="number"&&isNaN(m))throw new TypeError(n("[sprintf] expecting number but found %T",m));switch(o.number.test(g.type)&&(E=m>=0),g.type){case"b":m=parseInt(m,10).toString(2);break;case"c":m=String.fromCharCode(parseInt(m,10));break;case"d":case"i":m=parseInt(m,10);break;case"j":m=JSON.stringify(m,null,g.width?parseInt(g.width):0);break;case"e":m=g.precision?parseFloat(m).toExponential(g.precision):parseFloat(m).toExponential();break;case"f":m=g.precision?parseFloat(m).toFixed(g.precision):parseFloat(m);break;case"g":m=g.precision?String(Number(m.toPrecision(g.precision))):parseFloat(m);break;case"o":m=(parseInt(m,10)>>>0).toString(8);break;case"s":m=String(m),m=g.precision?m.substring(0,g.precision):m;break;case"t":m=String(!!m),m=g.precision?m.substring(0,g.precision):m;break;case"T":m=Object.prototype.toString.call(m).slice(8,-1).toLowerCase(),m=g.precision?m.substring(0,g.precision):m;break;case"u":m=parseInt(m,10)>>>0;break;case"v":m=m.valueOf(),m=g.precision?m.substring(0,g.precision):m;break;case"x":m=(parseInt(m,10)>>>0).toString(16);break;case"X":m=(parseInt(m,10)>>>0).toString(16).toUpperCase()}o.json.test(g.type)?P+=m:(!o.number.test(g.type)||E&&!g.sign?A="":(A=E?"+":"-",m=m.toString().replace(o.sign,"")),T=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",c=g.width-(A+m).length,v=g.width&&c>0?T.repeat(c):"",P+=g.align?A+m+v:T==="0"?A+v+m:v+A+m)}return P}var u=Object.create(null);function p(h){if(u[h])return u[h];for(var _,m=h,d=[],x=0;m;){if((_=o.text.exec(m))!==null)d.push(_[0]);else if((_=o.modulo.exec(m))!==null)d.push("%");else{if((_=o.placeholder.exec(m))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(_[2]){x|=1;var g=[],v=_[2],T=[];if((T=o.key.exec(v))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(g.push(T[1]);(v=v.substring(T[0].length))!=="";)if((T=o.key_access.exec(v))!==null)g.push(T[1]);else{if((T=o.index_access.exec(v))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");g.push(T[1])}_[2]=g}else x|=2;if(x===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d.push({placeholder:_[0],param_no:_[1],keys:_[2],sign:_[3],pad_char:_[4],align:_[5],width:_[6],precision:_[7],type:_[8]})}m=m.substring(_[0].length)}return u[h]=d}l.sprintf=n,l.vsprintf=r,typeof window<"u"&&(window.sprintf=n,window.vsprintf=r,(s=function(){return{sprintf:n,vsprintf:r}}.call(l,t,l,f))===void 0||(f.exports=s))})()},4162:function(f,l,t){"use strict";f.exports=function(i,u){if(i.dimension<=0)return{positions:[],cells:[]};if(i.dimension===1)return function(_,m){for(var d=o(_,m),x=d.length,g=new Array(x),v=new Array(x),T=0;T<x;++T)g[T]=[d[T]],v[T]=[T];return{positions:g,cells:v}}(i,u);var p=i.order.join()+"-"+i.dtype,h=r[p];return u=+u||0,h||(h=r[p]=function(_,m){var d=_.length+"d",x=n[d];if(x)return x(s,_,m)}(i.order,i.dtype)),h(i,u)};var s=t(9284),o=t(9584),n={"2d":function(i,u,p){var h=i({order:u,scalarArguments:3,getters:p==="generic"?[0]:void 0,phase:function(_,m,d,x){return _>x|0},vertex:function(_,m,d,x,g,v,T,c,E,A,C,O,P){var D=(T<<0)+(c<<1)+(E<<2)+(A<<3)|0;if(D!==0&&D!==15)switch(D){case 0:case 15:C.push([_-.5,m-.5]);break;case 1:C.push([_-.25-.25*(x+d-2*P)/(d-x),m-.25-.25*(g+d-2*P)/(d-g)]);break;case 2:C.push([_-.75-.25*(-x-d+2*P)/(x-d),m-.25-.25*(v+x-2*P)/(x-v)]);break;case 3:C.push([_-.5,m-.5-.5*(g+d+v+x-4*P)/(d-g+x-v)]);break;case 4:C.push([_-.25-.25*(v+g-2*P)/(g-v),m-.75-.25*(-g-d+2*P)/(g-d)]);break;case 5:C.push([_-.5-.5*(x+d+v+g-4*P)/(d-x+g-v),m-.5]);break;case 6:C.push([_-.5-.25*(-x-d+v+g)/(x-d+g-v),m-.5-.25*(-g-d+v+x)/(g-d+x-v)]);break;case 7:C.push([_-.75-.25*(v+g-2*P)/(g-v),m-.75-.25*(v+x-2*P)/(x-v)]);break;case 8:C.push([_-.75-.25*(-v-g+2*P)/(v-g),m-.75-.25*(-v-x+2*P)/(v-x)]);break;case 9:C.push([_-.5-.25*(x+d+-v-g)/(d-x+v-g),m-.5-.25*(g+d+-v-x)/(d-g+v-x)]);break;case 10:C.push([_-.5-.5*(-x-d-v-g+4*P)/(x-d+v-g),m-.5]);break;case 11:C.push([_-.25-.25*(-v-g+2*P)/(v-g),m-.75-.25*(g+d-2*P)/(d-g)]);break;case 12:C.push([_-.5,m-.5-.5*(-g-d-v-x+4*P)/(g-d+v-x)]);break;case 13:C.push([_-.75-.25*(x+d-2*P)/(d-x),m-.25-.25*(-v-x+2*P)/(v-x)]);break;case 14:C.push([_-.25-.25*(-x-d+2*P)/(x-d),m-.25-.25*(-g-d+2*P)/(g-d)])}},cell:function(_,m,d,x,g,v,T,c,E){g?c.push([_,m]):c.push([m,_])}});return function(_,m){var d=[],x=[];return h(_,d,x,m),{positions:d,cells:x}}}},r={}},6946:function(f,l,t){"use strict";f.exports=function r(i,u,p){p=p||{};var h=n[i];h||(h=n[i]={" ":{data:new Float32Array(0),shape:.2}});var _=h[u];if(!_)if(u.length<=1||!/\d/.test(u))_=h[u]=function(O){for(var P=O.cells,D=O.positions,z=new Float32Array(6*P.length),V=0,F=0,W=0;W<P.length;++W)for(var B=P[W],U=0;U<3;++U){var H=D[B[U]];z[V++]=H[0],z[V++]=H[1]+1.4,F=Math.max(H[0],F)}return{data:z,shape:F}}(s(u,{triangles:!0,font:i,textAlign:p.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=u.split(/(\d|\s)/),d=new Array(m.length),x=0,g=0,v=0;v<m.length;++v)d[v]=r(i,m[v]),x+=d[v].data.length,g+=d[v].shape,v>0&&(g+=.02);var T=new Float32Array(x),c=0,E=-.5*g;for(v=0;v<d.length;++v){for(var A=d[v].data,C=0;C<A.length;C+=2)T[c++]=A[C]+E,T[c++]=A[C+1];E+=d[v].shape+.02}_=h[u]={data:T,shape:g}}return _};var s=t(875),o=window||w.global||{},n=o.__TEXT_CACHE||{};o.__TEXT_CACHE={}},14:function(f,l,t){"use strict";var s=t(4405);function o(r,i){var u=s(getComputedStyle(r).getPropertyValue(i));return u[0]*n(u[1],r)}function n(r,i){switch(i=i||document.body,r=(r||"px").trim().toLowerCase(),i!==window&&i!==document||(i=document.body),r){case"%":return i.clientHeight/100;case"ch":case"ex":return function(u,p){var h=document.createElement("div");h.style["font-size"]="128"+u,p.appendChild(h);var _=o(h,"font-size")/128;return p.removeChild(h),_}(r,i);case"em":return o(i,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 37.79527559055118;case"mm":return 3.7795275590551185;case"pt":return 1.3333333333333333;case"pc":return 16}return 1}f.exports=n},3440:function(f,l,t){"use strict";f.exports=function(g){var v=(g=g||{}).center||[0,0,0],T=g.up||[0,1,0],c=g.right||_(T),E=g.radius||1,A=g.theta||0,C=g.phi||0;if(v=[].slice.call(v,0,3),T=[].slice.call(T,0,3),i(T,T),c=[].slice.call(c,0,3),i(c,c),"eye"in g){var O=g.eye,P=[O[0]-v[0],O[1]-v[1],O[2]-v[2]];r(c,P,T),p(c[0],c[1],c[2])<1e-6?c=_(T):i(c,c),E=p(P[0],P[1],P[2]);var D=u(T,P)/E,z=u(c,P)/E;C=Math.acos(D),A=Math.acos(z)}return E=Math.log(E),new m(g.zoomMin,g.zoomMax,v,T,c,E,A,C)};var s=t(8444),o=t(7437),n=t(4422),r=t(903),i=t(899),u=t(9305);function p(g,v,T){return Math.sqrt(Math.pow(g,2)+Math.pow(v,2)+Math.pow(T,2))}function h(g){return Math.min(1,Math.max(-1,g))}function _(g){var v=Math.abs(g[0]),T=Math.abs(g[1]),c=Math.abs(g[2]),E=[0,0,0];v>Math.max(T,c)?E[2]=1:T>Math.max(v,c)?E[0]=1:E[1]=1;for(var A=0,C=0,O=0;O<3;++O)A+=g[O]*g[O],C+=E[O]*g[O];for(O=0;O<3;++O)E[O]-=C/A*g[O];return i(E,E),E}function m(g,v,T,c,E,A,C,O){this.center=s(T),this.up=s(c),this.right=s(E),this.radius=s([A]),this.angle=s([C,O]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(g,v),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var d=m.prototype;d.setDistanceLimits=function(g,v){g=g>0?Math.log(g):-1/0,v=v>0?Math.log(v):1/0,v=Math.max(v,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=v},d.getDistanceLimits=function(g){var v=this.radius.bounds[0];return g?(g[0]=Math.exp(v[0][0]),g[1]=Math.exp(v[1][0]),g):[Math.exp(v[0][0]),Math.exp(v[1][0])]},d.recalcMatrix=function(g){this.center.curve(g),this.up.curve(g),this.right.curve(g),this.radius.curve(g),this.angle.curve(g);for(var v=this.computedUp,T=this.computedRight,c=0,E=0,A=0;A<3;++A)E+=v[A]*T[A],c+=v[A]*v[A];var C=Math.sqrt(c),O=0;for(A=0;A<3;++A)T[A]-=v[A]*E/c,O+=T[A]*T[A],v[A]/=C;var P=Math.sqrt(O);for(A=0;A<3;++A)T[A]/=P;var D=this.computedToward;r(D,v,T),i(D,D);var z=Math.exp(this.computedRadius[0]),V=this.computedAngle[0],F=this.computedAngle[1],W=Math.cos(V),B=Math.sin(V),U=Math.cos(F),H=Math.sin(F),q=this.computedCenter,ee=W*U,K=B*U,J=H,Z=-W*H,$=-B*H,ne=U,ae=this.computedEye,oe=this.computedMatrix;for(A=0;A<3;++A){var se=ee*T[A]+K*D[A]+J*v[A];oe[4*A+1]=Z*T[A]+$*D[A]+ne*v[A],oe[4*A+2]=se,oe[4*A+3]=0}var ce=oe[1],me=oe[5],xe=oe[9],ve=oe[2],fe=oe[6],pe=oe[10],Le=me*pe-xe*fe,ye=xe*ve-ce*pe,Ae=ce*fe-me*ve,Me=p(Le,ye,Ae);for(Le/=Me,ye/=Me,Ae/=Me,oe[0]=Le,oe[4]=ye,oe[8]=Ae,A=0;A<3;++A)ae[A]=q[A]+oe[2+4*A]*z;for(A=0;A<3;++A){O=0;for(var ke=0;ke<3;++ke)O+=oe[A+4*ke]*ae[ke];oe[12+A]=-O}oe[15]=1},d.getMatrix=function(g,v){this.recalcMatrix(g);var T=this.computedMatrix;if(v){for(var c=0;c<16;++c)v[c]=T[c];return v}return T};var x=[0,0,0];d.rotate=function(g,v,T,c){if(this.angle.move(g,v,T),c){this.recalcMatrix(g);var E=this.computedMatrix;x[0]=E[2],x[1]=E[6],x[2]=E[10];for(var A=this.computedUp,C=this.computedRight,O=this.computedToward,P=0;P<3;++P)E[4*P]=A[P],E[4*P+1]=C[P],E[4*P+2]=O[P];for(n(E,E,c,x),P=0;P<3;++P)A[P]=E[4*P],C[P]=E[4*P+1];this.up.set(g,A[0],A[1],A[2]),this.right.set(g,C[0],C[1],C[2])}},d.pan=function(g,v,T,c){v=v||0,T=T||0,c=c||0,this.recalcMatrix(g);var E=this.computedMatrix,A=(Math.exp(this.computedRadius[0]),E[1]),C=E[5],O=E[9],P=p(A,C,O);A/=P,C/=P,O/=P;var D=E[0],z=E[4],V=E[8],F=D*A+z*C+V*O,W=p(D-=A*F,z-=C*F,V-=O*F),B=(D/=W)*v+A*T,U=(z/=W)*v+C*T,H=(V/=W)*v+O*T;this.center.move(g,B,U,H);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+c),this.radius.set(g,Math.log(q))},d.translate=function(g,v,T,c){this.center.move(g,v||0,T||0,c||0)},d.setMatrix=function(g,v,T,c){var E=1;typeof T=="number"&&(E=0|T),(E<0||E>3)&&(E=1);var A=(E+2)%3;v||(this.recalcMatrix(g),v=this.computedMatrix);var C=v[E],O=v[E+4],P=v[E+8];if(c){var D=Math.abs(C),z=Math.abs(O),V=Math.abs(P),F=Math.max(D,z,V);D===F?(C=C<0?-1:1,O=P=0):V===F?(P=P<0?-1:1,C=O=0):(O=O<0?-1:1,C=P=0)}else{var W=p(C,O,P);C/=W,O/=W,P/=W}var B,U,H=v[A],q=v[A+4],ee=v[A+8],K=H*C+q*O+ee*P,J=p(H-=C*K,q-=O*K,ee-=P*K),Z=O*(ee/=J)-P*(q/=J),$=P*(H/=J)-C*ee,ne=C*q-O*H,ae=p(Z,$,ne);if(Z/=ae,$/=ae,ne/=ae,this.center.jump(g,we,Ee,Be),this.radius.idle(g),this.up.jump(g,C,O,P),this.right.jump(g,H,q,ee),E===2){var oe=v[1],se=v[5],ce=v[9],me=oe*H+se*q+ce*ee,xe=oe*Z+se*$+ce*ne;B=Le<0?-Math.PI/2:Math.PI/2,U=Math.atan2(xe,me)}else{var ve=v[2],fe=v[6],pe=v[10],Le=ve*C+fe*O+pe*P,ye=ve*H+fe*q+pe*ee,Ae=ve*Z+fe*$+pe*ne;B=Math.asin(h(Le)),U=Math.atan2(Ae,ye)}this.angle.jump(g,U,B),this.recalcMatrix(g);var Me=v[2],ke=v[6],te=v[10],ue=this.computedMatrix;o(ue,v);var ge=ue[15],we=ue[12]/ge,Ee=ue[13]/ge,Be=ue[14]/ge,Re=Math.exp(this.computedRadius[0]);this.center.jump(g,we-Me*Re,Ee-ke*Re,Be-te*Re)},d.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},d.idle=function(g){this.center.idle(g),this.up.idle(g),this.right.idle(g),this.radius.idle(g),this.angle.idle(g)},d.flush=function(g){this.center.flush(g),this.up.flush(g),this.right.flush(g),this.radius.flush(g),this.angle.flush(g)},d.setDistance=function(g,v){v>0&&this.radius.set(g,Math.log(v))},d.lookAt=function(g,v,T,c){this.recalcMatrix(g),v=v||this.computedEye,T=T||this.computedCenter;var E=(c=c||this.computedUp)[0],A=c[1],C=c[2],O=p(E,A,C);if(!(O<1e-6)){E/=O,A/=O,C/=O;var P=v[0]-T[0],D=v[1]-T[1],z=v[2]-T[2],V=p(P,D,z);if(!(V<1e-6)){P/=V,D/=V,z/=V;var F=this.computedRight,W=F[0],B=F[1],U=F[2],H=E*W+A*B+C*U,q=p(W-=H*E,B-=H*A,U-=H*C);if(!(q<.01&&(q=p(W=A*z-C*D,B=C*P-E*z,U=E*D-A*P))<1e-6)){W/=q,B/=q,U/=q,this.up.set(g,E,A,C),this.right.set(g,W,B,U),this.center.set(g,T[0],T[1],T[2]),this.radius.set(g,Math.log(V));var ee=A*U-C*B,K=C*W-E*U,J=E*B-A*W,Z=p(ee,K,J),$=E*P+A*D+C*z,ne=W*P+B*D+U*z,ae=(ee/=Z)*P+(K/=Z)*D+(J/=Z)*z,oe=Math.asin(h($)),se=Math.atan2(ae,ne),ce=this.angle._state,me=ce[ce.length-1],xe=ce[ce.length-2];me%=2*Math.PI;var ve=Math.abs(me+2*Math.PI-se),fe=Math.abs(me-se),pe=Math.abs(me-2*Math.PI-se);ve<fe&&(me+=2*Math.PI),pe<fe&&(me-=2*Math.PI),this.angle.jump(this.angle.lastT(),me,xe),this.angle.set(g,se,oe)}}}}},9660:function(f){"use strict";f.exports=function(t,s,o){var n=t*s,r=l*t,i=r-(r-t),u=t-i,p=l*s,h=p-(p-s),_=s-h,m=u*_-(n-i*h-u*h-i*_);return o?(o[0]=m,o[1]=n,o):[m,n]};var l=+(Math.pow(2,27)+1)},87:function(f){"use strict";f.exports=function(l,t,s){var o=l+t,n=o-l,r=t-n,i=l-(o-n);return s?(s[0]=i+r,s[1]=o,s):[i+r,o]}},5306:function(f,l,t){"use strict";var s=t(2288),o=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var r=typeof Uint8ClampedArray<"u",i=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",p=t.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=o([32,0])),p.BIGUINT64||(p.BIGUINT64=o([32,0])),p.BIGINT64||(p.BIGINT64=o([32,0])),p.BUFFER||(p.BUFFER=o([32,0]));var h=p.DATA,_=p.BUFFER;function m(F){if(F){var W=F.length||F.byteLength,B=s.log2(W);h[B].push(F)}}function d(F){F=s.nextPow2(F);var W=s.log2(F),B=h[W];return B.length>0?B.pop():new ArrayBuffer(F)}function x(F){return new Uint8Array(d(F),0,F)}function g(F){return new Uint16Array(d(2*F),0,F)}function v(F){return new Uint32Array(d(4*F),0,F)}function T(F){return new Int8Array(d(F),0,F)}function c(F){return new Int16Array(d(2*F),0,F)}function E(F){return new Int32Array(d(4*F),0,F)}function A(F){return new Float32Array(d(4*F),0,F)}function C(F){return new Float64Array(d(8*F),0,F)}function O(F){return r?new Uint8ClampedArray(d(F),0,F):x(F)}function P(F){return i?new BigUint64Array(d(8*F),0,F):null}function D(F){return u?new BigInt64Array(d(8*F),0,F):null}function z(F){return new DataView(d(F),0,F)}function V(F){F=s.nextPow2(F);var W=s.log2(F),B=_[W];return B.length>0?B.pop():new n(F)}l.free=function(F){if(n.isBuffer(F))_[s.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var W=F.length||F.byteLength,B=0|s.log2(W);h[B].push(F)}},l.freeUint8=l.freeUint16=l.freeUint32=l.freeBigUint64=l.freeInt8=l.freeInt16=l.freeInt32=l.freeBigInt64=l.freeFloat32=l.freeFloat=l.freeFloat64=l.freeDouble=l.freeUint8Clamped=l.freeDataView=function(F){m(F.buffer)},l.freeArrayBuffer=m,l.freeBuffer=function(F){_[s.log2(F.length)].push(F)},l.malloc=function(F,W){if(W===void 0||W==="arraybuffer")return d(F);switch(W){case"uint8":return x(F);case"uint16":return g(F);case"uint32":return v(F);case"int8":return T(F);case"int16":return c(F);case"int32":return E(F);case"float":case"float32":return A(F);case"double":case"float64":return C(F);case"uint8_clamped":return O(F);case"bigint64":return D(F);case"biguint64":return P(F);case"buffer":return V(F);case"data":case"dataview":return z(F);default:return null}return null},l.mallocArrayBuffer=d,l.mallocUint8=x,l.mallocUint16=g,l.mallocUint32=v,l.mallocInt8=T,l.mallocInt16=c,l.mallocInt32=E,l.mallocFloat32=l.mallocFloat=A,l.mallocFloat64=l.mallocDouble=C,l.mallocUint8Clamped=O,l.mallocBigUint64=P,l.mallocBigInt64=D,l.mallocDataView=z,l.mallocBuffer=V,l.clearCache=function(){for(var F=0;F<32;++F)p.UINT8[F].length=0,p.UINT16[F].length=0,p.UINT32[F].length=0,p.INT8[F].length=0,p.INT16[F].length=0,p.INT32[F].length=0,p.FLOAT[F].length=0,p.DOUBLE[F].length=0,p.BIGUINT64[F].length=0,p.BIGINT64[F].length=0,p.UINT8C[F].length=0,h[F].length=0,_[F].length=0}},1731:function(f){"use strict";function l(s){this.roots=new Array(s),this.ranks=new Array(s);for(var o=0;o<s;++o)this.roots[o]=o,this.ranks[o]=0}f.exports=l;var t=l.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},t.find=function(s){for(var o=s,n=this.roots;n[s]!==s;)s=n[s];for(;n[o]!==s;){var r=n[o];n[o]=s,o=r}return s},t.link=function(s,o){var n=this.find(s),r=this.find(o);if(n!==r){var i=this.ranks,u=this.roots,p=i[n],h=i[r];p<h?u[n]=r:h<p?u[r]=n:(u[r]=n,++i[n])}}},1215:function(f){"use strict";f.exports=function(l,t,s){return l.length===0?l:t?(s||l.sort(t),function(o,n){for(var r=1,i=o.length,u=o[0],p=o[0],h=1;h<i;++h)if(p=u,n(u=o[h],p)){if(h===r){r++;continue}o[r++]=u}return o.length=r,o}(l,t)):(s||l.sort(),function(o){for(var n=1,r=o.length,i=o[0],u=o[0],p=1;p<r;++p,u=i)if(u=i,(i=o[p])!==u){if(p===n){n++;continue}o[n++]=i}return o.length=n,o}(l))}},875:function(f,l,t){"use strict";f.exports=function(r,i){return typeof i=="object"&&i!==null||(i={}),s(r,i.canvas||o,i.context||n,i)};var s=t(712),o=null,n=null;typeof document<"u"&&((o=document.createElement("canvas")).width=8192,o.height=1024,n=o.getContext("2d"))},712:function(f,l,t){f.exports=function(g,v,T,c){var E=64,A=1.25,C={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return c&&(c.size&&c.size>0&&(E=c.size),c.lineSpacing&&c.lineSpacing>0&&(A=c.lineSpacing),c.styletags&&c.styletags.breaklines&&(C.breaklines=!!c.styletags.breaklines),c.styletags&&c.styletags.bolds&&(C.bolds=!!c.styletags.bolds),c.styletags&&c.styletags.italics&&(C.italics=!!c.styletags.italics),c.styletags&&c.styletags.subscripts&&(C.subscripts=!!c.styletags.subscripts),c.styletags&&c.styletags.superscripts&&(C.superscripts=!!c.styletags.superscripts)),T.font=[c.fontStyle,c.fontVariant,c.fontWeight,E+"px",c.font].filter(function(O){return O}).join(" "),T.textAlign="start",T.textBaseline="alphabetic",T.direction="ltr",x(function(O,P,D,z,V,F){D=D.replace(/\n/g,""),D=F.breaklines===!0?D.replace(/\<br\>/g,`
`):D.replace(/\<br\>/g," ");var W="",B=[];for(ee=0;ee<D.length;++ee)B[ee]=W;F.bolds===!0&&(B=_("b",p,D,B)),F.italics===!0&&(B=_("i",h,D,B)),F.superscripts===!0&&(B=_("sup","+1",D,B)),F.subscripts===!0&&(B=_("sub","-1",D,B));var U=[],H="";for(ee=0;ee<D.length;++ee)B[ee]!==null&&(H+=D[ee],U.push(B[ee]));var q,ee,K,J,Z,$=H.split(`
`),ne=$.length,ae=Math.round(V*z),oe=z,se=2*z,ce=0,me=ne*ae+se;O.height<me&&(O.height=me),P.fillStyle="#000",P.fillRect(0,0,O.width,O.height),P.fillStyle="#fff";var xe=0,ve="";function fe(){if(ve!==""){var ue=P.measureText(ve).width;P.fillText(ve,oe+K,se+J),K+=ue}}function pe(){return Math.round(Z)+"px "}function Le(ue,ge){var we=""+P.font;if(F.subscripts===!0){var Ee=ue.indexOf("-"),Be=ge.indexOf("-"),Re=Ee>-1?parseInt(ue[1+Ee]):0,je=Be>-1?parseInt(ge[1+Be]):0;Re!==je&&(we=we.replace(pe(),"?px "),Z*=Math.pow(.75,je-Re),we=we.replace("?px ",pe())),J+=.25*ae*(je-Re)}if(F.superscripts===!0){var he=ue.indexOf("+"),_e=ge.indexOf("+"),Te=he>-1?parseInt(ue[1+he]):0,Fe=_e>-1?parseInt(ge[1+_e]):0;Te!==Fe&&(we=we.replace(pe(),"?px "),Z*=Math.pow(.75,Fe-Te),we=we.replace("?px ",pe())),J-=.25*ae*(Fe-Te)}if(F.bolds===!0){var Ye=ue.indexOf(p)>-1,Ge=ge.indexOf(p)>-1;!Ye&&Ge&&(we=ot?we.replace("italic ","italic bold "):"bold "+we),Ye&&!Ge&&(we=we.replace("bold ",""))}if(F.italics===!0){var ot=ue.indexOf(h)>-1,st=ge.indexOf(h)>-1;!ot&&st&&(we="italic "+we),ot&&!st&&(we=we.replace("italic ",""))}P.font=we}for(q=0;q<ne;++q){var ye=$[q]+`
`;for(K=0,J=q*ae,Z=z,ve="",ee=0;ee<ye.length;++ee){var Ae=ee+xe<U.length?U[ee+xe]:U[U.length-1];W===Ae?ve+=ye[ee]:(fe(),ve=ye[ee],Ae!==void 0&&(Le(W,Ae),W=Ae))}fe(),xe+=ye.length;var Me=0|Math.round(K+2*oe);ce<Me&&(ce=Me)}var ke=ce,te=se+ae*ne;return o(P.getImageData(0,0,ke,te).data,[te,ke,4]).pick(-1,-1,0).transpose(1,0)}(v,T,g,E,A,C),c,E)},f.exports.processPixels=x;var s=t(4162),o=t(5050),n=t(8243),r=t(197),i=t(7761),u=t(8040),p="b|",h="i|";function _(g,v,T,c){for(var E="<"+g+">",A="</"+g+">",C=E.length,O=A.length,P=v[0]==="+"||v[0]==="-",D=0,z=-O;D>-1&&(D=T.indexOf(E,D))!==-1&&(z=T.indexOf(A,D+C))!==-1&&!(z<=D);){for(var V=D;V<z+O;++V)if(V<D+C||V>=z)c[V]=null,T=T.substr(0,V)+" "+T.substr(V+1);else if(c[V]!==null){var F=c[V].indexOf(v[0]);F===-1?c[V]+=v:P&&(c[V]=c[V].substr(0,F+1)+(1+parseInt(c[V][F+1]))+c[V].substr(F+2))}var W=D+C,B=T.substr(W,z-W).indexOf(E);D=B!==-1?B:z+O}return c}function m(g,v){var T=s(g,128);return v?n(T.cells,T.positions,.25):{edges:T.cells,positions:T.positions}}function d(g,v,T,c){var E=m(g,c),A=function(q,ee,K){for(var J=ee.textAlign||"start",Z=ee.textBaseline||"alphabetic",$=[1<<30,1<<30],ne=[0,0],ae=q.length,oe=0;oe<ae;++oe)for(var se=q[oe],ce=0;ce<2;++ce)$[ce]=0|Math.min($[ce],se[ce]),ne[ce]=0|Math.max(ne[ce],se[ce]);var me=0;switch(J){case"center":me=-.5*($[0]+ne[0]);break;case"right":case"end":me=-ne[0];break;case"left":case"start":me=-$[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+J+"'")}var xe=0;switch(Z){case"hanging":case"top":xe=-$[1];break;case"middle":xe=-.5*($[1]+ne[1]);break;case"alphabetic":case"ideographic":xe=-3*K;break;case"bottom":xe=-ne[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Z+"'")}var ve=1/K;return"lineHeight"in ee?ve*=+ee.lineHeight:"width"in ee?ve=ee.width/(ne[0]-$[0]):"height"in ee&&(ve=ee.height/(ne[1]-$[1])),q.map(function(fe){return[ve*(fe[0]+me),ve*(fe[1]+xe)]})}(E.positions,v,T),C=E.edges,O=v.orientation==="ccw";if(r(A,C),v.polygons||v.polygon||v.polyline){for(var P=u(C,A),D=new Array(P.length),z=0;z<P.length;++z){for(var V=P[z],F=new Array(V.length),W=0;W<V.length;++W){for(var B=V[W],U=new Array(B.length),H=0;H<B.length;++H)U[H]=A[B[H]].slice();O&&U.reverse(),F[W]=U}D[z]=F}return D}return v.triangles||v.triangulate||v.triangle?{cells:i(A,C,{delaunay:!1,exterior:!1,interior:!0}),positions:A}:{edges:C,positions:A}}function x(g,v,T){try{return d(g,v,T,!0)}catch{}try{return d(g,v,T,!1)}catch{}return v.polygons||v.polyline||v.polygon?[]:v.triangles||v.triangulate||v.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(f){(function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=v);var l=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var s=new t,o=Object.freeze({});if(s.set(o,1),s.get(o)===1)return void(f.exports=WeakMap);l=!0}}var n=Object.getOwnPropertyNames,r=Object.defineProperty,i=Object.isExtensible,u="weakmap:",p="weakmap:ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),_=new Uint8Array(h);crypto.getRandomValues(_),p="weakmap:rand:"+Array.prototype.map.call(_,function(C){return(C%36).toString(36)}).join("")+"___"}if(r(Object,"getOwnPropertyNames",{value:function(C){return n(C).filter(T)}}),"getPropertyNames"in Object){var m=Object.getPropertyNames;r(Object,"getPropertyNames",{value:function(C){return m(C).filter(T)}})}(function(){var C=Object.freeze;r(Object,"freeze",{value:function(D){return c(D),C(D)}});var O=Object.seal;r(Object,"seal",{value:function(D){return c(D),O(D)}});var P=Object.preventExtensions;r(Object,"preventExtensions",{value:function(D){return c(D),P(D)}})})();var d=!1,x=0,g=function(){this instanceof g||A();var C=[],O=[],P=x++;return Object.create(g.prototype,{get___:{value:E(function(D,z){var V,F=c(D);return F?P in F?F[P]:z:(V=C.indexOf(D))>=0?O[V]:z})},has___:{value:E(function(D){var z=c(D);return z?P in z:C.indexOf(D)>=0})},set___:{value:E(function(D,z){var V,F=c(D);return F?F[P]=z:(V=C.indexOf(D))>=0?O[V]=z:(V=C.length,O[V]=z,C[V]=D),this})},delete___:{value:E(function(D){var z,V,F=c(D);return F?P in F&&delete F[P]:!((z=C.indexOf(D))<0||(V=C.length-1,C[z]=void 0,O[z]=O[V],C[z]=C[V],C.length=V,O.length=V,0))})}})};g.prototype=Object.create(Object.prototype,{get:{value:function(C,O){return this.get___(C,O)},writable:!0,configurable:!0},has:{value:function(C){return this.has___(C)},writable:!0,configurable:!0},set:{value:function(C,O){return this.set___(C,O)},writable:!0,configurable:!0},delete:{value:function(C){return this.delete___(C)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function C(){this instanceof g||A();var O,P=new t,D=void 0,z=!1;return O=l?function(V,F){return P.set(V,F),P.has(V)||(D||(D=new g),D.set(V,F)),this}:function(V,F){if(z)try{P.set(V,F)}catch{D||(D=new g),D.set___(V,F)}else P.set(V,F);return this},Object.create(g.prototype,{get___:{value:E(function(V,F){return D?P.has(V)?P.get(V):D.get___(V,F):P.get(V,F)})},has___:{value:E(function(V){return P.has(V)||!!D&&D.has___(V)})},set___:{value:E(O)},delete___:{value:E(function(V){var F=!!P.delete(V);return D&&D.delete___(V)||F})},permitHostObjects___:{value:E(function(V){if(V!==v)throw new Error("bogus call to permitHostObjects___");z=!0})}})}l&&typeof Proxy<"u"&&(Proxy=void 0),C.prototype=g.prototype,f.exports=C,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),f.exports=g)}function v(C){C.permitHostObjects___&&C.permitHostObjects___(v)}function T(C){return!(C.substr(0,u.length)==u&&C.substr(C.length-3)==="___")}function c(C){if(C!==Object(C))throw new TypeError("Not an object: "+C);var O=C[p];if(O&&O.key===C)return O;if(i(C)){O={key:C};try{return r(C,p,{value:O,writable:!1,enumerable:!1,configurable:!1}),O}catch{return}}}function E(C){return C.prototype=null,Object.freeze(C)}function A(){d||typeof console>"u"||(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},9222:function(f,l,t){var s=t(7178);f.exports=function(){var o={};return function(n){if((typeof n!="object"||n===null)&&typeof n!="function")throw new Error("Weakmap-shim: Key must be object");var r=n.valueOf(o);return r&&r.identity===o?r:s(n,o)}}},7178:function(f){f.exports=function(l,t){var s={identity:t},o=l.valueOf;return Object.defineProperty(l,"valueOf",{value:function(n){return n!==t?o.apply(this,arguments):s},writable:!0}),s}},4037:function(f,l,t){var s=t(9222);f.exports=function(){var o=s();return{get:function(n,r){var i=o(n);return i.hasOwnProperty("value")?i.value:r},set:function(n,r){return o(n).value=r,this},has:function(n){return"value"in o(n)},delete:function(n){return delete o(n).value}}}},6183:function(f){"use strict";f.exports=function(l){var t={};return function(s,o,n){var r=s.dtype,i=s.order,u=[r,i.join()].join(),p=t[u];return p||(t[u]=p=l([r,i])),p(s.shape.slice(0),s.data,s.stride,0|s.offset,o,n)}}(function(){return function(l,t,s,o,n,r){var i=l[0],u=s[0],p=[0],h=u;o|=0;var _=0,m=u;for(_=0;_<i;++_){var d=t[o]-r,x=t[o+h]-r;d>=0!=x>=0&&n.push(p[0]+.5+.5*(d+x)/(d-x)),o+=m,++p[0]}}}.bind(void 0,{funcName:"zeroCrossings"}))},9584:function(f,l,t){"use strict";f.exports=function(o,n){var r=[];return n=+n||0,s(o.hi(o.shape[0]-1),r,n),r};var s=t(6183)},6601:function(){}},k={};function y(f){var l=k[f];if(l!==void 0)return l.exports;var t=k[f]={id:f,loaded:!1,exports:{}};return a[f].call(t.exports,t,t.exports,y),t.loaded=!0,t.exports}return y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),y.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f},y(7386)}()},L.exports=b()},12856:function(L,M,e){"use strict";function b(te,ue){if(!(te instanceof ue))throw new TypeError("Cannot call a class as a function")}function w(te,ue){for(var ge=0;ge<ue.length;ge++){var we=ue[ge];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(te,we.key,we)}}function a(te,ue){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ge,we){return ge.__proto__=we,ge},a(te,ue)}function k(te,ue){if(ue&&(l(ue)==="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(te)}function y(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function f(te){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},f(te)}function l(te){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},l(te)}var t=e(95341),s=e(95280),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;M.Buffer=i,M.SlowBuffer=function(te){return+te!=te&&(te=0),i.alloc(+te)},M.INSPECT_MAX_BYTES=50;var n=2147483647;function r(te){if(te>n)throw new RangeError('The value "'+te+'" is invalid for option "size"');var ue=new Uint8Array(te);return Object.setPrototypeOf(ue,i.prototype),ue}function i(te,ue,ge){if(typeof te=="number"){if(typeof ue=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(te)}return u(te,ue,ge)}function u(te,ue,ge){if(typeof te=="string")return function(Be,Re){if(typeof Re=="string"&&Re!==""||(Re="utf8"),!i.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);var je=0|x(Be,Re),he=r(je),_e=he.write(Be,Re);return _e!==je&&(he=he.slice(0,_e)),he}(te,ue);if(ArrayBuffer.isView(te))return function(Be){if(Le(Be,Uint8Array)){var Re=new Uint8Array(Be);return m(Re.buffer,Re.byteOffset,Re.byteLength)}return _(Be)}(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(te));if(Le(te,ArrayBuffer)||te&&Le(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(te,SharedArrayBuffer)||te&&Le(te.buffer,SharedArrayBuffer)))return m(te,ue,ge);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var we=te.valueOf&&te.valueOf();if(we!=null&&we!==te)return i.from(we,ue,ge);var Ee=function(Be){if(i.isBuffer(Be)){var Re=0|d(Be.length),je=r(Re);return je.length===0||Be.copy(je,0,0,Re),je}return Be.length!==void 0?typeof Be.length!="number"||ye(Be.length)?r(0):_(Be):Be.type==="Buffer"&&Array.isArray(Be.data)?_(Be.data):void 0}(te);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return i.from(te[Symbol.toPrimitive]("string"),ue,ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(te))}function p(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function h(te){return p(te),r(te<0?0:0|d(te))}function _(te){for(var ue=te.length<0?0:0|d(te.length),ge=r(ue),we=0;we<ue;we+=1)ge[we]=255&te[we];return ge}function m(te,ue,ge){if(ue<0||te.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<ue+(ge||0))throw new RangeError('"length" is outside of buffer bounds');var we;return we=ue===void 0&&ge===void 0?new Uint8Array(te):ge===void 0?new Uint8Array(te,ue):new Uint8Array(te,ue,ge),Object.setPrototypeOf(we,i.prototype),we}function d(te){if(te>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|te}function x(te,ue){if(i.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||Le(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(te));var ge=te.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&ge===0)return 0;for(var Ee=!1;;)switch(ue){case"ascii":case"latin1":case"binary":return ge;case"utf8":case"utf-8":return ve(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ge;case"hex":return ge>>>1;case"base64":return fe(te).length;default:if(Ee)return we?-1:ve(te).length;ue=(""+ue).toLowerCase(),Ee=!0}}function g(te,ue,ge){var we=!1;if((ue===void 0||ue<0)&&(ue=0),ue>this.length||((ge===void 0||ge>this.length)&&(ge=this.length),ge<=0)||(ge>>>=0)<=(ue>>>=0))return"";for(te||(te="utf8");;)switch(te){case"hex":return B(this,ue,ge);case"utf8":case"utf-8":return z(this,ue,ge);case"ascii":return F(this,ue,ge);case"latin1":case"binary":return W(this,ue,ge);case"base64":return D(this,ue,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,ue,ge);default:if(we)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),we=!0}}function v(te,ue,ge){var we=te[ue];te[ue]=te[ge],te[ge]=we}function T(te,ue,ge,we,Ee){if(te.length===0)return-1;if(typeof ge=="string"?(we=ge,ge=0):ge>2147483647?ge=2147483647:ge<-2147483648&&(ge=-2147483648),ye(ge=+ge)&&(ge=Ee?0:te.length-1),ge<0&&(ge=te.length+ge),ge>=te.length){if(Ee)return-1;ge=te.length-1}else if(ge<0){if(!Ee)return-1;ge=0}if(typeof ue=="string"&&(ue=i.from(ue,we)),i.isBuffer(ue))return ue.length===0?-1:c(te,ue,ge,we,Ee);if(typeof ue=="number")return ue&=255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(te,ue,ge):Uint8Array.prototype.lastIndexOf.call(te,ue,ge):c(te,[ue],ge,we,Ee);throw new TypeError("val must be string, number or Buffer")}function c(te,ue,ge,we,Ee){var Be,Re=1,je=te.length,he=ue.length;if(we!==void 0&&((we=String(we).toLowerCase())==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(te.length<2||ue.length<2)return-1;Re=2,je/=2,he/=2,ge/=2}function _e(Ge,ot){return Re===1?Ge[ot]:Ge.readUInt16BE(ot*Re)}if(Ee){var Te=-1;for(Be=ge;Be<je;Be++)if(_e(te,Be)===_e(ue,Te===-1?0:Be-Te)){if(Te===-1&&(Te=Be),Be-Te+1===he)return Te*Re}else Te!==-1&&(Be-=Be-Te),Te=-1}else for(ge+he>je&&(ge=je-he),Be=ge;Be>=0;Be--){for(var Fe=!0,Ye=0;Ye<he;Ye++)if(_e(te,Be+Ye)!==_e(ue,Ye)){Fe=!1;break}if(Fe)return Be}return-1}function E(te,ue,ge,we){ge=Number(ge)||0;var Ee=te.length-ge;we?(we=Number(we))>Ee&&(we=Ee):we=Ee;var Be,Re=ue.length;for(we>Re/2&&(we=Re/2),Be=0;Be<we;++Be){var je=parseInt(ue.substr(2*Be,2),16);if(ye(je))return Be;te[ge+Be]=je}return Be}function A(te,ue,ge,we){return pe(ve(ue,te.length-ge),te,ge,we)}function C(te,ue,ge,we){return pe(function(Ee){for(var Be=[],Re=0;Re<Ee.length;++Re)Be.push(255&Ee.charCodeAt(Re));return Be}(ue),te,ge,we)}function O(te,ue,ge,we){return pe(fe(ue),te,ge,we)}function P(te,ue,ge,we){return pe(function(Ee,Be){for(var Re,je,he,_e=[],Te=0;Te<Ee.length&&!((Be-=2)<0);++Te)je=(Re=Ee.charCodeAt(Te))>>8,he=Re%256,_e.push(he),_e.push(je);return _e}(ue,te.length-ge),te,ge,we)}function D(te,ue,ge){return ue===0&&ge===te.length?t.fromByteArray(te):t.fromByteArray(te.slice(ue,ge))}function z(te,ue,ge){ge=Math.min(te.length,ge);for(var we=[],Ee=ue;Ee<ge;){var Be=te[Ee],Re=null,je=Be>239?4:Be>223?3:Be>191?2:1;if(Ee+je<=ge){var he=void 0,_e=void 0,Te=void 0,Fe=void 0;switch(je){case 1:Be<128&&(Re=Be);break;case 2:(192&(he=te[Ee+1]))==128&&(Fe=(31&Be)<<6|63&he)>127&&(Re=Fe);break;case 3:he=te[Ee+1],_e=te[Ee+2],(192&he)==128&&(192&_e)==128&&(Fe=(15&Be)<<12|(63&he)<<6|63&_e)>2047&&(Fe<55296||Fe>57343)&&(Re=Fe);break;case 4:he=te[Ee+1],_e=te[Ee+2],Te=te[Ee+3],(192&he)==128&&(192&_e)==128&&(192&Te)==128&&(Fe=(15&Be)<<18|(63&he)<<12|(63&_e)<<6|63&Te)>65535&&Fe<1114112&&(Re=Fe)}}Re===null?(Re=65533,je=1):Re>65535&&(Re-=65536,we.push(Re>>>10&1023|55296),Re=56320|1023&Re),we.push(Re),Ee+=je}return function(Ye){var Ge=Ye.length;if(Ge<=V)return String.fromCharCode.apply(String,Ye);for(var ot="",st=0;st<Ge;)ot+=String.fromCharCode.apply(String,Ye.slice(st,st+=V));return ot}(we)}M.kMaxLength=n,i.TYPED_ARRAY_SUPPORT=function(){try{var te=new Uint8Array(1),ue={foo:function(){return 42}};return Object.setPrototypeOf(ue,Uint8Array.prototype),Object.setPrototypeOf(te,ue),te.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(te,ue,ge){return u(te,ue,ge)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(te,ue,ge){return function(we,Ee,Be){return p(we),we<=0?r(we):Ee!==void 0?typeof Be=="string"?r(we).fill(Ee,Be):r(we).fill(Ee):r(we)}(te,ue,ge)},i.allocUnsafe=function(te){return h(te)},i.allocUnsafeSlow=function(te){return h(te)},i.isBuffer=function(te){return te!=null&&te._isBuffer===!0&&te!==i.prototype},i.compare=function(te,ue){if(Le(te,Uint8Array)&&(te=i.from(te,te.offset,te.byteLength)),Le(ue,Uint8Array)&&(ue=i.from(ue,ue.offset,ue.byteLength)),!i.isBuffer(te)||!i.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===ue)return 0;for(var ge=te.length,we=ue.length,Ee=0,Be=Math.min(ge,we);Ee<Be;++Ee)if(te[Ee]!==ue[Ee]){ge=te[Ee],we=ue[Ee];break}return ge<we?-1:we<ge?1:0},i.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(te,ue){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(te.length===0)return i.alloc(0);var ge;if(ue===void 0)for(ue=0,ge=0;ge<te.length;++ge)ue+=te[ge].length;var we=i.allocUnsafe(ue),Ee=0;for(ge=0;ge<te.length;++ge){var Be=te[ge];if(Le(Be,Uint8Array))Ee+Be.length>we.length?(i.isBuffer(Be)||(Be=i.from(Be)),Be.copy(we,Ee)):Uint8Array.prototype.set.call(we,Be,Ee);else{if(!i.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(we,Ee)}Ee+=Be.length}return we},i.byteLength=x,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ue=0;ue<te;ue+=2)v(this,ue,ue+1);return this},i.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ue=0;ue<te;ue+=4)v(this,ue,ue+3),v(this,ue+1,ue+2);return this},i.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ue=0;ue<te;ue+=8)v(this,ue,ue+7),v(this,ue+1,ue+6),v(this,ue+2,ue+5),v(this,ue+3,ue+4);return this},i.prototype.toString=function(){var te=this.length;return te===0?"":arguments.length===0?z(this,0,te):g.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(te){if(!i.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||i.compare(this,te)===0},i.prototype.inspect=function(){var te="",ue=M.INSPECT_MAX_BYTES;return te=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(te+=" ... "),"<Buffer "+te+">"},o&&(i.prototype[o]=i.prototype.inspect),i.prototype.compare=function(te,ue,ge,we,Ee){if(Le(te,Uint8Array)&&(te=i.from(te,te.offset,te.byteLength)),!i.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(te));if(ue===void 0&&(ue=0),ge===void 0&&(ge=te?te.length:0),we===void 0&&(we=0),Ee===void 0&&(Ee=this.length),ue<0||ge>te.length||we<0||Ee>this.length)throw new RangeError("out of range index");if(we>=Ee&&ue>=ge)return 0;if(we>=Ee)return-1;if(ue>=ge)return 1;if(this===te)return 0;for(var Be=(Ee>>>=0)-(we>>>=0),Re=(ge>>>=0)-(ue>>>=0),je=Math.min(Be,Re),he=this.slice(we,Ee),_e=te.slice(ue,ge),Te=0;Te<je;++Te)if(he[Te]!==_e[Te]){Be=he[Te],Re=_e[Te];break}return Be<Re?-1:Re<Be?1:0},i.prototype.includes=function(te,ue,ge){return this.indexOf(te,ue,ge)!==-1},i.prototype.indexOf=function(te,ue,ge){return T(this,te,ue,ge,!0)},i.prototype.lastIndexOf=function(te,ue,ge){return T(this,te,ue,ge,!1)},i.prototype.write=function(te,ue,ge,we){if(ue===void 0)we="utf8",ge=this.length,ue=0;else if(ge===void 0&&typeof ue=="string")we=ue,ge=this.length,ue=0;else{if(!isFinite(ue))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ue>>>=0,isFinite(ge)?(ge>>>=0,we===void 0&&(we="utf8")):(we=ge,ge=void 0)}var Ee=this.length-ue;if((ge===void 0||ge>Ee)&&(ge=Ee),te.length>0&&(ge<0||ue<0)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");for(var Be=!1;;)switch(we){case"hex":return E(this,te,ue,ge);case"utf8":case"utf-8":return A(this,te,ue,ge);case"ascii":case"latin1":case"binary":return C(this,te,ue,ge);case"base64":return O(this,te,ue,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,te,ue,ge);default:if(Be)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Be=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function F(te,ue,ge){var we="";ge=Math.min(te.length,ge);for(var Ee=ue;Ee<ge;++Ee)we+=String.fromCharCode(127&te[Ee]);return we}function W(te,ue,ge){var we="";ge=Math.min(te.length,ge);for(var Ee=ue;Ee<ge;++Ee)we+=String.fromCharCode(te[Ee]);return we}function B(te,ue,ge){var we=te.length;(!ue||ue<0)&&(ue=0),(!ge||ge<0||ge>we)&&(ge=we);for(var Ee="",Be=ue;Be<ge;++Be)Ee+=Ae[te[Be]];return Ee}function U(te,ue,ge){for(var we=te.slice(ue,ge),Ee="",Be=0;Be<we.length-1;Be+=2)Ee+=String.fromCharCode(we[Be]+256*we[Be+1]);return Ee}function H(te,ue,ge){if(te%1!=0||te<0)throw new RangeError("offset is not uint");if(te+ue>ge)throw new RangeError("Trying to access beyond buffer length")}function q(te,ue,ge,we,Ee,Be){if(!i.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue>Ee||ue<Be)throw new RangeError('"value" argument is out of bounds');if(ge+we>te.length)throw new RangeError("Index out of range")}function ee(te,ue,ge,we,Ee){se(ue,we,Ee,te,ge,7);var Be=Number(ue&BigInt(4294967295));te[ge++]=Be,Be>>=8,te[ge++]=Be,Be>>=8,te[ge++]=Be,Be>>=8,te[ge++]=Be;var Re=Number(ue>>BigInt(32)&BigInt(4294967295));return te[ge++]=Re,Re>>=8,te[ge++]=Re,Re>>=8,te[ge++]=Re,Re>>=8,te[ge++]=Re,ge}function K(te,ue,ge,we,Ee){se(ue,we,Ee,te,ge,7);var Be=Number(ue&BigInt(4294967295));te[ge+7]=Be,Be>>=8,te[ge+6]=Be,Be>>=8,te[ge+5]=Be,Be>>=8,te[ge+4]=Be;var Re=Number(ue>>BigInt(32)&BigInt(4294967295));return te[ge+3]=Re,Re>>=8,te[ge+2]=Re,Re>>=8,te[ge+1]=Re,Re>>=8,te[ge]=Re,ge+8}function J(te,ue,ge,we,Ee,Be){if(ge+we>te.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("Index out of range")}function Z(te,ue,ge,we,Ee){return ue=+ue,ge>>>=0,Ee||J(te,0,ge,4),s.write(te,ue,ge,we,23,4),ge+4}function $(te,ue,ge,we,Ee){return ue=+ue,ge>>>=0,Ee||J(te,0,ge,8),s.write(te,ue,ge,we,52,8),ge+8}i.prototype.slice=function(te,ue){var ge=this.length;(te=~~te)<0?(te+=ge)<0&&(te=0):te>ge&&(te=ge),(ue=ue===void 0?ge:~~ue)<0?(ue+=ge)<0&&(ue=0):ue>ge&&(ue=ge),ue<te&&(ue=te);var we=this.subarray(te,ue);return Object.setPrototypeOf(we,i.prototype),we},i.prototype.readUintLE=i.prototype.readUIntLE=function(te,ue,ge){te>>>=0,ue>>>=0,ge||H(te,ue,this.length);for(var we=this[te],Ee=1,Be=0;++Be<ue&&(Ee*=256);)we+=this[te+Be]*Ee;return we},i.prototype.readUintBE=i.prototype.readUIntBE=function(te,ue,ge){te>>>=0,ue>>>=0,ge||H(te,ue,this.length);for(var we=this[te+--ue],Ee=1;ue>0&&(Ee*=256);)we+=this[te+--ue]*Ee;return we},i.prototype.readUint8=i.prototype.readUInt8=function(te,ue){return te>>>=0,ue||H(te,1,this.length),this[te]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(te,ue){return te>>>=0,ue||H(te,2,this.length),this[te]|this[te+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(te,ue){return te>>>=0,ue||H(te,2,this.length),this[te]<<8|this[te+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(te,ue){return te>>>=0,ue||H(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(te,ue){return te>>>=0,ue||H(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},i.prototype.readBigUInt64LE=Me(function(te){ce(te>>>=0,"offset");var ue=this[te],ge=this[te+7];ue!==void 0&&ge!==void 0||me(te,this.length-8);var we=ue+this[++te]*Math.pow(2,8)+this[++te]*Math.pow(2,16)+this[++te]*Math.pow(2,24),Ee=this[++te]+this[++te]*Math.pow(2,8)+this[++te]*Math.pow(2,16)+ge*Math.pow(2,24);return BigInt(we)+(BigInt(Ee)<<BigInt(32))}),i.prototype.readBigUInt64BE=Me(function(te){ce(te>>>=0,"offset");var ue=this[te],ge=this[te+7];ue!==void 0&&ge!==void 0||me(te,this.length-8);var we=ue*Math.pow(2,24)+this[++te]*Math.pow(2,16)+this[++te]*Math.pow(2,8)+this[++te],Ee=this[++te]*Math.pow(2,24)+this[++te]*Math.pow(2,16)+this[++te]*Math.pow(2,8)+ge;return(BigInt(we)<<BigInt(32))+BigInt(Ee)}),i.prototype.readIntLE=function(te,ue,ge){te>>>=0,ue>>>=0,ge||H(te,ue,this.length);for(var we=this[te],Ee=1,Be=0;++Be<ue&&(Ee*=256);)we+=this[te+Be]*Ee;return we>=(Ee*=128)&&(we-=Math.pow(2,8*ue)),we},i.prototype.readIntBE=function(te,ue,ge){te>>>=0,ue>>>=0,ge||H(te,ue,this.length);for(var we=ue,Ee=1,Be=this[te+--we];we>0&&(Ee*=256);)Be+=this[te+--we]*Ee;return Be>=(Ee*=128)&&(Be-=Math.pow(2,8*ue)),Be},i.prototype.readInt8=function(te,ue){return te>>>=0,ue||H(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},i.prototype.readInt16LE=function(te,ue){te>>>=0,ue||H(te,2,this.length);var ge=this[te]|this[te+1]<<8;return 32768&ge?4294901760|ge:ge},i.prototype.readInt16BE=function(te,ue){te>>>=0,ue||H(te,2,this.length);var ge=this[te+1]|this[te]<<8;return 32768&ge?4294901760|ge:ge},i.prototype.readInt32LE=function(te,ue){return te>>>=0,ue||H(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},i.prototype.readInt32BE=function(te,ue){return te>>>=0,ue||H(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},i.prototype.readBigInt64LE=Me(function(te){ce(te>>>=0,"offset");var ue=this[te],ge=this[te+7];ue!==void 0&&ge!==void 0||me(te,this.length-8);var we=this[te+4]+this[te+5]*Math.pow(2,8)+this[te+6]*Math.pow(2,16)+(ge<<24);return(BigInt(we)<<BigInt(32))+BigInt(ue+this[++te]*Math.pow(2,8)+this[++te]*Math.pow(2,16)+this[++te]*Math.pow(2,24))}),i.prototype.readBigInt64BE=Me(function(te){ce(te>>>=0,"offset");var ue=this[te],ge=this[te+7];ue!==void 0&&ge!==void 0||me(te,this.length-8);var we=(ue<<24)+this[++te]*Math.pow(2,16)+this[++te]*Math.pow(2,8)+this[++te];return(BigInt(we)<<BigInt(32))+BigInt(this[++te]*Math.pow(2,24)+this[++te]*Math.pow(2,16)+this[++te]*Math.pow(2,8)+ge)}),i.prototype.readFloatLE=function(te,ue){return te>>>=0,ue||H(te,4,this.length),s.read(this,te,!0,23,4)},i.prototype.readFloatBE=function(te,ue){return te>>>=0,ue||H(te,4,this.length),s.read(this,te,!1,23,4)},i.prototype.readDoubleLE=function(te,ue){return te>>>=0,ue||H(te,8,this.length),s.read(this,te,!0,52,8)},i.prototype.readDoubleBE=function(te,ue){return te>>>=0,ue||H(te,8,this.length),s.read(this,te,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(te,ue,ge,we){te=+te,ue>>>=0,ge>>>=0,we||q(this,te,ue,ge,Math.pow(2,8*ge)-1,0);var Ee=1,Be=0;for(this[ue]=255&te;++Be<ge&&(Ee*=256);)this[ue+Be]=te/Ee&255;return ue+ge},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(te,ue,ge,we){te=+te,ue>>>=0,ge>>>=0,we||q(this,te,ue,ge,Math.pow(2,8*ge)-1,0);var Ee=ge-1,Be=1;for(this[ue+Ee]=255&te;--Ee>=0&&(Be*=256);)this[ue+Ee]=te/Be&255;return ue+ge},i.prototype.writeUint8=i.prototype.writeUInt8=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,1,255,0),this[ue]=255&te,ue+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,2,65535,0),this[ue]=255&te,this[ue+1]=te>>>8,ue+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,2,65535,0),this[ue]=te>>>8,this[ue+1]=255&te,ue+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,4,4294967295,0),this[ue+3]=te>>>24,this[ue+2]=te>>>16,this[ue+1]=te>>>8,this[ue]=255&te,ue+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,4,4294967295,0),this[ue]=te>>>24,this[ue+1]=te>>>16,this[ue+2]=te>>>8,this[ue+3]=255&te,ue+4},i.prototype.writeBigUInt64LE=Me(function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,te,ue,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=Me(function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return K(this,te,ue,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(te,ue,ge,we){if(te=+te,ue>>>=0,!we){var Ee=Math.pow(2,8*ge-1);q(this,te,ue,ge,Ee-1,-Ee)}var Be=0,Re=1,je=0;for(this[ue]=255&te;++Be<ge&&(Re*=256);)te<0&&je===0&&this[ue+Be-1]!==0&&(je=1),this[ue+Be]=(te/Re>>0)-je&255;return ue+ge},i.prototype.writeIntBE=function(te,ue,ge,we){if(te=+te,ue>>>=0,!we){var Ee=Math.pow(2,8*ge-1);q(this,te,ue,ge,Ee-1,-Ee)}var Be=ge-1,Re=1,je=0;for(this[ue+Be]=255&te;--Be>=0&&(Re*=256);)te<0&&je===0&&this[ue+Be+1]!==0&&(je=1),this[ue+Be]=(te/Re>>0)-je&255;return ue+ge},i.prototype.writeInt8=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,1,127,-128),te<0&&(te=255+te+1),this[ue]=255&te,ue+1},i.prototype.writeInt16LE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,2,32767,-32768),this[ue]=255&te,this[ue+1]=te>>>8,ue+2},i.prototype.writeInt16BE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,2,32767,-32768),this[ue]=te>>>8,this[ue+1]=255&te,ue+2},i.prototype.writeInt32LE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,4,2147483647,-2147483648),this[ue]=255&te,this[ue+1]=te>>>8,this[ue+2]=te>>>16,this[ue+3]=te>>>24,ue+4},i.prototype.writeInt32BE=function(te,ue,ge){return te=+te,ue>>>=0,ge||q(this,te,ue,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),this[ue]=te>>>24,this[ue+1]=te>>>16,this[ue+2]=te>>>8,this[ue+3]=255&te,ue+4},i.prototype.writeBigInt64LE=Me(function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,te,ue,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=Me(function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return K(this,te,ue,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeFloatLE=function(te,ue,ge){return Z(this,te,ue,!0,ge)},i.prototype.writeFloatBE=function(te,ue,ge){return Z(this,te,ue,!1,ge)},i.prototype.writeDoubleLE=function(te,ue,ge){return $(this,te,ue,!0,ge)},i.prototype.writeDoubleBE=function(te,ue,ge){return $(this,te,ue,!1,ge)},i.prototype.copy=function(te,ue,ge,we){if(!i.isBuffer(te))throw new TypeError("argument should be a Buffer");if(ge||(ge=0),we||we===0||(we=this.length),ue>=te.length&&(ue=te.length),ue||(ue=0),we>0&&we<ge&&(we=ge),we===ge||te.length===0||this.length===0)return 0;if(ue<0)throw new RangeError("targetStart out of bounds");if(ge<0||ge>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),te.length-ue<we-ge&&(we=te.length-ue+ge);var Ee=we-ge;return this===te&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ue,ge,we):Uint8Array.prototype.set.call(te,this.subarray(ge,we),ue),Ee},i.prototype.fill=function(te,ue,ge,we){if(typeof te=="string"){if(typeof ue=="string"?(we=ue,ue=0,ge=this.length):typeof ge=="string"&&(we=ge,ge=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!i.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(te.length===1){var Ee=te.charCodeAt(0);(we==="utf8"&&Ee<128||we==="latin1")&&(te=Ee)}}else typeof te=="number"?te&=255:typeof te=="boolean"&&(te=Number(te));if(ue<0||this.length<ue||this.length<ge)throw new RangeError("Out of range index");if(ge<=ue)return this;var Be;if(ue>>>=0,ge=ge===void 0?this.length:ge>>>0,te||(te=0),typeof te=="number")for(Be=ue;Be<ge;++Be)this[Be]=te;else{var Re=i.isBuffer(te)?te:i.from(te,we),je=Re.length;if(je===0)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Be=0;Be<ge-ue;++Be)this[Be+ue]=Re[Be%je]}return this};var ne={};function ae(te,ue,ge){ne[te]=function(we){(function(Te,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Fe&&a(Te,Fe)})(_e,we);var Ee,Be,Re,je,he=(Re=_e,je=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Te,Fe=f(Re);if(je){var Ye=f(this).constructor;Te=Reflect.construct(Fe,arguments,Ye)}else Te=Fe.apply(this,arguments);return k(this,Te)});function _e(){var Te;return b(this,_e),Te=he.call(this),Object.defineProperty(y(Te),"message",{value:ue.apply(y(Te),arguments),writable:!0,configurable:!0}),Te.name="".concat(Te.name," [").concat(te,"]"),Te.stack,delete Te.name,Te}return Ee=_e,(Be=[{key:"code",get:function(){return te},set:function(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(te,"]: ").concat(this.message)}}])&&w(Ee.prototype,Be),Object.defineProperty(Ee,"prototype",{writable:!1}),_e}(ge)}function oe(te){for(var ue="",ge=te.length,we=te[0]==="-"?1:0;ge>=we+4;ge-=3)ue="_".concat(te.slice(ge-3,ge)).concat(ue);return"".concat(te.slice(0,ge)).concat(ue)}function se(te,ue,ge,we,Ee,Be){if(te>ge||te<ue){var Re,je=typeof ue=="bigint"?"n":"";throw Re=Be>3?ue===0||ue===BigInt(0)?">= 0".concat(je," and < 2").concat(je," ** ").concat(8*(Be+1)).concat(je):">= -(2".concat(je," ** ").concat(8*(Be+1)-1).concat(je,") and < 2 ** ")+"".concat(8*(Be+1)-1).concat(je):">= ".concat(ue).concat(je," and <= ").concat(ge).concat(je),new ne.ERR_OUT_OF_RANGE("value",Re,te)}(function(he,_e,Te){ce(_e,"offset"),he[_e]!==void 0&&he[_e+Te]!==void 0||me(_e,he.length-(Te+1))})(we,Ee,Be)}function ce(te,ue){if(typeof te!="number")throw new ne.ERR_INVALID_ARG_TYPE(ue,"number",te)}function me(te,ue,ge){throw Math.floor(te)!==te?(ce(te,ge),new ne.ERR_OUT_OF_RANGE(ge||"offset","an integer",te)):ue<0?new ne.ERR_BUFFER_OUT_OF_BOUNDS:new ne.ERR_OUT_OF_RANGE(ge||"offset",">= ".concat(ge?1:0," and <= ").concat(ue),te)}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?"".concat(te," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(te,ue){return'The "'.concat(te,'" argument must be of type number. Received type ').concat(l(ue))},TypeError),ae("ERR_OUT_OF_RANGE",function(te,ue,ge){var we='The value of "'.concat(te,'" is out of range.'),Ee=ge;return Number.isInteger(ge)&&Math.abs(ge)>Math.pow(2,32)?Ee=oe(String(ge)):typeof ge=="bigint"&&(Ee=String(ge),(ge>Math.pow(BigInt(2),BigInt(32))||ge<-Math.pow(BigInt(2),BigInt(32)))&&(Ee=oe(Ee)),Ee+="n"),we+" It must be ".concat(ue,". Received ").concat(Ee)},RangeError);var xe=/[^+/0-9A-Za-z-_]/g;function ve(te,ue){var ge;ue=ue||1/0;for(var we=te.length,Ee=null,Be=[],Re=0;Re<we;++Re){if((ge=te.charCodeAt(Re))>55295&&ge<57344){if(!Ee){if(ge>56319){(ue-=3)>-1&&Be.push(239,191,189);continue}if(Re+1===we){(ue-=3)>-1&&Be.push(239,191,189);continue}Ee=ge;continue}if(ge<56320){(ue-=3)>-1&&Be.push(239,191,189),Ee=ge;continue}ge=65536+(Ee-55296<<10|ge-56320)}else Ee&&(ue-=3)>-1&&Be.push(239,191,189);if(Ee=null,ge<128){if((ue-=1)<0)break;Be.push(ge)}else if(ge<2048){if((ue-=2)<0)break;Be.push(ge>>6|192,63&ge|128)}else if(ge<65536){if((ue-=3)<0)break;Be.push(ge>>12|224,ge>>6&63|128,63&ge|128)}else{if(!(ge<1114112))throw new Error("Invalid code point");if((ue-=4)<0)break;Be.push(ge>>18|240,ge>>12&63|128,ge>>6&63|128,63&ge|128)}}return Be}function fe(te){return t.toByteArray(function(ue){if((ue=(ue=ue.split("=")[0]).trim().replace(xe,"")).length<2)return"";for(;ue.length%4!=0;)ue+="=";return ue}(te))}function pe(te,ue,ge,we){var Ee;for(Ee=0;Ee<we&&!(Ee+ge>=ue.length||Ee>=te.length);++Ee)ue[Ee+ge]=te[Ee];return Ee}function Le(te,ue){return te instanceof ue||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===ue.name}function ye(te){return te!=te}var Ae=function(){for(var te="0123456789abcdef",ue=new Array(256),ge=0;ge<16;++ge)for(var we=16*ge,Ee=0;Ee<16;++Ee)ue[we+Ee]=te[ge]+te[Ee];return ue}();function Me(te){return typeof BigInt>"u"?ke:te}function ke(){throw new Error("BigInt not supported")}},35791:function(L){"use strict";L.exports=w,L.exports.isMobile=w,L.exports.default=w;var M=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,b=/android|ipad|playbook|silk/i;function w(a){a||(a={});var k=a.ua;if(k||typeof navigator>"u"||(k=navigator.userAgent),k&&k.headers&&typeof k.headers["user-agent"]=="string"&&(k=k.headers["user-agent"]),typeof k!="string")return!1;var y=M.test(k)&&!e.test(k)||!!a.tablet&&b.test(k);return!y&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&k.indexOf("Macintosh")!==-1&&k.indexOf("Safari")!==-1&&(y=!0),y}},86781:function(L,M,e){"use strict";e.r(M),e.d(M,{sankeyCenter:function(){return o},sankeyCircular:function(){return C},sankeyJustify:function(){return s},sankeyLeft:function(){return l},sankeyRight:function(){return t}});var b=e(33064),w=e(15140),a=e(45879),k=e(2502),y=e.n(k);function f(fe){return fe.target.depth}function l(fe){return fe.depth}function t(fe,pe){return pe-1-fe.height}function s(fe,pe){return fe.sourceLinks.length?fe.depth:pe-1}function o(fe){return fe.targetLinks.length?fe.depth:fe.sourceLinks.length?(0,b.VV)(fe.sourceLinks,f)-1:0}function n(fe){return function(){return fe}}var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe};function i(fe,pe){return p(fe.source,pe.source)||fe.index-pe.index}function u(fe,pe){return p(fe.target,pe.target)||fe.index-pe.index}function p(fe,pe){return fe.partOfCycle===pe.partOfCycle?fe.y0-pe.y0:fe.circularLinkType==="top"||pe.circularLinkType==="bottom"?-1:1}function h(fe){return fe.value}function _(fe){return(fe.y0+fe.y1)/2}function m(fe){return _(fe.source)}function d(fe){return _(fe.target)}function x(fe){return fe.index}function g(fe){return fe.nodes}function v(fe){return fe.links}function T(fe,pe){var Le=fe.get(pe);if(!Le)throw new Error("missing: "+pe);return Le}function c(fe,pe){return pe(fe)}var E=25,A=10;function C(){var fe,pe,Le=0,ye=0,Ae=1,Me=1,ke=24,te=x,ue=s,ge=g,we=v,Ee=32,Be=2,Re=null;function je(){var Ge={nodes:ge.apply(null,arguments),links:we.apply(null,arguments)};he(Ge),O(Ge,0,Re),_e(Ge),Te(Ge),P(Ge,te),Fe(Ge,Ee,te),Ye(Ge);for(var ot=4,st=0;st<ot;st++)oe(Ge,Me,te),se(Ge,0,te),ne(Ge,ye,Me,te),oe(Ge,Me,te),se(Ge,0,te);return ve(Ge,ye,Me),W(Ge,Be,Me,te),Ge}function he(Ge){Ge.nodes.forEach(function(st,ht){st.index=ht,st.sourceLinks=[],st.targetLinks=[]});var ot=(0,w.UI)(Ge.nodes,te);return Ge.links.forEach(function(st,ht){st.index=ht;var xt=st.source,Ct=st.target;(xt===void 0?"undefined":r(xt))!=="object"&&(xt=st.source=T(ot,xt)),(Ct===void 0?"undefined":r(Ct))!=="object"&&(Ct=st.target=T(ot,Ct)),xt.sourceLinks.push(st),Ct.targetLinks.push(st)}),Ge}function _e(Ge){Ge.nodes.forEach(function(ot){ot.partOfCycle=!1,ot.value=Math.max((0,b.Sm)(ot.sourceLinks,h),(0,b.Sm)(ot.targetLinks,h)),ot.sourceLinks.forEach(function(st){st.circular&&(ot.partOfCycle=!0,ot.circularLinkType=st.circularLinkType)}),ot.targetLinks.forEach(function(st){st.circular&&(ot.partOfCycle=!0,ot.circularLinkType=st.circularLinkType)})})}function Te(Ge){var ot,st,ht;for(ot=Ge.nodes,st=[],ht=0;ot.length;++ht,ot=st,st=[])ot.forEach(function(xt){xt.depth=ht,xt.sourceLinks.forEach(function(Ct){st.indexOf(Ct.target)<0&&!Ct.circular&&st.push(Ct.target)})});for(ot=Ge.nodes,st=[],ht=0;ot.length;++ht,ot=st,st=[])ot.forEach(function(xt){xt.height=ht,xt.targetLinks.forEach(function(Ct){st.indexOf(Ct.source)<0&&!Ct.circular&&st.push(Ct.source)})});Ge.nodes.forEach(function(xt){xt.column=Math.floor(ue.call(null,xt,ht))})}function Fe(Ge,ot,st){var ht=(0,w.b1)().key(function(Nt){return Nt.column}).sortKeys(b.j2).entries(Ge.nodes).map(function(Nt){return Nt.values});(function(Nt){if(pe){var Dt=1/0;ht.forEach(function(Ke){var $e=Me*pe/(Ke.length+1);Dt=$e<Dt?$e:Dt}),fe=Dt}var Et=(0,b.VV)(ht,function(Ke){return(Me-ye-(Ke.length-1)*fe)/(0,b.Sm)(Ke,h)});Et*=.3,Ge.links.forEach(function(Ke){Ke.width=Ke.value*Et});var Wt=function(Ke){var $e=0,Ue=0,nt=0,ct=0,Oe=(0,b.Fp)(Ke.nodes,function(Ne){return Ne.column});return Ke.links.forEach(function(Ne){Ne.circular&&(Ne.circularLinkType=="top"?$e+=Ne.width:Ue+=Ne.width,Ne.target.column==0&&(ct+=Ne.width),Ne.source.column==Oe&&(nt+=Ne.width))}),{top:$e=$e>0?$e+E+A:$e,bottom:Ue=Ue>0?Ue+E+A:Ue,left:ct=ct>0?ct+E+A:ct,right:nt=nt>0?nt+E+A:nt}}(Ge),Ht=function(Ke,$e){var Ue=(0,b.Fp)(Ke.nodes,function(Qe){return Qe.column}),nt=Ae-Le,ct=Me-ye,Oe=nt/(nt+$e.right+$e.left),Ne=ct/(ct+$e.top+$e.bottom);return Le=Le*Oe+$e.left,Ae=$e.right==0?Ae:Ae*Oe,ye=ye*Ne+$e.top,Me*=Ne,Ke.nodes.forEach(function(Qe){Qe.x0=Le+Qe.column*((Ae-Le-ke)/Ue),Qe.x1=Qe.x0+ke}),Ne}(Ge,Wt);Et*=Ht,Ge.links.forEach(function(Ke){Ke.width=Ke.value*Et}),ht.forEach(function(Ke){var $e=Ke.length;Ke.forEach(function(Ue,nt){Ue.depth==ht.length-1&&$e==1||Ue.depth==0&&$e==1?(Ue.y0=Me/2-Ue.value*Et,Ue.y1=Ue.y0+Ue.value*Et):Ue.partOfCycle?z(Ue,Nt)==0?(Ue.y0=Me/2+nt,Ue.y1=Ue.y0+Ue.value*Et):Ue.circularLinkType=="top"?(Ue.y0=ye+nt,Ue.y1=Ue.y0+Ue.value*Et):(Ue.y0=Me-Ue.value*Et-nt,Ue.y1=Ue.y0+Ue.value*Et):Wt.top==0||Wt.bottom==0?(Ue.y0=(Me-ye)/$e*nt,Ue.y1=Ue.y0+Ue.value*Et):(Ue.y0=(Me-ye)/2-$e/2+nt,Ue.y1=Ue.y0+Ue.value*Et)})})})(st),kt();for(var xt=1,Ct=ot;Ct>0;--Ct)St(xt*=.99,st),kt();function St(Nt,Dt){var Et=ht.length;ht.forEach(function(Wt){var Ht=Wt.length,Ke=Wt[0].depth;Wt.forEach(function($e){var Ue;if(($e.sourceLinks.length||$e.targetLinks.length)&&!($e.partOfCycle&&z($e,Dt)>0))if(Ke==0&&Ht==1)Ue=$e.y1-$e.y0,$e.y0=Me/2-Ue/2,$e.y1=Me/2+Ue/2;else if(Ke==Et-1&&Ht==1)Ue=$e.y1-$e.y0,$e.y0=Me/2-Ue/2,$e.y1=Me/2+Ue/2;else{var nt=(0,b.J6)($e.sourceLinks,d),ct=(0,b.J6)($e.targetLinks,m),Oe=((nt&&ct?(nt+ct)/2:nt||ct)-_($e))*Nt;$e.y0+=Oe,$e.y1+=Oe}})})}function kt(){ht.forEach(function(Nt){var Dt,Et,Wt,Ht=ye,Ke=Nt.length;for(Nt.sort(p),Wt=0;Wt<Ke;++Wt)(Et=Ht-(Dt=Nt[Wt]).y0)>0&&(Dt.y0+=Et,Dt.y1+=Et),Ht=Dt.y1+fe;if((Et=Ht-fe-Me)>0)for(Ht=Dt.y0-=Et,Dt.y1-=Et,Wt=Ke-2;Wt>=0;--Wt)(Et=(Dt=Nt[Wt]).y1+fe-Ht)>0&&(Dt.y0-=Et,Dt.y1-=Et),Ht=Dt.y0})}}function Ye(Ge){Ge.nodes.forEach(function(ot){ot.sourceLinks.sort(u),ot.targetLinks.sort(i)}),Ge.nodes.forEach(function(ot){var st=ot.y0,ht=st,xt=ot.y1,Ct=xt;ot.sourceLinks.forEach(function(St){St.circular?(St.y0=xt-St.width/2,xt-=St.width):(St.y0=st+St.width/2,st+=St.width)}),ot.targetLinks.forEach(function(St){St.circular?(St.y1=Ct-St.width/2,Ct-=St.width):(St.y1=ht+St.width/2,ht+=St.width)})})}return je.nodeId=function(Ge){return arguments.length?(te=typeof Ge=="function"?Ge:n(Ge),je):te},je.nodeAlign=function(Ge){return arguments.length?(ue=typeof Ge=="function"?Ge:n(Ge),je):ue},je.nodeWidth=function(Ge){return arguments.length?(ke=+Ge,je):ke},je.nodePadding=function(Ge){return arguments.length?(fe=+Ge,je):fe},je.nodes=function(Ge){return arguments.length?(ge=typeof Ge=="function"?Ge:n(Ge),je):ge},je.links=function(Ge){return arguments.length?(we=typeof Ge=="function"?Ge:n(Ge),je):we},je.size=function(Ge){return arguments.length?(Le=ye=0,Ae=+Ge[0],Me=+Ge[1],je):[Ae-Le,Me-ye]},je.extent=function(Ge){return arguments.length?(Le=+Ge[0][0],Ae=+Ge[1][0],ye=+Ge[0][1],Me=+Ge[1][1],je):[[Le,ye],[Ae,Me]]},je.iterations=function(Ge){return arguments.length?(Ee=+Ge,je):Ee},je.circularLinkGap=function(Ge){return arguments.length?(Be=+Ge,je):Be},je.nodePaddingRatio=function(Ge){return arguments.length?(pe=+Ge,je):pe},je.sortNodes=function(Ge){return arguments.length?(Re=Ge,je):Re},je.update=function(Ge){return P(Ge,te),Ye(Ge),Ge.links.forEach(function(ot){ot.circular&&(ot.circularLinkType=ot.y0+ot.y1<Me?"top":"bottom",ot.source.circularLinkType=ot.circularLinkType,ot.target.circularLinkType=ot.circularLinkType)}),oe(Ge,Me,te,!1),se(Ge,0,te),W(Ge,Be,Me,te),Ge},je}function O(fe,pe,Le){var ye=0;if(Le===null){for(var Ae=[],Me=0;Me<fe.links.length;Me++){var ke=fe.links[Me],te=ke.source.index,ue=ke.target.index;Ae[te]||(Ae[te]=[]),Ae[ue]||(Ae[ue]=[]),Ae[te].indexOf(ue)===-1&&Ae[te].push(ue)}var ge=y()(Ae);ge.sort(function(Be,Re){return Be.length-Re.length});var we={};for(Me=0;Me<ge.length;Me++){var Ee=ge[Me].slice(-2);we[Ee[0]]||(we[Ee[0]]={}),we[Ee[0]][Ee[1]]=!0}fe.links.forEach(function(Be){var Re=Be.target.index,je=Be.source.index;Re===je||we[je]&&we[je][Re]?(Be.circular=!0,Be.circularLinkID=ye,ye+=1):Be.circular=!1})}else fe.links.forEach(function(Be){Be.source[Le]<Be.target[Le]?Be.circular=!1:(Be.circular=!0,Be.circularLinkID=ye,ye+=1)})}function P(fe,pe){var Le=0,ye=0;fe.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType||Ae.target.circularLinkType?Ae.circularLinkType=Ae.source.circularLinkType?Ae.source.circularLinkType:Ae.target.circularLinkType:Ae.circularLinkType=Le<ye?"top":"bottom",Ae.circularLinkType=="top"?Le+=1:ye+=1,fe.nodes.forEach(function(Me){c(Me,pe)!=c(Ae.source,pe)&&c(Me,pe)!=c(Ae.target,pe)||(Me.circularLinkType=Ae.circularLinkType)}))}),fe.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType==Ae.target.circularLinkType&&(Ae.circularLinkType=Ae.source.circularLinkType),xe(Ae,pe)&&(Ae.circularLinkType=Ae.source.circularLinkType))})}function D(fe){var pe=Math.abs(fe.y1-fe.y0),Le=Math.abs(fe.target.x0-fe.source.x1);return Math.atan(Le/pe)}function z(fe,pe){var Le=0;fe.sourceLinks.forEach(function(Ae){Le=Ae.circular&&!xe(Ae,pe)?Le+1:Le});var ye=0;return fe.targetLinks.forEach(function(Ae){ye=Ae.circular&&!xe(Ae,pe)?ye+1:ye}),Le+ye}function V(fe){var pe=fe.source.sourceLinks,Le=0;pe.forEach(function(Me){Le=Me.circular?Le+1:Le});var ye=fe.target.targetLinks,Ae=0;return ye.forEach(function(Me){Ae=Me.circular?Ae+1:Ae}),!(Le>1||Ae>1)}function F(fe,pe,Le){return fe.sort(B),fe.forEach(function(ye,Ae){var Me,ke,te=0;if(xe(ye,Le)&&V(ye))ye.circularPathData.verticalBuffer=te+ye.width/2;else{for(var ue=0;ue<Ae;ue++)if(Me=fe[Ae],ke=fe[ue],!(Me.source.column<ke.target.column||Me.target.column>ke.source.column)){var ge=fe[ue].circularPathData.verticalBuffer+fe[ue].width/2+pe;te=ge>te?ge:te}ye.circularPathData.verticalBuffer=te+ye.width/2}}),fe}function W(fe,pe,Le,ye){var Ae=(0,b.VV)(fe.links,function(Me){return Me.source.y0});fe.links.forEach(function(Me){Me.circular&&(Me.circularPathData={})}),F(fe.links.filter(function(Me){return Me.circularLinkType=="top"}),pe,ye),F(fe.links.filter(function(Me){return Me.circularLinkType=="bottom"}),pe,ye),fe.links.forEach(function(Me){if(Me.circular){if(Me.circularPathData.arcRadius=Me.width+A,Me.circularPathData.leftNodeBuffer=5,Me.circularPathData.rightNodeBuffer=5,Me.circularPathData.sourceWidth=Me.source.x1-Me.source.x0,Me.circularPathData.sourceX=Me.source.x0+Me.circularPathData.sourceWidth,Me.circularPathData.targetX=Me.target.x0,Me.circularPathData.sourceY=Me.y0,Me.circularPathData.targetY=Me.y1,xe(Me,ye)&&V(Me))Me.circularPathData.leftSmallArcRadius=A+Me.width/2,Me.circularPathData.leftLargeArcRadius=A+Me.width/2,Me.circularPathData.rightSmallArcRadius=A+Me.width/2,Me.circularPathData.rightLargeArcRadius=A+Me.width/2,Me.circularLinkType=="bottom"?(Me.circularPathData.verticalFullExtent=Me.source.y1+E+Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.rightLargeArcRadius):(Me.circularPathData.verticalFullExtent=Me.source.y0-E-Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.rightLargeArcRadius);else{var ke=Me.source.column,te=Me.circularLinkType,ue=fe.links.filter(function(Ee){return Ee.source.column==ke&&Ee.circularLinkType==te});Me.circularLinkType=="bottom"?ue.sort(H):ue.sort(U);var ge=0;ue.forEach(function(Ee,Be){Ee.circularLinkID==Me.circularLinkID&&(Me.circularPathData.leftSmallArcRadius=A+Me.width/2+ge,Me.circularPathData.leftLargeArcRadius=A+Me.width/2+Be*pe+ge),ge+=Ee.width}),ke=Me.target.column,ue=fe.links.filter(function(Ee){return Ee.target.column==ke&&Ee.circularLinkType==te}),Me.circularLinkType=="bottom"?ue.sort(ee):ue.sort(q),ge=0,ue.forEach(function(Ee,Be){Ee.circularLinkID==Me.circularLinkID&&(Me.circularPathData.rightSmallArcRadius=A+Me.width/2+ge,Me.circularPathData.rightLargeArcRadius=A+Me.width/2+Be*pe+ge),ge+=Ee.width}),Me.circularLinkType=="bottom"?(Me.circularPathData.verticalFullExtent=Math.max(Le,Me.source.y1,Me.target.y1)+E+Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.rightLargeArcRadius):(Me.circularPathData.verticalFullExtent=Ae-E-Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.rightLargeArcRadius)}Me.circularPathData.leftInnerExtent=Me.circularPathData.sourceX+Me.circularPathData.leftNodeBuffer,Me.circularPathData.rightInnerExtent=Me.circularPathData.targetX-Me.circularPathData.rightNodeBuffer,Me.circularPathData.leftFullExtent=Me.circularPathData.sourceX+Me.circularPathData.leftLargeArcRadius+Me.circularPathData.leftNodeBuffer,Me.circularPathData.rightFullExtent=Me.circularPathData.targetX-Me.circularPathData.rightLargeArcRadius-Me.circularPathData.rightNodeBuffer}if(Me.circular)Me.path=function(Ee){return Ee.circularLinkType=="top"?"M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY-Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY-Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY:"M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY+Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY+Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY}(Me);else{var we=(0,a.h5)().source(function(Ee){return[Ee.source.x0+(Ee.source.x1-Ee.source.x0),Ee.y0]}).target(function(Ee){return[Ee.target.x0,Ee.y1]});Me.path=we(Me)}})}function B(fe,pe){return K(fe)==K(pe)?fe.circularLinkType=="bottom"?H(fe,pe):U(fe,pe):K(pe)-K(fe)}function U(fe,pe){return fe.y0-pe.y0}function H(fe,pe){return pe.y0-fe.y0}function q(fe,pe){return fe.y1-pe.y1}function ee(fe,pe){return pe.y1-fe.y1}function K(fe){return fe.target.column-fe.source.column}function J(fe){return fe.target.x0-fe.source.x1}function Z(fe,pe){var Le=D(fe),ye=J(pe)/Math.tan(Le);return me(fe)=="up"?fe.y1+ye:fe.y1-ye}function $(fe,pe){var Le=D(fe),ye=J(pe)/Math.tan(Le);return me(fe)=="up"?fe.y1-ye:fe.y1+ye}function ne(fe,pe,Le,ye){fe.links.forEach(function(Ae){if(!Ae.circular&&Ae.target.column-Ae.source.column>1){var Me=Ae.source.column+1,ke=Ae.target.column-1,te=1,ue=ke-Me+1;for(te=1;Me<=ke;Me++,te++)fe.nodes.forEach(function(ge){if(ge.column==Me){var we,Ee=te/(ue+1),Be=Math.pow(1-Ee,3),Re=3*Ee*Math.pow(1-Ee,2),je=3*Math.pow(Ee,2)*(1-Ee),he=Math.pow(Ee,3),_e=Be*Ae.y0+Re*Ae.y0+je*Ae.y1+he*Ae.y1,Te=_e-Ae.width/2,Fe=_e+Ae.width/2;Te>ge.y0&&Te<ge.y1?(we=ge.y1-Te+10,we=ge.circularLinkType=="bottom"?we:-we,ge=ae(ge,we,pe,Le),fe.nodes.forEach(function(Ye){var Ge,ot;c(Ye,ye)!=c(ge,ye)&&Ye.column==ge.column&&(ot=Ye,(Ge=ge).y0>ot.y0&&Ge.y0<ot.y1||Ge.y1>ot.y0&&Ge.y1<ot.y1||Ge.y0<ot.y0&&Ge.y1>ot.y1)&&ae(Ye,we,pe,Le)})):(Fe>ge.y0&&Fe<ge.y1||Te<ge.y0&&Fe>ge.y1)&&(we=Fe-ge.y0+10,ge=ae(ge,we,pe,Le),fe.nodes.forEach(function(Ye){c(Ye,ye)!=c(ge,ye)&&Ye.column==ge.column&&Ye.y0<ge.y1&&Ye.y1>ge.y1&&ae(Ye,we,pe,Le)}))}})}})}function ae(fe,pe,Le,ye){return fe.y0+pe>=Le&&fe.y1+pe<=ye&&(fe.y0=fe.y0+pe,fe.y1=fe.y1+pe,fe.targetLinks.forEach(function(Ae){Ae.y1=Ae.y1+pe}),fe.sourceLinks.forEach(function(Ae){Ae.y0=Ae.y0+pe})),fe}function oe(fe,pe,Le,ye){fe.nodes.forEach(function(Ae){ye&&Ae.y+(Ae.y1-Ae.y0)>pe&&(Ae.y=Ae.y-(Ae.y+(Ae.y1-Ae.y0)-pe));var Me=fe.links.filter(function(ue){return c(ue.source,Le)==c(Ae,Le)}),ke=Me.length;ke>1&&Me.sort(function(ue,ge){if(!ue.circular&&!ge.circular){if(ue.target.column==ge.target.column||!ce(ue,ge))return ue.y1-ge.y1;if(ue.target.column>ge.target.column){var we=$(ge,ue);return ue.y1-we}if(ge.target.column>ue.target.column)return $(ue,ge)-ge.y1}return ue.circular&&!ge.circular?ue.circularLinkType=="top"?-1:1:ge.circular&&!ue.circular?ge.circularLinkType=="top"?1:-1:ue.circular&&ge.circular?ue.circularLinkType===ge.circularLinkType&&ue.circularLinkType=="top"?ue.target.column===ge.target.column?ue.target.y1-ge.target.y1:ge.target.column-ue.target.column:ue.circularLinkType===ge.circularLinkType&&ue.circularLinkType=="bottom"?ue.target.column===ge.target.column?ge.target.y1-ue.target.y1:ue.target.column-ge.target.column:ue.circularLinkType=="top"?-1:1:void 0});var te=Ae.y0;Me.forEach(function(ue){ue.y0=te+ue.width/2,te+=ue.width}),Me.forEach(function(ue,ge){if(ue.circularLinkType=="bottom"){for(var we=ge+1,Ee=0;we<ke;we++)Ee+=Me[we].width;ue.y0=Ae.y1-Ee-ue.width/2}})})}function se(fe,pe,Le){fe.nodes.forEach(function(ye){var Ae=fe.links.filter(function(te){return c(te.target,Le)==c(ye,Le)}),Me=Ae.length;Me>1&&Ae.sort(function(te,ue){if(!te.circular&&!ue.circular){if(te.source.column==ue.source.column||!ce(te,ue))return te.y0-ue.y0;if(ue.source.column<te.source.column){var ge=Z(ue,te);return te.y0-ge}if(te.source.column<ue.source.column)return Z(te,ue)-ue.y0}return te.circular&&!ue.circular?te.circularLinkType=="top"?-1:1:ue.circular&&!te.circular?ue.circularLinkType=="top"?1:-1:te.circular&&ue.circular?te.circularLinkType===ue.circularLinkType&&te.circularLinkType=="top"?te.source.column===ue.source.column?te.source.y1-ue.source.y1:te.source.column-ue.source.column:te.circularLinkType===ue.circularLinkType&&te.circularLinkType=="bottom"?te.source.column===ue.source.column?te.source.y1-ue.source.y1:ue.source.column-te.source.column:te.circularLinkType=="top"?-1:1:void 0});var ke=ye.y0;Ae.forEach(function(te){te.y1=ke+te.width/2,ke+=te.width}),Ae.forEach(function(te,ue){if(te.circularLinkType=="bottom"){for(var ge=ue+1,we=0;ge<Me;ge++)we+=Ae[ge].width;te.y1=ye.y1-we-te.width/2}})})}function ce(fe,pe){return me(fe)==me(pe)}function me(fe){return fe.y0-fe.y1>0?"up":"down"}function xe(fe,pe){return c(fe.source,pe)==c(fe.target,pe)}function ve(fe,pe,Le){var ye=fe.nodes,Ae=fe.links,Me=!1,ke=!1;if(Ae.forEach(function(ge){ge.circularLinkType=="top"?Me=!0:ge.circularLinkType=="bottom"&&(ke=!0)}),Me==0||ke==0){var te=(0,b.VV)(ye,function(ge){return ge.y0}),ue=(Le-pe)/((0,b.Fp)(ye,function(ge){return ge.y1})-te);ye.forEach(function(ge){var we=(ge.y1-ge.y0)*ue;ge.y0=(ge.y0-te)*ue,ge.y1=ge.y0+we}),Ae.forEach(function(ge){ge.y0=(ge.y0-te)*ue,ge.y1=(ge.y1-te)*ue,ge.width=ge.width*ue})}}},30838:function(L,M,e){"use strict";e.r(M),e.d(M,{sankey:function(){return x},sankeyCenter:function(){return l},sankeyJustify:function(){return f},sankeyLeft:function(){return k},sankeyLinkHorizontal:function(){return c},sankeyRight:function(){return y}});var b=e(33064),w=e(15140);function a(E){return E.target.depth}function k(E){return E.depth}function y(E,A){return A-1-E.height}function f(E,A){return E.sourceLinks.length?E.depth:A-1}function l(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,b.VV)(E.sourceLinks,a)-1:0}function t(E){return function(){return E}}function s(E,A){return n(E.source,A.source)||E.index-A.index}function o(E,A){return n(E.target,A.target)||E.index-A.index}function n(E,A){return E.y0-A.y0}function r(E){return E.value}function i(E){return(E.y0+E.y1)/2}function u(E){return i(E.source)*E.value}function p(E){return i(E.target)*E.value}function h(E){return E.index}function _(E){return E.nodes}function m(E){return E.links}function d(E,A){var C=E.get(A);if(!C)throw new Error("missing: "+A);return C}function x(){var E=0,A=0,C=1,O=1,P=24,D=8,z=h,V=f,F=_,W=m,B=32;function U(){var Z={nodes:F.apply(null,arguments),links:W.apply(null,arguments)};return H(Z),q(Z),ee(Z),K(Z),J(Z),Z}function H(Z){Z.nodes.forEach(function(ne,ae){ne.index=ae,ne.sourceLinks=[],ne.targetLinks=[]});var $=(0,w.UI)(Z.nodes,z);Z.links.forEach(function(ne,ae){ne.index=ae;var oe=ne.source,se=ne.target;typeof oe!="object"&&(oe=ne.source=d($,oe)),typeof se!="object"&&(se=ne.target=d($,se)),oe.sourceLinks.push(ne),se.targetLinks.push(ne)})}function q(Z){Z.nodes.forEach(function($){$.value=Math.max((0,b.Sm)($.sourceLinks,r),(0,b.Sm)($.targetLinks,r))})}function ee(Z){var $,ne,ae;for($=Z.nodes,ne=[],ae=0;$.length;++ae,$=ne,ne=[])$.forEach(function(se){se.depth=ae,se.sourceLinks.forEach(function(ce){ne.indexOf(ce.target)<0&&ne.push(ce.target)})});for($=Z.nodes,ne=[],ae=0;$.length;++ae,$=ne,ne=[])$.forEach(function(se){se.height=ae,se.targetLinks.forEach(function(ce){ne.indexOf(ce.source)<0&&ne.push(ce.source)})});var oe=(C-E-P)/(ae-1);Z.nodes.forEach(function(se){se.x1=(se.x0=E+Math.max(0,Math.min(ae-1,Math.floor(V.call(null,se,ae))))*oe)+P})}function K(Z){var $=(0,w.b1)().key(function(me){return me.x0}).sortKeys(b.j2).entries(Z.nodes).map(function(me){return me.values});(function(){var me=(0,b.Fp)($,function(fe){return fe.length}),xe=.6666666666666666*(O-A)/(me-1);D>xe&&(D=xe);var ve=(0,b.VV)($,function(fe){return(O-A-(fe.length-1)*D)/(0,b.Sm)(fe,r)});$.forEach(function(fe){fe.forEach(function(pe,Le){pe.y1=(pe.y0=Le)+pe.value*ve})}),Z.links.forEach(function(fe){fe.width=fe.value*ve})})(),ce();for(var ne=1,ae=B;ae>0;--ae)se(ne*=.99),ce(),oe(ne),ce();function oe(me){$.forEach(function(xe){xe.forEach(function(ve){if(ve.targetLinks.length){var fe=((0,b.Sm)(ve.targetLinks,u)/(0,b.Sm)(ve.targetLinks,r)-i(ve))*me;ve.y0+=fe,ve.y1+=fe}})})}function se(me){$.slice().reverse().forEach(function(xe){xe.forEach(function(ve){if(ve.sourceLinks.length){var fe=((0,b.Sm)(ve.sourceLinks,p)/(0,b.Sm)(ve.sourceLinks,r)-i(ve))*me;ve.y0+=fe,ve.y1+=fe}})})}function ce(){$.forEach(function(me){var xe,ve,fe,pe=A,Le=me.length;for(me.sort(n),fe=0;fe<Le;++fe)(ve=pe-(xe=me[fe]).y0)>0&&(xe.y0+=ve,xe.y1+=ve),pe=xe.y1+D;if((ve=pe-D-O)>0)for(pe=xe.y0-=ve,xe.y1-=ve,fe=Le-2;fe>=0;--fe)(ve=(xe=me[fe]).y1+D-pe)>0&&(xe.y0-=ve,xe.y1-=ve),pe=xe.y0})}}function J(Z){Z.nodes.forEach(function($){$.sourceLinks.sort(o),$.targetLinks.sort(s)}),Z.nodes.forEach(function($){var ne=$.y0,ae=ne;$.sourceLinks.forEach(function(oe){oe.y0=ne+oe.width/2,ne+=oe.width}),$.targetLinks.forEach(function(oe){oe.y1=ae+oe.width/2,ae+=oe.width})})}return U.update=function(Z){return J(Z),Z},U.nodeId=function(Z){return arguments.length?(z=typeof Z=="function"?Z:t(Z),U):z},U.nodeAlign=function(Z){return arguments.length?(V=typeof Z=="function"?Z:t(Z),U):V},U.nodeWidth=function(Z){return arguments.length?(P=+Z,U):P},U.nodePadding=function(Z){return arguments.length?(D=+Z,U):D},U.nodes=function(Z){return arguments.length?(F=typeof Z=="function"?Z:t(Z),U):F},U.links=function(Z){return arguments.length?(W=typeof Z=="function"?Z:t(Z),U):W},U.size=function(Z){return arguments.length?(E=A=0,C=+Z[0],O=+Z[1],U):[C-E,O-A]},U.extent=function(Z){return arguments.length?(E=+Z[0][0],C=+Z[1][0],A=+Z[0][1],O=+Z[1][1],U):[[E,A],[C,O]]},U.iterations=function(Z){return arguments.length?(B=+Z,U):B},U}var g=e(45879);function v(E){return[E.source.x1,E.y0]}function T(E){return[E.target.x0,E.y1]}function c(){return(0,g.h5)().source(v).target(T)}},39898:function(L,M,e){var b,w;(function(){var a={version:"3.8.0"},k=[].slice,y=function(re){return k.call(re)},f=self.document;function l(re){return re&&(re.ownerDocument||re.document||re).documentElement}function t(re){return re&&(re.ownerDocument&&re.ownerDocument.defaultView||re.document&&re||re.defaultView)}if(f)try{y(f.documentElement.childNodes)[0].nodeType}catch{y=function(de){for(var Ce=de.length,ze=new Array(Ce);Ce--;)ze[Ce]=de[Ce];return ze}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,o=s.setAttribute,n=s.setAttributeNS,r=this.CSSStyleDeclaration.prototype,i=r.setProperty;s.setAttribute=function(de,Ce){o.call(this,de,Ce+"")},s.setAttributeNS=function(de,Ce,ze){n.call(this,de,Ce,ze+"")},r.setProperty=function(de,Ce,ze){i.call(this,de,Ce+"",ze)}}function u(re,de){return re<de?-1:re>de?1:re>=de?0:NaN}function p(re){return re===null?NaN:+re}function h(re){return!isNaN(re)}function _(re){return{left:function(de,Ce,ze,Ve){for(arguments.length<3&&(ze=0),arguments.length<4&&(Ve=de.length);ze<Ve;){var We=ze+Ve>>>1;re(de[We],Ce)<0?ze=We+1:Ve=We}return ze},right:function(de,Ce,ze,Ve){for(arguments.length<3&&(ze=0),arguments.length<4&&(Ve=de.length);ze<Ve;){var We=ze+Ve>>>1;re(de[We],Ce)>0?Ve=We:ze=We+1}return ze}}}a.ascending=u,a.descending=function(re,de){return de<re?-1:de>re?1:de>=re?0:NaN},a.min=function(re,de){var Ce,ze,Ve=-1,We=re.length;if(arguments.length===1){for(;++Ve<We;)if((ze=re[Ve])!=null&&ze>=ze){Ce=ze;break}for(;++Ve<We;)(ze=re[Ve])!=null&&Ce>ze&&(Ce=ze)}else{for(;++Ve<We;)if((ze=de.call(re,re[Ve],Ve))!=null&&ze>=ze){Ce=ze;break}for(;++Ve<We;)(ze=de.call(re,re[Ve],Ve))!=null&&Ce>ze&&(Ce=ze)}return Ce},a.max=function(re,de){var Ce,ze,Ve=-1,We=re.length;if(arguments.length===1){for(;++Ve<We;)if((ze=re[Ve])!=null&&ze>=ze){Ce=ze;break}for(;++Ve<We;)(ze=re[Ve])!=null&&ze>Ce&&(Ce=ze)}else{for(;++Ve<We;)if((ze=de.call(re,re[Ve],Ve))!=null&&ze>=ze){Ce=ze;break}for(;++Ve<We;)(ze=de.call(re,re[Ve],Ve))!=null&&ze>Ce&&(Ce=ze)}return Ce},a.extent=function(re,de){var Ce,ze,Ve,We=-1,Je=re.length;if(arguments.length===1){for(;++We<Je;)if((ze=re[We])!=null&&ze>=ze){Ce=Ve=ze;break}for(;++We<Je;)(ze=re[We])!=null&&(Ce>ze&&(Ce=ze),Ve<ze&&(Ve=ze))}else{for(;++We<Je;)if((ze=de.call(re,re[We],We))!=null&&ze>=ze){Ce=Ve=ze;break}for(;++We<Je;)(ze=de.call(re,re[We],We))!=null&&(Ce>ze&&(Ce=ze),Ve<ze&&(Ve=ze))}return[Ce,Ve]},a.sum=function(re,de){var Ce,ze=0,Ve=re.length,We=-1;if(arguments.length===1)for(;++We<Ve;)h(Ce=+re[We])&&(ze+=Ce);else for(;++We<Ve;)h(Ce=+de.call(re,re[We],We))&&(ze+=Ce);return ze},a.mean=function(re,de){var Ce,ze=0,Ve=re.length,We=-1,Je=Ve;if(arguments.length===1)for(;++We<Ve;)h(Ce=p(re[We]))?ze+=Ce:--Je;else for(;++We<Ve;)h(Ce=p(de.call(re,re[We],We)))?ze+=Ce:--Je;if(Je)return ze/Je},a.quantile=function(re,de){var Ce=(re.length-1)*de+1,ze=Math.floor(Ce),Ve=+re[ze-1],We=Ce-ze;return We?Ve+We*(re[ze]-Ve):Ve},a.median=function(re,de){var Ce,ze=[],Ve=re.length,We=-1;if(arguments.length===1)for(;++We<Ve;)h(Ce=p(re[We]))&&ze.push(Ce);else for(;++We<Ve;)h(Ce=p(de.call(re,re[We],We)))&&ze.push(Ce);if(ze.length)return a.quantile(ze.sort(u),.5)},a.variance=function(re,de){var Ce,ze,Ve=re.length,We=0,Je=0,tt=-1,lt=0;if(arguments.length===1)for(;++tt<Ve;)h(Ce=p(re[tt]))&&(Je+=(ze=Ce-We)*(Ce-(We+=ze/++lt)));else for(;++tt<Ve;)h(Ce=p(de.call(re,re[tt],tt)))&&(Je+=(ze=Ce-We)*(Ce-(We+=ze/++lt)));if(lt>1)return Je/(lt-1)},a.deviation=function(){var re=a.variance.apply(this,arguments);return re&&Math.sqrt(re)};var m=_(u);function d(re){return re.length}a.bisectLeft=m.left,a.bisect=a.bisectRight=m.right,a.bisector=function(re){return _(re.length===1?function(de,Ce){return u(re(de),Ce)}:re)},a.shuffle=function(re,de,Ce){(We=arguments.length)<3&&(Ce=re.length,We<2&&(de=0));for(var ze,Ve,We=Ce-de;We;)Ve=Math.random()*We--|0,ze=re[We+de],re[We+de]=re[Ve+de],re[Ve+de]=ze;return re},a.permute=function(re,de){for(var Ce=de.length,ze=new Array(Ce);Ce--;)ze[Ce]=re[de[Ce]];return ze},a.pairs=function(re){for(var de=0,Ce=re.length-1,ze=re[0],Ve=new Array(Ce<0?0:Ce);de<Ce;)Ve[de]=[ze,ze=re[++de]];return Ve},a.transpose=function(re){if(!(Ve=re.length))return[];for(var de=-1,Ce=a.min(re,d),ze=new Array(Ce);++de<Ce;)for(var Ve,We=-1,Je=ze[de]=new Array(Ve);++We<Ve;)Je[We]=re[We][de];return ze},a.zip=function(){return a.transpose(arguments)},a.keys=function(re){var de=[];for(var Ce in re)de.push(Ce);return de},a.values=function(re){var de=[];for(var Ce in re)de.push(re[Ce]);return de},a.entries=function(re){var de=[];for(var Ce in re)de.push({key:Ce,value:re[Ce]});return de},a.merge=function(re){for(var de,Ce,ze,Ve=re.length,We=-1,Je=0;++We<Ve;)Je+=re[We].length;for(Ce=new Array(Je);--Ve>=0;)for(de=(ze=re[Ve]).length;--de>=0;)Ce[--Je]=ze[de];return Ce};var x=Math.abs;function g(re){for(var de=1;re*de%1;)de*=10;return de}function v(re,de){for(var Ce in de)Object.defineProperty(re.prototype,Ce,{value:de[Ce],enumerable:!1})}function T(){this._=Object.create(null)}function c(re){return(re+="")=="__proto__"||re[0]==="\0"?"\0"+re:re}function E(re){return(re+="")[0]==="\0"?re.slice(1):re}function A(re){return c(re)in this._}function C(re){return(re=c(re))in this._&&delete this._[re]}function O(){var re=[];for(var de in this._)re.push(E(de));return re}function P(){var re=0;for(var de in this._)++re;return re}function D(){for(var re in this._)return!1;return!0}function z(){this._=Object.create(null)}function V(re){return re}function F(re,de,Ce){return function(){var ze=Ce.apply(de,arguments);return ze===de?re:ze}}function W(re,de){if(de in re)return de;de=de.charAt(0).toUpperCase()+de.slice(1);for(var Ce=0,ze=B.length;Ce<ze;++Ce){var Ve=B[Ce]+de;if(Ve in re)return Ve}}a.range=function(re,de,Ce){if(arguments.length<3&&(Ce=1,arguments.length<2&&(de=re,re=0)),(de-re)/Ce==1/0)throw new Error("infinite range");var ze,Ve=[],We=g(x(Ce)),Je=-1;if(re*=We,de*=We,(Ce*=We)<0)for(;(ze=re+Ce*++Je)>de;)Ve.push(ze/We);else for(;(ze=re+Ce*++Je)<de;)Ve.push(ze/We);return Ve},a.map=function(re,de){var Ce=new T;if(re instanceof T)re.forEach(function(tt,lt){Ce.set(tt,lt)});else if(Array.isArray(re)){var ze,Ve=-1,We=re.length;if(arguments.length===1)for(;++Ve<We;)Ce.set(Ve,re[Ve]);else for(;++Ve<We;)Ce.set(de.call(re,ze=re[Ve],Ve),ze)}else for(var Je in re)Ce.set(Je,re[Je]);return Ce},v(T,{has:A,get:function(re){return this._[c(re)]},set:function(re,de){return this._[c(re)]=de},remove:C,keys:O,values:function(){var re=[];for(var de in this._)re.push(this._[de]);return re},entries:function(){var re=[];for(var de in this._)re.push({key:E(de),value:this._[de]});return re},size:P,empty:D,forEach:function(re){for(var de in this._)re.call(this,E(de),this._[de])}}),a.nest=function(){var re,de,Ce={},ze=[],Ve=[];function We(tt,lt,dt){if(dt>=ze.length)return de?de.call(Ce,lt):re?lt.sort(re):lt;for(var Ft,Ut,qt,nn,yn=-1,rn=lt.length,cn=ze[dt++],sn=new T;++yn<rn;)(nn=sn.get(Ft=cn(Ut=lt[yn])))?nn.push(Ut):sn.set(Ft,[Ut]);return tt?(Ut=tt(),qt=function(Ln,wn){Ut.set(Ln,We(tt,wn,dt))}):(Ut={},qt=function(Ln,wn){Ut[Ln]=We(tt,wn,dt)}),sn.forEach(qt),Ut}function Je(tt,lt){if(lt>=ze.length)return tt;var dt=[],Ft=Ve[lt++];return tt.forEach(function(Ut,qt){dt.push({key:Ut,values:Je(qt,lt)})}),Ft?dt.sort(function(Ut,qt){return Ft(Ut.key,qt.key)}):dt}return Ce.map=function(tt,lt){return We(lt,tt,0)},Ce.entries=function(tt){return Je(We(a.map,tt,0),0)},Ce.key=function(tt){return ze.push(tt),Ce},Ce.sortKeys=function(tt){return Ve[ze.length-1]=tt,Ce},Ce.sortValues=function(tt){return re=tt,Ce},Ce.rollup=function(tt){return de=tt,Ce},Ce},a.set=function(re){var de=new z;if(re)for(var Ce=0,ze=re.length;Ce<ze;++Ce)de.add(re[Ce]);return de},v(z,{has:A,add:function(re){return this._[c(re+="")]=!0,re},remove:C,values:O,size:P,empty:D,forEach:function(re){for(var de in this._)re.call(this,E(de))}}),a.behavior={},a.rebind=function(re,de){for(var Ce,ze=1,Ve=arguments.length;++ze<Ve;)re[Ce=arguments[ze]]=F(re,de,de[Ce]);return re};var B=["webkit","ms","moz","Moz","o","O"];function U(){}function H(){}function q(re){var de=[],Ce=new T;function ze(){for(var Ve,We=de,Je=-1,tt=We.length;++Je<tt;)(Ve=We[Je].on)&&Ve.apply(this,arguments);return re}return ze.on=function(Ve,We){var Je,tt=Ce.get(Ve);return arguments.length<2?tt&&tt.on:(tt&&(tt.on=null,de=de.slice(0,Je=de.indexOf(tt)).concat(de.slice(Je+1)),Ce.remove(Ve)),We&&de.push(Ce.set(Ve,{on:We})),re)},ze}function ee(){a.event.preventDefault()}function K(){for(var re,de=a.event;re=de.sourceEvent;)de=re;return de}function J(re){for(var de=new H,Ce=0,ze=arguments.length;++Ce<ze;)de[arguments[Ce]]=q(de);return de.of=function(Ve,We){return function(Je){try{var tt=Je.sourceEvent=a.event;Je.target=re,a.event=Je,de[Je.type].apply(Ve,We)}finally{a.event=tt}}},de}a.dispatch=function(){for(var re=new H,de=-1,Ce=arguments.length;++de<Ce;)re[arguments[de]]=q(re);return re},H.prototype.on=function(re,de){var Ce=re.indexOf("."),ze="";if(Ce>=0&&(ze=re.slice(Ce+1),re=re.slice(0,Ce)),re)return arguments.length<2?this[re].on(ze):this[re].on(ze,de);if(arguments.length===2){if(de==null)for(re in this)this.hasOwnProperty(re)&&this[re].on(ze,null);return this}},a.event=null,a.requote=function(re){return re.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(re,de){re.__proto__=de}:function(re,de){for(var Ce in de)re[Ce]=de[Ce]};function ne(re){return $(re,ce),re}var ae=function(re,de){return de.querySelector(re)},oe=function(re,de){return de.querySelectorAll(re)},se=function(re,de){var Ce=re.matches||re[W(re,"matchesSelector")];return se=function(ze,Ve){return Ce.call(ze,Ve)},se(re,de)};typeof Sizzle=="function"&&(ae=function(re,de){return Sizzle(re,de)[0]||null},oe=Sizzle,se=Sizzle.matchesSelector),a.selection=function(){return a.select(f.documentElement)};var ce=a.selection.prototype=[];function me(re){return typeof re=="function"?re:function(){return ae(re,this)}}function xe(re){return typeof re=="function"?re:function(){return oe(re,this)}}ce.select=function(re){var de,Ce,ze,Ve,We=[];re=me(re);for(var Je=-1,tt=this.length;++Je<tt;){We.push(de=[]),de.parentNode=(ze=this[Je]).parentNode;for(var lt=-1,dt=ze.length;++lt<dt;)(Ve=ze[lt])?(de.push(Ce=re.call(Ve,Ve.__data__,lt,Je)),Ce&&"__data__"in Ve&&(Ce.__data__=Ve.__data__)):de.push(null)}return ne(We)},ce.selectAll=function(re){var de,Ce,ze=[];re=xe(re);for(var Ve=-1,We=this.length;++Ve<We;)for(var Je=this[Ve],tt=-1,lt=Je.length;++tt<lt;)(Ce=Je[tt])&&(ze.push(de=y(re.call(Ce,Ce.__data__,tt,Ve))),de.parentNode=Ce);return ne(ze)};var ve="http://www.w3.org/1999/xhtml",fe={svg:"http://www.w3.org/2000/svg",xhtml:ve,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pe(re,de){return re=a.ns.qualify(re),de==null?re.local?function(){this.removeAttributeNS(re.space,re.local)}:function(){this.removeAttribute(re)}:typeof de=="function"?re.local?function(){var Ce=de.apply(this,arguments);Ce==null?this.removeAttributeNS(re.space,re.local):this.setAttributeNS(re.space,re.local,Ce)}:function(){var Ce=de.apply(this,arguments);Ce==null?this.removeAttribute(re):this.setAttribute(re,Ce)}:re.local?function(){this.setAttributeNS(re.space,re.local,de)}:function(){this.setAttribute(re,de)}}function Le(re){return re.trim().replace(/\s+/g," ")}function ye(re){return new RegExp("(?:^|\\s+)"+a.requote(re)+"(?:\\s+|$)","g")}function Ae(re){return(re+"").trim().split(/^|\s+/)}function Me(re,de){var Ce=(re=Ae(re).map(ke)).length;return typeof de=="function"?function(){for(var ze=-1,Ve=de.apply(this,arguments);++ze<Ce;)re[ze](this,Ve)}:function(){for(var ze=-1;++ze<Ce;)re[ze](this,de)}}function ke(re){var de=ye(re);return function(Ce,ze){if(Ve=Ce.classList)return ze?Ve.add(re):Ve.remove(re);var Ve=Ce.getAttribute("class")||"";ze?(de.lastIndex=0,de.test(Ve)||Ce.setAttribute("class",Le(Ve+" "+re))):Ce.setAttribute("class",Le(Ve.replace(de," ")))}}function te(re,de,Ce){return de==null?function(){this.style.removeProperty(re)}:typeof de=="function"?function(){var ze=de.apply(this,arguments);ze==null?this.style.removeProperty(re):this.style.setProperty(re,ze,Ce)}:function(){this.style.setProperty(re,de,Ce)}}function ue(re,de){return de==null?function(){delete this[re]}:typeof de=="function"?function(){var Ce=de.apply(this,arguments);Ce==null?delete this[re]:this[re]=Ce}:function(){this[re]=de}}function ge(re){return typeof re=="function"?re:(re=a.ns.qualify(re)).local?function(){return this.ownerDocument.createElementNS(re.space,re.local)}:function(){var de=this.ownerDocument,Ce=this.namespaceURI;return Ce===ve&&de.documentElement.namespaceURI===ve?de.createElement(re):de.createElementNS(Ce,re)}}function we(){var re=this.parentNode;re&&re.removeChild(this)}function Ee(re){return{__data__:re}}function Be(re){return function(){return se(this,re)}}function Re(re){return arguments.length||(re=u),function(de,Ce){return de&&Ce?re(de.__data__,Ce.__data__):!de-!Ce}}function je(re,de){for(var Ce=0,ze=re.length;Ce<ze;Ce++)for(var Ve,We=re[Ce],Je=0,tt=We.length;Je<tt;Je++)(Ve=We[Je])&&de(Ve,Je,Ce);return re}function he(re){return $(re,_e),re}a.ns={prefix:fe,qualify:function(re){var de=re.indexOf(":"),Ce=re;return de>=0&&(Ce=re.slice(0,de))!=="xmlns"&&(re=re.slice(de+1)),fe.hasOwnProperty(Ce)?{space:fe[Ce],local:re}:re}},ce.attr=function(re,de){if(arguments.length<2){if(typeof re=="string"){var Ce=this.node();return(re=a.ns.qualify(re)).local?Ce.getAttributeNS(re.space,re.local):Ce.getAttribute(re)}for(de in re)this.each(pe(de,re[de]));return this}return this.each(pe(re,de))},ce.classed=function(re,de){if(arguments.length<2){if(typeof re=="string"){var Ce=this.node(),ze=(re=Ae(re)).length,Ve=-1;if(de=Ce.classList){for(;++Ve<ze;)if(!de.contains(re[Ve]))return!1}else for(de=Ce.getAttribute("class");++Ve<ze;)if(!ye(re[Ve]).test(de))return!1;return!0}for(de in re)this.each(Me(de,re[de]));return this}return this.each(Me(re,de))},ce.style=function(re,de,Ce){var ze=arguments.length;if(ze<3){if(typeof re!="string"){for(Ce in ze<2&&(de=""),re)this.each(te(Ce,re[Ce],de));return this}if(ze<2){var Ve=this.node();return t(Ve).getComputedStyle(Ve,null).getPropertyValue(re)}Ce=""}return this.each(te(re,de,Ce))},ce.property=function(re,de){if(arguments.length<2){if(typeof re=="string")return this.node()[re];for(de in re)this.each(ue(de,re[de]));return this}return this.each(ue(re,de))},ce.text=function(re){return arguments.length?this.each(typeof re=="function"?function(){var de=re.apply(this,arguments);this.textContent=de??""}:re==null?function(){this.textContent=""}:function(){this.textContent=re}):this.node().textContent},ce.html=function(re){return arguments.length?this.each(typeof re=="function"?function(){var de=re.apply(this,arguments);this.innerHTML=de??""}:re==null?function(){this.innerHTML=""}:function(){this.innerHTML=re}):this.node().innerHTML},ce.append=function(re){return re=ge(re),this.select(function(){return this.appendChild(re.apply(this,arguments))})},ce.insert=function(re,de){return re=ge(re),de=me(de),this.select(function(){return this.insertBefore(re.apply(this,arguments),de.apply(this,arguments)||null)})},ce.remove=function(){return this.each(we)},ce.data=function(re,de){var Ce,ze,Ve=-1,We=this.length;if(!arguments.length){for(re=new Array(We=(Ce=this[0]).length);++Ve<We;)(ze=Ce[Ve])&&(re[Ve]=ze.__data__);return re}function Je(Ft,Ut){var qt,nn,yn,rn=Ft.length,cn=Ut.length,sn=Math.min(rn,cn),Ln=new Array(cn),wn=new Array(cn),ln=new Array(rn);if(de){var Bn,Wn=new T,tr=new Array(rn);for(qt=-1;++qt<rn;)(nn=Ft[qt])&&(Wn.has(Bn=de.call(nn,nn.__data__,qt))?ln[qt]=nn:Wn.set(Bn,nn),tr[qt]=Bn);for(qt=-1;++qt<cn;)(nn=Wn.get(Bn=de.call(Ut,yn=Ut[qt],qt)))?nn!==!0&&(Ln[qt]=nn,nn.__data__=yn):wn[qt]=Ee(yn),Wn.set(Bn,!0);for(qt=-1;++qt<rn;)qt in tr&&Wn.get(tr[qt])!==!0&&(ln[qt]=Ft[qt])}else{for(qt=-1;++qt<sn;)nn=Ft[qt],yn=Ut[qt],nn?(nn.__data__=yn,Ln[qt]=nn):wn[qt]=Ee(yn);for(;qt<cn;++qt)wn[qt]=Ee(Ut[qt]);for(;qt<rn;++qt)ln[qt]=Ft[qt]}wn.update=Ln,wn.parentNode=Ln.parentNode=ln.parentNode=Ft.parentNode,tt.push(wn),lt.push(Ln),dt.push(ln)}var tt=he([]),lt=ne([]),dt=ne([]);if(typeof re=="function")for(;++Ve<We;)Je(Ce=this[Ve],re.call(Ce,Ce.parentNode.__data__,Ve));else for(;++Ve<We;)Je(Ce=this[Ve],re);return lt.enter=function(){return tt},lt.exit=function(){return dt},lt},ce.datum=function(re){return arguments.length?this.property("__data__",re):this.property("__data__")},ce.filter=function(re){var de,Ce,ze,Ve=[];typeof re!="function"&&(re=Be(re));for(var We=0,Je=this.length;We<Je;We++){Ve.push(de=[]),de.parentNode=(Ce=this[We]).parentNode;for(var tt=0,lt=Ce.length;tt<lt;tt++)(ze=Ce[tt])&&re.call(ze,ze.__data__,tt,We)&&de.push(ze)}return ne(Ve)},ce.order=function(){for(var re=-1,de=this.length;++re<de;)for(var Ce,ze=this[re],Ve=ze.length-1,We=ze[Ve];--Ve>=0;)(Ce=ze[Ve])&&(We&&We!==Ce.nextSibling&&We.parentNode.insertBefore(Ce,We),We=Ce);return this},ce.sort=function(re){re=Re.apply(this,arguments);for(var de=-1,Ce=this.length;++de<Ce;)this[de].sort(re);return this.order()},ce.each=function(re){return je(this,function(de,Ce,ze){re.call(de,de.__data__,Ce,ze)})},ce.call=function(re){var de=y(arguments);return re.apply(de[0]=this,de),this},ce.empty=function(){return!this.node()},ce.node=function(){for(var re=0,de=this.length;re<de;re++)for(var Ce=this[re],ze=0,Ve=Ce.length;ze<Ve;ze++){var We=Ce[ze];if(We)return We}return null},ce.size=function(){var re=0;return je(this,function(){++re}),re};var _e=[];function Te(re){var de,Ce;return function(ze,Ve,We){var Je,tt=re[We].update,lt=tt.length;for(We!=Ce&&(Ce=We,de=0),Ve>=de&&(de=Ve+1);!(Je=tt[de])&&++de<lt;);return Je}}function Fe(re,de,Ce){var ze="__on"+re,Ve=re.indexOf("."),We=Ge;Ve>0&&(re=re.slice(0,Ve));var Je=Ye.get(re);function tt(){var lt=this[ze];lt&&(this.removeEventListener(re,lt,lt.$),delete this[ze])}return Je&&(re=Je,We=ot),Ve?de?function(){var lt=We(de,y(arguments));tt.call(this),this.addEventListener(re,this[ze]=lt,lt.$=Ce),lt._=de}:tt:de?U:function(){var lt,dt=new RegExp("^__on([^.]+)"+a.requote(re)+"$");for(var Ft in this)if(lt=Ft.match(dt)){var Ut=this[Ft];this.removeEventListener(lt[1],Ut,Ut.$),delete this[Ft]}}}a.selection.enter=he,a.selection.enter.prototype=_e,_e.append=ce.append,_e.empty=ce.empty,_e.node=ce.node,_e.call=ce.call,_e.size=ce.size,_e.select=function(re){for(var de,Ce,ze,Ve,We,Je=[],tt=-1,lt=this.length;++tt<lt;){ze=(Ve=this[tt]).update,Je.push(de=[]),de.parentNode=Ve.parentNode;for(var dt=-1,Ft=Ve.length;++dt<Ft;)(We=Ve[dt])?(de.push(ze[dt]=Ce=re.call(Ve.parentNode,We.__data__,dt,tt)),Ce.__data__=We.__data__):de.push(null)}return ne(Je)},_e.insert=function(re,de){return arguments.length<2&&(de=Te(this)),ce.insert.call(this,re,de)},a.select=function(re){var de;return typeof re=="string"?(de=[ae(re,f)]).parentNode=f.documentElement:(de=[re]).parentNode=l(re),ne([de])},a.selectAll=function(re){var de;return typeof re=="string"?(de=y(oe(re,f))).parentNode=f.documentElement:(de=y(re)).parentNode=null,ne([de])},ce.on=function(re,de,Ce){var ze=arguments.length;if(ze<3){if(typeof re!="string"){for(Ce in ze<2&&(de=!1),re)this.each(Fe(Ce,re[Ce],de));return this}if(ze<2)return(ze=this.node()["__on"+re])&&ze._;Ce=!1}return this.each(Fe(re,de,Ce))};var Ye=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ge(re,de){return function(Ce){var ze=a.event;a.event=Ce,de[0]=this.__data__;try{re.apply(this,de)}finally{a.event=ze}}}function ot(re,de){var Ce=Ge(re,de);return function(ze){var Ve=this,We=ze.relatedTarget;We&&(We===Ve||8&We.compareDocumentPosition(Ve))||Ce.call(Ve,ze)}}f&&Ye.forEach(function(re){"on"+re in f&&Ye.remove(re)});var st,ht=0;function xt(re){var de=".dragsuppress-"+ ++ht,Ce="click"+de,ze=a.select(t(re)).on("touchmove"+de,ee).on("dragstart"+de,ee).on("selectstart"+de,ee);if(st==null&&(st=!("onselectstart"in re)&&W(re.style,"userSelect")),st){var Ve=l(re).style,We=Ve[st];Ve[st]="none"}return function(Je){if(ze.on(de,null),st&&(Ve[st]=We),Je){var tt=function(){ze.on(Ce,null)};ze.on(Ce,function(){ee(),tt()},!0),setTimeout(tt,0)}}}a.mouse=function(re){return St(re,K())};var Ct=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function St(re,de){de.changedTouches&&(de=de.changedTouches[0]);var Ce=re.ownerSVGElement||re;if(Ce.createSVGPoint){var ze=Ce.createSVGPoint();if(Ct<0){var Ve=t(re);if(Ve.scrollX||Ve.scrollY){var We=(Ce=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ct=!(We.f||We.e),Ce.remove()}}return Ct?(ze.x=de.pageX,ze.y=de.pageY):(ze.x=de.clientX,ze.y=de.clientY),[(ze=ze.matrixTransform(re.getScreenCTM().inverse())).x,ze.y]}var Je=re.getBoundingClientRect();return[de.clientX-Je.left-re.clientLeft,de.clientY-Je.top-re.clientTop]}function kt(){return a.event.changedTouches[0].identifier}a.touch=function(re,de,Ce){if(arguments.length<3&&(Ce=de,de=K().changedTouches),de){for(var ze,Ve=0,We=de.length;Ve<We;++Ve)if((ze=de[Ve]).identifier===Ce)return St(re,ze)}},a.behavior.drag=function(){var re=J(Ve,"drag","dragstart","dragend"),de=null,Ce=We(U,a.mouse,t,"mousemove","mouseup"),ze=We(kt,a.touch,V,"touchmove","touchend");function Ve(){this.on("mousedown.drag",Ce).on("touchstart.drag",ze)}function We(Je,tt,lt,dt,Ft){return function(){var Ut,qt=this,nn=a.event.target.correspondingElement||a.event.target,yn=qt.parentNode,rn=re.of(qt,arguments),cn=0,sn=Je(),Ln=".drag"+(sn==null?"":"-"+sn),wn=a.select(lt(nn)).on(dt+Ln,Wn).on(Ft+Ln,tr),ln=xt(nn),Bn=tt(yn,sn);function Wn(){var or,Sr,Cr=tt(yn,sn);Cr&&(or=Cr[0]-Bn[0],Sr=Cr[1]-Bn[1],cn|=or|Sr,Bn=Cr,rn({type:"drag",x:Cr[0]+Ut[0],y:Cr[1]+Ut[1],dx:or,dy:Sr}))}function tr(){tt(yn,sn)&&(wn.on(dt+Ln,null).on(Ft+Ln,null),ln(cn),rn({type:"dragend"}))}Ut=de?[(Ut=de.apply(qt,arguments)).x-Bn[0],Ut.y-Bn[1]]:[0,0],rn({type:"dragstart"})}}return Ve.origin=function(Je){return arguments.length?(de=Je,Ve):de},a.rebind(Ve,re,"on")},a.touches=function(re,de){return arguments.length<2&&(de=K().touches),de?y(de).map(function(Ce){var ze=St(re,Ce);return ze.identifier=Ce.identifier,ze}):[]};var Nt=1e-6,Dt=Math.PI,Et=2*Dt,Wt=Et-Nt,Ht=Dt/2,Ke=Dt/180,$e=180/Dt;function Ue(re){return re>1?Ht:re<-1?-Ht:Math.asin(re)}function nt(re){return((re=Math.exp(re))+1/re)/2}var ct=Math.SQRT2;a.interpolateZoom=function(re,de){var Ce,ze,Ve=re[0],We=re[1],Je=re[2],tt=de[0],lt=de[1],dt=de[2],Ft=tt-Ve,Ut=lt-We,qt=Ft*Ft+Ut*Ut;if(qt<1e-12)ze=Math.log(dt/Je)/ct,Ce=function(Ln){return[Ve+Ln*Ft,We+Ln*Ut,Je*Math.exp(ct*Ln*ze)]};else{var nn=Math.sqrt(qt),yn=(dt*dt-Je*Je+4*qt)/(2*Je*2*nn),rn=(dt*dt-Je*Je-4*qt)/(2*dt*2*nn),cn=Math.log(Math.sqrt(yn*yn+1)-yn),sn=Math.log(Math.sqrt(rn*rn+1)-rn);ze=(sn-cn)/ct,Ce=function(Ln){var wn,ln=Ln*ze,Bn=nt(cn),Wn=Je/(2*nn)*(Bn*(wn=ct*ln+cn,((wn=Math.exp(2*wn))-1)/(wn+1))-function(tr){return((tr=Math.exp(tr))-1/tr)/2}(cn));return[Ve+Wn*Ft,We+Wn*Ut,Je*Bn/nt(ct*ln+cn)]}}return Ce.duration=1e3*ze,Ce},a.behavior.zoom=function(){var re,de,Ce,ze,Ve,We,Je,tt,lt,dt={x:0,y:0,k:1},Ft=[960,500],Ut=Qe,qt=250,nn=0,yn="mousedown.zoom",rn="mousemove.zoom",cn="mouseup.zoom",sn="touchstart.zoom",Ln=J(wn,"zoomstart","zoom","zoomend");function wn(_r){_r.on(yn,Ar).on(Ne+".zoom",ii).on("dblclick.zoom",ai).on(sn,Fr)}function ln(_r){return[(_r[0]-dt.x)/dt.k,(_r[1]-dt.y)/dt.k]}function Bn(_r){dt.k=Math.max(Ut[0],Math.min(Ut[1],_r))}function Wn(_r,Rr){Rr=function(Qr){return[Qr[0]*dt.k+dt.x,Qr[1]*dt.k+dt.y]}(Rr),dt.x+=_r[0]-Rr[0],dt.y+=_r[1]-Rr[1]}function tr(_r,Rr,Qr,$r){_r.__chart__={x:dt.x,y:dt.y,k:dt.k},Bn(Math.pow(2,$r)),Wn(de=Rr,Qr),_r=a.select(_r),qt>0&&(_r=_r.transition().duration(qt)),_r.call(wn.event)}function or(){Je&&Je.domain(We.range().map(function(_r){return(_r-dt.x)/dt.k}).map(We.invert)),lt&&lt.domain(tt.range().map(function(_r){return(_r-dt.y)/dt.k}).map(tt.invert))}function Sr(_r){nn++||_r({type:"zoomstart"})}function Cr(_r){or(),_r({type:"zoom",scale:dt.k,translate:[dt.x,dt.y]})}function wr(_r){--nn||(_r({type:"zoomend"}),de=null)}function Ar(){var _r=this,Rr=Ln.of(_r,arguments),Qr=0,$r=a.select(t(_r)).on(rn,vi).on(cn,Ei),di=ln(a.mouse(_r)),li=xt(_r);function vi(){Qr=1,Wn(a.mouse(_r),di),Cr(Rr)}function Ei(){$r.on(rn,null).on(cn,null),li(Qr),wr(Rr)}zi.call(_r),Sr(Rr)}function Fr(){var _r,Rr=this,Qr=Ln.of(Rr,arguments),$r={},di=0,li=".zoom-"+a.event.changedTouches[0].identifier,vi="touchmove"+li,Ei="touchend"+li,Ai=[],Ci=a.select(Rr),Gr=xt(Rr);function De(){var $t=a.touches(Rr);return _r=dt.k,$t.forEach(function(Cn){Cn.identifier in $r&&($r[Cn.identifier]=ln(Cn))}),$t}function Xe(){var $t=a.event.target;a.select($t).on(vi,_t).on(Ei,jt),Ai.push($t);for(var Cn=a.event.changedTouches,lr=0,Ur=Cn.length;lr<Ur;++lr)$r[Cn[lr].identifier]=null;var Yr=De(),ci=Date.now();if(Yr.length===1){if(ci-Ve<500){var ti=Yr[0];tr(Rr,ti,$r[ti.identifier],Math.floor(Math.log(dt.k)/Math.LN2)+1),ee()}Ve=ci}else if(Yr.length>1){ti=Yr[0];var Fi=Yr[1],ea=ti[0]-Fi[0],_u=ti[1]-Fi[1];di=ea*ea+_u*_u}}function _t(){var $t,Cn,lr,Ur,Yr=a.touches(Rr);zi.call(Rr);for(var ci=0,ti=Yr.length;ci<ti;++ci,Ur=null)if(lr=Yr[ci],Ur=$r[lr.identifier]){if(Cn)break;$t=lr,Cn=Ur}if(Ur){var Fi=(Fi=lr[0]-$t[0])*Fi+(Fi=lr[1]-$t[1])*Fi,ea=di&&Math.sqrt(Fi/di);$t=[($t[0]+lr[0])/2,($t[1]+lr[1])/2],Cn=[(Cn[0]+Ur[0])/2,(Cn[1]+Ur[1])/2],Bn(ea*_r)}Ve=null,Wn($t,Cn),Cr(Qr)}function jt(){if(a.event.touches.length){for(var $t=a.event.changedTouches,Cn=0,lr=$t.length;Cn<lr;++Cn)delete $r[$t[Cn].identifier];for(var Ur in $r)return void De()}a.selectAll(Ai).on(li,null),Ci.on(yn,Ar).on(sn,Fr),Gr(),wr(Qr)}Xe(),Sr(Qr),Ci.on(yn,null).on(sn,Xe)}function ii(){var _r=Ln.of(this,arguments);ze?clearTimeout(ze):(zi.call(this),re=ln(de=Ce||a.mouse(this)),Sr(_r)),ze=setTimeout(function(){ze=null,wr(_r)},50),ee(),Bn(Math.pow(2,.002*Oe())*dt.k),Wn(de,re),Cr(_r)}function ai(){var _r=a.mouse(this),Rr=Math.log(dt.k)/Math.LN2;tr(this,_r,ln(_r),a.event.shiftKey?Math.ceil(Rr)-1:Math.floor(Rr)+1)}return Ne||(Ne="onwheel"in f?(Oe=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(Oe=function(){return a.event.wheelDelta},"mousewheel"):(Oe=function(){return-a.event.detail},"MozMousePixelScroll")),wn.event=function(_r){_r.each(function(){var Rr=Ln.of(this,arguments),Qr=dt;rt?a.select(this).transition().each("start.zoom",function(){dt=this.__chart__||{x:0,y:0,k:1},Sr(Rr)}).tween("zoom:zoom",function(){var $r=Ft[0],di=Ft[1],li=de?de[0]:$r/2,vi=de?de[1]:di/2,Ei=a.interpolateZoom([(li-dt.x)/dt.k,(vi-dt.y)/dt.k,$r/dt.k],[(li-Qr.x)/Qr.k,(vi-Qr.y)/Qr.k,$r/Qr.k]);return function(Ai){var Ci=Ei(Ai),Gr=$r/Ci[2];this.__chart__=dt={x:li-Ci[0]*Gr,y:vi-Ci[1]*Gr,k:Gr},Cr(Rr)}}).each("interrupt.zoom",function(){wr(Rr)}).each("end.zoom",function(){wr(Rr)}):(this.__chart__=dt,Sr(Rr),Cr(Rr),wr(Rr))})},wn.translate=function(_r){return arguments.length?(dt={x:+_r[0],y:+_r[1],k:dt.k},or(),wn):[dt.x,dt.y]},wn.scale=function(_r){return arguments.length?(dt={x:dt.x,y:dt.y,k:null},Bn(+_r),or(),wn):dt.k},wn.scaleExtent=function(_r){return arguments.length?(Ut=_r==null?Qe:[+_r[0],+_r[1]],wn):Ut},wn.center=function(_r){return arguments.length?(Ce=_r&&[+_r[0],+_r[1]],wn):Ce},wn.size=function(_r){return arguments.length?(Ft=_r&&[+_r[0],+_r[1]],wn):Ft},wn.duration=function(_r){return arguments.length?(qt=+_r,wn):qt},wn.x=function(_r){return arguments.length?(Je=_r,We=_r.copy(),dt={x:0,y:0,k:1},wn):Je},wn.y=function(_r){return arguments.length?(lt=_r,tt=_r.copy(),dt={x:0,y:0,k:1},wn):lt},a.rebind(wn,Ln,"on")};var Oe,Ne,Qe=[0,1/0];function ut(){}function pt(re,de,Ce){return this instanceof pt?(this.h=+re,this.s=+de,void(this.l=+Ce)):arguments.length<2?re instanceof pt?new pt(re.h,re.s,re.l):gn(""+re,dn,pt):new pt(re,de,Ce)}a.color=ut,ut.prototype.toString=function(){return this.rgb()+""},a.hsl=pt;var wt=pt.prototype=new ut;function Lt(re,de,Ce){var ze,Ve;function We(Je){return Math.round(255*function(tt){return tt>360?tt-=360:tt<0&&(tt+=360),tt<60?ze+(Ve-ze)*tt/60:tt<180?Ve:tt<240?ze+(Ve-ze)*(240-tt)/60:ze}(Je))}return re=isNaN(re)?0:(re%=360)<0?re+360:re,de=isNaN(de)||de<0?0:de>1?1:de,ze=2*(Ce=Ce<0?0:Ce>1?1:Ce)-(Ve=Ce<=.5?Ce*(1+de):Ce+de-Ce*de),new Sn(We(re+120),We(re),We(re-120))}function It(re,de,Ce){return this instanceof It?(this.h=+re,this.c=+de,void(this.l=+Ce)):arguments.length<2?re instanceof It?new It(re.h,re.c,re.l):tn(re instanceof bt?re.l:(re=Rn((re=a.rgb(re)).r,re.g,re.b)).l,re.a,re.b):new It(re,de,Ce)}wt.brighter=function(re){return re=Math.pow(.7,arguments.length?re:1),new pt(this.h,this.s,this.l/re)},wt.darker=function(re){return re=Math.pow(.7,arguments.length?re:1),new pt(this.h,this.s,re*this.l)},wt.rgb=function(){return Lt(this.h,this.s,this.l)},a.hcl=It;var yt=It.prototype=new ut;function Rt(re,de,Ce){return isNaN(re)&&(re=0),isNaN(de)&&(de=0),new bt(Ce,Math.cos(re*=Ke)*de,Math.sin(re)*de)}function bt(re,de,Ce){return this instanceof bt?(this.l=+re,this.a=+de,void(this.b=+Ce)):arguments.length<2?re instanceof bt?new bt(re.l,re.a,re.b):re instanceof It?Rt(re.h,re.c,re.l):Rn((re=Sn(re)).r,re.g,re.b):new bt(re,de,Ce)}yt.brighter=function(re){return new It(this.h,this.c,Math.min(100,this.l+Pt*(arguments.length?re:1)))},yt.darker=function(re){return new It(this.h,this.c,Math.max(0,this.l-Pt*(arguments.length?re:1)))},yt.rgb=function(){return Rt(this.h,this.c,this.l).rgb()},a.lab=bt;var Pt=18,Bt=.95047,Zt=1.08883,Yt=bt.prototype=new ut;function Kt(re,de,Ce){var ze=(re+16)/116,Ve=ze+de/500,We=ze-Ce/200;return new Sn(fn(3.2404542*(Ve=on(Ve)*Bt)-1.5371385*(ze=1*on(ze))-.4985314*(We=on(We)*Zt)),fn(-.969266*Ve+1.8760108*ze+.041556*We),fn(.0556434*Ve-.2040259*ze+1.0572252*We))}function tn(re,de,Ce){return re>0?new It(Math.atan2(Ce,de)*$e,Math.sqrt(de*de+Ce*Ce),re):new It(NaN,NaN,re)}function on(re){return re>.206893034?re*re*re:(re-.13793103448275862)/7.787037}function _n(re){return re>.008856?Math.pow(re,.3333333333333333):7.787037*re+.13793103448275862}function fn(re){return Math.round(255*(re<=.00304?12.92*re:1.055*Math.pow(re,.4166666666666667)-.055))}function Sn(re,de,Ce){return this instanceof Sn?(this.r=~~re,this.g=~~de,void(this.b=~~Ce)):arguments.length<2?re instanceof Sn?new Sn(re.r,re.g,re.b):gn(""+re,Sn,Lt):new Sn(re,de,Ce)}function Xn(re){return new Sn(re>>16,re>>8&255,255&re)}function An(re){return Xn(re)+""}Yt.brighter=function(re){return new bt(Math.min(100,this.l+Pt*(arguments.length?re:1)),this.a,this.b)},Yt.darker=function(re){return new bt(Math.max(0,this.l-Pt*(arguments.length?re:1)),this.a,this.b)},Yt.rgb=function(){return Kt(this.l,this.a,this.b)},a.rgb=Sn;var un=Sn.prototype=new ut;function Tn(re){return re<16?"0"+Math.max(0,re).toString(16):Math.min(255,re).toString(16)}function gn(re,de,Ce){var ze,Ve,We,Je=0,tt=0,lt=0;if(ze=/([a-z]+)\((.*)\)/.exec(re=re.toLowerCase()))switch(Ve=ze[2].split(","),ze[1]){case"hsl":return Ce(parseFloat(Ve[0]),parseFloat(Ve[1])/100,parseFloat(Ve[2])/100);case"rgb":return de(Hn(Ve[0]),Hn(Ve[1]),Hn(Ve[2]))}return(We=Yn.get(re))?de(We.r,We.g,We.b):(re==null||re.charAt(0)!=="#"||isNaN(We=parseInt(re.slice(1),16))||(re.length===4?(Je=(3840&We)>>4,Je|=Je>>4,tt=240&We,tt|=tt>>4,lt=15&We,lt|=lt<<4):re.length===7&&(Je=(16711680&We)>>16,tt=(65280&We)>>8,lt=255&We)),de(Je,tt,lt))}function dn(re,de,Ce){var ze,Ve,We=Math.min(re/=255,de/=255,Ce/=255),Je=Math.max(re,de,Ce),tt=Je-We,lt=(Je+We)/2;return tt?(Ve=lt<.5?tt/(Je+We):tt/(2-Je-We),ze=re==Je?(de-Ce)/tt+(de<Ce?6:0):de==Je?(Ce-re)/tt+2:(re-de)/tt+4,ze*=60):(ze=NaN,Ve=lt>0&&lt<1?0:ze),new pt(ze,Ve,lt)}function Rn(re,de,Ce){var ze=_n((.4124564*(re=In(re))+.3575761*(de=In(de))+.1804375*(Ce=In(Ce)))/Bt),Ve=_n((.2126729*re+.7151522*de+.072175*Ce)/1);return bt(116*Ve-16,500*(ze-Ve),200*(Ve-_n((.0193339*re+.119192*de+.9503041*Ce)/Zt)))}function In(re){return(re/=255)<=.04045?re/12.92:Math.pow((re+.055)/1.055,2.4)}function Hn(re){var de=parseFloat(re);return re.charAt(re.length-1)==="%"?Math.round(2.55*de):de}un.brighter=function(re){re=Math.pow(.7,arguments.length?re:1);var de=this.r,Ce=this.g,ze=this.b,Ve=30;return de||Ce||ze?(de&&de<Ve&&(de=Ve),Ce&&Ce<Ve&&(Ce=Ve),ze&&ze<Ve&&(ze=Ve),new Sn(Math.min(255,de/re),Math.min(255,Ce/re),Math.min(255,ze/re))):new Sn(Ve,Ve,Ve)},un.darker=function(re){return new Sn((re=Math.pow(.7,arguments.length?re:1))*this.r,re*this.g,re*this.b)},un.hsl=function(){return dn(this.r,this.g,this.b)},un.toString=function(){return"#"+Tn(this.r)+Tn(this.g)+Tn(this.b)};var Yn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Gn(re){return typeof re=="function"?re:function(){return re}}function cr(re){return function(de,Ce,ze){return arguments.length===2&&typeof Ce=="function"&&(ze=Ce,Ce=null),ir(de,Ce,re,ze)}}function ir(re,de,Ce,ze){var Ve={},We=a.dispatch("beforesend","progress","load","error"),Je={},tt=new XMLHttpRequest,lt=null;function dt(){var Ft,Ut=tt.status;if(!Ut&&function(qt){var nn=qt.responseType;return nn&&nn!=="text"?qt.response:qt.responseText}(tt)||Ut>=200&&Ut<300||Ut===304){try{Ft=Ce.call(Ve,tt)}catch(qt){return void We.error.call(Ve,qt)}We.load.call(Ve,Ft)}else We.error.call(Ve,tt)}return self.XDomainRequest&&!("withCredentials"in tt)&&/^(http(s)?:)?\/\//.test(re)&&(tt=new XDomainRequest),"onload"in tt?tt.onload=tt.onerror=dt:tt.onreadystatechange=function(){tt.readyState>3&&dt()},tt.onprogress=function(Ft){var Ut=a.event;a.event=Ft;try{We.progress.call(Ve,tt)}finally{a.event=Ut}},Ve.header=function(Ft,Ut){return Ft=(Ft+"").toLowerCase(),arguments.length<2?Je[Ft]:(Ut==null?delete Je[Ft]:Je[Ft]=Ut+"",Ve)},Ve.mimeType=function(Ft){return arguments.length?(de=Ft==null?null:Ft+"",Ve):de},Ve.responseType=function(Ft){return arguments.length?(lt=Ft,Ve):lt},Ve.response=function(Ft){return Ce=Ft,Ve},["get","post"].forEach(function(Ft){Ve[Ft]=function(){return Ve.send.apply(Ve,[Ft].concat(y(arguments)))}}),Ve.send=function(Ft,Ut,qt){if(arguments.length===2&&typeof Ut=="function"&&(qt=Ut,Ut=null),tt.open(Ft,re,!0),de==null||"accept"in Je||(Je.accept=de+",*/*"),tt.setRequestHeader)for(var nn in Je)tt.setRequestHeader(nn,Je[nn]);return de!=null&&tt.overrideMimeType&&tt.overrideMimeType(de),lt!=null&&(tt.responseType=lt),qt!=null&&Ve.on("error",qt).on("load",function(yn){qt(null,yn)}),We.beforesend.call(Ve,tt),tt.send(Ut??null),Ve},Ve.abort=function(){return tt.abort(),Ve},a.rebind(Ve,We,"on"),ze==null?Ve:Ve.get(function(Ft){return Ft.length===1?function(Ut,qt){Ft(Ut==null?qt:null)}:Ft}(ze))}Yn.forEach(function(re,de){Yn.set(re,Xn(de))}),a.functor=Gn,a.xhr=cr(V),a.dsv=function(re,de){var Ce=new RegExp('["'+re+`
]`),ze=re.charCodeAt(0);function Ve(dt,Ft,Ut){arguments.length<3&&(Ut=Ft,Ft=null);var qt=ir(dt,de,Ft==null?We:Je(Ft),Ut);return qt.row=function(nn){return arguments.length?qt.response((Ft=nn)==null?We:Je(nn)):Ft},qt}function We(dt){return Ve.parse(dt.responseText)}function Je(dt){return function(Ft){return Ve.parse(Ft.responseText,dt)}}function tt(dt){return dt.map(lt).join(re)}function lt(dt){return Ce.test(dt)?'"'+dt.replace(/\"/g,'""')+'"':dt}return Ve.parse=function(dt,Ft){var Ut;return Ve.parseRows(dt,function(qt,nn){if(Ut)return Ut(qt,nn-1);var yn=function(rn){for(var cn={},sn=qt.length,Ln=0;Ln<sn;++Ln)cn[qt[Ln]]=rn[Ln];return cn};Ut=Ft?function(rn,cn){return Ft(yn(rn),cn)}:yn})},Ve.parseRows=function(dt,Ft){var Ut,qt,nn={},yn={},rn=[],cn=dt.length,sn=0,Ln=0;function wn(){if(sn>=cn)return yn;if(qt)return qt=!1,nn;var Bn=sn;if(dt.charCodeAt(Bn)===34){for(var Wn=Bn;Wn++<cn;)if(dt.charCodeAt(Wn)===34){if(dt.charCodeAt(Wn+1)!==34)break;++Wn}return sn=Wn+2,(tr=dt.charCodeAt(Wn+1))===13?(qt=!0,dt.charCodeAt(Wn+2)===10&&++sn):tr===10&&(qt=!0),dt.slice(Bn+1,Wn).replace(/""/g,'"')}for(;sn<cn;){var tr,or=1;if((tr=dt.charCodeAt(sn++))===10)qt=!0;else if(tr===13)qt=!0,dt.charCodeAt(sn)===10&&(++sn,++or);else if(tr!==ze)continue;return dt.slice(Bn,sn-or)}return dt.slice(Bn)}for(;(Ut=wn())!==yn;){for(var ln=[];Ut!==nn&&Ut!==yn;)ln.push(Ut),Ut=wn();Ft&&(ln=Ft(ln,Ln++))==null||rn.push(ln)}return rn},Ve.format=function(dt){if(Array.isArray(dt[0]))return Ve.formatRows(dt);var Ft=new z,Ut=[];return dt.forEach(function(qt){for(var nn in qt)Ft.has(nn)||Ut.push(Ft.add(nn))}),[Ut.map(lt).join(re)].concat(dt.map(function(qt){return Ut.map(function(nn){return lt(qt[nn])}).join(re)})).join(`
`)},Ve.formatRows=function(dt){return dt.map(tt).join(`
`)},Ve},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Mr,gr,sr,xr,kr=this[W(this,"requestAnimationFrame")]||function(re){setTimeout(re,17)};function Qt(re,de,Ce){var ze=arguments.length;ze<2&&(de=0),ze<3&&(Ce=Date.now());var Ve=Ce+de,We={c:re,t:Ve,n:null};return gr?gr.n=We:Mr=We,gr=We,sr||(xr=clearTimeout(xr),sr=1,kr(bn)),We}function bn(){var re=Dn(),de=Pn()-re;de>24?(isFinite(de)&&(clearTimeout(xr),xr=setTimeout(bn,de)),sr=0):(sr=1,kr(bn))}function Dn(){for(var re=Date.now(),de=Mr;de;)re>=de.t&&de.c(re-de.t)&&(de.c=null),de=de.n;return re}function Pn(){for(var re,de=Mr,Ce=1/0;de;)de.c?(de.t<Ce&&(Ce=de.t),de=(re=de).n):de=re?re.n=de.n:Mr=de.n;return gr=re,Ce}function qn(re){return re[0]}function Qn(re){return re[1]}function Jn(re){for(var de,Ce,ze,Ve=re.length,We=[0,1],Je=2,tt=2;tt<Ve;tt++){for(;Je>1&&(de=re[We[Je-2]],Ce=re[We[Je-1]],ze=re[tt],(Ce[0]-de[0])*(ze[1]-de[1])-(Ce[1]-de[1])*(ze[0]-de[0])<=0);)--Je;We[Je++]=tt}return We.slice(0,Je)}function nr(re,de){return re[0]-de[0]||re[1]-de[1]}a.timer=function(){Qt.apply(this,arguments)},a.timer.flush=function(){Dn(),Pn()},a.round=function(re,de){return de?Math.round(re*(de=Math.pow(10,de)))/de:Math.round(re)},a.geom={},a.geom.hull=function(re){var de=qn,Ce=Qn;if(arguments.length)return ze(re);function ze(Ve){if(Ve.length<3)return[];var We,Je=Gn(de),tt=Gn(Ce),lt=Ve.length,dt=[],Ft=[];for(We=0;We<lt;We++)dt.push([+Je.call(this,Ve[We],We),+tt.call(this,Ve[We],We),We]);for(dt.sort(nr),We=0;We<lt;We++)Ft.push([dt[We][0],-dt[We][1]]);var Ut=Jn(dt),qt=Jn(Ft),nn=qt[0]===Ut[0],yn=qt[qt.length-1]===Ut[Ut.length-1],rn=[];for(We=Ut.length-1;We>=0;--We)rn.push(Ve[dt[Ut[We]][2]]);for(We=+nn;We<qt.length-yn;++We)rn.push(Ve[dt[qt[We]][2]]);return rn}return ze.x=function(Ve){return arguments.length?(de=Ve,ze):de},ze.y=function(Ve){return arguments.length?(Ce=Ve,ze):Ce},ze},a.geom.polygon=function(re){return $(re,yr),re};var yr=a.geom.polygon.prototype=[];function an(re,de,Ce){return(Ce[0]-de[0])*(re[1]-de[1])<(Ce[1]-de[1])*(re[0]-de[0])}function zn(re,de,Ce,ze){var Ve=re[0],We=Ce[0],Je=de[0]-Ve,tt=ze[0]-We,lt=re[1],dt=Ce[1],Ft=de[1]-lt,Ut=ze[1]-dt,qt=(tt*(lt-dt)-Ut*(Ve-We))/(Ut*Je-tt*Ft);return[Ve+qt*Je,lt+qt*Ft]}function Vt(re){var de=re[0],Ce=re[re.length-1];return!(de[0]-Ce[0]||de[1]-Ce[1])}yr.area=function(){for(var re,de=-1,Ce=this.length,ze=this[Ce-1],Ve=0;++de<Ce;)re=ze,ze=this[de],Ve+=re[1]*ze[0]-re[0]*ze[1];return .5*Ve},yr.centroid=function(re){var de,Ce,ze=-1,Ve=this.length,We=0,Je=0,tt=this[Ve-1];for(arguments.length||(re=-1/(6*this.area()));++ze<Ve;)de=tt,tt=this[ze],Ce=de[0]*tt[1]-tt[0]*de[1],We+=(de[0]+tt[0])*Ce,Je+=(de[1]+tt[1])*Ce;return[We*re,Je*re]},yr.clip=function(re){for(var de,Ce,ze,Ve,We,Je,tt=Vt(re),lt=-1,dt=this.length-Vt(this),Ft=this[dt-1];++lt<dt;){for(de=re.slice(),re.length=0,Ve=this[lt],We=de[(ze=de.length-tt)-1],Ce=-1;++Ce<ze;)an(Je=de[Ce],Ft,Ve)?(an(We,Ft,Ve)||re.push(zn(We,Je,Ft,Ve)),re.push(Je)):an(We,Ft,Ve)&&re.push(zn(We,Je,Ft,Ve)),We=Je;tt&&re.push(re[0]),Ft=Ve}return re};var en,pn,Nn,Fn,On,mn=[],kn=[];function vn(){gi(this),this.edge=this.site=this.circle=null}function xn(re){var de=mn.pop()||new vn;return de.site=re,de}function En(re){br(re),Nn.remove(re),mn.push(re),gi(re)}function Vn(re){var de=re.circle,Ce=de.x,ze=de.cy,Ve={x:Ce,y:ze},We=re.P,Je=re.N,tt=[re];En(re);for(var lt=We;lt.circle&&x(Ce-lt.circle.x)<Nt&&x(ze-lt.circle.cy)<Nt;)We=lt.P,tt.unshift(lt),En(lt),lt=We;tt.unshift(lt),br(lt);for(var dt=Je;dt.circle&&x(Ce-dt.circle.x)<Nt&&x(ze-dt.circle.cy)<Nt;)Je=dt.N,tt.push(dt),En(dt),dt=Je;tt.push(dt),br(dt);var Ft,Ut=tt.length;for(Ft=1;Ft<Ut;++Ft)dt=tt[Ft],lt=tt[Ft-1],dr(dt.edge,lt.site,dt.site,Ve);lt=tt[0],(dt=tt[Ut-1]).edge=Tr(lt.site,dt.site,null,Ve),mr(lt),mr(dt)}function $n(re){for(var de,Ce,ze,Ve,We=re.x,Je=re.y,tt=Nn._;tt;)if((ze=rr(tt,Je)-We)>Nt)tt=tt.L;else{if(!((Ve=We-er(tt,Je))>Nt)){ze>-Nt?(de=tt.P,Ce=tt):Ve>-Nt?(de=tt,Ce=tt.N):de=Ce=tt;break}if(!tt.R){de=tt;break}tt=tt.R}var lt=xn(re);if(Nn.insert(de,lt),de||Ce){if(de===Ce)return br(de),Ce=xn(de.site),Nn.insert(lt,Ce),lt.edge=Ce.edge=Tr(de.site,lt.site),mr(de),void mr(Ce);if(Ce){br(de),br(Ce);var dt=de.site,Ft=dt.x,Ut=dt.y,qt=re.x-Ft,nn=re.y-Ut,yn=Ce.site,rn=yn.x-Ft,cn=yn.y-Ut,sn=2*(qt*cn-nn*rn),Ln=qt*qt+nn*nn,wn=rn*rn+cn*cn,ln={x:(cn*Ln-nn*wn)/sn+Ft,y:(qt*wn-rn*Ln)/sn+Ut};dr(Ce.edge,dt,yn,ln),lt.edge=Tr(dt,re,null,ln),Ce.edge=Tr(re,yn,null,ln),mr(de),mr(Ce)}else lt.edge=Tr(de.site,lt.site)}}function rr(re,de){var Ce=re.site,ze=Ce.x,Ve=Ce.y,We=Ve-de;if(!We)return ze;var Je=re.P;if(!Je)return-1/0;var tt=(Ce=Je.site).x,lt=Ce.y,dt=lt-de;if(!dt)return tt;var Ft=tt-ze,Ut=1/We-1/dt,qt=Ft/dt;return Ut?(-qt+Math.sqrt(qt*qt-2*Ut*(Ft*Ft/(-2*dt)-lt+dt/2+Ve-We/2)))/Ut+ze:(ze+tt)/2}function er(re,de){var Ce=re.N;if(Ce)return rr(Ce,de);var ze=re.site;return ze.y===de?ze.x:1/0}function pr(re){this.site=re,this.edges=[]}function fr(re,de){return de.angle-re.angle}function vr(){gi(this),this.x=this.y=this.arc=this.site=this.cy=null}function mr(re){var de=re.P,Ce=re.N;if(de&&Ce){var ze=de.site,Ve=re.site,We=Ce.site;if(ze!==We){var Je=Ve.x,tt=Ve.y,lt=ze.x-Je,dt=ze.y-tt,Ft=We.x-Je,Ut=2*(lt*(cn=We.y-tt)-dt*Ft);if(!(Ut>=-1e-12)){var qt=lt*lt+dt*dt,nn=Ft*Ft+cn*cn,yn=(cn*qt-dt*nn)/Ut,rn=(lt*nn-Ft*qt)/Ut,cn=rn+tt,sn=kn.pop()||new vr;sn.arc=re,sn.site=Ve,sn.x=yn+Je,sn.y=cn+Math.sqrt(yn*yn+rn*rn),sn.cy=cn,re.circle=sn;for(var Ln=null,wn=On._;wn;)if(sn.y<wn.y||sn.y===wn.y&&sn.x<=wn.x){if(!wn.L){Ln=wn.P;break}wn=wn.L}else{if(!wn.R){Ln=wn;break}wn=wn.R}On.insert(Ln,sn),Ln||(Fn=sn)}}}}function br(re){var de=re.circle;de&&(de.P||(Fn=de.N),On.remove(de),kn.push(de),gi(de),re.circle=null)}function Or(re,de){var Ce=re.b;if(Ce)return!0;var ze,Ve,We=re.a,Je=de[0][0],tt=de[1][0],lt=de[0][1],dt=de[1][1],Ft=re.l,Ut=re.r,qt=Ft.x,nn=Ft.y,yn=Ut.x,rn=Ut.y,cn=(qt+yn)/2,sn=(nn+rn)/2;if(rn===nn){if(cn<Je||cn>=tt)return;if(qt>yn){if(We){if(We.y>=dt)return}else We={x:cn,y:lt};Ce={x:cn,y:dt}}else{if(We){if(We.y<lt)return}else We={x:cn,y:dt};Ce={x:cn,y:lt}}}else if(Ve=sn-(ze=(qt-yn)/(rn-nn))*cn,ze<-1||ze>1)if(qt>yn){if(We){if(We.y>=dt)return}else We={x:(lt-Ve)/ze,y:lt};Ce={x:(dt-Ve)/ze,y:dt}}else{if(We){if(We.y<lt)return}else We={x:(dt-Ve)/ze,y:dt};Ce={x:(lt-Ve)/ze,y:lt}}else if(nn<rn){if(We){if(We.x>=tt)return}else We={x:Je,y:ze*Je+Ve};Ce={x:tt,y:ze*tt+Ve}}else{if(We){if(We.x<Je)return}else We={x:tt,y:ze*tt+Ve};Ce={x:Je,y:ze*Je+Ve}}return re.a=We,re.b=Ce,!0}function Lr(re,de){this.l=re,this.r=de,this.a=this.b=null}function Tr(re,de,Ce,ze){var Ve=new Lr(re,de);return en.push(Ve),Ce&&dr(Ve,re,de,Ce),ze&&dr(Ve,de,re,ze),pn[re.i].edges.push(new Pr(Ve,re,de)),pn[de.i].edges.push(new Pr(Ve,de,re)),Ve}function dr(re,de,Ce,ze){re.a||re.b?re.l===Ce?re.b=ze:re.a=ze:(re.a=ze,re.l=de,re.r=Ce)}function Pr(re,de,Ce){var ze=re.a,Ve=re.b;this.edge=re,this.site=de,this.angle=Ce?Math.atan2(Ce.y-de.y,Ce.x-de.x):re.l===de?Math.atan2(Ve.x-ze.x,ze.y-Ve.y):Math.atan2(ze.x-Ve.x,Ve.y-ze.y)}function Xr(){this._=null}function gi(re){re.U=re.C=re.L=re.R=re.P=re.N=null}function Ii(re,de){var Ce=de,ze=de.R,Ve=Ce.U;Ve?Ve.L===Ce?Ve.L=ze:Ve.R=ze:re._=ze,ze.U=Ve,Ce.U=ze,Ce.R=ze.L,Ce.R&&(Ce.R.U=Ce),ze.L=Ce}function Ri(re,de){var Ce=de,ze=de.L,Ve=Ce.U;Ve?Ve.L===Ce?Ve.L=ze:Ve.R=ze:re._=ze,ze.U=Ve,Ce.U=ze,Ce.L=ze.R,Ce.L&&(Ce.L.U=Ce),ze.R=Ce}function ra(re){for(;re.L;)re=re.L;return re}function Oi(re,de){var Ce,ze,Ve,We=re.sort(ki).pop();for(en=[],pn=new Array(re.length),Nn=new Xr,On=new Xr;;)if(Ve=Fn,We&&(!Ve||We.y<Ve.y||We.y===Ve.y&&We.x<Ve.x))We.x===Ce&&We.y===ze||(pn[We.i]=new pr(We),$n(We),Ce=We.x,ze=We.y),We=re.pop();else{if(!Ve)break;Vn(Ve.arc)}de&&(function(tt){for(var lt,dt,Ft,Ut,qt,nn=en,yn=(dt=tt[0][0],Ft=tt[0][1],Ut=tt[1][0],qt=tt[1][1],function(cn){var sn,Ln=cn.a,wn=cn.b,ln=Ln.x,Bn=Ln.y,Wn=0,tr=1,or=wn.x-ln,Sr=wn.y-Bn;if(sn=dt-ln,or||!(sn>0)){if(sn/=or,or<0){if(sn<Wn)return;sn<tr&&(tr=sn)}else if(or>0){if(sn>tr)return;sn>Wn&&(Wn=sn)}if(sn=Ut-ln,or||!(sn<0)){if(sn/=or,or<0){if(sn>tr)return;sn>Wn&&(Wn=sn)}else if(or>0){if(sn<Wn)return;sn<tr&&(tr=sn)}if(sn=Ft-Bn,Sr||!(sn>0)){if(sn/=Sr,Sr<0){if(sn<Wn)return;sn<tr&&(tr=sn)}else if(Sr>0){if(sn>tr)return;sn>Wn&&(Wn=sn)}if(sn=qt-Bn,Sr||!(sn<0)){if(sn/=Sr,Sr<0){if(sn>tr)return;sn>Wn&&(Wn=sn)}else if(Sr>0){if(sn<Wn)return;sn<tr&&(tr=sn)}return Wn>0&&(cn.a={x:ln+Wn*or,y:Bn+Wn*Sr}),tr<1&&(cn.b={x:ln+tr*or,y:Bn+tr*Sr}),cn}}}}}),rn=nn.length;rn--;)(!Or(lt=nn[rn],tt)||!yn(lt)||x(lt.a.x-lt.b.x)<Nt&&x(lt.a.y-lt.b.y)<Nt)&&(lt.a=lt.b=null,nn.splice(rn,1))}(de),function(tt){for(var lt,dt,Ft,Ut,qt,nn,yn,rn,cn,sn,Ln=tt[0][0],wn=tt[1][0],ln=tt[0][1],Bn=tt[1][1],Wn=pn,tr=Wn.length;tr--;)if((qt=Wn[tr])&&qt.prepare())for(rn=(yn=qt.edges).length,nn=0;nn<rn;)Ft=(sn=yn[nn].end()).x,Ut=sn.y,lt=(cn=yn[++nn%rn].start()).x,dt=cn.y,(x(Ft-lt)>Nt||x(Ut-dt)>Nt)&&(yn.splice(nn,0,new Pr((or=qt.site,Sr=sn,Cr=x(Ft-Ln)<Nt&&Bn-Ut>Nt?{x:Ln,y:x(lt-Ln)<Nt?dt:Bn}:x(Ut-Bn)<Nt&&wn-Ft>Nt?{x:x(dt-Bn)<Nt?lt:wn,y:Bn}:x(Ft-wn)<Nt&&Ut-ln>Nt?{x:wn,y:x(lt-wn)<Nt?dt:ln}:x(Ut-ln)<Nt&&Ft-Ln>Nt?{x:x(dt-ln)<Nt?lt:Ln,y:ln}:null,wr=void 0,(wr=new Lr(or,null)).a=Sr,wr.b=Cr,en.push(wr),wr),qt.site,null)),++rn);var or,Sr,Cr,wr}(de));var Je={cells:pn,edges:en};return Nn=On=en=pn=null,Je}function ki(re,de){return de.y-re.y||de.x-re.x}pr.prototype.prepare=function(){for(var re,de=this.edges,Ce=de.length;Ce--;)(re=de[Ce].edge).b&&re.a||de.splice(Ce,1);return de.sort(fr),de.length},Pr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Xr.prototype={insert:function(re,de){var Ce,ze,Ve;if(re){if(de.P=re,de.N=re.N,re.N&&(re.N.P=de),re.N=de,re.R){for(re=re.R;re.L;)re=re.L;re.L=de}else re.R=de;Ce=re}else this._?(re=ra(this._),de.P=null,de.N=re,re.P=re.L=de,Ce=re):(de.P=de.N=null,this._=de,Ce=null);for(de.L=de.R=null,de.U=Ce,de.C=!0,re=de;Ce&&Ce.C;)Ce===(ze=Ce.U).L?(Ve=ze.R)&&Ve.C?(Ce.C=Ve.C=!1,ze.C=!0,re=ze):(re===Ce.R&&(Ii(this,Ce),Ce=(re=Ce).U),Ce.C=!1,ze.C=!0,Ri(this,ze)):(Ve=ze.L)&&Ve.C?(Ce.C=Ve.C=!1,ze.C=!0,re=ze):(re===Ce.L&&(Ri(this,Ce),Ce=(re=Ce).U),Ce.C=!1,ze.C=!0,Ii(this,ze)),Ce=re.U;this._.C=!1},remove:function(re){re.N&&(re.N.P=re.P),re.P&&(re.P.N=re.N),re.N=re.P=null;var de,Ce,ze,Ve=re.U,We=re.L,Je=re.R;if(Ce=We?Je?ra(Je):We:Je,Ve?Ve.L===re?Ve.L=Ce:Ve.R=Ce:this._=Ce,We&&Je?(ze=Ce.C,Ce.C=re.C,Ce.L=We,We.U=Ce,Ce!==Je?(Ve=Ce.U,Ce.U=re.U,re=Ce.R,Ve.L=re,Ce.R=Je,Je.U=Ce):(Ce.U=Ve,Ve=Ce,re=Ce.R)):(ze=re.C,re=Ce),re&&(re.U=Ve),!ze)if(re&&re.C)re.C=!1;else{do{if(re===this._)break;if(re===Ve.L){if((de=Ve.R).C&&(de.C=!1,Ve.C=!0,Ii(this,Ve),de=Ve.R),de.L&&de.L.C||de.R&&de.R.C){de.R&&de.R.C||(de.L.C=!1,de.C=!0,Ri(this,de),de=Ve.R),de.C=Ve.C,Ve.C=de.R.C=!1,Ii(this,Ve),re=this._;break}}else if((de=Ve.L).C&&(de.C=!1,Ve.C=!0,Ri(this,Ve),de=Ve.L),de.L&&de.L.C||de.R&&de.R.C){de.L&&de.L.C||(de.R.C=!1,de.C=!0,Ii(this,de),de=Ve.L),de.C=Ve.C,Ve.C=de.L.C=!1,Ri(this,Ve),re=this._;break}de.C=!0,re=Ve,Ve=Ve.U}while(!re.C);re&&(re.C=!1)}}},a.geom.voronoi=function(re){var de=qn,Ce=Qn,ze=de,Ve=Ce,We=Pa;if(re)return Je(re);function Je(lt){var dt=new Array(lt.length),Ft=We[0][0],Ut=We[0][1],qt=We[1][0],nn=We[1][1];return Oi(tt(lt),We).cells.forEach(function(yn,rn){var cn=yn.edges,sn=yn.site;(dt[rn]=cn.length?cn.map(function(Ln){var wn=Ln.start();return[wn.x,wn.y]}):sn.x>=Ft&&sn.x<=qt&&sn.y>=Ut&&sn.y<=nn?[[Ft,nn],[qt,nn],[qt,Ut],[Ft,Ut]]:[]).point=lt[rn]}),dt}function tt(lt){return lt.map(function(dt,Ft){return{x:Math.round(ze(dt,Ft)/Nt)*Nt,y:Math.round(Ve(dt,Ft)/Nt)*Nt,i:Ft}})}return Je.links=function(lt){return Oi(tt(lt)).edges.filter(function(dt){return dt.l&&dt.r}).map(function(dt){return{source:lt[dt.l.i],target:lt[dt.r.i]}})},Je.triangles=function(lt){var dt=[];return Oi(tt(lt)).cells.forEach(function(Ft,Ut){for(var qt,nn,yn,rn,cn=Ft.site,sn=Ft.edges.sort(fr),Ln=-1,wn=sn.length,ln=sn[wn-1].edge,Bn=ln.l===cn?ln.r:ln.l;++Ln<wn;)qt=Bn,Bn=(ln=sn[Ln].edge).l===cn?ln.r:ln.l,Ut<qt.i&&Ut<Bn.i&&(yn=qt,rn=Bn,((nn=cn).x-rn.x)*(yn.y-nn.y)-(nn.x-yn.x)*(rn.y-nn.y)<0)&&dt.push([lt[Ut],lt[qt.i],lt[Bn.i]])}),dt},Je.x=function(lt){return arguments.length?(ze=Gn(de=lt),Je):de},Je.y=function(lt){return arguments.length?(Ve=Gn(Ce=lt),Je):Ce},Je.clipExtent=function(lt){return arguments.length?(We=lt??Pa,Je):We===Pa?null:We},Je.size=function(lt){return arguments.length?Je.clipExtent(lt&&[[0,0],lt]):We===Pa?null:We&&We[1]},Je};var Pa=[[-1e6,-1e6],[1e6,1e6]];function ia(re){return re.x}function Wo(re){return re.y}function us(re,de,Ce,ze,Ve,We){if(!re(de,Ce,ze,Ve,We)){var Je=.5*(Ce+Ve),tt=.5*(ze+We),lt=de.nodes;lt[0]&&us(re,lt[0],Ce,ze,Je,tt),lt[1]&&us(re,lt[1],Je,ze,Ve,tt),lt[2]&&us(re,lt[2],Ce,tt,Je,We),lt[3]&&us(re,lt[3],Je,tt,Ve,We)}}function yu(re,de,Ce,ze,Ve,We,Je){var tt,lt=1/0;return function dt(Ft,Ut,qt,nn,yn){if(!(Ut>We||qt>Je||nn<ze||yn<Ve)){if(rn=Ft.point){var rn,cn=de-Ft.x,sn=Ce-Ft.y,Ln=cn*cn+sn*sn;if(Ln<lt){var wn=Math.sqrt(lt=Ln);ze=de-wn,Ve=Ce-wn,We=de+wn,Je=Ce+wn,tt=rn}}for(var ln=Ft.nodes,Bn=.5*(Ut+nn),Wn=.5*(qt+yn),tr=(Ce>=Wn)<<1|de>=Bn,or=tr+4;tr<or;++tr)if(Ft=ln[3&tr])switch(3&tr){case 0:dt(Ft,Ut,qt,Bn,Wn);break;case 1:dt(Ft,Bn,qt,nn,Wn);break;case 2:dt(Ft,Ut,Wn,Bn,yn);break;case 3:dt(Ft,Bn,Wn,nn,yn)}}}(re,ze,Ve,We,Je),tt}function $l(re,de){re=a.rgb(re),de=a.rgb(de);var Ce=re.r,ze=re.g,Ve=re.b,We=de.r-Ce,Je=de.g-ze,tt=de.b-Ve;return function(lt){return"#"+Tn(Math.round(Ce+We*lt))+Tn(Math.round(ze+Je*lt))+Tn(Math.round(Ve+tt*lt))}}function nl(re,de){var Ce,ze={},Ve={};for(Ce in re)Ce in de?ze[Ce]=Va(re[Ce],de[Ce]):Ve[Ce]=re[Ce];for(Ce in de)Ce in re||(Ve[Ce]=de[Ce]);return function(We){for(Ce in ze)Ve[Ce]=ze[Ce](We);return Ve}}function La(re,de){return re=+re,de=+de,function(Ce){return re*(1-Ce)+de*Ce}}function xl(re,de){var Ce,ze,Ve,We=ua.lastIndex=bl.lastIndex=0,Je=-1,tt=[],lt=[];for(re+="",de+="";(Ce=ua.exec(re))&&(ze=bl.exec(de));)(Ve=ze.index)>We&&(Ve=de.slice(We,Ve),tt[Je]?tt[Je]+=Ve:tt[++Je]=Ve),(Ce=Ce[0])===(ze=ze[0])?tt[Je]?tt[Je]+=ze:tt[++Je]=ze:(tt[++Je]=null,lt.push({i:Je,x:La(Ce,ze)})),We=bl.lastIndex;return We<de.length&&(Ve=de.slice(We),tt[Je]?tt[Je]+=Ve:tt[++Je]=Ve),tt.length<2?lt[0]?(de=lt[0].x,function(dt){return de(dt)+""}):function(){return de}:(de=lt.length,function(dt){for(var Ft,Ut=0;Ut<de;++Ut)tt[(Ft=lt[Ut]).i]=Ft.x(dt);return tt.join("")})}a.geom.delaunay=function(re){return a.geom.voronoi().triangles(re)},a.geom.quadtree=function(re,de,Ce,ze,Ve){var We,Je=qn,tt=Qn;if(We=arguments.length)return Je=ia,tt=Wo,We===3&&(Ve=Ce,ze=de,Ce=de=0),lt(re);function lt(dt){var Ft,Ut,qt,nn,yn,rn,cn,sn,Ln,wn=Gn(Je),ln=Gn(tt);if(de!=null)rn=de,cn=Ce,sn=ze,Ln=Ve;else if(sn=Ln=-(rn=cn=1/0),Ut=[],qt=[],yn=dt.length,We)for(nn=0;nn<yn;++nn)(Ft=dt[nn]).x<rn&&(rn=Ft.x),Ft.y<cn&&(cn=Ft.y),Ft.x>sn&&(sn=Ft.x),Ft.y>Ln&&(Ln=Ft.y),Ut.push(Ft.x),qt.push(Ft.y);else for(nn=0;nn<yn;++nn){var Bn=+wn(Ft=dt[nn],nn),Wn=+ln(Ft,nn);Bn<rn&&(rn=Bn),Wn<cn&&(cn=Wn),Bn>sn&&(sn=Bn),Wn>Ln&&(Ln=Wn),Ut.push(Bn),qt.push(Wn)}var tr=sn-rn,or=Ln-cn;function Sr(Ar,Fr,ii,ai,_r,Rr,Qr,$r){if(!isNaN(ii)&&!isNaN(ai))if(Ar.leaf){var di=Ar.x,li=Ar.y;if(di!=null)if(x(di-ii)+x(li-ai)<.01)Cr(Ar,Fr,ii,ai,_r,Rr,Qr,$r);else{var vi=Ar.point;Ar.x=Ar.y=Ar.point=null,Cr(Ar,vi,di,li,_r,Rr,Qr,$r),Cr(Ar,Fr,ii,ai,_r,Rr,Qr,$r)}else Ar.x=ii,Ar.y=ai,Ar.point=Fr}else Cr(Ar,Fr,ii,ai,_r,Rr,Qr,$r)}function Cr(Ar,Fr,ii,ai,_r,Rr,Qr,$r){var di=.5*(_r+Qr),li=.5*(Rr+$r),vi=ii>=di,Ei=ai>=li,Ai=Ei<<1|vi;Ar.leaf=!1,vi?_r=di:Qr=di,Ei?Rr=li:$r=li,Sr(Ar=Ar.nodes[Ai]||(Ar.nodes[Ai]={leaf:!0,nodes:[],point:null,x:null,y:null}),Fr,ii,ai,_r,Rr,Qr,$r)}tr>or?Ln=cn+tr:sn=rn+or;var wr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Ar){Sr(wr,Ar,+wn(Ar,++nn),+ln(Ar,nn),rn,cn,sn,Ln)},visit:function(Ar){us(Ar,wr,rn,cn,sn,Ln)},find:function(Ar){return yu(wr,Ar[0],Ar[1],rn,cn,sn,Ln)}};if(nn=-1,de==null){for(;++nn<yn;)Sr(wr,dt[nn],Ut[nn],qt[nn],rn,cn,sn,Ln);--nn}else dt.forEach(wr.add);return Ut=qt=dt=Ft=null,wr}return lt.x=function(dt){return arguments.length?(Je=dt,lt):Je},lt.y=function(dt){return arguments.length?(tt=dt,lt):tt},lt.extent=function(dt){return arguments.length?(dt==null?de=Ce=ze=Ve=null:(de=+dt[0][0],Ce=+dt[0][1],ze=+dt[1][0],Ve=+dt[1][1]),lt):de==null?null:[[de,Ce],[ze,Ve]]},lt.size=function(dt){return arguments.length?(dt==null?de=Ce=ze=Ve=null:(de=Ce=0,ze=+dt[0],Ve=+dt[1]),lt):de==null?null:[ze-de,Ve-Ce]},lt},a.interpolateRgb=$l,a.interpolateObject=nl,a.interpolateNumber=La,a.interpolateString=xl;var ua=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bl=new RegExp(ua.source,"g");function Va(re,de){for(var Ce,ze=a.interpolators.length;--ze>=0&&!(Ce=a.interpolators[ze](re,de)););return Ce}function Ha(re,de){var Ce,ze=[],Ve=[],We=re.length,Je=de.length,tt=Math.min(re.length,de.length);for(Ce=0;Ce<tt;++Ce)ze.push(Va(re[Ce],de[Ce]));for(;Ce<We;++Ce)Ve[Ce]=re[Ce];for(;Ce<Je;++Ce)Ve[Ce]=de[Ce];return function(lt){for(Ce=0;Ce<tt;++Ce)Ve[Ce]=ze[Ce](lt);return Ve}}a.interpolate=Va,a.interpolators=[function(re,de){var Ce=typeof de;return(Ce==="string"?Yn.has(de.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(de)?$l:xl:de instanceof ut?$l:Array.isArray(de)?Ha:Ce==="object"&&isNaN(de)?nl:La)(re,de)}],a.interpolateArray=Ha;var cs=function(){return V},xi=a.map({linear:cs,poly:function(re){return function(de){return Math.pow(de,re)}},quad:function(){return _l},cubic:function(){return Ps},sin:function(){return zl},exp:function(){return xu},circle:function(){return Ql},elastic:function(re,de){var Ce;return arguments.length<2&&(de=.45),arguments.length?Ce=de/Et*Math.asin(1/re):(re=1,Ce=de/4),function(ze){return 1+re*Math.pow(2,-10*ze)*Math.sin((ze-Ce)*Et/de)}},back:function(re){return re||(re=1.70158),function(de){return de*de*((re+1)*de-re)}},bounce:function(){return eu}}),fs=a.map({in:V,out:To,"in-out":Ao,"out-in":function(re){return Ao(To(re))}});function co(re){return function(de){return de<=0?0:de>=1?1:re(de)}}function To(re){return function(de){return 1-re(1-de)}}function Ao(re){return function(de){return .5*(de<.5?re(2*de):2-re(2-2*de))}}function _l(re){return re*re}function Ps(re){return re*re*re}function Go(re){if(re<=0)return 0;if(re>=1)return 1;var de=re*re,Ce=de*re;return 4*(re<.5?Ce:3*(re-de)+Ce-.75)}function zl(re){return 1-Math.cos(re*Ht)}function xu(re){return Math.pow(2,10*(re-1))}function Ql(re){return 1-Math.sqrt(1-re*re)}function eu(re){return re<.36363636363636365?7.5625*re*re:re<.7272727272727273?7.5625*(re-=.5454545454545454)*re+.75:re<.9090909090909091?7.5625*(re-=.8181818181818182)*re+.9375:7.5625*(re-=.9545454545454546)*re+.984375}function bu(re,de){return de-=re,function(Ce){return Math.round(re+de*Ce)}}function tu(re){var de,Ce,ze,Ve=[re.a,re.b],We=[re.c,re.d],Je=Ro(Ve),tt=Yo(Ve,We),lt=Ro(((de=We)[0]+=(ze=-tt)*(Ce=Ve)[0],de[1]+=ze*Ce[1],de))||0;Ve[0]*We[1]<We[0]*Ve[1]&&(Ve[0]*=-1,Ve[1]*=-1,Je*=-1,tt*=-1),this.rotate=(Je?Math.atan2(Ve[1],Ve[0]):Math.atan2(-We[0],We[1]))*$e,this.translate=[re.e,re.f],this.scale=[Je,lt],this.skew=lt?Math.atan2(tt,lt)*$e:0}function Yo(re,de){return re[0]*de[0]+re[1]*de[1]}function Ro(re){var de=Math.sqrt(Yo(re,re));return de&&(re[0]/=de,re[1]/=de),de}a.ease=function(re){var de=re.indexOf("-"),Ce=de>=0?re.slice(0,de):re,ze=de>=0?re.slice(de+1):"in";return Ce=xi.get(Ce)||cs,co((ze=fs.get(ze)||V)(Ce.apply(null,k.call(arguments,1))))},a.interpolateHcl=function(re,de){re=a.hcl(re),de=a.hcl(de);var Ce=re.h,ze=re.c,Ve=re.l,We=de.h-Ce,Je=de.c-ze,tt=de.l-Ve;return isNaN(Je)&&(Je=0,ze=isNaN(ze)?de.c:ze),isNaN(We)?(We=0,Ce=isNaN(Ce)?de.h:Ce):We>180?We-=360:We<-180&&(We+=360),function(lt){return Rt(Ce+We*lt,ze+Je*lt,Ve+tt*lt)+""}},a.interpolateHsl=function(re,de){re=a.hsl(re),de=a.hsl(de);var Ce=re.h,ze=re.s,Ve=re.l,We=de.h-Ce,Je=de.s-ze,tt=de.l-Ve;return isNaN(Je)&&(Je=0,ze=isNaN(ze)?de.s:ze),isNaN(We)?(We=0,Ce=isNaN(Ce)?de.h:Ce):We>180?We-=360:We<-180&&(We+=360),function(lt){return Lt(Ce+We*lt,ze+Je*lt,Ve+tt*lt)+""}},a.interpolateLab=function(re,de){re=a.lab(re),de=a.lab(de);var Ce=re.l,ze=re.a,Ve=re.b,We=de.l-Ce,Je=de.a-ze,tt=de.b-Ve;return function(lt){return Kt(Ce+We*lt,ze+Je*lt,Ve+tt*lt)+""}},a.interpolateRound=bu,a.transform=function(re){var de=f.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ce){if(Ce!=null){de.setAttribute("transform",Ce);var ze=de.transform.baseVal.consolidate()}return new tu(ze?ze.matrix:rl)})(re)},tu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var rl={a:1,b:0,c:0,d:1,e:0,f:0};function zo(re){return re.length?re.pop()+",":""}function Bi(re,de){var Ce=[],ze=[];return re=a.transform(re),de=a.transform(de),function(Ve,We,Je,tt){if(Ve[0]!==We[0]||Ve[1]!==We[1]){var lt=Je.push("translate(",null,",",null,")");tt.push({i:lt-4,x:La(Ve[0],We[0])},{i:lt-2,x:La(Ve[1],We[1])})}else(We[0]||We[1])&&Je.push("translate("+We+")")}(re.translate,de.translate,Ce,ze),function(Ve,We,Je,tt){Ve!==We?(Ve-We>180?We+=360:We-Ve>180&&(Ve+=360),tt.push({i:Je.push(zo(Je)+"rotate(",null,")")-2,x:La(Ve,We)})):We&&Je.push(zo(Je)+"rotate("+We+")")}(re.rotate,de.rotate,Ce,ze),function(Ve,We,Je,tt){Ve!==We?tt.push({i:Je.push(zo(Je)+"skewX(",null,")")-2,x:La(Ve,We)}):We&&Je.push(zo(Je)+"skewX("+We+")")}(re.skew,de.skew,Ce,ze),function(Ve,We,Je,tt){if(Ve[0]!==We[0]||Ve[1]!==We[1]){var lt=Je.push(zo(Je)+"scale(",null,",",null,")");tt.push({i:lt-4,x:La(Ve[0],We[0])},{i:lt-2,x:La(Ve[1],We[1])})}else We[0]===1&&We[1]===1||Je.push(zo(Je)+"scale("+We+")")}(re.scale,de.scale,Ce,ze),re=de=null,function(Ve){for(var We,Je=-1,tt=ze.length;++Je<tt;)Ce[(We=ze[Je]).i]=We.x(Ve);return Ce.join("")}}function nu(re,de){return de=(de-=re=+re)||1/de,function(Ce){return(Ce-re)/de}}function Is(re,de){return de=(de-=re=+re)||1/de,function(Ce){return Math.max(0,Math.min(1,(Ce-re)/de))}}function wl(re){for(var de=re.source,Ce=re.target,ze=function(Je,tt){if(Je===tt)return Je;for(var lt=ps(Je),dt=ps(tt),Ft=lt.pop(),Ut=dt.pop(),qt=null;Ft===Ut;)qt=Ft,Ft=lt.pop(),Ut=dt.pop();return qt}(de,Ce),Ve=[de];de!==ze;)de=de.parent,Ve.push(de);for(var We=Ve.length;Ce!==ze;)Ve.splice(We,0,Ce),Ce=Ce.parent;return Ve}function ps(re){for(var de=[],Ce=re.parent;Ce!=null;)de.push(re),re=Ce,Ce=Ce.parent;return de.push(re),de}function il(re){re.fixed|=2}function Ds(re){re.fixed&=-7}function Qa(re){re.fixed|=4,re.px=re.x,re.py=re.y}function bi(re){re.fixed&=-5}function hs(re,de,Ce){var ze=0,Ve=0;if(re.charge=0,!re.leaf)for(var We,Je=re.nodes,tt=Je.length,lt=-1;++lt<tt;)(We=Je[lt])!=null&&(hs(We,de,Ce),re.charge+=We.charge,ze+=We.charge*We.cx,Ve+=We.charge*We.cy);if(re.point){re.leaf||(re.point.x+=Math.random()-.5,re.point.y+=Math.random()-.5);var dt=de*Ce[re.point.index];re.charge+=re.pointCharge=dt,ze+=dt*re.point.x,Ve+=dt*re.point.y}re.cx=ze/re.charge,re.cy=Ve/re.charge}a.interpolateTransform=Bi,a.layout={},a.layout.bundle=function(){return function(re){for(var de=[],Ce=-1,ze=re.length;++Ce<ze;)de.push(wl(re[Ce]));return de}},a.layout.chord=function(){var re,de,Ce,ze,Ve,We,Je,tt={},lt=0;function dt(){var Ut,qt,nn,yn,rn,cn={},sn=[],Ln=a.range(ze),wn=[];for(re=[],de=[],Ut=0,yn=-1;++yn<ze;){for(qt=0,rn=-1;++rn<ze;)qt+=Ce[yn][rn];sn.push(qt),wn.push(a.range(ze)),Ut+=qt}for(Ve&&Ln.sort(function(wr,Ar){return Ve(sn[wr],sn[Ar])}),We&&wn.forEach(function(wr,Ar){wr.sort(function(Fr,ii){return We(Ce[Ar][Fr],Ce[Ar][ii])})}),Ut=(Et-lt*ze)/Ut,qt=0,yn=-1;++yn<ze;){for(nn=qt,rn=-1;++rn<ze;){var ln=Ln[yn],Bn=wn[ln][rn],Wn=Ce[ln][Bn],tr=qt,or=qt+=Wn*Ut;cn[ln+"-"+Bn]={index:ln,subindex:Bn,startAngle:tr,endAngle:or,value:Wn}}de[ln]={index:ln,startAngle:nn,endAngle:qt,value:sn[ln]},qt+=lt}for(yn=-1;++yn<ze;)for(rn=yn-1;++rn<ze;){var Sr=cn[yn+"-"+rn],Cr=cn[rn+"-"+yn];(Sr.value||Cr.value)&&re.push(Sr.value<Cr.value?{source:Cr,target:Sr}:{source:Sr,target:Cr})}Je&&Ft()}function Ft(){re.sort(function(Ut,qt){return Je((Ut.source.value+Ut.target.value)/2,(qt.source.value+qt.target.value)/2)})}return tt.matrix=function(Ut){return arguments.length?(ze=(Ce=Ut)&&Ce.length,re=de=null,tt):Ce},tt.padding=function(Ut){return arguments.length?(lt=Ut,re=de=null,tt):lt},tt.sortGroups=function(Ut){return arguments.length?(Ve=Ut,re=de=null,tt):Ve},tt.sortSubgroups=function(Ut){return arguments.length?(We=Ut,re=null,tt):We},tt.sortChords=function(Ut){return arguments.length?(Je=Ut,re&&Ft(),tt):Je},tt.chords=function(){return re||dt(),re},tt.groups=function(){return de||dt(),de},tt},a.layout.force=function(){var re,de,Ce,ze,Ve,We,Je={},tt=a.dispatch("start","tick","end"),lt=[1,1],dt=.9,Ft=Nu,Ut=Rs,qt=-30,nn=ds,yn=.1,rn=.64,cn=[],sn=[];function Ln(ln){return function(Bn,Wn,tr,or){if(Bn.point!==ln){var Sr=Bn.cx-ln.x,Cr=Bn.cy-ln.y,wr=or-Wn,Ar=Sr*Sr+Cr*Cr;if(wr*wr/rn<Ar){if(Ar<nn){var Fr=Bn.charge/Ar;ln.px-=Sr*Fr,ln.py-=Cr*Fr}return!0}Bn.point&&Ar&&Ar<nn&&(Fr=Bn.pointCharge/Ar,ln.px-=Sr*Fr,ln.py-=Cr*Fr)}return!Bn.charge}}function wn(ln){ln.px=a.event.x,ln.py=a.event.y,Je.resume()}return Je.tick=function(){if((Ce*=.99)<.005)return re=null,tt.end({type:"end",alpha:Ce=0}),!0;var ln,Bn,Wn,tr,or,Sr,Cr,wr,Ar,Fr=cn.length,ii=sn.length;for(Bn=0;Bn<ii;++Bn)tr=(Wn=sn[Bn]).source,(Sr=(wr=(or=Wn.target).x-tr.x)*wr+(Ar=or.y-tr.y)*Ar)&&(wr*=Sr=Ce*Ve[Bn]*((Sr=Math.sqrt(Sr))-ze[Bn])/Sr,Ar*=Sr,or.x-=wr*(Cr=tr.weight+or.weight?tr.weight/(tr.weight+or.weight):.5),or.y-=Ar*Cr,tr.x+=wr*(Cr=1-Cr),tr.y+=Ar*Cr);if((Cr=Ce*yn)&&(wr=lt[0]/2,Ar=lt[1]/2,Bn=-1,Cr))for(;++Bn<Fr;)(Wn=cn[Bn]).x+=(wr-Wn.x)*Cr,Wn.y+=(Ar-Wn.y)*Cr;if(qt)for(hs(ln=a.geom.quadtree(cn),Ce,We),Bn=-1;++Bn<Fr;)(Wn=cn[Bn]).fixed||ln.visit(Ln(Wn));for(Bn=-1;++Bn<Fr;)(Wn=cn[Bn]).fixed?(Wn.x=Wn.px,Wn.y=Wn.py):(Wn.x-=(Wn.px-(Wn.px=Wn.x))*dt,Wn.y-=(Wn.py-(Wn.py=Wn.y))*dt);tt.tick({type:"tick",alpha:Ce})},Je.nodes=function(ln){return arguments.length?(cn=ln,Je):cn},Je.links=function(ln){return arguments.length?(sn=ln,Je):sn},Je.size=function(ln){return arguments.length?(lt=ln,Je):lt},Je.linkDistance=function(ln){return arguments.length?(Ft=typeof ln=="function"?ln:+ln,Je):Ft},Je.distance=Je.linkDistance,Je.linkStrength=function(ln){return arguments.length?(Ut=typeof ln=="function"?ln:+ln,Je):Ut},Je.friction=function(ln){return arguments.length?(dt=+ln,Je):dt},Je.charge=function(ln){return arguments.length?(qt=typeof ln=="function"?ln:+ln,Je):qt},Je.chargeDistance=function(ln){return arguments.length?(nn=ln*ln,Je):Math.sqrt(nn)},Je.gravity=function(ln){return arguments.length?(yn=+ln,Je):yn},Je.theta=function(ln){return arguments.length?(rn=ln*ln,Je):Math.sqrt(rn)},Je.alpha=function(ln){return arguments.length?(ln=+ln,Ce?ln>0?Ce=ln:(re.c=null,re.t=NaN,re=null,tt.end({type:"end",alpha:Ce=0})):ln>0&&(tt.start({type:"start",alpha:Ce=ln}),re=Qt(Je.tick)),Je):Ce},Je.start=function(){var ln,Bn,Wn,tr=cn.length,or=sn.length,Sr=lt[0],Cr=lt[1];for(ln=0;ln<tr;++ln)(Wn=cn[ln]).index=ln,Wn.weight=0;for(ln=0;ln<or;++ln)typeof(Wn=sn[ln]).source=="number"&&(Wn.source=cn[Wn.source]),typeof Wn.target=="number"&&(Wn.target=cn[Wn.target]),++Wn.source.weight,++Wn.target.weight;for(ln=0;ln<tr;++ln)Wn=cn[ln],isNaN(Wn.x)&&(Wn.x=wr("x",Sr)),isNaN(Wn.y)&&(Wn.y=wr("y",Cr)),isNaN(Wn.px)&&(Wn.px=Wn.x),isNaN(Wn.py)&&(Wn.py=Wn.y);if(ze=[],typeof Ft=="function")for(ln=0;ln<or;++ln)ze[ln]=+Ft.call(this,sn[ln],ln);else for(ln=0;ln<or;++ln)ze[ln]=Ft;if(Ve=[],typeof Ut=="function")for(ln=0;ln<or;++ln)Ve[ln]=+Ut.call(this,sn[ln],ln);else for(ln=0;ln<or;++ln)Ve[ln]=Ut;if(We=[],typeof qt=="function")for(ln=0;ln<tr;++ln)We[ln]=+qt.call(this,cn[ln],ln);else for(ln=0;ln<tr;++ln)We[ln]=qt;function wr(Ar,Fr){if(!Bn){for(Bn=new Array(tr),Rr=0;Rr<tr;++Rr)Bn[Rr]=[];for(Rr=0;Rr<or;++Rr){var ii=sn[Rr];Bn[ii.source.index].push(ii.target),Bn[ii.target.index].push(ii.source)}}for(var ai,_r=Bn[ln],Rr=-1,Qr=_r.length;++Rr<Qr;)if(!isNaN(ai=_r[Rr][Ar]))return ai;return Math.random()*Fr}return Je.resume()},Je.resume=function(){return Je.alpha(.1)},Je.stop=function(){return Je.alpha(0)},Je.drag=function(){if(de||(de=a.behavior.drag().origin(V).on("dragstart.force",il).on("drag.force",wn).on("dragend.force",Ds)),!arguments.length)return de;this.on("mouseover.force",Qa).on("mouseout.force",bi).call(de)},a.rebind(Je,tt,"on")};var Nu=20,Rs=1,ds=1/0;function Zo(re,de){return a.rebind(re,de,"sort","children","value"),re.nodes=re,re.links=Fs,re}function al(re,de){for(var Ce=[re];(re=Ce.pop())!=null;)if(de(re),(Ve=re.children)&&(ze=Ve.length))for(var ze,Ve;--ze>=0;)Ce.push(Ve[ze])}function eo(re,de){for(var Ce=[re],ze=[];(re=Ce.pop())!=null;)if(ze.push(re),(We=re.children)&&(Ve=We.length))for(var Ve,We,Je=-1;++Je<Ve;)Ce.push(We[Je]);for(;(re=ze.pop())!=null;)de(re)}function ru(re){return re.children}function zs(re){return re.value}function gs(re,de){return de.value-re.value}function Fs(re){return a.merge(re.map(function(de){return(de.children||[]).map(function(Ce){return{source:de,target:Ce}})}))}a.layout.hierarchy=function(){var re=gs,de=ru,Ce=zs;function ze(Ve){var We,Je=[Ve],tt=[];for(Ve.depth=0;(We=Je.pop())!=null;)if(tt.push(We),(dt=de.call(ze,We,We.depth))&&(lt=dt.length)){for(var lt,dt,Ft;--lt>=0;)Je.push(Ft=dt[lt]),Ft.parent=We,Ft.depth=We.depth+1;Ce&&(We.value=0),We.children=dt}else Ce&&(We.value=+Ce.call(ze,We,We.depth)||0),delete We.children;return eo(Ve,function(Ut){var qt,nn;re&&(qt=Ut.children)&&qt.sort(re),Ce&&(nn=Ut.parent)&&(nn.value+=Ut.value)}),tt}return ze.sort=function(Ve){return arguments.length?(re=Ve,ze):re},ze.children=function(Ve){return arguments.length?(de=Ve,ze):de},ze.value=function(Ve){return arguments.length?(Ce=Ve,ze):Ce},ze.revalue=function(Ve){return Ce&&(al(Ve,function(We){We.children&&(We.value=0)}),eo(Ve,function(We){var Je;We.children||(We.value=+Ce.call(ze,We,We.depth)||0),(Je=We.parent)&&(Je.value+=We.value)})),Ve},ze},a.layout.partition=function(){var re=a.layout.hierarchy(),de=[1,1];function Ce(We,Je,tt,lt){var dt=We.children;if(We.x=Je,We.y=We.depth*lt,We.dx=tt,We.dy=lt,dt&&(Ft=dt.length)){var Ft,Ut,qt,nn=-1;for(tt=We.value?tt/We.value:0;++nn<Ft;)Ce(Ut=dt[nn],Je,qt=Ut.value*tt,lt),Je+=qt}}function ze(We){var Je=We.children,tt=0;if(Je&&(lt=Je.length))for(var lt,dt=-1;++dt<lt;)tt=Math.max(tt,ze(Je[dt]));return 1+tt}function Ve(We,Je){var tt=re.call(this,We,Je);return Ce(tt[0],0,de[0],de[1]/ze(tt[0])),tt}return Ve.size=function(We){return arguments.length?(de=We,Ve):de},Zo(Ve,re)},a.layout.pie=function(){var re=Number,de=Ns,Ce=0,ze=Et,Ve=0;function We(Je){var tt,lt=Je.length,dt=Je.map(function(Ln,wn){return+re.call(We,Ln,wn)}),Ft=+(typeof Ce=="function"?Ce.apply(this,arguments):Ce),Ut=(typeof ze=="function"?ze.apply(this,arguments):ze)-Ft,qt=Math.min(Math.abs(Ut)/lt,+(typeof Ve=="function"?Ve.apply(this,arguments):Ve)),nn=qt*(Ut<0?-1:1),yn=a.sum(dt),rn=yn?(Ut-lt*nn)/yn:0,cn=a.range(lt),sn=[];return de!=null&&cn.sort(de===Ns?function(Ln,wn){return dt[wn]-dt[Ln]}:function(Ln,wn){return de(Je[Ln],Je[wn])}),cn.forEach(function(Ln){sn[Ln]={data:Je[Ln],value:tt=dt[Ln],startAngle:Ft,endAngle:Ft+=tt*rn+nn,padAngle:qt}}),sn}return We.value=function(Je){return arguments.length?(re=Je,We):re},We.sort=function(Je){return arguments.length?(de=Je,We):de},We.startAngle=function(Je){return arguments.length?(Ce=Je,We):Ce},We.endAngle=function(Je){return arguments.length?(ze=Je,We):ze},We.padAngle=function(Je){return arguments.length?(Ve=Je,We):Ve},We};var Ns={};function Bs(re){return re.x}function ol(re){return re.y}function kl(re,de,Ce){re.y0=de,re.y=Ce}a.layout.stack=function(){var re=V,de=Al,Ce=Ml,ze=kl,Ve=Bs,We=ol;function Je(tt,lt){if(!(qt=tt.length))return tt;var dt=tt.map(function(Ln,wn){return re.call(Je,Ln,wn)}),Ft=dt.map(function(Ln){return Ln.map(function(wn,ln){return[Ve.call(Je,wn,ln),We.call(Je,wn,ln)]})}),Ut=de.call(Je,Ft,lt);dt=a.permute(dt,Ut),Ft=a.permute(Ft,Ut);var qt,nn,yn,rn,cn=Ce.call(Je,Ft,lt),sn=dt[0].length;for(yn=0;yn<sn;++yn)for(ze.call(Je,dt[0][yn],rn=cn[yn],Ft[0][yn][1]),nn=1;nn<qt;++nn)ze.call(Je,dt[nn][yn],rn+=Ft[nn-1][yn][1],Ft[nn][yn][1]);return tt}return Je.values=function(tt){return arguments.length?(re=tt,Je):re},Je.order=function(tt){return arguments.length?(de=typeof tt=="function"?tt:Tl.get(tt)||Al,Je):de},Je.offset=function(tt){return arguments.length?(Ce=typeof tt=="function"?tt:fo.get(tt)||Ml,Je):Ce},Je.x=function(tt){return arguments.length?(Ve=tt,Je):Ve},Je.y=function(tt){return arguments.length?(We=tt,Je):We},Je.out=function(tt){return arguments.length?(ze=tt,Je):ze},Je};var Tl=a.map({"inside-out":function(re){var de,Ce,ze=re.length,Ve=re.map(iu),We=re.map(ms),Je=a.range(ze).sort(function(Ut,qt){return Ve[Ut]-Ve[qt]}),tt=0,lt=0,dt=[],Ft=[];for(de=0;de<ze;++de)Ce=Je[de],tt<lt?(tt+=We[Ce],dt.push(Ce)):(lt+=We[Ce],Ft.push(Ce));return Ft.reverse().concat(dt)},reverse:function(re){return a.range(re.length).reverse()},default:Al}),fo=a.map({silhouette:function(re){var de,Ce,ze,Ve=re.length,We=re[0].length,Je=[],tt=0,lt=[];for(Ce=0;Ce<We;++Ce){for(de=0,ze=0;de<Ve;de++)ze+=re[de][Ce][1];ze>tt&&(tt=ze),Je.push(ze)}for(Ce=0;Ce<We;++Ce)lt[Ce]=(tt-Je[Ce])/2;return lt},wiggle:function(re){var de,Ce,ze,Ve,We,Je,tt,lt,dt,Ft=re.length,Ut=re[0],qt=Ut.length,nn=[];for(nn[0]=lt=dt=0,Ce=1;Ce<qt;++Ce){for(de=0,Ve=0;de<Ft;++de)Ve+=re[de][Ce][1];for(de=0,We=0,tt=Ut[Ce][0]-Ut[Ce-1][0];de<Ft;++de){for(ze=0,Je=(re[de][Ce][1]-re[de][Ce-1][1])/(2*tt);ze<de;++ze)Je+=(re[ze][Ce][1]-re[ze][Ce-1][1])/tt;We+=Je*re[de][Ce][1]}nn[Ce]=lt-=Ve?We/Ve*tt:0,lt<dt&&(dt=lt)}for(Ce=0;Ce<qt;++Ce)nn[Ce]-=dt;return nn},expand:function(re){var de,Ce,ze,Ve=re.length,We=re[0].length,Je=1/Ve,tt=[];for(Ce=0;Ce<We;++Ce){for(de=0,ze=0;de<Ve;de++)ze+=re[de][Ce][1];if(ze)for(de=0;de<Ve;de++)re[de][Ce][1]/=ze;else for(de=0;de<Ve;de++)re[de][Ce][1]=Je}for(Ce=0;Ce<We;++Ce)tt[Ce]=0;return tt},zero:Ml});function Al(re){return a.range(re.length)}function Ml(re){for(var de=-1,Ce=re[0].length,ze=[];++de<Ce;)ze[de]=0;return ze}function iu(re){for(var de,Ce=1,ze=0,Ve=re[0][1],We=re.length;Ce<We;++Ce)(de=re[Ce][1])>Ve&&(ze=Ce,Ve=de);return ze}function ms(re){return re.reduce(Sl,0)}function Sl(re,de){return re+de[1]}function El(re,de){return au(re,Math.ceil(Math.log(de.length)/Math.LN2+1))}function au(re,de){for(var Ce=-1,ze=+re[0],Ve=(re[1]-ze)/de,We=[];++Ce<=de;)We[Ce]=Ve*Ce+ze;return We}function Ia(re){return[a.min(re),a.max(re)]}function po(re,de){return re.value-de.value}function vs(re,de){var Ce=re._pack_next;re._pack_next=de,de._pack_prev=re,de._pack_next=Ce,Ce._pack_prev=de}function js(re,de){re._pack_next=de,de._pack_prev=re}function Mi(re,de){var Ce=de.x-re.x,ze=de.y-re.y,Ve=re.r+de.r;return .999*Ve*Ve>Ce*Ce+ze*ze}function Xo(re){if((de=re.children)&&(lt=de.length)){var de,Ce,ze,Ve,We,Je,tt,lt,dt=1/0,Ft=-1/0,Ut=1/0,qt=-1/0;if(de.forEach(ys),(Ce=de[0]).x=-Ce.r,Ce.y=0,wn(Ce),lt>1&&((ze=de[1]).x=ze.r,ze.y=0,wn(ze),lt>2))for(mi(Ce,ze,Ve=de[2]),wn(Ve),vs(Ce,Ve),Ce._pack_prev=Ve,vs(Ve,ze),ze=Ce._pack_next,We=3;We<lt;We++){mi(Ce,ze,Ve=de[We]);var nn=0,yn=1,rn=1;for(Je=ze._pack_next;Je!==ze;Je=Je._pack_next,yn++)if(Mi(Je,Ve)){nn=1;break}if(nn==1)for(tt=Ce._pack_prev;tt!==Je._pack_prev&&!Mi(tt,Ve);tt=tt._pack_prev,rn++);nn?(yn<rn||yn==rn&&ze.r<Ce.r?js(Ce,ze=Je):js(Ce=tt,ze),We--):(vs(Ce,Ve),ze=Ve,wn(Ve))}var cn=(dt+Ft)/2,sn=(Ut+qt)/2,Ln=0;for(We=0;We<lt;We++)(Ve=de[We]).x-=cn,Ve.y-=sn,Ln=Math.max(Ln,Ve.r+Math.sqrt(Ve.x*Ve.x+Ve.y*Ve.y));re.r=Ln,de.forEach(wa)}function wn(ln){dt=Math.min(ln.x-ln.r,dt),Ft=Math.max(ln.x+ln.r,Ft),Ut=Math.min(ln.y-ln.r,Ut),qt=Math.max(ln.y+ln.r,qt)}}function ys(re){re._pack_next=re._pack_prev=re}function wa(re){delete re._pack_next,delete re._pack_prev}function hi(re,de,Ce,ze){var Ve=re.children;if(re.x=de+=ze*re.x,re.y=Ce+=ze*re.y,re.r*=ze,Ve)for(var We=-1,Je=Ve.length;++We<Je;)hi(Ve[We],de,Ce,ze)}function mi(re,de,Ce){var ze=re.r+Ce.r,Ve=de.x-re.x,We=de.y-re.y;if(ze&&(Ve||We)){var Je=de.r+Ce.r,tt=Ve*Ve+We*We,lt=.5+((ze*=ze)-(Je*=Je))/(2*tt),dt=Math.sqrt(Math.max(0,2*Je*(ze+tt)-(ze-=tt)*ze-Je*Je))/(2*tt);Ce.x=re.x+lt*Ve+dt*We,Ce.y=re.y+lt*We-dt*Ve}else Ce.x=re.x+ze,Ce.y=re.y}function Jo(re,de){return re.parent==de.parent?1:2}function Fo(re){var de=re.children;return de.length?de[0]:re.t}function Fl(re){var de,Ce=re.children;return(de=Ce.length)?Ce[de-1]:re.t}function ou(re,de,Ce){var ze=Ce/(de.i-re.i);de.c-=ze,de.s+=Ce,re.c+=ze,de.z+=Ce,de.m+=Ce}function Us(re,de,Ce){return re.a.parent===de.parent?re.a:Ce}function su(re){var de=re.children;return de&&de.length?su(de[0]):re}function Vs(re){var de,Ce=re.children;return Ce&&(de=Ce.length)?Vs(Ce[de-1]):re}function Ko(re){return{x:re.x,y:re.y,dx:re.dx,dy:re.dy}}function Hs(re,de){var Ce=re.x+de[3],ze=re.y+de[0],Ve=re.dx-de[1]-de[3],We=re.dy-de[0]-de[2];return Ve<0&&(Ce+=Ve/2,Ve=0),We<0&&(ze+=We/2,We=0),{x:Ce,y:ze,dx:Ve,dy:We}}function ji(re){var de=re[0],Ce=re[re.length-1];return de<Ce?[de,Ce]:[Ce,de]}function No(re){return re.rangeExtent?re.rangeExtent():ji(re.range())}function qs(re,de,Ce,ze){var Ve=Ce(re[0],re[1]),We=ze(de[0],de[1]);return function(Je){return We(Ve(Je))}}function aa(re,de){var Ce,ze=0,Ve=re.length-1,We=re[ze],Je=re[Ve];return Je<We&&(Ce=ze,ze=Ve,Ve=Ce,Ce=We,We=Je,Je=Ce),re[ze]=de.floor(We),re[Ve]=de.ceil(Je),re}function ca(re){return re?{floor:function(de){return Math.floor(de/re)*re},ceil:function(de){return Math.ceil(de/re)*re}}:ka}a.layout.histogram=function(){var re=!0,de=Number,Ce=Ia,ze=El;function Ve(We,Je){for(var tt,lt,dt=[],Ft=We.map(de,this),Ut=Ce.call(this,Ft,Je),qt=ze.call(this,Ut,Ft,Je),nn=(Je=-1,Ft.length),yn=qt.length-1,rn=re?1:1/nn;++Je<yn;)(tt=dt[Je]=[]).dx=qt[Je+1]-(tt.x=qt[Je]),tt.y=0;if(yn>0)for(Je=-1;++Je<nn;)(lt=Ft[Je])>=Ut[0]&&lt<=Ut[1]&&((tt=dt[a.bisect(qt,lt,1,yn)-1]).y+=rn,tt.push(We[Je]));return dt}return Ve.value=function(We){return arguments.length?(de=We,Ve):de},Ve.range=function(We){return arguments.length?(Ce=Gn(We),Ve):Ce},Ve.bins=function(We){return arguments.length?(ze=typeof We=="number"?function(Je){return au(Je,We)}:Gn(We),Ve):ze},Ve.frequency=function(We){return arguments.length?(re=!!We,Ve):re},Ve},a.layout.pack=function(){var re,de=a.layout.hierarchy().sort(po),Ce=0,ze=[1,1];function Ve(We,Je){var tt=de.call(this,We,Je),lt=tt[0],dt=ze[0],Ft=ze[1],Ut=re==null?Math.sqrt:typeof re=="function"?re:function(){return re};if(lt.x=lt.y=0,eo(lt,function(nn){nn.r=+Ut(nn.value)}),eo(lt,Xo),Ce){var qt=Ce*(re?1:Math.max(2*lt.r/dt,2*lt.r/Ft))/2;eo(lt,function(nn){nn.r+=qt}),eo(lt,Xo),eo(lt,function(nn){nn.r-=qt})}return hi(lt,dt/2,Ft/2,re?1:1/Math.max(2*lt.r/dt,2*lt.r/Ft)),tt}return Ve.size=function(We){return arguments.length?(ze=We,Ve):ze},Ve.radius=function(We){return arguments.length?(re=We==null||typeof We=="function"?We:+We,Ve):re},Ve.padding=function(We){return arguments.length?(Ce=+We,Ve):Ce},Zo(Ve,de)},a.layout.tree=function(){var re=a.layout.hierarchy().sort(null).value(null),de=Jo,Ce=[1,1],ze=null;function Ve(lt,dt){var Ft=re.call(this,lt,dt),Ut=Ft[0],qt=function(wn){for(var ln,Bn={A:null,children:[wn]},Wn=[Bn];(ln=Wn.pop())!=null;)for(var tr,or=ln.children,Sr=0,Cr=or.length;Sr<Cr;++Sr)Wn.push((or[Sr]=tr={_:or[Sr],parent:ln,children:(tr=or[Sr].children)&&tr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Sr}).a=tr);return Bn.children[0]}(Ut);if(eo(qt,We),qt.parent.m=-qt.z,al(qt,Je),ze)al(Ut,tt);else{var nn=Ut,yn=Ut,rn=Ut;al(Ut,function(wn){wn.x<nn.x&&(nn=wn),wn.x>yn.x&&(yn=wn),wn.depth>rn.depth&&(rn=wn)});var cn=de(nn,yn)/2-nn.x,sn=Ce[0]/(yn.x+de(yn,nn)/2+cn),Ln=Ce[1]/(rn.depth||1);al(Ut,function(wn){wn.x=(wn.x+cn)*sn,wn.y=wn.depth*Ln})}return Ft}function We(lt){var dt=lt.children,Ft=lt.parent.children,Ut=lt.i?Ft[lt.i-1]:null;if(dt.length){(function(nn){for(var yn,rn=0,cn=0,sn=nn.children,Ln=sn.length;--Ln>=0;)(yn=sn[Ln]).z+=rn,yn.m+=rn,rn+=yn.s+(cn+=yn.c)})(lt);var qt=(dt[0].z+dt[dt.length-1].z)/2;Ut?(lt.z=Ut.z+de(lt._,Ut._),lt.m=lt.z-qt):lt.z=qt}else Ut&&(lt.z=Ut.z+de(lt._,Ut._));lt.parent.A=function(nn,yn,rn){if(yn){for(var cn,sn=nn,Ln=nn,wn=yn,ln=sn.parent.children[0],Bn=sn.m,Wn=Ln.m,tr=wn.m,or=ln.m;wn=Fl(wn),sn=Fo(sn),wn&&sn;)ln=Fo(ln),(Ln=Fl(Ln)).a=nn,(cn=wn.z+tr-sn.z-Bn+de(wn._,sn._))>0&&(ou(Us(wn,nn,rn),nn,cn),Bn+=cn,Wn+=cn),tr+=wn.m,Bn+=sn.m,or+=ln.m,Wn+=Ln.m;wn&&!Fl(Ln)&&(Ln.t=wn,Ln.m+=tr-Wn),sn&&!Fo(ln)&&(ln.t=sn,ln.m+=Bn-or,rn=nn)}return rn}(lt,Ut,lt.parent.A||Ft[0])}function Je(lt){lt._.x=lt.z+lt.parent.m,lt.m+=lt.parent.m}function tt(lt){lt.x*=Ce[0],lt.y=lt.depth*Ce[1]}return Ve.separation=function(lt){return arguments.length?(de=lt,Ve):de},Ve.size=function(lt){return arguments.length?(ze=(Ce=lt)==null?tt:null,Ve):ze?null:Ce},Ve.nodeSize=function(lt){return arguments.length?(ze=(Ce=lt)==null?null:tt,Ve):ze?Ce:null},Zo(Ve,re)},a.layout.cluster=function(){var re=a.layout.hierarchy().sort(null).value(null),de=Jo,Ce=[1,1],ze=!1;function Ve(We,Je){var tt,lt=re.call(this,We,Je),dt=lt[0],Ft=0;eo(dt,function(rn){var cn=rn.children;cn&&cn.length?(rn.x=function(sn){return sn.reduce(function(Ln,wn){return Ln+wn.x},0)/sn.length}(cn),rn.y=function(sn){return 1+a.max(sn,function(Ln){return Ln.y})}(cn)):(rn.x=tt?Ft+=de(rn,tt):0,rn.y=0,tt=rn)});var Ut=su(dt),qt=Vs(dt),nn=Ut.x-de(Ut,qt)/2,yn=qt.x+de(qt,Ut)/2;return eo(dt,ze?function(rn){rn.x=(rn.x-dt.x)*Ce[0],rn.y=(dt.y-rn.y)*Ce[1]}:function(rn){rn.x=(rn.x-nn)/(yn-nn)*Ce[0],rn.y=(1-(dt.y?rn.y/dt.y:1))*Ce[1]}),lt}return Ve.separation=function(We){return arguments.length?(de=We,Ve):de},Ve.size=function(We){return arguments.length?(ze=(Ce=We)==null,Ve):ze?null:Ce},Ve.nodeSize=function(We){return arguments.length?(ze=(Ce=We)!=null,Ve):ze?Ce:null},Zo(Ve,re)},a.layout.treemap=function(){var re,de=a.layout.hierarchy(),Ce=Math.round,ze=[1,1],Ve=null,We=Ko,Je=!1,tt="squarify",lt=.5*(1+Math.sqrt(5));function dt(rn,cn){for(var sn,Ln,wn=-1,ln=rn.length;++wn<ln;)Ln=(sn=rn[wn]).value*(cn<0?0:cn),sn.area=isNaN(Ln)||Ln<=0?0:Ln}function Ft(rn){var cn=rn.children;if(cn&&cn.length){var sn,Ln,wn,ln=We(rn),Bn=[],Wn=cn.slice(),tr=1/0,or=tt==="slice"?ln.dx:tt==="dice"?ln.dy:tt==="slice-dice"?1&rn.depth?ln.dy:ln.dx:Math.min(ln.dx,ln.dy);for(dt(Wn,ln.dx*ln.dy/rn.value),Bn.area=0;(wn=Wn.length)>0;)Bn.push(sn=Wn[wn-1]),Bn.area+=sn.area,tt!=="squarify"||(Ln=qt(Bn,or))<=tr?(Wn.pop(),tr=Ln):(Bn.area-=Bn.pop().area,nn(Bn,or,ln,!1),or=Math.min(ln.dx,ln.dy),Bn.length=Bn.area=0,tr=1/0);Bn.length&&(nn(Bn,or,ln,!0),Bn.length=Bn.area=0),cn.forEach(Ft)}}function Ut(rn){var cn=rn.children;if(cn&&cn.length){var sn,Ln=We(rn),wn=cn.slice(),ln=[];for(dt(wn,Ln.dx*Ln.dy/rn.value),ln.area=0;sn=wn.pop();)ln.push(sn),ln.area+=sn.area,sn.z!=null&&(nn(ln,sn.z?Ln.dx:Ln.dy,Ln,!wn.length),ln.length=ln.area=0);cn.forEach(Ut)}}function qt(rn,cn){for(var sn,Ln=rn.area,wn=0,ln=1/0,Bn=-1,Wn=rn.length;++Bn<Wn;)(sn=rn[Bn].area)&&(sn<ln&&(ln=sn),sn>wn&&(wn=sn));return cn*=cn,(Ln*=Ln)?Math.max(cn*wn*lt/Ln,Ln/(cn*ln*lt)):1/0}function nn(rn,cn,sn,Ln){var wn,ln=-1,Bn=rn.length,Wn=sn.x,tr=sn.y,or=cn?Ce(rn.area/cn):0;if(cn==sn.dx){for((Ln||or>sn.dy)&&(or=sn.dy);++ln<Bn;)(wn=rn[ln]).x=Wn,wn.y=tr,wn.dy=or,Wn+=wn.dx=Math.min(sn.x+sn.dx-Wn,or?Ce(wn.area/or):0);wn.z=!0,wn.dx+=sn.x+sn.dx-Wn,sn.y+=or,sn.dy-=or}else{for((Ln||or>sn.dx)&&(or=sn.dx);++ln<Bn;)(wn=rn[ln]).x=Wn,wn.y=tr,wn.dx=or,tr+=wn.dy=Math.min(sn.y+sn.dy-tr,or?Ce(wn.area/or):0);wn.z=!1,wn.dy+=sn.y+sn.dy-tr,sn.x+=or,sn.dx-=or}}function yn(rn){var cn=re||de(rn),sn=cn[0];return sn.x=sn.y=0,sn.value?(sn.dx=ze[0],sn.dy=ze[1]):sn.dx=sn.dy=0,re&&de.revalue(sn),dt([sn],sn.dx*sn.dy/sn.value),(re?Ut:Ft)(sn),Je&&(re=cn),cn}return yn.size=function(rn){return arguments.length?(ze=rn,yn):ze},yn.padding=function(rn){if(!arguments.length)return Ve;function cn(wn){var ln=rn.call(yn,wn,wn.depth);return ln==null?Ko(wn):Hs(wn,typeof ln=="number"?[ln,ln,ln,ln]:ln)}function sn(wn){return Hs(wn,rn)}var Ln;return We=(Ve=rn)==null?Ko:(Ln=typeof rn)=="function"?cn:(Ln==="number"&&(rn=[rn,rn,rn,rn]),sn),yn},yn.round=function(rn){return arguments.length?(Ce=rn?Math.round:Number,yn):Ce!=Number},yn.sticky=function(rn){return arguments.length?(Je=rn,re=null,yn):Je},yn.ratio=function(rn){return arguments.length?(lt=rn,yn):lt},yn.mode=function(rn){return arguments.length?(tt=rn+"",yn):tt},Zo(yn,de)},a.random={normal:function(re,de){var Ce=arguments.length;return Ce<2&&(de=1),Ce<1&&(re=0),function(){var ze,Ve,We;do We=(ze=2*Math.random()-1)*ze+(Ve=2*Math.random()-1)*Ve;while(!We||We>1);return re+de*ze*Math.sqrt(-2*Math.log(We)/We)}},logNormal:function(){var re=a.random.normal.apply(a,arguments);return function(){return Math.exp(re())}},bates:function(re){var de=a.random.irwinHall(re);return function(){return de()/re}},irwinHall:function(re){return function(){for(var de=0,Ce=0;Ce<re;Ce++)de+=Math.random();return de}}},a.scale={};var ka={floor:V,ceil:V};function va(re,de,Ce,ze){var Ve=[],We=[],Je=0,tt=Math.min(re.length,de.length)-1;for(re[tt]<re[0]&&(re=re.slice().reverse(),de=de.slice().reverse());++Je<=tt;)Ve.push(Ce(re[Je-1],re[Je])),We.push(ze(de[Je-1],de[Je]));return function(lt){var dt=a.bisect(re,lt,1,tt)-1;return We[dt](Ve[dt](lt))}}function Da(re,de,Ce,ze){var Ve,We;function Je(){var lt=Math.min(re.length,de.length)>2?va:qs,dt=ze?Is:nu;return Ve=lt(re,de,dt,Ce),We=lt(de,re,dt,Va),tt}function tt(lt){return Ve(lt)}return tt.invert=function(lt){return We(lt)},tt.domain=function(lt){return arguments.length?(re=lt.map(Number),Je()):re},tt.range=function(lt){return arguments.length?(de=lt,Je()):de},tt.rangeRound=function(lt){return tt.range(lt).interpolate(bu)},tt.clamp=function(lt){return arguments.length?(ze=lt,Je()):ze},tt.interpolate=function(lt){return arguments.length?(Ce=lt,Je()):Ce},tt.ticks=function(lt){return qa(re,lt)},tt.tickFormat=function(lt,dt){return d3_scale_linearTickFormat(re,lt,dt)},tt.nice=function(lt){return ho(re,lt),Je()},tt.copy=function(){return Da(re,de,Ce,ze)},Je()}function xs(re,de){return a.rebind(re,de,"range","rangeRound","interpolate","clamp")}function ho(re,de){return aa(re,ca(fa(re,de)[2])),aa(re,ca(fa(re,de)[2])),re}function fa(re,de){de==null&&(de=10);var Ce=ji(re),ze=Ce[1]-Ce[0],Ve=Math.pow(10,Math.floor(Math.log(ze/de)/Math.LN10)),We=de/ze*Ve;return We<=.15?Ve*=10:We<=.35?Ve*=5:We<=.75&&(Ve*=2),Ce[0]=Math.ceil(Ce[0]/Ve)*Ve,Ce[1]=Math.floor(Ce[1]/Ve)*Ve+.5*Ve,Ce[2]=Ve,Ce}function qa(re,de){return a.range.apply(a,fa(re,de))}function Nl(re,de,Ce,ze){function Ve(tt){return(Ce?Math.log(tt<0?0:tt):-Math.log(tt>0?0:-tt))/Math.log(de)}function We(tt){return Ce?Math.pow(de,tt):-Math.pow(de,-tt)}function Je(tt){return re(Ve(tt))}return Je.invert=function(tt){return We(re.invert(tt))},Je.domain=function(tt){return arguments.length?(Ce=tt[0]>=0,re.domain((ze=tt.map(Number)).map(Ve)),Je):ze},Je.base=function(tt){return arguments.length?(de=+tt,re.domain(ze.map(Ve)),Je):de},Je.nice=function(){var tt=aa(ze.map(Ve),Ce?Math:Cl);return re.domain(tt),ze=tt.map(We),Je},Je.ticks=function(){var tt=ji(ze),lt=[],dt=tt[0],Ft=tt[1],Ut=Math.floor(Ve(dt)),qt=Math.ceil(Ve(Ft)),nn=de%1?2:de;if(isFinite(qt-Ut)){if(Ce){for(;Ut<qt;Ut++)for(var yn=1;yn<nn;yn++)lt.push(We(Ut)*yn);lt.push(We(Ut))}else for(lt.push(We(Ut));Ut++<qt;)for(yn=nn-1;yn>0;yn--)lt.push(We(Ut)*yn);for(Ut=0;lt[Ut]<dt;Ut++);for(qt=lt.length;lt[qt-1]>Ft;qt--);lt=lt.slice(Ut,qt)}return lt},Je.copy=function(){return Nl(re.copy(),de,Ce,ze)},xs(Je,re)}a.scale.linear=function(){return Da([0,1],[0,1],Va,!1)},a.scale.log=function(){return Nl(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Cl={floor:function(re){return-Math.ceil(-re)},ceil:function(re){return-Math.floor(-re)}};function Ta(re,de,Ce){var ze=Ir(de),Ve=Ir(1/de);function We(Je){return re(ze(Je))}return We.invert=function(Je){return Ve(re.invert(Je))},We.domain=function(Je){return arguments.length?(re.domain((Ce=Je.map(Number)).map(ze)),We):Ce},We.ticks=function(Je){return qa(Ce,Je)},We.tickFormat=function(Je,tt){return d3_scale_linearTickFormat(Ce,Je,tt)},We.nice=function(Je){return We.domain(ho(Ce,Je))},We.exponent=function(Je){return arguments.length?(ze=Ir(de=Je),Ve=Ir(1/de),re.domain(Ce.map(ze)),We):de},We.copy=function(){return Ta(re.copy(),de,Ce)},xs(We,re)}function Ir(re){return function(de){return de<0?-Math.pow(-de,re):Math.pow(de,re)}}function Bo(re,de){var Ce,ze,Ve;function We(tt){return ze[((Ce.get(tt)||(de.t==="range"?Ce.set(tt,re.push(tt)):NaN))-1)%ze.length]}function Je(tt,lt){return a.range(re.length).map(function(dt){return tt+lt*dt})}return We.domain=function(tt){if(!arguments.length)return re;re=[],Ce=new T;for(var lt,dt=-1,Ft=tt.length;++dt<Ft;)Ce.has(lt=tt[dt])||Ce.set(lt,re.push(lt));return We[de.t].apply(We,de.a)},We.range=function(tt){return arguments.length?(ze=tt,Ve=0,de={t:"range",a:arguments},We):ze},We.rangePoints=function(tt,lt){arguments.length<2&&(lt=0);var dt=tt[0],Ft=tt[1],Ut=re.length<2?(dt=(dt+Ft)/2,0):(Ft-dt)/(re.length-1+lt);return ze=Je(dt+Ut*lt/2,Ut),Ve=0,de={t:"rangePoints",a:arguments},We},We.rangeRoundPoints=function(tt,lt){arguments.length<2&&(lt=0);var dt=tt[0],Ft=tt[1],Ut=re.length<2?(dt=Ft=Math.round((dt+Ft)/2),0):(Ft-dt)/(re.length-1+lt)|0;return ze=Je(dt+Math.round(Ut*lt/2+(Ft-dt-(re.length-1+lt)*Ut)/2),Ut),Ve=0,de={t:"rangeRoundPoints",a:arguments},We},We.rangeBands=function(tt,lt,dt){arguments.length<2&&(lt=0),arguments.length<3&&(dt=lt);var Ft=tt[1]<tt[0],Ut=tt[Ft-0],qt=tt[1-Ft],nn=(qt-Ut)/(re.length-lt+2*dt);return ze=Je(Ut+nn*dt,nn),Ft&&ze.reverse(),Ve=nn*(1-lt),de={t:"rangeBands",a:arguments},We},We.rangeRoundBands=function(tt,lt,dt){arguments.length<2&&(lt=0),arguments.length<3&&(dt=lt);var Ft=tt[1]<tt[0],Ut=tt[Ft-0],qt=tt[1-Ft],nn=Math.floor((qt-Ut)/(re.length-lt+2*dt));return ze=Je(Ut+Math.round((qt-Ut-(re.length-lt)*nn)/2),nn),Ft&&ze.reverse(),Ve=Math.round(nn*(1-lt)),de={t:"rangeRoundBands",a:arguments},We},We.rangeBand=function(){return Ve},We.rangeExtent=function(){return ji(de.a[0])},We.copy=function(){return Bo(re,de)},We.domain(re)}a.scale.pow=function(){return Ta(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Bo([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(pa)},a.scale.category20=function(){return a.scale.ordinal().range(Ws)},a.scale.category20b=function(){return a.scale.ordinal().range(Gs)},a.scale.category20c=function(){return a.scale.ordinal().range(Mo)};var pa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(An),Ws=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(An),Gs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(An),Mo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(An);function Ys(re,de){var Ce;function ze(){var We=0,Je=de.length;for(Ce=[];++We<Je;)Ce[We-1]=a.quantile(re,We/Je);return Ve}function Ve(We){if(!isNaN(We=+We))return de[a.bisect(Ce,We)]}return Ve.domain=function(We){return arguments.length?(re=We.map(p).filter(h).sort(u),ze()):re},Ve.range=function(We){return arguments.length?(de=We,ze()):de},Ve.quantiles=function(){return Ce},Ve.invertExtent=function(We){return(We=de.indexOf(We))<0?[NaN,NaN]:[We>0?Ce[We-1]:re[0],We<Ce.length?Ce[We]:re[re.length-1]]},Ve.copy=function(){return Ys(re,de)},ze()}function zr(re,de,Ce){var ze,Ve;function We(tt){return Ce[Math.max(0,Math.min(Ve,Math.floor(ze*(tt-re))))]}function Je(){return ze=Ce.length/(de-re),Ve=Ce.length-1,We}return We.domain=function(tt){return arguments.length?(re=+tt[0],de=+tt[tt.length-1],Je()):[re,de]},We.range=function(tt){return arguments.length?(Ce=tt,Je()):Ce},We.invertExtent=function(tt){return[tt=(tt=Ce.indexOf(tt))<0?NaN:tt/ze+re,tt+1/ze]},We.copy=function(){return zr(re,de,Ce)},Je()}function sl(re,de){function Ce(ze){if(ze<=ze)return de[a.bisect(re,ze)]}return Ce.domain=function(ze){return arguments.length?(re=ze,Ce):re},Ce.range=function(ze){return arguments.length?(de=ze,Ce):de},Ce.invertExtent=function(ze){return ze=de.indexOf(ze),[re[ze-1],re[ze]]},Ce.copy=function(){return sl(re,de)},Ce}function go(re){function de(Ce){return+Ce}return de.invert=de,de.domain=de.range=function(Ce){return arguments.length?(re=Ce.map(de),de):re},de.ticks=function(Ce){return qa(re,Ce)},de.tickFormat=function(Ce,ze){return d3_scale_linearTickFormat(re,Ce,ze)},de.copy=function(){return go(re)},de}function Bl(){return 0}a.scale.quantile=function(){return Ys([],[])},a.scale.quantize=function(){return zr(0,1,[0,1])},a.scale.threshold=function(){return sl([.5],[0,1])},a.scale.identity=function(){return go([0,1])},a.svg={},a.svg.arc=function(){var re=Aa,de=Zs,Ce=Bl,ze=Ll,Ve=$o,We=Wa,Je=bs;function tt(){var dt=Math.max(0,+re.apply(this,arguments)),Ft=Math.max(0,+de.apply(this,arguments)),Ut=Ve.apply(this,arguments)-Ht,qt=We.apply(this,arguments)-Ht,nn=Math.abs(qt-Ut),yn=Ut>qt?0:1;if(Ft<dt&&(rn=Ft,Ft=dt,dt=rn),nn>=Wt)return lt(Ft,yn)+(dt?lt(dt,1-yn):"")+"Z";var rn,cn,sn,Ln,wn,ln,Bn,Wn,tr,or,Sr,Cr,wr=0,Ar=0,Fr=[];if((Ln=(+Je.apply(this,arguments)||0)/2)&&(sn=ze===Ll?Math.sqrt(dt*dt+Ft*Ft):+ze.apply(this,arguments),yn||(Ar*=-1),Ft&&(Ar=Ue(sn/Ft*Math.sin(Ln))),dt&&(wr=Ue(sn/dt*Math.sin(Ln)))),Ft){wn=Ft*Math.cos(Ut+Ar),ln=Ft*Math.sin(Ut+Ar),Bn=Ft*Math.cos(qt-Ar),Wn=Ft*Math.sin(qt-Ar);var ii=Math.abs(qt-Ut-2*Ar)<=Dt?0:1;if(Ar&&So(wn,ln,Bn,Wn)===yn^ii){var ai=(Ut+qt)/2;wn=Ft*Math.cos(ai),ln=Ft*Math.sin(ai),Bn=Wn=null}}else wn=ln=0;if(dt){tr=dt*Math.cos(qt-wr),or=dt*Math.sin(qt-wr),Sr=dt*Math.cos(Ut+wr),Cr=dt*Math.sin(Ut+wr);var _r=Math.abs(Ut-qt+2*wr)<=Dt?0:1;if(wr&&So(tr,or,Sr,Cr)===1-yn^_r){var Rr=(Ut+qt)/2;tr=dt*Math.cos(Rr),or=dt*Math.sin(Rr),Sr=Cr=null}}else tr=or=0;if(nn>Nt&&(rn=Math.min(Math.abs(Ft-dt)/2,+Ce.apply(this,arguments)))>.001){cn=dt<Ft^yn?0:1;var Qr=rn,$r=rn;if(nn<Dt){var di=Sr==null?[tr,or]:Bn==null?[wn,ln]:zn([wn,ln],[Sr,Cr],[Bn,Wn],[tr,or]),li=wn-di[0],vi=ln-di[1],Ei=Bn-di[0],Ai=Wn-di[1],Ci=1/Math.sin(Math.acos((li*Ei+vi*Ai)/(Math.sqrt(li*li+vi*vi)*Math.sqrt(Ei*Ei+Ai*Ai)))/2),Gr=Math.sqrt(di[0]*di[0]+di[1]*di[1]);$r=Math.min(rn,(dt-Gr)/(Ci-1)),Qr=Math.min(rn,(Ft-Gr)/(Ci+1))}if(Bn!=null){var De=mo(Sr==null?[tr,or]:[Sr,Cr],[wn,ln],Ft,Qr,yn),Xe=mo([Bn,Wn],[tr,or],Ft,Qr,yn);rn===Qr?Fr.push("M",De[0],"A",Qr,",",Qr," 0 0,",cn," ",De[1],"A",Ft,",",Ft," 0 ",1-yn^So(De[1][0],De[1][1],Xe[1][0],Xe[1][1]),",",yn," ",Xe[1],"A",Qr,",",Qr," 0 0,",cn," ",Xe[0]):Fr.push("M",De[0],"A",Qr,",",Qr," 0 1,",cn," ",Xe[0])}else Fr.push("M",wn,",",ln);if(Sr!=null){var _t=mo([wn,ln],[Sr,Cr],dt,-$r,yn),jt=mo([tr,or],Bn==null?[wn,ln]:[Bn,Wn],dt,-$r,yn);rn===$r?Fr.push("L",jt[0],"A",$r,",",$r," 0 0,",cn," ",jt[1],"A",dt,",",dt," 0 ",yn^So(jt[1][0],jt[1][1],_t[1][0],_t[1][1]),",",1-yn," ",_t[1],"A",$r,",",$r," 0 0,",cn," ",_t[0]):Fr.push("L",jt[0],"A",$r,",",$r," 0 0,",cn," ",_t[0])}else Fr.push("L",tr,",",or)}else Fr.push("M",wn,",",ln),Bn!=null&&Fr.push("A",Ft,",",Ft," 0 ",ii,",",yn," ",Bn,",",Wn),Fr.push("L",tr,",",or),Sr!=null&&Fr.push("A",dt,",",dt," 0 ",_r,",",1-yn," ",Sr,",",Cr);return Fr.push("Z"),Fr.join("")}function lt(dt,Ft){return"M0,"+dt+"A"+dt+","+dt+" 0 1,"+Ft+" 0,"+-dt+"A"+dt+","+dt+" 0 1,"+Ft+" 0,"+dt}return tt.innerRadius=function(dt){return arguments.length?(re=Gn(dt),tt):re},tt.outerRadius=function(dt){return arguments.length?(de=Gn(dt),tt):de},tt.cornerRadius=function(dt){return arguments.length?(Ce=Gn(dt),tt):Ce},tt.padRadius=function(dt){return arguments.length?(ze=dt==Ll?Ll:Gn(dt),tt):ze},tt.startAngle=function(dt){return arguments.length?(Ve=Gn(dt),tt):Ve},tt.endAngle=function(dt){return arguments.length?(We=Gn(dt),tt):We},tt.padAngle=function(dt){return arguments.length?(Je=Gn(dt),tt):Je},tt.centroid=function(){var dt=(+re.apply(this,arguments)+ +de.apply(this,arguments))/2,Ft=(+Ve.apply(this,arguments)+ +We.apply(this,arguments))/2-Ht;return[Math.cos(Ft)*dt,Math.sin(Ft)*dt]},tt};var Ll="auto";function Aa(re){return re.innerRadius}function Zs(re){return re.outerRadius}function $o(re){return re.startAngle}function Wa(re){return re.endAngle}function bs(re){return re&&re.padAngle}function So(re,de,Ce,ze){return(re-Ce)*de-(de-ze)*re>0?0:1}function mo(re,de,Ce,ze,Ve){var We=re[0]-de[0],Je=re[1]-de[1],tt=(Ve?ze:-ze)/Math.sqrt(We*We+Je*Je),lt=tt*Je,dt=-tt*We,Ft=re[0]+lt,Ut=re[1]+dt,qt=de[0]+lt,nn=de[1]+dt,yn=(Ft+qt)/2,rn=(Ut+nn)/2,cn=qt-Ft,sn=nn-Ut,Ln=cn*cn+sn*sn,wn=Ce-ze,ln=Ft*nn-qt*Ut,Bn=(sn<0?-1:1)*Math.sqrt(Math.max(0,wn*wn*Ln-ln*ln)),Wn=(ln*sn-cn*Bn)/Ln,tr=(-ln*cn-sn*Bn)/Ln,or=(ln*sn+cn*Bn)/Ln,Sr=(-ln*cn+sn*Bn)/Ln,Cr=Wn-yn,wr=tr-rn,Ar=or-yn,Fr=Sr-rn;return Cr*Cr+wr*wr>Ar*Ar+Fr*Fr&&(Wn=or,tr=Sr),[[Wn-lt,tr-dt],[Wn*Ce/wn,tr*Ce/wn]]}function Xs(){return!0}function Ma(re){var de=qn,Ce=Qn,ze=Xs,Ve=Si,We=Ve.key,Je=.7;function tt(lt){var dt,Ft=[],Ut=[],qt=-1,nn=lt.length,yn=Gn(de),rn=Gn(Ce);function cn(){Ft.push("M",Ve(re(Ut),Je))}for(;++qt<nn;)ze.call(this,dt=lt[qt],qt)?Ut.push([+yn.call(this,dt,qt),+rn.call(this,dt,qt)]):Ut.length&&(cn(),Ut=[]);return Ut.length&&cn(),Ft.length?Ft.join(""):null}return tt.x=function(lt){return arguments.length?(de=lt,tt):de},tt.y=function(lt){return arguments.length?(Ce=lt,tt):Ce},tt.defined=function(lt){return arguments.length?(ze=lt,tt):ze},tt.interpolate=function(lt){return arguments.length?(We=typeof lt=="function"?Ve=lt:(Ve=vo.get(lt)||Si).key,tt):We},tt.tension=function(lt){return arguments.length?(Je=lt,tt):Je},tt}a.svg.line=function(){return Ma(V)};var vo=a.map({linear:Si,"linear-closed":Ol,step:function(re){for(var de=0,Ce=re.length,ze=re[0],Ve=[ze[0],",",ze[1]];++de<Ce;)Ve.push("H",(ze[0]+(ze=re[de])[0])/2,"V",ze[1]);return Ce>1&&Ve.push("H",ze[0]),Ve.join("")},"step-before":to,"step-after":yo,basis:Ti,"basis-open":function(re){if(re.length<4)return Si(re);for(var de,Ce=[],ze=-1,Ve=re.length,We=[0],Je=[0];++ze<3;)de=re[ze],We.push(de[0]),Je.push(de[1]);for(Ce.push(ga(Uo,We)+","+ga(Uo,Je)),--ze;++ze<Ve;)de=re[ze],We.shift(),We.push(de[0]),Je.shift(),Je.push(de[1]),_s(Ce,We,Je);return Ce.join("")},"basis-closed":function(re){for(var de,Ce,ze=-1,Ve=re.length,We=Ve+4,Je=[],tt=[];++ze<4;)Ce=re[ze%Ve],Je.push(Ce[0]),tt.push(Ce[1]);for(de=[ga(Uo,Je),",",ga(Uo,tt)],--ze;++ze<We;)Ce=re[ze%Ve],Je.shift(),Je.push(Ce[0]),tt.shift(),tt.push(Ce[1]),_s(de,Je,tt);return de.join("")},bundle:function(re,de){var Ce=re.length-1;if(Ce)for(var ze,Ve,We=re[0][0],Je=re[0][1],tt=re[Ce][0]-We,lt=re[Ce][1]-Je,dt=-1;++dt<=Ce;)Ve=dt/Ce,(ze=re[dt])[0]=de*ze[0]+(1-de)*(We+Ve*tt),ze[1]=de*ze[1]+(1-de)*(Je+Ve*lt);return Ti(re)},cardinal:function(re,de){return re.length<3?Si(re):re[0]+jo(re,Ra(re,de))},"cardinal-open":function(re,de){return re.length<4?Si(re):re[1]+jo(re.slice(1,-1),Ra(re,de))},"cardinal-closed":function(re,de){return re.length<3?Ol(re):re[0]+jo((re.push(re[0]),re),Ra([re[re.length-2]].concat(re,[re[1]]),de))},monotone:function(re){return re.length<3?Si(re):re[0]+jo(re,function(de){for(var Ce,ze,Ve,We,Je=[],tt=function(Ft){for(var Ut=0,qt=Ft.length-1,nn=[],yn=Ft[0],rn=Ft[1],cn=nn[0]=Eo(yn,rn);++Ut<qt;)nn[Ut]=(cn+(cn=Eo(yn=rn,rn=Ft[Ut+1])))/2;return nn[Ut]=cn,nn}(de),lt=-1,dt=de.length-1;++lt<dt;)Ce=Eo(de[lt],de[lt+1]),x(Ce)<Nt?tt[lt]=tt[lt+1]=0:(We=(ze=tt[lt]/Ce)*ze+(Ve=tt[lt+1]/Ce)*Ve)>9&&(We=3*Ce/Math.sqrt(We),tt[lt]=We*ze,tt[lt+1]=We*Ve);for(lt=-1;++lt<=dt;)We=(de[Math.min(dt,lt+1)][0]-de[Math.max(0,lt-1)][0])/(6*(1+tt[lt]*tt[lt])),Je.push([We||0,tt[lt]*We||0]);return Je}(re))}});function Si(re){return re.length>1?re.join("L"):re+"Z"}function Ol(re){return re.join("L")+"Z"}function to(re){for(var de=0,Ce=re.length,ze=re[0],Ve=[ze[0],",",ze[1]];++de<Ce;)Ve.push("V",(ze=re[de])[1],"H",ze[0]);return Ve.join("")}function yo(re){for(var de=0,Ce=re.length,ze=re[0],Ve=[ze[0],",",ze[1]];++de<Ce;)Ve.push("H",(ze=re[de])[0],"V",ze[1]);return Ve.join("")}function jo(re,de){if(de.length<1||re.length!=de.length&&re.length!=de.length+2)return Si(re);var Ce=re.length!=de.length,ze="",Ve=re[0],We=re[1],Je=de[0],tt=Je,lt=1;if(Ce&&(ze+="Q"+(We[0]-2*Je[0]/3)+","+(We[1]-2*Je[1]/3)+","+We[0]+","+We[1],Ve=re[1],lt=2),de.length>1){tt=de[1],We=re[lt],lt++,ze+="C"+(Ve[0]+Je[0])+","+(Ve[1]+Je[1])+","+(We[0]-tt[0])+","+(We[1]-tt[1])+","+We[0]+","+We[1];for(var dt=2;dt<de.length;dt++,lt++)We=re[lt],tt=de[dt],ze+="S"+(We[0]-tt[0])+","+(We[1]-tt[1])+","+We[0]+","+We[1]}if(Ce){var Ft=re[lt];ze+="Q"+(We[0]+2*tt[0]/3)+","+(We[1]+2*tt[1]/3)+","+Ft[0]+","+Ft[1]}return ze}function Ra(re,de){for(var Ce,ze=[],Ve=(1-de)/2,We=re[0],Je=re[1],tt=1,lt=re.length;++tt<lt;)Ce=We,We=Je,Je=re[tt],ze.push([Ve*(Je[0]-Ce[0]),Ve*(Je[1]-Ce[1])]);return ze}function Ti(re){if(re.length<3)return Si(re);var de=1,Ce=re.length,ze=re[0],Ve=ze[0],We=ze[1],Je=[Ve,Ve,Ve,(ze=re[1])[0]],tt=[We,We,We,ze[1]],lt=[Ve,",",We,"L",ga(Uo,Je),",",ga(Uo,tt)];for(re.push(re[Ce-1]);++de<=Ce;)ze=re[de],Je.shift(),Je.push(ze[0]),tt.shift(),tt.push(ze[1]),_s(lt,Je,tt);return re.pop(),lt.push("L",ze),lt.join("")}function ga(re,de){return re[0]*de[0]+re[1]*de[1]+re[2]*de[2]+re[3]*de[3]}vo.forEach(function(re,de){de.key=re,de.closed=/-closed$/.test(re)});var no=[0,2/3,1/3,0],za=[0,1/3,2/3,0],Uo=[0,1/6,2/3,1/6];function _s(re,de,Ce){re.push("C",ga(no,de),",",ga(no,Ce),",",ga(za,de),",",ga(za,Ce),",",ga(Uo,de),",",ga(Uo,Ce))}function Eo(re,de){return(de[1]-re[1])/(de[0]-re[0])}function ha(re){for(var de,Ce,ze,Ve=-1,We=re.length;++Ve<We;)Ce=(de=re[Ve])[0],ze=de[1]-Ht,de[0]=Ce*Math.cos(ze),de[1]=Ce*Math.sin(ze);return re}function xo(re){var de=qn,Ce=qn,ze=0,Ve=Qn,We=Xs,Je=Si,tt=Je.key,lt=Je,dt="L",Ft=.7;function Ut(qt){var nn,yn,rn,cn=[],sn=[],Ln=[],wn=-1,ln=qt.length,Bn=Gn(de),Wn=Gn(ze),tr=de===Ce?function(){return yn}:Gn(Ce),or=ze===Ve?function(){return rn}:Gn(Ve);function Sr(){cn.push("M",Je(re(Ln),Ft),dt,lt(re(sn.reverse()),Ft),"Z")}for(;++wn<ln;)We.call(this,nn=qt[wn],wn)?(sn.push([yn=+Bn.call(this,nn,wn),rn=+Wn.call(this,nn,wn)]),Ln.push([+tr.call(this,nn,wn),+or.call(this,nn,wn)])):sn.length&&(Sr(),sn=[],Ln=[]);return sn.length&&Sr(),cn.length?cn.join(""):null}return Ut.x=function(qt){return arguments.length?(de=Ce=qt,Ut):Ce},Ut.x0=function(qt){return arguments.length?(de=qt,Ut):de},Ut.x1=function(qt){return arguments.length?(Ce=qt,Ut):Ce},Ut.y=function(qt){return arguments.length?(ze=Ve=qt,Ut):Ve},Ut.y0=function(qt){return arguments.length?(ze=qt,Ut):ze},Ut.y1=function(qt){return arguments.length?(Ve=qt,Ut):Ve},Ut.defined=function(qt){return arguments.length?(We=qt,Ut):We},Ut.interpolate=function(qt){return arguments.length?(tt=typeof qt=="function"?Je=qt:(Je=vo.get(qt)||Si).key,lt=Je.reverse||Je,dt=Je.closed?"M":"L",Ut):tt},Ut.tension=function(qt){return arguments.length?(Ft=qt,Ut):Ft},Ut}function Br(re){return re.source}function Zr(re){return re.target}function ll(re){return re.radius}function Qo(re){return[re.x,re.y]}function Co(re){return function(){var de=re.apply(this,arguments),Ce=de[0],ze=de[1]-Ht;return[Ce*Math.cos(ze),Ce*Math.sin(ze)]}}function ya(){return 64}function jl(){return"circle"}function Fa(re){var de=Math.sqrt(re/Dt);return"M0,"+de+"A"+de+","+de+" 0 1,1 0,"+-de+"A"+de+","+de+" 0 1,1 0,"+de+"Z"}a.svg.line.radial=function(){var re=Ma(ha);return re.radius=re.x,delete re.x,re.angle=re.y,delete re.y,re},to.reverse=yo,yo.reverse=to,a.svg.area=function(){return xo(V)},a.svg.area.radial=function(){var re=xo(ha);return re.radius=re.x,delete re.x,re.innerRadius=re.x0,delete re.x0,re.outerRadius=re.x1,delete re.x1,re.angle=re.y,delete re.y,re.startAngle=re.y0,delete re.y0,re.endAngle=re.y1,delete re.y1,re},a.svg.chord=function(){var re=Br,de=Zr,Ce=ll,ze=$o,Ve=Wa;function We(dt,Ft){var Ut,qt,nn=Je(this,re,dt,Ft),yn=Je(this,de,dt,Ft);return"M"+nn.p0+tt(nn.r,nn.p1,nn.a1-nn.a0)+(qt=yn,((Ut=nn).a0==qt.a0&&Ut.a1==qt.a1?lt(nn.r,nn.p1,nn.r,nn.p0):lt(nn.r,nn.p1,yn.r,yn.p0)+tt(yn.r,yn.p1,yn.a1-yn.a0)+lt(yn.r,yn.p1,nn.r,nn.p0))+"Z")}function Je(dt,Ft,Ut,qt){var nn=Ft.call(dt,Ut,qt),yn=Ce.call(dt,nn,qt),rn=ze.call(dt,nn,qt)-Ht,cn=Ve.call(dt,nn,qt)-Ht;return{r:yn,a0:rn,a1:cn,p0:[yn*Math.cos(rn),yn*Math.sin(rn)],p1:[yn*Math.cos(cn),yn*Math.sin(cn)]}}function tt(dt,Ft,Ut){return"A"+dt+","+dt+" 0 "+ +(Ut>Dt)+",1 "+Ft}function lt(dt,Ft,Ut,qt){return"Q 0,0 "+qt}return We.radius=function(dt){return arguments.length?(Ce=Gn(dt),We):Ce},We.source=function(dt){return arguments.length?(re=Gn(dt),We):re},We.target=function(dt){return arguments.length?(de=Gn(dt),We):de},We.startAngle=function(dt){return arguments.length?(ze=Gn(dt),We):ze},We.endAngle=function(dt){return arguments.length?(Ve=Gn(dt),We):Ve},We},a.svg.diagonal=function(){var re=Br,de=Zr,Ce=Qo;function ze(Ve,We){var Je=re.call(this,Ve,We),tt=de.call(this,Ve,We),lt=(Je.y+tt.y)/2,dt=[Je,{x:Je.x,y:lt},{x:tt.x,y:lt},tt];return"M"+(dt=dt.map(Ce))[0]+"C"+dt[1]+" "+dt[2]+" "+dt[3]}return ze.source=function(Ve){return arguments.length?(re=Gn(Ve),ze):re},ze.target=function(Ve){return arguments.length?(de=Gn(Ve),ze):de},ze.projection=function(Ve){return arguments.length?(Ce=Ve,ze):Ce},ze},a.svg.diagonal.radial=function(){var re=a.svg.diagonal(),de=Qo,Ce=re.projection;return re.projection=function(ze){return arguments.length?Ce(Co(de=ze)):de},re},a.svg.symbol=function(){var re=jl,de=ya;function Ce(ze,Ve){return(Js.get(re.call(this,ze,Ve))||Fa)(de.call(this,ze,Ve))}return Ce.type=function(ze){return arguments.length?(re=Gn(ze),Ce):re},Ce.size=function(ze){return arguments.length?(de=Gn(ze),Ce):de},Ce};var Js=a.map({circle:Fa,cross:function(re){var de=Math.sqrt(re/5)/2;return"M"+-3*de+","+-de+"H"+-de+"V"+-3*de+"H"+de+"V"+-de+"H"+3*de+"V"+de+"H"+de+"V"+3*de+"H"+-de+"V"+de+"H"+-3*de+"Z"},diamond:function(re){var de=Math.sqrt(re/(2*Pi)),Ce=de*Pi;return"M0,"+-de+"L"+Ce+",0 0,"+de+" "+-Ce+",0Z"},square:function(re){var de=Math.sqrt(re)/2;return"M"+-de+","+-de+"L"+de+","+-de+" "+de+","+de+" "+-de+","+de+"Z"},"triangle-down":function(re){var de=Math.sqrt(re/es),Ce=de*es/2;return"M0,"+Ce+"L"+de+","+-Ce+" "+-de+","+-Ce+"Z"},"triangle-up":function(re){var de=Math.sqrt(re/es),Ce=de*es/2;return"M0,"+-Ce+"L"+de+","+Ce+" "+-de+","+Ce+"Z"}});a.svg.symbolTypes=Js.keys();var es=Math.sqrt(3),Pi=Math.tan(30*Ke);ce.transition=function(re){for(var de,Ce,ze=rt||++mt,Ve=X(re),We=[],Je=ft||{time:Date.now(),ease:Go,delay:0,duration:250},tt=-1,lt=this.length;++tt<lt;){We.push(de=[]);for(var dt=this[tt],Ft=-1,Ut=dt.length;++Ft<Ut;)(Ce=dt[Ft])&&G(Ce,Ft,Ve,ze,Je),de.push(Ce)}return et(We,Ve,ze)},ce.interrupt=function(re){return this.each(re==null?zi:Lo(X(re)))};var zi=Lo(X());function Lo(re){return function(){var de,Ce,ze;(de=this[re])&&(ze=de[Ce=de.active])&&(ze.timer.c=null,ze.timer.t=NaN,--de.count?delete de[Ce]:delete this[re],de.active+=.5,ze.event&&ze.event.interrupt.call(this,this.__data__,ze.index))}}function et(re,de,Ce){return $(re,vt),re.namespace=de,re.id=Ce,re}var rt,ft,vt=[],mt=0;function At(re,de,Ce,ze){var Ve=re.id,We=re.namespace;return je(re,typeof Ce=="function"?function(Je,tt,lt){Je[We][Ve].tween.set(de,ze(Ce.call(Je,Je.__data__,tt,lt)))}:(Ce=ze(Ce),function(Je){Je[We][Ve].tween.set(de,Ce)}))}function j(re){return re==null&&(re=""),function(){this.textContent=re}}function X(re){return re==null?"__transition__":"__transition_"+re+"__"}function G(re,de,Ce,ze,Ve){var We,Je,tt,lt,dt,Ft=re[Ce]||(re[Ce]={active:0,count:0}),Ut=Ft[ze];function qt(yn){var rn=Ft.active,cn=Ft[rn];for(var sn in cn&&(cn.timer.c=null,cn.timer.t=NaN,--Ft.count,delete Ft[rn],cn.event&&cn.event.interrupt.call(re,re.__data__,cn.index)),Ft)if(+sn<ze){var Ln=Ft[sn];Ln.timer.c=null,Ln.timer.t=NaN,--Ft.count,delete Ft[sn]}Je.c=nn,Qt(function(){return Je.c&&nn(yn||1)&&(Je.c=null,Je.t=NaN),1},0,We),Ft.active=ze,Ut.event&&Ut.event.start.call(re,re.__data__,de),dt=[],Ut.tween.forEach(function(wn,ln){(ln=ln.call(re,re.__data__,de))&&dt.push(ln)}),lt=Ut.ease,tt=Ut.duration}function nn(yn){for(var rn=yn/tt,cn=lt(rn),sn=dt.length;sn>0;)dt[--sn].call(re,cn);if(rn>=1)return Ut.event&&Ut.event.end.call(re,re.__data__,de),--Ft.count?delete Ft[ze]:delete re[Ce],1}Ut||(We=Ve.time,Je=Qt(function(yn){var rn=Ut.delay;if(Je.t=rn+We,rn<=yn)return qt(yn-rn);Je.c=qt},0,We),Ut=Ft[ze]={tween:new T,time:We,timer:Je,delay:Ve.delay,duration:Ve.duration,ease:Ve.ease,index:de},Ve=null,++Ft.count)}vt.call=ce.call,vt.empty=ce.empty,vt.node=ce.node,vt.size=ce.size,a.transition=function(re,de){return re&&re.transition?rt?re.transition(de):re:a.selection().transition(re)},a.transition.prototype=vt,vt.select=function(re){var de,Ce,ze,Ve=this.id,We=this.namespace,Je=[];re=me(re);for(var tt=-1,lt=this.length;++tt<lt;){Je.push(de=[]);for(var dt=this[tt],Ft=-1,Ut=dt.length;++Ft<Ut;)(ze=dt[Ft])&&(Ce=re.call(ze,ze.__data__,Ft,tt))?("__data__"in ze&&(Ce.__data__=ze.__data__),G(Ce,Ft,We,Ve,ze[We][Ve]),de.push(Ce)):de.push(null)}return et(Je,We,Ve)},vt.selectAll=function(re){var de,Ce,ze,Ve,We,Je=this.id,tt=this.namespace,lt=[];re=xe(re);for(var dt=-1,Ft=this.length;++dt<Ft;)for(var Ut=this[dt],qt=-1,nn=Ut.length;++qt<nn;)if(ze=Ut[qt]){We=ze[tt][Je],Ce=re.call(ze,ze.__data__,qt,dt),lt.push(de=[]);for(var yn=-1,rn=Ce.length;++yn<rn;)(Ve=Ce[yn])&&G(Ve,yn,tt,Je,We),de.push(Ve)}return et(lt,tt,Je)},vt.filter=function(re){var de,Ce,ze=[];typeof re!="function"&&(re=Be(re));for(var Ve=0,We=this.length;Ve<We;Ve++){ze.push(de=[]);for(var Je,tt=0,lt=(Je=this[Ve]).length;tt<lt;tt++)(Ce=Je[tt])&&re.call(Ce,Ce.__data__,tt,Ve)&&de.push(Ce)}return et(ze,this.namespace,this.id)},vt.tween=function(re,de){var Ce=this.id,ze=this.namespace;return arguments.length<2?this.node()[ze][Ce].tween.get(re):je(this,de==null?function(Ve){Ve[ze][Ce].tween.remove(re)}:function(Ve){Ve[ze][Ce].tween.set(re,de)})},vt.attr=function(re,de){if(arguments.length<2){for(de in re)this.attr(de,re[de]);return this}var Ce=re=="transform"?Bi:Va,ze=a.ns.qualify(re);function Ve(){this.removeAttribute(ze)}function We(){this.removeAttributeNS(ze.space,ze.local)}function Je(lt){return lt==null?Ve:(lt+="",function(){var dt,Ft=this.getAttribute(ze);return Ft!==lt&&(dt=Ce(Ft,lt),function(Ut){this.setAttribute(ze,dt(Ut))})})}function tt(lt){return lt==null?We:(lt+="",function(){var dt,Ft=this.getAttributeNS(ze.space,ze.local);return Ft!==lt&&(dt=Ce(Ft,lt),function(Ut){this.setAttributeNS(ze.space,ze.local,dt(Ut))})})}return At(this,"attr."+re,de,ze.local?tt:Je)},vt.attrTween=function(re,de){var Ce=a.ns.qualify(re);return this.tween("attr."+re,Ce.local?function(ze,Ve){var We=de.call(this,ze,Ve,this.getAttributeNS(Ce.space,Ce.local));return We&&function(Je){this.setAttributeNS(Ce.space,Ce.local,We(Je))}}:function(ze,Ve){var We=de.call(this,ze,Ve,this.getAttribute(Ce));return We&&function(Je){this.setAttribute(Ce,We(Je))}})},vt.style=function(re,de,Ce){var ze=arguments.length;if(ze<3){if(typeof re!="string"){for(Ce in ze<2&&(de=""),re)this.style(Ce,re[Ce],de);return this}Ce=""}function Ve(){this.style.removeProperty(re)}function We(Je){return Je==null?Ve:(Je+="",function(){var tt,lt=t(this).getComputedStyle(this,null).getPropertyValue(re);return lt!==Je&&(tt=Va(lt,Je),function(dt){this.style.setProperty(re,tt(dt),Ce)})})}return At(this,"style."+re,de,We)},vt.styleTween=function(re,de,Ce){function ze(Ve,We){var Je=de.call(this,Ve,We,t(this).getComputedStyle(this,null).getPropertyValue(re));return Je&&function(tt){this.style.setProperty(re,Je(tt),Ce)}}return arguments.length<3&&(Ce=""),this.tween("style."+re,ze)},vt.text=function(re){return At(this,"text",re,j)},vt.remove=function(){var re=this.namespace;return this.each("end.transition",function(){var de;this[re].count<2&&(de=this.parentNode)&&de.removeChild(this)})},vt.ease=function(re){var de=this.id,Ce=this.namespace;return arguments.length<1?this.node()[Ce][de].ease:(typeof re!="function"&&(re=a.ease.apply(a,arguments)),je(this,function(ze){ze[Ce][de].ease=re}))},vt.delay=function(re){var de=this.id,Ce=this.namespace;return arguments.length<1?this.node()[Ce][de].delay:je(this,typeof re=="function"?function(ze,Ve,We){ze[Ce][de].delay=+re.call(ze,ze.__data__,Ve,We)}:(re=+re,function(ze){ze[Ce][de].delay=re}))},vt.duration=function(re){var de=this.id,Ce=this.namespace;return arguments.length<1?this.node()[Ce][de].duration:je(this,typeof re=="function"?function(ze,Ve,We){ze[Ce][de].duration=Math.max(1,re.call(ze,ze.__data__,Ve,We))}:(re=Math.max(1,re),function(ze){ze[Ce][de].duration=re}))},vt.each=function(re,de){var Ce=this.id,ze=this.namespace;if(arguments.length<2){var Ve=ft,We=rt;try{rt=Ce,je(this,function(Je,tt,lt){ft=Je[ze][Ce],re.call(Je,Je.__data__,tt,lt)})}finally{ft=Ve,rt=We}}else je(this,function(Je){var tt=Je[ze][Ce];(tt.event||(tt.event=a.dispatch("start","end","interrupt"))).on(re,de)});return this},vt.transition=function(){for(var re,de,Ce,ze=this.id,Ve=++mt,We=this.namespace,Je=[],tt=0,lt=this.length;tt<lt;tt++){Je.push(re=[]);for(var dt,Ft=0,Ut=(dt=this[tt]).length;Ft<Ut;Ft++)(de=dt[Ft])&&G(de,Ft,We,Ve,{time:(Ce=de[We][ze]).time,ease:Ce.ease,delay:Ce.delay+Ce.duration,duration:Ce.duration}),re.push(de)}return et(Je,We,Ve)},a.svg.axis=function(){var re,de=a.scale.linear(),Ce=ie,ze=6,Ve=6,We=3,Je=[10],tt=null;function lt(dt){dt.each(function(){var Ft,Ut=a.select(this),qt=this.__chart__||de,nn=this.__chart__=de.copy(),yn=tt??(nn.ticks?nn.ticks.apply(nn,Je):nn.domain()),rn=re??(nn.tickFormat?nn.tickFormat.apply(nn,Je):V),cn=Ut.selectAll(".tick").data(yn,nn),sn=cn.enter().insert("g",".domain").attr("class","tick").style("opacity",Nt),Ln=a.transition(cn.exit()).style("opacity",Nt).remove(),wn=a.transition(cn.order()).style("opacity",1),ln=Math.max(ze,0)+We,Bn=No(nn),Wn=Ut.selectAll(".domain").data([0]),tr=(Wn.enter().append("path").attr("class","domain"),a.transition(Wn));sn.append("line"),sn.append("text");var or,Sr,Cr,wr,Ar=sn.select("line"),Fr=wn.select("line"),ii=cn.select("text").text(rn),ai=sn.select("text"),_r=wn.select("text"),Rr=Ce==="top"||Ce==="left"?-1:1;if(Ce==="bottom"||Ce==="top"?(Ft=Ie,or="x",Cr="y",Sr="x2",wr="y2",ii.attr("dy",Rr<0?"0em":".71em").style("text-anchor","middle"),tr.attr("d","M"+Bn[0]+","+Rr*Ve+"V0H"+Bn[1]+"V"+Rr*Ve)):(Ft=He,or="y",Cr="x",Sr="y2",wr="x2",ii.attr("dy",".32em").style("text-anchor",Rr<0?"end":"start"),tr.attr("d","M"+Rr*Ve+","+Bn[0]+"H0V"+Bn[1]+"H"+Rr*Ve)),Ar.attr(wr,Rr*ze),ai.attr(Cr,Rr*ln),Fr.attr(Sr,0).attr(wr,Rr*ze),_r.attr(or,0).attr(Cr,Rr*ln),nn.rangeBand){var Qr=nn,$r=Qr.rangeBand()/2;qt=nn=function(di){return Qr(di)+$r}}else qt.rangeBand?qt=nn:Ln.call(Ft,nn,qt);sn.call(Ft,qt,nn),wn.call(Ft,nn,nn)})}return lt.scale=function(dt){return arguments.length?(de=dt,lt):de},lt.orient=function(dt){return arguments.length?(Ce=dt in be?dt+"":ie,lt):Ce},lt.ticks=function(){return arguments.length?(Je=y(arguments),lt):Je},lt.tickValues=function(dt){return arguments.length?(tt=dt,lt):tt},lt.tickFormat=function(dt){return arguments.length?(re=dt,lt):re},lt.tickSize=function(dt){var Ft=arguments.length;return Ft?(ze=+dt,Ve=+arguments[Ft-1],lt):ze},lt.innerTickSize=function(dt){return arguments.length?(ze=+dt,lt):ze},lt.outerTickSize=function(dt){return arguments.length?(Ve=+dt,lt):Ve},lt.tickPadding=function(dt){return arguments.length?(We=+dt,lt):We},lt.tickSubdivide=function(){return arguments.length&&lt},lt};var ie="bottom",be={top:1,right:1,bottom:1,left:1};function Ie(re,de,Ce){re.attr("transform",function(ze){var Ve=de(ze);return"translate("+(isFinite(Ve)?Ve:Ce(ze))+",0)"})}function He(re,de,Ce){re.attr("transform",function(ze){var Ve=de(ze);return"translate(0,"+(isFinite(Ve)?Ve:Ce(ze))+")"})}a.svg.brush=function(){var re,de,Ce=J(Ft,"brushstart","brush","brushend"),ze=null,Ve=null,We=[0,0],Je=[0,0],tt=!0,lt=!0,dt=at[0];function Ft(rn){rn.each(function(){var cn=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",yn).on("touchstart.brush",yn),sn=cn.selectAll(".background").data([0]);sn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),cn.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ln=cn.selectAll(".resize").data(dt,V);Ln.exit().remove(),Ln.enter().append("g").attr("class",function(Wn){return"resize "+Wn}).style("cursor",function(Wn){return Ze[Wn]}).append("rect").attr("x",function(Wn){return/[ew]$/.test(Wn)?-3:null}).attr("y",function(Wn){return/^[ns]/.test(Wn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ln.style("display",Ft.empty()?"none":null);var wn,ln=a.transition(cn),Bn=a.transition(sn);ze&&(wn=No(ze),Bn.attr("x",wn[0]).attr("width",wn[1]-wn[0]),qt(ln)),Ve&&(wn=No(Ve),Bn.attr("y",wn[0]).attr("height",wn[1]-wn[0]),nn(ln)),Ut(ln)})}function Ut(rn){rn.selectAll(".resize").attr("transform",function(cn){return"translate("+We[+/e$/.test(cn)]+","+Je[+/^s/.test(cn)]+")"})}function qt(rn){rn.select(".extent").attr("x",We[0]),rn.selectAll(".extent,.n>rect,.s>rect").attr("width",We[1]-We[0])}function nn(rn){rn.select(".extent").attr("y",Je[0]),rn.selectAll(".extent,.e>rect,.w>rect").attr("height",Je[1]-Je[0])}function yn(){var rn,cn,sn=this,Ln=a.select(a.event.target),wn=Ce.of(sn,arguments),ln=a.select(sn),Bn=Ln.datum(),Wn=!/^(n|s)$/.test(Bn)&&ze,tr=!/^(e|w)$/.test(Bn)&&Ve,or=Ln.classed("extent"),Sr=xt(sn),Cr=a.mouse(sn),wr=a.select(t(sn)).on("keydown.brush",ii).on("keyup.brush",ai);if(a.event.changedTouches?wr.on("touchmove.brush",_r).on("touchend.brush",Qr):wr.on("mousemove.brush",_r).on("mouseup.brush",Qr),ln.interrupt().selectAll("*").interrupt(),or)Cr[0]=We[0]-Cr[0],Cr[1]=Je[0]-Cr[1];else if(Bn){var Ar=+/w$/.test(Bn),Fr=+/^n/.test(Bn);cn=[We[1-Ar]-Cr[0],Je[1-Fr]-Cr[1]],Cr[0]=We[Ar],Cr[1]=Je[Fr]}else a.event.altKey&&(rn=Cr.slice());function ii(){a.event.keyCode==32&&(or||(rn=null,Cr[0]-=We[1],Cr[1]-=Je[1],or=2),ee())}function ai(){a.event.keyCode==32&&or==2&&(Cr[0]+=We[1],Cr[1]+=Je[1],or=0,ee())}function _r(){var $r=a.mouse(sn),di=!1;cn&&($r[0]+=cn[0],$r[1]+=cn[1]),or||(a.event.altKey?(rn||(rn=[(We[0]+We[1])/2,(Je[0]+Je[1])/2]),Cr[0]=We[+($r[0]<rn[0])],Cr[1]=Je[+($r[1]<rn[1])]):rn=null),Wn&&Rr($r,ze,0)&&(qt(ln),di=!0),tr&&Rr($r,Ve,1)&&(nn(ln),di=!0),di&&(Ut(ln),wn({type:"brush",mode:or?"move":"resize"}))}function Rr($r,di,li){var vi,Ei,Ai=No(di),Ci=Ai[0],Gr=Ai[1],De=Cr[li],Xe=li?Je:We,_t=Xe[1]-Xe[0];if(or&&(Ci-=De,Gr-=_t+De),vi=(li?lt:tt)?Math.max(Ci,Math.min(Gr,$r[li])):$r[li],or?Ei=(vi+=De)+_t:(rn&&(De=Math.max(Ci,Math.min(Gr,2*rn[li]-vi))),De<vi?(Ei=vi,vi=De):Ei=De),Xe[0]!=vi||Xe[1]!=Ei)return li?de=null:re=null,Xe[0]=vi,Xe[1]=Ei,!0}function Qr(){_r(),ln.style("pointer-events","all").selectAll(".resize").style("display",Ft.empty()?"none":null),a.select("body").style("cursor",null),wr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Sr(),wn({type:"brushend"})}ln.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Ln.style("cursor")),wn({type:"brushstart"}),_r()}return Ft.event=function(rn){rn.each(function(){var cn=Ce.of(this,arguments),sn={x:We,y:Je,i:re,j:de},Ln=this.__chart__||sn;this.__chart__=sn,rt?a.select(this).transition().each("start.brush",function(){re=Ln.i,de=Ln.j,We=Ln.x,Je=Ln.y,cn({type:"brushstart"})}).tween("brush:brush",function(){var wn=Ha(We,sn.x),ln=Ha(Je,sn.y);return re=de=null,function(Bn){We=sn.x=wn(Bn),Je=sn.y=ln(Bn),cn({type:"brush",mode:"resize"})}}).each("end.brush",function(){re=sn.i,de=sn.j,cn({type:"brush",mode:"resize"}),cn({type:"brushend"})}):(cn({type:"brushstart"}),cn({type:"brush",mode:"resize"}),cn({type:"brushend"}))})},Ft.x=function(rn){return arguments.length?(dt=at[!(ze=rn)<<1|!Ve],Ft):ze},Ft.y=function(rn){return arguments.length?(dt=at[!ze<<1|!(Ve=rn)],Ft):Ve},Ft.clamp=function(rn){return arguments.length?(ze&&Ve?(tt=!!rn[0],lt=!!rn[1]):ze?tt=!!rn:Ve&&(lt=!!rn),Ft):ze&&Ve?[tt,lt]:ze?tt:Ve?lt:null},Ft.extent=function(rn){var cn,sn,Ln,wn,ln;return arguments.length?(ze&&(cn=rn[0],sn=rn[1],Ve&&(cn=cn[0],sn=sn[0]),re=[cn,sn],ze.invert&&(cn=ze(cn),sn=ze(sn)),sn<cn&&(ln=cn,cn=sn,sn=ln),cn==We[0]&&sn==We[1]||(We=[cn,sn])),Ve&&(Ln=rn[0],wn=rn[1],ze&&(Ln=Ln[1],wn=wn[1]),de=[Ln,wn],Ve.invert&&(Ln=Ve(Ln),wn=Ve(wn)),wn<Ln&&(ln=Ln,Ln=wn,wn=ln),Ln==Je[0]&&wn==Je[1]||(Je=[Ln,wn])),Ft):(ze&&(re?(cn=re[0],sn=re[1]):(cn=We[0],sn=We[1],ze.invert&&(cn=ze.invert(cn),sn=ze.invert(sn)),sn<cn&&(ln=cn,cn=sn,sn=ln))),Ve&&(de?(Ln=de[0],wn=de[1]):(Ln=Je[0],wn=Je[1],Ve.invert&&(Ln=Ve.invert(Ln),wn=Ve.invert(wn)),wn<Ln&&(ln=Ln,Ln=wn,wn=ln))),ze&&Ve?[[cn,Ln],[sn,wn]]:ze?[cn,sn]:Ve&&[Ln,wn])},Ft.clear=function(){return Ft.empty()||(We=[0,0],Je=[0,0],re=de=null),Ft},Ft.empty=function(){return!!ze&&We[0]==We[1]||!!Ve&&Je[0]==Je[1]},a.rebind(Ft,Ce,"on")};var Ze={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},at=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Tt(re){return JSON.parse(re.responseText)}function Mt(re){var de=f.createRange();return de.selectNode(f.body),de.createContextualFragment(re.responseText)}a.text=cr(function(re){return re.responseText}),a.json=function(re,de){return ir(re,"application/json",Tt,de)},a.html=function(re,de){return ir(re,"text/html",Mt,de)},a.xml=cr(function(re){return re.responseXML}),(w=typeof(b=a)=="function"?b.call(M,e,M,L):b)===void 0||(L.exports=w)}).apply(self)},88294:function(L,M,e){"use strict";L.exports=e(62849)},62849:function(L,M,e){"use strict";var b=e(91358),w=e(53435),a=e(18863),k=e(21527),y=e(71299),f=e(46775),l=e(30120),t=e(64941),s=e(90660),o=e(27084);function n(r,i){for(var u=i[0],p=i[1],h=1/(i[2]-u),_=1/(i[3]-p),m=new Array(r.length),d=0,x=r.length/2;d<x;d++)m[2*d]=w((r[2*d]-u)*h,0,1),m[2*d+1]=w((r[2*d+1]-p)*_,0,1);return m}L.exports=function(r,i){i||(i={}),r=l(r,"float64"),i=y(i,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=f(i.maxDepth,255),p=f(i.bounds,k(r,2));p[0]===p[2]&&p[2]++,p[1]===p[3]&&p[3]++;var h,_=n(r,p),m=r.length>>>1;i.dtype||(i.dtype="array"),typeof i.dtype=="string"?h=new(s(i.dtype))(m):i.dtype&&(h=i.dtype,Array.isArray(h)&&(h.length=m));for(var d=0;d<m;++d)h[d]=d;var x=[],g=[],v=[],T=[];(function V(F,W,B,U,H,q){if(!U.length)return null;var ee=x[H]||(x[H]=[]),K=v[H]||(v[H]=[]),J=g[H]||(g[H]=[]),Z=ee.length;if(++H>u||q>1073741824){for(var $=0;$<U.length;$++)ee.push(U[$]),K.push(q),J.push(null,null,null,null);return Z}if(ee.push(U[0]),K.push(q),U.length<=1)return J.push(null,null,null,null),Z;for(var ne=.5*B,ae=F+ne,oe=W+ne,se=[],ce=[],me=[],xe=[],ve=1,fe=U.length;ve<fe;ve++){var pe=U[ve],Le=_[2*pe],ye=_[2*pe+1];Le<ae?ye<oe?se.push(pe):ce.push(pe):ye<oe?me.push(pe):xe.push(pe)}return q<<=2,J.push(V(F,W,ne,se,H,q),V(F,oe,ne,ce,H,q+1),V(ae,W,ne,me,H,q+2),V(ae,oe,ne,xe,H,q+3)),Z})(0,0,1,h,0,1);for(var c=0,E=0;E<x.length;E++){var A=x[E];if(h.set)h.set(A,c);else for(var C=0,O=A.length;C<O;C++)h[C+c]=A[C];var P=c+x[E].length;T[E]=[c,P],c=P}return h.range=function(){for(var V,F=[],W=arguments.length;W--;)F[W]=arguments[W];if(t(F[F.length-1])){var B=F.pop();F.length||B.x==null&&B.l==null&&B.left==null||(F=[B],V={}),V=y(B,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else V={};F.length||(F=p);var U,H=a.apply(void 0,F),q=[Math.min(H.x,H.x+H.width),Math.min(H.y,H.y+H.height),Math.max(H.x,H.x+H.width),Math.max(H.y,H.y+H.height)],ee=q[0],K=q[1],J=q[2],Z=q[3],$=n([ee,K,J,Z],p),ne=$[0],ae=$[1],oe=$[2],se=$[3],ce=f(V.level,x.length);if(V.d!=null&&(typeof V.d=="number"?U=[V.d,V.d]:V.d.length&&(U=V.d),ce=Math.min(Math.max(Math.ceil(-o(Math.abs(U[0])/(p[2]-p[0]))),Math.ceil(-o(Math.abs(U[1])/(p[3]-p[1])))),ce)),ce=Math.min(ce,x.length),V.lod)return D(ne,ae,oe,se,ce);var me=[];function xe(fe,pe,Le,ye,Ae,Me){if(Ae!==null&&Me!==null&&!(ne>fe+Le||ae>pe+Le||oe<fe||se<pe||ye>=ce||Ae===Me)){var ke=x[ye];Me===void 0&&(Me=ke.length);for(var te=Ae;te<Me;te++){var ue=ke[te],ge=r[2*ue],we=r[2*ue+1];ge>=ee&&ge<=J&&we>=K&&we<=Z&&me.push(ue)}var Ee=g[ye],Be=Ee[4*Ae+0],Re=Ee[4*Ae+1],je=Ee[4*Ae+2],he=Ee[4*Ae+3],_e=ve(Ee,Ae+1),Te=.5*Le,Fe=ye+1;xe(fe,pe,Te,Fe,Be,Re||je||he||_e),xe(fe,pe+Te,Te,Fe,Re,je||he||_e),xe(fe+Te,pe,Te,Fe,je,he||_e),xe(fe+Te,pe+Te,Te,Fe,he,_e)}}function ve(fe,pe){for(var Le=null,ye=0;Le===null;)if(Le=fe[4*pe+ye],++ye>fe.length)return null;return Le}return xe(0,0,1,0,0,1),me},h;function D(V,F,W,B,U){for(var H=[],q=0;q<U;q++){var ee=v[q],K=T[q][0],J=z(V,F,q),Z=z(W,B,q),$=b.ge(ee,J),ne=b.gt(ee,Z,$,ee.length-1);H[q]=[$+K,ne+K]}return H}function z(V,F,W){for(var B=1,U=.5,H=.5,q=.5,ee=0;ee<W;ee++)B<<=2,B+=V<U?F<H?0:1:F<H?2:3,q*=.5,U+=V<U?-q:q,H+=F<H?-q:q;return B}}},30774:function(L,M,e){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=e(60302),w=6378137;function a(f){var l=0;if(f&&f.length>0){l+=Math.abs(k(f[0]));for(var t=1;t<f.length;t++)l-=Math.abs(k(f[t]))}return l}function k(f){var l,t,s,o,n,r,i=0,u=f.length;if(u>2){for(r=0;r<u;r++)r===u-2?(s=u-2,o=u-1,n=0):r===u-1?(s=u-1,o=0,n=1):(s=r,o=r+1,n=r+2),l=f[s],t=f[o],i+=(y(f[n][0])-y(l[0]))*Math.sin(y(t[1]));i=i*w*w/2}return i}function y(f){return f*Math.PI/180}M.default=function(f){return b.geomReduce(f,function(l,t){return l+function(s){var o,n=0;switch(s.type){case"Polygon":return a(s.coordinates);case"MultiPolygon":for(o=0;o<s.coordinates.length;o++)n+=a(s.coordinates[o]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},23132:function(L,M){"use strict";function e(r,i,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=i||{},p.geometry=r,p}function b(r,i,u){if(u===void 0&&(u={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(r[0])||!n(r[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:r},i,u)}function w(r,i,u){u===void 0&&(u={});for(var p=0,h=r;p<h.length;p++){var _=h[p];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var m=0;m<_[_.length-1].length;m++)if(_[_.length-1][m]!==_[0][m])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:r},i,u)}function a(r,i,u){if(u===void 0&&(u={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:r},i,u)}function k(r,i){i===void 0&&(i={});var u={type:"FeatureCollection"};return i.id&&(u.id=i.id),i.bbox&&(u.bbox=i.bbox),u.features=r,u}function y(r,i,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:r},i,u)}function f(r,i,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:r},i,u)}function l(r,i,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:r},i,u)}function t(r,i){i===void 0&&(i="kilometers");var u=M.factors[i];if(!u)throw new Error(i+" units is invalid");return r*u}function s(r,i){i===void 0&&(i="kilometers");var u=M.factors[i];if(!u)throw new Error(i+" units is invalid");return r/u}function o(r){return r%(2*Math.PI)*180/Math.PI}function n(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}Object.defineProperty(M,"__esModule",{value:!0}),M.earthRadius=63710088e-1,M.factors={centimeters:100*M.earthRadius,centimetres:100*M.earthRadius,degrees:M.earthRadius/111325,feet:3.28084*M.earthRadius,inches:39.37*M.earthRadius,kilometers:M.earthRadius/1e3,kilometres:M.earthRadius/1e3,meters:M.earthRadius,metres:M.earthRadius,miles:M.earthRadius/1609.344,millimeters:1e3*M.earthRadius,millimetres:1e3*M.earthRadius,nauticalmiles:M.earthRadius/1852,radians:1,yards:1.0936*M.earthRadius},M.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/M.earthRadius,yards:1.0936133},M.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},M.feature=e,M.geometry=function(r,i,u){switch(u===void 0&&(u={}),r){case"Point":return b(i).geometry;case"LineString":return a(i).geometry;case"Polygon":return w(i).geometry;case"MultiPoint":return f(i).geometry;case"MultiLineString":return y(i).geometry;case"MultiPolygon":return l(i).geometry;default:throw new Error(r+" is invalid")}},M.point=b,M.points=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return b(p,i)}),u)},M.polygon=w,M.polygons=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return w(p,i)}),u)},M.lineString=a,M.lineStrings=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return a(p,i)}),u)},M.featureCollection=k,M.multiLineString=y,M.multiPoint=f,M.multiPolygon=l,M.geometryCollection=function(r,i,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:r},i,u)},M.round=function(r,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,i||0);return Math.round(r*u)/u},M.radiansToLength=t,M.lengthToRadians=s,M.lengthToDegrees=function(r,i){return o(s(r,i))},M.bearingToAzimuth=function(r){var i=r%360;return i<0&&(i+=360),i},M.radiansToDegrees=o,M.degreesToRadians=function(r){return r%360*Math.PI/180},M.convertLength=function(r,i,u){if(i===void 0&&(i="kilometers"),u===void 0&&(u="kilometers"),!(r>=0))throw new Error("length must be a positive number");return t(s(r,i),u)},M.convertArea=function(r,i,u){if(i===void 0&&(i="meters"),u===void 0&&(u="kilometers"),!(r>=0))throw new Error("area must be a positive number");var p=M.areaFactors[i];if(!p)throw new Error("invalid original units");var h=M.areaFactors[u];if(!h)throw new Error("invalid final units");return r/p*h},M.isNumber=n,M.isObject=function(r){return!!r&&r.constructor===Object},M.validateBBox=function(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(function(i){if(!n(i))throw new Error("bbox must only contain numbers")})},M.validateId=function(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}},60302:function(L,M,e){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=e(23132);function w(s,o,n){if(s!==null)for(var r,i,u,p,h,_,m,d,x=0,g=0,v=s.type,T=v==="FeatureCollection",c=v==="Feature",E=T?s.features.length:1,A=0;A<E;A++){h=(d=!!(m=T?s.features[A].geometry:c?s.geometry:s)&&m.type==="GeometryCollection")?m.geometries.length:1;for(var C=0;C<h;C++){var O=0,P=0;if((p=d?m.geometries[C]:m)!==null){_=p.coordinates;var D=p.type;switch(x=!n||D!=="Polygon"&&D!=="MultiPolygon"?0:1,D){case null:break;case"Point":if(o(_,g,A,O,P)===!1)return!1;g++,O++;break;case"LineString":case"MultiPoint":for(r=0;r<_.length;r++){if(o(_[r],g,A,O,P)===!1)return!1;g++,D==="MultiPoint"&&O++}D==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(r=0;r<_.length;r++){for(i=0;i<_[r].length-x;i++){if(o(_[r][i],g,A,O,P)===!1)return!1;g++}D==="MultiLineString"&&O++,D==="Polygon"&&P++}D==="Polygon"&&O++;break;case"MultiPolygon":for(r=0;r<_.length;r++){for(P=0,i=0;i<_[r].length;i++){for(u=0;u<_[r][i].length-x;u++){if(o(_[r][i][u],g,A,O,P)===!1)return!1;g++}P++}O++}break;case"GeometryCollection":for(r=0;r<p.geometries.length;r++)if(w(p.geometries[r],o,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,o){var n;switch(s.type){case"FeatureCollection":for(n=0;n<s.features.length&&o(s.features[n].properties,n)!==!1;n++);break;case"Feature":o(s.properties,0)}}function k(s,o){if(s.type==="Feature")o(s,0);else if(s.type==="FeatureCollection")for(var n=0;n<s.features.length&&o(s.features[n],n)!==!1;n++);}function y(s,o){var n,r,i,u,p,h,_,m,d,x,g=0,v=s.type==="FeatureCollection",T=s.type==="Feature",c=v?s.features.length:1;for(n=0;n<c;n++){for(h=v?s.features[n].geometry:T?s.geometry:s,m=v?s.features[n].properties:T?s.properties:{},d=v?s.features[n].bbox:T?s.bbox:void 0,x=v?s.features[n].id:T?s.id:void 0,p=(_=!!h&&h.type==="GeometryCollection")?h.geometries.length:1,i=0;i<p;i++)if((u=_?h.geometries[i]:h)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(o(u,g,m,d,x)===!1)return!1;break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(o(u.geometries[r],g,m,d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(o(null,g,m,d,x)===!1)return!1;g++}}function f(s,o){y(s,function(n,r,i,u,p){var h,_=n===null?null:n.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return o(b.feature(n,i,{bbox:u,id:p}),r,0)!==!1&&void 0}switch(_){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var m=0;m<n.coordinates.length;m++){var d={type:h,coordinates:n.coordinates[m]};if(o(b.feature(d,i),r,m)===!1)return!1}})}function l(s,o){f(s,function(n,r,i){var u=0;if(n.geometry){var p=n.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var h,_=0,m=0,d=0;return w(n,function(x,g,v,T,c){if(h===void 0||r>_||T>m||c>d)return h=x,_=r,m=T,d=c,void(u=0);var E=b.lineString([h,x],n.properties);if(o(E,r,i,c,u)===!1)return!1;u++,h=x})!==!1&&void 0}}})}function t(s,o){if(!s)throw new Error("geojson is required");f(s,function(n,r,i){if(n.geometry!==null){var u=n.geometry.type,p=n.geometry.coordinates;switch(u){case"LineString":if(o(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var h=0;h<p.length;h++)if(o(b.lineString(p[h],n.properties),r,i,h)===!1)return!1}}})}M.coordEach=w,M.coordReduce=function(s,o,n,r){var i=n;return w(s,function(u,p,h,_,m){i=p===0&&n===void 0?u:o(i,u,p,h,_,m)},r),i},M.propEach=a,M.propReduce=function(s,o,n){var r=n;return a(s,function(i,u){r=u===0&&n===void 0?i:o(r,i,u)}),r},M.featureEach=k,M.featureReduce=function(s,o,n){var r=n;return k(s,function(i,u){r=u===0&&n===void 0?i:o(r,i,u)}),r},M.coordAll=function(s){var o=[];return w(s,function(n){o.push(n)}),o},M.geomEach=y,M.geomReduce=function(s,o,n){var r=n;return y(s,function(i,u,p,h,_){r=u===0&&n===void 0?i:o(r,i,u,p,h,_)}),r},M.flattenEach=f,M.flattenReduce=function(s,o,n){var r=n;return f(s,function(i,u,p){r=u===0&&p===0&&n===void 0?i:o(r,i,u,p)}),r},M.segmentEach=l,M.segmentReduce=function(s,o,n){var r=n,i=!1;return l(s,function(u,p,h,_,m){r=i===!1&&n===void 0?u:o(r,u,p,h,_,m),i=!0}),r},M.lineEach=t,M.lineReduce=function(s,o,n){var r=n;return t(s,function(i,u,p,h){r=u===0&&n===void 0?i:o(r,i,u,p,h)}),r},M.findSegment=function(s,o){if(o=o||{},!b.isObject(o))throw new Error("options is invalid");var n,r=o.featureIndex||0,i=o.multiFeatureIndex||0,u=o.geometryIndex||0,p=o.segmentIndex||0,h=o.properties;switch(s.type){case"FeatureCollection":r<0&&(r=s.features.length+r),h=h||s.features[r].properties,n=s.features[r].geometry;break;case"Feature":h=h||s.properties,n=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=s;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var _=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=_.length+p-1),b.lineString([_[p],_[p+1]],h,o);case"Polygon":return u<0&&(u=_.length+u),p<0&&(p=_[u].length+p-1),b.lineString([_[u][p],_[u][p+1]],h,o);case"MultiLineString":return i<0&&(i=_.length+i),p<0&&(p=_[i].length+p-1),b.lineString([_[i][p],_[i][p+1]],h,o);case"MultiPolygon":return i<0&&(i=_.length+i),u<0&&(u=_[i].length+u),p<0&&(p=_[i][u].length-p-1),b.lineString([_[i][u][p],_[i][u][p+1]],h,o)}throw new Error("geojson is invalid")},M.findPoint=function(s,o){if(o=o||{},!b.isObject(o))throw new Error("options is invalid");var n,r=o.featureIndex||0,i=o.multiFeatureIndex||0,u=o.geometryIndex||0,p=o.coordIndex||0,h=o.properties;switch(s.type){case"FeatureCollection":r<0&&(r=s.features.length+r),h=h||s.features[r].properties,n=s.features[r].geometry;break;case"Feature":h=h||s.properties,n=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=s;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var _=n.coordinates;switch(n.type){case"Point":return b.point(_,h,o);case"MultiPoint":return i<0&&(i=_.length+i),b.point(_[i],h,o);case"LineString":return p<0&&(p=_.length+p),b.point(_[p],h,o);case"Polygon":return u<0&&(u=_.length+u),p<0&&(p=_[u].length+p),b.point(_[u][p],h,o);case"MultiLineString":return i<0&&(i=_.length+i),p<0&&(p=_[i].length+p),b.point(_[i][p],h,o);case"MultiPolygon":return i<0&&(i=_.length+i),u<0&&(u=_[i].length+u),p<0&&(p=_[i][u].length-p),b.point(_[i][u][p],h,o)}throw new Error("geojson is invalid")}},85268:function(L,M,e){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=e(27138);function w(a){var k=[1/0,1/0,-1/0,-1/0];return b.coordEach(a,function(y){k[0]>y[0]&&(k[0]=y[0]),k[1]>y[1]&&(k[1]=y[1]),k[2]<y[0]&&(k[2]=y[0]),k[3]<y[1]&&(k[3]=y[1])}),k}w.default=w,M.default=w},94228:function(L,M){"use strict";function e(r,i,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=i||{},p.geometry=r,p}function b(r,i,u){if(u===void 0&&(u={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(r[0])||!n(r[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:r},i,u)}function w(r,i,u){u===void 0&&(u={});for(var p=0,h=r;p<h.length;p++){var _=h[p];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var m=0;m<_[_.length-1].length;m++)if(_[_.length-1][m]!==_[0][m])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:r},i,u)}function a(r,i,u){if(u===void 0&&(u={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:r},i,u)}function k(r,i){i===void 0&&(i={});var u={type:"FeatureCollection"};return i.id&&(u.id=i.id),i.bbox&&(u.bbox=i.bbox),u.features=r,u}function y(r,i,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:r},i,u)}function f(r,i,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:r},i,u)}function l(r,i,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:r},i,u)}function t(r,i){i===void 0&&(i="kilometers");var u=M.factors[i];if(!u)throw new Error(i+" units is invalid");return r*u}function s(r,i){i===void 0&&(i="kilometers");var u=M.factors[i];if(!u)throw new Error(i+" units is invalid");return r/u}function o(r){return r%(2*Math.PI)*180/Math.PI}function n(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}Object.defineProperty(M,"__esModule",{value:!0}),M.earthRadius=63710088e-1,M.factors={centimeters:100*M.earthRadius,centimetres:100*M.earthRadius,degrees:M.earthRadius/111325,feet:3.28084*M.earthRadius,inches:39.37*M.earthRadius,kilometers:M.earthRadius/1e3,kilometres:M.earthRadius/1e3,meters:M.earthRadius,metres:M.earthRadius,miles:M.earthRadius/1609.344,millimeters:1e3*M.earthRadius,millimetres:1e3*M.earthRadius,nauticalmiles:M.earthRadius/1852,radians:1,yards:1.0936*M.earthRadius},M.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/M.earthRadius,yards:1.0936133},M.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},M.feature=e,M.geometry=function(r,i,u){switch(u===void 0&&(u={}),r){case"Point":return b(i).geometry;case"LineString":return a(i).geometry;case"Polygon":return w(i).geometry;case"MultiPoint":return f(i).geometry;case"MultiLineString":return y(i).geometry;case"MultiPolygon":return l(i).geometry;default:throw new Error(r+" is invalid")}},M.point=b,M.points=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return b(p,i)}),u)},M.polygon=w,M.polygons=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return w(p,i)}),u)},M.lineString=a,M.lineStrings=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return a(p,i)}),u)},M.featureCollection=k,M.multiLineString=y,M.multiPoint=f,M.multiPolygon=l,M.geometryCollection=function(r,i,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:r},i,u)},M.round=function(r,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,i||0);return Math.round(r*u)/u},M.radiansToLength=t,M.lengthToRadians=s,M.lengthToDegrees=function(r,i){return o(s(r,i))},M.bearingToAzimuth=function(r){var i=r%360;return i<0&&(i+=360),i},M.radiansToDegrees=o,M.degreesToRadians=function(r){return r%360*Math.PI/180},M.convertLength=function(r,i,u){if(i===void 0&&(i="kilometers"),u===void 0&&(u="kilometers"),!(r>=0))throw new Error("length must be a positive number");return t(s(r,i),u)},M.convertArea=function(r,i,u){if(i===void 0&&(i="meters"),u===void 0&&(u="kilometers"),!(r>=0))throw new Error("area must be a positive number");var p=M.areaFactors[i];if(!p)throw new Error("invalid original units");var h=M.areaFactors[u];if(!h)throw new Error("invalid final units");return r/p*h},M.isNumber=n,M.isObject=function(r){return!!r&&r.constructor===Object},M.validateBBox=function(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(function(i){if(!n(i))throw new Error("bbox must only contain numbers")})},M.validateId=function(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}},27138:function(L,M,e){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=e(94228);function w(s,o,n){if(s!==null)for(var r,i,u,p,h,_,m,d,x=0,g=0,v=s.type,T=v==="FeatureCollection",c=v==="Feature",E=T?s.features.length:1,A=0;A<E;A++){h=(d=!!(m=T?s.features[A].geometry:c?s.geometry:s)&&m.type==="GeometryCollection")?m.geometries.length:1;for(var C=0;C<h;C++){var O=0,P=0;if((p=d?m.geometries[C]:m)!==null){_=p.coordinates;var D=p.type;switch(x=!n||D!=="Polygon"&&D!=="MultiPolygon"?0:1,D){case null:break;case"Point":if(o(_,g,A,O,P)===!1)return!1;g++,O++;break;case"LineString":case"MultiPoint":for(r=0;r<_.length;r++){if(o(_[r],g,A,O,P)===!1)return!1;g++,D==="MultiPoint"&&O++}D==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(r=0;r<_.length;r++){for(i=0;i<_[r].length-x;i++){if(o(_[r][i],g,A,O,P)===!1)return!1;g++}D==="MultiLineString"&&O++,D==="Polygon"&&P++}D==="Polygon"&&O++;break;case"MultiPolygon":for(r=0;r<_.length;r++){for(P=0,i=0;i<_[r].length;i++){for(u=0;u<_[r][i].length-x;u++){if(o(_[r][i][u],g,A,O,P)===!1)return!1;g++}P++}O++}break;case"GeometryCollection":for(r=0;r<p.geometries.length;r++)if(w(p.geometries[r],o,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,o){var n;switch(s.type){case"FeatureCollection":for(n=0;n<s.features.length&&o(s.features[n].properties,n)!==!1;n++);break;case"Feature":o(s.properties,0)}}function k(s,o){if(s.type==="Feature")o(s,0);else if(s.type==="FeatureCollection")for(var n=0;n<s.features.length&&o(s.features[n],n)!==!1;n++);}function y(s,o){var n,r,i,u,p,h,_,m,d,x,g=0,v=s.type==="FeatureCollection",T=s.type==="Feature",c=v?s.features.length:1;for(n=0;n<c;n++){for(h=v?s.features[n].geometry:T?s.geometry:s,m=v?s.features[n].properties:T?s.properties:{},d=v?s.features[n].bbox:T?s.bbox:void 0,x=v?s.features[n].id:T?s.id:void 0,p=(_=!!h&&h.type==="GeometryCollection")?h.geometries.length:1,i=0;i<p;i++)if((u=_?h.geometries[i]:h)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(o(u,g,m,d,x)===!1)return!1;break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(o(u.geometries[r],g,m,d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(o(null,g,m,d,x)===!1)return!1;g++}}function f(s,o){y(s,function(n,r,i,u,p){var h,_=n===null?null:n.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return o(b.feature(n,i,{bbox:u,id:p}),r,0)!==!1&&void 0}switch(_){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var m=0;m<n.coordinates.length;m++){var d={type:h,coordinates:n.coordinates[m]};if(o(b.feature(d,i),r,m)===!1)return!1}})}function l(s,o){f(s,function(n,r,i){var u=0;if(n.geometry){var p=n.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var h,_=0,m=0,d=0;return w(n,function(x,g,v,T,c){if(h===void 0||r>_||T>m||c>d)return h=x,_=r,m=T,d=c,void(u=0);var E=b.lineString([h,x],n.properties);if(o(E,r,i,c,u)===!1)return!1;u++,h=x})!==!1&&void 0}}})}function t(s,o){if(!s)throw new Error("geojson is required");f(s,function(n,r,i){if(n.geometry!==null){var u=n.geometry.type,p=n.geometry.coordinates;switch(u){case"LineString":if(o(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var h=0;h<p.length;h++)if(o(b.lineString(p[h],n.properties),r,i,h)===!1)return!1}}})}M.coordEach=w,M.coordReduce=function(s,o,n,r){var i=n;return w(s,function(u,p,h,_,m){i=p===0&&n===void 0?u:o(i,u,p,h,_,m)},r),i},M.propEach=a,M.propReduce=function(s,o,n){var r=n;return a(s,function(i,u){r=u===0&&n===void 0?i:o(r,i,u)}),r},M.featureEach=k,M.featureReduce=function(s,o,n){var r=n;return k(s,function(i,u){r=u===0&&n===void 0?i:o(r,i,u)}),r},M.coordAll=function(s){var o=[];return w(s,function(n){o.push(n)}),o},M.geomEach=y,M.geomReduce=function(s,o,n){var r=n;return y(s,function(i,u,p,h,_){r=u===0&&n===void 0?i:o(r,i,u,p,h,_)}),r},M.flattenEach=f,M.flattenReduce=function(s,o,n){var r=n;return f(s,function(i,u,p){r=u===0&&p===0&&n===void 0?i:o(r,i,u,p)}),r},M.segmentEach=l,M.segmentReduce=function(s,o,n){var r=n,i=!1;return l(s,function(u,p,h,_,m){r=i===!1&&n===void 0?u:o(r,u,p,h,_,m),i=!0}),r},M.lineEach=t,M.lineReduce=function(s,o,n){var r=n;return t(s,function(i,u,p,h){r=u===0&&n===void 0?i:o(r,i,u,p,h)}),r},M.findSegment=function(s,o){if(o=o||{},!b.isObject(o))throw new Error("options is invalid");var n,r=o.featureIndex||0,i=o.multiFeatureIndex||0,u=o.geometryIndex||0,p=o.segmentIndex||0,h=o.properties;switch(s.type){case"FeatureCollection":r<0&&(r=s.features.length+r),h=h||s.features[r].properties,n=s.features[r].geometry;break;case"Feature":h=h||s.properties,n=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=s;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var _=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=_.length+p-1),b.lineString([_[p],_[p+1]],h,o);case"Polygon":return u<0&&(u=_.length+u),p<0&&(p=_[u].length+p-1),b.lineString([_[u][p],_[u][p+1]],h,o);case"MultiLineString":return i<0&&(i=_.length+i),p<0&&(p=_[i].length+p-1),b.lineString([_[i][p],_[i][p+1]],h,o);case"MultiPolygon":return i<0&&(i=_.length+i),u<0&&(u=_[i].length+u),p<0&&(p=_[i][u].length-p-1),b.lineString([_[i][u][p],_[i][u][p+1]],h,o)}throw new Error("geojson is invalid")},M.findPoint=function(s,o){if(o=o||{},!b.isObject(o))throw new Error("options is invalid");var n,r=o.featureIndex||0,i=o.multiFeatureIndex||0,u=o.geometryIndex||0,p=o.coordIndex||0,h=o.properties;switch(s.type){case"FeatureCollection":r<0&&(r=s.features.length+r),h=h||s.features[r].properties,n=s.features[r].geometry;break;case"Feature":h=h||s.properties,n=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=s;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var _=n.coordinates;switch(n.type){case"Point":return b.point(_,h,o);case"MultiPoint":return i<0&&(i=_.length+i),b.point(_[i],h,o);case"LineString":return p<0&&(p=_.length+p),b.point(_[p],h,o);case"Polygon":return u<0&&(u=_.length+u),p<0&&(p=_[u].length+p),b.point(_[u][p],h,o);case"MultiLineString":return i<0&&(i=_.length+i),p<0&&(p=_[i].length+p),b.point(_[i][p],h,o);case"MultiPolygon":return i<0&&(i=_.length+i),u<0&&(u=_[i].length+u),p<0&&(p=_[i][u].length-p),b.point(_[i][u][p],h,o)}throw new Error("geojson is invalid")}},29261:function(L,M,e){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=e(88553),w=e(64182);M.default=function(a,k){k===void 0&&(k={});var y=0,f=0,l=0;return b.coordEach(a,function(t){y+=t[0],f+=t[1],l++}),w.point([y/l,f/l],k.properties)}},64182:function(L,M){"use strict";function e(r,i,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=i||{},p.geometry=r,p}function b(r,i,u){return u===void 0&&(u={}),e({type:"Point",coordinates:r},i,u)}function w(r,i,u){u===void 0&&(u={});for(var p=0,h=r;p<h.length;p++){var _=h[p];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var m=0;m<_[_.length-1].length;m++)if(_[_.length-1][m]!==_[0][m])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:r},i,u)}function a(r,i,u){if(u===void 0&&(u={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:r},i,u)}function k(r,i){i===void 0&&(i={});var u={type:"FeatureCollection"};return i.id&&(u.id=i.id),i.bbox&&(u.bbox=i.bbox),u.features=r,u}function y(r,i,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:r},i,u)}function f(r,i,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:r},i,u)}function l(r,i,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:r},i,u)}function t(r,i){i===void 0&&(i="kilometers");var u=M.factors[i];if(!u)throw new Error(i+" units is invalid");return r*u}function s(r,i){i===void 0&&(i="kilometers");var u=M.factors[i];if(!u)throw new Error(i+" units is invalid");return r/u}function o(r){return r%(2*Math.PI)*180/Math.PI}function n(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)&&!/^\s*$/.test(r)}Object.defineProperty(M,"__esModule",{value:!0}),M.earthRadius=63710088e-1,M.factors={centimeters:100*M.earthRadius,centimetres:100*M.earthRadius,degrees:M.earthRadius/111325,feet:3.28084*M.earthRadius,inches:39.37*M.earthRadius,kilometers:M.earthRadius/1e3,kilometres:M.earthRadius/1e3,meters:M.earthRadius,metres:M.earthRadius,miles:M.earthRadius/1609.344,millimeters:1e3*M.earthRadius,millimetres:1e3*M.earthRadius,nauticalmiles:M.earthRadius/1852,radians:1,yards:M.earthRadius/1.0936},M.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/M.earthRadius,yards:.91441111923921},M.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},M.feature=e,M.geometry=function(r,i,u){switch(u===void 0&&(u={}),r){case"Point":return b(i).geometry;case"LineString":return a(i).geometry;case"Polygon":return w(i).geometry;case"MultiPoint":return f(i).geometry;case"MultiLineString":return y(i).geometry;case"MultiPolygon":return l(i).geometry;default:throw new Error(r+" is invalid")}},M.point=b,M.points=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return b(p,i)}),u)},M.polygon=w,M.polygons=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return w(p,i)}),u)},M.lineString=a,M.lineStrings=function(r,i,u){return u===void 0&&(u={}),k(r.map(function(p){return a(p,i)}),u)},M.featureCollection=k,M.multiLineString=y,M.multiPoint=f,M.multiPolygon=l,M.geometryCollection=function(r,i,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:r},i,u)},M.round=function(r,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,i||0);return Math.round(r*u)/u},M.radiansToLength=t,M.lengthToRadians=s,M.lengthToDegrees=function(r,i){return o(s(r,i))},M.bearingToAzimuth=function(r){var i=r%360;return i<0&&(i+=360),i},M.radiansToDegrees=o,M.degreesToRadians=function(r){return r%360*Math.PI/180},M.convertLength=function(r,i,u){if(i===void 0&&(i="kilometers"),u===void 0&&(u="kilometers"),!(r>=0))throw new Error("length must be a positive number");return t(s(r,i),u)},M.convertArea=function(r,i,u){if(i===void 0&&(i="meters"),u===void 0&&(u="kilometers"),!(r>=0))throw new Error("area must be a positive number");var p=M.areaFactors[i];if(!p)throw new Error("invalid original units");var h=M.areaFactors[u];if(!h)throw new Error("invalid final units");return r/p*h},M.isNumber=n,M.isObject=function(r){return!!r&&r.constructor===Object},M.validateBBox=function(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(function(i){if(!n(i))throw new Error("bbox must only contain numbers")})},M.validateId=function(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")},M.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},M.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},M.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},M.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},M.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},M.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},M.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(L,M,e){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=e(64182);function w(s,o,n){if(s!==null)for(var r,i,u,p,h,_,m,d,x=0,g=0,v=s.type,T=v==="FeatureCollection",c=v==="Feature",E=T?s.features.length:1,A=0;A<E;A++){h=(d=!!(m=T?s.features[A].geometry:c?s.geometry:s)&&m.type==="GeometryCollection")?m.geometries.length:1;for(var C=0;C<h;C++){var O=0,P=0;if((p=d?m.geometries[C]:m)!==null){_=p.coordinates;var D=p.type;switch(x=!n||D!=="Polygon"&&D!=="MultiPolygon"?0:1,D){case null:break;case"Point":if(o(_,g,A,O,P)===!1)return!1;g++,O++;break;case"LineString":case"MultiPoint":for(r=0;r<_.length;r++){if(o(_[r],g,A,O,P)===!1)return!1;g++,D==="MultiPoint"&&O++}D==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(r=0;r<_.length;r++){for(i=0;i<_[r].length-x;i++){if(o(_[r][i],g,A,O,P)===!1)return!1;g++}D==="MultiLineString"&&O++,D==="Polygon"&&P++}D==="Polygon"&&O++;break;case"MultiPolygon":for(r=0;r<_.length;r++){for(P=0,i=0;i<_[r].length;i++){for(u=0;u<_[r][i].length-x;u++){if(o(_[r][i][u],g,A,O,P)===!1)return!1;g++}P++}O++}break;case"GeometryCollection":for(r=0;r<p.geometries.length;r++)if(w(p.geometries[r],o,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,o){var n;switch(s.type){case"FeatureCollection":for(n=0;n<s.features.length&&o(s.features[n].properties,n)!==!1;n++);break;case"Feature":o(s.properties,0)}}function k(s,o){if(s.type==="Feature")o(s,0);else if(s.type==="FeatureCollection")for(var n=0;n<s.features.length&&o(s.features[n],n)!==!1;n++);}function y(s,o){var n,r,i,u,p,h,_,m,d,x,g=0,v=s.type==="FeatureCollection",T=s.type==="Feature",c=v?s.features.length:1;for(n=0;n<c;n++){for(h=v?s.features[n].geometry:T?s.geometry:s,m=v?s.features[n].properties:T?s.properties:{},d=v?s.features[n].bbox:T?s.bbox:void 0,x=v?s.features[n].id:T?s.id:void 0,p=(_=!!h&&h.type==="GeometryCollection")?h.geometries.length:1,i=0;i<p;i++)if((u=_?h.geometries[i]:h)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(o(u,g,m,d,x)===!1)return!1;break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(o(u.geometries[r],g,m,d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(o(null,g,m,d,x)===!1)return!1;g++}}function f(s,o){y(s,function(n,r,i,u,p){var h,_=n===null?null:n.type;switch(_){case null:case"Point":case"LineString":case"Polygon":return o(b.feature(n,i,{bbox:u,id:p}),r,0)!==!1&&void 0}switch(_){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var m=0;m<n.coordinates.length;m++){var d={type:h,coordinates:n.coordinates[m]};if(o(b.feature(d,i),r,m)===!1)return!1}})}function l(s,o){f(s,function(n,r,i){var u=0;if(n.geometry){var p=n.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var h,_=0,m=0,d=0;return w(n,function(x,g,v,T,c){if(h===void 0||r>_||T>m||c>d)return h=x,_=r,m=T,d=c,void(u=0);var E=b.lineString([h,x],n.properties);if(o(E,r,i,c,u)===!1)return!1;u++,h=x})!==!1&&void 0}}})}function t(s,o){if(!s)throw new Error("geojson is required");f(s,function(n,r,i){if(n.geometry!==null){var u=n.geometry.type,p=n.geometry.coordinates;switch(u){case"LineString":if(o(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var h=0;h<p.length;h++)if(o(b.lineString(p[h],n.properties),r,i,h)===!1)return!1}}})}M.coordEach=w,M.coordReduce=function(s,o,n,r){var i=n;return w(s,function(u,p,h,_,m){i=p===0&&n===void 0?u:o(i,u,p,h,_,m)},r),i},M.propEach=a,M.propReduce=function(s,o,n){var r=n;return a(s,function(i,u){r=u===0&&n===void 0?i:o(r,i,u)}),r},M.featureEach=k,M.featureReduce=function(s,o,n){var r=n;return k(s,function(i,u){r=u===0&&n===void 0?i:o(r,i,u)}),r},M.coordAll=function(s){var o=[];return w(s,function(n){o.push(n)}),o},M.geomEach=y,M.geomReduce=function(s,o,n){var r=n;return y(s,function(i,u,p,h,_){r=u===0&&n===void 0?i:o(r,i,u,p,h,_)}),r},M.flattenEach=f,M.flattenReduce=function(s,o,n){var r=n;return f(s,function(i,u,p){r=u===0&&p===0&&n===void 0?i:o(r,i,u,p)}),r},M.segmentEach=l,M.segmentReduce=function(s,o,n){var r=n,i=!1;return l(s,function(u,p,h,_,m){r=i===!1&&n===void 0?u:o(r,u,p,h,_,m),i=!0}),r},M.lineEach=t,M.lineReduce=function(s,o,n){var r=n;return t(s,function(i,u,p,h){r=u===0&&n===void 0?i:o(r,i,u,p,h)}),r},M.findSegment=function(s,o){if(o=o||{},!b.isObject(o))throw new Error("options is invalid");var n,r=o.featureIndex||0,i=o.multiFeatureIndex||0,u=o.geometryIndex||0,p=o.segmentIndex||0,h=o.properties;switch(s.type){case"FeatureCollection":r<0&&(r=s.features.length+r),h=h||s.features[r].properties,n=s.features[r].geometry;break;case"Feature":h=h||s.properties,n=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=s;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var _=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=_.length+p-1),b.lineString([_[p],_[p+1]],h,o);case"Polygon":return u<0&&(u=_.length+u),p<0&&(p=_[u].length+p-1),b.lineString([_[u][p],_[u][p+1]],h,o);case"MultiLineString":return i<0&&(i=_.length+i),p<0&&(p=_[i].length+p-1),b.lineString([_[i][p],_[i][p+1]],h,o);case"MultiPolygon":return i<0&&(i=_.length+i),u<0&&(u=_[i].length+u),p<0&&(p=_[i][u].length-p-1),b.lineString([_[i][u][p],_[i][u][p+1]],h,o)}throw new Error("geojson is invalid")},M.findPoint=function(s,o){if(o=o||{},!b.isObject(o))throw new Error("options is invalid");var n,r=o.featureIndex||0,i=o.multiFeatureIndex||0,u=o.geometryIndex||0,p=o.coordIndex||0,h=o.properties;switch(s.type){case"FeatureCollection":r<0&&(r=s.features.length+r),h=h||s.features[r].properties,n=s.features[r].geometry;break;case"Feature":h=h||s.properties,n=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=s;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var _=n.coordinates;switch(n.type){case"Point":return b.point(_,h,o);case"MultiPoint":return i<0&&(i=_.length+i),b.point(_[i],h,o);case"LineString":return p<0&&(p=_.length+p),b.point(_[p],h,o);case"Polygon":return u<0&&(u=_.length+u),p<0&&(p=_[u].length+p),b.point(_[u][p],h,o);case"MultiLineString":return i<0&&(i=_.length+i),p<0&&(p=_[i].length+p),b.point(_[i][p],h,o);case"MultiPolygon":return i<0&&(i=_.length+i),u<0&&(u=_[i].length+u),p<0&&(p=_[i][u].length-p),b.point(_[i][u][p],h,o)}throw new Error("geojson is invalid")}},65185:function(L){L.exports=function(M){var e=0,b=0,w=0,a=0;return M.map(function(k){var y=(k=k.slice())[0],f=y.toUpperCase();if(y!=f)switch(k[0]=f,y){case"a":k[6]+=w,k[7]+=a;break;case"v":k[1]+=a;break;case"h":k[1]+=w;break;default:for(var l=1;l<k.length;)k[l++]+=w,k[l++]+=a}switch(f){case"Z":w=e,a=b;break;case"H":w=k[1];break;case"V":a=k[1];break;case"M":w=e=k[1],a=b=k[2];break;default:w=k[k.length-2],a=k[k.length-1]}return k})}},21527:function(L){"use strict";L.exports=function(M,e){if(!M||M.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var b=Array(2*e),w=0;w<e;w++){for(var a=-1/0,k=1/0,y=w,f=M.length;y<f;y+=e)M[y]>a&&(a=M[y]),M[y]<k&&(k=M[y]);b[w]=k,b[e+w]=a}return b}},6851:function(L){"use strict";L.exports=function(M,e,b){if(typeof Array.prototype.findIndex=="function")return M.findIndex(e,b);if(typeof e!="function")throw new TypeError("predicate must be a function");var w=Object(M),a=w.length;if(a===0)return-1;for(var k=0;k<a;k++)if(e.call(b,w[k],k,w))return k;return-1}},54:function(L,M,e){"use strict";var b=e(21527);L.exports=function(w,a,k){if(!w||w.length==null)throw Error("Argument should be an array");a==null&&(a=1),k==null&&(k=b(w,a));for(var y=0;y<a;y++){var f=k[a+y],l=k[y],t=y,s=w.length;if(f===1/0&&l===-1/0)for(t=y;t<s;t+=a)w[t]=w[t]===f?1:w[t]===l?0:.5;else if(f===1/0)for(t=y;t<s;t+=a)w[t]=w[t]===f?1:0;else if(l===-1/0)for(t=y;t<s;t+=a)w[t]=w[t]===l?0:1;else{var o=f-l;for(t=y;t<s;t+=a)isNaN(w[t])||(w[t]=o===0?.5:(w[t]-l)/o)}}return w}},57471:function(L){L.exports=function(M,e){var b=typeof M=="number",w=typeof e=="number";b&&!w?(e=M,M=0):b||w||(M=0,e=0);var a=(e|=0)-(M|=0);if(a<0)throw new Error("array length must be positive");for(var k=new Array(a),y=0,f=M;y<a;y++,f++)k[y]=f;return k}},32791:function(L,M,e){"use strict";var b=e(90386);function w(W){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},w(W)}var a,k,y=e(79616).codes,f=y.ERR_AMBIGUOUS_ARGUMENT,l=y.ERR_INVALID_ARG_TYPE,t=y.ERR_INVALID_ARG_VALUE,s=y.ERR_INVALID_RETURN_VALUE,o=y.ERR_MISSING_ARGS,n=e(73894),r=e(43827).inspect,i=e(43827).types,u=i.isPromise,p=i.isRegExp,h=Object.assign?Object.assign:e(73523).assign,_=Object.is?Object.is:e(64003);function m(){var W=e(74061);a=W.isDeepEqual,k=W.isDeepStrictEqual}var d=!1,x=L.exports=c,g={};function v(W){throw W.message instanceof Error?W.message:new n(W)}function T(W,B,U,H){if(!U){var q=!1;if(B===0)q=!0,H="No value argument passed to `assert.ok()`";else if(H instanceof Error)throw H;var ee=new n({actual:U,expected:!0,message:H,operator:"==",stackStartFn:W});throw ee.generatedMessage=q,ee}}function c(){for(var W=arguments.length,B=new Array(W),U=0;U<W;U++)B[U]=arguments[U];T.apply(void 0,[c,B.length].concat(B))}x.fail=function W(B,U,H,q,ee){var K,J=arguments.length;if(J===0)K="Failed";else if(J===1)H=B,B=void 0;else{if(d===!1){d=!0;var Z=b.emitWarning?b.emitWarning:console.warn.bind(console);Z("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(q="!=")}if(H instanceof Error)throw H;var $={actual:B,expected:U,operator:q===void 0?"fail":q,stackStartFn:ee||W};H!==void 0&&($.message=H);var ne=new n($);throw K&&(ne.message=K,ne.generatedMessage=!0),ne},x.AssertionError=n,x.ok=c,x.equal=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");B!=U&&v({actual:B,expected:U,message:H,operator:"==",stackStartFn:W})},x.notEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");B==U&&v({actual:B,expected:U,message:H,operator:"!=",stackStartFn:W})},x.deepEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");a===void 0&&m(),a(B,U)||v({actual:B,expected:U,message:H,operator:"deepEqual",stackStartFn:W})},x.notDeepEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");a===void 0&&m(),a(B,U)&&v({actual:B,expected:U,message:H,operator:"notDeepEqual",stackStartFn:W})},x.deepStrictEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");a===void 0&&m(),k(B,U)||v({actual:B,expected:U,message:H,operator:"deepStrictEqual",stackStartFn:W})},x.notDeepStrictEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");a===void 0&&m(),k(B,U)&&v({actual:B,expected:U,message:H,operator:"notDeepStrictEqual",stackStartFn:W})},x.strictEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");_(B,U)||v({actual:B,expected:U,message:H,operator:"strictEqual",stackStartFn:W})},x.notStrictEqual=function W(B,U,H){if(arguments.length<2)throw new o("actual","expected");_(B,U)&&v({actual:B,expected:U,message:H,operator:"notStrictEqual",stackStartFn:W})};var E=function W(B,U,H){var q=this;(function(ee,K){if(!(ee instanceof K))throw new TypeError("Cannot call a class as a function")})(this,W),U.forEach(function(ee){ee in B&&(H!==void 0&&typeof H[ee]=="string"&&p(B[ee])&&B[ee].test(H[ee])?q[ee]=H[ee]:q[ee]=B[ee])})};function A(W,B,U,H,q,ee){if(!(U in W)||!k(W[U],B[U])){if(!H){var K=new E(W,q),J=new E(B,q,W),Z=new n({actual:K,expected:J,operator:"deepStrictEqual",stackStartFn:ee});throw Z.actual=W,Z.expected=B,Z.operator=ee.name,Z}v({actual:W,expected:B,message:H,operator:ee.name,stackStartFn:ee})}}function C(W,B,U,H){if(typeof B!="function"){if(p(B))return B.test(W);if(arguments.length===2)throw new l("expected",["Function","RegExp"],B);if(w(W)!=="object"||W===null){var q=new n({actual:W,expected:B,message:U,operator:"deepStrictEqual",stackStartFn:H});throw q.operator=H.name,q}var ee=Object.keys(B);if(B instanceof Error)ee.push("name","message");else if(ee.length===0)throw new t("error",B,"may not be an empty object");return a===void 0&&m(),ee.forEach(function(K){typeof W[K]=="string"&&p(B[K])&&B[K].test(W[K])||A(W,B,K,U,ee,H)}),!0}return B.prototype!==void 0&&W instanceof B||!Error.isPrototypeOf(B)&&B.call({},W)===!0}function O(W){if(typeof W!="function")throw new l("fn","Function",W);try{W()}catch(B){return B}return g}function P(W){return u(W)||W!==null&&w(W)==="object"&&typeof W.then=="function"&&typeof W.catch=="function"}function D(W){return Promise.resolve().then(function(){var B;if(typeof W=="function"){if(!P(B=W()))throw new s("instance of Promise","promiseFn",B)}else{if(!P(W))throw new l("promiseFn",["Function","Promise"],W);B=W}return Promise.resolve().then(function(){return B}).then(function(){return g}).catch(function(U){return U})})}function z(W,B,U,H){if(typeof U=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],U);if(w(B)==="object"&&B!==null){if(B.message===U)throw new f("error/message",'The error message "'.concat(B.message,'" is identical to the message.'))}else if(B===U)throw new f("error/message",'The error "'.concat(B,'" is identical to the message.'));H=U,U=void 0}else if(U!=null&&w(U)!=="object"&&typeof U!="function")throw new l("error",["Object","Error","Function","RegExp"],U);if(B===g){var q="";U&&U.name&&(q+=" (".concat(U.name,")")),q+=H?": ".concat(H):".";var ee=W.name==="rejects"?"rejection":"exception";v({actual:void 0,expected:U,operator:W.name,message:"Missing expected ".concat(ee).concat(q),stackStartFn:W})}if(U&&!C(B,U,H,W))throw B}function V(W,B,U,H){if(B!==g){if(typeof U=="string"&&(H=U,U=void 0),!U||C(B,U)){var q=H?": ".concat(H):".",ee=W.name==="doesNotReject"?"rejection":"exception";v({actual:B,expected:U,operator:W.name,message:"Got unwanted ".concat(ee).concat(q,`
`)+'Actual message: "'.concat(B&&B.message,'"'),stackStartFn:W})}throw B}}function F(){for(var W=arguments.length,B=new Array(W),U=0;U<W;U++)B[U]=arguments[U];T.apply(void 0,[F,B.length].concat(B))}x.throws=function W(B){for(var U=arguments.length,H=new Array(U>1?U-1:0),q=1;q<U;q++)H[q-1]=arguments[q];z.apply(void 0,[W,O(B)].concat(H))},x.rejects=function W(B){for(var U=arguments.length,H=new Array(U>1?U-1:0),q=1;q<U;q++)H[q-1]=arguments[q];return D(B).then(function(ee){return z.apply(void 0,[W,ee].concat(H))})},x.doesNotThrow=function W(B){for(var U=arguments.length,H=new Array(U>1?U-1:0),q=1;q<U;q++)H[q-1]=arguments[q];V.apply(void 0,[W,O(B)].concat(H))},x.doesNotReject=function W(B){for(var U=arguments.length,H=new Array(U>1?U-1:0),q=1;q<U;q++)H[q-1]=arguments[q];return D(B).then(function(ee){return V.apply(void 0,[W,ee].concat(H))})},x.ifError=function W(B){if(B!=null){var U="ifError got unwanted exception: ";w(B)==="object"&&typeof B.message=="string"?B.message.length===0&&B.constructor?U+=B.constructor.name:U+=B.message:U+=r(B);var H=new n({actual:B,expected:null,operator:"ifError",message:U,stackStartFn:W}),q=B.stack;if(typeof q=="string"){var ee=q.split(`
`);ee.shift();for(var K=H.stack.split(`
`),J=0;J<ee.length;J++){var Z=K.indexOf(ee[J]);if(Z!==-1){K=K.slice(0,Z);break}}H.stack="".concat(K.join(`
`),`
`).concat(ee.join(`
`))}throw H}},x.strict=h(F,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict},73894:function(L,M,e){"use strict";var b=e(90386);function w(T,c,E){return c in T?Object.defineProperty(T,c,{value:E,enumerable:!0,configurable:!0,writable:!0}):T[c]=E,T}function a(T,c){for(var E=0;E<c.length;E++){var A=c[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}function k(T,c){return!c||n(c)!=="object"&&typeof c!="function"?y(T):c}function y(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function f(T){var c=typeof Map=="function"?new Map:void 0;return f=function(E){if(E===null||(A=E,Function.toString.call(A).indexOf("[native code]")===-1))return E;var A;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(E))return c.get(E);c.set(E,C)}function C(){return t(E,arguments,o(this).constructor)}return C.prototype=Object.create(E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),s(C,E)},f(T)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function t(T,c,E){return t=l()?Reflect.construct:function(A,C,O){var P=[null];P.push.apply(P,C);var D=new(Function.bind.apply(A,P));return O&&s(D,O.prototype),D},t.apply(null,arguments)}function s(T,c){return s=Object.setPrototypeOf||function(E,A){return E.__proto__=A,E},s(T,c)}function o(T){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},o(T)}function n(T){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n(T)}var r=e(43827).inspect,i=e(79616).codes.ERR_INVALID_ARG_TYPE;function u(T,c,E){return(E===void 0||E>T.length)&&(E=T.length),T.substring(E-c.length,E)===c}var p="",h="",_="",m="",d={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function x(T){var c=Object.keys(T),E=Object.create(Object.getPrototypeOf(T));return c.forEach(function(A){E[A]=T[A]}),Object.defineProperty(E,"message",{value:T.message}),E}function g(T){return r(T,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var v=function(T){function c(C){var O;if(function(K,J){if(!(K instanceof J))throw new TypeError("Cannot call a class as a function")}(this,c),n(C)!=="object"||C===null)throw new i("options","Object",C);var P=C.message,D=C.operator,z=C.stackStartFn,V=C.actual,F=C.expected,W=Error.stackTraceLimit;if(Error.stackTraceLimit=0,P!=null)O=k(this,o(c).call(this,String(P)));else if(b.stderr&&b.stderr.isTTY&&(b.stderr&&b.stderr.getColorDepth&&b.stderr.getColorDepth()!==1?(p="\x1B[34m",h="\x1B[32m",m="\x1B[39m",_="\x1B[31m"):(p="",h="",m="",_="")),n(V)==="object"&&V!==null&&n(F)==="object"&&F!==null&&"stack"in V&&V instanceof Error&&"stack"in F&&F instanceof Error&&(V=x(V),F=x(F)),D==="deepStrictEqual"||D==="strictEqual")O=k(this,o(c).call(this,function(K,J,Z){var $="",ne="",ae=0,oe="",se=!1,ce=g(K),me=ce.split(`
`),xe=g(J).split(`
`),ve=0,fe="";if(Z==="strictEqual"&&n(K)==="object"&&n(J)==="object"&&K!==null&&J!==null&&(Z="strictEqualObject"),me.length===1&&xe.length===1&&me[0]!==xe[0]){var pe=me[0].length+xe[0].length;if(pe<=10){if(!(n(K)==="object"&&K!==null||n(J)==="object"&&J!==null||K===0&&J===0))return"".concat(d[Z],`

`)+"".concat(me[0]," !== ").concat(xe[0],`
`)}else if(Z!=="strictEqualObject"&&pe<(b.stderr&&b.stderr.isTTY?b.stderr.columns:80)){for(;me[0][ve]===xe[0][ve];)ve++;ve>2&&(fe=`
  `.concat(function(Re,je){if(je=Math.floor(je),Re.length==0||je==0)return"";var he=Re.length*je;for(je=Math.floor(Math.log(je)/Math.log(2));je;)Re+=Re,je--;return Re+Re.substring(0,he-Re.length)}(" ",ve),"^"),ve=0)}}for(var Le=me[me.length-1],ye=xe[xe.length-1];Le===ye&&(ve++<2?oe=`
  `.concat(Le).concat(oe):$=Le,me.pop(),xe.pop(),me.length!==0&&xe.length!==0);)Le=me[me.length-1],ye=xe[xe.length-1];var Ae=Math.max(me.length,xe.length);if(Ae===0){var Me=ce.split(`
`);if(Me.length>30)for(Me[26]="".concat(p,"...").concat(m);Me.length>27;)Me.pop();return"".concat(d.notIdentical,`

`).concat(Me.join(`
`),`
`)}ve>3&&(oe=`
`.concat(p,"...").concat(m).concat(oe),se=!0),$!==""&&(oe=`
  `.concat($).concat(oe),$="");var ke=0,te=d[Z]+`
`.concat(h,"+ actual").concat(m," ").concat(_,"- expected").concat(m),ue=" ".concat(p,"...").concat(m," Lines skipped");for(ve=0;ve<Ae;ve++){var ge=ve-ae;if(me.length<ve+1)ge>1&&ve>2&&(ge>4?(ne+=`
`.concat(p,"...").concat(m),se=!0):ge>3&&(ne+=`
  `.concat(xe[ve-2]),ke++),ne+=`
  `.concat(xe[ve-1]),ke++),ae=ve,$+=`
`.concat(_,"-").concat(m," ").concat(xe[ve]),ke++;else if(xe.length<ve+1)ge>1&&ve>2&&(ge>4?(ne+=`
`.concat(p,"...").concat(m),se=!0):ge>3&&(ne+=`
  `.concat(me[ve-2]),ke++),ne+=`
  `.concat(me[ve-1]),ke++),ae=ve,ne+=`
`.concat(h,"+").concat(m," ").concat(me[ve]),ke++;else{var we=xe[ve],Ee=me[ve],Be=Ee!==we&&(!u(Ee,",")||Ee.slice(0,-1)!==we);Be&&u(we,",")&&we.slice(0,-1)===Ee&&(Be=!1,Ee+=","),Be?(ge>1&&ve>2&&(ge>4?(ne+=`
`.concat(p,"...").concat(m),se=!0):ge>3&&(ne+=`
  `.concat(me[ve-2]),ke++),ne+=`
  `.concat(me[ve-1]),ke++),ae=ve,ne+=`
`.concat(h,"+").concat(m," ").concat(Ee),$+=`
`.concat(_,"-").concat(m," ").concat(we),ke+=2):(ne+=$,$="",ge!==1&&ve!==0||(ne+=`
  `.concat(Ee),ke++))}if(ke>20&&ve<Ae-2)return"".concat(te).concat(ue,`
`).concat(ne,`
`).concat(p,"...").concat(m).concat($,`
`)+"".concat(p,"...").concat(m)}return"".concat(te).concat(se?ue:"",`
`).concat(ne).concat($).concat(oe).concat(fe)}(V,F,D)));else if(D==="notDeepStrictEqual"||D==="notStrictEqual"){var B=d[D],U=g(V).split(`
`);if(D==="notStrictEqual"&&n(V)==="object"&&V!==null&&(B=d.notStrictEqualObject),U.length>30)for(U[26]="".concat(p,"...").concat(m);U.length>27;)U.pop();O=U.length===1?k(this,o(c).call(this,"".concat(B," ").concat(U[0]))):k(this,o(c).call(this,"".concat(B,`

`).concat(U.join(`
`),`
`)))}else{var H=g(V),q="",ee=d[D];D==="notDeepEqual"||D==="notEqual"?(H="".concat(d[D],`

`).concat(H)).length>1024&&(H="".concat(H.slice(0,1021),"...")):(q="".concat(g(F)),H.length>512&&(H="".concat(H.slice(0,509),"...")),q.length>512&&(q="".concat(q.slice(0,509),"...")),D==="deepEqual"||D==="equal"?H="".concat(ee,`

`).concat(H,`

should equal

`):q=" ".concat(D," ").concat(q)),O=k(this,o(c).call(this,"".concat(H).concat(q)))}return Error.stackTraceLimit=W,O.generatedMessage=!P,Object.defineProperty(y(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=V,O.expected=F,O.operator=D,Error.captureStackTrace&&Error.captureStackTrace(y(O),z),O.stack,O.name="AssertionError",k(O)}var E,A;return function(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),O&&s(C,O)}(c,T),E=c,A=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r.custom,value:function(C,O){return r(this,function(P){for(var D=1;D<arguments.length;D++){var z=arguments[D]!=null?arguments[D]:{},V=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(V=V.concat(Object.getOwnPropertySymbols(z).filter(function(F){return Object.getOwnPropertyDescriptor(z,F).enumerable}))),V.forEach(function(F){w(P,F,z[F])})}return P}({},O,{customInspect:!1,depth:0}))}}],A&&a(E.prototype,A),c}(f(Error));L.exports=v},79616:function(L,M,e){"use strict";function b(s){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},b(s)}function w(s){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},w(s)}function a(s,o){return a=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},a(s,o)}var k,y,f={};function l(s,o,n){n||(n=Error);var r=function(i){function u(p,h,_){var m;return function(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")}(this,u),m=function(d,x){return!x||b(x)!=="object"&&typeof x!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(d):x}(this,w(u).call(this,function(d,x,g){return typeof o=="string"?o:o(d,x,g)}(p,h,_))),m.code=s,m}return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),h&&a(p,h)}(u,i),u}(n);f[s]=r}function t(s,o){if(Array.isArray(s)){var n=s.length;return s=s.map(function(r){return String(r)}),n>2?"one of ".concat(o," ").concat(s.slice(0,n-1).join(", "),", or ")+s[n-1]:n===2?"one of ".concat(o," ").concat(s[0]," or ").concat(s[1]):"of ".concat(o," ").concat(s[0])}return"of ".concat(o," ").concat(String(s))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",function(s,o,n){var r,i,u,p,h;if(k===void 0&&(k=e(32791)),k(typeof s=="string","'name' must be a string"),typeof o=="string"&&(i="not ",o.substr(0,i.length)===i)?(r="must not be",o=o.replace(/^not /,"")):r="must be",function(m,d,x){return(x===void 0||x>m.length)&&(x=m.length),m.substring(x-d.length,x)===d}(s," argument"))u="The ".concat(s," ").concat(r," ").concat(t(o,"type"));else{var _=(typeof h!="number"&&(h=0),h+1>(p=s).length||p.indexOf(".",h)===-1?"argument":"property");u='The "'.concat(s,'" ').concat(_," ").concat(r," ").concat(t(o,"type"))}return u+". Received type ".concat(b(n))},TypeError),l("ERR_INVALID_ARG_VALUE",function(s,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";y===void 0&&(y=e(43827));var r=y.inspect(o);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(s,"' ").concat(n,". Received ").concat(r)},TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",function(s,o,n){var r;return r=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(b(n)),"Expected ".concat(s,' to be returned from the "').concat(o,'"')+" function but got ".concat(r,".")},TypeError),l("ERR_MISSING_ARGS",function(){for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];k===void 0&&(k=e(32791)),k(o.length>0,"At least one arg needs to be specified");var r="The ",i=o.length;switch(o=o.map(function(u){return'"'.concat(u,'"')}),i){case 1:r+="".concat(o[0]," argument");break;case 2:r+="".concat(o[0]," and ").concat(o[1]," arguments");break;default:r+=o.slice(0,i-1).join(", "),r+=", and ".concat(o[i-1]," arguments")}return"".concat(r," must be specified")},TypeError),L.exports.codes=f},74061:function(L,M,e){"use strict";function b(J,Z){return function($){if(Array.isArray($))return $}(J)||function($,ne){var ae=[],oe=!0,se=!1,ce=void 0;try{for(var me,xe=$[Symbol.iterator]();!(oe=(me=xe.next()).done)&&(ae.push(me.value),!ne||ae.length!==ne);oe=!0);}catch(ve){se=!0,ce=ve}finally{try{oe||xe.return==null||xe.return()}finally{if(se)throw ce}}return ae}(J,Z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(J){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},w(J)}var a=/a/g.flags!==void 0,k=function(J){var Z=[];return J.forEach(function($){return Z.push($)}),Z},y=function(J){var Z=[];return J.forEach(function($,ne){return Z.push([ne,$])}),Z},f=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(15567);function s(J){return J.call.bind(J)}var o=s(Object.prototype.hasOwnProperty),n=s(Object.prototype.propertyIsEnumerable),r=s(Object.prototype.toString),i=e(43827).types,u=i.isAnyArrayBuffer,p=i.isArrayBufferView,h=i.isDate,_=i.isMap,m=i.isRegExp,d=i.isSet,x=i.isNativeError,g=i.isBoxedPrimitive,v=i.isNumberObject,T=i.isStringObject,c=i.isBooleanObject,E=i.isBigIntObject,A=i.isSymbolObject,C=i.isFloat32Array,O=i.isFloat64Array;function P(J){if(J.length===0||J.length>10)return!0;for(var Z=0;Z<J.length;Z++){var $=J.charCodeAt(Z);if($<48||$>57)return!0}return J.length===10&&J>=Math.pow(2,32)}function D(J){return Object.keys(J).filter(P).concat(l(J).filter(Object.prototype.propertyIsEnumerable.bind(J)))}function z(J,Z){if(J===Z)return 0;for(var $=J.length,ne=Z.length,ae=0,oe=Math.min($,ne);ae<oe;++ae)if(J[ae]!==Z[ae]){$=J[ae],ne=Z[ae];break}return $<ne?-1:ne<$?1:0}function V(J,Z,$,ne){if(J===Z)return J!==0||!$||f(J,Z);if($){if(w(J)!=="object")return typeof J=="number"&&t(J)&&t(Z);if(w(Z)!=="object"||J===null||Z===null||Object.getPrototypeOf(J)!==Object.getPrototypeOf(Z))return!1}else{if(J===null||w(J)!=="object")return(Z===null||w(Z)!=="object")&&J==Z;if(Z===null||w(Z)!=="object")return!1}var ae,oe,se,ce,me=r(J);if(me!==r(Z))return!1;if(Array.isArray(J)){if(J.length!==Z.length)return!1;var xe=D(J),ve=D(Z);return xe.length===ve.length&&W(J,Z,$,ne,1,xe)}if(me==="[object Object]"&&(!_(J)&&_(Z)||!d(J)&&d(Z)))return!1;if(h(J)){if(!h(Z)||Date.prototype.getTime.call(J)!==Date.prototype.getTime.call(Z))return!1}else if(m(J)){if(!m(Z)||(se=J,ce=Z,!(a?se.source===ce.source&&se.flags===ce.flags:RegExp.prototype.toString.call(se)===RegExp.prototype.toString.call(ce))))return!1}else if(x(J)||J instanceof Error){if(J.message!==Z.message||J.name!==Z.name)return!1}else{if(p(J)){if($||!C(J)&&!O(J)){if(!function(Le,ye){return Le.byteLength===ye.byteLength&&z(new Uint8Array(Le.buffer,Le.byteOffset,Le.byteLength),new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength))===0}(J,Z))return!1}else if(!function(Le,ye){if(Le.byteLength!==ye.byteLength)return!1;for(var Ae=0;Ae<Le.byteLength;Ae++)if(Le[Ae]!==ye[Ae])return!1;return!0}(J,Z))return!1;var fe=D(J),pe=D(Z);return fe.length===pe.length&&W(J,Z,$,ne,0,fe)}if(d(J))return!(!d(Z)||J.size!==Z.size)&&W(J,Z,$,ne,2);if(_(J))return!(!_(Z)||J.size!==Z.size)&&W(J,Z,$,ne,3);if(u(J)){if(oe=Z,(ae=J).byteLength!==oe.byteLength||z(new Uint8Array(ae),new Uint8Array(oe))!==0)return!1}else if(g(J)&&!function(Le,ye){return v(Le)?v(ye)&&f(Number.prototype.valueOf.call(Le),Number.prototype.valueOf.call(ye)):T(Le)?T(ye)&&String.prototype.valueOf.call(Le)===String.prototype.valueOf.call(ye):c(Le)?c(ye)&&Boolean.prototype.valueOf.call(Le)===Boolean.prototype.valueOf.call(ye):E(Le)?E(ye)&&BigInt.prototype.valueOf.call(Le)===BigInt.prototype.valueOf.call(ye):A(ye)&&Symbol.prototype.valueOf.call(Le)===Symbol.prototype.valueOf.call(ye)}(J,Z))return!1}return W(J,Z,$,ne,0)}function F(J,Z){return Z.filter(function($){return n(J,$)})}function W(J,Z,$,ne,ae,oe){if(arguments.length===5){oe=Object.keys(J);var se=Object.keys(Z);if(oe.length!==se.length)return!1}for(var ce=0;ce<oe.length;ce++)if(!o(Z,oe[ce]))return!1;if($&&arguments.length===5){var me=l(J);if(me.length!==0){var xe=0;for(ce=0;ce<me.length;ce++){var ve=me[ce];if(n(J,ve)){if(!n(Z,ve))return!1;oe.push(ve),xe++}else if(n(Z,ve))return!1}var fe=l(Z);if(me.length!==fe.length&&F(Z,fe).length!==xe)return!1}else{var pe=l(Z);if(pe.length!==0&&F(Z,pe).length!==0)return!1}}if(oe.length===0&&(ae===0||ae===1&&J.length===0||J.size===0))return!0;if(ne===void 0)ne={val1:new Map,val2:new Map,position:0};else{var Le=ne.val1.get(J);if(Le!==void 0){var ye=ne.val2.get(Z);if(ye!==void 0)return Le===ye}ne.position++}ne.val1.set(J,ne.position),ne.val2.set(Z,ne.position);var Ae=K(J,Z,$,oe,ne,ae);return ne.val1.delete(J),ne.val2.delete(Z),Ae}function B(J,Z,$,ne){for(var ae=k(J),oe=0;oe<ae.length;oe++){var se=ae[oe];if(V(Z,se,$,ne))return J.delete(se),!0}return!1}function U(J){switch(w(J)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":J=+J;case"number":if(t(J))return!1}return!0}function H(J,Z,$){var ne=U($);return ne??(Z.has(ne)&&!J.has(ne))}function q(J,Z,$,ne,ae){var oe=U($);if(oe!=null)return oe;var se=Z.get(oe);return!(se===void 0&&!Z.has(oe)||!V(ne,se,!1,ae))&&!J.has(oe)&&V(ne,se,!1,ae)}function ee(J,Z,$,ne,ae,oe){for(var se=k(J),ce=0;ce<se.length;ce++){var me=se[ce];if(V($,me,ae,oe)&&V(ne,Z.get(me),ae,oe))return J.delete(me),!0}return!1}function K(J,Z,$,ne,ae,oe){var se=0;if(oe===2){if(!function(ve,fe,pe,Le){for(var ye=null,Ae=k(ve),Me=0;Me<Ae.length;Me++){var ke=Ae[Me];if(w(ke)==="object"&&ke!==null)ye===null&&(ye=new Set),ye.add(ke);else if(!fe.has(ke)){if(pe||!H(ve,fe,ke))return!1;ye===null&&(ye=new Set),ye.add(ke)}}if(ye!==null){for(var te=k(fe),ue=0;ue<te.length;ue++){var ge=te[ue];if(w(ge)==="object"&&ge!==null){if(!B(ye,ge,pe,Le))return!1}else if(!pe&&!ve.has(ge)&&!B(ye,ge,pe,Le))return!1}return ye.size===0}return!0}(J,Z,$,ae))return!1}else if(oe===3){if(!function(ve,fe,pe,Le){for(var ye=null,Ae=y(ve),Me=0;Me<Ae.length;Me++){var ke=b(Ae[Me],2),te=ke[0],ue=ke[1];if(w(te)==="object"&&te!==null)ye===null&&(ye=new Set),ye.add(te);else{var ge=fe.get(te);if(ge===void 0&&!fe.has(te)||!V(ue,ge,pe,Le)){if(pe||!q(ve,fe,te,ue,Le))return!1;ye===null&&(ye=new Set),ye.add(te)}}}if(ye!==null){for(var we=y(fe),Ee=0;Ee<we.length;Ee++){var Be=b(we[Ee],2),Re=(te=Be[0],Be[1]);if(w(te)==="object"&&te!==null){if(!ee(ye,ve,te,Re,pe,Le))return!1}else if(!(pe||ve.has(te)&&V(ve.get(te),Re,!1,Le)||ee(ye,ve,te,Re,!1,Le)))return!1}return ye.size===0}return!0}(J,Z,$,ae))return!1}else if(oe===1)for(;se<J.length;se++){if(!o(J,se)){if(o(Z,se))return!1;for(var ce=Object.keys(J);se<ce.length;se++){var me=ce[se];if(!o(Z,me)||!V(J[me],Z[me],$,ae))return!1}return ce.length===Object.keys(Z).length}if(!o(Z,se)||!V(J[se],Z[se],$,ae))return!1}for(se=0;se<ne.length;se++){var xe=ne[se];if(!V(J[xe],Z[xe],$,ae))return!1}return!0}L.exports={isDeepEqual:function(J,Z){return V(J,Z,!1)},isDeepStrictEqual:function(J,Z){return V(J,Z,!0)}}},95341:function(L,M){"use strict";M.byteLength=function(t){var s=f(t),o=s[0],n=s[1];return 3*(o+n)/4-n},M.toByteArray=function(t){var s,o,n=f(t),r=n[0],i=n[1],u=new w(function(_,m,d){return 3*(m+d)/4-d}(0,r,i)),p=0,h=i>0?r-4:r;for(o=0;o<h;o+=4)s=b[t.charCodeAt(o)]<<18|b[t.charCodeAt(o+1)]<<12|b[t.charCodeAt(o+2)]<<6|b[t.charCodeAt(o+3)],u[p++]=s>>16&255,u[p++]=s>>8&255,u[p++]=255&s;return i===2&&(s=b[t.charCodeAt(o)]<<2|b[t.charCodeAt(o+1)]>>4,u[p++]=255&s),i===1&&(s=b[t.charCodeAt(o)]<<10|b[t.charCodeAt(o+1)]<<4|b[t.charCodeAt(o+2)]>>2,u[p++]=s>>8&255,u[p++]=255&s),u},M.fromByteArray=function(t){for(var s,o=t.length,n=o%3,r=[],i=16383,u=0,p=o-n;u<p;u+=i)r.push(l(t,u,u+i>p?p:u+i));return n===1?(s=t[o-1],r.push(e[s>>2]+e[s<<4&63]+"==")):n===2&&(s=(t[o-2]<<8)+t[o-1],r.push(e[s>>10]+e[s>>4&63]+e[s<<2&63]+"=")),r.join("")};for(var e=[],b=[],w=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,y=a.length;k<y;++k)e[k]=a[k],b[a.charCodeAt(k)]=k;function f(t){var s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=t.indexOf("=");return o===-1&&(o=s),[o,o===s?0:4-o%4]}function l(t,s,o){for(var n,r,i=[],u=s;u<o;u+=3)n=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),i.push(e[(r=n)>>18&63]+e[r>>12&63]+e[r>>6&63]+e[63&r]);return i.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},91358:function(L){"use strict";function M(y,f,l,t,s){for(var o=s+1;t<=s;){var n=t+s>>>1,r=y[n];(l!==void 0?l(r,f):r-f)>=0?(o=n,s=n-1):t=n+1}return o}function e(y,f,l,t,s){for(var o=s+1;t<=s;){var n=t+s>>>1,r=y[n];(l!==void 0?l(r,f):r-f)>0?(o=n,s=n-1):t=n+1}return o}function b(y,f,l,t,s){for(var o=t-1;t<=s;){var n=t+s>>>1,r=y[n];(l!==void 0?l(r,f):r-f)<0?(o=n,t=n+1):s=n-1}return o}function w(y,f,l,t,s){for(var o=t-1;t<=s;){var n=t+s>>>1,r=y[n];(l!==void 0?l(r,f):r-f)<=0?(o=n,t=n+1):s=n-1}return o}function a(y,f,l,t,s){for(;t<=s;){var o=t+s>>>1,n=y[o],r=l!==void 0?l(n,f):n-f;if(r===0)return o;r<=0?t=o+1:s=o-1}return-1}function k(y,f,l,t,s,o){return typeof l=="function"?o(y,f,l,t===void 0?0:0|t,s===void 0?y.length-1:0|s):o(y,f,void 0,l===void 0?0:0|l,t===void 0?y.length-1:0|t)}L.exports={ge:function(y,f,l,t,s){return k(y,f,l,t,s,M)},gt:function(y,f,l,t,s){return k(y,f,l,t,s,e)},lt:function(y,f,l,t,s){return k(y,f,l,t,s,b)},le:function(y,f,l,t,s){return k(y,f,l,t,s,w)},eq:function(y,f,l,t,s){return k(y,f,l,t,s,a)}}},13547:function(L,M){"use strict";function e(w){var a=32;return(w&=-w)&&a--,65535&w&&(a-=16),16711935&w&&(a-=8),252645135&w&&(a-=4),858993459&w&&(a-=2),1431655765&w&&(a-=1),a}M.INT_BITS=32,M.INT_MAX=2147483647,M.INT_MIN=-2147483648,M.sign=function(w){return(w>0)-(w<0)},M.abs=function(w){var a=w>>31;return(w^a)-a},M.min=function(w,a){return a^(w^a)&-(w<a)},M.max=function(w,a){return w^(w^a)&-(w<a)},M.isPow2=function(w){return!(w&w-1||!w)},M.log2=function(w){var a,k;return a=(w>65535)<<4,a|=k=((w>>>=a)>255)<<3,a|=k=((w>>>=k)>15)<<2,(a|=k=((w>>>=k)>3)<<1)|(w>>>=k)>>1},M.log10=function(w){return w>=1e9?9:w>=1e8?8:w>=1e7?7:w>=1e6?6:w>=1e5?5:w>=1e4?4:w>=1e3?3:w>=100?2:w>=10?1:0},M.popCount=function(w){return 16843009*((w=(858993459&(w-=w>>>1&1431655765))+(w>>>2&858993459))+(w>>>4)&252645135)>>>24},M.countTrailingZeros=e,M.nextPow2=function(w){return w+=w===0,--w,w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,1+(w|=w>>>16)},M.prevPow2=function(w){return w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,(w|=w>>>16)-(w>>>1)},M.parity=function(w){return w^=w>>>16,w^=w>>>8,w^=w>>>4,27030>>>(w&=15)&1};var b=new Array(256);(function(w){for(var a=0;a<256;++a){var k=a,y=a,f=7;for(k>>>=1;k;k>>>=1)y<<=1,y|=1&k,--f;w[a]=y<<f&255}})(b),M.reverse=function(w){return b[255&w]<<24|b[w>>>8&255]<<16|b[w>>>16&255]<<8|b[w>>>24&255]},M.interleave2=function(w,a){return(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w&=65535)|w<<8))|w<<4))|w<<2))|w<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},M.deinterleave2=function(w,a){return(w=65535&((w=16711935&((w=252645135&((w=858993459&((w=w>>>a&1431655765)|w>>>1))|w>>>2))|w>>>4))|w>>>16))<<16>>16},M.interleave3=function(w,a,k){return w=1227133513&((w=3272356035&((w=251719695&((w=4278190335&((w&=1023)|w<<16))|w<<8))|w<<4))|w<<2),(w|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2))<<2},M.deinterleave3=function(w,a){return(w=1023&((w=4278190335&((w=251719695&((w=3272356035&((w=w>>>a&1227133513)|w>>>2))|w>>>4))|w>>>8))|w>>>16))<<22>>22},M.nextCombination=function(w){var a=w|w-1;return a+1|(~a&-~a)-1>>>e(w)+1}},44781:function(L,M,e){"use strict";var b=e(53435);L.exports=function(y,f){f||(f={});var l,t,s,o,n,r,i,u,p,h,_,m=f.cutoff==null?.25:f.cutoff,d=f.radius==null?8:f.radius,x=f.channel||0;if(ArrayBuffer.isView(y)||Array.isArray(y)){if(!f.width||!f.height)throw Error("For raw data width and height should be provided by options");l=f.width,t=f.height,o=y,r=f.stride?f.stride:Math.floor(y.length/l/t)}else window.HTMLCanvasElement&&y instanceof window.HTMLCanvasElement?(i=(u=y).getContext("2d"),l=u.width,t=u.height,o=(p=i.getImageData(0,0,l,t)).data,r=4):window.CanvasRenderingContext2D&&y instanceof window.CanvasRenderingContext2D?(i=y,l=(u=y.canvas).width,t=u.height,o=(p=i.getImageData(0,0,l,t)).data,r=4):window.ImageData&&y instanceof window.ImageData&&(p=y,l=y.width,t=y.height,o=p.data,r=4);if(s=Math.max(l,t),window.Uint8ClampedArray&&o instanceof window.Uint8ClampedArray||window.Uint8Array&&o instanceof window.Uint8Array)for(n=o,o=Array(l*t),h=0,_=n.length;h<_;h++)o[h]=n[h*r+x]/255;else if(r!==1)throw Error("Raw data can have only 1 value per pixel");var g=Array(l*t),v=Array(l*t),T=Array(s),c=Array(s),E=Array(s+1),A=Array(s);for(h=0,_=l*t;h<_;h++){var C=o[h];g[h]=C===1?0:C===0?w:Math.pow(Math.max(0,.5-C),2),v[h]=C===1?w:C===0?0:Math.pow(Math.max(0,C-.5),2)}a(g,l,t,T,c,A,E),a(v,l,t,T,c,A,E);var O=window.Float32Array?new Float32Array(l*t):new Array(l*t);for(h=0,_=l*t;h<_;h++)O[h]=b(1-((g[h]-v[h])/d+m),0,1);return O};var w=1e20;function a(y,f,l,t,s,o,n){for(var r=0;r<f;r++){for(var i=0;i<l;i++)t[i]=y[i*f+r];for(k(t,s,o,n,l),i=0;i<l;i++)y[i*f+r]=s[i]}for(i=0;i<l;i++){for(r=0;r<f;r++)t[r]=y[i*f+r];for(k(t,s,o,n,f),r=0;r<f;r++)y[i*f+r]=Math.sqrt(s[r])}}function k(y,f,l,t,s){l[0]=0,t[0]=-w,t[1]=+w;for(var o=1,n=0;o<s;o++){for(var r=(y[o]+o*o-(y[l[n]]+l[n]*l[n]))/(2*o-2*l[n]);r<=t[n];)n--,r=(y[o]+o*o-(y[l[n]]+l[n]*l[n]))/(2*o-2*l[n]);l[++n]=o,t[n]=r,t[n+1]=+w}for(o=0,n=0;o<s;o++){for(;t[n+1]<o;)n++;f[o]=(o-l[n])*(o-l[n])+y[l[n]]}}},6614:function(L,M,e){"use strict";var b=e(68318),w=e(68222),a=w(b("String.prototype.indexOf"));L.exports=function(k,y){var f=b(k,!!y);return typeof f=="function"&&a(k,".prototype.")>-1?w(f):f}},68222:function(L,M,e){"use strict";var b=e(77575),w=e(68318),a=w("%Function.prototype.apply%"),k=w("%Function.prototype.call%"),y=w("%Reflect.apply%",!0)||b.call(k,a),f=w("%Object.getOwnPropertyDescriptor%",!0),l=w("%Object.defineProperty%",!0),t=w("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}L.exports=function(o){var n=y(b,k,arguments);if(f&&l){var r=f(n,"length");r.configurable&&l(n,"length",{value:1+t(0,o.length-(arguments.length-1))})}return n};var s=function(){return y(b,a,arguments)};l?l(L.exports,"apply",{value:s}):L.exports.apply=s},53435:function(L){L.exports=function(M,e,b){return e<b?M<e?e:M>b?b:M:M<b?b:M>e?e:M}},6475:function(L,M,e){"use strict";var b=e(53435);function w(a,k){k==null&&(k=!0);var y=a[0],f=a[1],l=a[2],t=a[3];return t==null&&(t=k?1:255),k&&(y*=255,f*=255,l*=255,t*=255),16777216*(y=255&b(y,0,255))+((f=255&b(f,0,255))<<16)+((l=255&b(l,0,255))<<8)+(255&b(t,0,255))}L.exports=w,L.exports.to=w,L.exports.from=function(a,k){var y=(a=+a)>>>24,f=(16711680&a)>>>16,l=(65280&a)>>>8,t=255&a;return k===!1?[y,f,l,t]:[y/255,f/255,l/255,t/255]}},76857:function(L){"use strict";L.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(L,M,e){"use strict";var b=e(36652),w=e(53435),a=e(90660);L.exports=function(k,y){y!=="float"&&y||(y="array"),y==="uint"&&(y="uint8"),y==="uint_clamped"&&(y="uint8_clamped");var f=new(a(y))(4),l=y!=="uint8"&&y!=="uint8_clamped";return k.length&&typeof k!="string"||((k=b(k))[0]/=255,k[1]/=255,k[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(k)?(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3]!=null?k[3]:255,l&&(f[0]/=255,f[1]/=255,f[2]/=255,f[3]/=255),f):(l?(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3]!=null?k[3]:1):(f[0]=w(Math.floor(255*k[0]),0,255),f[1]=w(Math.floor(255*k[1]),0,255),f[2]=w(Math.floor(255*k[2]),0,255),f[3]=k[3]==null?255:w(Math.floor(255*k[3]),0,255)),f)}},90736:function(L,M,e){"use strict";var b=e(76857),w=e(10973),a=e(46775);L.exports=function(y){var f,l,t=[],s=1;if(typeof y=="string")if(b[y])t=b[y].slice(),l="rgb";else if(y==="transparent")s=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(y)){var o=(i=y.slice(1)).length;s=1,o<=4?(t=[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)],o===4&&(s=parseInt(i[3]+i[3],16)/255)):(t=[parseInt(i[0]+i[1],16),parseInt(i[2]+i[3],16),parseInt(i[4]+i[5],16)],o===8&&(s=parseInt(i[6]+i[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(f=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(y)){var n=f[1],r=n==="rgb",i=n.replace(/a$/,"");l=i,o=i==="cmyk"?4:i==="gray"?1:3,t=f[2].trim().split(/\s*,\s*/).map(function(p,h){if(/%$/.test(p))return h===o?parseFloat(p)/100:i==="rgb"?255*parseFloat(p)/100:parseFloat(p);if(i[h]==="h"){if(/deg$/.test(p))return parseFloat(p);if(k[p]!==void 0)return k[p]}return parseFloat(p)}),n===i&&t.push(1),s=r||t[o]===void 0?1:t[o],t=t.slice(0,o)}else y.length>10&&/[0-9](?:\s|\/)/.test(y)&&(t=y.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),l=y.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(y))if(w(y)){var u=a(y.r,y.red,y.R,null);u!==null?(l="rgb",t=[u,a(y.g,y.green,y.G),a(y.b,y.blue,y.B)]):(l="hsl",t=[a(y.h,y.hue,y.H),a(y.s,y.saturation,y.S),a(y.l,y.lightness,y.L,y.b,y.brightness)]),s=a(y.a,y.alpha,y.opacity,1),y.opacity!=null&&(s/=100)}else(Array.isArray(y)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y))&&(t=[y[0],y[1],y[2]],l="rgb",s=y.length===4?y[3]:1);else l="rgb",t=[y>>>16,(65280&y)>>>8,255&y];return{space:l,values:t,alpha:s}};var k={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(L,M,e){"use strict";var b=e(90736),w=e(80009),a=e(53435);L.exports=function(k){var y,f=b(k);return f.space?((y=Array(3))[0]=a(f.values[0],0,255),y[1]=a(f.values[1],0,255),y[2]=a(f.values[2],0,255),f.space[0]==="h"&&(y=w.rgb(y)),y.push(a(f.alpha,0,1)),y):[]}},80009:function(L,M,e){"use strict";var b=e(6866);L.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(w){var a,k,y,f,l,t=w[0]/360,s=w[1]/100,o=w[2]/100;if(s===0)return[l=255*o,l,l];a=2*o-(k=o<.5?o*(1+s):o+s-o*s),f=[0,0,0];for(var n=0;n<3;n++)(y=t+.3333333333333333*-(n-1))<0?y++:y>1&&y--,l=6*y<1?a+6*(k-a)*y:2*y<1?k:3*y<2?a+(k-a)*(.6666666666666666-y)*6:a,f[n]=255*l;return f}},b.hsl=function(w){var a,k,y=w[0]/255,f=w[1]/255,l=w[2]/255,t=Math.min(y,f,l),s=Math.max(y,f,l),o=s-t;return s===t?a=0:y===s?a=(f-l)/o:f===s?a=2+(l-y)/o:l===s&&(a=4+(y-f)/o),(a=Math.min(60*a,360))<0&&(a+=360),k=(t+s)/2,[a,100*(s===t?0:k<=.5?o/(s+t):o/(2-s-t)),100*k]}},6866:function(L){"use strict";L.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(L){L.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(L,M,e){"use strict";L.exports={parse:e(41004),stringify:e(53313)}},63625:function(L,M,e){"use strict";var b=e(40402);L.exports={isSize:function(w){return/^[\d\.]/.test(w)||w.indexOf("/")!==-1||b.indexOf(w)!==-1}}},41004:function(L,M,e){"use strict";var b=e(90448),w=e(38732),a=e(41901),k=e(15659),y=e(96209),f=e(83794),l=e(99011),t=e(63625).isSize;L.exports=o;var s=o.cache={};function o(r){if(typeof r!="string")throw new Error("Font argument must be a string.");if(s[r])return s[r];if(r==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(r)!==-1)return s[r]={system:r};for(var i,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},p=l(r,/\s+/);i=p.shift();){if(w.indexOf(i)!==-1)return["style","variant","weight","stretch"].forEach(function(_){u[_]=i}),s[r]=u;if(y.indexOf(i)===-1)if(i!=="normal"&&i!=="small-caps")if(f.indexOf(i)===-1){if(k.indexOf(i)===-1){if(t(i)){var h=l(i,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):p[0]==="/"&&(p.shift(),u.lineHeight=n(p.shift())),!p.length)throw new Error("Missing required font-family.");return u.family=l(p.join(" "),/\s*,\s*/).map(b),s[r]=u}throw new Error("Unknown or unsupported font token: "+i)}u.weight=i}else u.stretch=i;else u.variant=i;else u.style=i}throw new Error("Missing required font-size.")}function n(r){var i=parseFloat(r);return i.toString()===r?i:r}},53313:function(L,M,e){"use strict";var b=e(71299),w=e(63625).isSize,a=r(e(38732)),k=r(e(41901)),y=r(e(15659)),f=r(e(96209)),l=r(e(83794)),t={normal:1,"small-caps":1},s={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},o="serif";function n(i,u){if(i&&!u[i]&&!a[i])throw Error("Unknown keyword `"+i+"`");return i}function r(i){for(var u={},p=0;p<i.length;p++)u[i[p]]=1;return u}L.exports=function(i){if((i=b(i,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return i.system&&n(i.system,k),i.system;if(n(i.style,f),n(i.variant,t),n(i.weight,y),n(i.stretch,l),i.size==null&&(i.size="1rem"),typeof i.size=="number"&&(i.size+="px"),!w)throw Error("Bad size value `"+i.size+"`");i.family||(i.family=o),Array.isArray(i.family)&&(i.family.length||(i.family=[o]),i.family=i.family.map(function(p){return s[p]?p:'"'+p+'"'}).join(", "));var u=[];return u.push(i.style),i.variant!==i.style&&u.push(i.variant),i.weight!==i.variant&&i.weight!==i.style&&u.push(i.weight),i.stretch!==i.weight&&i.stretch!==i.variant&&i.stretch!==i.style&&u.push(i.stretch),u.push(i.size+(i.lineHeight==null||i.lineHeight==="normal"||i.lineHeight+""=="1"?"":"/"+i.lineHeight)),u.push(i.family),u.filter(Boolean).join(" ")}},55174:function(L,M,e){"use strict";var b,w=e(24582),a=e(10424),k=e(82527),y=e(19012),f=e(21780),l=e(16906),t=Function.prototype.bind,s=Object.defineProperty,o=Object.prototype.hasOwnProperty;b=function(n,r,i){var u,p=a(r)&&k(r.value);return delete(u=y(r)).writable,delete u.value,u.get=function(){return!i.overwriteDefinition&&o.call(this,n)?p:(r.value=t.call(p,i.resolveContext?i.resolveContext(this):this),s(this,n,r),this[n])},u},L.exports=function(n){var r=f(arguments[1]);return w(r.resolveContext)&&k(r.resolveContext),l(n,function(i,u){return b(u,i,r)})}},62072:function(L,M,e){"use strict";var b=e(24582),w=e(84985),a=e(95879),k=e(21780),y=e(66741),f=L.exports=function(l,t){var s,o,n,r,i;return arguments.length<2||typeof l!="string"?(r=t,t=l,l=null):r=arguments[2],b(l)?(s=y.call(l,"c"),o=y.call(l,"e"),n=y.call(l,"w")):(s=n=!0,o=!1),i={value:t,configurable:s,enumerable:o,writable:n},r?a(k(r),i):i};f.gs=function(l,t,s){var o,n,r,i;return typeof l!="string"?(r=s,s=t,t=l,l=null):r=arguments[3],b(t)?w(t)?b(s)?w(s)||(r=s,s=void 0):s=void 0:(r=t,t=s=void 0):t=void 0,b(l)?(o=y.call(l,"c"),n=y.call(l,"e")):(o=!0,n=!1),i={get:t,set:s,configurable:o,enumerable:n},r?a(k(r),i):i}},33064:function(L,M,e){"use strict";function b(r,i){return r<i?-1:r>i?1:r>=i?0:NaN}e.d(M,{j2:function(){return b},Fp:function(){return y},J6:function(){return l},TS:function(){return t},VV:function(){return s},w6:function(){return o},Sm:function(){return n}}),(w=b).length===1&&(a=w,w=function(r,i){return b(a(r),i)});var w,a,k=Array.prototype;function y(r,i){var u,p,h=r.length,_=-1;if(i==null){for(;++_<h;)if((u=r[_])!=null&&u>=u)for(p=u;++_<h;)(u=r[_])!=null&&u>p&&(p=u)}else for(;++_<h;)if((u=i(r[_],_,r))!=null&&u>=u)for(p=u;++_<h;)(u=i(r[_],_,r))!=null&&u>p&&(p=u);return p}function f(r){return r===null?NaN:+r}function l(r,i){var u,p=r.length,h=p,_=-1,m=0;if(i==null)for(;++_<p;)isNaN(u=f(r[_]))?--h:m+=u;else for(;++_<p;)isNaN(u=f(i(r[_],_,r)))?--h:m+=u;if(h)return m/h}function t(r){for(var i,u,p,h=r.length,_=-1,m=0;++_<h;)m+=r[_].length;for(u=new Array(m);--h>=0;)for(i=(p=r[h]).length;--i>=0;)u[--m]=p[i];return u}function s(r,i){var u,p,h=r.length,_=-1;if(i==null){for(;++_<h;)if((u=r[_])!=null&&u>=u)for(p=u;++_<h;)(u=r[_])!=null&&p>u&&(p=u)}else for(;++_<h;)if((u=i(r[_],_,r))!=null&&u>=u)for(p=u;++_<h;)(u=i(r[_],_,r))!=null&&p>u&&(p=u);return p}function o(r,i,u){r=+r,i=+i,u=(h=arguments.length)<2?(i=r,r=0,1):h<3?1:+u;for(var p=-1,h=0|Math.max(0,Math.ceil((i-r)/u)),_=new Array(h);++p<h;)_[p]=r+p*u;return _}function n(r,i){var u,p=r.length,h=-1,_=0;if(i==null)for(;++h<p;)(u=+r[h])&&(_+=u);else for(;++h<p;)(u=+i(r[h],h,r))&&(_+=u);return _}k.slice,k.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(L,M,e){"use strict";e.d(M,{UI:function(){return k},b1:function(){return y}});var b="$";function w(){}function a(r,i){var u=new w;if(r instanceof w)r.each(function(d,x){u.set(x,d)});else if(Array.isArray(r)){var p,h=-1,_=r.length;if(i==null)for(;++h<_;)u.set(h,r[h]);else for(;++h<_;)u.set(i(p=r[h],h,r),p)}else if(r)for(var m in r)u.set(m,r[m]);return u}w.prototype=a.prototype={constructor:w,has:function(r){return b+r in this},get:function(r){return this[b+r]},set:function(r,i){return this[b+r]=i,this},remove:function(r){var i=b+r;return i in this&&delete this[i]},clear:function(){for(var r in this)r[0]===b&&delete this[r]},keys:function(){var r=[];for(var i in this)i[0]===b&&r.push(i.slice(1));return r},values:function(){var r=[];for(var i in this)i[0]===b&&r.push(this[i]);return r},entries:function(){var r=[];for(var i in this)i[0]===b&&r.push({key:i.slice(1),value:this[i]});return r},size:function(){var r=0;for(var i in this)i[0]===b&&++r;return r},empty:function(){for(var r in this)if(r[0]===b)return!1;return!0},each:function(r){for(var i in this)i[0]===b&&r(this[i],i.slice(1),this)}};var k=a;function y(){var r,i,u,p=[],h=[];function _(d,x,g,v){if(x>=p.length)return r!=null&&d.sort(r),i!=null?i(d):d;for(var T,c,E,A=-1,C=d.length,O=p[x++],P=k(),D=g();++A<C;)(E=P.get(T=O(c=d[A])+""))?E.push(c):P.set(T,[c]);return P.each(function(z,V){v(D,V,_(z,x,g,v))}),D}function m(d,x){if(++x>p.length)return d;var g,v=h[x-1];return i!=null&&x>=p.length?g=d.entries():(g=[],d.each(function(T,c){g.push({key:c,values:m(T,x)})})),v!=null?g.sort(function(T,c){return v(T.key,c.key)}):g}return u={object:function(d){return _(d,0,f,l)},map:function(d){return _(d,0,t,s)},entries:function(d){return m(_(d,0,t,s),0)},key:function(d){return p.push(d),u},sortKeys:function(d){return h[p.length-1]=d,u},sortValues:function(d){return r=d,u},rollup:function(d){return i=d,u}}}function f(){return{}}function l(r,i,u){r[i]=u}function t(){return k()}function s(r,i,u){r.set(i,u)}function o(){}var n=k.prototype;o.prototype=function(r,i){var u=new o;if(r instanceof o)r.each(function(_){u.add(_)});else if(r){var p=-1,h=r.length;if(i==null)for(;++p<h;)u.add(r[p]);else for(;++p<h;)u.add(i(r[p],p,r))}return u}.prototype={constructor:o,has:n.has,add:function(r){return this[b+(r+="")]=r,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(L,M,e){"use strict";function b(ve,fe){var pe;function Le(){var ye,Ae,Me=pe.length,ke=0,te=0;for(ye=0;ye<Me;++ye)ke+=(Ae=pe[ye]).x,te+=Ae.y;for(ke=ke/Me-ve,te=te/Me-fe,ye=0;ye<Me;++ye)(Ae=pe[ye]).x-=ke,Ae.y-=te}return ve==null&&(ve=0),fe==null&&(fe=0),Le.initialize=function(ye){pe=ye},Le.x=function(ye){return arguments.length?(ve=+ye,Le):ve},Le.y=function(ye){return arguments.length?(fe=+ye,Le):fe},Le}function w(ve){return function(){return ve}}function a(){return 1e-6*(Math.random()-.5)}function k(ve,fe,pe,Le){if(isNaN(fe)||isNaN(pe))return ve;var ye,Ae,Me,ke,te,ue,ge,we,Ee,Be=ve._root,Re={data:Le},je=ve._x0,he=ve._y0,_e=ve._x1,Te=ve._y1;if(!Be)return ve._root=Re,ve;for(;Be.length;)if((ue=fe>=(Ae=(je+_e)/2))?je=Ae:_e=Ae,(ge=pe>=(Me=(he+Te)/2))?he=Me:Te=Me,ye=Be,!(Be=Be[we=ge<<1|ue]))return ye[we]=Re,ve;if(ke=+ve._x.call(null,Be.data),te=+ve._y.call(null,Be.data),fe===ke&&pe===te)return Re.next=Be,ye?ye[we]=Re:ve._root=Re,ve;do ye=ye?ye[we]=new Array(4):ve._root=new Array(4),(ue=fe>=(Ae=(je+_e)/2))?je=Ae:_e=Ae,(ge=pe>=(Me=(he+Te)/2))?he=Me:Te=Me;while((we=ge<<1|ue)==(Ee=(te>=Me)<<1|ke>=Ae));return ye[Ee]=Be,ye[we]=Re,ve}function y(ve,fe,pe,Le,ye){this.node=ve,this.x0=fe,this.y0=pe,this.x1=Le,this.y1=ye}function f(ve){return ve[0]}function l(ve){return ve[1]}function t(ve,fe,pe){var Le=new s(fe??f,pe??l,NaN,NaN,NaN,NaN);return ve==null?Le:Le.addAll(ve)}function s(ve,fe,pe,Le,ye,Ae){this._x=ve,this._y=fe,this._x0=pe,this._y0=Le,this._x1=ye,this._y1=Ae,this._root=void 0}function o(ve){for(var fe={data:ve.data},pe=fe;ve=ve.next;)pe=pe.next={data:ve.data};return fe}e.r(M),e.d(M,{forceCenter:function(){return b},forceCollide:function(){return u},forceLink:function(){return m},forceManyBody:function(){return se},forceRadial:function(){return ce},forceSimulation:function(){return oe},forceX:function(){return me},forceY:function(){return xe}});var n=t.prototype=s.prototype;function r(ve){return ve.x+ve.vx}function i(ve){return ve.y+ve.vy}function u(ve){var fe,pe,Le=1,ye=1;function Ae(){for(var te,ue,ge,we,Ee,Be,Re,je=fe.length,he=0;he<ye;++he)for(ue=t(fe,r,i).visitAfter(Me),te=0;te<je;++te)ge=fe[te],Be=pe[ge.index],Re=Be*Be,we=ge.x+ge.vx,Ee=ge.y+ge.vy,ue.visit(_e);function _e(Te,Fe,Ye,Ge,ot){var st=Te.data,ht=Te.r,xt=Be+ht;if(!st)return Fe>we+xt||Ge<we-xt||Ye>Ee+xt||ot<Ee-xt;if(st.index>ge.index){var Ct=we-st.x-st.vx,St=Ee-st.y-st.vy,kt=Ct*Ct+St*St;kt<xt*xt&&(Ct===0&&(kt+=(Ct=a())*Ct),St===0&&(kt+=(St=a())*St),kt=(xt-(kt=Math.sqrt(kt)))/kt*Le,ge.vx+=(Ct*=kt)*(xt=(ht*=ht)/(Re+ht)),ge.vy+=(St*=kt)*xt,st.vx-=Ct*(xt=1-xt),st.vy-=St*xt)}}}function Me(te){if(te.data)return te.r=pe[te.data.index];for(var ue=te.r=0;ue<4;++ue)te[ue]&&te[ue].r>te.r&&(te.r=te[ue].r)}function ke(){if(fe){var te,ue,ge=fe.length;for(pe=new Array(ge),te=0;te<ge;++te)ue=fe[te],pe[ue.index]=+ve(ue,te,fe)}}return typeof ve!="function"&&(ve=w(ve==null?1:+ve)),Ae.initialize=function(te){fe=te,ke()},Ae.iterations=function(te){return arguments.length?(ye=+te,Ae):ye},Ae.strength=function(te){return arguments.length?(Le=+te,Ae):Le},Ae.radius=function(te){return arguments.length?(ve=typeof te=="function"?te:w(+te),ke(),Ae):ve},Ae}n.copy=function(){var ve,fe,pe=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Le=this._root;if(!Le)return pe;if(!Le.length)return pe._root=o(Le),pe;for(ve=[{source:Le,target:pe._root=new Array(4)}];Le=ve.pop();)for(var ye=0;ye<4;++ye)(fe=Le.source[ye])&&(fe.length?ve.push({source:fe,target:Le.target[ye]=new Array(4)}):Le.target[ye]=o(fe));return pe},n.add=function(ve){var fe=+this._x.call(null,ve),pe=+this._y.call(null,ve);return k(this.cover(fe,pe),fe,pe,ve)},n.addAll=function(ve){var fe,pe,Le,ye,Ae=ve.length,Me=new Array(Ae),ke=new Array(Ae),te=1/0,ue=1/0,ge=-1/0,we=-1/0;for(pe=0;pe<Ae;++pe)isNaN(Le=+this._x.call(null,fe=ve[pe]))||isNaN(ye=+this._y.call(null,fe))||(Me[pe]=Le,ke[pe]=ye,Le<te&&(te=Le),Le>ge&&(ge=Le),ye<ue&&(ue=ye),ye>we&&(we=ye));if(te>ge||ue>we)return this;for(this.cover(te,ue).cover(ge,we),pe=0;pe<Ae;++pe)k(this,Me[pe],ke[pe],ve[pe]);return this},n.cover=function(ve,fe){if(isNaN(ve=+ve)||isNaN(fe=+fe))return this;var pe=this._x0,Le=this._y0,ye=this._x1,Ae=this._y1;if(isNaN(pe))ye=(pe=Math.floor(ve))+1,Ae=(Le=Math.floor(fe))+1;else{for(var Me,ke,te=ye-pe,ue=this._root;pe>ve||ve>=ye||Le>fe||fe>=Ae;)switch(ke=(fe<Le)<<1|ve<pe,(Me=new Array(4))[ke]=ue,ue=Me,te*=2,ke){case 0:ye=pe+te,Ae=Le+te;break;case 1:pe=ye-te,Ae=Le+te;break;case 2:ye=pe+te,Le=Ae-te;break;case 3:pe=ye-te,Le=Ae-te}this._root&&this._root.length&&(this._root=ue)}return this._x0=pe,this._y0=Le,this._x1=ye,this._y1=Ae,this},n.data=function(){var ve=[];return this.visit(function(fe){if(!fe.length)do ve.push(fe.data);while(fe=fe.next)}),ve},n.extent=function(ve){return arguments.length?this.cover(+ve[0][0],+ve[0][1]).cover(+ve[1][0],+ve[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(ve,fe,pe){var Le,ye,Ae,Me,ke,te,ue,ge=this._x0,we=this._y0,Ee=this._x1,Be=this._y1,Re=[],je=this._root;for(je&&Re.push(new y(je,ge,we,Ee,Be)),pe==null?pe=1/0:(ge=ve-pe,we=fe-pe,Ee=ve+pe,Be=fe+pe,pe*=pe);te=Re.pop();)if(!(!(je=te.node)||(ye=te.x0)>Ee||(Ae=te.y0)>Be||(Me=te.x1)<ge||(ke=te.y1)<we))if(je.length){var he=(ye+Me)/2,_e=(Ae+ke)/2;Re.push(new y(je[3],he,_e,Me,ke),new y(je[2],ye,_e,he,ke),new y(je[1],he,Ae,Me,_e),new y(je[0],ye,Ae,he,_e)),(ue=(fe>=_e)<<1|ve>=he)&&(te=Re[Re.length-1],Re[Re.length-1]=Re[Re.length-1-ue],Re[Re.length-1-ue]=te)}else{var Te=ve-+this._x.call(null,je.data),Fe=fe-+this._y.call(null,je.data),Ye=Te*Te+Fe*Fe;if(Ye<pe){var Ge=Math.sqrt(pe=Ye);ge=ve-Ge,we=fe-Ge,Ee=ve+Ge,Be=fe+Ge,Le=je.data}}return Le},n.remove=function(ve){if(isNaN(Ae=+this._x.call(null,ve))||isNaN(Me=+this._y.call(null,ve)))return this;var fe,pe,Le,ye,Ae,Me,ke,te,ue,ge,we,Ee,Be=this._root,Re=this._x0,je=this._y0,he=this._x1,_e=this._y1;if(!Be)return this;if(Be.length)for(;;){if((ue=Ae>=(ke=(Re+he)/2))?Re=ke:he=ke,(ge=Me>=(te=(je+_e)/2))?je=te:_e=te,fe=Be,!(Be=Be[we=ge<<1|ue]))return this;if(!Be.length)break;(fe[we+1&3]||fe[we+2&3]||fe[we+3&3])&&(pe=fe,Ee=we)}for(;Be.data!==ve;)if(Le=Be,!(Be=Be.next))return this;return(ye=Be.next)&&delete Be.next,Le?(ye?Le.next=ye:delete Le.next,this):fe?(ye?fe[we]=ye:delete fe[we],(Be=fe[0]||fe[1]||fe[2]||fe[3])&&Be===(fe[3]||fe[2]||fe[1]||fe[0])&&!Be.length&&(pe?pe[Ee]=Be:this._root=Be),this):(this._root=ye,this)},n.removeAll=function(ve){for(var fe=0,pe=ve.length;fe<pe;++fe)this.remove(ve[fe]);return this},n.root=function(){return this._root},n.size=function(){var ve=0;return this.visit(function(fe){if(!fe.length)do++ve;while(fe=fe.next)}),ve},n.visit=function(ve){var fe,pe,Le,ye,Ae,Me,ke=[],te=this._root;for(te&&ke.push(new y(te,this._x0,this._y0,this._x1,this._y1));fe=ke.pop();)if(!ve(te=fe.node,Le=fe.x0,ye=fe.y0,Ae=fe.x1,Me=fe.y1)&&te.length){var ue=(Le+Ae)/2,ge=(ye+Me)/2;(pe=te[3])&&ke.push(new y(pe,ue,ge,Ae,Me)),(pe=te[2])&&ke.push(new y(pe,Le,ge,ue,Me)),(pe=te[1])&&ke.push(new y(pe,ue,ye,Ae,ge)),(pe=te[0])&&ke.push(new y(pe,Le,ye,ue,ge))}return this},n.visitAfter=function(ve){var fe,pe=[],Le=[];for(this._root&&pe.push(new y(this._root,this._x0,this._y0,this._x1,this._y1));fe=pe.pop();){var ye=fe.node;if(ye.length){var Ae,Me=fe.x0,ke=fe.y0,te=fe.x1,ue=fe.y1,ge=(Me+te)/2,we=(ke+ue)/2;(Ae=ye[0])&&pe.push(new y(Ae,Me,ke,ge,we)),(Ae=ye[1])&&pe.push(new y(Ae,ge,ke,te,we)),(Ae=ye[2])&&pe.push(new y(Ae,Me,we,ge,ue)),(Ae=ye[3])&&pe.push(new y(Ae,ge,we,te,ue))}Le.push(fe)}for(;fe=Le.pop();)ve(fe.node,fe.x0,fe.y0,fe.x1,fe.y1);return this},n.x=function(ve){return arguments.length?(this._x=ve,this):this._x},n.y=function(ve){return arguments.length?(this._y=ve,this):this._y};var p=e(15140);function h(ve){return ve.index}function _(ve,fe){var pe=ve.get(fe);if(!pe)throw new Error("missing: "+fe);return pe}function m(ve){var fe,pe,Le,ye,Ae,Me=h,ke=function(Re){return 1/Math.min(ye[Re.source.index],ye[Re.target.index])},te=w(30),ue=1;function ge(Re){for(var je=0,he=ve.length;je<ue;++je)for(var _e,Te,Fe,Ye,Ge,ot,st,ht=0;ht<he;++ht)Te=(_e=ve[ht]).source,Ye=(Fe=_e.target).x+Fe.vx-Te.x-Te.vx||a(),Ge=Fe.y+Fe.vy-Te.y-Te.vy||a(),Ye*=ot=((ot=Math.sqrt(Ye*Ye+Ge*Ge))-pe[ht])/ot*Re*fe[ht],Ge*=ot,Fe.vx-=Ye*(st=Ae[ht]),Fe.vy-=Ge*st,Te.vx+=Ye*(st=1-st),Te.vy+=Ge*st}function we(){if(Le){var Re,je,he=Le.length,_e=ve.length,Te=(0,p.UI)(Le,Me);for(Re=0,ye=new Array(he);Re<_e;++Re)(je=ve[Re]).index=Re,typeof je.source!="object"&&(je.source=_(Te,je.source)),typeof je.target!="object"&&(je.target=_(Te,je.target)),ye[je.source.index]=(ye[je.source.index]||0)+1,ye[je.target.index]=(ye[je.target.index]||0)+1;for(Re=0,Ae=new Array(_e);Re<_e;++Re)je=ve[Re],Ae[Re]=ye[je.source.index]/(ye[je.source.index]+ye[je.target.index]);fe=new Array(_e),Ee(),pe=new Array(_e),Be()}}function Ee(){if(Le)for(var Re=0,je=ve.length;Re<je;++Re)fe[Re]=+ke(ve[Re],Re,ve)}function Be(){if(Le)for(var Re=0,je=ve.length;Re<je;++Re)pe[Re]=+te(ve[Re],Re,ve)}return ve==null&&(ve=[]),ge.initialize=function(Re){Le=Re,we()},ge.links=function(Re){return arguments.length?(ve=Re,we(),ge):ve},ge.id=function(Re){return arguments.length?(Me=Re,ge):Me},ge.iterations=function(Re){return arguments.length?(ue=+Re,ge):ue},ge.strength=function(Re){return arguments.length?(ke=typeof Re=="function"?Re:w(+Re),Ee(),ge):ke},ge.distance=function(Re){return arguments.length?(te=typeof Re=="function"?Re:w(+Re),Be(),ge):te},ge}var d={value:function(){}};function x(){for(var ve,fe=0,pe=arguments.length,Le={};fe<pe;++fe){if(!(ve=arguments[fe]+"")||ve in Le||/[\s.]/.test(ve))throw new Error("illegal type: "+ve);Le[ve]=[]}return new g(Le)}function g(ve){this._=ve}function v(ve,fe){return ve.trim().split(/^|\s+/).map(function(pe){var Le="",ye=pe.indexOf(".");if(ye>=0&&(Le=pe.slice(ye+1),pe=pe.slice(0,ye)),pe&&!fe.hasOwnProperty(pe))throw new Error("unknown type: "+pe);return{type:pe,name:Le}})}function T(ve,fe){for(var pe,Le=0,ye=ve.length;Le<ye;++Le)if((pe=ve[Le]).name===fe)return pe.value}function c(ve,fe,pe){for(var Le=0,ye=ve.length;Le<ye;++Le)if(ve[Le].name===fe){ve[Le]=d,ve=ve.slice(0,Le).concat(ve.slice(Le+1));break}return pe!=null&&ve.push({name:fe,value:pe}),ve}g.prototype=x.prototype={constructor:g,on:function(ve,fe){var pe,Le=this._,ye=v(ve+"",Le),Ae=-1,Me=ye.length;if(!(arguments.length<2)){if(fe!=null&&typeof fe!="function")throw new Error("invalid callback: "+fe);for(;++Ae<Me;)if(pe=(ve=ye[Ae]).type)Le[pe]=c(Le[pe],ve.name,fe);else if(fe==null)for(pe in Le)Le[pe]=c(Le[pe],ve.name,null);return this}for(;++Ae<Me;)if((pe=(ve=ye[Ae]).type)&&(pe=T(Le[pe],ve.name)))return pe},copy:function(){var ve={},fe=this._;for(var pe in fe)ve[pe]=fe[pe].slice();return new g(ve)},call:function(ve,fe){if((pe=arguments.length-2)>0)for(var pe,Le,ye=new Array(pe),Ae=0;Ae<pe;++Ae)ye[Ae]=arguments[Ae+2];if(!this._.hasOwnProperty(ve))throw new Error("unknown type: "+ve);for(Ae=0,pe=(Le=this._[ve]).length;Ae<pe;++Ae)Le[Ae].value.apply(fe,ye)},apply:function(ve,fe,pe){if(!this._.hasOwnProperty(ve))throw new Error("unknown type: "+ve);for(var Le=this._[ve],ye=0,Ae=Le.length;ye<Ae;++ye)Le[ye].value.apply(fe,pe)}};var E,A,C=x,O=0,P=0,D=0,z=0,V=0,F=0,W=typeof performance=="object"&&performance.now?performance:Date,B=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ve){setTimeout(ve,17)};function U(){return V||(B(H),V=W.now()+F)}function H(){V=0}function q(){this._call=this._time=this._next=null}function ee(ve,fe,pe){var Le=new q;return Le.restart(ve,fe,pe),Le}function K(){V=(z=W.now())+F,O=P=0;try{(function(){U(),++O;for(var ve,fe=E;fe;)(ve=V-fe._time)>=0&&fe._call.call(null,ve),fe=fe._next;--O})()}finally{O=0,function(){for(var ve,fe,pe=E,Le=1/0;pe;)pe._call?(Le>pe._time&&(Le=pe._time),ve=pe,pe=pe._next):(fe=pe._next,pe._next=null,pe=ve?ve._next=fe:E=fe);A=ve,Z(Le)}(),V=0}}function J(){var ve=W.now(),fe=ve-z;fe>1e3&&(F-=fe,z=ve)}function Z(ve){O||(P&&(P=clearTimeout(P)),ve-V>24?(ve<1/0&&(P=setTimeout(K,ve-W.now()-F)),D&&(D=clearInterval(D))):(D||(z=W.now(),D=setInterval(J,1e3)),O=1,B(K)))}function $(ve){return ve.x}function ne(ve){return ve.y}q.prototype=ee.prototype={constructor:q,restart:function(ve,fe,pe){if(typeof ve!="function")throw new TypeError("callback is not a function");pe=(pe==null?U():+pe)+(fe==null?0:+fe),this._next||A===this||(A?A._next=this:E=this,A=this),this._call=ve,this._time=pe,Z()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z())}};var ae=Math.PI*(3-Math.sqrt(5));function oe(ve){var fe,pe=1,Le=.001,ye=1-Math.pow(Le,1/300),Ae=0,Me=.6,ke=(0,p.UI)(),te=ee(ge),ue=C("tick","end");function ge(){we(),ue.call("tick",fe),pe<Le&&(te.stop(),ue.call("end",fe))}function we(Re){var je,he,_e=ve.length;Re===void 0&&(Re=1);for(var Te=0;Te<Re;++Te)for(pe+=(Ae-pe)*ye,ke.each(function(Fe){Fe(pe)}),je=0;je<_e;++je)(he=ve[je]).fx==null?he.x+=he.vx*=Me:(he.x=he.fx,he.vx=0),he.fy==null?he.y+=he.vy*=Me:(he.y=he.fy,he.vy=0);return fe}function Ee(){for(var Re,je=0,he=ve.length;je<he;++je){if((Re=ve[je]).index=je,Re.fx!=null&&(Re.x=Re.fx),Re.fy!=null&&(Re.y=Re.fy),isNaN(Re.x)||isNaN(Re.y)){var _e=10*Math.sqrt(je),Te=je*ae;Re.x=_e*Math.cos(Te),Re.y=_e*Math.sin(Te)}(isNaN(Re.vx)||isNaN(Re.vy))&&(Re.vx=Re.vy=0)}}function Be(Re){return Re.initialize&&Re.initialize(ve),Re}return ve==null&&(ve=[]),Ee(),fe={tick:we,restart:function(){return te.restart(ge),fe},stop:function(){return te.stop(),fe},nodes:function(Re){return arguments.length?(ve=Re,Ee(),ke.each(Be),fe):ve},alpha:function(Re){return arguments.length?(pe=+Re,fe):pe},alphaMin:function(Re){return arguments.length?(Le=+Re,fe):Le},alphaDecay:function(Re){return arguments.length?(ye=+Re,fe):+ye},alphaTarget:function(Re){return arguments.length?(Ae=+Re,fe):Ae},velocityDecay:function(Re){return arguments.length?(Me=1-Re,fe):1-Me},force:function(Re,je){return arguments.length>1?(je==null?ke.remove(Re):ke.set(Re,Be(je)),fe):ke.get(Re)},find:function(Re,je,he){var _e,Te,Fe,Ye,Ge,ot=0,st=ve.length;for(he==null?he=1/0:he*=he,ot=0;ot<st;++ot)(Fe=(_e=Re-(Ye=ve[ot]).x)*_e+(Te=je-Ye.y)*Te)<he&&(Ge=Ye,he=Fe);return Ge},on:function(Re,je){return arguments.length>1?(ue.on(Re,je),fe):ue.on(Re)}}}function se(){var ve,fe,pe,Le,ye=w(-30),Ae=1,Me=1/0,ke=.81;function te(Ee){var Be,Re=ve.length,je=t(ve,$,ne).visitAfter(ge);for(pe=Ee,Be=0;Be<Re;++Be)fe=ve[Be],je.visit(we)}function ue(){if(ve){var Ee,Be,Re=ve.length;for(Le=new Array(Re),Ee=0;Ee<Re;++Ee)Be=ve[Ee],Le[Be.index]=+ye(Be,Ee,ve)}}function ge(Ee){var Be,Re,je,he,_e,Te=0,Fe=0;if(Ee.length){for(je=he=_e=0;_e<4;++_e)(Be=Ee[_e])&&(Re=Math.abs(Be.value))&&(Te+=Be.value,Fe+=Re,je+=Re*Be.x,he+=Re*Be.y);Ee.x=je/Fe,Ee.y=he/Fe}else{(Be=Ee).x=Be.data.x,Be.y=Be.data.y;do Te+=Le[Be.data.index];while(Be=Be.next)}Ee.value=Te}function we(Ee,Be,Re,je){if(!Ee.value)return!0;var he=Ee.x-fe.x,_e=Ee.y-fe.y,Te=je-Be,Fe=he*he+_e*_e;if(Te*Te/ke<Fe)return Fe<Me&&(he===0&&(Fe+=(he=a())*he),_e===0&&(Fe+=(_e=a())*_e),Fe<Ae&&(Fe=Math.sqrt(Ae*Fe)),fe.vx+=he*Ee.value*pe/Fe,fe.vy+=_e*Ee.value*pe/Fe),!0;if(!(Ee.length||Fe>=Me)){(Ee.data!==fe||Ee.next)&&(he===0&&(Fe+=(he=a())*he),_e===0&&(Fe+=(_e=a())*_e),Fe<Ae&&(Fe=Math.sqrt(Ae*Fe)));do Ee.data!==fe&&(Te=Le[Ee.data.index]*pe/Fe,fe.vx+=he*Te,fe.vy+=_e*Te);while(Ee=Ee.next)}}return te.initialize=function(Ee){ve=Ee,ue()},te.strength=function(Ee){return arguments.length?(ye=typeof Ee=="function"?Ee:w(+Ee),ue(),te):ye},te.distanceMin=function(Ee){return arguments.length?(Ae=Ee*Ee,te):Math.sqrt(Ae)},te.distanceMax=function(Ee){return arguments.length?(Me=Ee*Ee,te):Math.sqrt(Me)},te.theta=function(Ee){return arguments.length?(ke=Ee*Ee,te):Math.sqrt(ke)},te}function ce(ve,fe,pe){var Le,ye,Ae,Me=w(.1);function ke(ue){for(var ge=0,we=Le.length;ge<we;++ge){var Ee=Le[ge],Be=Ee.x-fe||1e-6,Re=Ee.y-pe||1e-6,je=Math.sqrt(Be*Be+Re*Re),he=(Ae[ge]-je)*ye[ge]*ue/je;Ee.vx+=Be*he,Ee.vy+=Re*he}}function te(){if(Le){var ue,ge=Le.length;for(ye=new Array(ge),Ae=new Array(ge),ue=0;ue<ge;++ue)Ae[ue]=+ve(Le[ue],ue,Le),ye[ue]=isNaN(Ae[ue])?0:+Me(Le[ue],ue,Le)}}return typeof ve!="function"&&(ve=w(+ve)),fe==null&&(fe=0),pe==null&&(pe=0),ke.initialize=function(ue){Le=ue,te()},ke.strength=function(ue){return arguments.length?(Me=typeof ue=="function"?ue:w(+ue),te(),ke):Me},ke.radius=function(ue){return arguments.length?(ve=typeof ue=="function"?ue:w(+ue),te(),ke):ve},ke.x=function(ue){return arguments.length?(fe=+ue,ke):fe},ke.y=function(ue){return arguments.length?(pe=+ue,ke):pe},ke}function me(ve){var fe,pe,Le,ye=w(.1);function Ae(ke){for(var te,ue=0,ge=fe.length;ue<ge;++ue)(te=fe[ue]).vx+=(Le[ue]-te.x)*pe[ue]*ke}function Me(){if(fe){var ke,te=fe.length;for(pe=new Array(te),Le=new Array(te),ke=0;ke<te;++ke)pe[ke]=isNaN(Le[ke]=+ve(fe[ke],ke,fe))?0:+ye(fe[ke],ke,fe)}}return typeof ve!="function"&&(ve=w(ve==null?0:+ve)),Ae.initialize=function(ke){fe=ke,Me()},Ae.strength=function(ke){return arguments.length?(ye=typeof ke=="function"?ke:w(+ke),Me(),Ae):ye},Ae.x=function(ke){return arguments.length?(ve=typeof ke=="function"?ke:w(+ke),Me(),Ae):ve},Ae}function xe(ve){var fe,pe,Le,ye=w(.1);function Ae(ke){for(var te,ue=0,ge=fe.length;ue<ge;++ue)(te=fe[ue]).vy+=(Le[ue]-te.y)*pe[ue]*ke}function Me(){if(fe){var ke,te=fe.length;for(pe=new Array(te),Le=new Array(te),ke=0;ke<te;++ke)pe[ke]=isNaN(Le[ke]=+ve(fe[ke],ke,fe))?0:+ye(fe[ke],ke,fe)}}return typeof ve!="function"&&(ve=w(ve==null?0:+ve)),Ae.initialize=function(ke){fe=ke,Me()},Ae.strength=function(ke){return arguments.length?(ye=typeof ke=="function"?ke:w(+ke),Me(),Ae):ye},Ae.y=function(ke){return arguments.length?(ve=typeof ke=="function"?ke:w(+ke),Me(),Ae):ve},Ae}},60721:function(L,M,e){"use strict";function b(u,p){if((h=(u=p?u.toExponential(p-1):u.toExponential()).indexOf("e"))<0)return null;var h,_=u.slice(0,h);return[_.length>1?_[0]+_.slice(2):_,+u.slice(h+1)]}e.d(M,{WU:function(){return o},FF:function(){return i}});var w,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k(u){if(!(p=a.exec(u)))throw new Error("invalid format: "+u);var p;return new y({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function y(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function f(u,p){var h=b(u,p);if(!h)return u+"";var _=h[0],m=h[1];return m<0?"0."+new Array(-m).join("0")+_:_.length>m+1?_.slice(0,m+1)+"."+_.slice(m+1):_+new Array(m-_.length+2).join("0")}k.prototype=y.prototype,y.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(u,p){return(100*u).toFixed(p)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,p){return u.toExponential(p)},f:function(u,p){return u.toFixed(p)},g:function(u,p){return u.toPrecision(p)},o:function(u){return Math.round(u).toString(8)},p:function(u,p){return f(100*u,p)},r:f,s:function(u,p){var h=b(u,p);if(!h)return u+"";var _=h[0],m=h[1],d=m-(w=3*Math.max(-8,Math.min(8,Math.floor(m/3))))+1,x=_.length;return d===x?_:d>x?_+new Array(d-x+1).join("0"):d>0?_.slice(0,d)+"."+_.slice(d):"0."+new Array(1-d).join("0")+b(u,Math.max(0,p+d-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var s,o,n=Array.prototype.map,r=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function i(u){var p,h,_=u.grouping===void 0||u.thousands===void 0?t:(p=n.call(u.grouping,Number),h=u.thousands+"",function(A,C){for(var O=A.length,P=[],D=0,z=p[0],V=0;O>0&&z>0&&(V+z+1>C&&(z=Math.max(1,C-V)),P.push(A.substring(O-=z,O+z)),!((V+=z+1)>C));)z=p[D=(D+1)%p.length];return P.reverse().join(h)}),m=u.currency===void 0?"":u.currency[0]+"",d=u.currency===void 0?"":u.currency[1]+"",x=u.decimal===void 0?".":u.decimal+"",g=u.numerals===void 0?t:function(A){return function(C){return C.replace(/[0-9]/g,function(O){return A[+O]})}}(n.call(u.numerals,String)),v=u.percent===void 0?"%":u.percent+"",T=u.minus===void 0?"-":u.minus+"",c=u.nan===void 0?"NaN":u.nan+"";function E(A){var C=(A=k(A)).fill,O=A.align,P=A.sign,D=A.symbol,z=A.zero,V=A.width,F=A.comma,W=A.precision,B=A.trim,U=A.type;U==="n"?(F=!0,U="g"):l[U]||(W===void 0&&(W=12),B=!0,U="g"),(z||C==="0"&&O==="=")&&(z=!0,C="0",O="=");var H=D==="$"?m:D==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",q=D==="$"?d:/[%p]/.test(U)?v:"",ee=l[U],K=/[defgprs%]/.test(U);function J(Z){var $,ne,ae,oe=H,se=q;if(U==="c")se=ee(Z)+se,Z="";else{var ce=(Z=+Z)<0||1/Z<0;if(Z=isNaN(Z)?c:ee(Math.abs(Z),W),B&&(Z=function(ve){e:for(var fe,pe=ve.length,Le=1,ye=-1;Le<pe;++Le)switch(ve[Le]){case".":ye=fe=Le;break;case"0":ye===0&&(ye=Le),fe=Le;break;default:if(!+ve[Le])break e;ye>0&&(ye=0)}return ye>0?ve.slice(0,ye)+ve.slice(fe+1):ve}(Z)),ce&&+Z==0&&P!=="+"&&(ce=!1),oe=(ce?P==="("?P:T:P==="-"||P==="("?"":P)+oe,se=(U==="s"?r[8+w/3]:"")+se+(ce&&P==="("?")":""),K){for($=-1,ne=Z.length;++$<ne;)if(48>(ae=Z.charCodeAt($))||ae>57){se=(ae===46?x+Z.slice($+1):Z.slice($))+se,Z=Z.slice(0,$);break}}}F&&!z&&(Z=_(Z,1/0));var me=oe.length+Z.length+se.length,xe=me<V?new Array(V-me+1).join(C):"";switch(F&&z&&(Z=_(xe+Z,xe.length?V-se.length:1/0),xe=""),O){case"<":Z=oe+Z+se+xe;break;case"=":Z=oe+xe+Z+se;break;case"^":Z=xe.slice(0,me=xe.length>>1)+oe+Z+se+xe.slice(me);break;default:Z=xe+oe+Z+se}return g(Z)}return W=W===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W)),J.toString=function(){return A+""},J}return{format:E,formatPrefix:function(A,C){var O,P=E(((A=k(A)).type="f",A)),D=3*Math.max(-8,Math.min(8,Math.floor((O=C,((O=b(Math.abs(O)))?O[1]:NaN)/3)))),z=Math.pow(10,-D),V=r[8+D/3];return function(F){return P(z*F)+V}}}}s=i({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),o=s.format,s.formatPrefix},65704:function(L,M,e){"use strict";e.r(M),e.d(M,{geoAiry:function(){return F},geoAiryRaw:function(){return V},geoAitoff:function(){return B},geoAitoffRaw:function(){return W},geoArmadillo:function(){return H},geoArmadilloRaw:function(){return U},geoAugust:function(){return ee},geoAugustRaw:function(){return q},geoBaker:function(){return $},geoBakerRaw:function(){return Z},geoBerghaus:function(){return oe},geoBerghausRaw:function(){return ae},geoBertin1953:function(){return Le},geoBertin1953Raw:function(){return pe},geoBoggs:function(){return we},geoBoggsRaw:function(){return ge},geoBonne:function(){return he},geoBonneRaw:function(){return je},geoBottomley:function(){return Te},geoBottomleyRaw:function(){return _e},geoBromley:function(){return Ye},geoBromleyRaw:function(){return Fe},geoChamberlin:function(){return Nt},geoChamberlinAfrica:function(){return kt},geoChamberlinRaw:function(){return Ct},geoCollignon:function(){return Et},geoCollignonRaw:function(){return Dt},geoCraig:function(){return Ht},geoCraigRaw:function(){return Wt},geoCraster:function(){return Ue},geoCrasterRaw:function(){return $e},geoCylindricalEqualArea:function(){return ct},geoCylindricalEqualAreaRaw:function(){return nt},geoCylindricalStereographic:function(){return Ne},geoCylindricalStereographicRaw:function(){return Oe},geoEckert1:function(){return ut},geoEckert1Raw:function(){return Qe},geoEckert2:function(){return wt},geoEckert2Raw:function(){return pt},geoEckert3:function(){return It},geoEckert3Raw:function(){return Lt},geoEckert4:function(){return Rt},geoEckert4Raw:function(){return yt},geoEckert5:function(){return Pt},geoEckert5Raw:function(){return bt},geoEckert6:function(){return Zt},geoEckert6Raw:function(){return Bt},geoEisenlohr:function(){return tn},geoEisenlohrRaw:function(){return Kt},geoFahey:function(){return fn},geoFaheyRaw:function(){return _n},geoFoucaut:function(){return Xn},geoFoucautRaw:function(){return Sn},geoFoucautSinusoidal:function(){return un},geoFoucautSinusoidalRaw:function(){return An},geoGilbert:function(){return In},geoGingery:function(){return cr},geoGingeryRaw:function(){return Hn},geoGinzburg4:function(){return gr},geoGinzburg4Raw:function(){return Mr},geoGinzburg5:function(){return xr},geoGinzburg5Raw:function(){return sr},geoGinzburg6:function(){return Qt},geoGinzburg6Raw:function(){return kr},geoGinzburg8:function(){return Dn},geoGinzburg8Raw:function(){return bn},geoGinzburg9:function(){return qn},geoGinzburg9Raw:function(){return Pn},geoGringorten:function(){return nr},geoGringortenQuincuncial:function(){return Nl},geoGringortenRaw:function(){return Jn},geoGuyou:function(){return Vt},geoGuyouRaw:function(){return zn},geoHammer:function(){return xe},geoHammerRaw:function(){return ce},geoHammerRetroazimuthal:function(){return Fn},geoHammerRetroazimuthalRaw:function(){return pn},geoHealpix:function(){return rr},geoHealpixRaw:function(){return xn},geoHill:function(){return pr},geoHillRaw:function(){return er},geoHomolosine:function(){return Lr},geoHomolosineRaw:function(){return Or},geoHufnagel:function(){return dr},geoHufnagelRaw:function(){return Tr},geoHyperelliptical:function(){return Ii},geoHyperellipticalRaw:function(){return gi},geoInterrupt:function(){return ki},geoInterruptedBoggs:function(){return ia},geoInterruptedHomolosine:function(){return us},geoInterruptedMollweide:function(){return $l},geoInterruptedMollweideHemispheres:function(){return La},geoInterruptedQuarticAuthalic:function(){return Bs},geoInterruptedSinuMollweide:function(){return ua},geoInterruptedSinusoidal:function(){return Va},geoKavrayskiy7:function(){return cs},geoKavrayskiy7Raw:function(){return Ha},geoLagrange:function(){return fs},geoLagrangeRaw:function(){return xi},geoLarrivee:function(){return Ao},geoLarriveeRaw:function(){return To},geoLaskowski:function(){return Ps},geoLaskowskiRaw:function(){return _l},geoLittrow:function(){return zl},geoLittrowRaw:function(){return Go},geoLoximuthal:function(){return Ql},geoLoximuthalRaw:function(){return xu},geoMiller:function(){return bu},geoMillerRaw:function(){return eu},geoModifiedStereographic:function(){return Ds},geoModifiedStereographicAlaska:function(){return nu},geoModifiedStereographicGs48:function(){return Is},geoModifiedStereographicGs50:function(){return wl},geoModifiedStereographicLee:function(){return il},geoModifiedStereographicMiller:function(){return ps},geoModifiedStereographicRaw:function(){return tu},geoMollweide:function(){return ke},geoMollweideRaw:function(){return Me},geoMtFlatPolarParabolic:function(){return Nu},geoMtFlatPolarParabolicRaw:function(){return hs},geoMtFlatPolarQuartic:function(){return ds},geoMtFlatPolarQuarticRaw:function(){return Rs},geoMtFlatPolarSinusoidal:function(){return al},geoMtFlatPolarSinusoidalRaw:function(){return Zo},geoNaturalEarth:function(){return eo.Z},geoNaturalEarth2:function(){return zs},geoNaturalEarth2Raw:function(){return ru},geoNaturalEarthRaw:function(){return eo.K},geoNellHammer:function(){return Fs},geoNellHammerRaw:function(){return gs},geoNicolosi:function(){return kl},geoNicolosiRaw:function(){return ol},geoPatterson:function(){return Sl},geoPattersonRaw:function(){return ms},geoPeirceQuincuncial:function(){return Cl},geoPierceQuincuncial:function(){return Cl},geoPolyconic:function(){return au},geoPolyconicRaw:function(){return El},geoPolyhedral:function(){return Xo},geoPolyhedralButterfly:function(){return Fl},geoPolyhedralCollignon:function(){return su},geoPolyhedralWaterman:function(){return Vs},geoProject:function(){return qs},geoQuantize:function(){return Ta},geoQuincuncial:function(){return qa},geoRectangularPolyconic:function(){return Bo},geoRectangularPolyconicRaw:function(){return Ir},geoRobinson:function(){return Gs},geoRobinsonRaw:function(){return Ws},geoSatellite:function(){return Ys},geoSatelliteRaw:function(){return Mo},geoSinuMollweide:function(){return br},geoSinuMollweideRaw:function(){return mr},geoSinusoidal:function(){return Re},geoSinusoidalRaw:function(){return Be},geoStitch:function(){return Xs},geoTimes:function(){return vo},geoTimesRaw:function(){return Ma},geoTwoPointAzimuthal:function(){return yo},geoTwoPointAzimuthalRaw:function(){return Ol},geoTwoPointAzimuthalUsa:function(){return to},geoTwoPointEquidistant:function(){return Ti},geoTwoPointEquidistantRaw:function(){return jo},geoTwoPointEquidistantUsa:function(){return Ra},geoVanDerGrinten:function(){return no},geoVanDerGrinten2:function(){return Uo},geoVanDerGrinten2Raw:function(){return za},geoVanDerGrinten3:function(){return Eo},geoVanDerGrinten3Raw:function(){return _s},geoVanDerGrinten4:function(){return xo},geoVanDerGrinten4Raw:function(){return ha},geoVanDerGrintenRaw:function(){return ga},geoWagner:function(){return Zr},geoWagner4:function(){return jl},geoWagner4Raw:function(){return ya},geoWagner6:function(){return Js},geoWagner6Raw:function(){return Fa},geoWagner7:function(){return ll},geoWagnerRaw:function(){return Br},geoWiechel:function(){return Pi},geoWiechelRaw:function(){return es},geoWinkel3:function(){return Lo},geoWinkel3Raw:function(){return zi}});var b=e(15002),w=Math.abs,a=Math.atan,k=Math.atan2,y=Math.cos,f=Math.exp,l=Math.floor,t=Math.log,s=Math.max,o=Math.min,n=Math.pow,r=Math.round,i=Math.sign||function(et){return et>0?1:et<0?-1:0},u=Math.sin,p=Math.tan,h=1e-6,_=1e-12,m=Math.PI,d=m/2,x=m/4,g=Math.SQRT1_2,v=P(2),T=P(m),c=2*m,E=180/m,A=m/180;function C(et){return et>1?d:et<-1?-d:Math.asin(et)}function O(et){return et>1?0:et<-1?m:Math.acos(et)}function P(et){return et>0?Math.sqrt(et):0}function D(et){return(f(et)-f(-et))/2}function z(et){return(f(et)+f(-et))/2}function V(et){var rt=p(et/2),ft=2*t(y(et/2))/(rt*rt);function vt(mt,At){var j=y(mt),X=y(At),G=u(At),ie=X*j,be=-((1-ie?t((1+ie)/2)/(1-ie):-.5)+ft/(1+ie));return[be*X*u(mt),be*G]}return vt.invert=function(mt,At){var j,X=P(mt*mt+At*At),G=-et/2,ie=50;if(!X)return[0,0];do{var be=G/2,Ie=y(be),He=u(be),Ze=He/Ie,at=-t(w(Ie));G-=j=(2/Ze*at-ft*Ze-X)/(-at/(He*He)+1-ft/(2*Ie*Ie))*(Ie<0?.7:1)}while(w(j)>h&&--ie>0);var Tt=u(G);return[k(mt*Tt,X*y(G)),C(At*Tt/X)]},vt}function F(){var et=d,rt=(0,b.r)(V),ft=rt(et);return ft.radius=function(vt){return arguments.length?rt(et=vt*A):et*E},ft.scale(179.976).clipAngle(147)}function W(et,rt){var ft=y(rt),vt=function(mt){return mt?mt/Math.sin(mt):1}(O(ft*y(et/=2)));return[2*ft*u(et)*vt,u(rt)*vt]}function B(){return(0,b.Z)(W).scale(152.63)}function U(et){var rt=u(et),ft=y(et),vt=et>=0?1:-1,mt=p(vt*et),At=(1+rt-ft)/2;function j(X,G){var ie=y(G),be=y(X/=2);return[(1+ie)*u(X),(vt*G>-k(be,mt)-.001?0:10*-vt)+At+u(G)*ft-(1+ie)*rt*be]}return j.invert=function(X,G){var ie=0,be=0,Ie=50;do{var He=y(ie),Ze=u(ie),at=y(be),Tt=u(be),Mt=1+at,re=Mt*Ze-X,de=At+Tt*ft-Mt*rt*He-G,Ce=Mt*He/2,ze=-Ze*Tt,Ve=rt*Mt*Ze/2,We=ft*at+rt*He*Tt,Je=ze*Ve-We*Ce,tt=(de*ze-re*We)/Je/2,lt=(re*Ve-de*Ce)/Je;w(lt)>2&&(lt/=2),ie-=tt,be-=lt}while((w(tt)>h||w(lt)>h)&&--Ie>0);return vt*be>-k(y(ie),mt)-.001?[2*ie,be]:null},j}function H(){var et=20*A,rt=et>=0?1:-1,ft=p(rt*et),vt=(0,b.r)(U),mt=vt(et),At=mt.stream;return mt.parallel=function(j){return arguments.length?(ft=p((rt=(et=j*A)>=0?1:-1)*et),vt(et)):et*E},mt.stream=function(j){var X=mt.rotate(),G=At(j),ie=(mt.rotate([0,0]),At(j)),be=mt.precision();return mt.rotate(X),G.sphere=function(){ie.polygonStart(),ie.lineStart();for(var Ie=-180*rt;rt*Ie<180;Ie+=90*rt)ie.point(Ie,90*rt);if(et)for(;rt*(Ie-=3*rt*be)>=-180;)ie.point(Ie,rt*-k(y(Ie*A/2),ft)*E);ie.lineEnd(),ie.polygonEnd()},G},mt.scale(218.695).center([0,28.0974])}function q(et,rt){var ft=p(rt/2),vt=P(1-ft*ft),mt=1+vt*y(et/=2),At=u(et)*vt/mt,j=ft/mt,X=At*At,G=j*j;return[1.3333333333333333*At*(3+X-3*G),1.3333333333333333*j*(3+3*X-G)]}function ee(){return(0,b.Z)(q).scale(66.1603)}W.invert=function(et,rt){if(!(et*et+4*rt*rt>m*m+h)){var ft=et,vt=rt,mt=25;do{var At,j=u(ft),X=u(ft/2),G=y(ft/2),ie=u(vt),be=y(vt),Ie=u(2*vt),He=ie*ie,Ze=be*be,at=X*X,Tt=1-Ze*G*G,Mt=Tt?O(be*G)*P(At=1/Tt):At=0,re=2*Mt*be*X-et,de=Mt*ie-rt,Ce=At*(Ze*at+Mt*be*G*He),ze=At*(.5*j*Ie-2*Mt*ie*X),Ve=.25*At*(Ie*X-Mt*ie*Ze*j),We=At*(He*G+Mt*at*be),Je=ze*Ve-We*Ce;if(!Je)break;var tt=(de*ze-re*We)/Je,lt=(re*Ve-de*Ce)/Je;ft-=tt,vt-=lt}while((w(tt)>h||w(lt)>h)&&--mt>0);return[ft,vt]}},q.invert=function(et,rt){if(rt*=.375,!(et*=.375)&&w(rt)>1)return null;var ft=1+et*et+rt*rt,vt=P((ft-P(ft*ft-4*rt*rt))/2),mt=C(vt)/3,At=vt?function(ie){return t(ie+P(ie*ie-1))}(w(rt/vt))/3:function(ie){return t(ie+P(ie*ie+1))}(w(et))/3,j=y(mt),X=z(At),G=X*X-j*j;return[2*i(et)*k(D(At)*j,.25-G),2*i(rt)*k(X*u(mt),.25+G)]};var K=P(8),J=t(1+v);function Z(et,rt){var ft=w(rt);return ft<x?[et,t(p(x+rt/2))]:[et*y(ft)*(2*v-1/u(ft)),i(rt)*(2*v*(ft-x)-t(p(ft/2)))]}function $(){return(0,b.Z)(Z).scale(112.314)}Z.invert=function(et,rt){if((vt=w(rt))<J)return[et,2*a(f(rt))-d];var ft,vt,mt=x,At=25;do{var j=y(mt/2),X=p(mt/2);mt-=ft=(K*(mt-x)-t(X)-vt)/(K-j*j/(2*X))}while(w(ft)>_&&--At>0);return[et/(y(mt)*(K-1/u(mt))),i(rt)*mt]};var ne=e(17889);function ae(et){var rt=2*m/et;function ft(vt,mt){var At=(0,ne.N)(vt,mt);if(w(vt)>d){var j=k(At[1],At[0]),X=P(At[0]*At[0]+At[1]*At[1]),G=rt*r((j-d)/rt)+d,ie=k(u(j-=G),2-y(j));j=G+C(m/X*u(ie))-ie,At[0]=X*y(j),At[1]=X*u(j)}return At}return ft.invert=function(vt,mt){var At=P(vt*vt+mt*mt);if(At>d){var j=k(mt,vt),X=rt*r((j-d)/rt)+d,G=j>X?-1:1,ie=At*y(X-j),be=1/p(G*O((ie-m)/P(m*(m-2*ie)+At*At)));j=X+2*a((be+G*P(be*be-3))/3),vt=At*y(j),mt=At*u(j)}return ne.N.invert(vt,mt)},ft}function oe(){var et=5,rt=(0,b.r)(ae),ft=rt(et),vt=ft.stream,mt=.01,At=-y(mt*A),j=u(mt*A);return ft.lobes=function(X){return arguments.length?rt(et=+X):et},ft.stream=function(X){var G=ft.rotate(),ie=vt(X),be=(ft.rotate([0,0]),vt(X));return ft.rotate(G),ie.sphere=function(){be.polygonStart(),be.lineStart();for(var Ie=0,He=360/et,Ze=2*m/et,at=90-180/et,Tt=d;Ie<et;++Ie,at-=He,Tt-=Ze)be.point(k(j*y(Tt),At)*E,C(j*u(Tt))*E),at<-90?(be.point(-90,-180-at-mt),be.point(-90,-180-at+mt)):(be.point(90,at+mt),be.point(90,at-mt));be.lineEnd(),be.polygonEnd()},ie},ft.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(12956);function ce(et,rt){if(arguments.length<2&&(rt=et),rt===1)return se.l;if(rt===1/0)return me;function ft(vt,mt){var At=(0,se.l)(vt/rt,mt);return At[0]*=et,At}return ft.invert=function(vt,mt){var At=se.l.invert(vt/et,mt);return At[0]*=rt,At},ft}function me(et,rt){return[et*y(rt)/y(rt/=2),2*u(rt)]}function xe(){var et=2,rt=(0,b.r)(ce),ft=rt(et);return ft.coefficient=function(vt){return arguments.length?rt(et=+vt):et},ft.scale(169.529)}function ve(et,rt,ft){var vt,mt,At,j=100;ft=ft===void 0?0:+ft,rt=+rt;do(mt=et(ft))===(At=et(ft+h))&&(At=mt+h),ft-=vt=-1e-6*(mt-rt)/(mt-At);while(j-- >0&&w(vt)>h);return j<0?NaN:ft}function fe(et,rt,ft){return rt===void 0&&(rt=40),ft===void 0&&(ft=_),function(vt,mt,At,j){var X,G,ie;At=At===void 0?0:+At,j=j===void 0?0:+j;for(var be=0;be<rt;be++){var Ie=et(At,j),He=Ie[0]-vt,Ze=Ie[1]-mt;if(w(He)<ft&&w(Ze)<ft)break;var at=He*He+Ze*Ze;if(at>X)At-=G/=2,j-=ie/=2;else{X=at;var Tt=(At>0?-1:1)*ft,Mt=(j>0?-1:1)*ft,re=et(At+Tt,j),de=et(At,j+Mt),Ce=(re[0]-Ie[0])/Tt,ze=(re[1]-Ie[1])/Tt,Ve=(de[0]-Ie[0])/Mt,We=(de[1]-Ie[1])/Mt,Je=We*Ce-ze*Ve,tt=(w(Je)<.5?.5:1)/Je;if(At+=G=(Ze*Ve-He*We)*tt,j+=ie=(He*ze-Ze*Ce)*tt,w(G)<ft&&w(ie)<ft)break}}return[At,j]}}function pe(){var et=ce(1.68,2);function rt(ft,vt){if(ft+vt<-1.4){var mt=(ft-vt+1.6)*(ft+vt+1.4)/8;ft+=mt,vt-=.8*mt*u(vt+m/2)}var At=et(ft,vt),j=(1-y(ft*vt))/12;return At[1]<0&&(At[0]*=1+j),At[1]>0&&(At[1]*=1+j/1.5*At[0]*At[0]),At}return rt.invert=fe(rt),rt}function Le(){return(0,b.Z)(pe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function ye(et,rt){var ft,vt=et*u(rt),mt=30;do rt-=ft=(rt+u(rt)-vt)/(1+y(rt));while(w(ft)>h&&--mt>0);return rt/2}function Ae(et,rt,ft){function vt(mt,At){return[et*mt*y(At=ye(ft,At)),rt*u(At)]}return vt.invert=function(mt,At){return At=C(At/rt),[mt/(et*y(At)),C((2*At+u(2*At))/ft)]},vt}me.invert=function(et,rt){var ft=2*C(rt/2);return[et*y(ft/2)/y(ft),ft]};var Me=Ae(v/d,v,m);function ke(){return(0,b.Z)(Me).scale(169.529)}var te=2.00276,ue=1.11072;function ge(et,rt){var ft=ye(m,rt);return[te*et/(1/y(rt)+ue/y(ft)),(rt+v*u(ft))/te]}function we(){return(0,b.Z)(ge).scale(160.857)}function Ee(et){var rt=0,ft=(0,b.r)(et),vt=ft(rt);return vt.parallel=function(mt){return arguments.length?ft(rt=mt*A):rt*E},vt}function Be(et,rt){return[et*y(rt),rt]}function Re(){return(0,b.Z)(Be).scale(152.63)}function je(et){if(!et)return Be;var rt=1/p(et);function ft(vt,mt){var At=rt+et-mt,j=At&&vt*y(mt)/At;return[At*u(j),rt-At*y(j)]}return ft.invert=function(vt,mt){var At=P(vt*vt+(mt=rt-mt)*mt),j=rt+et-At;return[At/y(j)*k(vt,mt),j]},ft}function he(){return Ee(je).scale(123.082).center([0,26.1441]).parallel(45)}function _e(et){function rt(ft,vt){var mt=d-vt,At=mt&&ft*et*u(mt)/mt;return[mt*u(At)/et,d-mt*y(At)]}return rt.invert=function(ft,vt){var mt=ft*et,At=d-vt,j=P(mt*mt+At*At),X=k(mt,At);return[(j?j/u(j):1)*X/et,d-j]},rt}function Te(){var et=.5,rt=(0,b.r)(_e),ft=rt(et);return ft.fraction=function(vt){return arguments.length?rt(et=+vt):et},ft.scale(158.837)}ge.invert=function(et,rt){var ft,vt,mt=te*rt,At=rt<0?-x:x,j=25;do vt=mt-v*u(At),At-=ft=(u(2*At)+2*At-m*u(vt))/(2*y(2*At)+2+m*y(vt)*v*y(At));while(w(ft)>h&&--j>0);return vt=mt-v*u(At),[et*(1/y(vt)+ue/y(At))/te,vt]},Be.invert=function(et,rt){return[et/y(rt),rt]};var Fe=Ae(1,4/m,m);function Ye(){return(0,b.Z)(Fe).scale(152.63)}var Ge=e(66624),ot=e(49386);function st(et,rt,ft,vt,mt,At){var j,X=y(At);if(w(et)>1||w(At)>1)j=O(ft*mt+rt*vt*X);else{var G=u(et/2),ie=u(At/2);j=2*C(P(G*G+rt*vt*ie*ie))}return w(j)>h?[j,k(vt*u(At),rt*mt-ft*vt*X)]:[0,0]}function ht(et,rt,ft){return O((et*et+rt*rt-ft*ft)/(2*et*rt))}function xt(et){return et-2*m*l((et+m)/(2*m))}function Ct(et,rt,ft){for(var vt,mt=[[et[0],et[1],u(et[1]),y(et[1])],[rt[0],rt[1],u(rt[1]),y(rt[1])],[ft[0],ft[1],u(ft[1]),y(ft[1])]],At=mt[2],j=0;j<3;++j,At=vt)vt=mt[j],At.v=st(vt[1]-At[1],At[3],At[2],vt[3],vt[2],vt[0]-At[0]),At.point=[0,0];var X=ht(mt[0].v[0],mt[2].v[0],mt[1].v[0]),G=ht(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ie=m-X;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var be=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*y(X),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*u(X))];return function(Ie,He){var Ze,at=u(He),Tt=y(He),Mt=new Array(3);for(Ze=0;Ze<3;++Ze){var re=mt[Ze];if(Mt[Ze]=st(He-re[1],re[3],re[2],Tt,at,Ie-re[0]),!Mt[Ze][0])return re.point;Mt[Ze][1]=xt(Mt[Ze][1]-re.v[1])}var de=be.slice();for(Ze=0;Ze<3;++Ze){var Ce=Ze==2?0:Ze+1,ze=ht(mt[Ze].v[0],Mt[Ze][0],Mt[Ce][0]);Mt[Ze][1]<0&&(ze=-ze),Ze?Ze==1?(ze=G-ze,de[0]-=Mt[Ze][0]*y(ze),de[1]-=Mt[Ze][0]*u(ze)):(ze=ie-ze,de[0]+=Mt[Ze][0]*y(ze),de[1]+=Mt[Ze][0]*u(ze)):(de[0]+=Mt[Ze][0]*y(ze),de[1]-=Mt[Ze][0]*u(ze))}return de[0]/=3,de[1]/=3,de}}function St(et){return et[0]*=A,et[1]*=A,et}function kt(){return Nt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Nt(et,rt,ft){var vt=(0,Ge.Z)({type:"MultiPoint",coordinates:[et,rt,ft]}),mt=[-vt[0],-vt[1]],At=(0,ot.Z)(mt),j=Ct(St(At(et)),St(At(rt)),St(At(ft)));j.invert=fe(j);var X=(0,b.Z)(j).rotate(mt),G=X.center;return delete X.rotate,X.center=function(ie){return arguments.length?G(At(ie)):At.invert(G())},X.clipAngle(90)}function Dt(et,rt){var ft=P(1-u(rt));return[2/T*et*ft,T*(1-ft)]}function Et(){return(0,b.Z)(Dt).scale(95.6464).center([0,30])}function Wt(et){var rt=p(et);function ft(vt,mt){return[vt,(vt?vt/u(vt):1)*(u(mt)*y(vt)-rt*y(mt))]}return ft.invert=rt?function(vt,mt){vt&&(mt*=u(vt)/vt);var At=y(vt);return[vt,2*k(P(At*At+rt*rt-mt*mt)-At,rt-mt)]}:function(vt,mt){return[vt,C(vt?mt*p(vt)/vt:mt)]},ft}function Ht(){return Ee(Wt).scale(249.828).clipAngle(90)}Dt.invert=function(et,rt){var ft=(ft=rt/T-1)*ft;return[ft>0?et*P(m/ft)/2:0,C(1-ft)]};var Ke=P(3);function $e(et,rt){return[Ke*et*(2*y(2*rt/3)-1)/T,Ke*T*u(rt/3)]}function Ue(){return(0,b.Z)($e).scale(156.19)}function nt(et){var rt=y(et);function ft(vt,mt){return[vt*rt,u(mt)/rt]}return ft.invert=function(vt,mt){return[vt/rt,C(mt*rt)]},ft}function ct(){return Ee(nt).parallel(38.58).scale(195.044)}function Oe(et){var rt=y(et);function ft(vt,mt){return[vt*rt,(1+rt)*p(mt/2)]}return ft.invert=function(vt,mt){return[vt/rt,2*a(mt/(1+rt))]},ft}function Ne(){return Ee(Oe).scale(124.75)}function Qe(et,rt){var ft=P(8/(3*m));return[ft*et*(1-w(rt)/m),ft*rt]}function ut(){return(0,b.Z)(Qe).scale(165.664)}function pt(et,rt){var ft=P(4-3*u(w(rt)));return[2/P(6*m)*et*ft,i(rt)*P(2*m/3)*(2-ft)]}function wt(){return(0,b.Z)(pt).scale(165.664)}function Lt(et,rt){var ft=P(m*(4+m));return[2/ft*et*(1+P(1-4*rt*rt/(m*m))),4/ft*rt]}function It(){return(0,b.Z)(Lt).scale(180.739)}function yt(et,rt){var ft=(2+d)*u(rt);rt/=2;for(var vt=0,mt=1/0;vt<10&&w(mt)>h;vt++){var At=y(rt);rt-=mt=(rt+u(rt)*(At+2)-ft)/(2*At*(1+At))}return[2/P(m*(4+m))*et*(1+y(rt)),2*P(m/(4+m))*u(rt)]}function Rt(){return(0,b.Z)(yt).scale(180.739)}function bt(et,rt){return[et*(1+y(rt))/P(2+m),2*rt/P(2+m)]}function Pt(){return(0,b.Z)(bt).scale(173.044)}function Bt(et,rt){for(var ft=(1+d)*u(rt),vt=0,mt=1/0;vt<10&&w(mt)>h;vt++)rt-=mt=(rt+u(rt)-ft)/(1+y(rt));return ft=P(2+m),[et*(1+y(rt))/ft,2*rt/ft]}function Zt(){return(0,b.Z)(Bt).scale(173.044)}$e.invert=function(et,rt){var ft=3*C(rt/(Ke*T));return[T*et/(Ke*(2*y(2*ft/3)-1)),ft]},Qe.invert=function(et,rt){var ft=P(8/(3*m)),vt=rt/ft;return[et/(ft*(1-w(vt)/m)),vt]},pt.invert=function(et,rt){var ft=2-w(rt)/P(2*m/3);return[et*P(6*m)/(2*ft),i(rt)*C((4-ft*ft)/3)]},Lt.invert=function(et,rt){var ft=P(m*(4+m))/2;return[et*ft/(1+P(1-rt*rt*(4+m)/(4*m))),rt*ft/2]},yt.invert=function(et,rt){var ft=rt*P((4+m)/m)/2,vt=C(ft),mt=y(vt);return[et/(2/P(m*(4+m))*(1+mt)),C((vt+ft*(mt+2))/(2+d))]},bt.invert=function(et,rt){var ft=P(2+m),vt=rt*ft/2;return[ft*et/(1+y(vt)),vt]},Bt.invert=function(et,rt){var ft=1+d,vt=P(ft/2);return[2*et*vt/(1+y(rt*=vt)),C((rt+u(rt))/ft)]};var Yt=3+2*v;function Kt(et,rt){var ft=u(et/=2),vt=y(et),mt=P(y(rt)),At=y(rt/=2),j=u(rt)/(At+v*vt*mt),X=P(2/(1+j*j)),G=P((v*At+(vt+ft)*mt)/(v*At+(vt-ft)*mt));return[Yt*(X*(G-1/G)-2*t(G)),Yt*(X*j*(G+1/G)-2*a(j))]}function tn(){return(0,b.Z)(Kt).scale(62.5271)}Kt.invert=function(et,rt){if(!(ft=q.invert(et/1.2,1.065*rt)))return null;var ft,vt=ft[0],mt=ft[1],At=20;et/=Yt,rt/=Yt;do{var j=vt/2,X=mt/2,G=u(j),ie=y(j),be=u(X),Ie=y(X),He=y(mt),Ze=P(He),at=be/(Ie+v*ie*Ze),Tt=at*at,Mt=P(2/(1+Tt)),re=(v*Ie+(ie+G)*Ze)/(v*Ie+(ie-G)*Ze),de=P(re),Ce=de-1/de,ze=de+1/de,Ve=Mt*Ce-2*t(de)-et,We=Mt*at*ze-2*a(at)-rt,Je=be&&g*Ze*G*Tt/be,tt=(v*ie*Ie+Ze)/(2*(Ie+v*ie*Ze)*(Ie+v*ie*Ze)*Ze),lt=-.5*at*Mt*Mt*Mt,dt=lt*Je,Ft=lt*tt,Ut=(Ut=2*Ie+v*Ze*(ie-G))*Ut*de,qt=(v*ie*Ie*Ze+He)/Ut,nn=-v*G*be/(Ze*Ut),yn=Ce*dt-2*qt/de+Mt*(qt+qt/re),rn=Ce*Ft-2*nn/de+Mt*(nn+nn/re),cn=at*ze*dt-2*Je/(1+Tt)+Mt*ze*Je+Mt*at*(qt-qt/re),sn=at*ze*Ft-2*tt/(1+Tt)+Mt*ze*tt+Mt*at*(nn-nn/re),Ln=rn*cn-sn*yn;if(!Ln)break;var wn=(We*rn-Ve*sn)/Ln,ln=(Ve*cn-We*yn)/Ln;vt-=wn,mt=s(-d,o(d,mt-ln))}while((w(wn)>h||w(ln)>h)&&--At>0);return w(w(mt)-d)<h?[0,mt]:At&&[vt,mt]};var on=y(35*A);function _n(et,rt){var ft=p(rt/2);return[et*on*P(1-ft*ft),(1+on)*ft]}function fn(){return(0,b.Z)(_n).scale(137.152)}function Sn(et,rt){var ft=rt/2,vt=y(ft);return[2*et/T*y(rt)*vt*vt,T*p(ft)]}function Xn(){return(0,b.Z)(Sn).scale(135.264)}function An(et){var rt=1-et,ft=mt(m,0)[0]-mt(-m,0)[0],vt=P(2*(mt(0,d)[1]-mt(0,-d)[1])/ft);function mt(X,G){var ie=y(G),be=u(G);return[ie/(rt+et*ie)*X,rt*G+et*be]}function At(X,G){var ie=mt(X,G);return[ie[0]*vt,ie[1]/vt]}function j(X){return At(0,X)[1]}return At.invert=function(X,G){var ie=ve(j,G);return[X/vt*(et+rt/y(ie)),ie]},At}function un(){var et=.5,rt=(0,b.r)(An),ft=rt(et);return ft.alpha=function(vt){return arguments.length?rt(et=+vt):et},ft.scale(168.725)}_n.invert=function(et,rt){var ft=rt/(1+on);return[et&&et/(on*P(1-ft*ft)),2*a(ft)]},Sn.invert=function(et,rt){var ft=a(rt/T),vt=y(ft),mt=2*ft;return[et*T/2/(y(mt)*vt*vt),mt]};var Tn=e(57962),gn=e(97492);function dn(et){return[et[0]/2,C(p(et[1]/2*A))*E]}function Rn(et){return[2*et[0],2*a(u(et[1]*A))*E]}function In(et){et==null&&(et=Tn.Z);var rt=et(),ft=(0,gn.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function vt(At){return rt(dn(At))}function mt(At){vt[At]=function(){return arguments.length?(rt[At].apply(rt,arguments),vt):rt[At]()}}return rt.invert&&(vt.invert=function(At){return Rn(rt.invert(At))}),vt.stream=function(At){var j=rt.stream(At),X=ft.stream({point:function(G,ie){j.point(G/2,C(p(-ie/2*A))*E)},lineStart:function(){j.lineStart()},lineEnd:function(){j.lineEnd()},polygonStart:function(){j.polygonStart()},polygonEnd:function(){j.polygonEnd()}});return X.sphere=j.sphere,X},vt.rotate=function(At){return arguments.length?(ft.rotate(At),vt):ft.rotate()},vt.center=function(At){return arguments.length?(rt.center(dn(At)),vt):Rn(rt.center())},mt("angle"),mt("clipAngle"),mt("clipExtent"),mt("fitExtent"),mt("fitHeight"),mt("fitSize"),mt("fitWidth"),mt("scale"),mt("translate"),mt("precision"),vt.scale(249.5)}function Hn(et,rt){var ft=2*m/rt,vt=et*et;function mt(At,j){var X=(0,ne.N)(At,j),G=X[0],ie=X[1],be=G*G+ie*ie;if(be>vt){var Ie=P(be),He=k(ie,G),Ze=ft*r(He/ft),at=He-Ze,Tt=et*y(at),Mt=(et*u(at)-at*u(Tt))/(d-Tt),re=Yn(at,Mt),de=(m-et)/Gn(re,Tt,m);G=Ie;var Ce,ze=50;do G-=Ce=(et+Gn(re,Tt,G)*de-Ie)/(re(G)*de);while(w(Ce)>h&&--ze>0);ie=at*u(G),G<d&&(ie-=Mt*(G-d));var Ve=u(Ze),We=y(Ze);X[0]=G*We-ie*Ve,X[1]=G*Ve+ie*We}return X}return mt.invert=function(At,j){var X=At*At+j*j;if(X>vt){var G=P(X),ie=k(j,At),be=ft*r(ie/ft),Ie=ie-be;At=G*y(Ie),j=G*u(Ie);for(var He=At-d,Ze=u(At),at=j/Ze,Tt=At<d?1/0:0,Mt=10;;){var re=et*u(at),de=et*y(at),Ce=u(de),ze=d-de,Ve=(re-at*Ce)/ze,We=Yn(at,Ve);if(w(Tt)<_||!--Mt)break;at-=Tt=(at*Ze-Ve*He-j)/(Ze-2*He*(ze*(de+at*re*y(de)-Ce)-re*(re-at*Ce))/(ze*ze))}At=(G=et+Gn(We,de,At)*(m-et)/Gn(We,de,m))*y(ie=be+at),j=G*u(ie)}return ne.N.invert(At,j)},mt}function Yn(et,rt){return function(ft){var vt=et*y(ft);return ft<d&&(vt-=rt),P(1+vt*vt)}}function Gn(et,rt,ft){for(var vt=(ft-rt)/50,mt=et(rt)+et(ft),At=1,j=rt;At<50;++At)mt+=2*et(j+=vt);return .5*mt*vt}function cr(){var et=6,rt=30*A,ft=y(rt),vt=u(rt),mt=(0,b.r)(Hn),At=mt(rt,et),j=At.stream,X=-y(.01*A),G=u(.01*A);return At.radius=function(ie){return arguments.length?(ft=y(rt=ie*A),vt=u(rt),mt(rt,et)):rt*E},At.lobes=function(ie){return arguments.length?mt(rt,et=+ie):et},At.stream=function(ie){var be=At.rotate(),Ie=j(ie),He=(At.rotate([0,0]),j(ie));return At.rotate(be),Ie.sphere=function(){He.polygonStart(),He.lineStart();for(var Ze=0,at=2*m/et,Tt=0;Ze<et;++Ze,Tt-=at)He.point(k(G*y(Tt),X)*E,C(G*u(Tt))*E),He.point(k(vt*y(Tt-at/2),ft)*E,C(vt*u(Tt-at/2))*E);He.lineEnd(),He.polygonEnd()},Ie},At.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function ir(et,rt,ft,vt,mt,At,j,X){function G(ie,be){if(!be)return[et*ie/m,0];var Ie=be*be,He=et+Ie*(rt+Ie*(ft+Ie*vt)),Ze=be*(mt-1+Ie*(At-X+Ie*j)),at=(He*He+Ze*Ze)/(2*Ze),Tt=ie*C(He/at)/m;return[at*u(Tt),be*(1+Ie*X)+at*(1-y(Tt))]}return arguments.length<8&&(X=0),G.invert=function(ie,be){var Ie,He,Ze=m*ie/et,at=be,Tt=50;do{var Mt=at*at,re=et+Mt*(rt+Mt*(ft+Mt*vt)),de=at*(mt-1+Mt*(At-X+Mt*j)),Ce=re*re+de*de,ze=2*de,Ve=Ce/ze,We=Ve*Ve,Je=C(re/Ve)/m,tt=Ze*Je,lt=re*re,dt=(2*rt+Mt*(4*ft+6*Mt*vt))*at,Ft=mt+Mt*(3*At+5*Mt*j),Ut=(2*(re*dt+de*(Ft-1))*ze-Ce*(2*(Ft-1)))/(ze*ze),qt=y(tt),nn=u(tt),yn=Ve*qt,rn=Ve*nn,cn=Ze/m*(1/P(1-lt/We))*(dt*Ve-re*Ut)/We,sn=rn-ie,Ln=at*(1+Mt*X)+Ve-yn-be,wn=Ut*nn+yn*cn,ln=yn*Je,Bn=1+Ut-(Ut*qt-rn*cn),Wn=rn*Je,tr=wn*Wn-Bn*ln;if(!tr)break;Ze-=Ie=(Ln*wn-sn*Bn)/tr,at-=He=(sn*Wn-Ln*ln)/tr}while((w(Ie)>h||w(He)>h)&&--Tt>0);return[Ze,at]},G}var Mr=ir(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function gr(){return(0,b.Z)(Mr).scale(149.995)}var sr=ir(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function xr(){return(0,b.Z)(sr).scale(153.93)}var kr=ir(5/6*m,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Qt(){return(0,b.Z)(kr).scale(130.945)}function bn(et,rt){var ft=et*et,vt=rt*rt;return[et*(1-.162388*vt)*(.87-952426e-9*ft*ft),rt*(1+vt/12)]}function Dn(){return(0,b.Z)(bn).scale(131.747)}bn.invert=function(et,rt){var ft,vt=et,mt=rt,At=50;do{var j=mt*mt;mt-=ft=(mt*(1+j/12)-rt)/(1+j/4)}while(w(ft)>h&&--At>0);At=50,et/=1-.162388*j;do{var X=(X=vt*vt)*X;vt-=ft=(vt*(.87-952426e-9*X)-et)/(.87-.00476213*X)}while(w(ft)>h&&--At>0);return[vt,mt]};var Pn=ir(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function qn(){return(0,b.Z)(Pn).scale(131.087)}function Qn(et){var rt=et(d,0)[0]-et(-d,0)[0];function ft(vt,mt){var At=vt>0?-.5:.5,j=et(vt+At*m,mt);return j[0]-=At*rt,j}return et.invert&&(ft.invert=function(vt,mt){var At=vt>0?-.5:.5,j=et.invert(vt+At*rt,mt),X=j[0]-At*m;return X<-m?X+=2*m:X>m&&(X-=2*m),j[0]=X,j}),ft}function Jn(et,rt){var ft=i(et),vt=i(rt),mt=y(rt),At=y(et)*mt,j=u(et)*mt,X=u(vt*rt);et=w(k(j,X)),rt=C(At),w(et-d)>h&&(et%=d);var G=function(ie,be){if(be===d)return[0,0];var Ie,He,Ze=u(be),at=Ze*Ze,Tt=at*at,Mt=1+Tt,re=1+3*Tt,de=1-Tt,Ce=C(1/P(Mt)),ze=de+at*Mt*Ce,Ve=(1-Ze)/ze,We=P(Ve),Je=Ve*Mt,tt=P(Je),lt=We*de;if(ie===0)return[0,-(lt+at*tt)];var dt,Ft=y(be),Ut=1/Ft,qt=2*Ze*Ft,nn=(-ze*Ft-(-3*at+Ce*re)*qt*(1-Ze))/(ze*ze),yn=-Ut*qt,rn=-Ut*(at*Mt*nn+Ve*re*qt),cn=-2*Ut*(de*(.5*nn/We)-2*at*We*qt),sn=4*ie/m;if(ie>.222*m||be<m/4&&ie>.175*m){if(Ie=(lt+at*P(Je*(1+Tt)-lt*lt))/(1+Tt),ie>m/4)return[Ie,Ie];var Ln=Ie,wn=.5*Ie;Ie=.5*(wn+Ln),He=50;do{var ln=Ie*(cn+yn*P(Je-Ie*Ie))+rn*C(Ie/tt)-sn;if(!ln)break;ln<0?wn=Ie:Ln=Ie,Ie=.5*(wn+Ln)}while(w(Ln-wn)>h&&--He>0)}else{Ie=h,He=25;do{var Bn=Ie*Ie,Wn=P(Je-Bn),tr=cn+yn*Wn,or=Ie*tr+rn*C(Ie/tt)-sn;Ie-=dt=Wn?or/(tr+(rn-yn*Bn)/Wn):0}while(w(dt)>h&&--He>0)}return[Ie,-lt-at*P(Je-Ie*Ie)]}(et>m/4?d-et:et,rt);return et>m/4&&(X=G[0],G[0]=-G[1],G[1]=-X),G[0]*=ft,G[1]*=-vt,G}function nr(){return(0,b.Z)(Qn(Jn)).scale(239.75)}function yr(et,rt){var ft,vt,mt,At,j,X;if(rt<h)return[(At=u(et))-(ft=rt*(et-At*(vt=y(et)))/4)*vt,vt+ft*At,1-rt*At*At/2,et-ft];if(rt>=.999999)return ft=(1-rt)/4,mt=1/(vt=z(et)),[(At=((X=f(2*(X=et)))-1)/(X+1))+ft*((j=vt*D(et))-et)/(vt*vt),mt-ft*At*mt*(j-et),mt+ft*At*mt*(j+et),2*a(f(et))-d+ft*(j-et)/vt];var G=[1,0,0,0,0,0,0,0,0],ie=[P(rt),0,0,0,0,0,0,0,0],be=0;for(vt=P(1-rt),j=1;w(ie[be]/G[be])>h&&be<8;)ft=G[be++],ie[be]=(ft-vt)/2,G[be]=(ft+vt)/2,vt=P(ft*vt),j*=2;mt=j*G[be]*et;do mt=(C(At=ie[be]*u(vt=mt)/G[be])+mt)/2;while(--be);return[u(mt),At=y(mt),At/y(mt-vt),mt]}function an(et,rt){if(!rt)return et;if(rt===1)return t(p(et/2+x));for(var ft=1,vt=P(1-rt),mt=P(rt),At=0;w(mt)>h;At++){if(et%m){var j=a(vt*p(et)/ft);j<0&&(j+=m),et+=j+~~(et/m)*m}else et+=et;mt=(ft+vt)/2,vt=P(ft*vt),mt=((ft=mt)-vt)/2}return et/(n(2,At)*ft)}function zn(et,rt){var ft=(v-1)/(v+1),vt=P(1-ft*ft),mt=an(d,vt*vt),At=t(p(m/4+w(rt)/2)),j=f(-1*At)/P(ft),X=function(ie,be){var Ie=ie*ie,He=be+1,Ze=1-Ie-be*be;return[.5*((ie>=0?d:-d)-k(Ze,2*ie)),-.25*t(Ze*Ze+4*Ie)+.5*t(He*He+Ie)]}(j*y(-1*et),j*u(-1*et)),G=function(ie,be,Ie){var He=w(ie),Ze=D(w(be));if(He){var at=1/u(He),Tt=1/(p(He)*p(He)),Mt=-(Tt+Ie*(Ze*Ze*at*at)-1+Ie),re=(-Mt+P(Mt*Mt-(Ie-1)*Tt*4))/2;return[an(a(1/P(re)),Ie)*i(ie),an(a(P((re/Tt-1)/Ie)),1-Ie)*i(be)]}return[0,an(a(Ze),1-Ie)*i(be)]}(X[0],X[1],vt*vt);return[-G[1],(rt>=0?1:-1)*(.5*mt-G[0])]}function Vt(){return(0,b.Z)(Qn(zn)).scale(151.496)}Jn.invert=function(et,rt){w(et)>1&&(et=2*i(et)-et),w(rt)>1&&(rt=2*i(rt)-rt);var ft=i(et),vt=i(rt),mt=-ft*et,At=-vt*rt,j=At/mt<1,X=function(Ie,He){for(var Ze=0,at=1,Tt=.5,Mt=50;;){var re=Tt*Tt,de=P(Tt),Ce=C(1/P(1+re)),ze=1-re+Tt*(1+re)*Ce,Ve=(1-de)/ze,We=P(Ve),Je=Ve*(1+re),tt=We*(1-re),lt=P(Je-Ie*Ie),dt=He+tt+Tt*lt;if(w(at-Ze)<_||--Mt==0||dt===0)break;dt>0?Ze=Tt:at=Tt,Tt=.5*(Ze+at)}if(!Mt)return null;var Ft=C(de),Ut=y(Ft),qt=1/Ut,nn=2*de*Ut,yn=(-ze*Ut-(-3*Tt+Ce*(1+3*re))*nn*(1-de))/(ze*ze);return[m/4*(Ie*(-2*qt*(.5*yn/We*(1-re)-2*Tt*We*nn)+-qt*nn*lt)+-qt*(Tt*(1+re)*yn+Ve*(1+3*re)*nn)*C(Ie/P(Je))),Ft]}(j?At:mt,j?mt:At),G=X[0],ie=X[1],be=y(ie);return j&&(G=-d-G),[ft*(k(u(G)*be,-u(ie))+m),vt*C(y(G)*be)]},zn.invert=function(et,rt){var ft,vt,mt,At,j,X,G=(v-1)/(v+1),ie=P(1-G*G),be=(vt=-et,mt=ie*ie,(ft=.5*an(d,ie*ie)-rt)?(At=yr(ft,mt),vt?(X=(j=yr(vt,1-mt))[1]*j[1]+mt*At[0]*At[0]*j[0]*j[0],[[At[0]*j[2]/X,At[1]*At[2]*j[0]*j[1]/X],[At[1]*j[1]/X,-At[0]*At[2]*j[0]*j[2]/X],[At[2]*j[1]*j[2]/X,-mt*At[0]*At[1]*j[0]/X]]):[[At[0],0],[At[1],0],[At[2],0]]):[[0,(j=yr(vt,1-mt))[0]/j[1]],[1/j[1],0],[j[2]/j[1],0]]),Ie=function(He,Ze){var at=Ze[0]*Ze[0]+Ze[1]*Ze[1];return[(He[0]*Ze[0]+He[1]*Ze[1])/at,(He[1]*Ze[0]-He[0]*Ze[1])/at]}(be[0],be[1]);return[k(Ie[1],Ie[0])/-1,2*a(f(-.5*t(G*Ie[0]*Ie[0]+G*Ie[1]*Ie[1])))-d]};var en=e(7613);function pn(et){var rt=u(et),ft=y(et),vt=Nn(et);function mt(At,j){var X=vt(At,j);At=X[0],j=X[1];var G=u(j),ie=y(j),be=y(At),Ie=O(rt*G+ft*ie*be),He=u(Ie),Ze=w(He)>h?Ie/He:1;return[Ze*ft*u(At),(w(At)>d?Ze:-Ze)*(rt*ie-ft*G*be)]}return vt.invert=Nn(-et),mt.invert=function(At,j){var X=P(At*At+j*j),G=-u(X),ie=y(X),be=X*ie,Ie=-j*G,He=X*rt,Ze=P(be*be+Ie*Ie-He*He),at=k(be*He+Ie*Ze,Ie*He-be*Ze),Tt=(X>d?-1:1)*k(At*G,X*y(at)*ie+j*u(at)*G);return vt.invert(Tt,at)},mt}function Nn(et){var rt=u(et),ft=y(et);return function(vt,mt){var At=y(mt),j=y(vt)*At,X=u(vt)*At,G=u(mt);return[k(X,j*ft-G*rt),C(G*ft+j*rt)]}}function Fn(){var et=0,rt=(0,b.r)(pn),ft=rt(et),vt=ft.rotate,mt=ft.stream,At=(0,en.Z)();return ft.parallel=function(j){if(!arguments.length)return et*E;var X=ft.rotate();return rt(et=j*A).rotate(X)},ft.rotate=function(j){return arguments.length?(vt.call(ft,[j[0],j[1]-et*E]),At.center([-j[0],-j[1]]),ft):((j=vt.call(ft))[1]+=et*E,j)},ft.stream=function(j){return(j=mt(j)).sphere=function(){j.polygonStart();var X,G=At.radius(89.99)().coordinates[0],ie=G.length-1,be=-1;for(j.lineStart();++be<ie;)j.point((X=G[be])[0],X[1]);for(j.lineEnd(),ie=(G=At.radius(90.01)().coordinates[0]).length-1,j.lineStart();--be>=0;)j.point((X=G[be])[0],X[1]);j.lineEnd(),j.polygonEnd()},j},ft.scale(79.4187).parallel(45).clipAngle(179.999)}var On=e(33064),mn=e(72736),kn=C(1-1/3)*E,vn=nt(0);function xn(et){var rt=kn*A,ft=Dt(m,rt)[0]-Dt(-m,rt)[0],vt=vn(0,rt)[1],mt=Dt(0,rt)[1],At=T-mt,j=c/et,X=4/c,G=vt+At*At*4/c;function ie(be,Ie){var He,Ze=w(Ie);if(Ze>rt){var at=o(et-1,s(0,l((be+m)/j)));(He=Dt(be+=m*(et-1)/et-at*j,Ze))[0]=He[0]*c/ft-c*(et-1)/(2*et)+at*c/et,He[1]=vt+4*(He[1]-mt)*At/c,Ie<0&&(He[1]=-He[1])}else He=vn(be,Ie);return He[0]*=X,He[1]/=G,He}return ie.invert=function(be,Ie){be/=X;var He=w(Ie*=G);if(He>vt){var Ze=o(et-1,s(0,l((be+m)/j)));be=(be+m*(et-1)/et-Ze*j)*ft/c;var at=Dt.invert(be,.25*(He-vt)*c/At+mt);return at[0]-=m*(et-1)/et-Ze*j,Ie<0&&(at[1]=-at[1]),at}return vn.invert(be,Ie)},ie}function En(et,rt){return[et,1&rt?89.999999:kn]}function Vn(et,rt){return[et,1&rt?-89.999999:-kn]}function $n(et){return[.999999*et[0],et[1]]}function rr(){var et=4,rt=(0,b.r)(xn),ft=rt(et),vt=ft.stream;return ft.lobes=function(mt){return arguments.length?rt(et=+mt):et},ft.stream=function(mt){var At=ft.rotate(),j=vt(mt),X=(ft.rotate([0,0]),vt(mt));return ft.rotate(At),j.sphere=function(){var G,ie;(0,mn.Z)((G=180/et,ie=[].concat((0,On.w6)(-180,180+G/2,G).map(En),(0,On.w6)(180,-180-G/2,-G).map(Vn)),{type:"Polygon",coordinates:[G===180?ie.map($n):ie]}),X)},j},ft.scale(239.75)}function er(et){var rt,ft=1+et,vt=C(u(1/ft)),mt=2*P(m/(rt=m+4*vt*ft)),At=.5*mt*(ft+P(et*(2+et))),j=et*et,X=ft*ft;function G(ie,be){var Ie,He,Ze=1-u(be);if(Ze&&Ze<2){var at,Tt=d-be,Mt=25;do{var re=u(Tt),de=y(Tt),Ce=vt+k(re,ft-de),ze=1+X-2*ft*de;Tt-=at=(Tt-j*vt-ft*re+ze*Ce-.5*Ze*rt)/(2*ft*re*Ce)}while(w(at)>_&&--Mt>0);Ie=mt*P(ze),He=ie*Ce/m}else Ie=mt*(et+Ze),He=ie*vt/m;return[Ie*u(He),At-Ie*y(He)]}return G.invert=function(ie,be){var Ie=ie*ie+(be-=At)*be,He=(1+X-Ie/(mt*mt))/(2*ft),Ze=O(He),at=u(Ze),Tt=vt+k(at,ft-He);return[C(ie/P(Ie))*m/Tt,C(1-2*(Ze-j*vt-ft*at+(1+X-2*ft*He)*Tt)/rt)]},G}function pr(){var et=1,rt=(0,b.r)(er),ft=rt(et);return ft.ratio=function(vt){return arguments.length?rt(et=+vt):et},ft.scale(167.774).center([0,18.67])}var fr=.7109889596207567,vr=.0528035274542;function mr(et,rt){return rt>-fr?((et=Me(et,rt))[1]+=vr,et):Be(et,rt)}function br(){return(0,b.Z)(mr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Or(et,rt){return w(rt)>fr?((et=Me(et,rt))[1]-=rt>0?vr:-vr,et):Be(et,rt)}function Lr(){return(0,b.Z)(Or).scale(152.63)}function Tr(et,rt,ft,vt){var mt=P(4*m/(2*ft+(1+et-rt/2)*u(2*ft)+(et+rt)/2*u(4*ft)+rt/2*u(6*ft))),At=P(vt*u(ft)*P((1+et*y(2*ft)+rt*y(4*ft))/(1+et+rt))),j=ft*G(1);function X(Ie){return P(1+et*y(2*Ie)+rt*y(4*Ie))}function G(Ie){var He=Ie*ft;return(2*He+(1+et-rt/2)*u(2*He)+(et+rt)/2*u(4*He)+rt/2*u(6*He))/ft}function ie(Ie){return X(Ie)*u(Ie)}var be=function(Ie,He){var Ze=ft*ve(G,j*u(He)/ft,He/m);isNaN(Ze)&&(Ze=ft*i(He));var at=mt*X(Ze);return[at*At*Ie/m*y(Ze),at/At*u(Ze)]};return be.invert=function(Ie,He){var Ze=ve(ie,He*At/mt);return[Ie*m/(y(Ze)*mt*At*X(Ze)),C(ft*G(Ze/ft)/j)]},ft===0&&(mt=P(vt/m),(be=function(Ie,He){return[Ie*mt,u(He)/mt]}).invert=function(Ie,He){return[Ie/mt,C(He*mt)]}),be}function dr(){var et=1,rt=0,ft=45*A,vt=2,mt=(0,b.r)(Tr),At=mt(et,rt,ft,vt);return At.a=function(j){return arguments.length?mt(et=+j,rt,ft,vt):et},At.b=function(j){return arguments.length?mt(et,rt=+j,ft,vt):rt},At.psiMax=function(j){return arguments.length?mt(et,rt,ft=+j*A,vt):ft*E},At.ratio=function(j){return arguments.length?mt(et,rt,ft,vt=+j):vt},At.scale(180.739)}function Pr(et,rt,ft,vt,mt,At,j,X,G,ie,be){if(be.nanEncountered)return NaN;var Ie,He,Ze,at,Tt,Mt,re,de,Ce,ze;if(He=et(rt+.25*(Ie=ft-rt)),Ze=et(ft-.25*Ie),isNaN(He))be.nanEncountered=!0;else{if(!isNaN(Ze))return ze=((Mt=(at=Ie*(vt+4*He+mt)/12)+(Tt=Ie*(mt+4*Ze+At)/12))-j)/15,ie>G?(be.maxDepthCount++,Mt+ze):Math.abs(ze)<X?Mt+ze:(de=Pr(et,rt,re=rt+.5*Ie,vt,He,mt,at,.5*X,G,ie+1,be),isNaN(de)?(be.nanEncountered=!0,NaN):(Ce=Pr(et,re,ft,mt,Ze,At,Tt,.5*X,G,ie+1,be),isNaN(Ce)?(be.nanEncountered=!0,NaN):de+Ce));be.nanEncountered=!0}}function Xr(et,rt,ft,vt,mt){vt===void 0&&(vt=1e-8),mt===void 0&&(mt=20);var At=et(rt),j=et(.5*(rt+ft)),X=et(ft);return Pr(et,rt,ft,At,j,X,(At+4*j+X)*(ft-rt)/6,vt,mt,1,{maxDepthCount:0,nanEncountered:!1})}function gi(et,rt,ft){function vt(Ze){return et+(1-et)*n(1-n(Ze,rt),1/rt)}function mt(Ze){return Xr(vt,0,Ze,1e-4)}for(var At=1/mt(1),j=1e3,X=1.00000001*At,G=[],ie=0;ie<=j;ie++)G.push(mt(ie/j)*X);function be(Ze){var at=0,Tt=j,Mt=500;do G[Mt]>Ze?Tt=Mt:at=Mt,Mt=at+Tt>>1;while(Mt>at);var re=G[Mt+1]-G[Mt];return re&&(re=(Ze-G[Mt+1])/re),(Mt+1+re)/j}var Ie=2*be(1)/m*At/ft,He=function(Ze,at){var Tt=be(w(u(at))),Mt=vt(Tt)*Ze;return Tt/=Ie,[Mt,at>=0?Tt:-Tt]};return He.invert=function(Ze,at){var Tt;return w(at*=Ie)<1&&(Tt=i(at)*C(mt(w(at))*At)),[Ze/vt(w(at)),Tt]},He}function Ii(){var et=0,rt=2.5,ft=1.183136,vt=(0,b.r)(gi),mt=vt(et,rt,ft);return mt.alpha=function(At){return arguments.length?vt(et=+At,rt,ft):et},mt.k=function(At){return arguments.length?vt(et,rt=+At,ft):rt},mt.gamma=function(At){return arguments.length?vt(et,rt,ft=+At):ft},mt.scale(152.63)}function Ri(et,rt){return w(et[0]-rt[0])<h&&w(et[1]-rt[1])<h}function ra(et,rt){for(var ft,vt,mt,At=-1,j=et.length,X=et[0],G=[];++At<j;){vt=((ft=et[At])[0]-X[0])/rt,mt=(ft[1]-X[1])/rt;for(var ie=0;ie<rt;++ie)G.push([X[0]+ie*vt,X[1]+ie*mt]);X=ft}return G.push(ft),G}function Oi(et){var rt,ft,vt,mt,At,j,X,G=[],ie=et[0].length;for(X=0;X<ie;++X)ft=(rt=et[0][X])[0][0],vt=rt[0][1],mt=rt[1][1],At=rt[2][0],j=rt[2][1],G.push(ra([[ft+h,vt+h],[ft+h,mt-h],[At-h,mt-h],[At-h,j+h]],30));for(X=et[1].length-1;X>=0;--X)ft=(rt=et[1][X])[0][0],vt=rt[0][1],mt=rt[1][1],At=rt[2][0],j=rt[2][1],G.push(ra([[At-h,j-h],[At-h,mt+h],[ft+h,mt+h],[ft+h,vt-h]],30));return{type:"Polygon",coordinates:[(0,On.TS)(G)]}}function ki(et,rt,ft){var vt,mt;function At(G,ie){for(var be=ie<0?-1:1,Ie=rt[+(ie<0)],He=0,Ze=Ie.length-1;He<Ze&&G>Ie[He][2][0];++He);var at=et(G-Ie[He][1][0],ie);return at[0]+=et(Ie[He][1][0],be*ie>be*Ie[He][0][1]?Ie[He][0][1]:ie)[0],at}ft?At.invert=ft(At):et.invert&&(At.invert=function(G,ie){for(var be=mt[+(ie<0)],Ie=rt[+(ie<0)],He=0,Ze=be.length;He<Ze;++He){var at=be[He];if(at[0][0]<=G&&G<at[1][0]&&at[0][1]<=ie&&ie<at[1][1]){var Tt=et.invert(G-et(Ie[He][1][0],0)[0],ie);return Tt[0]+=Ie[He][1][0],Ri(At(Tt[0],Tt[1]),[G,ie])?Tt:null}}});var j=(0,b.Z)(At),X=j.stream;return j.stream=function(G){var ie=j.rotate(),be=X(G),Ie=(j.rotate([0,0]),X(G));return j.rotate(ie),be.sphere=function(){(0,mn.Z)(vt,Ie)},be},j.lobes=function(G){return arguments.length?(vt=Oi(G),rt=G.map(function(ie){return ie.map(function(be){return[[be[0][0]*A,be[0][1]*A],[be[1][0]*A,be[1][1]*A],[be[2][0]*A,be[2][1]*A]]})}),mt=rt.map(function(ie){return ie.map(function(be){var Ie,He=et(be[0][0],be[0][1])[0],Ze=et(be[2][0],be[2][1])[0],at=et(be[1][0],be[0][1])[1],Tt=et(be[1][0],be[1][1])[1];return at>Tt&&(Ie=at,at=Tt,Tt=Ie),[[He,at],[Ze,Tt]]})}),j):rt.map(function(ie){return ie.map(function(be){return[[be[0][0]*E,be[0][1]*E],[be[1][0]*E,be[1][1]*E],[be[2][0]*E,be[2][1]*E]]})})},rt!=null&&j.lobes(rt),j}mr.invert=function(et,rt){return rt>-fr?Me.invert(et,rt-vr):Be.invert(et,rt)},Or.invert=function(et,rt){return w(rt)>fr?Me.invert(et,rt+(rt>0?vr:-vr)):Be.invert(et,rt)};var Pa=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ia(){return ki(ge,Pa).scale(160.857)}var Wo=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function us(){return ki(Or,Wo).scale(152.63)}var yu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function $l(){return ki(Me,yu).scale(169.529)}var nl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function La(){return ki(Me,nl).scale(169.529).rotate([20,0])}var xl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function ua(){return ki(mr,xl,fe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var bl=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Va(){return ki(Be,bl).scale(152.63).rotate([-20,0])}function Ha(et,rt){return[3/c*et*P(m*m/3-rt*rt),rt]}function cs(){return(0,b.Z)(Ha).scale(158.837)}function xi(et){function rt(ft,vt){if(w(w(vt)-d)<h)return[0,vt<0?-2:2];var mt=u(vt),At=n((1+mt)/(1-mt),et/2),j=.5*(At+1/At)+y(ft*=et);return[2*u(ft)/j,(At-1/At)/j]}return rt.invert=function(ft,vt){var mt=w(vt);if(w(mt-2)<h)return ft?null:[0,i(vt)*d];if(mt>2)return null;var At=(ft/=2)*ft,j=(vt/=2)*vt,X=2*vt/(1+At+j);return X=n((1+X)/(1-X),1/et),[k(2*ft,1-At-j)/et,C((X-1)/(X+1))]},rt}function fs(){var et=.5,rt=(0,b.r)(xi),ft=rt(et);return ft.spacing=function(vt){return arguments.length?rt(et=+vt):et},ft.scale(124.75)}Ha.invert=function(et,rt){return[c/3*et/P(m*m/3-rt*rt),rt]};var co=m/v;function To(et,rt){return[et*(1+P(y(rt)))/2,rt/(y(rt/2)*y(et/6))]}function Ao(){return(0,b.Z)(To).scale(97.2672)}function _l(et,rt){var ft=et*et,vt=rt*rt;return[et*(.975534+vt*(-.0143059*ft-.119161+-.0547009*vt)),rt*(1.00384+ft*(.0802894+-.02855*vt+199025e-9*ft)+vt*(.0998909+-.0491032*vt))]}function Ps(){return(0,b.Z)(_l).scale(139.98)}function Go(et,rt){return[u(et)/y(rt),p(rt)*y(et)]}function zl(){return(0,b.Z)(Go).scale(144.049).clipAngle(89.999)}function xu(et){var rt=y(et),ft=p(x+et/2);function vt(mt,At){var j=At-et,X=w(j)<h?mt*rt:w(X=x+At/2)<h||w(w(X)-d)<h?0:mt*j/t(p(X)/ft);return[X,j]}return vt.invert=function(mt,At){var j,X=At+et;return[w(At)<h?mt/rt:w(j=x+X/2)<h||w(w(j)-d)<h?0:mt*t(p(j)/ft)/At,X]},vt}function Ql(){return Ee(xu).parallel(40).scale(158.837)}function eu(et,rt){return[et,1.25*t(p(x+.4*rt))]}function bu(){return(0,b.Z)(eu).scale(108.318)}function tu(et){var rt=et.length-1;function ft(vt,mt){for(var At,j=y(mt),X=2/(1+j*y(vt)),G=X*j*u(vt),ie=X*u(mt),be=rt,Ie=et[be],He=Ie[0],Ze=Ie[1];--be>=0;)He=(Ie=et[be])[0]+G*(At=He)-ie*Ze,Ze=Ie[1]+G*Ze+ie*At;return[He=G*(At=He)-ie*Ze,Ze=G*Ze+ie*At]}return ft.invert=function(vt,mt){var At=20,j=vt,X=mt;do{for(var G,ie=rt,be=et[ie],Ie=be[0],He=be[1],Ze=0,at=0;--ie>=0;)Ze=Ie+j*(G=Ze)-X*at,at=He+j*at+X*G,Ie=(be=et[ie])[0]+j*(G=Ie)-X*He,He=be[1]+j*He+X*G;var Tt,Mt,re=(Ze=Ie+j*(G=Ze)-X*at)*Ze+(at=He+j*at+X*G)*at;j-=Tt=((Ie=j*(G=Ie)-X*He-vt)*Ze+(He=j*He+X*G-mt)*at)/re,X-=Mt=(He*Ze-Ie*at)/re}while(w(Tt)+w(Mt)>1e-12&&--At>0);if(At){var de=P(j*j+X*X),Ce=2*a(.5*de),ze=u(Ce);return[k(j*ze,de*y(Ce)),de?C(X*ze/de):0]}},ft}To.invert=function(et,rt){var ft=w(et),vt=w(rt),mt=h,At=d;vt<co?At*=vt/co:mt+=6*O(co/vt);for(var j=0;j<25;j++){var X=u(At),G=P(y(At)),ie=u(At/2),be=y(At/2),Ie=u(mt/6),He=y(mt/6),Ze=.5*mt*(1+G)-ft,at=At/(be*He)-vt,Tt=G?-.25*mt*X/G:0,Mt=.5*(1+G),re=(1+.5*At*ie/be)/(be*He),de=At/be*(Ie/6)/(He*He),Ce=Tt*de-re*Mt,ze=(Ze*de-at*Mt)/Ce,Ve=(at*Tt-Ze*re)/Ce;if(At-=ze,mt-=Ve,w(ze)<h&&w(Ve)<h)break}return[et<0?-mt:mt,rt<0?-At:At]},_l.invert=function(et,rt){var ft=i(et)*m,vt=rt/2,mt=50;do{var At=ft*ft,j=vt*vt,X=ft*vt,G=ft*(.975534+j*(-.0143059*At-.119161+-.0547009*j))-et,ie=vt*(1.00384+At*(.0802894+-.02855*j+199025e-9*At)+j*(.0998909+-.0491032*j))-rt,be=.975534-j*(.119161+3*At*.0143059+.0547009*j),Ie=-X*(.238322+.2188036*j+.0286118*At),He=X*(.1605788+7961e-7*At+-.0571*j),Ze=1.00384+At*(.0802894+199025e-9*At)+j*(3*(.0998909-.02855*At)-.245516*j),at=Ie*He-Ze*be,Tt=(ie*Ie-G*Ze)/at,Mt=(G*He-ie*be)/at;ft-=Tt,vt-=Mt}while((w(Tt)>h||w(Mt)>h)&&--mt>0);return mt&&[ft,vt]},Go.invert=function(et,rt){var ft=et*et,vt=rt*rt+1,mt=ft+vt,At=et?g*P((mt-P(mt*mt-4*ft))/ft):1/P(vt);return[C(et*At),i(rt)*O(At)]},eu.invert=function(et,rt){return[et,2.5*a(f(.8*rt))-.625*m]};var Yo=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ro=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],rl=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],zo=[[.9245,0],[0,0],[.01943,0]],Bi=[[.721316,0],[0,0],[-.00881625,-.00617325]];function nu(){return Ds(Yo,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Is(){return Ds(Ro,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function wl(){return Ds(rl,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function ps(){return Ds(zo,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function il(){return Ds(Bi,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ds(et,rt){var ft=(0,b.Z)(tu(et)).rotate(rt).clipAngle(90),vt=(0,ot.Z)(rt),mt=ft.center;return delete ft.rotate,ft.center=function(At){return arguments.length?mt(vt(At)):vt.invert(mt())},ft}var Qa=P(6),bi=P(7);function hs(et,rt){var ft=C(7*u(rt)/(3*Qa));return[Qa*et*(2*y(2*ft/3)-1)/bi,9*u(ft/3)/bi]}function Nu(){return(0,b.Z)(hs).scale(164.859)}function Rs(et,rt){for(var ft,vt=(1+g)*u(rt),mt=rt,At=0;At<25&&(mt-=ft=(u(mt/2)+u(mt)-vt)/(.5*y(mt/2)+y(mt)),!(w(ft)<h));At++);return[et*(1+2*y(mt)/y(mt/2))/(3*v),2*P(3)*u(mt/2)/P(2+v)]}function ds(){return(0,b.Z)(Rs).scale(188.209)}function Zo(et,rt){for(var ft,vt=P(6/(4+m)),mt=(1+m/4)*u(rt),At=rt/2,j=0;j<25&&(At-=ft=(At/2+u(At)-mt)/(.5+y(At)),!(w(ft)<h));j++);return[vt*(.5+y(At))*et/1.5,vt*At]}function al(){return(0,b.Z)(Zo).scale(166.518)}hs.invert=function(et,rt){var ft=3*C(rt*bi/9);return[et*bi/(Qa*(2*y(2*ft/3)-1)),C(3*u(ft)*Qa/7)]},Rs.invert=function(et,rt){var ft=rt*P(2+v)/(2*P(3)),vt=2*C(ft);return[3*v*et/(1+2*y(vt)/y(vt/2)),C((ft+u(vt))/(1+g))]},Zo.invert=function(et,rt){var ft=P(6/(4+m)),vt=rt/ft;return w(w(vt)-d)<h&&(vt=vt<0?-d:d),[1.5*et/(ft*(.5+y(vt))),C((vt/2+u(vt))/(1+m/4))]};var eo=e(26867);function ru(et,rt){var ft=rt*rt,vt=ft*ft,mt=ft*vt;return[et*(.84719-.13063*ft+mt*mt*(.05494*ft-.04515-.02326*vt+.00331*mt)),rt*(1.01183+vt*vt*(.01926*ft-.02625-.00396*vt))]}function zs(){return(0,b.Z)(ru).scale(175.295)}function gs(et,rt){return[et*(1+y(rt))/2,2*(rt-p(rt/2))]}function Fs(){return(0,b.Z)(gs).scale(152.63)}ru.invert=function(et,rt){var ft,vt,mt,At,j=rt,X=25;do j-=ft=(j*(1.01183+(mt=(vt=j*j)*vt)*mt*(.01926*vt-.02625-.00396*mt))-rt)/(1.01183+mt*mt*(.21186*vt-.23625+-.05148*mt));while(w(ft)>_&&--X>0);return[et/(.84719-.13063*(vt=j*j)+(At=vt*(mt=vt*vt))*At*(.05494*vt-.04515-.02326*mt+.00331*At)),j]},gs.invert=function(et,rt){for(var ft=rt/2,vt=0,mt=1/0;vt<10&&w(mt)>h;++vt){var At=y(rt/2);rt-=mt=(rt-p(rt/2)-ft)/(1-.5/(At*At))}return[2*et/(1+y(rt)),rt]};var Ns=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Bs(){return ki(ce(1/0),Ns).rotate([20,0]).scale(152.63)}function ol(et,rt){var ft=u(rt),vt=y(rt),mt=i(et);if(et===0||w(rt)===d)return[0,rt];if(rt===0)return[et,0];if(w(et)===d)return[et*vt,d*ft];var At=m/(2*et)-2*et/m,j=2*rt/m,X=(1-j*j)/(ft-j),G=At*At,ie=X*X,be=1+G/ie,Ie=1+ie/G,He=(At*ft/X-At/2)/be,Ze=(ie*ft/G+X/2)/Ie,at=Ze*Ze-(ie*ft*ft/G+X*ft-1)/Ie;return[d*(He+P(He*He+vt*vt/be)*mt),d*(Ze+P(at<0?0:at)*i(-rt*At)*mt)]}function kl(){return(0,b.Z)(ol).scale(127.267)}ol.invert=function(et,rt){var ft=(et/=d)*et,vt=ft+(rt/=d)*rt,mt=m*m;return[et?(vt-1+P((1-vt)*(1-vt)+4*ft))/(2*et)*d:0,ve(function(At){return vt*(m*u(At)-2*At)*m+4*At*At*(rt-u(At))+2*m*At-mt*rt},0)]};var Tl=1.0148,fo=.23185,Al=-.14499,Ml=.02406,iu=1.790857183;function ms(et,rt){var ft=rt*rt;return[et,rt*(Tl+ft*ft*(fo+ft*(Al+Ml*ft)))]}function Sl(){return(0,b.Z)(ms).scale(139.319)}function El(et,rt){if(w(rt)<h)return[et,0];var ft=p(rt),vt=et*u(rt);return[u(vt)/ft,rt+(1-y(vt))/ft]}function au(){return(0,b.Z)(El).scale(103.74)}ms.invert=function(et,rt){rt>iu?rt=iu:rt<-1.790857183&&(rt=-1.790857183);var ft,vt=rt;do{var mt=vt*vt;vt-=ft=(vt*(Tl+mt*mt*(fo+mt*(Al+Ml*mt)))-rt)/(1.0148+mt*mt*(1.1592500000000001+mt*(.21654*mt-1.01493)))}while(w(ft)>h);return[et,vt]},El.invert=function(et,rt){if(w(rt)<h)return[et,0];var ft,vt=et*et+rt*rt,mt=.5*rt,At=10;do{var j=p(mt),X=1/y(mt),G=vt-2*rt*mt+mt*mt;mt-=ft=(j*G+2*(mt-rt))/(2+G*X*X+2*(mt-rt)*j)}while(w(ft)>h&&--At>0);return j=p(mt),[(w(rt)<w(mt+1/j)?C(et*j):i(rt)*i(et)*(O(w(et*j))+d))/u(mt),mt]};var Ia=e(77338),po=e(83074);function vs(et,rt){return[et[0]*rt[0]+et[1]*rt[3],et[0]*rt[1]+et[1]*rt[4],et[0]*rt[2]+et[1]*rt[5]+et[2],et[3]*rt[0]+et[4]*rt[3],et[3]*rt[1]+et[4]*rt[4],et[3]*rt[2]+et[4]*rt[5]+et[5]]}function js(et,rt){return[et[0]-rt[0],et[1]-rt[1]]}function Mi(et){return P(et[0]*et[0]+et[1]*et[1])}function Xo(et,rt,ft){function vt(X,G){var ie,be=rt(X,G),Ie=be.project([X*E,G*E]);return(ie=be.transform)?[ie[0]*Ie[0]+ie[1]*Ie[1]+ie[2],-(ie[3]*Ie[0]+ie[4]*Ie[1]+ie[5])]:(Ie[1]=-Ie[1],Ie)}function mt(X,G){var ie=X.project.invert,be=X.transform,Ie=G;if(be&&(be=function(Mt){var re=1/(Mt[0]*Mt[4]-Mt[1]*Mt[3]);return[re*Mt[4],-re*Mt[1],re*(Mt[1]*Mt[5]-Mt[2]*Mt[4]),-re*Mt[3],re*Mt[0],re*(Mt[2]*Mt[3]-Mt[0]*Mt[5])]}(be),Ie=[be[0]*Ie[0]+be[1]*Ie[1]+be[2],be[3]*Ie[0]+be[4]*Ie[1]+be[5]]),ie&&X===function(Mt){return rt(Mt[0]*A,Mt[1]*A)}(He=ie(Ie)))return He;for(var He,Ze=X.children,at=0,Tt=Ze&&Ze.length;at<Tt;++at)if(He=mt(Ze[at],G))return He}(function X(G,ie){if(G.edges=function(Ve){for(var We=Ve.length,Je=[],tt=Ve[We-1],lt=0;lt<We;++lt)Je.push([tt,tt=Ve[lt]]);return Je}(G.face),ie.face){var be=G.shared=function(Ve,We){for(var Je,tt,lt=Ve.length,dt=null,Ft=0;Ft<lt;++Ft){Je=Ve[Ft];for(var Ut=We.length;--Ut>=0;)if(tt=We[Ut],Je[0]===tt[0]&&Je[1]===tt[1]){if(dt)return[dt,Je];dt=Je}}}(G.face,ie.face),Ie=(Tt=be.map(ie.project),Mt=be.map(G.project),re=js(Tt[1],Tt[0]),de=js(Mt[1],Mt[0]),Ce=function(Ve,We){return k(Ve[0]*We[1]-Ve[1]*We[0],Ve[0]*We[0]+Ve[1]*We[1])}(re,de),ze=Mi(re)/Mi(de),vs([1,0,Tt[0][0],0,1,Tt[0][1]],vs([ze,0,0,0,ze,0],vs([y(Ce),u(Ce),0,-u(Ce),y(Ce),0],[1,0,-Mt[0][0],0,1,-Mt[0][1]]))));G.transform=ie.transform?vs(ie.transform,Ie):Ie;for(var He=ie.edges,Ze=0,at=He.length;Ze<at;++Ze)wa(be[0],He[Ze][1])&&wa(be[1],He[Ze][0])&&(He[Ze]=G),wa(be[0],He[Ze][0])&&wa(be[1],He[Ze][1])&&(He[Ze]=G);for(Ze=0,at=(He=G.edges).length;Ze<at;++Ze)wa(be[0],He[Ze][0])&&wa(be[1],He[Ze][1])&&(He[Ze]=ie),wa(be[0],He[Ze][1])&&wa(be[1],He[Ze][0])&&(He[Ze]=ie)}else G.transform=ie.transform;var Tt,Mt,re,de,Ce,ze;return G.children&&G.children.forEach(function(Ve){X(Ve,G)}),G})(et,{transform:null}),hi(et)&&(vt.invert=function(X,G){var ie=mt(et,[X,-G]);return ie&&(ie[0]*=A,ie[1]*=A,ie)});var At=(0,b.Z)(vt),j=At.stream;return At.stream=function(X){var G=At.rotate(),ie=j(X),be=(At.rotate([0,0]),j(X));return At.rotate(G),ie.sphere=function(){be.polygonStart(),be.lineStart(),ys(be,et),be.lineEnd(),be.polygonEnd()},ie},At.angle(ft==null?-30:ft*E)}function ys(et,rt,ft){var vt,mt,At=rt.edges,j=At.length,X={type:"MultiPoint",coordinates:rt.face},G=rt.face.filter(function(Tt){return w(Tt[1])!==90}),ie=(0,Ia.Z)({type:"MultiPoint",coordinates:G}),be=!1,Ie=-1,He=ie[1][0]-ie[0][0],Ze=He===180||He===360?[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2]:(0,Ge.Z)(X);if(ft)for(;++Ie<j&&At[Ie]!==ft;);++Ie;for(var at=0;at<j;++at)mt=At[(at+Ie)%j],Array.isArray(mt)?(be||(et.point((vt=(0,po.Z)(mt[0],Ze)(h))[0],vt[1]),be=!0),et.point((vt=(0,po.Z)(mt[1],Ze)(h))[0],vt[1])):(be=!1,mt!==ft&&ys(et,mt,rt))}function wa(et,rt){return et&&rt&&et[0]===rt[0]&&et[1]===rt[1]}function hi(et){return et.project.invert||et.children&&et.children.some(hi)}var mi=e(98936),Jo=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Fo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(et){return et.map(function(rt){return Jo[rt]})});function Fl(et){et=et||function(ft){var vt=(0,Ge.Z)({type:"MultiPoint",coordinates:ft});return(0,mi.Z)().scale(1).translate([0,0]).rotate([-vt[0],-vt[1]])};var rt=Fo.map(function(ft){return{face:ft,project:et(ft)}});return[-1,0,0,1,0,1,4,5].forEach(function(ft,vt){var mt=rt[ft];mt&&(mt.children||(mt.children=[])).push(rt[vt])}),Xo(rt[0],function(ft,vt){return rt[ft<-m/2?vt<0?6:4:ft<0?vt<0?2:0:ft<m/2?vt<0?3:1:vt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ou=2/P(3);function Us(et,rt){var ft=Dt(et,rt);return[ft[0]*ou,ft[1]]}function su(et){et=et||function(ft){var vt=(0,Ge.Z)({type:"MultiPoint",coordinates:ft});return(0,b.Z)(Us).translate([0,0]).scale(1).rotate(vt[1]>0?[-vt[0],0]:[180-vt[0],180])};var rt=Fo.map(function(ft){return{face:ft,project:et(ft)}});return[-1,0,0,1,0,1,4,5].forEach(function(ft,vt){var mt=rt[ft];mt&&(mt.children||(mt.children=[])).push(rt[vt])}),Xo(rt[0],function(ft,vt){return rt[ft<-m/2?vt<0?6:4:ft<0?vt<0?2:0:ft<m/2?vt<0?3:1:vt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Vs(et){et=et||function(At){var j=At.length===6?(0,Ge.Z)({type:"MultiPoint",coordinates:At}):At[0];return(0,mi.Z)().scale(1).translate([0,0]).rotate([-j[0],-j[1]])};var rt=Fo.map(function(At){for(var j,X=At.map(ji),G=X.length,ie=X[G-1],be=[],Ie=0;Ie<G;++Ie)j=X[Ie],be.push(Hs([.9486832980505138*ie[0]+.31622776601683794*j[0],.9486832980505138*ie[1]+.31622776601683794*j[1],.9486832980505138*ie[2]+.31622776601683794*j[2]]),Hs([.9486832980505138*j[0]+.31622776601683794*ie[0],.9486832980505138*j[1]+.31622776601683794*ie[1],.9486832980505138*j[2]+.31622776601683794*ie[2]])),ie=j;return be}),ft=[],vt=[-1,0,0,1,0,1,4,5];rt.forEach(function(At,j){for(var X,G,ie=Fo[j],be=ie.length,Ie=ft[j]=[],He=0;He<be;++He)rt.push([ie[He],At[(2*He+2)%(2*be)],At[(2*He+1)%(2*be)]]),vt.push(j),Ie.push((X=ji(At[(2*He+2)%(2*be)]),G=ji(At[(2*He+1)%(2*be)]),[X[1]*G[2]-X[2]*G[1],X[2]*G[0]-X[0]*G[2],X[0]*G[1]-X[1]*G[0]]))});var mt=rt.map(function(At){return{project:et(At),face:At}});return vt.forEach(function(At,j){var X=mt[At];X&&(X.children||(X.children=[])).push(mt[j])}),Xo(mt[0],function(At,j){var X=y(j),G=[X*y(At),X*u(At),u(j)],ie=At<-m/2?j<0?6:4:At<0?j<0?2:0:At<m/2?j<0?3:1:j<0?7:5,be=ft[ie];return mt[Ko(be[0],G)<0?8+3*ie:Ko(be[1],G)<0?8+3*ie+1:Ko(be[2],G)<0?8+3*ie+2:ie]}).angle(-30).scale(110.625).center([0,45])}function Ko(et,rt){for(var ft=0,vt=et.length,mt=0;ft<vt;++ft)mt+=et[ft]*rt[ft];return mt}function Hs(et){return[k(et[1],et[0])*E,C(s(-1,o(1,et[2])))*E]}function ji(et){var rt=et[0]*A,ft=et[1]*A,vt=y(ft);return[vt*y(rt),vt*u(rt),u(ft)]}function No(){}function qs(et,rt){var ft,vt=rt.stream;if(!vt)throw new Error("invalid projection");switch(et&&et.type){case"Feature":ft=ca;break;case"FeatureCollection":ft=aa;break;default:ft=ka}return ft(et,vt)}function aa(et,rt){return{type:"FeatureCollection",features:et.features.map(function(ft){return ca(ft,rt)})}}function ca(et,rt){return{type:"Feature",id:et.id,properties:et.properties,geometry:ka(et.geometry,rt)}}function ka(et,rt){if(!et)return null;if(et.type==="GeometryCollection")return function(vt,mt){return{type:"GeometryCollection",geometries:vt.geometries.map(function(At){return ka(At,mt)})}}(et,rt);var ft;switch(et.type){case"Point":case"MultiPoint":ft=xs;break;case"LineString":case"MultiLineString":ft=ho;break;case"Polygon":case"MultiPolygon":case"Sphere":ft=fa;break;default:return null}return(0,mn.Z)(et,rt(ft)),ft.result()}Us.invert=function(et,rt){return Dt.invert(et/ou,rt)};var va=[],Da=[],xs={point:function(et,rt){va.push([et,rt])},result:function(){var et=va.length?va.length<2?{type:"Point",coordinates:va[0]}:{type:"MultiPoint",coordinates:va}:null;return va=[],et}},ho={lineStart:No,point:function(et,rt){va.push([et,rt])},lineEnd:function(){va.length&&(Da.push(va),va=[])},result:function(){var et=Da.length?Da.length<2?{type:"LineString",coordinates:Da[0]}:{type:"MultiLineString",coordinates:Da}:null;return Da=[],et}},fa={polygonStart:No,lineStart:No,point:function(et,rt){va.push([et,rt])},lineEnd:function(){var et=va.length;if(et){do va.push(va[0].slice());while(++et<4);Da.push(va),va=[]}},polygonEnd:No,result:function(){if(!Da.length)return null;var et=[],rt=[];return Da.forEach(function(ft){(function(vt){if((mt=vt.length)<4)return!1;for(var mt,At=0,j=vt[mt-1][1]*vt[0][0]-vt[mt-1][0]*vt[0][1];++At<mt;)j+=vt[At-1][1]*vt[At][0]-vt[At-1][0]*vt[At][1];return j<=0})(ft)?et.push([ft]):rt.push(ft)}),rt.forEach(function(ft){var vt=ft[0];et.some(function(mt){if(function(At,j){for(var X=j[0],G=j[1],ie=!1,be=0,Ie=At.length,He=Ie-1;be<Ie;He=be++){var Ze=At[be],at=Ze[0],Tt=Ze[1],Mt=At[He],re=Mt[0],de=Mt[1];Tt>G^de>G&&X<(re-at)*(G-Tt)/(de-Tt)+at&&(ie=!ie)}return ie}(mt[0],vt))return mt.push(ft),!0})||et.push([ft])}),Da=[],et.length?et.length>1?{type:"MultiPolygon",coordinates:et}:{type:"Polygon",coordinates:et[0]}:null}};function qa(et){var rt=et(d,0)[0]-et(-d,0)[0];function ft(vt,mt){var At=w(vt)<d,j=et(At?vt:vt>0?vt-m:vt+m,mt),X=(j[0]-j[1])*g,G=(j[0]+j[1])*g;if(At)return[X,G];var ie=rt*g,be=X>0^G>0?-1:1;return[be*X-i(G)*ie,be*G-i(X)*ie]}return et.invert&&(ft.invert=function(vt,mt){var At=(vt+mt)*g,j=(mt-vt)*g,X=w(At)<.5*rt&&w(j)<.5*rt;if(!X){var G=rt*g,ie=At>0^j>0?-1:1,be=-ie*vt+(j>0?1:-1)*G,Ie=-ie*mt+(At>0?1:-1)*G;At=(-be-Ie)*g,j=(be-Ie)*g}var He=et.invert(At,j);return X||(He[0]+=At>0?m:-m),He}),(0,b.Z)(ft).rotate([-90,-90,45]).clipAngle(179.999)}function Nl(){return qa(Jn).scale(176.423)}function Cl(){return qa(zn).scale(111.48)}function Ta(et,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function ft(ie){var be=ie.length,Ie=2,He=new Array(be);for(He[0]=+ie[0].toFixed(rt),He[1]=+ie[1].toFixed(rt);Ie<be;)He[Ie]=ie[Ie],++Ie;return He}function vt(ie){return ie.map(ft)}function mt(ie){for(var be=ft(ie[0]),Ie=[be],He=1;He<ie.length;He++){var Ze=ft(ie[He]);(Ze.length>2||Ze[0]!=be[0]||Ze[1]!=be[1])&&(Ie.push(Ze),be=Ze)}return Ie.length===1&&ie.length>1&&Ie.push(ft(ie[ie.length-1])),Ie}function At(ie){return ie.map(mt)}function j(ie){if(ie==null)return ie;var be;switch(ie.type){case"GeometryCollection":be={type:"GeometryCollection",geometries:ie.geometries.map(j)};break;case"Point":be={type:"Point",coordinates:ft(ie.coordinates)};break;case"MultiPoint":be={type:ie.type,coordinates:vt(ie.coordinates)};break;case"LineString":be={type:ie.type,coordinates:mt(ie.coordinates)};break;case"MultiLineString":case"Polygon":be={type:ie.type,coordinates:At(ie.coordinates)};break;case"MultiPolygon":be={type:"MultiPolygon",coordinates:ie.coordinates.map(At)};break;default:return ie}return ie.bbox!=null&&(be.bbox=ie.bbox),be}function X(ie){var be={type:"Feature",properties:ie.properties,geometry:j(ie.geometry)};return ie.id!=null&&(be.id=ie.id),ie.bbox!=null&&(be.bbox=ie.bbox),be}if(et!=null)switch(et.type){case"Feature":return X(et);case"FeatureCollection":var G={type:"FeatureCollection",features:et.features.map(X)};return et.bbox!=null&&(G.bbox=et.bbox),G;default:return j(et)}return et}function Ir(et){var rt=u(et);function ft(vt,mt){var At=rt?p(vt*rt/2)/rt:vt/2;if(!mt)return[2*At,-et];var j=2*a(At*u(mt)),X=1/p(mt);return[u(j)*X,mt+(1-y(j))*X-et]}return ft.invert=function(vt,mt){if(w(mt+=et)<h)return[rt?2*a(rt*vt/2)/rt:vt,0];var At,j=vt*vt+mt*mt,X=0,G=10;do{var ie=p(X),be=1/y(X),Ie=j-2*mt*X+X*X;X-=At=(ie*Ie+2*(X-mt))/(2+Ie*be*be+2*(X-mt)*ie)}while(w(At)>h&&--G>0);var He=vt*(ie=p(X)),Ze=p(w(mt)<w(X+1/ie)?.5*C(He):.5*O(He)+m/4)/u(X);return[rt?2*a(rt*Ze)/rt:2*Ze,X]},ft}function Bo(){return Ee(Ir).scale(131.215)}var pa=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Ws(et,rt){var ft,vt=o(18,36*w(rt)/m),mt=l(vt),At=vt-mt,j=(ft=pa[mt])[0],X=ft[1],G=(ft=pa[++mt])[0],ie=ft[1],be=(ft=pa[o(19,++mt)])[0],Ie=ft[1];return[et*(G+At*(be-j)/2+At*At*(be-2*G+j)/2),(rt>0?d:-d)*(ie+At*(Ie-X)/2+At*At*(Ie-2*ie+X)/2)]}function Gs(){return(0,b.Z)(Ws).scale(152.63)}function Mo(et,rt){var ft=function(j){function X(G,ie){var be=y(ie),Ie=(j-1)/(j-be*y(G));return[Ie*be*u(G),Ie*u(ie)]}return X.invert=function(G,ie){var be=G*G+ie*ie,Ie=P(be),He=(j-P(1-be*(j+1)/(j-1)))/((j-1)/Ie+Ie/(j-1));return[k(G*He,Ie*P(1-He*He)),Ie?C(ie*He/Ie):0]},X}(et);if(!rt)return ft;var vt=y(rt),mt=u(rt);function At(j,X){var G=ft(j,X),ie=G[1],be=ie*mt/(et-1)+vt;return[G[0]*vt/be,ie/be]}return At.invert=function(j,X){var G=(et-1)/(et-1-X*mt);return ft.invert(G*j,G*X*vt)},At}function Ys(){var et=2,rt=0,ft=(0,b.r)(Mo),vt=ft(et,rt);return vt.distance=function(mt){return arguments.length?ft(et=+mt,rt):et},vt.tilt=function(mt){return arguments.length?ft(et,rt=mt*A):rt*E},vt.scale(432.147).clipAngle(O(1/et)*E-1e-6)}pa.forEach(function(et){et[1]*=1.0144}),Ws.invert=function(et,rt){var ft=rt/d,vt=90*ft,mt=o(18,w(vt/5)),At=s(0,l(mt));do{var j=pa[At][1],X=pa[At+1][1],G=pa[o(19,At+2)][1],ie=G-j,be=G-2*X+j,Ie=2*(w(ft)-X)/ie,He=be/ie,Ze=Ie*(1-He*Ie*(1-2*He*Ie));if(Ze>=0||At===1){vt=(rt>=0?5:-5)*(Ze+mt);var at,Tt=50;do Ze=(mt=o(18,w(vt)/5))-(At=l(mt)),j=pa[At][1],X=pa[At+1][1],G=pa[o(19,At+2)][1],vt-=(at=(rt>=0?d:-d)*(X+Ze*(G-j)/2+Ze*Ze*(G-2*X+j)/2)-rt)*E;while(w(at)>_&&--Tt>0);break}}while(--At>=0);var Mt=pa[At][0],re=pa[At+1][0],de=pa[o(19,At+2)][0];return[et/(re+Ze*(de-Mt)/2+Ze*Ze*(de-2*re+Mt)/2),vt*A]};var zr=-179.9999,sl=179.9999,go=-89.9999,Bl=89.9999;function Ll(et){return et.length>0}function Aa(et){return et===-90||et===90?[0,et]:[-180,(rt=et,Math.floor(1e4*rt)/1e4)];var rt}function Zs(et){var rt=et[0],ft=et[1],vt=!1;return rt<=zr?(rt=-180,vt=!0):rt>=sl&&(rt=180,vt=!0),ft<=go?(ft=-90,vt=!0):ft>=Bl&&(ft=90,vt=!0),vt?[rt,ft]:et}function $o(et){return et.map(Zs)}function Wa(et,rt,ft){for(var vt=0,mt=et.length;vt<mt;++vt){var At=et[vt].slice();ft.push({index:-1,polygon:rt,ring:At});for(var j=0,X=At.length;j<X;++j){var G=At[j],ie=G[0],be=G[1];if(ie<=zr||ie>=sl||be<=go||be>=Bl){At[j]=Zs(G);for(var Ie=j+1;Ie<X;++Ie){var He=At[Ie],Ze=He[0],at=He[1];if(Ze>zr&&Ze<sl&&at>go&&at<Bl)break}if(Ie===j+1)continue;if(j){var Tt={index:-1,polygon:rt,ring:At.slice(0,j+1)};Tt.ring[Tt.ring.length-1]=Aa(be),ft[ft.length-1]=Tt}else ft.pop();if(Ie>=X)break;ft.push({index:-1,polygon:rt,ring:At=At.slice(Ie-1)}),At[0]=Aa(At[0][1]),j=-1,X=At.length}}}}function bs(et){var rt,ft,vt,mt,At,j,X=et.length,G={},ie={};for(rt=0;rt<X;++rt)vt=(ft=et[rt]).ring[0],At=ft.ring[ft.ring.length-1],vt[0]!==At[0]||vt[1]!==At[1]?(ft.index=rt,G[vt]=ie[At]=ft):(ft.polygon.push(ft.ring),et[rt]=null);for(rt=0;rt<X;++rt)if(ft=et[rt]){if(vt=ft.ring[0],At=ft.ring[ft.ring.length-1],mt=ie[vt],j=G[At],delete G[vt],delete ie[At],vt[0]===At[0]&&vt[1]===At[1]){ft.polygon.push(ft.ring);continue}mt?(delete ie[vt],delete G[mt.ring[0]],mt.ring.pop(),et[mt.index]=null,ft={index:-1,polygon:mt.polygon,ring:mt.ring.concat(ft.ring)},mt===j?ft.polygon.push(ft.ring):(ft.index=X++,et.push(G[ft.ring[0]]=ie[ft.ring[ft.ring.length-1]]=ft))):j?(delete G[At],delete ie[j.ring[j.ring.length-1]],ft.ring.pop(),ft={index:X++,polygon:j.polygon,ring:ft.ring.concat(j.ring)},et[j.index]=null,et.push(G[ft.ring[0]]=ie[ft.ring[ft.ring.length-1]]=ft)):(ft.ring.push(ft.ring[0]),ft.polygon.push(ft.ring))}}function So(et){var rt={type:"Feature",geometry:mo(et.geometry)};return et.id!=null&&(rt.id=et.id),et.bbox!=null&&(rt.bbox=et.bbox),et.properties!=null&&(rt.properties=et.properties),rt}function mo(et){if(et==null)return et;var rt,ft,vt,mt;switch(et.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:et.geometries.map(mo)};break;case"Point":rt={type:"Point",coordinates:Zs(et.coordinates)};break;case"MultiPoint":case"LineString":rt={type:et.type,coordinates:$o(et.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:et.coordinates.map($o)};break;case"Polygon":var At=[];Wa(et.coordinates,At,ft=[]),bs(ft),rt={type:"Polygon",coordinates:At};break;case"MultiPolygon":ft=[],vt=-1,mt=et.coordinates.length;for(var j=new Array(mt);++vt<mt;)Wa(et.coordinates[vt],j[vt]=[],ft);bs(ft),rt={type:"MultiPolygon",coordinates:j.filter(Ll)};break;default:return et}return et.bbox!=null&&(rt.bbox=et.bbox),rt}function Xs(et){if(et==null)return et;switch(et.type){case"Feature":return So(et);case"FeatureCollection":var rt={type:"FeatureCollection",features:et.features.map(So)};return et.bbox!=null&&(rt.bbox=et.bbox),rt;default:return mo(et)}}function Ma(et,rt){var ft=p(rt/2),vt=u(x*ft);return[et*(.74482-.34588*vt*vt),1.70711*ft]}function vo(){return(0,b.Z)(Ma).scale(146.153)}function Si(et,rt,ft){var vt=(0,po.Z)(rt,ft),mt=vt(.5),At=(0,ot.Z)([-mt[0],-mt[1]])(rt),j=vt.distance/2,X=-C(u(At[1]*A)/u(j)),G=[-mt[0],-mt[1],-(At[0]>0?m-X:X)*E],ie=(0,b.Z)(et(j)).rotate(G),be=(0,ot.Z)(G),Ie=ie.center;return delete ie.rotate,ie.center=function(He){return arguments.length?Ie(be(He)):be.invert(Ie())},ie.clipAngle(90)}function Ol(et){var rt=y(et);function ft(vt,mt){var At=(0,mi.M)(vt,mt);return At[0]*=rt,At}return ft.invert=function(vt,mt){return mi.M.invert(vt/rt,mt)},ft}function to(){return yo([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function yo(et,rt){return Si(Ol,et,rt)}function jo(et){if(!(et*=2))return ne.N;var rt=-et/2,ft=-rt,vt=et*et,mt=p(ft),At=.5/u(ft);function j(X,G){var ie=O(y(G)*y(X-rt)),be=O(y(G)*y(X-ft));return[((ie*=ie)-(be*=be))/(2*et),(G<0?-1:1)*P(4*vt*be-(vt-ie+be)*(vt-ie+be))/(2*et)]}return j.invert=function(X,G){var ie,be,Ie=G*G,He=y(P(Ie+(ie=X+rt)*ie)),Ze=y(P(Ie+(ie=X+ft)*ie));return[k(be=He-Ze,ie=(He+Ze)*mt),(G<0?-1:1)*O(P(ie*ie+be*be)*At)]},j}function Ra(){return Ti([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ti(et,rt){return Si(jo,et,rt)}function ga(et,rt){if(w(rt)<h)return[et,0];var ft=w(rt/d),vt=C(ft);if(w(et)<h||w(w(rt)-d)<h)return[0,i(rt)*m*p(vt/2)];var mt=y(vt),At=w(m/et-et/m)/2,j=At*At,X=mt/(ft+mt-1),G=X*(2/ft-1),ie=G*G,be=ie+j,Ie=X-ie,He=j+X;return[i(et)*m*(At*Ie+P(j*Ie*Ie-be*(X*X-ie)))/be,i(rt)*m*(G*He-At*P((j+1)*be-He*He))/be]}function no(){return(0,b.Z)(ga).scale(79.4183)}function za(et,rt){if(w(rt)<h)return[et,0];var ft=w(rt/d),vt=C(ft);if(w(et)<h||w(w(rt)-d)<h)return[0,i(rt)*m*p(vt/2)];var mt=y(vt),At=w(m/et-et/m)/2,j=At*At,X=mt*(P(1+j)-At*mt)/(1+j*ft*ft);return[i(et)*m*X,i(rt)*m*P(1-X*(2*At+X))]}function Uo(){return(0,b.Z)(za).scale(79.4183)}function _s(et,rt){if(w(rt)<h)return[et,0];var ft=rt/d,vt=C(ft);if(w(et)<h||w(w(rt)-d)<h)return[0,m*p(vt/2)];var mt=(m/et-et/m)/2,At=ft/(1+y(vt));return[m*(i(et)*P(mt*mt+1-At*At)-mt),m*At]}function Eo(){return(0,b.Z)(_s).scale(79.4183)}function ha(et,rt){if(!rt)return[et,0];var ft=w(rt);if(!et||ft===d)return[0,rt];var vt=ft/d,mt=vt*vt,At=(8*vt-mt*(mt+2)-5)/(2*mt*(vt-1)),j=At*At,X=vt*At,G=mt+j+2*X,ie=vt+3*At,be=et/d,Ie=be+1/be,He=i(w(et)-d)*P(Ie*Ie-4),Ze=He*He,at=(He*(G+j-1)+2*P(G*(mt+j*Ze-1)+(1-mt)*(mt*(ie*ie+4*j)+12*X*j+4*j*j)))/(4*G+Ze);return[i(et)*d*at,i(rt)*d*P(1+He*w(at)-at*at)]}function xo(){return(0,b.Z)(ha).scale(127.16)}function Br(et,rt,ft,vt){var mt=m/3;et=s(et,h),rt=s(rt,h),et=o(et,d),rt=o(rt,m-h),ft=s(ft,0),ft=o(ft,99.999999);var At=(vt=s(vt,h))/100,j=O((ft/100+1)*y(mt))/mt,X=u(et)/u(j*d),G=rt/m,ie=P(At*u(et/2)/u(rt/2));return function(be,Ie,He,Ze,at){function Tt(Mt,re){var de=He*u(Ze*re),Ce=P(1-de*de),ze=P(2/(1+Ce*y(Mt*=at)));return[be*Ce*ze*u(Mt),Ie*de*ze]}return Tt.invert=function(Mt,re){var de=Mt/be,Ce=re/Ie,ze=P(de*de+Ce*Ce),Ve=2*C(ze/2);return[k(Mt*p(Ve),be*ze)/at,ze&&C(re*u(Ve)/(Ie*He*ze))/Ze]},Tt}(ie/P(G*X*j),1/(ie*P(G*X*j)),X,j,G)}function Zr(){var et=65*A,rt=60*A,ft=20,vt=200,mt=(0,b.r)(Br),At=mt(et,rt,ft,vt);return At.poleline=function(j){return arguments.length?mt(et=+j*A,rt,ft,vt):et*E},At.parallels=function(j){return arguments.length?mt(et,rt=+j*A,ft,vt):rt*E},At.inflation=function(j){return arguments.length?mt(et,rt,ft=+j,vt):ft},At.ratio=function(j){return arguments.length?mt(et,rt,ft,vt=+j):vt},At.scale(163.775)}function ll(){return Zr().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ma.invert=function(et,rt){var ft=rt/1.70711,vt=u(x*ft);return[et/(.74482-.34588*vt*vt),2*a(ft)]},ga.invert=function(et,rt){if(w(rt)<h)return[et,0];if(w(et)<h)return[0,d*u(2*a(rt/m))];var ft=(et/=m)*et,vt=(rt/=m)*rt,mt=ft+vt,At=mt*mt,j=-w(rt)*(1+mt),X=j-2*vt+ft,G=-2*j+1+2*vt+At,ie=vt/G+(2*X*X*X/(G*G*G)-9*j*X/(G*G))/27,be=(j-X*X/(3*G))/G,Ie=2*P(-be/3),He=O(3*ie/(be*Ie))/3;return[m*(mt-1+P(1+2*(ft-vt)+At))/(2*et),i(rt)*m*(-Ie*y(He+m/3)-X/(3*G))]},za.invert=function(et,rt){if(!et)return[0,d*u(2*a(rt/m))];var ft=w(et/m),vt=(1-ft*ft-(rt/=m)*rt)/(2*ft),mt=P(vt*vt+1);return[i(et)*m*(mt-vt),i(rt)*d*u(2*k(P((1-2*vt*ft)*(vt+mt)-ft),P(mt+vt+ft)))]},_s.invert=function(et,rt){if(!rt)return[et,0];var ft=rt/m,vt=(m*m*(1-ft*ft)-et*et)/(2*m*et);return[et?m*(i(et)*P(vt*vt+1)-vt):0,d*u(2*a(ft))]},ha.invert=function(et,rt){var ft;if(!et||!rt)return[et,rt];rt/=m;var vt=i(et)*et/d,mt=(vt*vt-1+4*rt*rt)/w(vt),At=mt*mt,j=2*rt,X=50;do{var G=j*j,ie=(8*j-G*(G+2)-5)/(2*G*(j-1)),be=(3*j-G*j-10)/(2*G*j),Ie=ie*ie,He=j*ie,Ze=j+ie,at=Ze*Ze,Tt=j+3*ie,Mt=-2*Ze*(4*He*Ie+(1-4*G+3*G*G)*(1+be)+Ie*(14*G-6-At+(8*G-8-2*At)*be)+He*(12*G-8+(10*G-10-At)*be)),re=P(at*(G+Ie*At-1)+(1-G)*(G*(Tt*Tt+4*Ie)+Ie*(12*He+4*Ie)));j-=ft=(mt*(at+Ie-1)+2*re-vt*(4*at+At))/(mt*(2*ie*be+2*Ze*(1+be))+Mt/re-8*Ze*(mt*(-1+Ie+at)+2*re)*(1+be)/(At+4*at))}while(ft>h&&--X>0);return[i(et)*(P(mt*mt+4)+mt)*m/4,d*j]};var Qo=4*m+3*P(3),Co=2*P(2*m*P(3)/Qo),ya=Ae(Co*P(3)/m,Co,Qo/6);function jl(){return(0,b.Z)(ya).scale(176.84)}function Fa(et,rt){return[et*P(1-3*rt*rt/(m*m)),rt]}function Js(){return(0,b.Z)(Fa).scale(152.63)}function es(et,rt){var ft=y(rt),vt=y(et)*ft,mt=1-vt,At=y(et=k(u(et)*ft,-u(rt))),j=u(et);return[j*(ft=P(1-vt*vt))-At*mt,-At*ft-j*mt]}function Pi(){return(0,b.Z)(es).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function zi(et,rt){var ft=W(et,rt);return[(ft[0]+et/d)/2,(ft[1]+rt)/2]}function Lo(){return(0,b.Z)(zi).scale(158.837)}Fa.invert=function(et,rt){return[et/P(1-3*rt*rt/(m*m)),rt]},es.invert=function(et,rt){var ft=(et*et+rt*rt)/-2,vt=P(-ft*(2+ft)),mt=rt*ft+et*vt,At=et*ft-rt*vt,j=P(At*At+mt*mt);return[k(vt*mt,j*(1+ft)),j?-C(vt*At/j):0]},zi.invert=function(et,rt){var ft=et,vt=rt,mt=25;do{var At,j=y(vt),X=u(vt),G=u(2*vt),ie=X*X,be=j*j,Ie=u(ft),He=y(ft/2),Ze=u(ft/2),at=Ze*Ze,Tt=1-be*He*He,Mt=Tt?O(j*He)*P(At=1/Tt):At=0,re=.5*(2*Mt*j*Ze+ft/d)-et,de=.5*(Mt*X+vt)-rt,Ce=.5*At*(be*at+Mt*j*He*ie)+.5/d,ze=At*(Ie*G/4-Mt*X*Ze),Ve=.125*At*(G*Ze-Mt*X*be*Ie),We=.5*At*(ie*He+Mt*at*j)+.5,Je=ze*Ve-We*Ce,tt=(de*ze-re*We)/Je,lt=(re*Ve-de*Ce)/Je;ft-=tt,vt-=lt}while((w(tt)>h||w(lt)>h)&&--mt>0);return[ft,vt]}},33940:function(L,M,e){"use strict";function b(){return new w}function w(){this.reset()}e.d(M,{Z:function(){return b}}),w.prototype={constructor:w,reset:function(){this.s=this.t=0},add:function(y){k(a,y,this.t),k(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new w;function k(y,f,l){var t=y.s=f+l,s=t-f,o=t-s;y.t=f-o+(l-s)}},97860:function(L,M,e){"use strict";e.d(M,{L9:function(){return o},ZP:function(){return _},gL:function(){return r}});var b,w,a,k,y,f=e(33940),l=e(39695),t=e(73182),s=e(72736),o=(0,f.Z)(),n=(0,f.Z)(),r={point:t.Z,lineStart:t.Z,lineEnd:t.Z,polygonStart:function(){o.reset(),r.lineStart=i,r.lineEnd=u},polygonEnd:function(){var m=+o;n.add(m<0?l.BZ+m:m),this.lineStart=this.lineEnd=this.point=t.Z},sphere:function(){n.add(l.BZ)}};function i(){r.point=p}function u(){h(b,w)}function p(m,d){r.point=h,b=m,w=d,m*=l.uR,d*=l.uR,a=m,k=(0,l.mC)(d=d/2+l.pu),y=(0,l.O$)(d)}function h(m,d){m*=l.uR,d=(d*=l.uR)/2+l.pu;var x=m-a,g=x>=0?1:-1,v=g*x,T=(0,l.mC)(d),c=(0,l.O$)(d),E=y*c,A=k*T+E*(0,l.mC)(v),C=E*g*(0,l.O$)(v);o.add((0,l.fv)(C,A)),a=m,k=T,y=c}function _(m){return n.reset(),(0,s.Z)(m,r),2*n}},77338:function(L,M,e){"use strict";e.d(M,{Z:function(){return O}});var b,w,a,k,y,f,l,t,s,o,n=e(33940),r=e(97860),i=e(7620),u=e(39695),p=e(72736),h=(0,n.Z)(),_={point:m,lineStart:x,lineEnd:g,polygonStart:function(){_.point=v,_.lineStart=T,_.lineEnd=c,h.reset(),r.gL.polygonStart()},polygonEnd:function(){r.gL.polygonEnd(),_.point=m,_.lineStart=x,_.lineEnd=g,r.L9<0?(b=-(a=180),w=-(k=90)):h>u.Ho?k=90:h<-u.Ho&&(w=-90),o[0]=b,o[1]=a},sphere:function(){b=-(a=180),w=-(k=90)}};function m(P,D){s.push(o=[b=P,a=P]),D<w&&(w=D),D>k&&(k=D)}function d(P,D){var z=(0,i.Og)([P*u.uR,D*u.uR]);if(t){var V=(0,i.T5)(t,z),F=[V[1],-V[0],0],W=(0,i.T5)(F,V);(0,i.iJ)(W),W=(0,i.Y1)(W);var B,U=P-y,H=U>0?1:-1,q=W[0]*u.RW*H,ee=(0,u.Wn)(U)>180;ee^(H*y<q&&q<H*P)?(B=W[1]*u.RW)>k&&(k=B):ee^(H*y<(q=(q+360)%360-180)&&q<H*P)?(B=-W[1]*u.RW)<w&&(w=B):(D<w&&(w=D),D>k&&(k=D)),ee?P<y?E(b,P)>E(b,a)&&(a=P):E(P,a)>E(b,a)&&(b=P):a>=b?(P<b&&(b=P),P>a&&(a=P)):P>y?E(b,P)>E(b,a)&&(a=P):E(P,a)>E(b,a)&&(b=P)}else s.push(o=[b=P,a=P]);D<w&&(w=D),D>k&&(k=D),t=z,y=P}function x(){_.point=d}function g(){o[0]=b,o[1]=a,_.point=m,t=null}function v(P,D){if(t){var z=P-y;h.add((0,u.Wn)(z)>180?z+(z>0?360:-360):z)}else f=P,l=D;r.gL.point(P,D),d(P,D)}function T(){r.gL.lineStart()}function c(){v(f,l),r.gL.lineEnd(),(0,u.Wn)(h)>u.Ho&&(b=-(a=180)),o[0]=b,o[1]=a,t=null}function E(P,D){return(D-=P)<0?D+360:D}function A(P,D){return P[0]-D[0]}function C(P,D){return P[0]<=P[1]?P[0]<=D&&D<=P[1]:D<P[0]||P[1]<D}function O(P){var D,z,V,F,W,B,U;if(k=a=-(b=w=1/0),s=[],(0,p.Z)(P,_),z=s.length){for(s.sort(A),D=1,W=[V=s[0]];D<z;++D)C(V,(F=s[D])[0])||C(V,F[1])?(E(V[0],F[1])>E(V[0],V[1])&&(V[1]=F[1]),E(F[0],V[1])>E(V[0],V[1])&&(V[0]=F[0])):W.push(V=F);for(B=-1/0,D=0,V=W[z=W.length-1];D<=z;V=F,++D)F=W[D],(U=E(V[1],F[0]))>B&&(B=U,b=F[0],a=V[1])}return s=o=null,b===1/0||w===1/0?[[NaN,NaN],[NaN,NaN]]:[[b,w],[a,k]]}},7620:function(L,M,e){"use strict";e.d(M,{Og:function(){return a},T:function(){return l},T5:function(){return y},Y1:function(){return w},iJ:function(){return t},j9:function(){return k},s0:function(){return f}});var b=e(39695);function w(s){return[(0,b.fv)(s[1],s[0]),(0,b.ZR)(s[2])]}function a(s){var o=s[0],n=s[1],r=(0,b.mC)(n);return[r*(0,b.mC)(o),r*(0,b.O$)(o),(0,b.O$)(n)]}function k(s,o){return s[0]*o[0]+s[1]*o[1]+s[2]*o[2]}function y(s,o){return[s[1]*o[2]-s[2]*o[1],s[2]*o[0]-s[0]*o[2],s[0]*o[1]-s[1]*o[0]]}function f(s,o){s[0]+=o[0],s[1]+=o[1],s[2]+=o[2]}function l(s,o){return[s[0]*o,s[1]*o,s[2]*o]}function t(s){var o=(0,b._b)(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]/=o,s[1]/=o,s[2]/=o}},66624:function(L,M,e){"use strict";e.d(M,{Z:function(){return z}});var b,w,a,k,y,f,l,t,s,o,n,r,i,u,p,h,_=e(39695),m=e(73182),d=e(72736),x={sphere:m.Z,point:g,lineStart:T,lineEnd:A,polygonStart:function(){x.lineStart=C,x.lineEnd=O},polygonEnd:function(){x.lineStart=T,x.lineEnd=A}};function g(V,F){V*=_.uR,F*=_.uR;var W=(0,_.mC)(F);v(W*(0,_.mC)(V),W*(0,_.O$)(V),(0,_.O$)(F))}function v(V,F,W){++b,a+=(V-a)/b,k+=(F-k)/b,y+=(W-y)/b}function T(){x.point=c}function c(V,F){V*=_.uR,F*=_.uR;var W=(0,_.mC)(F);u=W*(0,_.mC)(V),p=W*(0,_.O$)(V),h=(0,_.O$)(F),x.point=E,v(u,p,h)}function E(V,F){V*=_.uR,F*=_.uR;var W=(0,_.mC)(F),B=W*(0,_.mC)(V),U=W*(0,_.O$)(V),H=(0,_.O$)(F),q=(0,_.fv)((0,_._b)((q=p*H-h*U)*q+(q=h*B-u*H)*q+(q=u*U-p*B)*q),u*B+p*U+h*H);w+=q,f+=q*(u+(u=B)),l+=q*(p+(p=U)),t+=q*(h+(h=H)),v(u,p,h)}function A(){x.point=g}function C(){x.point=P}function O(){D(r,i),x.point=g}function P(V,F){r=V,i=F,V*=_.uR,F*=_.uR,x.point=D;var W=(0,_.mC)(F);u=W*(0,_.mC)(V),p=W*(0,_.O$)(V),h=(0,_.O$)(F),v(u,p,h)}function D(V,F){V*=_.uR,F*=_.uR;var W=(0,_.mC)(F),B=W*(0,_.mC)(V),U=W*(0,_.O$)(V),H=(0,_.O$)(F),q=p*H-h*U,ee=h*B-u*H,K=u*U-p*B,J=(0,_._b)(q*q+ee*ee+K*K),Z=(0,_.ZR)(J),$=J&&-Z/J;s+=$*q,o+=$*ee,n+=$*K,w+=Z,f+=Z*(u+(u=B)),l+=Z*(p+(p=U)),t+=Z*(h+(h=H)),v(u,p,h)}function z(V){b=w=a=k=y=f=l=t=s=o=n=0,(0,d.Z)(V,x);var F=s,W=o,B=n,U=F*F+W*W+B*B;return U<_.aW&&(F=f,W=l,B=t,w<_.Ho&&(F=a,W=k,B=y),(U=F*F+W*W+B*B)<_.aW)?[NaN,NaN]:[(0,_.fv)(W,F)*_.RW,(0,_.ZR)(B/(0,_._b)(U))*_.RW]}},7613:function(L,M,e){"use strict";e.d(M,{m:function(){return y},Z:function(){return l}});var b=e(7620);function w(t){return function(){return t}}var a=e(39695),k=e(49386);function y(t,s,o,n,r,i){if(o){var u=(0,a.mC)(s),p=(0,a.O$)(s),h=n*o;r==null?(r=s+n*a.BZ,i=s-h/2):(r=f(u,r),i=f(u,i),(n>0?r<i:r>i)&&(r+=n*a.BZ));for(var _,m=r;n>0?m>i:m<i;m-=h)_=(0,b.Y1)([u,-p*(0,a.mC)(m),-p*(0,a.O$)(m)]),t.point(_[0],_[1])}}function f(t,s){(s=(0,b.Og)(s))[0]-=t,(0,b.iJ)(s);var o=(0,a.Kh)(-s[1]);return((-s[2]<0?-o:o)+a.BZ-a.Ho)%a.BZ}function l(){var t,s,o=w([0,0]),n=w(90),r=w(6),i={point:function(p,h){t.push(p=s(p,h)),p[0]*=a.RW,p[1]*=a.RW}};function u(){var p=o.apply(this,arguments),h=n.apply(this,arguments)*a.uR,_=r.apply(this,arguments)*a.uR;return t=[],s=(0,k.I)(-p[0]*a.uR,-p[1]*a.uR,0).invert,y(i,h,_,1),p={type:"Polygon",coordinates:[t]},t=s=null,p}return u.center=function(p){return arguments.length?(o=typeof p=="function"?p:w([+p[0],+p[1]]),u):o},u.radius=function(p){return arguments.length?(n=typeof p=="function"?p:w(+p),u):n},u.precision=function(p){return arguments.length?(r=typeof p=="function"?p:w(+p),u):r},u}},87070:function(L,M,e){"use strict";var b=e(97023),w=e(39695);M.Z=(0,b.Z)(function(){return!0},function(a){var k,y=NaN,f=NaN,l=NaN;return{lineStart:function(){a.lineStart(),k=1},point:function(t,s){var o=t>0?w.pi:-w.pi,n=(0,w.Wn)(t-y);(0,w.Wn)(n-w.pi)<w.Ho?(a.point(y,f=(f+s)/2>0?w.ou:-w.ou),a.point(l,f),a.lineEnd(),a.lineStart(),a.point(o,f),a.point(t,f),k=0):l!==o&&n>=w.pi&&((0,w.Wn)(y-l)<w.Ho&&(y-=l*w.Ho),(0,w.Wn)(t-o)<w.Ho&&(t-=o*w.Ho),f=function(r,i,u,p){var h,_,m=(0,w.O$)(r-u);return(0,w.Wn)(m)>w.Ho?(0,w.z4)(((0,w.O$)(i)*(_=(0,w.mC)(p))*(0,w.O$)(u)-(0,w.O$)(p)*(h=(0,w.mC)(i))*(0,w.O$)(r))/(h*_*m)):(i+p)/2}(y,f,t,s),a.point(l,f),a.lineEnd(),a.lineStart(),a.point(o,f),k=0),a.point(y=t,f=s),l=o},lineEnd:function(){a.lineEnd(),y=f=NaN},clean:function(){return 2-k}}},function(a,k,y,f){var l;if(a==null)l=y*w.ou,f.point(-w.pi,l),f.point(0,l),f.point(w.pi,l),f.point(w.pi,0),f.point(w.pi,-l),f.point(0,-l),f.point(-w.pi,-l),f.point(-w.pi,0),f.point(-w.pi,l);else if((0,w.Wn)(a[0]-k[0])>w.Ho){var t=a[0]<k[0]?w.pi:-w.pi;l=y*t/2,f.point(-t,l),f.point(0,l),f.point(t,l)}else f.point(k[0],k[1])},[-w.pi,-w.ou])},85272:function(L,M,e){"use strict";e.d(M,{Z:function(){return w}});var b=e(73182);function w(){var a,k=[];return{point:function(y,f,l){a.push([y,f,l])},lineStart:function(){k.push(a=[])},lineEnd:b.Z,rejoin:function(){k.length>1&&k.push(k.pop().concat(k.shift()))},result:function(){var y=k;return k=[],a=null,y}}}},1457:function(L,M,e){"use strict";e.d(M,{Z:function(){return f}});var b=e(7620),w=e(7613),a=e(39695),k=e(67108),y=e(97023);function f(l){var t=(0,a.mC)(l),s=6*a.uR,o=t>0,n=(0,a.Wn)(t)>a.Ho;function r(p,h){return(0,a.mC)(p)*(0,a.mC)(h)>t}function i(p,h,_){var m=(0,b.Og)(p),d=(0,b.Og)(h),x=[1,0,0],g=(0,b.T5)(m,d),v=(0,b.j9)(g,g),T=g[0],c=v-T*T;if(!c)return!_&&p;var E=t*v/c,A=-t*T/c,C=(0,b.T5)(x,g),O=(0,b.T)(x,E),P=(0,b.T)(g,A);(0,b.s0)(O,P);var D=C,z=(0,b.j9)(O,D),V=(0,b.j9)(D,D),F=z*z-V*((0,b.j9)(O,O)-1);if(!(F<0)){var W=(0,a._b)(F),B=(0,b.T)(D,(-z-W)/V);if((0,b.s0)(B,O),B=(0,b.Y1)(B),!_)return B;var U,H=p[0],q=h[0],ee=p[1],K=h[1];q<H&&(U=H,H=q,q=U);var J=q-H,Z=(0,a.Wn)(J-a.pi)<a.Ho;if(!Z&&K<ee&&(U=ee,ee=K,K=U),Z||J<a.Ho?Z?ee+K>0^B[1]<((0,a.Wn)(B[0]-H)<a.Ho?ee:K):ee<=B[1]&&B[1]<=K:J>a.pi^(H<=B[0]&&B[0]<=q)){var $=(0,b.T)(D,(-z+W)/V);return(0,b.s0)($,O),[B,(0,b.Y1)($)]}}}function u(p,h){var _=o?l:a.pi-l,m=0;return p<-_?m|=1:p>_&&(m|=2),h<-_?m|=4:h>_&&(m|=8),m}return(0,y.Z)(r,function(p){var h,_,m,d,x;return{lineStart:function(){d=m=!1,x=1},point:function(g,v){var T,c=[g,v],E=r(g,v),A=o?E?0:u(g,v):E?u(g+(g<0?a.pi:-a.pi),v):0;if(!h&&(d=m=E)&&p.lineStart(),E!==m&&(!(T=i(h,c))||(0,k.Z)(h,T)||(0,k.Z)(c,T))&&(c[2]=1),E!==m)x=0,E?(p.lineStart(),T=i(c,h),p.point(T[0],T[1])):(T=i(h,c),p.point(T[0],T[1],2),p.lineEnd()),h=T;else if(n&&h&&o^E){var C;A&_||!(C=i(c,h,!0))||(x=0,o?(p.lineStart(),p.point(C[0][0],C[0][1]),p.point(C[1][0],C[1][1]),p.lineEnd()):(p.point(C[1][0],C[1][1]),p.lineEnd(),p.lineStart(),p.point(C[0][0],C[0][1],3)))}!E||h&&(0,k.Z)(h,c)||p.point(c[0],c[1]),h=c,m=E,_=A},lineEnd:function(){m&&p.lineEnd(),h=null},clean:function(){return x|(d&&m)<<1}}},function(p,h,_,m){(0,w.m)(m,l,s,_,p,h)},o?[0,-l]:[-a.pi,l-a.pi])}},97023:function(L,M,e){"use strict";e.d(M,{Z:function(){return f}});var b=e(85272),w=e(46225),a=e(39695),k=e(23071),y=e(33064);function f(s,o,n,r){return function(i){var u,p,h,_=o(i),m=(0,b.Z)(),d=o(m),x=!1,g={point:v,lineStart:c,lineEnd:E,polygonStart:function(){g.point=A,g.lineStart=C,g.lineEnd=O,p=[],u=[]},polygonEnd:function(){g.point=v,g.lineStart=c,g.lineEnd=E,p=(0,y.TS)(p);var P=(0,k.Z)(u,r);p.length?(x||(i.polygonStart(),x=!0),(0,w.Z)(p,t,P,n,i)):P&&(x||(i.polygonStart(),x=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),x&&(i.polygonEnd(),x=!1),p=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(P,D){s(P,D)&&i.point(P,D)}function T(P,D){_.point(P,D)}function c(){g.point=T,_.lineStart()}function E(){g.point=v,_.lineEnd()}function A(P,D){h.push([P,D]),d.point(P,D)}function C(){d.lineStart(),h=[]}function O(){A(h[0][0],h[0][1]),d.lineEnd();var P,D,z,V,F=d.clean(),W=m.result(),B=W.length;if(h.pop(),u.push(h),h=null,B)if(1&F){if((D=(z=W[0]).length-1)>0){for(x||(i.polygonStart(),x=!0),i.lineStart(),P=0;P<D;++P)i.point((V=z[P])[0],V[1]);i.lineEnd()}}else B>1&&2&F&&W.push(W.pop().concat(W.shift())),p.push(W.filter(l))}return g}}function l(s){return s.length>1}function t(s,o){return((s=s.x)[0]<0?s[1]-a.ou-a.Ho:a.ou-s[1])-((o=o.x)[0]<0?o[1]-a.ou-a.Ho:a.ou-o[1])}},87605:function(L,M,e){"use strict";e.d(M,{Z:function(){return l}});var b=e(39695),w=e(85272),a=e(46225),k=e(33064),y=1e9,f=-y;function l(t,s,o,n){function r(_,m){return t<=_&&_<=o&&s<=m&&m<=n}function i(_,m,d,x){var g=0,v=0;if(_==null||(g=u(_,d))!==(v=u(m,d))||h(_,m)<0^d>0)do x.point(g===0||g===3?t:o,g>1?n:s);while((g=(g+d+4)%4)!==v);else x.point(m[0],m[1])}function u(_,m){return(0,b.Wn)(_[0]-t)<b.Ho?m>0?0:3:(0,b.Wn)(_[0]-o)<b.Ho?m>0?2:1:(0,b.Wn)(_[1]-s)<b.Ho?m>0?1:0:m>0?3:2}function p(_,m){return h(_.x,m.x)}function h(_,m){var d=u(_,1),x=u(m,1);return d!==x?d-x:d===0?m[1]-_[1]:d===1?_[0]-m[0]:d===2?_[1]-m[1]:m[0]-_[0]}return function(_){var m,d,x,g,v,T,c,E,A,C,O,P=_,D=(0,w.Z)(),z={point:V,lineStart:function(){z.point=F,d&&d.push(x=[]),C=!0,A=!1,c=E=NaN},lineEnd:function(){m&&(F(g,v),T&&A&&D.rejoin(),m.push(D.result())),z.point=V,A&&P.lineEnd()},polygonStart:function(){P=D,m=[],d=[],O=!0},polygonEnd:function(){var W=function(){for(var H=0,q=0,ee=d.length;q<ee;++q)for(var K,J,Z=d[q],$=1,ne=Z.length,ae=Z[0],oe=ae[0],se=ae[1];$<ne;++$)K=oe,J=se,oe=(ae=Z[$])[0],se=ae[1],J<=n?se>n&&(oe-K)*(n-J)>(se-J)*(t-K)&&++H:se<=n&&(oe-K)*(n-J)<(se-J)*(t-K)&&--H;return H}(),B=O&&W,U=(m=(0,k.TS)(m)).length;(B||U)&&(_.polygonStart(),B&&(_.lineStart(),i(null,null,1,_),_.lineEnd()),U&&(0,a.Z)(m,p,W,i,_),_.polygonEnd()),P=_,m=d=x=null}};function V(W,B){r(W,B)&&P.point(W,B)}function F(W,B){var U=r(W,B);if(d&&x.push([W,B]),C)g=W,v=B,T=U,C=!1,U&&(P.lineStart(),P.point(W,B));else if(U&&A)P.point(W,B);else{var H=[c=Math.max(f,Math.min(y,c)),E=Math.max(f,Math.min(y,E))],q=[W=Math.max(f,Math.min(y,W)),B=Math.max(f,Math.min(y,B))];(function(ee,K,J,Z,$,ne){var ae,oe=ee[0],se=ee[1],ce=0,me=1,xe=K[0]-oe,ve=K[1]-se;if(ae=J-oe,xe||!(ae>0)){if(ae/=xe,xe<0){if(ae<ce)return;ae<me&&(me=ae)}else if(xe>0){if(ae>me)return;ae>ce&&(ce=ae)}if(ae=$-oe,xe||!(ae<0)){if(ae/=xe,xe<0){if(ae>me)return;ae>ce&&(ce=ae)}else if(xe>0){if(ae<ce)return;ae<me&&(me=ae)}if(ae=Z-se,ve||!(ae>0)){if(ae/=ve,ve<0){if(ae<ce)return;ae<me&&(me=ae)}else if(ve>0){if(ae>me)return;ae>ce&&(ce=ae)}if(ae=ne-se,ve||!(ae<0)){if(ae/=ve,ve<0){if(ae>me)return;ae>ce&&(ce=ae)}else if(ve>0){if(ae<ce)return;ae<me&&(me=ae)}return ce>0&&(ee[0]=oe+ce*xe,ee[1]=se+ce*ve),me<1&&(K[0]=oe+me*xe,K[1]=se+me*ve),!0}}}}})(H,q,t,s,o,n)?(A||(P.lineStart(),P.point(H[0],H[1])),P.point(q[0],q[1]),U||P.lineEnd(),O=!1):U&&(P.lineStart(),P.point(W,B),O=!1)}c=W,E=B,A=U}return z}}},46225:function(L,M,e){"use strict";e.d(M,{Z:function(){return k}});var b=e(67108),w=e(39695);function a(f,l,t,s){this.x=f,this.z=l,this.o=t,this.e=s,this.v=!1,this.n=this.p=null}function k(f,l,t,s,o){var n,r,i=[],u=[];if(f.forEach(function(x){if(!((g=x.length-1)<=0)){var g,v,T=x[0],c=x[g];if((0,b.Z)(T,c)){if(!T[2]&&!c[2]){for(o.lineStart(),n=0;n<g;++n)o.point((T=x[n])[0],T[1]);return void o.lineEnd()}c[0]+=2*w.Ho}i.push(v=new a(T,x,null,!0)),u.push(v.o=new a(T,null,v,!1)),i.push(v=new a(c,x,null,!1)),u.push(v.o=new a(c,null,v,!0))}}),i.length){for(u.sort(l),y(i),y(u),n=0,r=u.length;n<r;++n)u[n].e=t=!t;for(var p,h,_=i[0];;){for(var m=_,d=!0;m.v;)if((m=m.n)===_)return;p=m.z,o.lineStart();do{if(m.v=m.o.v=!0,m.e){if(d)for(n=0,r=p.length;n<r;++n)o.point((h=p[n])[0],h[1]);else s(m.x,m.n.x,1,o);m=m.n}else{if(d)for(p=m.p.z,n=p.length-1;n>=0;--n)o.point((h=p[n])[0],h[1]);else s(m.x,m.p.x,-1,o);m=m.p}p=(m=m.o).z,d=!d}while(!m.v);o.lineEnd()}}}function y(f){if(l=f.length){for(var l,t,s=0,o=f[0];++s<l;)o.n=t=f[s],t.p=o,o=t;o.n=t=f[0],t.p=o}}},96059:function(L,M,e){"use strict";function b(w,a){function k(y,f){return y=w(y,f),a(y[0],y[1])}return w.invert&&a.invert&&(k.invert=function(y,f){return(y=a.invert(y,f))&&w.invert(y[0],y[1])}),k}e.d(M,{Z:function(){return b}})},8593:function(L,M,e){"use strict";function b(w){return w}e.d(M,{Z:function(){return b}})},27362:function(L,M,e){"use strict";e.r(M),e.d(M,{geoAlbers:function(){return It},geoAlbersUsa:function(){return Rt},geoArea:function(){return b.ZP},geoAzimuthalEqualArea:function(){return bt.Z},geoAzimuthalEqualAreaRaw:function(){return bt.l},geoAzimuthalEquidistant:function(){return Pt.Z},geoAzimuthalEquidistantRaw:function(){return Pt.N},geoBounds:function(){return w.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return k.Z},geoClipAntimeridian:function(){return y.Z},geoClipCircle:function(){return f.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return l.Z},geoConicConformal:function(){return _n},geoConicConformalRaw:function(){return on},geoConicEqualArea:function(){return Lt},geoConicEqualAreaRaw:function(){return wt},geoConicEquidistant:function(){return Xn},geoConicEquidistantRaw:function(){return Sn},geoContains:function(){return W},geoDistance:function(){return E},geoEqualEarth:function(){return In},geoEqualEarthRaw:function(){return Rn},geoEquirectangular:function(){return fn.Z},geoEquirectangularRaw:function(){return fn.k},geoGnomonic:function(){return Hn.Z},geoGnomonicRaw:function(){return Hn.M},geoGraticule:function(){return q},geoGraticule10:function(){return ee},geoIdentity:function(){return Gn},geoInterpolate:function(){return ne.Z},geoLength:function(){return v},geoMercator:function(){return Yt},geoMercatorRaw:function(){return Zt},geoNaturalEarth1:function(){return cr.Z},geoNaturalEarth1Raw:function(){return cr.K},geoOrthographic:function(){return ir.Z},geoOrthographicRaw:function(){return ir.I},geoPath:function(){return Qe},geoProjection:function(){return ut.Z},geoProjectionMutator:function(){return ut.r},geoRotation:function(){return Bt.Z},geoStereographic:function(){return sr},geoStereographicRaw:function(){return gr},geoStream:function(){return h.Z},geoTransform:function(){return Yn.Z},geoTransverseMercator:function(){return kr},geoTransverseMercatorRaw:function(){return xr}});var b=e(97860),w=e(77338),a=e(66624),k=e(7613),y=e(87070),f=e(1457),l=e(87605);function t(){var Qt,bn,Dn,Pn=0,qn=0,Qn=960,Jn=500;return Dn={stream:function(nr){return Qt&&bn===nr?Qt:Qt=(0,l.Z)(Pn,qn,Qn,Jn)(bn=nr)},extent:function(nr){return arguments.length?(Pn=+nr[0][0],qn=+nr[0][1],Qn=+nr[1][0],Jn=+nr[1][1],Qt=bn=null,Dn):[[Pn,qn],[Qn,Jn]]}}}var s,o,n,r=e(23071),i=e(33940),u=e(39695),p=e(73182),h=e(72736),_=(0,i.Z)(),m={sphere:p.Z,point:p.Z,lineStart:function(){m.point=x,m.lineEnd=d},lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z};function d(){m.point=m.lineEnd=p.Z}function x(Qt,bn){Qt*=u.uR,bn*=u.uR,s=Qt,o=(0,u.O$)(bn),n=(0,u.mC)(bn),m.point=g}function g(Qt,bn){Qt*=u.uR,bn*=u.uR;var Dn=(0,u.O$)(bn),Pn=(0,u.mC)(bn),qn=(0,u.Wn)(Qt-s),Qn=(0,u.mC)(qn),Jn=Pn*(0,u.O$)(qn),nr=n*Dn-o*Pn*Qn,yr=o*Dn+n*Pn*Qn;_.add((0,u.fv)((0,u._b)(Jn*Jn+nr*nr),yr)),s=Qt,o=Dn,n=Pn}function v(Qt){return _.reset(),(0,h.Z)(Qt,m),+_}var T=[null,null],c={type:"LineString",coordinates:T};function E(Qt,bn){return T[0]=Qt,T[1]=bn,v(c)}var A={Feature:function(Qt,bn){return O(Qt.geometry,bn)},FeatureCollection:function(Qt,bn){for(var Dn=Qt.features,Pn=-1,qn=Dn.length;++Pn<qn;)if(O(Dn[Pn].geometry,bn))return!0;return!1}},C={Sphere:function(){return!0},Point:function(Qt,bn){return P(Qt.coordinates,bn)},MultiPoint:function(Qt,bn){for(var Dn=Qt.coordinates,Pn=-1,qn=Dn.length;++Pn<qn;)if(P(Dn[Pn],bn))return!0;return!1},LineString:function(Qt,bn){return D(Qt.coordinates,bn)},MultiLineString:function(Qt,bn){for(var Dn=Qt.coordinates,Pn=-1,qn=Dn.length;++Pn<qn;)if(D(Dn[Pn],bn))return!0;return!1},Polygon:function(Qt,bn){return z(Qt.coordinates,bn)},MultiPolygon:function(Qt,bn){for(var Dn=Qt.coordinates,Pn=-1,qn=Dn.length;++Pn<qn;)if(z(Dn[Pn],bn))return!0;return!1},GeometryCollection:function(Qt,bn){for(var Dn=Qt.geometries,Pn=-1,qn=Dn.length;++Pn<qn;)if(O(Dn[Pn],bn))return!0;return!1}};function O(Qt,bn){return!(!Qt||!C.hasOwnProperty(Qt.type))&&C[Qt.type](Qt,bn)}function P(Qt,bn){return E(Qt,bn)===0}function D(Qt,bn){for(var Dn,Pn,qn,Qn=0,Jn=Qt.length;Qn<Jn;Qn++){if((Pn=E(Qt[Qn],bn))===0||Qn>0&&(qn=E(Qt[Qn],Qt[Qn-1]))>0&&Dn<=qn&&Pn<=qn&&(Dn+Pn-qn)*(1-Math.pow((Dn-Pn)/qn,2))<u.aW*qn)return!0;Dn=Pn}return!1}function z(Qt,bn){return!!(0,r.Z)(Qt.map(V),F(bn))}function V(Qt){return(Qt=Qt.map(F)).pop(),Qt}function F(Qt){return[Qt[0]*u.uR,Qt[1]*u.uR]}function W(Qt,bn){return(Qt&&A.hasOwnProperty(Qt.type)?A[Qt.type]:O)(Qt,bn)}var B=e(33064);function U(Qt,bn,Dn){var Pn=(0,B.w6)(Qt,bn-u.Ho,Dn).concat(bn);return function(qn){return Pn.map(function(Qn){return[qn,Qn]})}}function H(Qt,bn,Dn){var Pn=(0,B.w6)(Qt,bn-u.Ho,Dn).concat(bn);return function(qn){return Pn.map(function(Qn){return[Qn,qn]})}}function q(){var Qt,bn,Dn,Pn,qn,Qn,Jn,nr,yr,an,zn,Vt,en=10,pn=en,Nn=90,Fn=360,On=2.5;function mn(){return{type:"MultiLineString",coordinates:kn()}}function kn(){return(0,B.w6)((0,u.mD)(Pn/Nn)*Nn,Dn,Nn).map(zn).concat((0,B.w6)((0,u.mD)(nr/Fn)*Fn,Jn,Fn).map(Vt)).concat((0,B.w6)((0,u.mD)(bn/en)*en,Qt,en).filter(function(vn){return(0,u.Wn)(vn%Nn)>u.Ho}).map(yr)).concat((0,B.w6)((0,u.mD)(Qn/pn)*pn,qn,pn).filter(function(vn){return(0,u.Wn)(vn%Fn)>u.Ho}).map(an))}return mn.lines=function(){return kn().map(function(vn){return{type:"LineString",coordinates:vn}})},mn.outline=function(){return{type:"Polygon",coordinates:[zn(Pn).concat(Vt(Jn).slice(1),zn(Dn).reverse().slice(1),Vt(nr).reverse().slice(1))]}},mn.extent=function(vn){return arguments.length?mn.extentMajor(vn).extentMinor(vn):mn.extentMinor()},mn.extentMajor=function(vn){return arguments.length?(Pn=+vn[0][0],Dn=+vn[1][0],nr=+vn[0][1],Jn=+vn[1][1],Pn>Dn&&(vn=Pn,Pn=Dn,Dn=vn),nr>Jn&&(vn=nr,nr=Jn,Jn=vn),mn.precision(On)):[[Pn,nr],[Dn,Jn]]},mn.extentMinor=function(vn){return arguments.length?(bn=+vn[0][0],Qt=+vn[1][0],Qn=+vn[0][1],qn=+vn[1][1],bn>Qt&&(vn=bn,bn=Qt,Qt=vn),Qn>qn&&(vn=Qn,Qn=qn,qn=vn),mn.precision(On)):[[bn,Qn],[Qt,qn]]},mn.step=function(vn){return arguments.length?mn.stepMajor(vn).stepMinor(vn):mn.stepMinor()},mn.stepMajor=function(vn){return arguments.length?(Nn=+vn[0],Fn=+vn[1],mn):[Nn,Fn]},mn.stepMinor=function(vn){return arguments.length?(en=+vn[0],pn=+vn[1],mn):[en,pn]},mn.precision=function(vn){return arguments.length?(On=+vn,yr=U(Qn,qn,90),an=H(bn,Qt,On),zn=U(nr,Jn,90),Vt=H(Pn,Dn,On),mn):On},mn.extentMajor([[-180,-90+u.Ho],[180,90-u.Ho]]).extentMinor([[-180,-80-u.Ho],[180,80+u.Ho]])}function ee(){return q()()}var K,J,Z,$,ne=e(83074),ae=e(8593),oe=(0,i.Z)(),se=(0,i.Z)(),ce={point:p.Z,lineStart:p.Z,lineEnd:p.Z,polygonStart:function(){ce.lineStart=me,ce.lineEnd=fe},polygonEnd:function(){ce.lineStart=ce.lineEnd=ce.point=p.Z,oe.add((0,u.Wn)(se)),se.reset()},result:function(){var Qt=oe/2;return oe.reset(),Qt}};function me(){ce.point=xe}function xe(Qt,bn){ce.point=ve,K=Z=Qt,J=$=bn}function ve(Qt,bn){se.add($*Qt-Z*bn),Z=Qt,$=bn}function fe(){ve(K,J)}var pe,Le,ye,Ae,Me=ce,ke=e(3559),te=0,ue=0,ge=0,we=0,Ee=0,Be=0,Re=0,je=0,he=0,_e={point:Te,lineStart:Fe,lineEnd:ot,polygonStart:function(){_e.lineStart=st,_e.lineEnd=ht},polygonEnd:function(){_e.point=Te,_e.lineStart=Fe,_e.lineEnd=ot},result:function(){var Qt=he?[Re/he,je/he]:Be?[we/Be,Ee/Be]:ge?[te/ge,ue/ge]:[NaN,NaN];return te=ue=ge=we=Ee=Be=Re=je=he=0,Qt}};function Te(Qt,bn){te+=Qt,ue+=bn,++ge}function Fe(){_e.point=Ye}function Ye(Qt,bn){_e.point=Ge,Te(ye=Qt,Ae=bn)}function Ge(Qt,bn){var Dn=Qt-ye,Pn=bn-Ae,qn=(0,u._b)(Dn*Dn+Pn*Pn);we+=qn*(ye+Qt)/2,Ee+=qn*(Ae+bn)/2,Be+=qn,Te(ye=Qt,Ae=bn)}function ot(){_e.point=Te}function st(){_e.point=xt}function ht(){Ct(pe,Le)}function xt(Qt,bn){_e.point=Ct,Te(pe=ye=Qt,Le=Ae=bn)}function Ct(Qt,bn){var Dn=Qt-ye,Pn=bn-Ae,qn=(0,u._b)(Dn*Dn+Pn*Pn);we+=qn*(ye+Qt)/2,Ee+=qn*(Ae+bn)/2,Be+=qn,Re+=(qn=Ae*Qt-ye*bn)*(ye+Qt),je+=qn*(Ae+bn),he+=3*qn,Te(ye=Qt,Ae=bn)}var St=_e;function kt(Qt){this._context=Qt}kt.prototype={_radius:4.5,pointRadius:function(Qt){return this._radius=Qt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Qt,bn){switch(this._point){case 0:this._context.moveTo(Qt,bn),this._point=1;break;case 1:this._context.lineTo(Qt,bn);break;default:this._context.moveTo(Qt+this._radius,bn),this._context.arc(Qt,bn,this._radius,0,u.BZ)}},result:p.Z};var Nt,Dt,Et,Wt,Ht,Ke=(0,i.Z)(),$e={point:p.Z,lineStart:function(){$e.point=Ue},lineEnd:function(){Nt&&nt(Dt,Et),$e.point=p.Z},polygonStart:function(){Nt=!0},polygonEnd:function(){Nt=null},result:function(){var Qt=+Ke;return Ke.reset(),Qt}};function Ue(Qt,bn){$e.point=nt,Dt=Wt=Qt,Et=Ht=bn}function nt(Qt,bn){Wt-=Qt,Ht-=bn,Ke.add((0,u._b)(Wt*Wt+Ht*Ht)),Wt=Qt,Ht=bn}var ct=$e;function Oe(){this._string=[]}function Ne(Qt){return"m0,"+Qt+"a"+Qt+","+Qt+" 0 1,1 0,"+-2*Qt+"a"+Qt+","+Qt+" 0 1,1 0,"+2*Qt+"z"}function Qe(Qt,bn){var Dn,Pn,qn=4.5;function Qn(Jn){return Jn&&(typeof qn=="function"&&Pn.pointRadius(+qn.apply(this,arguments)),(0,h.Z)(Jn,Dn(Pn))),Pn.result()}return Qn.area=function(Jn){return(0,h.Z)(Jn,Dn(Me)),Me.result()},Qn.measure=function(Jn){return(0,h.Z)(Jn,Dn(ct)),ct.result()},Qn.bounds=function(Jn){return(0,h.Z)(Jn,Dn(ke.Z)),ke.Z.result()},Qn.centroid=function(Jn){return(0,h.Z)(Jn,Dn(St)),St.result()},Qn.projection=function(Jn){return arguments.length?(Dn=Jn==null?(Qt=null,ae.Z):(Qt=Jn).stream,Qn):Qt},Qn.context=function(Jn){return arguments.length?(Pn=Jn==null?(bn=null,new Oe):new kt(bn=Jn),typeof qn!="function"&&Pn.pointRadius(qn),Qn):bn},Qn.pointRadius=function(Jn){return arguments.length?(qn=typeof Jn=="function"?Jn:(Pn.pointRadius(+Jn),+Jn),Qn):qn},Qn.projection(Qt).context(bn)}Oe.prototype={_radius:4.5,_circle:Ne(4.5),pointRadius:function(Qt){return(Qt=+Qt)!==this._radius&&(this._radius=Qt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Qt,bn){switch(this._point){case 0:this._string.push("M",Qt,",",bn),this._point=1;break;case 1:this._string.push("L",Qt,",",bn);break;default:this._circle==null&&(this._circle=Ne(this._radius)),this._string.push("M",Qt,",",bn,this._circle)}},result:function(){if(this._string.length){var Qt=this._string.join("");return this._string=[],Qt}return null}};var ut=e(15002);function pt(Qt){var bn=0,Dn=u.pi/3,Pn=(0,ut.r)(Qt),qn=Pn(bn,Dn);return qn.parallels=function(Qn){return arguments.length?Pn(bn=Qn[0]*u.uR,Dn=Qn[1]*u.uR):[bn*u.RW,Dn*u.RW]},qn}function wt(Qt,bn){var Dn=(0,u.O$)(Qt),Pn=(Dn+(0,u.O$)(bn))/2;if((0,u.Wn)(Pn)<u.Ho)return function(nr){var yr=(0,u.mC)(nr);function an(zn,Vt){return[zn*yr,(0,u.O$)(Vt)/yr]}return an.invert=function(zn,Vt){return[zn/yr,(0,u.ZR)(Vt*yr)]},an}(Qt);var qn=1+Dn*(2*Pn-Dn),Qn=(0,u._b)(qn)/Pn;function Jn(nr,yr){var an=(0,u._b)(qn-2*Pn*(0,u.O$)(yr))/Pn;return[an*(0,u.O$)(nr*=Pn),Qn-an*(0,u.mC)(nr)]}return Jn.invert=function(nr,yr){var an=Qn-yr,zn=(0,u.fv)(nr,(0,u.Wn)(an))*(0,u.Xx)(an);return an*Pn<0&&(zn-=u.pi*(0,u.Xx)(nr)*(0,u.Xx)(an)),[zn/Pn,(0,u.ZR)((qn-(nr*nr+an*an)*Pn*Pn)/(2*Pn))]},Jn}function Lt(){return pt(wt).scale(155.424).center([0,33.6442])}function It(){return Lt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var yt=e(47589);function Rt(){var Qt,bn,Dn,Pn,qn,Qn,Jn=It(),nr=Lt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),yr=Lt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),an={point:function(en,pn){Qn=[en,pn]}};function zn(en){var pn=en[0],Nn=en[1];return Qn=null,Dn.point(pn,Nn),Qn||(Pn.point(pn,Nn),Qn)||(qn.point(pn,Nn),Qn)}function Vt(){return Qt=bn=null,zn}return zn.invert=function(en){var pn=Jn.scale(),Nn=Jn.translate(),Fn=(en[0]-Nn[0])/pn,On=(en[1]-Nn[1])/pn;return(On>=.12&&On<.234&&Fn>=-.425&&Fn<-.214?nr:On>=.166&&On<.234&&Fn>=-.214&&Fn<-.115?yr:Jn).invert(en)},zn.stream=function(en){return Qt&&bn===en?Qt:(pn=[Jn.stream(bn=en),nr.stream(en),yr.stream(en)],Nn=pn.length,Qt={point:function(Fn,On){for(var mn=-1;++mn<Nn;)pn[mn].point(Fn,On)},sphere:function(){for(var Fn=-1;++Fn<Nn;)pn[Fn].sphere()},lineStart:function(){for(var Fn=-1;++Fn<Nn;)pn[Fn].lineStart()},lineEnd:function(){for(var Fn=-1;++Fn<Nn;)pn[Fn].lineEnd()},polygonStart:function(){for(var Fn=-1;++Fn<Nn;)pn[Fn].polygonStart()},polygonEnd:function(){for(var Fn=-1;++Fn<Nn;)pn[Fn].polygonEnd()}});var pn,Nn},zn.precision=function(en){return arguments.length?(Jn.precision(en),nr.precision(en),yr.precision(en),Vt()):Jn.precision()},zn.scale=function(en){return arguments.length?(Jn.scale(en),nr.scale(.35*en),yr.scale(en),zn.translate(Jn.translate())):Jn.scale()},zn.translate=function(en){if(!arguments.length)return Jn.translate();var pn=Jn.scale(),Nn=+en[0],Fn=+en[1];return Dn=Jn.translate(en).clipExtent([[Nn-.455*pn,Fn-.238*pn],[Nn+.455*pn,Fn+.238*pn]]).stream(an),Pn=nr.translate([Nn-.307*pn,Fn+.201*pn]).clipExtent([[Nn-.425*pn+u.Ho,Fn+.12*pn+u.Ho],[Nn-.214*pn-u.Ho,Fn+.234*pn-u.Ho]]).stream(an),qn=yr.translate([Nn-.205*pn,Fn+.212*pn]).clipExtent([[Nn-.214*pn+u.Ho,Fn+.166*pn+u.Ho],[Nn-.115*pn-u.Ho,Fn+.234*pn-u.Ho]]).stream(an),Vt()},zn.fitExtent=function(en,pn){return(0,yt.qg)(zn,en,pn)},zn.fitSize=function(en,pn){return(0,yt.mF)(zn,en,pn)},zn.fitWidth=function(en,pn){return(0,yt.V6)(zn,en,pn)},zn.fitHeight=function(en,pn){return(0,yt.rf)(zn,en,pn)},zn.scale(1070)}var bt=e(12956),Pt=e(17889),Bt=e(49386);function Zt(Qt,bn){return[Qt,(0,u.cM)((0,u.OR)((u.ou+bn)/2))]}function Yt(){return Kt(Zt).scale(961/u.BZ)}function Kt(Qt){var bn,Dn,Pn,qn=(0,ut.Z)(Qt),Qn=qn.center,Jn=qn.scale,nr=qn.translate,yr=qn.clipExtent,an=null;function zn(){var Vt=u.pi*Jn(),en=qn((0,Bt.Z)(qn.rotate()).invert([0,0]));return yr(an==null?[[en[0]-Vt,en[1]-Vt],[en[0]+Vt,en[1]+Vt]]:Qt===Zt?[[Math.max(en[0]-Vt,an),bn],[Math.min(en[0]+Vt,Dn),Pn]]:[[an,Math.max(en[1]-Vt,bn)],[Dn,Math.min(en[1]+Vt,Pn)]])}return qn.scale=function(Vt){return arguments.length?(Jn(Vt),zn()):Jn()},qn.translate=function(Vt){return arguments.length?(nr(Vt),zn()):nr()},qn.center=function(Vt){return arguments.length?(Qn(Vt),zn()):Qn()},qn.clipExtent=function(Vt){return arguments.length?(Vt==null?an=bn=Dn=Pn=null:(an=+Vt[0][0],bn=+Vt[0][1],Dn=+Vt[1][0],Pn=+Vt[1][1]),zn()):an==null?null:[[an,bn],[Dn,Pn]]},zn()}function tn(Qt){return(0,u.OR)((u.ou+Qt)/2)}function on(Qt,bn){var Dn=(0,u.mC)(Qt),Pn=Qt===bn?(0,u.O$)(Qt):(0,u.cM)(Dn/(0,u.mC)(bn))/(0,u.cM)(tn(bn)/tn(Qt)),qn=Dn*(0,u.sQ)(tn(Qt),Pn)/Pn;if(!Pn)return Zt;function Qn(Jn,nr){qn>0?nr<-u.ou+u.Ho&&(nr=-u.ou+u.Ho):nr>u.ou-u.Ho&&(nr=u.ou-u.Ho);var yr=qn/(0,u.sQ)(tn(nr),Pn);return[yr*(0,u.O$)(Pn*Jn),qn-yr*(0,u.mC)(Pn*Jn)]}return Qn.invert=function(Jn,nr){var yr=qn-nr,an=(0,u.Xx)(Pn)*(0,u._b)(Jn*Jn+yr*yr),zn=(0,u.fv)(Jn,(0,u.Wn)(yr))*(0,u.Xx)(yr);return yr*Pn<0&&(zn-=u.pi*(0,u.Xx)(Jn)*(0,u.Xx)(yr)),[zn/Pn,2*(0,u.z4)((0,u.sQ)(qn/an,1/Pn))-u.ou]},Qn}function _n(){return pt(on).scale(109.5).parallels([30,30])}Zt.invert=function(Qt,bn){return[Qt,2*(0,u.z4)((0,u.Qq)(bn))-u.ou]};var fn=e(97492);function Sn(Qt,bn){var Dn=(0,u.mC)(Qt),Pn=Qt===bn?(0,u.O$)(Qt):(Dn-(0,u.mC)(bn))/(bn-Qt),qn=Dn/Pn+Qt;if((0,u.Wn)(Pn)<u.Ho)return fn.k;function Qn(Jn,nr){var yr=qn-nr,an=Pn*Jn;return[yr*(0,u.O$)(an),qn-yr*(0,u.mC)(an)]}return Qn.invert=function(Jn,nr){var yr=qn-nr,an=(0,u.fv)(Jn,(0,u.Wn)(yr))*(0,u.Xx)(yr);return yr*Pn<0&&(an-=u.pi*(0,u.Xx)(Jn)*(0,u.Xx)(yr)),[an/Pn,qn-(0,u.Xx)(Pn)*(0,u._b)(Jn*Jn+yr*yr)]},Qn}function Xn(){return pt(Sn).scale(131.154).center([0,13.9389])}var An=1.340264,un=-.081106,Tn=893e-6,gn=.003796,dn=(0,u._b)(3)/2;function Rn(Qt,bn){var Dn=(0,u.ZR)(dn*(0,u.O$)(bn)),Pn=Dn*Dn,qn=Pn*Pn*Pn;return[Qt*(0,u.mC)(Dn)/(dn*(An+3*un*Pn+qn*(7*Tn+9*gn*Pn))),Dn*(An+un*Pn+qn*(Tn+gn*Pn))]}function In(){return(0,ut.Z)(Rn).scale(177.158)}Rn.invert=function(Qt,bn){for(var Dn,Pn=bn,qn=Pn*Pn,Qn=qn*qn*qn,Jn=0;Jn<12&&(Qn=(qn=(Pn-=Dn=(Pn*(An+un*qn+Qn*(Tn+gn*qn))-bn)/(An+3*un*qn+Qn*(7*Tn+9*gn*qn)))*Pn)*qn*qn,!((0,u.Wn)(Dn)<u.aW));++Jn);return[dn*Qt*(An+3*un*qn+Qn*(7*Tn+9*gn*qn))/(0,u.mC)(Pn),(0,u.ZR)((0,u.O$)(Pn)/dn)]};var Hn=e(98936),Yn=e(64684);function Gn(){var Qt,bn,Dn,Pn,qn,Qn,Jn,nr=1,yr=0,an=0,zn=1,Vt=1,en=0,pn=null,Nn=1,Fn=1,On=(0,Yn.l)({point:function(xn,En){var Vn=vn([xn,En]);this.stream.point(Vn[0],Vn[1])}}),mn=ae.Z;function kn(){return Nn=nr*zn,Fn=nr*Vt,Qn=Jn=null,vn}function vn(xn){var En=xn[0]*Nn,Vn=xn[1]*Fn;if(en){var $n=Vn*Qt-En*bn;En=En*Qt+Vn*bn,Vn=$n}return[En+yr,Vn+an]}return vn.invert=function(xn){var En=xn[0]-yr,Vn=xn[1]-an;if(en){var $n=Vn*Qt+En*bn;En=En*Qt-Vn*bn,Vn=$n}return[En/Nn,Vn/Fn]},vn.stream=function(xn){return Qn&&Jn===xn?Qn:Qn=On(mn(Jn=xn))},vn.postclip=function(xn){return arguments.length?(mn=xn,pn=Dn=Pn=qn=null,kn()):mn},vn.clipExtent=function(xn){return arguments.length?(mn=xn==null?(pn=Dn=Pn=qn=null,ae.Z):(0,l.Z)(pn=+xn[0][0],Dn=+xn[0][1],Pn=+xn[1][0],qn=+xn[1][1]),kn()):pn==null?null:[[pn,Dn],[Pn,qn]]},vn.scale=function(xn){return arguments.length?(nr=+xn,kn()):nr},vn.translate=function(xn){return arguments.length?(yr=+xn[0],an=+xn[1],kn()):[yr,an]},vn.angle=function(xn){return arguments.length?(en=xn%360*u.uR,bn=(0,u.O$)(en),Qt=(0,u.mC)(en),kn()):en*u.RW},vn.reflectX=function(xn){return arguments.length?(zn=xn?-1:1,kn()):zn<0},vn.reflectY=function(xn){return arguments.length?(Vt=xn?-1:1,kn()):Vt<0},vn.fitExtent=function(xn,En){return(0,yt.qg)(vn,xn,En)},vn.fitSize=function(xn,En){return(0,yt.mF)(vn,xn,En)},vn.fitWidth=function(xn,En){return(0,yt.V6)(vn,xn,En)},vn.fitHeight=function(xn,En){return(0,yt.rf)(vn,xn,En)},vn}var cr=e(26867),ir=e(57962),Mr=e(25382);function gr(Qt,bn){var Dn=(0,u.mC)(bn),Pn=1+(0,u.mC)(Qt)*Dn;return[Dn*(0,u.O$)(Qt)/Pn,(0,u.O$)(bn)/Pn]}function sr(){return(0,ut.Z)(gr).scale(250).clipAngle(142)}function xr(Qt,bn){return[(0,u.cM)((0,u.OR)((u.ou+bn)/2)),-Qt]}function kr(){var Qt=Kt(xr),bn=Qt.center,Dn=Qt.rotate;return Qt.center=function(Pn){return arguments.length?bn([-Pn[1],Pn[0]]):[(Pn=bn())[1],-Pn[0]]},Qt.rotate=function(Pn){return arguments.length?Dn([Pn[0],Pn[1],Pn.length>2?Pn[2]+90:90]):[(Pn=Dn())[0],Pn[1],Pn[2]-90]},Dn([0,0,90]).scale(159.155)}gr.invert=(0,Mr.O)(function(Qt){return 2*(0,u.z4)(Qt)}),xr.invert=function(Qt,bn){return[-bn,2*(0,u.z4)((0,u.Qq)(Qt))-u.ou]}},83074:function(L,M,e){"use strict";e.d(M,{Z:function(){return w}});var b=e(39695);function w(a,k){var y=a[0]*b.uR,f=a[1]*b.uR,l=k[0]*b.uR,t=k[1]*b.uR,s=(0,b.mC)(f),o=(0,b.O$)(f),n=(0,b.mC)(t),r=(0,b.O$)(t),i=s*(0,b.mC)(y),u=s*(0,b.O$)(y),p=n*(0,b.mC)(l),h=n*(0,b.O$)(l),_=2*(0,b.ZR)((0,b._b)((0,b.Jy)(t-f)+s*n*(0,b.Jy)(l-y))),m=(0,b.O$)(_),d=_?function(x){var g=(0,b.O$)(x*=_)/m,v=(0,b.O$)(_-x)/m,T=v*i+g*p,c=v*u+g*h,E=v*o+g*r;return[(0,b.fv)(c,T)*b.RW,(0,b.fv)(E,(0,b._b)(T*T+c*c))*b.RW]}:function(){return[y*b.RW,f*b.RW]};return d.distance=_,d}},39695:function(L,M,e){"use strict";e.d(M,{BZ:function(){return f},Ho:function(){return b},Jy:function(){return T},Kh:function(){return g},O$:function(){return _},OR:function(){return x},Qq:function(){return u},RW:function(){return l},Wn:function(){return s},Xx:function(){return m},ZR:function(){return v},_b:function(){return d},aW:function(){return w},cM:function(){return p},fv:function(){return n},mC:function(){return r},mD:function(){return i},ou:function(){return k},pi:function(){return a},pu:function(){return y},sQ:function(){return h},uR:function(){return t},z4:function(){return o}});var b=1e-6,w=1e-12,a=Math.PI,k=a/2,y=a/4,f=2*a,l=180/a,t=a/180,s=Math.abs,o=Math.atan,n=Math.atan2,r=Math.cos,i=Math.ceil,u=Math.exp,p=Math.log,h=Math.pow,_=Math.sin,m=Math.sign||function(c){return c>0?1:c<0?-1:0},d=Math.sqrt,x=Math.tan;function g(c){return c>1?0:c<-1?a:Math.acos(c)}function v(c){return c>1?k:c<-1?-k:Math.asin(c)}function T(c){return(c=_(c/2))*c}},73182:function(L,M,e){"use strict";function b(){}e.d(M,{Z:function(){return b}})},3559:function(L,M,e){"use strict";var b=e(73182),w=1/0,a=w,k=-w,y=k,f={point:function(l,t){l<w&&(w=l),l>k&&(k=l),t<a&&(a=t),t>y&&(y=t)},lineStart:b.Z,lineEnd:b.Z,polygonStart:b.Z,polygonEnd:b.Z,result:function(){var l=[[w,a],[k,y]];return k=y=-(a=w=1/0),l}};M.Z=f},67108:function(L,M,e){"use strict";e.d(M,{Z:function(){return w}});var b=e(39695);function w(a,k){return(0,b.Wn)(a[0]-k[0])<b.Ho&&(0,b.Wn)(a[1]-k[1])<b.Ho}},23071:function(L,M,e){"use strict";e.d(M,{Z:function(){return f}});var b=e(33940),w=e(7620),a=e(39695),k=(0,b.Z)();function y(l){return(0,a.Wn)(l[0])<=a.pi?l[0]:(0,a.Xx)(l[0])*(((0,a.Wn)(l[0])+a.pi)%a.BZ-a.pi)}function f(l,t){var s=y(t),o=t[1],n=(0,a.O$)(o),r=[(0,a.O$)(s),-(0,a.mC)(s),0],i=0,u=0;k.reset(),n===1?o=a.ou+a.Ho:n===-1&&(o=-a.ou-a.Ho);for(var p=0,h=l.length;p<h;++p)if(m=(_=l[p]).length)for(var _,m,d=_[m-1],x=y(d),g=d[1]/2+a.pu,v=(0,a.O$)(g),T=(0,a.mC)(g),c=0;c<m;++c,x=A,v=O,T=P,d=E){var E=_[c],A=y(E),C=E[1]/2+a.pu,O=(0,a.O$)(C),P=(0,a.mC)(C),D=A-x,z=D>=0?1:-1,V=z*D,F=V>a.pi,W=v*O;if(k.add((0,a.fv)(W*z*(0,a.O$)(V),T*P+W*(0,a.mC)(V))),i+=F?D+z*a.BZ:D,F^x>=s^A>=s){var B=(0,w.T5)((0,w.Og)(d),(0,w.Og)(E));(0,w.iJ)(B);var U=(0,w.T5)(r,B);(0,w.iJ)(U);var H=(F^D>=0?-1:1)*(0,a.ZR)(U[2]);(o>H||o===H&&(B[0]||B[1]))&&(u+=F^D>=0?1:-1)}}return(i<-a.Ho||i<a.Ho&&k<-a.Ho)^1&u}},25382:function(L,M,e){"use strict";e.d(M,{O:function(){return a},W:function(){return w}});var b=e(39695);function w(k){return function(y,f){var l=(0,b.mC)(y),t=(0,b.mC)(f),s=k(l*t);return[s*t*(0,b.O$)(y),s*(0,b.O$)(f)]}}function a(k){return function(y,f){var l=(0,b._b)(y*y+f*f),t=k(l),s=(0,b.O$)(t),o=(0,b.mC)(t);return[(0,b.fv)(y*s,l*o),(0,b.ZR)(l&&f*s/l)]}}},12956:function(L,M,e){"use strict";e.d(M,{Z:function(){return y},l:function(){return k}});var b=e(39695),w=e(25382),a=e(15002),k=(0,w.W)(function(f){return(0,b._b)(2/(1+f))});function y(){return(0,a.Z)(k).scale(124.75).clipAngle(179.999)}k.invert=(0,w.O)(function(f){return 2*(0,b.ZR)(f/2)})},17889:function(L,M,e){"use strict";e.d(M,{N:function(){return k},Z:function(){return y}});var b=e(39695),w=e(25382),a=e(15002),k=(0,w.W)(function(f){return(f=(0,b.Kh)(f))&&f/(0,b.O$)(f)});function y(){return(0,a.Z)(k).scale(79.4188).clipAngle(179.999)}k.invert=(0,w.O)(function(f){return f})},97492:function(L,M,e){"use strict";e.d(M,{Z:function(){return a},k:function(){return w}});var b=e(15002);function w(k,y){return[k,y]}function a(){return(0,b.Z)(w).scale(152.63)}w.invert=w},47589:function(L,M,e){"use strict";e.d(M,{V6:function(){return f},mF:function(){return y},qg:function(){return k},rf:function(){return l}});var b=e(72736),w=e(3559);function a(t,s,o){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,b.Z)(o,t.stream(w.Z)),s(w.Z.result()),n!=null&&t.clipExtent(n),t}function k(t,s,o){return a(t,function(n){var r=s[1][0]-s[0][0],i=s[1][1]-s[0][1],u=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),p=+s[0][0]+(r-u*(n[1][0]+n[0][0]))/2,h=+s[0][1]+(i-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([p,h])},o)}function y(t,s,o){return k(t,[[0,0],s],o)}function f(t,s,o){return a(t,function(n){var r=+s,i=r/(n[1][0]-n[0][0]),u=(r-i*(n[1][0]+n[0][0]))/2,p=-i*n[0][1];t.scale(150*i).translate([u,p])},o)}function l(t,s,o){return a(t,function(n){var r=+s,i=r/(n[1][1]-n[0][1]),u=-i*n[0][0],p=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([u,p])},o)}},98936:function(L,M,e){"use strict";e.d(M,{M:function(){return k},Z:function(){return y}});var b=e(39695),w=e(25382),a=e(15002);function k(f,l){var t=(0,b.mC)(l),s=(0,b.mC)(f)*t;return[t*(0,b.O$)(f)/s,(0,b.O$)(l)/s]}function y(){return(0,a.Z)(k).scale(144.049).clipAngle(60)}k.invert=(0,w.O)(b.z4)},15002:function(L,M,e){"use strict";e.d(M,{Z:function(){return h},r:function(){return _}});var b=e(87070),w=e(1457),a=e(87605),k=e(96059),y=e(8593),f=e(39695),l=e(49386),t=e(64684),s=e(47589),o=e(7620),n=(0,f.mC)(30*f.uR);function r(m,d){return+d?function(x,g){function v(T,c,E,A,C,O,P,D,z,V,F,W,B,U){var H=P-T,q=D-c,ee=H*H+q*q;if(ee>4*g&&B--){var K=A+V,J=C+F,Z=O+W,$=(0,f._b)(K*K+J*J+Z*Z),ne=(0,f.ZR)(Z/=$),ae=(0,f.Wn)((0,f.Wn)(Z)-1)<f.Ho||(0,f.Wn)(E-z)<f.Ho?(E+z)/2:(0,f.fv)(J,K),oe=x(ae,ne),se=oe[0],ce=oe[1],me=se-T,xe=ce-c,ve=q*me-H*xe;(ve*ve/ee>g||(0,f.Wn)((H*me+q*xe)/ee-.5)>.3||A*V+C*F+O*W<n)&&(v(T,c,E,A,C,O,se,ce,ae,K/=$,J/=$,Z,B,U),U.point(se,ce),v(se,ce,ae,K,J,Z,P,D,z,V,F,W,B,U))}}return function(T){var c,E,A,C,O,P,D,z,V,F,W,B,U={point:H,lineStart:q,lineEnd:K,polygonStart:function(){T.polygonStart(),U.lineStart=J},polygonEnd:function(){T.polygonEnd(),U.lineStart=q}};function H(ne,ae){ne=x(ne,ae),T.point(ne[0],ne[1])}function q(){z=NaN,U.point=ee,T.lineStart()}function ee(ne,ae){var oe=(0,o.Og)([ne,ae]),se=x(ne,ae);v(z,V,D,F,W,B,z=se[0],V=se[1],D=ne,F=oe[0],W=oe[1],B=oe[2],16,T),T.point(z,V)}function K(){U.point=H,T.lineEnd()}function J(){q(),U.point=Z,U.lineEnd=$}function Z(ne,ae){ee(c=ne,ae),E=z,A=V,C=F,O=W,P=B,U.point=ee}function $(){v(z,V,D,F,W,B,E,A,c,C,O,P,16,T),U.lineEnd=K,K()}return U}}(m,d):function(x){return(0,t.l)({point:function(g,v){g=x(g,v),this.stream.point(g[0],g[1])}})}(m)}var i=(0,t.l)({point:function(m,d){this.stream.point(m*f.uR,d*f.uR)}});function u(m,d,x,g,v){function T(c,E){return[d+m*(c*=g),x-m*(E*=v)]}return T.invert=function(c,E){return[(c-d)/m*g,(x-E)/m*v]},T}function p(m,d,x,g,v,T){var c=(0,f.mC)(T),E=(0,f.O$)(T),A=c*m,C=E*m,O=c/m,P=E/m,D=(E*x-c*d)/m,z=(E*d+c*x)/m;function V(F,W){return[A*(F*=g)-C*(W*=v)+d,x-C*F-A*W]}return V.invert=function(F,W){return[g*(O*F-P*W+D),v*(z-P*F-O*W)]},V}function h(m){return _(function(){return m})()}function _(m){var d,x,g,v,T,c,E,A,C,O,P=150,D=480,z=250,V=0,F=0,W=0,B=0,U=0,H=0,q=1,ee=1,K=null,J=b.Z,Z=null,$=y.Z,ne=.5;function ae(me){return A(me[0]*f.uR,me[1]*f.uR)}function oe(me){return(me=A.invert(me[0],me[1]))&&[me[0]*f.RW,me[1]*f.RW]}function se(){var me=p(P,0,0,q,ee,H).apply(null,d(V,F)),xe=(H?p:u)(P,D-me[0],z-me[1],q,ee,H);return x=(0,l.I)(W,B,U),E=(0,k.Z)(d,xe),A=(0,k.Z)(x,E),c=r(E,ne),ce()}function ce(){return C=O=null,ae}return ae.stream=function(me){return C&&O===me?C:C=i(function(xe){return(0,t.l)({point:function(ve,fe){var pe=xe(ve,fe);return this.stream.point(pe[0],pe[1])}})}(x)(J(c($(O=me)))))},ae.preclip=function(me){return arguments.length?(J=me,K=void 0,ce()):J},ae.postclip=function(me){return arguments.length?($=me,Z=g=v=T=null,ce()):$},ae.clipAngle=function(me){return arguments.length?(J=+me?(0,w.Z)(K=me*f.uR):(K=null,b.Z),ce()):K*f.RW},ae.clipExtent=function(me){return arguments.length?($=me==null?(Z=g=v=T=null,y.Z):(0,a.Z)(Z=+me[0][0],g=+me[0][1],v=+me[1][0],T=+me[1][1]),ce()):Z==null?null:[[Z,g],[v,T]]},ae.scale=function(me){return arguments.length?(P=+me,se()):P},ae.translate=function(me){return arguments.length?(D=+me[0],z=+me[1],se()):[D,z]},ae.center=function(me){return arguments.length?(V=me[0]%360*f.uR,F=me[1]%360*f.uR,se()):[V*f.RW,F*f.RW]},ae.rotate=function(me){return arguments.length?(W=me[0]%360*f.uR,B=me[1]%360*f.uR,U=me.length>2?me[2]%360*f.uR:0,se()):[W*f.RW,B*f.RW,U*f.RW]},ae.angle=function(me){return arguments.length?(H=me%360*f.uR,se()):H*f.RW},ae.reflectX=function(me){return arguments.length?(q=me?-1:1,se()):q<0},ae.reflectY=function(me){return arguments.length?(ee=me?-1:1,se()):ee<0},ae.precision=function(me){return arguments.length?(c=r(E,ne=me*me),ce()):(0,f._b)(ne)},ae.fitExtent=function(me,xe){return(0,s.qg)(ae,me,xe)},ae.fitSize=function(me,xe){return(0,s.mF)(ae,me,xe)},ae.fitWidth=function(me,xe){return(0,s.V6)(ae,me,xe)},ae.fitHeight=function(me,xe){return(0,s.rf)(ae,me,xe)},function(){return d=m.apply(this,arguments),ae.invert=d.invert&&oe,se()}}},26867:function(L,M,e){"use strict";e.d(M,{K:function(){return a},Z:function(){return k}});var b=e(15002),w=e(39695);function a(y,f){var l=f*f,t=l*l;return[y*(.8707-.131979*l+t*(t*(.003971*l-.001529*t)-.013791)),f*(1.007226+l*(.015085+t*(.028874*l-.044475-.005916*t)))]}function k(){return(0,b.Z)(a).scale(175.295)}a.invert=function(y,f){var l,t=f,s=25;do{var o=t*t,n=o*o;t-=l=(t*(1.007226+o*(.015085+n*(.028874*o-.044475-.005916*n)))-f)/(1.007226+o*(.045255+n*(.259866*o-.311325-.06507600000000001*n)))}while((0,w.Wn)(l)>w.Ho&&--s>0);return[y/(.8707+(o=t*t)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),t]}},57962:function(L,M,e){"use strict";e.d(M,{I:function(){return k},Z:function(){return y}});var b=e(39695),w=e(25382),a=e(15002);function k(f,l){return[(0,b.mC)(l)*(0,b.O$)(f),(0,b.O$)(l)]}function y(){return(0,a.Z)(k).scale(249.5).clipAngle(90+b.Ho)}k.invert=(0,w.O)(b.ZR)},49386:function(L,M,e){"use strict";e.d(M,{I:function(){return k},Z:function(){return t}});var b=e(96059),w=e(39695);function a(s,o){return[(0,w.Wn)(s)>w.pi?s+Math.round(-s/w.BZ)*w.BZ:s,o]}function k(s,o,n){return(s%=w.BZ)?o||n?(0,b.Z)(f(s),l(o,n)):f(s):o||n?l(o,n):a}function y(s){return function(o,n){return[(o+=s)>w.pi?o-w.BZ:o<-w.pi?o+w.BZ:o,n]}}function f(s){var o=y(s);return o.invert=y(-s),o}function l(s,o){var n=(0,w.mC)(s),r=(0,w.O$)(s),i=(0,w.mC)(o),u=(0,w.O$)(o);function p(h,_){var m=(0,w.mC)(_),d=(0,w.mC)(h)*m,x=(0,w.O$)(h)*m,g=(0,w.O$)(_),v=g*n+d*r;return[(0,w.fv)(x*i-v*u,d*n-g*r),(0,w.ZR)(v*i+x*u)]}return p.invert=function(h,_){var m=(0,w.mC)(_),d=(0,w.mC)(h)*m,x=(0,w.O$)(h)*m,g=(0,w.O$)(_),v=g*i-x*u;return[(0,w.fv)(x*i+g*u,d*n+v*r),(0,w.ZR)(v*n-d*r)]},p}function t(s){function o(n){return(n=s(n[0]*w.uR,n[1]*w.uR))[0]*=w.RW,n[1]*=w.RW,n}return s=k(s[0]*w.uR,s[1]*w.uR,s.length>2?s[2]*w.uR:0),o.invert=function(n){return(n=s.invert(n[0]*w.uR,n[1]*w.uR))[0]*=w.RW,n[1]*=w.RW,n},o}a.invert=a},72736:function(L,M,e){"use strict";function b(l,t){l&&a.hasOwnProperty(l.type)&&a[l.type](l,t)}e.d(M,{Z:function(){return f}});var w={Feature:function(l,t){b(l.geometry,t)},FeatureCollection:function(l,t){for(var s=l.features,o=-1,n=s.length;++o<n;)b(s[o].geometry,t)}},a={Sphere:function(l,t){t.sphere()},Point:function(l,t){l=l.coordinates,t.point(l[0],l[1],l[2])},MultiPoint:function(l,t){for(var s=l.coordinates,o=-1,n=s.length;++o<n;)l=s[o],t.point(l[0],l[1],l[2])},LineString:function(l,t){k(l.coordinates,t,0)},MultiLineString:function(l,t){for(var s=l.coordinates,o=-1,n=s.length;++o<n;)k(s[o],t,0)},Polygon:function(l,t){y(l.coordinates,t)},MultiPolygon:function(l,t){for(var s=l.coordinates,o=-1,n=s.length;++o<n;)y(s[o],t)},GeometryCollection:function(l,t){for(var s=l.geometries,o=-1,n=s.length;++o<n;)b(s[o],t)}};function k(l,t,s){var o,n=-1,r=l.length-s;for(t.lineStart();++n<r;)o=l[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function y(l,t){var s=-1,o=l.length;for(t.polygonStart();++s<o;)k(l[s],t,1);t.polygonEnd()}function f(l,t){l&&w.hasOwnProperty(l.type)?w[l.type](l,t):b(l,t)}},64684:function(L,M,e){"use strict";function b(k){return{stream:w(k)}}function w(k){return function(y){var f=new a;for(var l in k)f[l]=k[l];return f.stream=y,f}}function a(){}e.d(M,{Z:function(){return b},l:function(){return w}}),a.prototype={constructor:a,point:function(k,y){this.stream.point(k,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(L,M,e){"use strict";function b(ke,te){return ke.parent===te.parent?1:2}function w(ke,te){return ke+te.x}function a(ke,te){return Math.max(ke,te.y)}function k(){var ke=b,te=1,ue=1,ge=!1;function we(Ee){var Be,Re=0;Ee.eachAfter(function(Fe){var Ye=Fe.children;Ye?(Fe.x=function(Ge){return Ge.reduce(w,0)/Ge.length}(Ye),Fe.y=function(Ge){return 1+Ge.reduce(a,0)}(Ye)):(Fe.x=Be?Re+=ke(Fe,Be):0,Fe.y=0,Be=Fe)});var je=function(Fe){for(var Ye;Ye=Fe.children;)Fe=Ye[0];return Fe}(Ee),he=function(Fe){for(var Ye;Ye=Fe.children;)Fe=Ye[Ye.length-1];return Fe}(Ee),_e=je.x-ke(je,he)/2,Te=he.x+ke(he,je)/2;return Ee.eachAfter(ge?function(Fe){Fe.x=(Fe.x-Ee.x)*te,Fe.y=(Ee.y-Fe.y)*ue}:function(Fe){Fe.x=(Fe.x-_e)/(Te-_e)*te,Fe.y=(1-(Ee.y?Fe.y/Ee.y:1))*ue})}return we.separation=function(Ee){return arguments.length?(ke=Ee,we):ke},we.size=function(Ee){return arguments.length?(ge=!1,te=+Ee[0],ue=+Ee[1],we):ge?null:[te,ue]},we.nodeSize=function(Ee){return arguments.length?(ge=!0,te=+Ee[0],ue=+Ee[1],we):ge?[te,ue]:null},we}function y(ke){var te=0,ue=ke.children,ge=ue&&ue.length;if(ge)for(;--ge>=0;)te+=ue[ge].value;else te=1;ke.value=te}function f(ke,te){var ue,ge,we,Ee,Be,Re=new o(ke),je=+ke.value&&(Re.value=ke.value),he=[Re];for(te==null&&(te=l);ue=he.pop();)if(je&&(ue.value=+ue.data.value),(we=te(ue.data))&&(Be=we.length))for(ue.children=new Array(Be),Ee=Be-1;Ee>=0;--Ee)he.push(ge=ue.children[Ee]=new o(we[Ee])),ge.parent=ue,ge.depth=ue.depth+1;return Re.eachBefore(s)}function l(ke){return ke.children}function t(ke){ke.data=ke.data.data}function s(ke){var te=0;do ke.height=te;while((ke=ke.parent)&&ke.height<++te)}function o(ke){this.data=ke,this.depth=this.height=0,this.parent=null}e.r(M),e.d(M,{cluster:function(){return k},hierarchy:function(){return f},pack:function(){return z},packEnclose:function(){return r},packSiblings:function(){return E},partition:function(){return H},stratify:function(){return Z},tree:function(){return me},treemap:function(){return Le},treemapBinary:function(){return ye},treemapDice:function(){return U},treemapResquarify:function(){return Me},treemapSlice:function(){return xe},treemapSliceDice:function(){return Ae},treemapSquarify:function(){return pe}}),o.prototype=f.prototype={constructor:o,count:function(){return this.eachAfter(y)},each:function(ke){var te,ue,ge,we,Ee=this,Be=[Ee];do for(te=Be.reverse(),Be=[];Ee=te.pop();)if(ke(Ee),ue=Ee.children)for(ge=0,we=ue.length;ge<we;++ge)Be.push(ue[ge]);while(Be.length);return this},eachAfter:function(ke){for(var te,ue,ge,we=this,Ee=[we],Be=[];we=Ee.pop();)if(Be.push(we),te=we.children)for(ue=0,ge=te.length;ue<ge;++ue)Ee.push(te[ue]);for(;we=Be.pop();)ke(we);return this},eachBefore:function(ke){for(var te,ue,ge=this,we=[ge];ge=we.pop();)if(ke(ge),te=ge.children)for(ue=te.length-1;ue>=0;--ue)we.push(te[ue]);return this},sum:function(ke){return this.eachAfter(function(te){for(var ue=+ke(te.data)||0,ge=te.children,we=ge&&ge.length;--we>=0;)ue+=ge[we].value;te.value=ue})},sort:function(ke){return this.eachBefore(function(te){te.children&&te.children.sort(ke)})},path:function(ke){for(var te=this,ue=function(Ee,Be){if(Ee===Be)return Ee;var Re=Ee.ancestors(),je=Be.ancestors(),he=null;for(Ee=Re.pop(),Be=je.pop();Ee===Be;)he=Ee,Ee=Re.pop(),Be=je.pop();return he}(te,ke),ge=[te];te!==ue;)te=te.parent,ge.push(te);for(var we=ge.length;ke!==ue;)ge.splice(we,0,ke),ke=ke.parent;return ge},ancestors:function(){for(var ke=this,te=[ke];ke=ke.parent;)te.push(ke);return te},descendants:function(){var ke=[];return this.each(function(te){ke.push(te)}),ke},leaves:function(){var ke=[];return this.eachBefore(function(te){te.children||ke.push(te)}),ke},links:function(){var ke=this,te=[];return ke.each(function(ue){ue!==ke&&te.push({source:ue.parent,target:ue})}),te},copy:function(){return f(this).eachBefore(t)}};var n=Array.prototype.slice;function r(ke){for(var te,ue,ge=0,we=(ke=function(Be){for(var Re,je,he=Be.length;he;)je=Math.random()*he--|0,Re=Be[he],Be[he]=Be[je],Be[je]=Re;return Be}(n.call(ke))).length,Ee=[];ge<we;)te=ke[ge],ue&&p(ue,te)?++ge:(ue=_(Ee=i(Ee,te)),ge=0);return ue}function i(ke,te){var ue,ge;if(h(te,ke))return[te];for(ue=0;ue<ke.length;++ue)if(u(te,ke[ue])&&h(m(ke[ue],te),ke))return[ke[ue],te];for(ue=0;ue<ke.length-1;++ue)for(ge=ue+1;ge<ke.length;++ge)if(u(m(ke[ue],ke[ge]),te)&&u(m(ke[ue],te),ke[ge])&&u(m(ke[ge],te),ke[ue])&&h(d(ke[ue],ke[ge],te),ke))return[ke[ue],ke[ge],te];throw new Error}function u(ke,te){var ue=ke.r-te.r,ge=te.x-ke.x,we=te.y-ke.y;return ue<0||ue*ue<ge*ge+we*we}function p(ke,te){var ue=ke.r-te.r+1e-6,ge=te.x-ke.x,we=te.y-ke.y;return ue>0&&ue*ue>ge*ge+we*we}function h(ke,te){for(var ue=0;ue<te.length;++ue)if(!p(ke,te[ue]))return!1;return!0}function _(ke){switch(ke.length){case 1:return{x:(te=ke[0]).x,y:te.y,r:te.r};case 2:return m(ke[0],ke[1]);case 3:return d(ke[0],ke[1],ke[2])}var te}function m(ke,te){var ue=ke.x,ge=ke.y,we=ke.r,Ee=te.x,Be=te.y,Re=te.r,je=Ee-ue,he=Be-ge,_e=Re-we,Te=Math.sqrt(je*je+he*he);return{x:(ue+Ee+je/Te*_e)/2,y:(ge+Be+he/Te*_e)/2,r:(Te+we+Re)/2}}function d(ke,te,ue){var ge=ke.x,we=ke.y,Ee=ke.r,Be=te.x,Re=te.y,je=te.r,he=ue.x,_e=ue.y,Te=ue.r,Fe=ge-Be,Ye=ge-he,Ge=we-Re,ot=we-_e,st=je-Ee,ht=Te-Ee,xt=ge*ge+we*we-Ee*Ee,Ct=xt-Be*Be-Re*Re+je*je,St=xt-he*he-_e*_e+Te*Te,kt=Ye*Ge-Fe*ot,Nt=(Ge*St-ot*Ct)/(2*kt)-ge,Dt=(ot*st-Ge*ht)/kt,Et=(Ye*Ct-Fe*St)/(2*kt)-we,Wt=(Fe*ht-Ye*st)/kt,Ht=Dt*Dt+Wt*Wt-1,Ke=2*(Ee+Nt*Dt+Et*Wt),$e=Nt*Nt+Et*Et-Ee*Ee,Ue=-(Ht?(Ke+Math.sqrt(Ke*Ke-4*Ht*$e))/(2*Ht):$e/Ke);return{x:ge+Nt+Dt*Ue,y:we+Et+Wt*Ue,r:Ue}}function x(ke,te,ue){var ge,we,Ee,Be,Re=ke.x-te.x,je=ke.y-te.y,he=Re*Re+je*je;he?(we=te.r+ue.r,we*=we,Be=ke.r+ue.r,we>(Be*=Be)?(ge=(he+Be-we)/(2*he),Ee=Math.sqrt(Math.max(0,Be/he-ge*ge)),ue.x=ke.x-ge*Re-Ee*je,ue.y=ke.y-ge*je+Ee*Re):(ge=(he+we-Be)/(2*he),Ee=Math.sqrt(Math.max(0,we/he-ge*ge)),ue.x=te.x+ge*Re-Ee*je,ue.y=te.y+ge*je+Ee*Re)):(ue.x=te.x+ue.r,ue.y=te.y)}function g(ke,te){var ue=ke.r+te.r-1e-6,ge=te.x-ke.x,we=te.y-ke.y;return ue>0&&ue*ue>ge*ge+we*we}function v(ke){var te=ke._,ue=ke.next._,ge=te.r+ue.r,we=(te.x*ue.r+ue.x*te.r)/ge,Ee=(te.y*ue.r+ue.y*te.r)/ge;return we*we+Ee*Ee}function T(ke){this._=ke,this.next=null,this.previous=null}function c(ke){if(!(we=ke.length))return 0;var te,ue,ge,we,Ee,Be,Re,je,he,_e,Te;if((te=ke[0]).x=0,te.y=0,!(we>1))return te.r;if(ue=ke[1],te.x=-ue.r,ue.x=te.r,ue.y=0,!(we>2))return te.r+ue.r;x(ue,te,ge=ke[2]),te=new T(te),ue=new T(ue),ge=new T(ge),te.next=ge.previous=ue,ue.next=te.previous=ge,ge.next=ue.previous=te;e:for(Re=3;Re<we;++Re){x(te._,ue._,ge=ke[Re]),ge=new T(ge),je=ue.next,he=te.previous,_e=ue._.r,Te=te._.r;do if(_e<=Te){if(g(je._,ge._)){ue=je,te.next=ue,ue.previous=te,--Re;continue e}_e+=je._.r,je=je.next}else{if(g(he._,ge._)){(te=he).next=ue,ue.previous=te,--Re;continue e}Te+=he._.r,he=he.previous}while(je!==he.next);for(ge.previous=te,ge.next=ue,te.next=ue.previous=ue=ge,Ee=v(te);(ge=ge.next)!==ue;)(Be=v(ge))<Ee&&(te=ge,Ee=Be);ue=te.next}for(te=[ue._],ge=ue;(ge=ge.next)!==ue;)te.push(ge._);for(ge=r(te),Re=0;Re<we;++Re)(te=ke[Re]).x-=ge.x,te.y-=ge.y;return ge.r}function E(ke){return c(ke),ke}function A(ke){return ke==null?null:C(ke)}function C(ke){if(typeof ke!="function")throw new Error;return ke}function O(){return 0}function P(ke){return function(){return ke}}function D(ke){return Math.sqrt(ke.value)}function z(){var ke=null,te=1,ue=1,ge=O;function we(Ee){return Ee.x=te/2,Ee.y=ue/2,ke?Ee.eachBefore(V(ke)).eachAfter(F(ge,.5)).eachBefore(W(1)):Ee.eachBefore(V(D)).eachAfter(F(O,1)).eachAfter(F(ge,Ee.r/Math.min(te,ue))).eachBefore(W(Math.min(te,ue)/(2*Ee.r))),Ee}return we.radius=function(Ee){return arguments.length?(ke=A(Ee),we):ke},we.size=function(Ee){return arguments.length?(te=+Ee[0],ue=+Ee[1],we):[te,ue]},we.padding=function(Ee){return arguments.length?(ge=typeof Ee=="function"?Ee:P(+Ee),we):ge},we}function V(ke){return function(te){te.children||(te.r=Math.max(0,+ke(te)||0))}}function F(ke,te){return function(ue){if(ge=ue.children){var ge,we,Ee,Be=ge.length,Re=ke(ue)*te||0;if(Re)for(we=0;we<Be;++we)ge[we].r+=Re;if(Ee=c(ge),Re)for(we=0;we<Be;++we)ge[we].r-=Re;ue.r=Ee+Re}}}function W(ke){return function(te){var ue=te.parent;te.r*=ke,ue&&(te.x=ue.x+ke*te.x,te.y=ue.y+ke*te.y)}}function B(ke){ke.x0=Math.round(ke.x0),ke.y0=Math.round(ke.y0),ke.x1=Math.round(ke.x1),ke.y1=Math.round(ke.y1)}function U(ke,te,ue,ge,we){for(var Ee,Be=ke.children,Re=-1,je=Be.length,he=ke.value&&(ge-te)/ke.value;++Re<je;)(Ee=Be[Re]).y0=ue,Ee.y1=we,Ee.x0=te,Ee.x1=te+=Ee.value*he}function H(){var ke=1,te=1,ue=0,ge=!1;function we(Ee){var Be=Ee.height+1;return Ee.x0=Ee.y0=ue,Ee.x1=ke,Ee.y1=te/Be,Ee.eachBefore(function(Re,je){return function(he){he.children&&U(he,he.x0,Re*(he.depth+1)/je,he.x1,Re*(he.depth+2)/je);var _e=he.x0,Te=he.y0,Fe=he.x1-ue,Ye=he.y1-ue;Fe<_e&&(_e=Fe=(_e+Fe)/2),Ye<Te&&(Te=Ye=(Te+Ye)/2),he.x0=_e,he.y0=Te,he.x1=Fe,he.y1=Ye}}(te,Be)),ge&&Ee.eachBefore(B),Ee}return we.round=function(Ee){return arguments.length?(ge=!!Ee,we):ge},we.size=function(Ee){return arguments.length?(ke=+Ee[0],te=+Ee[1],we):[ke,te]},we.padding=function(Ee){return arguments.length?(ue=+Ee,we):ue},we}var q={depth:-1},ee={};function K(ke){return ke.id}function J(ke){return ke.parentId}function Z(){var ke=K,te=J;function ue(ge){var we,Ee,Be,Re,je,he,_e,Te=ge.length,Fe=new Array(Te),Ye={};for(Ee=0;Ee<Te;++Ee)we=ge[Ee],je=Fe[Ee]=new o(we),(he=ke(we,Ee,ge))!=null&&(he+="")&&(Ye[_e="$"+(je.id=he)]=_e in Ye?ee:je);for(Ee=0;Ee<Te;++Ee)if(je=Fe[Ee],(he=te(ge[Ee],Ee,ge))!=null&&(he+="")){if(!(Re=Ye["$"+he]))throw new Error("missing: "+he);if(Re===ee)throw new Error("ambiguous: "+he);Re.children?Re.children.push(je):Re.children=[je],je.parent=Re}else{if(Be)throw new Error("multiple roots");Be=je}if(!Be)throw new Error("no root");if(Be.parent=q,Be.eachBefore(function(Ge){Ge.depth=Ge.parent.depth+1,--Te}).eachBefore(s),Be.parent=null,Te>0)throw new Error("cycle");return Be}return ue.id=function(ge){return arguments.length?(ke=C(ge),ue):ke},ue.parentId=function(ge){return arguments.length?(te=C(ge),ue):te},ue}function $(ke,te){return ke.parent===te.parent?1:2}function ne(ke){var te=ke.children;return te?te[0]:ke.t}function ae(ke){var te=ke.children;return te?te[te.length-1]:ke.t}function oe(ke,te,ue){var ge=ue/(te.i-ke.i);te.c-=ge,te.s+=ue,ke.c+=ge,te.z+=ue,te.m+=ue}function se(ke,te,ue){return ke.a.parent===te.parent?ke.a:ue}function ce(ke,te){this._=ke,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=te}function me(){var ke=$,te=1,ue=1,ge=null;function we(je){var he=function(ht){for(var xt,Ct,St,kt,Nt,Dt=new ce(ht,0),Et=[Dt];xt=Et.pop();)if(St=xt._.children)for(xt.children=new Array(Nt=St.length),kt=Nt-1;kt>=0;--kt)Et.push(Ct=xt.children[kt]=new ce(St[kt],kt)),Ct.parent=xt;return(Dt.parent=new ce(null,0)).children=[Dt],Dt}(je);if(he.eachAfter(Ee),he.parent.m=-he.z,he.eachBefore(Be),ge)je.eachBefore(Re);else{var _e=je,Te=je,Fe=je;je.eachBefore(function(ht){ht.x<_e.x&&(_e=ht),ht.x>Te.x&&(Te=ht),ht.depth>Fe.depth&&(Fe=ht)});var Ye=_e===Te?1:ke(_e,Te)/2,Ge=Ye-_e.x,ot=te/(Te.x+Ye+Ge),st=ue/(Fe.depth||1);je.eachBefore(function(ht){ht.x=(ht.x+Ge)*ot,ht.y=ht.depth*st})}return je}function Ee(je){var he=je.children,_e=je.parent.children,Te=je.i?_e[je.i-1]:null;if(he){(function(Ye){for(var Ge,ot=0,st=0,ht=Ye.children,xt=ht.length;--xt>=0;)(Ge=ht[xt]).z+=ot,Ge.m+=ot,ot+=Ge.s+(st+=Ge.c)})(je);var Fe=(he[0].z+he[he.length-1].z)/2;Te?(je.z=Te.z+ke(je._,Te._),je.m=je.z-Fe):je.z=Fe}else Te&&(je.z=Te.z+ke(je._,Te._));je.parent.A=function(Ye,Ge,ot){if(Ge){for(var st,ht=Ye,xt=Ye,Ct=Ge,St=ht.parent.children[0],kt=ht.m,Nt=xt.m,Dt=Ct.m,Et=St.m;Ct=ae(Ct),ht=ne(ht),Ct&&ht;)St=ne(St),(xt=ae(xt)).a=Ye,(st=Ct.z+Dt-ht.z-kt+ke(Ct._,ht._))>0&&(oe(se(Ct,Ye,ot),Ye,st),kt+=st,Nt+=st),Dt+=Ct.m,kt+=ht.m,Et+=St.m,Nt+=xt.m;Ct&&!ae(xt)&&(xt.t=Ct,xt.m+=Dt-Nt),ht&&!ne(St)&&(St.t=ht,St.m+=kt-Et,ot=Ye)}return ot}(je,Te,je.parent.A||_e[0])}function Be(je){je._.x=je.z+je.parent.m,je.m+=je.parent.m}function Re(je){je.x*=te,je.y=je.depth*ue}return we.separation=function(je){return arguments.length?(ke=je,we):ke},we.size=function(je){return arguments.length?(ge=!1,te=+je[0],ue=+je[1],we):ge?null:[te,ue]},we.nodeSize=function(je){return arguments.length?(ge=!0,te=+je[0],ue=+je[1],we):ge?[te,ue]:null},we}function xe(ke,te,ue,ge,we){for(var Ee,Be=ke.children,Re=-1,je=Be.length,he=ke.value&&(we-ue)/ke.value;++Re<je;)(Ee=Be[Re]).x0=te,Ee.x1=ge,Ee.y0=ue,Ee.y1=ue+=Ee.value*he}ce.prototype=Object.create(o.prototype);var ve=(1+Math.sqrt(5))/2;function fe(ke,te,ue,ge,we,Ee){for(var Be,Re,je,he,_e,Te,Fe,Ye,Ge,ot,st,ht=[],xt=te.children,Ct=0,St=0,kt=xt.length,Nt=te.value;Ct<kt;){je=we-ue,he=Ee-ge;do _e=xt[St++].value;while(!_e&&St<kt);for(Te=Fe=_e,st=_e*_e*(ot=Math.max(he/je,je/he)/(Nt*ke)),Ge=Math.max(Fe/st,st/Te);St<kt;++St){if(_e+=Re=xt[St].value,Re<Te&&(Te=Re),Re>Fe&&(Fe=Re),st=_e*_e*ot,(Ye=Math.max(Fe/st,st/Te))>Ge){_e-=Re;break}Ge=Ye}ht.push(Be={value:_e,dice:je<he,children:xt.slice(Ct,St)}),Be.dice?U(Be,ue,ge,we,Nt?ge+=he*_e/Nt:Ee):xe(Be,ue,ge,Nt?ue+=je*_e/Nt:we,Ee),Nt-=_e,Ct=St}return ht}var pe=function ke(te){function ue(ge,we,Ee,Be,Re){fe(te,ge,we,Ee,Be,Re)}return ue.ratio=function(ge){return ke((ge=+ge)>1?ge:1)},ue}(ve);function Le(){var ke=pe,te=!1,ue=1,ge=1,we=[0],Ee=O,Be=O,Re=O,je=O,he=O;function _e(Fe){return Fe.x0=Fe.y0=0,Fe.x1=ue,Fe.y1=ge,Fe.eachBefore(Te),we=[0],te&&Fe.eachBefore(B),Fe}function Te(Fe){var Ye=we[Fe.depth],Ge=Fe.x0+Ye,ot=Fe.y0+Ye,st=Fe.x1-Ye,ht=Fe.y1-Ye;st<Ge&&(Ge=st=(Ge+st)/2),ht<ot&&(ot=ht=(ot+ht)/2),Fe.x0=Ge,Fe.y0=ot,Fe.x1=st,Fe.y1=ht,Fe.children&&(Ye=we[Fe.depth+1]=Ee(Fe)/2,Ge+=he(Fe)-Ye,ot+=Be(Fe)-Ye,(st-=Re(Fe)-Ye)<Ge&&(Ge=st=(Ge+st)/2),(ht-=je(Fe)-Ye)<ot&&(ot=ht=(ot+ht)/2),ke(Fe,Ge,ot,st,ht))}return _e.round=function(Fe){return arguments.length?(te=!!Fe,_e):te},_e.size=function(Fe){return arguments.length?(ue=+Fe[0],ge=+Fe[1],_e):[ue,ge]},_e.tile=function(Fe){return arguments.length?(ke=C(Fe),_e):ke},_e.padding=function(Fe){return arguments.length?_e.paddingInner(Fe).paddingOuter(Fe):_e.paddingInner()},_e.paddingInner=function(Fe){return arguments.length?(Ee=typeof Fe=="function"?Fe:P(+Fe),_e):Ee},_e.paddingOuter=function(Fe){return arguments.length?_e.paddingTop(Fe).paddingRight(Fe).paddingBottom(Fe).paddingLeft(Fe):_e.paddingTop()},_e.paddingTop=function(Fe){return arguments.length?(Be=typeof Fe=="function"?Fe:P(+Fe),_e):Be},_e.paddingRight=function(Fe){return arguments.length?(Re=typeof Fe=="function"?Fe:P(+Fe),_e):Re},_e.paddingBottom=function(Fe){return arguments.length?(je=typeof Fe=="function"?Fe:P(+Fe),_e):je},_e.paddingLeft=function(Fe){return arguments.length?(he=typeof Fe=="function"?Fe:P(+Fe),_e):he},_e}function ye(ke,te,ue,ge,we){var Ee,Be,Re=ke.children,je=Re.length,he=new Array(je+1);for(he[0]=Be=Ee=0;Ee<je;++Ee)he[Ee+1]=Be+=Re[Ee].value;(function _e(Te,Fe,Ye,Ge,ot,st,ht){if(Te>=Fe-1){var xt=Re[Te];return xt.x0=Ge,xt.y0=ot,xt.x1=st,void(xt.y1=ht)}for(var Ct=he[Te],St=Ye/2+Ct,kt=Te+1,Nt=Fe-1;kt<Nt;){var Dt=kt+Nt>>>1;he[Dt]<St?kt=Dt+1:Nt=Dt}St-he[kt-1]<he[kt]-St&&Te+1<kt&&--kt;var Et=he[kt]-Ct,Wt=Ye-Et;if(st-Ge>ht-ot){var Ht=(Ge*Wt+st*Et)/Ye;_e(Te,kt,Et,Ge,ot,Ht,ht),_e(kt,Fe,Wt,Ht,ot,st,ht)}else{var Ke=(ot*Wt+ht*Et)/Ye;_e(Te,kt,Et,Ge,ot,st,Ke),_e(kt,Fe,Wt,Ge,Ke,st,ht)}})(0,je,ke.value,te,ue,ge,we)}function Ae(ke,te,ue,ge,we){(1&ke.depth?xe:U)(ke,te,ue,ge,we)}var Me=function ke(te){function ue(ge,we,Ee,Be,Re){if((je=ge._squarify)&&je.ratio===te)for(var je,he,_e,Te,Fe,Ye=-1,Ge=je.length,ot=ge.value;++Ye<Ge;){for(_e=(he=je[Ye]).children,Te=he.value=0,Fe=_e.length;Te<Fe;++Te)he.value+=_e[Te].value;he.dice?U(he,we,Ee,Be,Ee+=(Re-Ee)*he.value/ot):xe(he,we,Ee,we+=(Be-we)*he.value/ot,Re),ot-=he.value}else ge._squarify=je=fe(te,ge,we,Ee,Be,Re),je.ratio=te}return ue.ratio=function(ge){return ke((ge=+ge)>1?ge:1)},ue}(ve)},45879:function(L,M,e){"use strict";e.d(M,{h5:function(){return p}});var b=Math.PI,w=2*b,a=1e-6,k=w-a;function y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function f(){return new y}y.prototype=f.prototype={constructor:y,moveTo:function(h,_){this._+="M"+(this._x0=this._x1=+h)+","+(this._y0=this._y1=+_)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(h,_){this._+="L"+(this._x1=+h)+","+(this._y1=+_)},quadraticCurveTo:function(h,_,m,d){this._+="Q"+ +h+","+ +_+","+(this._x1=+m)+","+(this._y1=+d)},bezierCurveTo:function(h,_,m,d,x,g){this._+="C"+ +h+","+ +_+","+ +m+","+ +d+","+(this._x1=+x)+","+(this._y1=+g)},arcTo:function(h,_,m,d,x){h=+h,_=+_,m=+m,d=+d,x=+x;var g=this._x1,v=this._y1,T=m-h,c=d-_,E=g-h,A=v-_,C=E*E+A*A;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=h)+","+(this._y1=_);else if(C>a)if(Math.abs(A*T-c*E)>a&&x){var O=m-g,P=d-v,D=T*T+c*c,z=O*O+P*P,V=Math.sqrt(D),F=Math.sqrt(C),W=x*Math.tan((b-Math.acos((D+C-z)/(2*V*F)))/2),B=W/F,U=W/V;Math.abs(B-1)>a&&(this._+="L"+(h+B*E)+","+(_+B*A)),this._+="A"+x+","+x+",0,0,"+ +(A*O>E*P)+","+(this._x1=h+U*T)+","+(this._y1=_+U*c)}else this._+="L"+(this._x1=h)+","+(this._y1=_)},arc:function(h,_,m,d,x,g){h=+h,_=+_,g=!!g;var v=(m=+m)*Math.cos(d),T=m*Math.sin(d),c=h+v,E=_+T,A=1^g,C=g?d-x:x-d;if(m<0)throw new Error("negative radius: "+m);this._x1===null?this._+="M"+c+","+E:(Math.abs(this._x1-c)>a||Math.abs(this._y1-E)>a)&&(this._+="L"+c+","+E),m&&(C<0&&(C=C%w+w),C>k?this._+="A"+m+","+m+",0,1,"+A+","+(h-v)+","+(_-T)+"A"+m+","+m+",0,1,"+A+","+(this._x1=c)+","+(this._y1=E):C>a&&(this._+="A"+m+","+m+",0,"+ +(C>=b)+","+A+","+(this._x1=h+m*Math.cos(x))+","+(this._y1=_+m*Math.sin(x))))},rect:function(h,_,m,d){this._+="M"+(this._x0=this._x1=+h)+","+(this._y0=this._y1=+_)+"h"+ +m+"v"+ +d+"h"+-m+"Z"},toString:function(){return this._}};var l=f,t=Array.prototype.slice;function s(h){return function(){return h}}function o(h){return h[0]}function n(h){return h[1]}function r(h){return h.source}function i(h){return h.target}function u(h,_,m,d,x){h.moveTo(_,m),h.bezierCurveTo(_=(_+d)/2,m,_,x,d,x)}function p(){return function(h){var _=r,m=i,d=o,x=n,g=null;function v(){var T,c=t.call(arguments),E=_.apply(this,c),A=m.apply(this,c);if(g||(g=T=l()),h(g,+d.apply(this,(c[0]=E,c)),+x.apply(this,c),+d.apply(this,(c[0]=A,c)),+x.apply(this,c)),T)return g=null,T+""||null}return v.source=function(T){return arguments.length?(_=T,v):_},v.target=function(T){return arguments.length?(m=T,v):m},v.x=function(T){return arguments.length?(d=typeof T=="function"?T:s(+T),v):d},v.y=function(T){return arguments.length?(x=typeof T=="function"?T:s(+T),v):x},v.context=function(T){return arguments.length?(g=T??null,v):g},v}(u)}},84096:function(L,M,e){"use strict";e.d(M,{i$:function(){return r},Dq:function(){return o},g0:function(){return i}});var b=e(58176),w=e(48480),a=e(59879),k=e(82301),y=e(34823),f=e(79791);function l(kt){if(0<=kt.y&&kt.y<100){var Nt=new Date(-1,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L);return Nt.setFullYear(kt.y),Nt}return new Date(kt.y,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L)}function t(kt){if(0<=kt.y&&kt.y<100){var Nt=new Date(Date.UTC(-1,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L));return Nt.setUTCFullYear(kt.y),Nt}return new Date(Date.UTC(kt.y,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L))}function s(kt,Nt,Dt){return{y:kt,m:Nt,d:Dt,H:0,M:0,S:0,L:0}}function o(kt){var Nt=kt.dateTime,Dt=kt.date,Et=kt.time,Wt=kt.periods,Ht=kt.days,Ke=kt.shortDays,$e=kt.months,Ue=kt.shortMonths,nt=x(Wt),ct=g(Wt),Oe=x(Ht),Ne=g(Ht),Qe=x(Ke),ut=g(Ke),pt=x($e),wt=g($e),Lt=x(Ue),It=g(Ue),yt={a:function(Yt){return Ke[Yt.getDay()]},A:function(Yt){return Ht[Yt.getDay()]},b:function(Yt){return Ue[Yt.getMonth()]},B:function(Yt){return $e[Yt.getMonth()]},c:null,d:Z,e:Z,f:se,H:$,I:ne,j:ae,L:oe,m:ce,M:me,p:function(Yt){return Wt[+(Yt.getHours()>=12)]},q:function(Yt){return 1+~~(Yt.getMonth()/3)},Q:Ct,s:St,S:xe,u:ve,U:fe,V:pe,w:Le,W:ye,x:null,X:null,y:Ae,Y:Me,Z:ke,"%":xt},Rt={a:function(Yt){return Ke[Yt.getUTCDay()]},A:function(Yt){return Ht[Yt.getUTCDay()]},b:function(Yt){return Ue[Yt.getUTCMonth()]},B:function(Yt){return $e[Yt.getUTCMonth()]},c:null,d:te,e:te,f:Be,H:ue,I:ge,j:we,L:Ee,m:Re,M:je,p:function(Yt){return Wt[+(Yt.getUTCHours()>=12)]},q:function(Yt){return 1+~~(Yt.getUTCMonth()/3)},Q:Ct,s:St,S:he,u:_e,U:Te,V:Fe,w:Ye,W:Ge,x:null,X:null,y:ot,Y:st,Z:ht,"%":xt},bt={a:function(Yt,Kt,tn){var on=Qe.exec(Kt.slice(tn));return on?(Yt.w=ut[on[0].toLowerCase()],tn+on[0].length):-1},A:function(Yt,Kt,tn){var on=Oe.exec(Kt.slice(tn));return on?(Yt.w=Ne[on[0].toLowerCase()],tn+on[0].length):-1},b:function(Yt,Kt,tn){var on=Lt.exec(Kt.slice(tn));return on?(Yt.m=It[on[0].toLowerCase()],tn+on[0].length):-1},B:function(Yt,Kt,tn){var on=pt.exec(Kt.slice(tn));return on?(Yt.m=wt[on[0].toLowerCase()],tn+on[0].length):-1},c:function(Yt,Kt,tn){return Zt(Yt,Nt,Kt,tn)},d:V,e:V,f:q,H:W,I:W,j:F,L:H,m:z,M:B,p:function(Yt,Kt,tn){var on=nt.exec(Kt.slice(tn));return on?(Yt.p=ct[on[0].toLowerCase()],tn+on[0].length):-1},q:D,Q:K,s:J,S:U,u:T,U:c,V:E,w:v,W:A,x:function(Yt,Kt,tn){return Zt(Yt,Dt,Kt,tn)},X:function(Yt,Kt,tn){return Zt(Yt,Et,Kt,tn)},y:O,Y:C,Z:P,"%":ee};function Pt(Yt,Kt){return function(tn){var on,_n,fn,Sn=[],Xn=-1,An=0,un=Yt.length;for(tn instanceof Date||(tn=new Date(+tn));++Xn<un;)Yt.charCodeAt(Xn)===37&&(Sn.push(Yt.slice(An,Xn)),(_n=u[on=Yt.charAt(++Xn)])!=null?on=Yt.charAt(++Xn):_n=on==="e"?" ":"0",(fn=Kt[on])&&(on=fn(tn,_n)),Sn.push(on),An=Xn+1);return Sn.push(Yt.slice(An,Xn)),Sn.join("")}}function Bt(Yt,Kt){return function(tn){var on,_n,fn=s(1900,void 0,1);if(Zt(fn,Yt,tn+="",0)!=tn.length)return null;if("Q"in fn)return new Date(fn.Q);if("s"in fn)return new Date(1e3*fn.s+("L"in fn?fn.L:0));if(Kt&&!("Z"in fn)&&(fn.Z=0),"p"in fn&&(fn.H=fn.H%12+12*fn.p),fn.m===void 0&&(fn.m="q"in fn?fn.q:0),"V"in fn){if(fn.V<1||fn.V>53)return null;"w"in fn||(fn.w=1),"Z"in fn?(_n=(on=t(s(fn.y,0,1))).getUTCDay(),on=_n>4||_n===0?b.l6.ceil(on):(0,b.l6)(on),on=w.Z.offset(on,7*(fn.V-1)),fn.y=on.getUTCFullYear(),fn.m=on.getUTCMonth(),fn.d=on.getUTCDate()+(fn.w+6)%7):(_n=(on=l(s(fn.y,0,1))).getDay(),on=_n>4||_n===0?a.wA.ceil(on):(0,a.wA)(on),on=k.Z.offset(on,7*(fn.V-1)),fn.y=on.getFullYear(),fn.m=on.getMonth(),fn.d=on.getDate()+(fn.w+6)%7)}else("W"in fn||"U"in fn)&&("w"in fn||(fn.w="u"in fn?fn.u%7:"W"in fn?1:0),_n="Z"in fn?t(s(fn.y,0,1)).getUTCDay():l(s(fn.y,0,1)).getDay(),fn.m=0,fn.d="W"in fn?(fn.w+6)%7+7*fn.W-(_n+5)%7:fn.w+7*fn.U-(_n+6)%7);return"Z"in fn?(fn.H+=fn.Z/100|0,fn.M+=fn.Z%100,t(fn)):l(fn)}}function Zt(Yt,Kt,tn,on){for(var _n,fn,Sn=0,Xn=Kt.length,An=tn.length;Sn<Xn;){if(on>=An)return-1;if((_n=Kt.charCodeAt(Sn++))===37){if(_n=Kt.charAt(Sn++),!(fn=bt[_n in u?Kt.charAt(Sn++):_n])||(on=fn(Yt,tn,on))<0)return-1}else if(_n!=tn.charCodeAt(on++))return-1}return on}return yt.x=Pt(Dt,yt),yt.X=Pt(Et,yt),yt.c=Pt(Nt,yt),Rt.x=Pt(Dt,Rt),Rt.X=Pt(Et,Rt),Rt.c=Pt(Nt,Rt),{format:function(Yt){var Kt=Pt(Yt+="",yt);return Kt.toString=function(){return Yt},Kt},parse:function(Yt){var Kt=Bt(Yt+="",!1);return Kt.toString=function(){return Yt},Kt},utcFormat:function(Yt){var Kt=Pt(Yt+="",Rt);return Kt.toString=function(){return Yt},Kt},utcParse:function(Yt){var Kt=Bt(Yt+="",!0);return Kt.toString=function(){return Yt},Kt}}}var n,r,i,u={"-":"",_:" ",0:"0"},p=/^\s*\d+/,h=/^%/,_=/[\\^$*+?|[\]().{}]/g;function m(kt,Nt,Dt){var Et=kt<0?"-":"",Wt=(Et?-kt:kt)+"",Ht=Wt.length;return Et+(Ht<Dt?new Array(Dt-Ht+1).join(Nt)+Wt:Wt)}function d(kt){return kt.replace(_,"\\$&")}function x(kt){return new RegExp("^(?:"+kt.map(d).join("|")+")","i")}function g(kt){for(var Nt={},Dt=-1,Et=kt.length;++Dt<Et;)Nt[kt[Dt].toLowerCase()]=Dt;return Nt}function v(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+1));return Et?(kt.w=+Et[0],Dt+Et[0].length):-1}function T(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+1));return Et?(kt.u=+Et[0],Dt+Et[0].length):-1}function c(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.U=+Et[0],Dt+Et[0].length):-1}function E(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.V=+Et[0],Dt+Et[0].length):-1}function A(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.W=+Et[0],Dt+Et[0].length):-1}function C(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+4));return Et?(kt.y=+Et[0],Dt+Et[0].length):-1}function O(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.y=+Et[0]+(+Et[0]>68?1900:2e3),Dt+Et[0].length):-1}function P(kt,Nt,Dt){var Et=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Nt.slice(Dt,Dt+6));return Et?(kt.Z=Et[1]?0:-(Et[2]+(Et[3]||"00")),Dt+Et[0].length):-1}function D(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+1));return Et?(kt.q=3*Et[0]-3,Dt+Et[0].length):-1}function z(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.m=Et[0]-1,Dt+Et[0].length):-1}function V(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.d=+Et[0],Dt+Et[0].length):-1}function F(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+3));return Et?(kt.m=0,kt.d=+Et[0],Dt+Et[0].length):-1}function W(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.H=+Et[0],Dt+Et[0].length):-1}function B(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.M=+Et[0],Dt+Et[0].length):-1}function U(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+2));return Et?(kt.S=+Et[0],Dt+Et[0].length):-1}function H(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+3));return Et?(kt.L=+Et[0],Dt+Et[0].length):-1}function q(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt,Dt+6));return Et?(kt.L=Math.floor(Et[0]/1e3),Dt+Et[0].length):-1}function ee(kt,Nt,Dt){var Et=h.exec(Nt.slice(Dt,Dt+1));return Et?Dt+Et[0].length:-1}function K(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt));return Et?(kt.Q=+Et[0],Dt+Et[0].length):-1}function J(kt,Nt,Dt){var Et=p.exec(Nt.slice(Dt));return Et?(kt.s=+Et[0],Dt+Et[0].length):-1}function Z(kt,Nt){return m(kt.getDate(),Nt,2)}function $(kt,Nt){return m(kt.getHours(),Nt,2)}function ne(kt,Nt){return m(kt.getHours()%12||12,Nt,2)}function ae(kt,Nt){return m(1+k.Z.count((0,y.Z)(kt),kt),Nt,3)}function oe(kt,Nt){return m(kt.getMilliseconds(),Nt,3)}function se(kt,Nt){return oe(kt,Nt)+"000"}function ce(kt,Nt){return m(kt.getMonth()+1,Nt,2)}function me(kt,Nt){return m(kt.getMinutes(),Nt,2)}function xe(kt,Nt){return m(kt.getSeconds(),Nt,2)}function ve(kt){var Nt=kt.getDay();return Nt===0?7:Nt}function fe(kt,Nt){return m(a.OM.count((0,y.Z)(kt)-1,kt),Nt,2)}function pe(kt,Nt){var Dt=kt.getDay();return kt=Dt>=4||Dt===0?(0,a.bL)(kt):a.bL.ceil(kt),m(a.bL.count((0,y.Z)(kt),kt)+((0,y.Z)(kt).getDay()===4),Nt,2)}function Le(kt){return kt.getDay()}function ye(kt,Nt){return m(a.wA.count((0,y.Z)(kt)-1,kt),Nt,2)}function Ae(kt,Nt){return m(kt.getFullYear()%100,Nt,2)}function Me(kt,Nt){return m(kt.getFullYear()%1e4,Nt,4)}function ke(kt){var Nt=kt.getTimezoneOffset();return(Nt>0?"-":(Nt*=-1,"+"))+m(Nt/60|0,"0",2)+m(Nt%60,"0",2)}function te(kt,Nt){return m(kt.getUTCDate(),Nt,2)}function ue(kt,Nt){return m(kt.getUTCHours(),Nt,2)}function ge(kt,Nt){return m(kt.getUTCHours()%12||12,Nt,2)}function we(kt,Nt){return m(1+w.Z.count((0,f.Z)(kt),kt),Nt,3)}function Ee(kt,Nt){return m(kt.getUTCMilliseconds(),Nt,3)}function Be(kt,Nt){return Ee(kt,Nt)+"000"}function Re(kt,Nt){return m(kt.getUTCMonth()+1,Nt,2)}function je(kt,Nt){return m(kt.getUTCMinutes(),Nt,2)}function he(kt,Nt){return m(kt.getUTCSeconds(),Nt,2)}function _e(kt){var Nt=kt.getUTCDay();return Nt===0?7:Nt}function Te(kt,Nt){return m(b.Ox.count((0,f.Z)(kt)-1,kt),Nt,2)}function Fe(kt,Nt){var Dt=kt.getUTCDay();return kt=Dt>=4||Dt===0?(0,b.hB)(kt):b.hB.ceil(kt),m(b.hB.count((0,f.Z)(kt),kt)+((0,f.Z)(kt).getUTCDay()===4),Nt,2)}function Ye(kt){return kt.getUTCDay()}function Ge(kt,Nt){return m(b.l6.count((0,f.Z)(kt)-1,kt),Nt,2)}function ot(kt,Nt){return m(kt.getUTCFullYear()%100,Nt,2)}function st(kt,Nt){return m(kt.getUTCFullYear()%1e4,Nt,4)}function ht(){return"+0000"}function xt(){return"%"}function Ct(kt){return+kt}function St(kt){return Math.floor(+kt/1e3)}n=o({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),r=n.format,n.parse,i=n.utcFormat,n.utcParse},82301:function(L,M,e){"use strict";e.d(M,{a:function(){return k}});var b=e(30052),w=e(54263),a=(0,b.Z)(function(y){y.setHours(0,0,0,0)},function(y,f){y.setDate(y.getDate()+f)},function(y,f){return(f-y-(f.getTimezoneOffset()-y.getTimezoneOffset())*w.yB)/w.UD},function(y){return y.getDate()-1});M.Z=a;var k=a.range},54263:function(L,M,e){"use strict";e.d(M,{UD:function(){return k},Y2:function(){return a},Ym:function(){return b},iM:function(){return y},yB:function(){return w}});var b=1e3,w=6e4,a=36e5,k=864e5,y=6048e5},81041:function(L,M,e){"use strict";e.r(M),e.d(M,{timeDay:function(){return p.Z},timeDays:function(){return p.a},timeFriday:function(){return h.mC},timeFridays:function(){return h.b$},timeHour:function(){return i},timeHours:function(){return u},timeInterval:function(){return b.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return k},timeMinute:function(){return o},timeMinutes:function(){return n},timeMonday:function(){return h.wA},timeMondays:function(){return h.bJ},timeMonth:function(){return m},timeMonths:function(){return d},timeSaturday:function(){return h.EY},timeSaturdays:function(){return h.Ff},timeSecond:function(){return l},timeSeconds:function(){return t},timeSunday:function(){return h.OM},timeSundays:function(){return h.vm},timeThursday:function(){return h.bL},timeThursdays:function(){return h.$t},timeTuesday:function(){return h.sy},timeTuesdays:function(){return h.aU},timeWednesday:function(){return h.zg},timeWednesdays:function(){return h.Ld},timeWeek:function(){return h.OM},timeWeeks:function(){return h.vm},timeYear:function(){return x.Z},timeYears:function(){return x.g},utcDay:function(){return C.Z},utcDays:function(){return C.y},utcFriday:function(){return O.QQ},utcFridays:function(){return O.fz},utcHour:function(){return E},utcHours:function(){return A},utcMillisecond:function(){return a},utcMilliseconds:function(){return k},utcMinute:function(){return v},utcMinutes:function(){return T},utcMonday:function(){return O.l6},utcMondays:function(){return O.$3},utcMonth:function(){return D},utcMonths:function(){return z},utcSaturday:function(){return O.g4},utcSaturdays:function(){return O.Q_},utcSecond:function(){return l},utcSeconds:function(){return t},utcSunday:function(){return O.Ox},utcSundays:function(){return O.SU},utcThursday:function(){return O.hB},utcThursdays:function(){return O.xj},utcTuesday:function(){return O.J1},utcTuesdays:function(){return O.DK},utcWednesday:function(){return O.b3},utcWednesdays:function(){return O.uy},utcWeek:function(){return O.Ox},utcWeeks:function(){return O.SU},utcYear:function(){return V.Z},utcYears:function(){return V.D}});var b=e(30052),w=(0,b.Z)(function(){},function(F,W){F.setTime(+F+W)},function(F,W){return W-F});w.every=function(F){return F=Math.floor(F),isFinite(F)&&F>0?F>1?(0,b.Z)(function(W){W.setTime(Math.floor(W/F)*F)},function(W,B){W.setTime(+W+B*F)},function(W,B){return(B-W)/F}):w:null};var a=w,k=w.range,y=e(54263),f=(0,b.Z)(function(F){F.setTime(F-F.getMilliseconds())},function(F,W){F.setTime(+F+W*y.Ym)},function(F,W){return(W-F)/y.Ym},function(F){return F.getUTCSeconds()}),l=f,t=f.range,s=(0,b.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*y.Ym)},function(F,W){F.setTime(+F+W*y.yB)},function(F,W){return(W-F)/y.yB},function(F){return F.getMinutes()}),o=s,n=s.range,r=(0,b.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*y.Ym-F.getMinutes()*y.yB)},function(F,W){F.setTime(+F+W*y.Y2)},function(F,W){return(W-F)/y.Y2},function(F){return F.getHours()}),i=r,u=r.range,p=e(82301),h=e(59879),_=(0,b.Z)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,W){F.setMonth(F.getMonth()+W)},function(F,W){return W.getMonth()-F.getMonth()+12*(W.getFullYear()-F.getFullYear())},function(F){return F.getMonth()}),m=_,d=_.range,x=e(34823),g=(0,b.Z)(function(F){F.setUTCSeconds(0,0)},function(F,W){F.setTime(+F+W*y.yB)},function(F,W){return(W-F)/y.yB},function(F){return F.getUTCMinutes()}),v=g,T=g.range,c=(0,b.Z)(function(F){F.setUTCMinutes(0,0,0)},function(F,W){F.setTime(+F+W*y.Y2)},function(F,W){return(W-F)/y.Y2},function(F){return F.getUTCHours()}),E=c,A=c.range,C=e(48480),O=e(58176),P=(0,b.Z)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,W){F.setUTCMonth(F.getUTCMonth()+W)},function(F,W){return W.getUTCMonth()-F.getUTCMonth()+12*(W.getUTCFullYear()-F.getUTCFullYear())},function(F){return F.getUTCMonth()}),D=P,z=P.range,V=e(79791)},30052:function(L,M,e){"use strict";e.d(M,{Z:function(){return a}});var b=new Date,w=new Date;function a(k,y,f,l){function t(s){return k(s=arguments.length===0?new Date:new Date(+s)),s}return t.floor=function(s){return k(s=new Date(+s)),s},t.ceil=function(s){return k(s=new Date(s-1)),y(s,1),k(s),s},t.round=function(s){var o=t(s),n=t.ceil(s);return s-o<n-s?o:n},t.offset=function(s,o){return y(s=new Date(+s),o==null?1:Math.floor(o)),s},t.range=function(s,o,n){var r,i=[];if(s=t.ceil(s),n=n==null?1:Math.floor(n),!(s<o&&n>0))return i;do i.push(r=new Date(+s)),y(s,n),k(s);while(r<s&&s<o);return i},t.filter=function(s){return a(function(o){if(o>=o)for(;k(o),!s(o);)o.setTime(o-1)},function(o,n){if(o>=o)if(n<0)for(;++n<=0;)for(;y(o,-1),!s(o););else for(;--n>=0;)for(;y(o,1),!s(o););})},f&&(t.count=function(s,o){return b.setTime(+s),w.setTime(+o),k(b),k(w),Math.floor(f(b,w))},t.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?t.filter(l?function(o){return l(o)%s==0}:function(o){return t.count(0,o)%s==0}):t:null}),t}},48480:function(L,M,e){"use strict";e.d(M,{y:function(){return k}});var b=e(30052),w=e(54263),a=(0,b.Z)(function(y){y.setUTCHours(0,0,0,0)},function(y,f){y.setUTCDate(y.getUTCDate()+f)},function(y,f){return(f-y)/w.UD},function(y){return y.getUTCDate()-1});M.Z=a;var k=a.range},58176:function(L,M,e){"use strict";e.d(M,{$3:function(){return r},DK:function(){return i},J1:function(){return f},Ox:function(){return k},QQ:function(){return s},Q_:function(){return _},SU:function(){return n},b3:function(){return l},fz:function(){return h},g4:function(){return o},hB:function(){return t},l6:function(){return y},uy:function(){return u},xj:function(){return p}});var b=e(30052),w=e(54263);function a(m){return(0,b.Z)(function(d){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-m)%7),d.setUTCHours(0,0,0,0)},function(d,x){d.setUTCDate(d.getUTCDate()+7*x)},function(d,x){return(x-d)/w.iM})}var k=a(0),y=a(1),f=a(2),l=a(3),t=a(4),s=a(5),o=a(6),n=k.range,r=y.range,i=f.range,u=l.range,p=t.range,h=s.range,_=o.range},79791:function(L,M,e){"use strict";e.d(M,{D:function(){return a}});var b=e(30052),w=(0,b.Z)(function(k){k.setUTCMonth(0,1),k.setUTCHours(0,0,0,0)},function(k,y){k.setUTCFullYear(k.getUTCFullYear()+y)},function(k,y){return y.getUTCFullYear()-k.getUTCFullYear()},function(k){return k.getUTCFullYear()});w.every=function(k){return isFinite(k=Math.floor(k))&&k>0?(0,b.Z)(function(y){y.setUTCFullYear(Math.floor(y.getUTCFullYear()/k)*k),y.setUTCMonth(0,1),y.setUTCHours(0,0,0,0)},function(y,f){y.setUTCFullYear(y.getUTCFullYear()+f*k)}):null},M.Z=w;var a=w.range},59879:function(L,M,e){"use strict";e.d(M,{$t:function(){return p},EY:function(){return o},Ff:function(){return _},Ld:function(){return u},OM:function(){return k},aU:function(){return i},b$:function(){return h},bJ:function(){return r},bL:function(){return t},mC:function(){return s},sy:function(){return f},vm:function(){return n},wA:function(){return y},zg:function(){return l}});var b=e(30052),w=e(54263);function a(m){return(0,b.Z)(function(d){d.setDate(d.getDate()-(d.getDay()+7-m)%7),d.setHours(0,0,0,0)},function(d,x){d.setDate(d.getDate()+7*x)},function(d,x){return(x-d-(x.getTimezoneOffset()-d.getTimezoneOffset())*w.yB)/w.iM})}var k=a(0),y=a(1),f=a(2),l=a(3),t=a(4),s=a(5),o=a(6),n=k.range,r=y.range,i=f.range,u=l.range,p=t.range,h=s.range,_=o.range},34823:function(L,M,e){"use strict";e.d(M,{g:function(){return a}});var b=e(30052),w=(0,b.Z)(function(k){k.setMonth(0,1),k.setHours(0,0,0,0)},function(k,y){k.setFullYear(k.getFullYear()+y)},function(k,y){return y.getFullYear()-k.getFullYear()},function(k){return k.getFullYear()});w.every=function(k){return isFinite(k=Math.floor(k))&&k>0?(0,b.Z)(function(y){y.setFullYear(Math.floor(y.getFullYear()/k)*k),y.setMonth(0,1),y.setHours(0,0,0,0)},function(y,f){y.setFullYear(y.getFullYear()+f*k)}):null},M.Z=w;var a=w.range},17045:function(L,M,e){"use strict";var b=e(8709),w=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,k=Array.prototype.concat,y=Object.defineProperty,f=e(55622)(),l=y&&f,t=function(o,n,r,i){if(n in o){if(i===!0){if(o[n]===r)return}else if(typeof(u=i)!="function"||a.call(u)!=="[object Function]"||!i())return}var u;l?y(o,n,{configurable:!0,enumerable:!1,value:r,writable:!0}):o[n]=r},s=function(o,n){var r=arguments.length>2?arguments[2]:{},i=b(n);w&&(i=k.call(i,Object.getOwnPropertySymbols(n)));for(var u=0;u<i.length;u+=1)t(o,i[u],n[i[u]],r[i[u]])};s.supportsDescriptors=!!l,L.exports=s},46775:function(L){L.exports=function(){for(var M=0;M<arguments.length;M++)if(arguments[M]!==void 0)return arguments[M]}},53545:function(L){"use strict";L.exports=b;var M=(b.canvas=document.createElement("canvas")).getContext("2d"),e=w([32,126]);function b(a,k){Array.isArray(a)&&(a=a.join(", "));var y,f={},l=16,t=.05;k&&(k.length===2&&typeof k[0]=="number"?y=w(k):Array.isArray(k)?y=k:(k.o?y=w(k.o):k.pairs&&(y=k.pairs),k.fontSize&&(l=k.fontSize),k.threshold!=null&&(t=k.threshold))),y||(y=e),M.font=l+"px "+a;for(var s=0;s<y.length;s++){var o=y[s],n=M.measureText(o[0]).width+M.measureText(o[1]).width,r=M.measureText(o).width;if(Math.abs(n-r)>l*t){var i=(r-n)/l;f[o]=1e3*i}}return f}function w(a){for(var k=[],y=a[0];y<=a[1];y++)for(var f=String.fromCharCode(y),l=a[0];l<a[1];l++){var t=f+String.fromCharCode(l);k.push(t)}return k}b.createPairs=w,b.ascii=e},31457:function(L,M,e){var b=e(65185),w=e(18625),a={M:"moveTo",C:"bezierCurveTo"};L.exports=function(k,y){k.beginPath(),w(b(y)).forEach(function(f){var l=f[0],t=f.slice(1);k[a[l]].apply(k,t)}),k.closePath()}},90660:function(L){L.exports=function(M){switch(M){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(L){"use strict";function M(e,b,w){var a=0|e[w];if(a<=0)return[];var k,y=new Array(a);if(w===e.length-1)for(k=0;k<a;++k)y[k]=b;else for(k=0;k<a;++k)y[k]=M(e,b,w+1);return y}L.exports=function(e,b){switch(b===void 0&&(b=0),typeof e){case"number":if(e>0)return function(w,a){var k,y;for(k=new Array(w),y=0;y<w;++y)k[y]=a;return k}(0|e,b);break;case"object":if(typeof e.length=="number")return M(e,b,0)}return[]}},11474:function(L){"use strict";function M(E,A,C){C=C||2;var O,P,D,z,V,F,W,B=A&&A.length,U=B?A[0]*C:E.length,H=e(E,0,U,C,!0),q=[];if(!H||H.next===H.prev)return q;if(B&&(H=function(K,J,Z,$){var ne,ae,oe,se=[];for(ne=0,ae=J.length;ne<ae;ne++)(oe=e(K,J[ne]*$,ne<ae-1?J[ne+1]*$:K.length,$,!1))===oe.next&&(oe.steiner=!0),se.push(n(oe));for(se.sort(l),ne=0;ne<se.length;ne++)t(se[ne],Z),Z=b(Z,Z.next);return Z}(E,A,H,C)),E.length>80*C){O=D=E[0],P=z=E[1];for(var ee=C;ee<U;ee+=C)(V=E[ee])<O&&(O=V),(F=E[ee+1])<P&&(P=F),V>D&&(D=V),F>z&&(z=F);W=(W=Math.max(D-O,z-P))!==0?1/W:0}return w(H,q,C,O,P,W),q}function e(E,A,C,O,P){var D,z;if(P===c(E,A,C,O)>0)for(D=A;D<C;D+=O)z=g(D,E[D],E[D+1],z);else for(D=C-O;D>=A;D-=O)z=g(D,E[D],E[D+1],z);return z&&p(z,z.next)&&(v(z),z=z.next),z}function b(E,A){if(!E)return E;A||(A=E);var C,O=E;do if(C=!1,O.steiner||!p(O,O.next)&&u(O.prev,O,O.next)!==0)O=O.next;else{if(v(O),(O=A=O.prev)===O.next)break;C=!0}while(C||O!==A);return A}function w(E,A,C,O,P,D,z){if(E){!z&&D&&function(B,U,H,q){var ee=B;do ee.z===null&&(ee.z=o(ee.x,ee.y,U,H,q)),ee.prevZ=ee.prev,ee.nextZ=ee.next,ee=ee.next;while(ee!==B);ee.prevZ.nextZ=null,ee.prevZ=null,function(K){var J,Z,$,ne,ae,oe,se,ce,me=1;do{for(Z=K,K=null,ae=null,oe=0;Z;){for(oe++,$=Z,se=0,J=0;J<me&&(se++,$=$.nextZ);J++);for(ce=me;se>0||ce>0&&$;)se!==0&&(ce===0||!$||Z.z<=$.z)?(ne=Z,Z=Z.nextZ,se--):(ne=$,$=$.nextZ,ce--),ae?ae.nextZ=ne:K=ne,ne.prevZ=ae,ae=ne;Z=$}ae.nextZ=null,me*=2}while(oe>1)}(ee)}(E,O,P,D);for(var V,F,W=E;E.prev!==E.next;)if(V=E.prev,F=E.next,D?k(E,O,P,D):a(E))A.push(V.i/C),A.push(E.i/C),A.push(F.i/C),v(E),E=F.next,W=F.next;else if((E=F)===W){z?z===1?w(E=y(b(E),A,C),A,C,O,P,D,2):z===2&&f(E,A,C,O,P,D):w(b(E),A,C,O,P,D,1);break}}}function a(E){var A=E.prev,C=E,O=E.next;if(u(A,C,O)>=0)return!1;for(var P=E.next.next;P!==E.prev;){if(r(A.x,A.y,C.x,C.y,O.x,O.y,P.x,P.y)&&u(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function k(E,A,C,O){var P=E.prev,D=E,z=E.next;if(u(P,D,z)>=0)return!1;for(var V=P.x<D.x?P.x<z.x?P.x:z.x:D.x<z.x?D.x:z.x,F=P.y<D.y?P.y<z.y?P.y:z.y:D.y<z.y?D.y:z.y,W=P.x>D.x?P.x>z.x?P.x:z.x:D.x>z.x?D.x:z.x,B=P.y>D.y?P.y>z.y?P.y:z.y:D.y>z.y?D.y:z.y,U=o(V,F,A,C,O),H=o(W,B,A,C,O),q=E.prevZ,ee=E.nextZ;q&&q.z>=U&&ee&&ee.z<=H;){if(q!==E.prev&&q!==E.next&&r(P.x,P.y,D.x,D.y,z.x,z.y,q.x,q.y)&&u(q.prev,q,q.next)>=0||(q=q.prevZ,ee!==E.prev&&ee!==E.next&&r(P.x,P.y,D.x,D.y,z.x,z.y,ee.x,ee.y)&&u(ee.prev,ee,ee.next)>=0))return!1;ee=ee.nextZ}for(;q&&q.z>=U;){if(q!==E.prev&&q!==E.next&&r(P.x,P.y,D.x,D.y,z.x,z.y,q.x,q.y)&&u(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;ee&&ee.z<=H;){if(ee!==E.prev&&ee!==E.next&&r(P.x,P.y,D.x,D.y,z.x,z.y,ee.x,ee.y)&&u(ee.prev,ee,ee.next)>=0)return!1;ee=ee.nextZ}return!0}function y(E,A,C){var O=E;do{var P=O.prev,D=O.next.next;!p(P,D)&&h(P,O,O.next,D)&&d(P,D)&&d(D,P)&&(A.push(P.i/C),A.push(O.i/C),A.push(D.i/C),v(O),v(O.next),O=E=D),O=O.next}while(O!==E);return b(O)}function f(E,A,C,O,P,D){var z=E;do{for(var V=z.next.next;V!==z.prev;){if(z.i!==V.i&&i(z,V)){var F=x(z,V);return z=b(z,z.next),F=b(F,F.next),w(z,A,C,O,P,D),void w(F,A,C,O,P,D)}V=V.next}z=z.next}while(z!==E)}function l(E,A){return E.x-A.x}function t(E,A){if(A=function(O,P){var D,z=P,V=O.x,F=O.y,W=-1/0;do{if(F<=z.y&&F>=z.next.y&&z.next.y!==z.y){var B=z.x+(F-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(B<=V&&B>W){if(W=B,B===V){if(F===z.y)return z;if(F===z.next.y)return z.next}D=z.x<z.next.x?z:z.next}}z=z.next}while(z!==P);if(!D)return null;if(V===W)return D;var U,H=D,q=D.x,ee=D.y,K=1/0;z=D;do V>=z.x&&z.x>=q&&V!==z.x&&r(F<ee?V:W,F,q,ee,F<ee?W:V,F,z.x,z.y)&&(U=Math.abs(F-z.y)/(V-z.x),d(z,O)&&(U<K||U===K&&(z.x>D.x||z.x===D.x&&s(D,z)))&&(D=z,K=U)),z=z.next;while(z!==H);return D}(E,A),A){var C=x(A,E);b(A,A.next),b(C,C.next)}}function s(E,A){return u(E.prev,E,A.prev)<0&&u(A.next,E,E.next)<0}function o(E,A,C,O,P){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-C)*P)|E<<8))|E<<4))|E<<2))|E<<1))|(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-O)*P)|A<<8))|A<<4))|A<<2))|A<<1))<<1}function n(E){var A=E,C=E;do(A.x<C.x||A.x===C.x&&A.y<C.y)&&(C=A),A=A.next;while(A!==E);return C}function r(E,A,C,O,P,D,z,V){return(P-z)*(A-V)-(E-z)*(D-V)>=0&&(E-z)*(O-V)-(C-z)*(A-V)>=0&&(C-z)*(D-V)-(P-z)*(O-V)>=0}function i(E,A){return E.next.i!==A.i&&E.prev.i!==A.i&&!function(C,O){var P=C;do{if(P.i!==C.i&&P.next.i!==C.i&&P.i!==O.i&&P.next.i!==O.i&&h(P,P.next,C,O))return!0;P=P.next}while(P!==C);return!1}(E,A)&&(d(E,A)&&d(A,E)&&function(C,O){var P=C,D=!1,z=(C.x+O.x)/2,V=(C.y+O.y)/2;do P.y>V!=P.next.y>V&&P.next.y!==P.y&&z<(P.next.x-P.x)*(V-P.y)/(P.next.y-P.y)+P.x&&(D=!D),P=P.next;while(P!==C);return D}(E,A)&&(u(E.prev,E,A.prev)||u(E,A.prev,A))||p(E,A)&&u(E.prev,E,E.next)>0&&u(A.prev,A,A.next)>0)}function u(E,A,C){return(A.y-E.y)*(C.x-A.x)-(A.x-E.x)*(C.y-A.y)}function p(E,A){return E.x===A.x&&E.y===A.y}function h(E,A,C,O){var P=m(u(E,A,C)),D=m(u(E,A,O)),z=m(u(C,O,E)),V=m(u(C,O,A));return P!==D&&z!==V||!(P!==0||!_(E,C,A))||!(D!==0||!_(E,O,A))||!(z!==0||!_(C,E,O))||!(V!==0||!_(C,A,O))}function _(E,A,C){return A.x<=Math.max(E.x,C.x)&&A.x>=Math.min(E.x,C.x)&&A.y<=Math.max(E.y,C.y)&&A.y>=Math.min(E.y,C.y)}function m(E){return E>0?1:E<0?-1:0}function d(E,A){return u(E.prev,E,E.next)<0?u(E,A,E.next)>=0&&u(E,E.prev,A)>=0:u(E,A,E.prev)<0||u(E,E.next,A)<0}function x(E,A){var C=new T(E.i,E.x,E.y),O=new T(A.i,A.x,A.y),P=E.next,D=A.prev;return E.next=A,A.prev=E,C.next=P,P.prev=C,O.next=C,C.prev=O,D.next=O,O.prev=D,O}function g(E,A,C,O){var P=new T(E,A,C);return O?(P.next=O.next,P.prev=O,O.next.prev=P,O.next=P):(P.prev=P,P.next=P),P}function v(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function T(E,A,C){this.i=E,this.x=A,this.y=C,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function c(E,A,C,O){for(var P=0,D=A,z=C-O;D<C;D+=O)P+=(E[z]-E[D])*(E[D+1]+E[z+1]),z=D;return P}L.exports=M,L.exports.default=M,M.deviation=function(E,A,C,O){var P=A&&A.length,D=P?A[0]*C:E.length,z=Math.abs(c(E,0,D,C));if(P)for(var V=0,F=A.length;V<F;V++){var W=A[V]*C,B=V<F-1?A[V+1]*C:E.length;z-=Math.abs(c(E,W,B,C))}var U=0;for(V=0;V<O.length;V+=3){var H=O[V]*C,q=O[V+1]*C,ee=O[V+2]*C;U+=Math.abs((E[H]-E[ee])*(E[q+1]-E[H+1])-(E[H]-E[q])*(E[ee+1]-E[H+1]))}return z===0&&U===0?0:Math.abs((U-z)/z)},M.flatten=function(E){for(var A=E[0][0].length,C={vertices:[],holes:[],dimensions:A},O=0,P=0;P<E.length;P++){for(var D=0;D<E[P].length;D++)for(var z=0;z<A;z++)C.vertices.push(E[P][D][z]);P>0&&(O+=E[P-1].length,C.holes.push(O))}return C}},2502:function(L,M,e){var b=e(68664);L.exports=function(w,a){var k,y=[],f=[],l=[],t={},s=[];function o(d){l[d]=!1,t.hasOwnProperty(d)&&Object.keys(t[d]).forEach(function(x){delete t[d][x],l[x]&&o(x)})}function n(d){var x,g,v=!1;for(f.push(d),l[d]=!0,x=0;x<s[d].length;x++)(g=s[d][x])===k?(r(k,f),v=!0):l[g]||(v=n(g));if(v)o(d);else for(x=0;x<s[d].length;x++){g=s[d][x];var T=t[g];T||(T={},t[g]=T),T[g]=!0}return f.pop(),v}function r(d,x){var g=[].concat(x).concat(d);a?a(n):y.push(g)}function i(d){(function(C){for(var O=0;O<w.length;O++)O<C&&(w[O]=[]),w[O]=w[O].filter(function(P){return P>=C})})(d);for(var x,g=b(w).components.filter(function(C){return C.length>1}),v=1/0,T=0;T<g.length;T++)for(var c=0;c<g[T].length;c++)g[T][c]<v&&(v=g[T][c],x=T);var E=g[x];if(!E)return!1;var A=w.map(function(C,O){return E.indexOf(O)===-1?[]:C.filter(function(P){return E.indexOf(P)!==-1})});return{leastVertex:v,adjList:A}}k=0;for(var u=w.length;k<u;){var p=i(k);if(k=p.leastVertex,s=p.adjList){for(var h=0;h<s.length;h++)for(var _=0;_<s[h].length;_++){var m=s[h][_];l[+m]=!1,t[m]={}}n(k),k+=1}else k=u}return a?void 0:y}},16134:function(L,M,e){"use strict";var b=e(36672);L.exports=function(){return b(this).length=0,this}},4892:function(L,M,e){"use strict";L.exports=e(64404)()?Array.from:e(49441)},64404:function(L){"use strict";L.exports=function(){var M,e,b=Array.from;return typeof b=="function"&&(e=b(M=["raz","dwa"]),!!(e&&e!==M&&e[1]==="dwa"))}},49441:function(L,M,e){"use strict";var b=e(8260).iterator,w=e(73051),a=e(33717),k=e(35976),y=e(78513),f=e(36672),l=e(95296),t=e(87963),s=Array.isArray,o=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},r=Object.defineProperty;L.exports=function(i){var u,p,h,_,m,d,x,g,v,T,c=arguments[1],E=arguments[2];if(i=Object(f(i)),l(c)&&y(c),this&&this!==Array&&a(this))u=this;else{if(!c){if(w(i))return(m=i.length)!==1?Array.apply(null,i):((_=new Array(1))[0]=i[0],_);if(s(i)){for(_=new Array(m=i.length),p=0;p<m;++p)_[p]=i[p];return _}}_=[]}if(!s(i)){if((v=i[b])!==void 0){for(x=y(v).call(i),u&&(_=new u),g=x.next(),p=0;!g.done;)T=c?o.call(c,E,g.value,p):g.value,u?(n.value=T,r(_,p,n)):_[p]=T,g=x.next(),++p;m=p}else if(t(i)){for(m=i.length,u&&(_=new u),p=0,h=0;p<m;++p)T=i[p],p+1<m&&(d=T.charCodeAt(0))>=55296&&d<=56319&&(T+=i[++p]),T=c?o.call(c,E,T,h):T,u?(n.value=T,r(_,h,n)):_[h]=T,++h;m=h}}if(m===void 0)for(m=k(i.length),u&&(_=new u(m)),p=0;p<m;++p)T=c?o.call(c,E,i[p],p):i[p],u?(n.value=T,r(_,p,n)):_[p]=T;return u&&(n.value=null,_.length=m),_}},73051:function(L){"use strict";var M=Object.prototype.toString,e=M.call(function(){return arguments}());L.exports=function(b){return M.call(b)===e}},33717:function(L){"use strict";var M=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);L.exports=function(b){return typeof b=="function"&&e(M.call(b))}},52345:function(L){"use strict";L.exports=function(){}},9953:function(L,M,e){"use strict";L.exports=e(90436)()?Math.sign:e(6069)},90436:function(L){"use strict";L.exports=function(){var M=Math.sign;return typeof M=="function"&&M(10)===1&&M(-20)===-1}},6069:function(L){"use strict";L.exports=function(M){return M=Number(M),isNaN(M)||M===0?M:M>0?1:-1}},56247:function(L,M,e){"use strict";var b=e(9953),w=Math.abs,a=Math.floor;L.exports=function(k){return isNaN(k)?0:(k=Number(k))!==0&&isFinite(k)?b(k)*a(w(k)):k}},35976:function(L,M,e){"use strict";var b=e(56247),w=Math.max;L.exports=function(a){return w(0,b(a))}},67260:function(L,M,e){"use strict";var b=e(78513),w=e(36672),a=Function.prototype.bind,k=Function.prototype.call,y=Object.keys,f=Object.prototype.propertyIsEnumerable;L.exports=function(l,t){return function(s,o){var n,r=arguments[2],i=arguments[3];return s=Object(w(s)),b(o),n=y(s),i&&n.sort(typeof i=="function"?a.call(i,s):void 0),typeof l!="function"&&(l=n[l]),k.call(l,n,function(u,p){return f.call(s,u)?k.call(o,r,s[u],u,s,p):t})}}},95879:function(L,M,e){"use strict";L.exports=e(73583)()?Object.assign:e(34205)},73583:function(L){"use strict";L.exports=function(){var M,e=Object.assign;return typeof e=="function"&&(e(M={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),M.foo+M.bar+M.trzy==="razdwatrzy")}},34205:function(L,M,e){"use strict";var b=e(68700),w=e(36672),a=Math.max;L.exports=function(k,y){var f,l,t,s=a(arguments.length,2);for(k=Object(w(k)),t=function(o){try{k[o]=y[o]}catch(n){f||(f=n)}},l=1;l<s;++l)b(y=arguments[l]).forEach(t);if(f!==void 0)throw f;return k}},19012:function(L,M,e){"use strict";var b=e(4892),w=e(95879),a=e(36672);L.exports=function(k){var y=Object(a(k)),f=arguments[1],l=Object(arguments[2]);if(y!==k&&!f)return y;var t={};return f?b(f,function(s){(l.ensure||s in k)&&(t[s]=k[s])}):w(t,k),t}},52818:function(L,M,e){"use strict";var b,w,a,k,y=Object.create;e(33247)()||(b=e(51882)),L.exports=b?b.level!==1?y:(w={},a={},k={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(f){a[f]=f!=="__proto__"?k:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(w,a),Object.defineProperty(b,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:w}),function(f,l){return y(f===null?w:f,l)}):y},96437:function(L,M,e){"use strict";L.exports=e(67260)("forEach")},99611:function(L,M,e){"use strict";var b=e(95296),w={function:!0,object:!0};L.exports=function(a){return b(a)&&w[typeof a]||!1}},95296:function(L,M,e){"use strict";var b=e(52345)();L.exports=function(w){return w!==b&&w!==null}},68700:function(L,M,e){"use strict";L.exports=e(13895)()?Object.keys:e(25217)},13895:function(L){"use strict";L.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(L,M,e){"use strict";var b=e(95296),w=Object.keys;L.exports=function(a){return w(b(a)?Object(a):a)}},16906:function(L,M,e){"use strict";var b=e(78513),w=e(96437),a=Function.prototype.call;L.exports=function(k,y){var f={},l=arguments[2];return b(y),w(k,function(t,s,o,n){f[s]=a.call(y,l,t,s,o,n)}),f}},21780:function(L,M,e){"use strict";var b=e(95296),w=Array.prototype.forEach,a=Object.create,k=function(y,f){var l;for(l in y)f[l]=y[l]};L.exports=function(y){var f=a(null);return w.call(arguments,function(l){b(l)&&k(Object(l),f)}),f}},1496:function(L,M,e){"use strict";L.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(L){"use strict";var M=Object.create,e=Object.getPrototypeOf,b={};L.exports=function(){var w=Object.setPrototypeOf,a=arguments[0]||M;return typeof w=="function"&&e(w(a(null),b))===b}},51882:function(L,M,e){"use strict";var b,w,a,k,y=e(99611),f=e(36672),l=Object.prototype.isPrototypeOf,t=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0};b=function(o,n){if(f(o),n===null||y(n))return o;throw new TypeError("Prototype must be null or an object")},L.exports=(w=function(){var o,n=Object.create(null),r={},i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{(o=i.set).call(n,r)}catch{}if(Object.getPrototypeOf(n)===r)return{set:o,level:2}}return n.__proto__=r,Object.getPrototypeOf(n)===r?{level:2}:((n={}).__proto__=r,Object.getPrototypeOf(n)===r&&{level:1})}(),w?(w.level===2?w.set?(k=w.set,a=function(o,n){return k.call(b(o,n),n),o}):a=function(o,n){return b(o,n).__proto__=n,o}:a=function o(n,r){var i;return b(n,r),(i=l.call(o.nullPolyfill,n))&&delete o.nullPolyfill.__proto__,r===null&&(r=o.nullPolyfill),n.__proto__=r,i&&t(o.nullPolyfill,"__proto__",s),n},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:w.level})):null),e(52818)},78513:function(L){"use strict";L.exports=function(M){if(typeof M!="function")throw new TypeError(M+" is not a function");return M}},98976:function(L,M,e){"use strict";var b=e(99611);L.exports=function(w){if(!b(w))throw new TypeError(w+" is not an Object");return w}},36672:function(L,M,e){"use strict";var b=e(95296);L.exports=function(w){if(!b(w))throw new TypeError("Cannot use null or undefined");return w}},66741:function(L,M,e){"use strict";L.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(L){"use strict";var M="razdwatrzy";L.exports=function(){return typeof M.contains=="function"&&M.contains("dwa")===!0&&M.contains("foo")===!1}},60381:function(L){"use strict";var M=String.prototype.indexOf;L.exports=function(e){return M.call(this,e,arguments[1])>-1}},87963:function(L){"use strict";var M=Object.prototype.toString,e=M.call("");L.exports=function(b){return typeof b=="string"||b&&typeof b=="object"&&(b instanceof String||M.call(b)===e)||!1}},43043:function(L){"use strict";var M=Object.create(null),e=Math.random;L.exports=function(){var b;do b=e().toString(36).slice(2);while(M[b]);return b}},32411:function(L,M,e){"use strict";var b,w=e(1496),a=e(66741),k=e(62072),y=e(8260),f=e(95426),l=Object.defineProperty;b=L.exports=function(t,s){if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");f.call(this,t),s=s?a.call(s,"key+value")?"key+value":a.call(s,"key")?"key":"value":"value",l(this,"__kind__",k("",s))},w&&w(b,f),delete b.prototype.constructor,b.prototype=Object.create(f.prototype,{_resolve:k(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),l(b.prototype,y.toStringTag,k("c","Array Iterator"))},27515:function(L,M,e){"use strict";var b=e(73051),w=e(78513),a=e(87963),k=e(66661),y=Array.isArray,f=Function.prototype.call,l=Array.prototype.some;L.exports=function(t,s){var o,n,r,i,u,p,h,_,m=arguments[2];if(y(t)||b(t)?o="array":a(t)?o="string":t=k(t),w(s),r=function(){i=!0},o!=="array")if(o!=="string")for(n=t.next();!n.done;){if(f.call(s,m,n.value,r),i)return;n=t.next()}else for(p=t.length,u=0;u<p&&(h=t[u],u+1<p&&(_=h.charCodeAt(0))>=55296&&_<=56319&&(h+=t[++u]),f.call(s,m,h,r),!i);++u);else l.call(t,function(d){return f.call(s,m,d,r),i})}},66661:function(L,M,e){"use strict";var b=e(73051),w=e(87963),a=e(32411),k=e(259),y=e(58095),f=e(8260).iterator;L.exports=function(l){return typeof y(l)[f]=="function"?l[f]():b(l)?new a(l):w(l)?new k(l):new a(l)}},95426:function(L,M,e){"use strict";var b,w=e(16134),a=e(95879),k=e(78513),y=e(36672),f=e(62072),l=e(55174),t=e(8260),s=Object.defineProperty,o=Object.defineProperties;L.exports=b=function(n,r){if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");o(this,{__list__:f("w",y(n)),__context__:f("w",r),__nextIndex__:f("w",0)}),r&&(k(r.on),r.on("_add",this._onAdd),r.on("_delete",this._onDelete),r.on("_clear",this._onClear))},delete b.prototype.constructor,o(b.prototype,a({_next:f(function(){var n;if(this.__list__)return this.__redo__&&(n=this.__redo__.shift())!==void 0?n:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:f(function(){return this._createResult(this._next())}),_createResult:f(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:f(function(n){return this.__list__[n]}),_unBind:f(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:f(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},l({_onAdd:f(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(r,i){r>=n&&(this.__redo__[i]=++r)},this),this.__redo__.push(n)):s(this,"__redo__",f("c",[n])))}),_onDelete:f(function(n){var r;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((r=this.__redo__.indexOf(n))!==-1&&this.__redo__.splice(r,1),this.__redo__.forEach(function(i,u){i>n&&(this.__redo__[u]=--i)},this)))}),_onClear:f(function(){this.__redo__&&w.call(this.__redo__),this.__nextIndex__=0})}))),s(b.prototype,t.iterator,f(function(){return this}))},35940:function(L,M,e){"use strict";var b=e(73051),w=e(95296),a=e(87963),k=e(8260).iterator,y=Array.isArray;L.exports=function(f){return!(!w(f)||!y(f)&&!a(f)&&!b(f)&&typeof f[k]!="function")}},259:function(L,M,e){"use strict";var b,w=e(1496),a=e(62072),k=e(8260),y=e(95426),f=Object.defineProperty;b=L.exports=function(l){if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");l=String(l),y.call(this,l),f(this,"__length__",a("",l.length))},w&&w(b,y),delete b.prototype.constructor,b.prototype=Object.create(y.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(l){var t,s=this.__list__[l];return this.__nextIndex__===this.__length__?s:(t=s.charCodeAt(0))>=55296&&t<=56319?s+this.__list__[this.__nextIndex__++]:s})}),f(b.prototype,k.toStringTag,a("c","String Iterator"))},58095:function(L,M,e){"use strict";var b=e(35940);L.exports=function(w){if(!b(w))throw new TypeError(w+" is not iterable");return w}},73523:function(L){"use strict";function M(e,b){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var w=Object(e),a=1;a<arguments.length;a++){var k=arguments[a];if(k!=null)for(var y=Object.keys(Object(k)),f=0,l=y.length;f<l;f++){var t=y[f],s=Object.getOwnPropertyDescriptor(k,t);s!==void 0&&s.enumerable&&(w[t]=k[t])}}return w}L.exports={assign:M,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:M})}}},8260:function(L,M,e){"use strict";L.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(L,M,e){"use strict";var b=e(94908),w={object:!0,symbol:!0};L.exports=function(){var a,k=b.Symbol;if(typeof k!="function")return!1;a=k("test symbol");try{String(a)}catch{return!1}return!!w[typeof k.iterator]&&!!w[typeof k.toPrimitive]&&!!w[typeof k.toStringTag]}},82276:function(L){"use strict";L.exports=function(M){return!!M&&(typeof M=="symbol"||!!M.constructor&&M.constructor.name==="Symbol"&&M[M.constructor.toStringTag]==="Symbol")}},29366:function(L,M,e){"use strict";var b=e(62072),w=Object.create,a=Object.defineProperty,k=Object.prototype,y=w(null);L.exports=function(f){for(var l,t,s=0;y[f+(s||"")];)++s;return y[f+=s||""]=!0,a(k,l="@@"+f,b.gs(null,function(o){t||(t=!0,a(this,l,b(o)),t=!1)})),l}},92842:function(L,M,e){"use strict";var b=e(62072),w=e(94908).Symbol;L.exports=function(a){return Object.defineProperties(a,{hasInstance:b("",w&&w.hasInstance||a("hasInstance")),isConcatSpreadable:b("",w&&w.isConcatSpreadable||a("isConcatSpreadable")),iterator:b("",w&&w.iterator||a("iterator")),match:b("",w&&w.match||a("match")),replace:b("",w&&w.replace||a("replace")),search:b("",w&&w.search||a("search")),species:b("",w&&w.species||a("species")),split:b("",w&&w.split||a("split")),toPrimitive:b("",w&&w.toPrimitive||a("toPrimitive")),toStringTag:b("",w&&w.toStringTag||a("toStringTag")),unscopables:b("",w&&w.unscopables||a("unscopables"))})}},13304:function(L,M,e){"use strict";var b=e(62072),w=e(53308),a=Object.create(null);L.exports=function(k){return Object.defineProperties(k,{for:b(function(y){return a[y]?a[y]:a[y]=k(String(y))}),keyFor:b(function(y){var f;for(f in w(y),a)if(a[f]===y)return f})})}},18415:function(L,M,e){"use strict";var b,w,a,k=e(62072),y=e(53308),f=e(94908).Symbol,l=e(29366),t=e(92842),s=e(13304),o=Object.create,n=Object.defineProperties,r=Object.defineProperty;if(typeof f=="function")try{String(f()),a=!0}catch{}else f=null;w=function(i){if(this instanceof w)throw new TypeError("Symbol is not a constructor");return b(i)},L.exports=b=function i(u){var p;if(this instanceof i)throw new TypeError("Symbol is not a constructor");return a?f(u):(p=o(w.prototype),u=u===void 0?"":String(u),n(p,{__description__:k("",u),__name__:k("",l(u))}))},t(b),s(b),n(w.prototype,{constructor:k(b),toString:k("",function(){return this.__name__})}),n(b.prototype,{toString:k(function(){return"Symbol ("+y(this).__description__+")"}),valueOf:k(function(){return y(this)})}),r(b.prototype,b.toPrimitive,k("",function(){var i=y(this);return typeof i=="symbol"?i:i.toString()})),r(b.prototype,b.toStringTag,k("c","Symbol")),r(w.prototype,b.toStringTag,k("c",b.prototype[b.toStringTag])),r(w.prototype,b.toPrimitive,k("c",b.prototype[b.toPrimitive]))},53308:function(L,M,e){"use strict";var b=e(82276);L.exports=function(w){if(!b(w))throw new TypeError(w+" is not a symbol");return w}},83522:function(L,M,e){"use strict";L.exports=e(96402)()?WeakMap:e(329)},96402:function(L){"use strict";L.exports=function(){var M,e;if(typeof WeakMap!="function")return!1;try{M=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(M)==="[object WeakMap]"&&typeof M.set=="function"&&M.set({},1)===M&&typeof M.delete=="function"&&typeof M.has=="function"&&M.get(e)==="one"}},96416:function(L){"use strict";L.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},329:function(L,M,e){"use strict";var b,w=e(95296),a=e(1496),k=e(98976),y=e(36672),f=e(43043),l=e(62072),t=e(66661),s=e(27515),o=e(8260).toStringTag,n=e(96416),r=Array.isArray,i=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getPrototypeOf;L.exports=b=function(){var h,_=arguments[0];if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");return h=n&&a&&WeakMap!==b?a(new WeakMap,p(this)):this,w(_)&&(r(_)||(_=t(_))),i(h,"__weakMapData__",l("c","$weakMap$"+f())),_&&s(_,function(m){y(m),h.set(m[0],m[1])}),h},n&&(a&&a(b,WeakMap),b.prototype=Object.create(WeakMap.prototype,{constructor:l(b)})),Object.defineProperties(b.prototype,{delete:l(function(h){return!!u.call(k(h),this.__weakMapData__)&&(delete h[this.__weakMapData__],!0)}),get:l(function(h){if(u.call(k(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:l(function(h){return u.call(k(h),this.__weakMapData__)}),set:l(function(h,_){return i(k(h),this.__weakMapData__,l("c",_)),this}),toString:l(function(){return"[object WeakMap]"})}),i(b.prototype,o,l("c","WeakMap"))},15398:function(L){"use strict";var M,e=typeof Reflect=="object"?Reflect:null,b=e&&typeof e.apply=="function"?e.apply:function(u,p,h){return Function.prototype.apply.call(u,p,h)};M=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var w=Number.isNaN||function(u){return u!=u};function a(){a.init.call(this)}L.exports=a,L.exports.once=function(u,p){return new Promise(function(h,_){function m(x){u.removeListener(p,d),_(x)}function d(){typeof u.removeListener=="function"&&u.removeListener("error",m),h([].slice.call(arguments))}i(u,p,d,{once:!0}),p!=="error"&&function(x,g,v){typeof x.on=="function"&&i(x,"error",g,{once:!0})}(u,m)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var k=10;function y(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function f(u){return u._maxListeners===void 0?a.defaultMaxListeners:u._maxListeners}function l(u,p,h,_){var m,d,x,g;if(y(h),(d=u._events)===void 0?(d=u._events=Object.create(null),u._eventsCount=0):(d.newListener!==void 0&&(u.emit("newListener",p,h.listener?h.listener:h),d=u._events),x=d[p]),x===void 0)x=d[p]=h,++u._eventsCount;else if(typeof x=="function"?x=d[p]=_?[h,x]:[x,h]:_?x.unshift(h):x.push(h),(m=f(u))>0&&x.length>m&&!x.warned){x.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=u,v.type=p,v.count=x.length,g=v,console&&console.warn&&console.warn(g)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(u,p,h){var _={fired:!1,wrapFn:void 0,target:u,type:p,listener:h},m=t.bind(_);return m.listener=h,_.wrapFn=m,m}function o(u,p,h){var _=u._events;if(_===void 0)return[];var m=_[p];return m===void 0?[]:typeof m=="function"?h?[m.listener||m]:[m]:h?function(d){for(var x=new Array(d.length),g=0;g<x.length;++g)x[g]=d[g].listener||d[g];return x}(m):r(m,m.length)}function n(u){var p=this._events;if(p!==void 0){var h=p[u];if(typeof h=="function")return 1;if(h!==void 0)return h.length}return 0}function r(u,p){for(var h=new Array(p),_=0;_<p;++_)h[_]=u[_];return h}function i(u,p,h,_){if(typeof u.on=="function")_.once?u.once(p,h):u.on(p,h);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(p,function m(d){_.once&&u.removeEventListener(p,m),h(d)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(u){if(typeof u!="number"||u<0||w(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");k=u}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||w(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(u){for(var p=[],h=1;h<arguments.length;h++)p.push(arguments[h]);var _=u==="error",m=this._events;if(m!==void 0)_=_&&m.error===void 0;else if(!_)return!1;if(_){var d;if(p.length>0&&(d=p[0]),d instanceof Error)throw d;var x=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw x.context=d,x}var g=m[u];if(g===void 0)return!1;if(typeof g=="function")b(g,this,p);else{var v=g.length,T=r(g,v);for(h=0;h<v;++h)b(T[h],this,p)}return!0},a.prototype.addListener=function(u,p){return l(this,u,p,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(u,p){return l(this,u,p,!0)},a.prototype.once=function(u,p){return y(p),this.on(u,s(this,u,p)),this},a.prototype.prependOnceListener=function(u,p){return y(p),this.prependListener(u,s(this,u,p)),this},a.prototype.removeListener=function(u,p){var h,_,m,d,x;if(y(p),(_=this._events)===void 0)return this;if((h=_[u])===void 0)return this;if(h===p||h.listener===p)--this._eventsCount==0?this._events=Object.create(null):(delete _[u],_.removeListener&&this.emit("removeListener",u,h.listener||p));else if(typeof h!="function"){for(m=-1,d=h.length-1;d>=0;d--)if(h[d]===p||h[d].listener===p){x=h[d].listener,m=d;break}if(m<0)return this;m===0?h.shift():function(g,v){for(;v+1<g.length;v++)g[v]=g[v+1];g.pop()}(h,m),h.length===1&&(_[u]=h[0]),_.removeListener!==void 0&&this.emit("removeListener",u,x||p)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(u){var p,h,_;if((h=this._events)===void 0)return this;if(h.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):h[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete h[u]),this;if(arguments.length===0){var m,d=Object.keys(h);for(_=0;_<d.length;++_)(m=d[_])!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(p=h[u])=="function")this.removeListener(u,p);else if(p!==void 0)for(_=p.length-1;_>=0;_--)this.removeListener(u,p[_]);return this},a.prototype.listeners=function(u){return o(this,u,!0)},a.prototype.rawListeners=function(u){return o(this,u,!1)},a.listenerCount=function(u,p){return typeof u.listenerCount=="function"?u.listenerCount(p):n.call(u,p)},a.prototype.listenerCount=n,a.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},60774:function(L){var M=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};L.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return M()}try{return __global__||M()}finally{delete Object.prototype.__global__}}()},94908:function(L,M,e){"use strict";L.exports=e(51152)()?globalThis:e(60774)},51152:function(L){"use strict";L.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},92770:function(L,M,e){"use strict";var b=e(18546);L.exports=function(w){var a=typeof w;if(a==="string"){var k=w;if((w=+w)==0&&b(k))return!1}else if(a!=="number")return!1;return w-w<1}},30120:function(L,M,e){var b=e(90660);L.exports=function(w,a,k){if(!w)throw new TypeError("must specify data as first parameter");if(k=0|+(k||0),Array.isArray(w)&&w[0]&&typeof w[0][0]=="number"){var y,f,l,t,s=w[0].length,o=w.length*s;a&&typeof a!="string"||(a=new(b(a||"float32"))(o+k));var n=a.length-k;if(o!==n)throw new Error("source length "+o+" ("+s+"x"+w.length+") does not match destination length "+n);for(y=0,l=k;y<w.length;y++)for(f=0;f<s;f++)a[l++]=w[y][f]===null?NaN:w[y][f]}else if(a&&typeof a!="string")a.set(w,k);else{var r=b(a||"float32");if(Array.isArray(w)||a==="array")for(y=0,l=k,t=(a=new r(w.length+k)).length;l<t;l++,y++)a[l]=w[y]===null?NaN:w[y];else k===0?a=new r(w):(a=new r(w.length+k)).set(w,k)}return a}},68016:function(L,M,e){"use strict";var b=e(53313),w=[32,126];L.exports=function(a){var k=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],y=a.canvas||document.createElement("canvas"),f=a.font,l=typeof a.step=="number"?[a.step,a.step]:a.step||[32,32],t=a.chars||w;if(f&&typeof f!="string"&&(f=b(f)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var s=[],o=t[0],n=0;o<=t[1];o++)s[n++]=String.fromCharCode(o);t=s}}else t=String(t).split("");k=k.slice(),y.width=k[0],y.height=k[1];var r=y.getContext("2d");r.fillStyle="#000",r.fillRect(0,0,y.width,y.height),r.font=f,r.textAlign="center",r.textBaseline="middle",r.fillStyle="#fff";var i=l[0]/2,u=l[1]/2;for(o=0;o<t.length;o++)r.fillText(t[o],i,u),(i+=l[0])>k[0]-l[0]/2&&(i=l[0]/2,u+=l[1]);return y}},32879:function(L){"use strict";function M(a,k){k||(k={}),(typeof a=="string"||Array.isArray(a))&&(k.family=a);var y=Array.isArray(k.family)?k.family.join(", "):k.family;if(!y)throw Error("`family` must be defined");var f=k.size||k.fontSize||k.em||48,l=k.weight||k.fontWeight||"",t=(a=[k.style||k.fontStyle||"",l,f].join(" ")+"px "+y,k.origin||"top");if(M.cache[y]&&f<=M.cache[y].em)return e(M.cache[y],t);var s=k.canvas||M.canvas,o=s.getContext("2d"),n={upper:k.upper!==void 0?k.upper:"H",lower:k.lower!==void 0?k.lower:"x",descent:k.descent!==void 0?k.descent:"p",ascent:k.ascent!==void 0?k.ascent:"h",tittle:k.tittle!==void 0?k.tittle:"i",overshoot:k.overshoot!==void 0?k.overshoot:"O"},r=Math.ceil(1.5*f);s.height=r,s.width=.5*r,o.font=a;var i="H",u={top:0};o.clearRect(0,0,r,r),o.textBaseline="top",o.fillStyle="black",o.fillText(i,0,0);var p=b(o.getImageData(0,0,r,r));o.clearRect(0,0,r,r),o.textBaseline="bottom",o.fillText(i,0,r);var h=b(o.getImageData(0,0,r,r));u.lineHeight=u.bottom=r-h+p,o.clearRect(0,0,r,r),o.textBaseline="alphabetic",o.fillText(i,0,r);var _=r-b(o.getImageData(0,0,r,r))-1+p;u.baseline=u.alphabetic=_,o.clearRect(0,0,r,r),o.textBaseline="middle",o.fillText(i,0,.5*r);var m=b(o.getImageData(0,0,r,r));u.median=u.middle=r-m-1+p-.5*r,o.clearRect(0,0,r,r),o.textBaseline="hanging",o.fillText(i,0,.5*r);var d=b(o.getImageData(0,0,r,r));u.hanging=r-d-1+p-.5*r,o.clearRect(0,0,r,r),o.textBaseline="ideographic",o.fillText(i,0,r);var x=b(o.getImageData(0,0,r,r));if(u.ideographic=r-x-1+p,n.upper&&(o.clearRect(0,0,r,r),o.textBaseline="top",o.fillText(n.upper,0,0),u.upper=b(o.getImageData(0,0,r,r)),u.capHeight=u.baseline-u.upper),n.lower&&(o.clearRect(0,0,r,r),o.textBaseline="top",o.fillText(n.lower,0,0),u.lower=b(o.getImageData(0,0,r,r)),u.xHeight=u.baseline-u.lower),n.tittle&&(o.clearRect(0,0,r,r),o.textBaseline="top",o.fillText(n.tittle,0,0),u.tittle=b(o.getImageData(0,0,r,r))),n.ascent&&(o.clearRect(0,0,r,r),o.textBaseline="top",o.fillText(n.ascent,0,0),u.ascent=b(o.getImageData(0,0,r,r))),n.descent&&(o.clearRect(0,0,r,r),o.textBaseline="top",o.fillText(n.descent,0,0),u.descent=w(o.getImageData(0,0,r,r))),n.overshoot){o.clearRect(0,0,r,r),o.textBaseline="top",o.fillText(n.overshoot,0,0);var g=w(o.getImageData(0,0,r,r));u.overshoot=g-_}for(var v in u)u[v]/=f;return u.em=f,M.cache[y]=u,e(u,t)}function e(a,k){var y={};for(var f in typeof k=="string"&&(k=a[k]),a)f!=="em"&&(y[f]=a[f]-k);return y}function b(a){for(var k=a.height,y=a.data,f=3;f<y.length;f+=4)if(y[f]!==0)return Math.floor(.25*(f-3)/k)}function w(a){for(var k=a.height,y=a.data,f=y.length-1;f>0;f-=4)if(y[f]!==0)return Math.floor(.25*(f-3)/k)}L.exports=M,M.canvas=document.createElement("canvas"),M.cache={}},31353:function(L,M,e){"use strict";var b=e(85395),w=Object.prototype.toString,a=Object.prototype.hasOwnProperty,k=function(l,t,s){for(var o=0,n=l.length;o<n;o++)a.call(l,o)&&(s==null?t(l[o],o,l):t.call(s,l[o],o,l))},y=function(l,t,s){for(var o=0,n=l.length;o<n;o++)s==null?t(l.charAt(o),o,l):t.call(s,l.charAt(o),o,l)},f=function(l,t,s){for(var o in l)a.call(l,o)&&(s==null?t(l[o],o,l):t.call(s,l[o],o,l))};L.exports=function(l,t,s){if(!b(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=s),w.call(l)==="[object Array]"?k(l,t,o):typeof l=="string"?y(l,t,o):f(l,t,o)}},73047:function(L){"use strict";var M="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,b=Object.prototype.toString,w="[object Function]";L.exports=function(a){var k=this;if(typeof k!="function"||b.call(k)!==w)throw new TypeError(M+k);for(var y,f=e.call(arguments,1),l=function(){if(this instanceof y){var r=k.apply(this,f.concat(e.call(arguments)));return Object(r)===r?r:this}return k.apply(a,f.concat(e.call(arguments)))},t=Math.max(0,k.length-f.length),s=[],o=0;o<t;o++)s.push("$"+o);if(y=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(l),k.prototype){var n=function(){};n.prototype=k.prototype,y.prototype=new n,n.prototype=null}return y}},77575:function(L,M,e){"use strict";var b=e(73047);L.exports=Function.prototype.bind||b},86249:function(L){L.exports=function(M,e){if(typeof M!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var b=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(b.width=e.width),typeof e.height=="number"&&(b.height=e.height);var w,a=e;try{var k=[M];M.indexOf("webgl")===0&&k.push("experimental-"+M);for(var y=0;y<k.length;y++)if(w=b.getContext(k[y],a))return w}catch{w=null}return w||null}},68318:function(L,M,e){"use strict";var b,w=SyntaxError,a=Function,k=TypeError,y=function(O){try{return a('"use strict"; return ('+O+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var l=function(){throw new k},t=f?function(){try{return l}catch{try{return f(arguments,"callee").get}catch{return l}}}():l,s=e(57877)(),o=Object.getPrototypeOf||function(O){return O.__proto__},n={},r=typeof Uint8Array>"u"?b:o(Uint8Array),i={"%AggregateError%":typeof AggregateError>"u"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?b:ArrayBuffer,"%ArrayIteratorPrototype%":s?o([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?b:Atomics,"%BigInt%":typeof BigInt>"u"?b:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?b:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?b:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?b:Float32Array,"%Float64Array%":typeof Float64Array>"u"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?b:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?b:Int8Array,"%Int16Array%":typeof Int16Array>"u"?b:Int16Array,"%Int32Array%":typeof Int32Array>"u"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?o(o([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map>"u"?b:Map,"%MapIteratorPrototype%":typeof Map<"u"&&s?o(new Map()[Symbol.iterator]()):b,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?b:Promise,"%Proxy%":typeof Proxy>"u"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?b:Set,"%SetIteratorPrototype%":typeof Set<"u"&&s?o(new Set()[Symbol.iterator]()):b,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?o(""[Symbol.iterator]()):b,"%Symbol%":s?Symbol:b,"%SyntaxError%":w,"%ThrowTypeError%":t,"%TypedArray%":r,"%TypeError%":k,"%Uint8Array%":typeof Uint8Array>"u"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?b:WeakMap,"%WeakRef%":typeof WeakRef>"u"?b:WeakRef,"%WeakSet%":typeof WeakSet>"u"?b:WeakSet};try{null.error}catch(O){var u=o(o(O));i["%Error.prototype%"]=u}var p=function O(P){var D;if(P==="%AsyncFunction%")D=y("async function () {}");else if(P==="%GeneratorFunction%")D=y("function* () {}");else if(P==="%AsyncGeneratorFunction%")D=y("async function* () {}");else if(P==="%AsyncGenerator%"){var z=O("%AsyncGeneratorFunction%");z&&(D=z.prototype)}else if(P==="%AsyncIteratorPrototype%"){var V=O("%AsyncGenerator%");V&&(D=o(V.prototype))}return i[P]=D,D},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=e(77575),m=e(35065),d=_.call(Function.call,Array.prototype.concat),x=_.call(Function.apply,Array.prototype.splice),g=_.call(Function.call,String.prototype.replace),v=_.call(Function.call,String.prototype.slice),T=_.call(Function.call,RegExp.prototype.exec),c=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,A=function(O){var P=v(O,0,1),D=v(O,-1);if(P==="%"&&D!=="%")throw new w("invalid intrinsic syntax, expected closing `%`");if(D==="%"&&P!=="%")throw new w("invalid intrinsic syntax, expected opening `%`");var z=[];return g(O,c,function(V,F,W,B){z[z.length]=W?g(B,E,"$1"):F||V}),z},C=function(O,P){var D,z=O;if(m(h,z)&&(z="%"+(D=h[z])[0]+"%"),m(i,z)){var V=i[z];if(V===n&&(V=p(z)),V===void 0&&!P)throw new k("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:D,name:z,value:V}}throw new w("intrinsic "+O+" does not exist!")};L.exports=function(O,P){if(typeof O!="string"||O.length===0)throw new k("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new k('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,O)===null)throw new w("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=A(O),z=D.length>0?D[0]:"",V=C("%"+z+"%",P),F=V.name,W=V.value,B=!1,U=V.alias;U&&(z=U[0],x(D,d([0,1],U)));for(var H=1,q=!0;H<D.length;H+=1){var ee=D[H],K=v(ee,0,1),J=v(ee,-1);if((K==='"'||K==="'"||K==="`"||J==='"'||J==="'"||J==="`")&&K!==J)throw new w("property names with quotes must have matching quotes");if(ee!=="constructor"&&q||(B=!0),m(i,F="%"+(z+="."+ee)+"%"))W=i[F];else if(W!=null){if(!(ee in W)){if(!P)throw new k("base intrinsic for "+O+" exists, but the property is not available.");return}if(f&&H+1>=D.length){var Z=f(W,ee);W=(q=!!Z)&&"get"in Z&&!("originalValue"in Z.get)?Z.get:W[ee]}else q=m(W,ee),W=W[ee];q&&!B&&(i[F]=W)}}return W}},85400:function(L){L.exports=function(M,e){var b=e[0],w=e[1],a=e[2],k=e[3],y=e[4],f=e[5],l=e[6],t=e[7],s=e[8],o=e[9],n=e[10],r=e[11],i=e[12],u=e[13],p=e[14],h=e[15];return M[0]=f*(n*h-r*p)-o*(l*h-t*p)+u*(l*r-t*n),M[1]=-(w*(n*h-r*p)-o*(a*h-k*p)+u*(a*r-k*n)),M[2]=w*(l*h-t*p)-f*(a*h-k*p)+u*(a*t-k*l),M[3]=-(w*(l*r-t*n)-f*(a*r-k*n)+o*(a*t-k*l)),M[4]=-(y*(n*h-r*p)-s*(l*h-t*p)+i*(l*r-t*n)),M[5]=b*(n*h-r*p)-s*(a*h-k*p)+i*(a*r-k*n),M[6]=-(b*(l*h-t*p)-y*(a*h-k*p)+i*(a*t-k*l)),M[7]=b*(l*r-t*n)-y*(a*r-k*n)+s*(a*t-k*l),M[8]=y*(o*h-r*u)-s*(f*h-t*u)+i*(f*r-t*o),M[9]=-(b*(o*h-r*u)-s*(w*h-k*u)+i*(w*r-k*o)),M[10]=b*(f*h-t*u)-y*(w*h-k*u)+i*(w*t-k*f),M[11]=-(b*(f*r-t*o)-y*(w*r-k*o)+s*(w*t-k*f)),M[12]=-(y*(o*p-n*u)-s*(f*p-l*u)+i*(f*n-l*o)),M[13]=b*(o*p-n*u)-s*(w*p-a*u)+i*(w*n-a*o),M[14]=-(b*(f*p-l*u)-y*(w*p-a*u)+i*(w*l-a*f)),M[15]=b*(f*n-l*o)-y*(w*n-a*o)+s*(w*l-a*f),M}},42331:function(L){L.exports=function(M){var e=new Float32Array(16);return e[0]=M[0],e[1]=M[1],e[2]=M[2],e[3]=M[3],e[4]=M[4],e[5]=M[5],e[6]=M[6],e[7]=M[7],e[8]=M[8],e[9]=M[9],e[10]=M[10],e[11]=M[11],e[12]=M[12],e[13]=M[13],e[14]=M[14],e[15]=M[15],e}},31042:function(L){L.exports=function(M,e){return M[0]=e[0],M[1]=e[1],M[2]=e[2],M[3]=e[3],M[4]=e[4],M[5]=e[5],M[6]=e[6],M[7]=e[7],M[8]=e[8],M[9]=e[9],M[10]=e[10],M[11]=e[11],M[12]=e[12],M[13]=e[13],M[14]=e[14],M[15]=e[15],M}},11902:function(L){L.exports=function(){var M=new Float32Array(16);return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},89887:function(L){L.exports=function(M){var e=M[0],b=M[1],w=M[2],a=M[3],k=M[4],y=M[5],f=M[6],l=M[7],t=M[8],s=M[9],o=M[10],n=M[11],r=M[12],i=M[13],u=M[14],p=M[15];return(e*y-b*k)*(o*p-n*u)-(e*f-w*k)*(s*p-n*i)+(e*l-a*k)*(s*u-o*i)+(b*f-w*y)*(t*p-n*r)-(b*l-a*y)*(t*u-o*r)+(w*l-a*f)*(t*i-s*r)}},27812:function(L){L.exports=function(M,e){var b=e[0],w=e[1],a=e[2],k=e[3],y=b+b,f=w+w,l=a+a,t=b*y,s=w*y,o=w*f,n=a*y,r=a*f,i=a*l,u=k*y,p=k*f,h=k*l;return M[0]=1-o-i,M[1]=s+h,M[2]=n-p,M[3]=0,M[4]=s-h,M[5]=1-t-i,M[6]=r+u,M[7]=0,M[8]=n+p,M[9]=r-u,M[10]=1-t-o,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},34045:function(L){L.exports=function(M,e,b){var w,a,k,y=b[0],f=b[1],l=b[2],t=Math.sqrt(y*y+f*f+l*l);return Math.abs(t)<1e-6?null:(y*=t=1/t,f*=t,l*=t,w=Math.sin(e),k=1-(a=Math.cos(e)),M[0]=y*y*k+a,M[1]=f*y*k+l*w,M[2]=l*y*k-f*w,M[3]=0,M[4]=y*f*k-l*w,M[5]=f*f*k+a,M[6]=l*f*k+y*w,M[7]=0,M[8]=y*l*k+f*w,M[9]=f*l*k-y*w,M[10]=l*l*k+a,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M)}},45973:function(L){L.exports=function(M,e,b){var w=e[0],a=e[1],k=e[2],y=e[3],f=w+w,l=a+a,t=k+k,s=w*f,o=w*l,n=w*t,r=a*l,i=a*t,u=k*t,p=y*f,h=y*l,_=y*t;return M[0]=1-(r+u),M[1]=o+_,M[2]=n-h,M[3]=0,M[4]=o-_,M[5]=1-(s+u),M[6]=i+p,M[7]=0,M[8]=n+h,M[9]=i-p,M[10]=1-(s+r),M[11]=0,M[12]=b[0],M[13]=b[1],M[14]=b[2],M[15]=1,M}},81472:function(L){L.exports=function(M,e){return M[0]=e[0],M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=e[1],M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=e[2],M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},14669:function(L){L.exports=function(M,e){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=e[0],M[13]=e[1],M[14]=e[2],M[15]=1,M}},75262:function(L){L.exports=function(M,e){var b=Math.sin(e),w=Math.cos(e);return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=w,M[6]=b,M[7]=0,M[8]=0,M[9]=-b,M[10]=w,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},331:function(L){L.exports=function(M,e){var b=Math.sin(e),w=Math.cos(e);return M[0]=w,M[1]=0,M[2]=-b,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=b,M[9]=0,M[10]=w,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},11049:function(L){L.exports=function(M,e){var b=Math.sin(e),w=Math.cos(e);return M[0]=w,M[1]=b,M[2]=0,M[3]=0,M[4]=-b,M[5]=w,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},75195:function(L){L.exports=function(M,e,b,w,a,k,y){var f=1/(b-e),l=1/(a-w),t=1/(k-y);return M[0]=2*k*f,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=2*k*l,M[6]=0,M[7]=0,M[8]=(b+e)*f,M[9]=(a+w)*l,M[10]=(y+k)*t,M[11]=-1,M[12]=0,M[13]=0,M[14]=y*k*2*t,M[15]=0,M}},71551:function(L){L.exports=function(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}},79576:function(L,M,e){L.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(L){L.exports=function(M,e){var b=e[0],w=e[1],a=e[2],k=e[3],y=e[4],f=e[5],l=e[6],t=e[7],s=e[8],o=e[9],n=e[10],r=e[11],i=e[12],u=e[13],p=e[14],h=e[15],_=b*f-w*y,m=b*l-a*y,d=b*t-k*y,x=w*l-a*f,g=w*t-k*f,v=a*t-k*l,T=s*u-o*i,c=s*p-n*i,E=s*h-r*i,A=o*p-n*u,C=o*h-r*u,O=n*h-r*p,P=_*O-m*C+d*A+x*E-g*c+v*T;return P?(P=1/P,M[0]=(f*O-l*C+t*A)*P,M[1]=(a*C-w*O-k*A)*P,M[2]=(u*v-p*g+h*x)*P,M[3]=(n*g-o*v-r*x)*P,M[4]=(l*E-y*O-t*c)*P,M[5]=(b*O-a*E+k*c)*P,M[6]=(p*d-i*v-h*m)*P,M[7]=(s*v-n*d+r*m)*P,M[8]=(y*C-f*E+t*T)*P,M[9]=(w*E-b*C-k*T)*P,M[10]=(i*g-u*d+h*_)*P,M[11]=(o*d-s*g-r*_)*P,M[12]=(f*c-y*A-l*T)*P,M[13]=(b*A-w*c+a*T)*P,M[14]=(u*m-i*x-p*_)*P,M[15]=(s*x-o*m+n*_)*P,M):null}},65551:function(L,M,e){var b=e(71551);L.exports=function(w,a,k,y){var f,l,t,s,o,n,r,i,u,p,h=a[0],_=a[1],m=a[2],d=y[0],x=y[1],g=y[2],v=k[0],T=k[1],c=k[2];return Math.abs(h-v)<1e-6&&Math.abs(_-T)<1e-6&&Math.abs(m-c)<1e-6?b(w):(r=h-v,i=_-T,u=m-c,f=x*(u*=p=1/Math.sqrt(r*r+i*i+u*u))-g*(i*=p),l=g*(r*=p)-d*u,t=d*i-x*r,(p=Math.sqrt(f*f+l*l+t*t))?(f*=p=1/p,l*=p,t*=p):(f=0,l=0,t=0),s=i*t-u*l,o=u*f-r*t,n=r*l-i*f,(p=Math.sqrt(s*s+o*o+n*n))?(s*=p=1/p,o*=p,n*=p):(s=0,o=0,n=0),w[0]=f,w[1]=s,w[2]=r,w[3]=0,w[4]=l,w[5]=o,w[6]=i,w[7]=0,w[8]=t,w[9]=n,w[10]=u,w[11]=0,w[12]=-(f*h+l*_+t*m),w[13]=-(s*h+o*_+n*m),w[14]=-(r*h+i*_+u*m),w[15]=1,w)}},91362:function(L){L.exports=function(M,e,b){var w=e[0],a=e[1],k=e[2],y=e[3],f=e[4],l=e[5],t=e[6],s=e[7],o=e[8],n=e[9],r=e[10],i=e[11],u=e[12],p=e[13],h=e[14],_=e[15],m=b[0],d=b[1],x=b[2],g=b[3];return M[0]=m*w+d*f+x*o+g*u,M[1]=m*a+d*l+x*n+g*p,M[2]=m*k+d*t+x*r+g*h,M[3]=m*y+d*s+x*i+g*_,m=b[4],d=b[5],x=b[6],g=b[7],M[4]=m*w+d*f+x*o+g*u,M[5]=m*a+d*l+x*n+g*p,M[6]=m*k+d*t+x*r+g*h,M[7]=m*y+d*s+x*i+g*_,m=b[8],d=b[9],x=b[10],g=b[11],M[8]=m*w+d*f+x*o+g*u,M[9]=m*a+d*l+x*n+g*p,M[10]=m*k+d*t+x*r+g*h,M[11]=m*y+d*s+x*i+g*_,m=b[12],d=b[13],x=b[14],g=b[15],M[12]=m*w+d*f+x*o+g*u,M[13]=m*a+d*l+x*n+g*p,M[14]=m*k+d*t+x*r+g*h,M[15]=m*y+d*s+x*i+g*_,M}},60378:function(L){L.exports=function(M,e,b,w,a,k,y){var f=1/(e-b),l=1/(w-a),t=1/(k-y);return M[0]=-2*f,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=-2*l,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=2*t,M[11]=0,M[12]=(e+b)*f,M[13]=(a+w)*l,M[14]=(y+k)*t,M[15]=1,M}},7864:function(L){L.exports=function(M,e,b,w,a){var k=1/Math.tan(e/2),y=1/(w-a);return M[0]=k/b,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=k,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=(a+w)*y,M[11]=-1,M[12]=0,M[13]=0,M[14]=2*a*w*y,M[15]=0,M}},35279:function(L){L.exports=function(M,e,b,w){var a=Math.tan(e.upDegrees*Math.PI/180),k=Math.tan(e.downDegrees*Math.PI/180),y=Math.tan(e.leftDegrees*Math.PI/180),f=Math.tan(e.rightDegrees*Math.PI/180),l=2/(y+f),t=2/(a+k);return M[0]=l,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=t,M[6]=0,M[7]=0,M[8]=-(y-f)*l*.5,M[9]=(a-k)*t*.5,M[10]=w/(b-w),M[11]=-1,M[12]=0,M[13]=0,M[14]=w*b/(b-w),M[15]=0,M}},65074:function(L){L.exports=function(M,e,b,w){var a,k,y,f,l,t,s,o,n,r,i,u,p,h,_,m,d,x,g,v,T,c,E,A,C=w[0],O=w[1],P=w[2],D=Math.sqrt(C*C+O*O+P*P);return Math.abs(D)<1e-6?null:(C*=D=1/D,O*=D,P*=D,a=Math.sin(b),y=1-(k=Math.cos(b)),f=e[0],l=e[1],t=e[2],s=e[3],o=e[4],n=e[5],r=e[6],i=e[7],u=e[8],p=e[9],h=e[10],_=e[11],m=C*C*y+k,d=O*C*y+P*a,x=P*C*y-O*a,g=C*O*y-P*a,v=O*O*y+k,T=P*O*y+C*a,c=C*P*y+O*a,E=O*P*y-C*a,A=P*P*y+k,M[0]=f*m+o*d+u*x,M[1]=l*m+n*d+p*x,M[2]=t*m+r*d+h*x,M[3]=s*m+i*d+_*x,M[4]=f*g+o*v+u*T,M[5]=l*g+n*v+p*T,M[6]=t*g+r*v+h*T,M[7]=s*g+i*v+_*T,M[8]=f*c+o*E+u*A,M[9]=l*c+n*E+p*A,M[10]=t*c+r*E+h*A,M[11]=s*c+i*E+_*A,e!==M&&(M[12]=e[12],M[13]=e[13],M[14]=e[14],M[15]=e[15]),M)}},35545:function(L){L.exports=function(M,e,b){var w=Math.sin(b),a=Math.cos(b),k=e[4],y=e[5],f=e[6],l=e[7],t=e[8],s=e[9],o=e[10],n=e[11];return e!==M&&(M[0]=e[0],M[1]=e[1],M[2]=e[2],M[3]=e[3],M[12]=e[12],M[13]=e[13],M[14]=e[14],M[15]=e[15]),M[4]=k*a+t*w,M[5]=y*a+s*w,M[6]=f*a+o*w,M[7]=l*a+n*w,M[8]=t*a-k*w,M[9]=s*a-y*w,M[10]=o*a-f*w,M[11]=n*a-l*w,M}},94918:function(L){L.exports=function(M,e,b){var w=Math.sin(b),a=Math.cos(b),k=e[0],y=e[1],f=e[2],l=e[3],t=e[8],s=e[9],o=e[10],n=e[11];return e!==M&&(M[4]=e[4],M[5]=e[5],M[6]=e[6],M[7]=e[7],M[12]=e[12],M[13]=e[13],M[14]=e[14],M[15]=e[15]),M[0]=k*a-t*w,M[1]=y*a-s*w,M[2]=f*a-o*w,M[3]=l*a-n*w,M[8]=k*w+t*a,M[9]=y*w+s*a,M[10]=f*w+o*a,M[11]=l*w+n*a,M}},15692:function(L){L.exports=function(M,e,b){var w=Math.sin(b),a=Math.cos(b),k=e[0],y=e[1],f=e[2],l=e[3],t=e[4],s=e[5],o=e[6],n=e[7];return e!==M&&(M[8]=e[8],M[9]=e[9],M[10]=e[10],M[11]=e[11],M[12]=e[12],M[13]=e[13],M[14]=e[14],M[15]=e[15]),M[0]=k*a+t*w,M[1]=y*a+s*w,M[2]=f*a+o*w,M[3]=l*a+n*w,M[4]=t*a-k*w,M[5]=s*a-y*w,M[6]=o*a-f*w,M[7]=n*a-l*w,M}},10789:function(L){L.exports=function(M,e,b){var w=b[0],a=b[1],k=b[2];return M[0]=e[0]*w,M[1]=e[1]*w,M[2]=e[2]*w,M[3]=e[3]*w,M[4]=e[4]*a,M[5]=e[5]*a,M[6]=e[6]*a,M[7]=e[7]*a,M[8]=e[8]*k,M[9]=e[9]*k,M[10]=e[10]*k,M[11]=e[11]*k,M[12]=e[12],M[13]=e[13],M[14]=e[14],M[15]=e[15],M}},6726:function(L){L.exports=function(M){return"mat4("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+", "+M[4]+", "+M[5]+", "+M[6]+", "+M[7]+", "+M[8]+", "+M[9]+", "+M[10]+", "+M[11]+", "+M[12]+", "+M[13]+", "+M[14]+", "+M[15]+")"}},31283:function(L){L.exports=function(M,e,b){var w,a,k,y,f,l,t,s,o,n,r,i,u=b[0],p=b[1],h=b[2];return e===M?(M[12]=e[0]*u+e[4]*p+e[8]*h+e[12],M[13]=e[1]*u+e[5]*p+e[9]*h+e[13],M[14]=e[2]*u+e[6]*p+e[10]*h+e[14],M[15]=e[3]*u+e[7]*p+e[11]*h+e[15]):(w=e[0],a=e[1],k=e[2],y=e[3],f=e[4],l=e[5],t=e[6],s=e[7],o=e[8],n=e[9],r=e[10],i=e[11],M[0]=w,M[1]=a,M[2]=k,M[3]=y,M[4]=f,M[5]=l,M[6]=t,M[7]=s,M[8]=o,M[9]=n,M[10]=r,M[11]=i,M[12]=w*u+f*p+o*h+e[12],M[13]=a*u+l*p+n*h+e[13],M[14]=k*u+t*p+r*h+e[14],M[15]=y*u+s*p+i*h+e[15]),M}},88654:function(L){L.exports=function(M,e){if(M===e){var b=e[1],w=e[2],a=e[3],k=e[6],y=e[7],f=e[11];M[1]=e[4],M[2]=e[8],M[3]=e[12],M[4]=b,M[6]=e[9],M[7]=e[13],M[8]=w,M[9]=k,M[11]=e[14],M[12]=a,M[13]=y,M[14]=f}else M[0]=e[0],M[1]=e[4],M[2]=e[8],M[3]=e[12],M[4]=e[1],M[5]=e[5],M[6]=e[9],M[7]=e[13],M[8]=e[2],M[9]=e[6],M[10]=e[10],M[11]=e[14],M[12]=e[3],M[13]=e[7],M[14]=e[11],M[15]=e[15];return M}},42505:function(L,M,e){"use strict";var b=e(72791),w=e(71299),a=e(98580),k=e(12018),y=e(83522),f=e(25075),l=e(68016),t=e(58404),s=e(18863),o=e(10973),n=e(25677),r=e(75686),i=e(53545),u=e(56131),p=e(32879),h=e(30120),_=e(13547).nextPow2,m=new y,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var g=function(v){(function(T){return typeof T=="function"&&T._gl&&T.prop&&T.texture&&T.buffer})(v)?(v={regl:v},this.gl=v.regl._gl):this.gl=k(v),this.shader=m.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=v.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),m.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(o(v)?v:{})};g.prototype.createShader=function(){var v=this.regl,T=v({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:v.prop("count"),offset:v.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:v.this("sizeBuffer")},width:{offset:0,stride:8,buffer:v.this("sizeBuffer")},char:v.this("charBuffer"),position:v.this("position")},uniforms:{atlasSize:function(c,E){return[E.atlas.width,E.atlas.height]},atlasDim:function(c,E){return[E.atlas.cols,E.atlas.rows]},atlas:function(c,E){return E.atlas.texture},charStep:function(c,E){return E.atlas.step},em:function(c,E){return E.atlas.em},color:v.prop("color"),opacity:v.prop("opacity"),viewport:v.this("viewportArray"),scale:v.this("scale"),align:v.prop("align"),baseline:v.prop("baseline"),translate:v.this("translate"),positionOffset:v.prop("positionOffset")},primitive:"points",viewport:v.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:v,draw:T,atlas:{}}},g.prototype.update=function(v){var T=this;if(typeof v=="string")v={text:v};else if(!v)return;(v=w(v,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(v.opacity)?this.opacity=v.opacity.map(function(te){return parseFloat(te)}):this.opacity=parseFloat(v.opacity)),v.viewport!=null&&(this.viewport=s(v.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),v.kerning!=null&&(this.kerning=v.kerning),v.offset!=null&&(typeof v.offset=="number"&&(v.offset=[v.offset,0]),this.positionOffset=h(v.offset)),v.direction&&(this.direction=v.direction),v.range&&(this.range=v.range,this.scale=[1/(v.range[2]-v.range[0]),1/(v.range[3]-v.range[1])],this.translate=[-v.range[0],-v.range[1]]),v.scale&&(this.scale=v.scale),v.translate&&(this.translate=v.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||v.font||(v.font=g.baseFontSize+"px sans-serif");var c,E=!1,A=!1;if(v.font&&(Array.isArray(v.font)?v.font:[v.font]).forEach(function(te,ue){if(typeof te=="string")try{te=b.parse(te)}catch{te=b.parse(g.baseFontSize+"px "+te)}else te=b.parse(b.stringify(te));var ge=b.stringify({size:g.baseFontSize,family:te.family,stretch:d?te.stretch:void 0,variant:te.variant,weight:te.weight,style:te.style}),we=n(te.size),Ee=Math.round(we[0]*r(we[1]));if(Ee!==T.fontSize[ue]&&(A=!0,T.fontSize[ue]=Ee),!(T.font[ue]&&ge==T.font[ue].baseString||(E=!0,T.font[ue]=g.fonts[ge],T.font[ue]))){var Be=te.family.join(", "),Re=[te.style];te.style!=te.variant&&Re.push(te.variant),te.variant!=te.weight&&Re.push(te.weight),d&&te.weight!=te.stretch&&Re.push(te.stretch),T.font[ue]={baseString:ge,family:Be,weight:te.weight,stretch:te.stretch,style:te.style,variant:te.variant,width:{},kerning:{},metrics:p(Be,{origin:"top",fontSize:g.baseFontSize,fontStyle:Re.join(" ")})},g.fonts[ge]=T.font[ue]}}),(E||A)&&this.font.forEach(function(te,ue){var ge=b.stringify({size:T.fontSize[ue],family:te.family,stretch:d?te.stretch:void 0,variant:te.variant,weight:te.weight,style:te.style});if(T.fontAtlas[ue]=T.shader.atlas[ge],!T.fontAtlas[ue]){var we=te.metrics;T.shader.atlas[ge]=T.fontAtlas[ue]={fontString:ge,step:2*Math.ceil(T.fontSize[ue]*we.bottom*.5),em:T.fontSize[ue],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}v.text==null&&(v.text=T.text)}),typeof v.text=="string"&&v.position&&v.position.length>2){for(var C=Array(.5*v.position.length),O=0;O<C.length;O++)C[O]=v.text;v.text=C}if(v.text!=null||E){if(this.textOffsets=[0],Array.isArray(v.text)){this.count=v.text[0].length,this.counts=[this.count];for(var P=1;P<v.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+v.text[P-1].length,this.count+=v.text[P].length,this.counts.push(v.text[P].length);this.text=v.text.join("")}else this.text=v.text,this.count=this.text.length,this.counts=[this.count];c=[],this.font.forEach(function(te,ue){g.atlasContext.font=te.baseString;for(var ge=T.fontAtlas[ue],we=0;we<T.text.length;we++){var Ee=T.text.charAt(we);if(ge.ids[Ee]==null&&(ge.ids[Ee]=ge.chars.length,ge.chars.push(Ee),c.push(Ee)),te.width[Ee]==null&&(te.width[Ee]=g.atlasContext.measureText(Ee).width/g.baseFontSize,T.kerning)){var Be=[];for(var Re in te.width)Be.push(Re+Ee,Ee+Re);u(te.kerning,i(te.family,{pairs:Be}))}}})}if(v.position)if(v.position.length>2){for(var D=!v.position[0].length,z=t.mallocFloat(2*this.count),V=0,F=0;V<this.counts.length;V++){var W=this.counts[V];if(D)for(var B=0;B<W;B++)z[F++]=v.position[2*V],z[F++]=v.position[2*V+1];else for(var U=0;U<W;U++)z[F++]=v.position[V][0],z[F++]=v.position[V][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:v.position};if(v.text||E){var H=t.mallocUint8(this.count),q=t.mallocFloat(2*this.count);this.textWidth=[];for(var ee=0,K=0;ee<this.counts.length;ee++){for(var J=this.counts[ee],Z=this.font[ee]||this.font[0],$=this.fontAtlas[ee]||this.fontAtlas[0],ne=0;ne<J;ne++){var ae=this.text.charAt(K),oe=this.text.charAt(K-1);if(H[K]=$.ids[ae],q[2*K]=Z.width[ae],ne){var se=q[2*K-2],ce=q[2*K],me=q[2*K-1]+.5*se+.5*ce;if(this.kerning){var xe=Z.kerning[oe+ae];xe&&(me+=.001*xe)}q[2*K+1]=me}else q[2*K+1]=.5*q[2*K];K++}this.textWidth.push(q.length?.5*q[2*K-2]+q[2*K-1]:0)}v.align||(v.align=this.align),this.charBuffer({data:H,type:"uint8",usage:"stream"}),this.sizeBuffer({data:q,type:"float",usage:"stream"}),t.freeUint8(H),t.freeFloat(q),c.length&&this.font.forEach(function(te,ue){var ge=T.fontAtlas[ue],we=ge.step,Ee=Math.floor(g.maxAtlasSize/we),Be=Math.min(Ee,ge.chars.length),Re=Math.ceil(ge.chars.length/Be),je=_(Be*we),he=_(Re*we);ge.width=je,ge.height=he,ge.rows=Re,ge.cols=Be,ge.em&&ge.texture({data:l({canvas:g.atlasCanvas,font:ge.fontString,chars:ge.chars,shape:[je,he],step:[we,we]})})})}if(v.align&&(this.align=v.align,this.alignOffset=this.textWidth.map(function(te,ue){var ge=Array.isArray(T.align)?T.align.length>1?T.align[ue]:T.align[0]:T.align;if(typeof ge=="number")return ge;switch(ge){case"right":case"end":return-te;case"center":case"centre":case"middle":return .5*-te}return 0})),this.baseline==null&&v.baseline==null&&(v.baseline=0),v.baseline!=null&&(this.baseline=v.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(te,ue){var ge=(T.font[ue]||T.font[0]).metrics,we=0;return we+=.5*ge.bottom,-1*(we+=typeof te=="number"?te-ge.baseline:-ge[te])})),v.color!=null)if(v.color||(v.color="transparent"),typeof v.color!="string"&&isNaN(v.color)){var ve;if(typeof v.color[0]=="number"&&v.color.length>this.counts.length){var fe=v.color.length;ve=t.mallocUint8(fe);for(var pe=(v.color.subarray||v.color.slice).bind(v.color),Le=0;Le<fe;Le+=4)ve.set(f(pe(Le,Le+4),"uint8"),Le)}else{var ye=v.color.length;ve=t.mallocUint8(4*ye);for(var Ae=0;Ae<ye;Ae++)ve.set(f(v.color[Ae]||0,"uint8"),4*Ae)}this.color=ve}else this.color=f(v.color,"uint8");if(v.position||v.text||v.color||v.baseline||v.align||v.font||v.offset||v.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Me=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Me);for(var ke=0;ke<this.batch.length;ke++)this.batch[ke]={count:this.counts.length>1?this.counts[ke]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ke]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*ke,4*ke+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ke]:this.opacity,baseline:this.baselineOffset[ke]!=null?this.baselineOffset[ke]:this.baselineOffset[0],align:this.align?this.alignOffset[ke]!=null?this.alignOffset[ke]:this.alignOffset[0]:0,atlas:this.fontAtlas[ke]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*ke,2*ke+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},g.prototype.destroy=function(){},g.prototype.kerning=!0,g.prototype.position={constant:new Float32Array(2)},g.prototype.translate=null,g.prototype.scale=null,g.prototype.font=null,g.prototype.text="",g.prototype.positionOffset=[0,0],g.prototype.opacity=1,g.prototype.color=new Uint8Array([0,0,0,255]),g.prototype.alignOffset=[0,0],g.maxAtlasSize=1024,g.atlasCanvas=document.createElement("canvas"),g.atlasContext=g.atlasCanvas.getContext("2d",{alpha:!1}),g.baseFontSize=64,g.fonts={},L.exports=g},12018:function(L,M,e){"use strict";var b=e(71299);function w(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var f=y.container.getBoundingClientRect();y.canvas.width=y.width||f.right-f.left,y.canvas.height=y.height||f.bottom-f.top}}function a(y){return typeof y.getContext=="function"&&"width"in y&&"height"in y}function k(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}L.exports=function(y){var f;if(y?typeof y=="string"&&(y={container:y}):y={},(y=a(y)||typeof(f=y).nodeName=="string"&&typeof f.appendChild=="function"&&typeof f.getBoundingClientRect=="function"?{container:y}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(y)?{gl:y}:b(y,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(y.pixelRatio=e.g.pixelRatio||1),y.gl)return y.gl;if(y.canvas&&(y.container=y.canvas.parentNode),y.container){if(typeof y.container=="string"){var l=document.querySelector(y.container);if(!l)throw Error("Element "+y.container+" is not found");y.container=l}a(y.container)?(y.canvas=y.container,y.container=y.canvas.parentNode):y.canvas||(y.canvas=k(),y.container.appendChild(y.canvas),w(y))}else if(!y.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");y.container=document.body||document.documentElement,y.canvas=k(),y.container.appendChild(y.canvas),w(y)}return y.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{y.gl=y.canvas.getContext(t,y.attrs)}catch{}return y.gl}),y.gl}},56068:function(L){L.exports=function(M){typeof M=="string"&&(M=[M]);for(var e=[].slice.call(arguments,1),b=[],w=0;w<M.length-1;w++)b.push(M[w],e[w]||"");return b.push(M[w]),b.join("")}},40383:function(L,M,e){"use strict";var b=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(b)try{b([],"length")}catch{b=null}L.exports=b},57035:function(L,M,e){"use strict";var b,w=e(54404);b=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:w,L.exports=b},38520:function(L,M,e){"use strict";var b=e(54404);L.exports=b&&function(){var w=!1;try{var a=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{w=!1}return w}()},55622:function(L,M,e){"use strict";var b=e(68318)("%Object.defineProperty%",!0),w=function(){if(b)try{return b({},"a",{value:1}),!0}catch{return!1}return!1};w.hasArrayLengthDefineBug=function(){if(!w())return null;try{return b([],"length",{value:1}).length!==1}catch{return!0}},L.exports=w},57877:function(L,M,e){"use strict";var b=typeof Symbol<"u"&&Symbol,w=e(35638);L.exports=function(){return typeof b=="function"&&typeof Symbol=="function"&&typeof b("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&w()}},35638:function(L){"use strict";L.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var M={},e=Symbol("test"),b=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(b)!=="[object Symbol]")return!1;for(e in M[e]=42,M)return!1;if(typeof Object.keys=="function"&&Object.keys(M).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(M).length!==0)return!1;var w=Object.getOwnPropertySymbols(M);if(w.length!==1||w[0]!==e||!Object.prototype.propertyIsEnumerable.call(M,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(M,e);if(a.value!==42||a.enumerable!==!0)return!1}return!0}},84543:function(L,M,e){"use strict";var b=e(35638);L.exports=function(){return b()&&!!Symbol.toStringTag}},35065:function(L,M,e){"use strict";var b=e(77575);L.exports=b.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(L,M){M.read=function(e,b,w,a,k){var y,f,l=8*k-a-1,t=(1<<l)-1,s=t>>1,o=-7,n=w?k-1:0,r=w?-1:1,i=e[b+n];for(n+=r,y=i&(1<<-o)-1,i>>=-o,o+=l;o>0;y=256*y+e[b+n],n+=r,o-=8);for(f=y&(1<<-o)-1,y>>=-o,o+=a;o>0;f=256*f+e[b+n],n+=r,o-=8);if(y===0)y=1-s;else{if(y===t)return f?NaN:1/0*(i?-1:1);f+=Math.pow(2,a),y-=s}return(i?-1:1)*f*Math.pow(2,y-a)},M.write=function(e,b,w,a,k,y){var f,l,t,s=8*y-k-1,o=(1<<s)-1,n=o>>1,r=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=a?0:y-1,u=a?1:-1,p=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(l=isNaN(b)?1:0,f=o):(f=Math.floor(Math.log(b)/Math.LN2),b*(t=Math.pow(2,-f))<1&&(f--,t*=2),(b+=f+n>=1?r/t:r*Math.pow(2,1-n))*t>=2&&(f++,t/=2),f+n>=o?(l=0,f=o):f+n>=1?(l=(b*t-1)*Math.pow(2,k),f+=n):(l=b*Math.pow(2,n-1)*Math.pow(2,k),f=0));k>=8;e[w+i]=255&l,i+=u,l/=256,k-=8);for(f=f<<k|l,s+=k;s>0;e[w+i]=255&f,i+=u,f/=256,s-=8);e[w+i-u]|=128*p}},42018:function(L){typeof Object.create=="function"?L.exports=function(M,e){e&&(M.super_=e,M.prototype=Object.create(e.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:L.exports=function(M,e){if(e){M.super_=e;var b=function(){};b.prototype=e.prototype,M.prototype=new b,M.prototype.constructor=M}}},47216:function(L,M,e){"use strict";var b=e(84543)(),w=e(6614)("Object.prototype.toString"),a=function(f){return!(b&&f&&typeof f=="object"&&Symbol.toStringTag in f)&&w(f)==="[object Arguments]"},k=function(f){return!!a(f)||f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&w(f)!=="[object Array]"&&w(f.callee)==="[object Function]"},y=function(){return a(arguments)}();a.isLegacyArguments=k,L.exports=y?a:k},54404:function(L){L.exports=!0},85395:function(L){"use strict";var M,e,b=Function.prototype.toString,w=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof w=="function"&&typeof Object.defineProperty=="function")try{M=Object.defineProperty({},"length",{get:function(){throw e}}),e={},w(function(){throw 42},null,M)}catch(n){n!==e&&(w=null)}else w=null;var a=/^\s*class\b/,k=function(n){try{var r=b.call(n);return a.test(r)}catch{return!1}},y=function(n){try{return!k(n)&&(b.call(n),!0)}catch{return!1}},f=Object.prototype.toString,l=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),s=function(){return!1};if(typeof document=="object"){var o=document.all;f.call(o)===f.call(document.all)&&(s=function(n){if((t||!n)&&(n===void 0||typeof n=="object"))try{var r=f.call(n);return(r==="[object HTMLAllCollection]"||r==="[object HTML document.all class]"||r==="[object HTMLCollection]"||r==="[object Object]")&&n("")==null}catch{}return!1})}L.exports=w?function(n){if(s(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;try{w(n,null,M)}catch(r){if(r!==e)return!1}return!k(n)&&y(n)}:function(n){if(s(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;if(l)return y(n);if(k(n))return!1;var r=f.call(n);return!(r!=="[object Function]"&&r!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(r))&&y(n)}},65481:function(L,M,e){"use strict";var b,w=Object.prototype.toString,a=Function.prototype.toString,k=/^\s*(?:function)?\*/,y=e(84543)(),f=Object.getPrototypeOf;L.exports=function(l){if(typeof l!="function")return!1;if(k.test(a.call(l)))return!0;if(!y)return w.call(l)==="[object GeneratorFunction]";if(!f)return!1;if(b===void 0){var t=function(){if(!y)return!1;try{return Function("return function*() {}")()}catch{}}();b=!!t&&f(t)}return f(l)===b}},62683:function(L){"use strict";L.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(L){"use strict";L.exports=function(M){return M!=M}},15567:function(L,M,e){"use strict";var b=e(68222),w=e(17045),a=e(64274),k=e(14922),y=e(22442),f=b(k(),Number);w(f,{getPolyfill:k,implementation:a,shim:y}),L.exports=f},14922:function(L,M,e){"use strict";var b=e(64274);L.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:b}},22442:function(L,M,e){"use strict";var b=e(17045),w=e(14922);L.exports=function(){var a=w();return b(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},64941:function(L){"use strict";L.exports=function(M){var e=typeof M;return M!==null&&(e==="object"||e==="function")}},10973:function(L){"use strict";var M=Object.prototype.toString;L.exports=function(e){var b;return M.call(e)==="[object Object]"&&((b=Object.getPrototypeOf(e))===null||b===Object.getPrototypeOf({}))}},18546:function(L){"use strict";L.exports=function(M){for(var e,b=M.length,w=0;w<b;w++)if(((e=M.charCodeAt(w))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},89546:function(L){"use strict";L.exports=function(M){return typeof M=="string"&&(M=M.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(M)&&/[\dz]$/i.test(M)&&M.length>4))}},9187:function(L,M,e){"use strict";var b=e(31353),w=e(72077),a=e(6614),k=a("Object.prototype.toString"),y=e(84543)(),f=e(40383),l=typeof globalThis>"u"?e.g:globalThis,t=w(),s=a("Array.prototype.indexOf",!0)||function(i,u){for(var p=0;p<i.length;p+=1)if(i[p]===u)return p;return-1},o=a("String.prototype.slice"),n={},r=Object.getPrototypeOf;y&&f&&r&&b(t,function(i){var u=new l[i];if(Symbol.toStringTag in u){var p=r(u),h=f(p,Symbol.toStringTag);if(!h){var _=r(p);h=f(_,Symbol.toStringTag)}n[i]=h.get}}),L.exports=function(i){if(!i||typeof i!="object")return!1;if(!y||!(Symbol.toStringTag in i)){var u=o(k(i),8,-1);return s(t,u)>-1}return!!f&&function(p){var h=!1;return b(n,function(_,m){if(!h)try{h=_.call(p)===m}catch{}}),h}(i)}},44517:function(L){L.exports=function(){"use strict";var M,e,b;function w(a,k){if(M)if(e){var y="var sharedChunk = {}; ("+M+")(sharedChunk); ("+e+")(sharedChunk);",f={};M(f),(b=k(f)).workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"}))}else e=k;else M=k}return w(0,function(a){function k(S,R){return S(R={exports:{}},R.exports),R.exports}var y="1.10.1",f=l;function l(S,R,Y,le){this.cx=3*S,this.bx=3*(Y-S)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(le-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=S,this.p1y=le,this.p2x=Y,this.p2y=le}l.prototype.sampleCurveX=function(S){return((this.ax*S+this.bx)*S+this.cx)*S},l.prototype.sampleCurveY=function(S){return((this.ay*S+this.by)*S+this.cy)*S},l.prototype.sampleCurveDerivativeX=function(S){return(3*this.ax*S+2*this.bx)*S+this.cx},l.prototype.solveCurveX=function(S,R){var Y,le,Se,Pe,qe;for(R===void 0&&(R=1e-6),Se=S,qe=0;qe<8;qe++){if(Pe=this.sampleCurveX(Se)-S,Math.abs(Pe)<R)return Se;var it=this.sampleCurveDerivativeX(Se);if(Math.abs(it)<1e-6)break;Se-=Pe/it}if((Se=S)<(Y=0))return Y;if(Se>(le=1))return le;for(;Y<le;){if(Pe=this.sampleCurveX(Se),Math.abs(Pe-S)<R)return Se;S>Pe?Y=Se:le=Se,Se=.5*(le-Y)+Y}return Se},l.prototype.solve=function(S,R){return this.sampleCurveY(this.solveCurveX(S,R))};var t=s;function s(S,R){this.x=S,this.y=R}function o(S,R,Y,le){var Se=new f(S,R,Y,le);return function(Pe){return Se.solve(Pe)}}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(S){return this.clone()._add(S)},sub:function(S){return this.clone()._sub(S)},multByPoint:function(S){return this.clone()._multByPoint(S)},divByPoint:function(S){return this.clone()._divByPoint(S)},mult:function(S){return this.clone()._mult(S)},div:function(S){return this.clone()._div(S)},rotate:function(S){return this.clone()._rotate(S)},rotateAround:function(S,R){return this.clone()._rotateAround(S,R)},matMult:function(S){return this.clone()._matMult(S)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(S){return this.x===S.x&&this.y===S.y},dist:function(S){return Math.sqrt(this.distSqr(S))},distSqr:function(S){var R=S.x-this.x,Y=S.y-this.y;return R*R+Y*Y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(S){return Math.atan2(this.y-S.y,this.x-S.x)},angleWith:function(S){return this.angleWithSep(S.x,S.y)},angleWithSep:function(S,R){return Math.atan2(this.x*R-this.y*S,this.x*S+this.y*R)},_matMult:function(S){var R=S[0]*this.x+S[1]*this.y,Y=S[2]*this.x+S[3]*this.y;return this.x=R,this.y=Y,this},_add:function(S){return this.x+=S.x,this.y+=S.y,this},_sub:function(S){return this.x-=S.x,this.y-=S.y,this},_mult:function(S){return this.x*=S,this.y*=S,this},_div:function(S){return this.x/=S,this.y/=S,this},_multByPoint:function(S){return this.x*=S.x,this.y*=S.y,this},_divByPoint:function(S){return this.x/=S.x,this.y/=S.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var S=this.y;return this.y=this.x,this.x=-S,this},_rotate:function(S){var R=Math.cos(S),Y=Math.sin(S),le=R*this.x-Y*this.y,Se=Y*this.x+R*this.y;return this.x=le,this.y=Se,this},_rotateAround:function(S,R){var Y=Math.cos(S),le=Math.sin(S),Se=R.x+Y*(this.x-R.x)-le*(this.y-R.y),Pe=R.y+le*(this.x-R.x)+Y*(this.y-R.y);return this.x=Se,this.y=Pe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(S){return S instanceof s?S:Array.isArray(S)?new s(S[0],S[1]):S};var n=o(.25,.1,.25,1);function r(S,R,Y){return Math.min(Y,Math.max(R,S))}function i(S,R,Y){var le=Y-R,Se=((S-R)%le+le)%le+R;return Se===R?Y:Se}function u(S){for(var R=[],Y=arguments.length-1;Y-- >0;)R[Y]=arguments[Y+1];for(var le=0,Se=R;le<Se.length;le+=1){var Pe=Se[le];for(var qe in Pe)S[qe]=Pe[qe]}return S}var p=1;function h(){return p++}function _(){return function S(R){return R?(R^16*Math.random()>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,S)}()}function m(S){return!!S&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(S)}function d(S,R){S.forEach(function(Y){R[Y]&&(R[Y]=R[Y].bind(R))})}function x(S,R){return S.indexOf(R,S.length-R.length)!==-1}function g(S,R,Y){var le={};for(var Se in S)le[Se]=R.call(Y||this,S[Se],Se,S);return le}function v(S,R,Y){var le={};for(var Se in S)R.call(Y||this,S[Se],Se,S)&&(le[Se]=S[Se]);return le}function T(S){return Array.isArray(S)?S.map(T):typeof S=="object"&&S?g(S,T):S}var c={};function E(S){c[S]||(typeof console<"u"&&console.warn(S),c[S]=!0)}function A(S,R,Y){return(Y.y-S.y)*(R.x-S.x)>(R.y-S.y)*(Y.x-S.x)}function C(S){for(var R=0,Y=0,le=S.length,Se=le-1,Pe=void 0,qe=void 0;Y<le;Se=Y++)Pe=S[Y],R+=((qe=S[Se]).x-Pe.x)*(Pe.y+qe.y);return R}function O(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function P(S){var R={};if(S.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(le,Se,Pe,qe){var it=Pe||qe;return R[Se]=!it||it.toLowerCase(),""}),R["max-age"]){var Y=parseInt(R["max-age"],10);isNaN(Y)?delete R["max-age"]:R["max-age"]=Y}return R}var D=null;function z(S){if(D==null){var R=S.navigator?S.navigator.userAgent:null;D=!!S.safari||!(!R||!(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return D}function V(S){try{var R=self[S];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}var F,W,B,U,H=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),q=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,ee=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,K={now:H,frame:function(S){var R=q(S);return{cancel:function(){return ee(R)}}},getImageData:function(S,R){R===void 0&&(R=0);var Y=self.document.createElement("canvas"),le=Y.getContext("2d");if(!le)throw new Error("failed to create canvas 2d context");return Y.width=S.width,Y.height=S.height,le.drawImage(S,0,0,S.width,S.height),le.getImageData(-R,-R,S.width+2*R,S.height+2*R)},resolveURL:function(S){return F||(F=self.document.createElement("a")),F.href=S,F.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(W==null&&(W=self.matchMedia("(prefers-reduced-motion: reduce)")),W.matches)}},J={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Z={supported:!1,testSupport:function(S){!$&&U&&(ne?ae(S):B=S)}},$=!1,ne=!1;function ae(S){var R=S.createTexture();S.bindTexture(S.TEXTURE_2D,R);try{if(S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,U),S.isContextLost())return;Z.supported=!0}catch{}S.deleteTexture(R),$=!0}self.document&&((U=self.document.createElement("img")).onload=function(){B&&ae(B),B=null,ne=!0},U.onerror=function(){$=!0,B=null},U.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var oe="01",se=function(S,R){this._transformRequestFn=S,this._customAccessToken=R,this._createSkuToken()};function ce(S){return S.indexOf("mapbox:")===0}se.prototype._createSkuToken=function(){var S=function(){for(var R="",Y=0;Y<10;Y++)R+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",oe,R].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=S.token,this._skuTokenExpiresAt=S.tokenExpiresAt},se.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},se.prototype.transformRequest=function(S,R){return this._transformRequestFn&&this._transformRequestFn(S,R)||{url:S}},se.prototype.normalizeStyleURL=function(S,R){if(!ce(S))return S;var Y=fe(S);return Y.path="/styles/v1"+Y.path,this._makeAPIURL(Y,this._customAccessToken||R)},se.prototype.normalizeGlyphsURL=function(S,R){if(!ce(S))return S;var Y=fe(S);return Y.path="/fonts/v1"+Y.path,this._makeAPIURL(Y,this._customAccessToken||R)},se.prototype.normalizeSourceURL=function(S,R){if(!ce(S))return S;var Y=fe(S);return Y.path="/v4/"+Y.authority+".json",Y.params.push("secure"),this._makeAPIURL(Y,this._customAccessToken||R)},se.prototype.normalizeSpriteURL=function(S,R,Y,le){var Se=fe(S);return ce(S)?(Se.path="/styles/v1"+Se.path+"/sprite"+R+Y,this._makeAPIURL(Se,this._customAccessToken||le)):(Se.path+=""+R+Y,pe(Se))},se.prototype.normalizeTileURL=function(S,R){if(this._isSkuTokenExpired()&&this._createSkuToken(),S&&!ce(S))return S;var Y=fe(S),le=K.devicePixelRatio>=2||R===512?"@2x":"",Se=Z.supported?".webp":"$1";Y.path=Y.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+le+Se),Y.path=Y.path.replace(/^.+\/v4\//,"/"),Y.path="/v4"+Y.path;var Pe=this._customAccessToken||function(qe){for(var it=0,gt=qe;it<gt.length;it+=1){var Ot=gt[it].match(/^access_token=(.*)$/);if(Ot)return Ot[1]}return null}(Y.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&Pe&&this._skuToken&&Y.params.push("sku="+this._skuToken),this._makeAPIURL(Y,Pe)},se.prototype.canonicalizeTileURL=function(S,R){var Y=fe(S);if(!Y.path.match(/(^\/v4\/)/)||!Y.path.match(/\.[\w]+$/))return S;var le="mapbox://tiles/";le+=Y.path.replace("/v4/","");var Se=Y.params;return R&&(Se=Se.filter(function(Pe){return!Pe.match(/^access_token=/)})),Se.length&&(le+="?"+Se.join("&")),le},se.prototype.canonicalizeTileset=function(S,R){for(var Y=!!R&&ce(R),le=[],Se=0,Pe=S.tiles||[];Se<Pe.length;Se+=1){var qe=Pe[Se];xe(qe)?le.push(this.canonicalizeTileURL(qe,Y)):le.push(qe)}return le},se.prototype._makeAPIURL=function(S,R){var Y="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",le=fe(J.API_URL);if(S.protocol=le.protocol,S.authority=le.authority,le.path!=="/"&&(S.path=""+le.path+S.path),!J.REQUIRE_ACCESS_TOKEN)return pe(S);if(!(R=R||J.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Y);if(R[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Y);return S.params=S.params.filter(function(Se){return Se.indexOf("access_token")===-1}),S.params.push("access_token="+R),pe(S)};var me=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function xe(S){return me.test(S)}var ve=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function fe(S){var R=S.match(ve);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function pe(S){var R=S.params.length?"?"+S.params.join("&"):"";return S.protocol+"://"+S.authority+S.path+R}var Le="mapbox.eventData";function ye(S){if(!S)return null;var R,Y=S.split(".");if(!Y||Y.length!==3)return null;try{return JSON.parse((R=Y[1],decodeURIComponent(self.atob(R).split("").map(function(le){return"%"+("00"+le.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var Ae=function(S){this.type=S,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Ae.prototype.getStorageKey=function(S){var R,Y,le=ye(J.ACCESS_TOKEN);return R=le&&le.u?(Y=le.u,self.btoa(encodeURIComponent(Y).replace(/%([0-9A-F]{2})/g,function(Se,Pe){return String.fromCharCode(+("0x"+Pe))}))):J.ACCESS_TOKEN||"",S?Le+"."+S+":"+R:Le+":"+R},Ae.prototype.fetchEventData=function(){var S=V("localStorage"),R=this.getStorageKey(),Y=this.getStorageKey("uuid");if(S)try{var le=self.localStorage.getItem(R);le&&(this.eventData=JSON.parse(le));var Se=self.localStorage.getItem(Y);Se&&(this.anonId=Se)}catch{E("Unable to read from LocalStorage")}},Ae.prototype.saveEventData=function(){var S=V("localStorage"),R=this.getStorageKey(),Y=this.getStorageKey("uuid");if(S)try{self.localStorage.setItem(Y,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(R,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},Ae.prototype.processRequests=function(S){},Ae.prototype.postEvent=function(S,R,Y,le){var Se=this;if(J.EVENTS_URL){var Pe=fe(J.EVENTS_URL);Pe.params.push("access_token="+(le||J.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(S).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:y,skuId:oe,userId:this.anonId},it=R?u(qe,R):qe,gt={url:pe(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([it])};this.pendingRequest=Dt(gt,function(Ot){Se.pendingRequest=null,Y(Ot),Se.saveEventData(),Se.processRequests(le)})}},Ae.prototype.queueRequest=function(S,R){this.queue.push(S),this.processRequests(R)};var Me,ke,te=function(S){function R(){S.call(this,"map.load"),this.success={},this.skuToken=""}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(Y,le,Se,Pe){this.skuToken=Se,(J.EVENTS_URL&&Pe||J.ACCESS_TOKEN&&Array.isArray(Y)&&Y.some(function(qe){return ce(qe)||xe(qe)}))&&this.queueRequest({id:le,timestamp:Date.now()},Pe)},R.prototype.processRequests=function(Y){var le=this;if(!this.pendingRequest&&this.queue.length!==0){var Se=this.queue.shift(),Pe=Se.id,qe=Se.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=_()),this.postEvent(qe,{skuToken:this.skuToken},function(it){it||Pe&&(le.success[Pe]=!0)},Y))}},R}(Ae),ue=function(S){function R(Y){S.call(this,"appUserTurnstile"),this._customAccessToken=Y}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(Y,le){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(Y)&&Y.some(function(Se){return ce(Se)||xe(Se)})&&this.queueRequest(Date.now(),le)},R.prototype.processRequests=function(Y){var le=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Se=ye(J.ACCESS_TOKEN),Pe=Se?Se.u:J.ACCESS_TOKEN,qe=Pe!==this.eventData.tokenU;m(this.anonId)||(this.anonId=_(),qe=!0);var it=this.queue.shift();if(this.eventData.lastSuccess){var gt=new Date(this.eventData.lastSuccess),Ot=new Date(it),zt=(it-this.eventData.lastSuccess)/864e5;qe=qe||zt>=1||zt<-1||gt.getDate()!==Ot.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(it,{"enabled.telemetry":!1},function(Gt){Gt||(le.eventData.lastSuccess=it,le.eventData.tokenU=Pe)},Y)}},R}(Ae),ge=new ue,we=ge.postTurnstileEvent.bind(ge),Ee=new te,Be=Ee.postMapLoadEvent.bind(Ee),Re="mapbox-tiles",je=500,he=50;function _e(){self.caches&&!Me&&(Me=self.caches.open(Re))}function Te(S,R,Y){if(_e(),Me){var le={status:R.status,statusText:R.statusText,headers:new self.Headers};R.headers.forEach(function(Pe,qe){return le.headers.set(qe,Pe)});var Se=P(R.headers.get("Cache-Control")||"");Se["no-store"]||(Se["max-age"]&&le.headers.set("Expires",new Date(Y+1e3*Se["max-age"]).toUTCString()),new Date(le.headers.get("Expires")).getTime()-Y<42e4||function(Pe,qe){if(ke===void 0)try{new Response(new ReadableStream),ke=!0}catch{ke=!1}ke?qe(Pe.body):Pe.blob().then(qe)}(R,function(Pe){var qe=new self.Response(Pe,le);_e(),Me&&Me.then(function(it){return it.put(Fe(S.url),qe)}).catch(function(it){return E(it.message)})}))}}function Fe(S){var R=S.indexOf("?");return R<0?S:S.slice(0,R)}function Ye(S,R){if(_e(),!Me)return R(null);var Y=Fe(S.url);Me.then(function(le){le.match(Y).then(function(Se){var Pe=function(qe){if(!qe)return!1;var it=new Date(qe.headers.get("Expires")||0),gt=P(qe.headers.get("Cache-Control")||"");return it>Date.now()&&!gt["no-cache"]}(Se);le.delete(Y),Pe&&le.put(Y,Se.clone()),R(null,Se,Pe)}).catch(R)}).catch(R)}var Ge,ot=1/0;function st(){return Ge==null&&(Ge=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Ge}var ht={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ht);var xt=function(S){function R(Y,le,Se){le===401&&xe(Se)&&(Y+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),S.call(this,Y),this.status=le,this.url=Se,this.name=this.constructor.name,this.message=Y}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),Ct=O()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href};function St(S,R){var Y,le=new self.AbortController,Se=new self.Request(S.url,{method:S.method||"GET",body:S.body,credentials:S.credentials,headers:S.headers,referrer:Ct(),signal:le.signal}),Pe=!1,qe=!1,it=(Y=Se.url).indexOf("sku=")>0&&xe(Y);S.type==="json"&&Se.headers.set("Accept","application/json");var gt=function(zt,Gt,Jt){if(!qe){if(zt&&zt.message!=="SecurityError"&&E(zt),Gt&&Jt)return Ot(Gt);var Xt=Date.now();self.fetch(Se).then(function(hn){if(hn.ok){var Mn=it?hn.clone():null;return Ot(hn,Mn,Xt)}return R(new xt(hn.statusText,hn.status,S.url))}).catch(function(hn){hn.code!==20&&R(new Error(hn.message))})}},Ot=function(zt,Gt,Jt){(S.type==="arrayBuffer"?zt.arrayBuffer():S.type==="json"?zt.json():zt.text()).then(function(Xt){qe||(Gt&&Jt&&Te(Se,Gt,Jt),Pe=!0,R(null,Xt,zt.headers.get("Cache-Control"),zt.headers.get("Expires")))}).catch(function(Xt){qe||R(new Error(Xt.message))})};return it?Ye(Se,gt):gt(null,null),{cancel:function(){qe=!0,Pe||le.abort()}}}var kt=function(S,R){if(Y=S.url,!(/^file:/.test(Y)||/^file:/.test(Ct())&&!/^\w+:/.test(Y))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return St(S,R);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",S,R,void 0,!0)}var Y;return function(le,Se){var Pe=new self.XMLHttpRequest;for(var qe in Pe.open(le.method||"GET",le.url,!0),le.type==="arrayBuffer"&&(Pe.responseType="arraybuffer"),le.headers)Pe.setRequestHeader(qe,le.headers[qe]);return le.type==="json"&&(Pe.responseType="text",Pe.setRequestHeader("Accept","application/json")),Pe.withCredentials=le.credentials==="include",Pe.onerror=function(){Se(new Error(Pe.statusText))},Pe.onload=function(){if((Pe.status>=200&&Pe.status<300||Pe.status===0)&&Pe.response!==null){var it=Pe.response;if(le.type==="json")try{it=JSON.parse(Pe.response)}catch(gt){return Se(gt)}Se(null,it,Pe.getResponseHeader("Cache-Control"),Pe.getResponseHeader("Expires"))}else Se(new xt(Pe.statusText,Pe.status,le.url))},Pe.send(le.body),{cancel:function(){return Pe.abort()}}}(S,R)},Nt=function(S,R){return kt(u(S,{type:"arrayBuffer"}),R)},Dt=function(S,R){return kt(u(S,{method:"POST"}),R)},Et,Wt;Et=[],Wt=0;var Ht=function(S,R){if(Z.supported&&(S.headers||(S.headers={}),S.headers.accept="image/webp,*/*"),Wt>=J.MAX_PARALLEL_IMAGE_REQUESTS){var Y={requestParameters:S,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return Et.push(Y),Y}Wt++;var le=!1,Se=function(){if(!le)for(le=!0,Wt--;Et.length&&Wt<J.MAX_PARALLEL_IMAGE_REQUESTS;){var qe=Et.shift(),it=qe.requestParameters,gt=qe.callback;qe.cancelled||(qe.cancel=Ht(it,gt).cancel)}},Pe=Nt(S,function(qe,it,gt,Ot){Se(),qe?R(qe):it&&(st()?function(zt,Gt){var Jt=new self.Blob([new Uint8Array(zt)],{type:"image/png"});self.createImageBitmap(Jt).then(function(Xt){Gt(null,Xt)}).catch(function(Xt){Gt(new Error("Could not load image because of "+Xt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(it,R):function(zt,Gt,Jt,Xt){var hn=new self.Image,Mn=self.URL;hn.onload=function(){Gt(null,hn),Mn.revokeObjectURL(hn.src)},hn.onerror=function(){return Gt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Un=new self.Blob([new Uint8Array(zt)],{type:"image/png"});hn.cacheControl=Jt,hn.expires=Xt,hn.src=zt.byteLength?Mn.createObjectURL(Un):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(it,R,gt,Ot))});return{cancel:function(){Pe.cancel(),Se()}}};function Ke(S,R,Y){Y[S]&&Y[S].indexOf(R)!==-1||(Y[S]=Y[S]||[],Y[S].push(R))}function $e(S,R,Y){if(Y&&Y[S]){var le=Y[S].indexOf(R);le!==-1&&Y[S].splice(le,1)}}var Ue=function(S,R){R===void 0&&(R={}),u(this,R),this.type=S},nt=function(S){function R(Y,le){le===void 0&&(le={}),S.call(this,"error",u({error:Y},le))}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R}(Ue),ct=function(){};ct.prototype.on=function(S,R){return this._listeners=this._listeners||{},Ke(S,R,this._listeners),this},ct.prototype.off=function(S,R){return $e(S,R,this._listeners),$e(S,R,this._oneTimeListeners),this},ct.prototype.once=function(S,R){return this._oneTimeListeners=this._oneTimeListeners||{},Ke(S,R,this._oneTimeListeners),this},ct.prototype.fire=function(S,R){typeof S=="string"&&(S=new Ue(S,R||{}));var Y=S.type;if(this.listens(Y)){S.target=this;for(var le=0,Se=this._listeners&&this._listeners[Y]?this._listeners[Y].slice():[];le<Se.length;le+=1)Se[le].call(this,S);for(var Pe=0,qe=this._oneTimeListeners&&this._oneTimeListeners[Y]?this._oneTimeListeners[Y].slice():[];Pe<qe.length;Pe+=1){var it=qe[Pe];$e(Y,it,this._oneTimeListeners),it.call(this,S)}var gt=this._eventedParent;gt&&(u(S,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),gt.fire(S))}else S instanceof nt&&console.error(S.error);return this},ct.prototype.listens=function(S){return this._listeners&&this._listeners[S]&&this._listeners[S].length>0||this._oneTimeListeners&&this._oneTimeListeners[S]&&this._oneTimeListeners[S].length>0||this._eventedParent&&this._eventedParent.listens(S)},ct.prototype.setEventedParent=function(S,R){return this._eventedParent=S,this._eventedParentData=R,this};var Oe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ne=function(S,R,Y,le){this.message=(S?S+": ":"")+Y,le&&(this.identifier=le),R!=null&&R.__line__&&(this.line=R.__line__)};function Qe(S){var R=S.key,Y=S.value;return Y?[new Ne(R,Y,"constants have been deprecated as of v8")]:[]}function ut(S){for(var R=[],Y=arguments.length-1;Y-- >0;)R[Y]=arguments[Y+1];for(var le=0,Se=R;le<Se.length;le+=1){var Pe=Se[le];for(var qe in Pe)S[qe]=Pe[qe]}return S}function pt(S){return S instanceof Number||S instanceof String||S instanceof Boolean?S.valueOf():S}function wt(S){if(Array.isArray(S))return S.map(wt);if(S instanceof Object&&!(S instanceof Number||S instanceof String||S instanceof Boolean)){var R={};for(var Y in S)R[Y]=wt(S[Y]);return R}return pt(S)}var Lt=function(S){function R(Y,le){S.call(this,le),this.message=le,this.key=Y}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R}(Error),It=function(S,R){R===void 0&&(R=[]),this.parent=S,this.bindings={};for(var Y=0,le=R;Y<le.length;Y+=1){var Se=le[Y],Pe=Se[0],qe=Se[1];this.bindings[Pe]=qe}};It.prototype.concat=function(S){return new It(this,S)},It.prototype.get=function(S){if(this.bindings[S])return this.bindings[S];if(this.parent)return this.parent.get(S);throw new Error(S+" not found in scope.")},It.prototype.has=function(S){return!!this.bindings[S]||!!this.parent&&this.parent.has(S)};var yt={kind:"null"},Rt={kind:"number"},bt={kind:"string"},Pt={kind:"boolean"},Bt={kind:"color"},Zt={kind:"object"},Yt={kind:"value"},Kt={kind:"collator"},tn={kind:"formatted"},on={kind:"resolvedImage"};function _n(S,R){return{kind:"array",itemType:S,N:R}}function fn(S){if(S.kind==="array"){var R=fn(S.itemType);return typeof S.N=="number"?"array<"+R+", "+S.N+">":S.itemType.kind==="value"?"array":"array<"+R+">"}return S.kind}var Sn=[yt,Rt,bt,Pt,Bt,tn,Zt,_n(Yt),on];function Xn(S,R){if(R.kind==="error")return null;if(S.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!Xn(S.itemType,R.itemType))&&(typeof S.N!="number"||S.N===R.N))return null}else{if(S.kind===R.kind)return null;if(S.kind==="value"){for(var Y=0,le=Sn;Y<le.length;Y+=1)if(!Xn(le[Y],R))return null}}return"Expected "+fn(S)+" but found "+fn(R)+" instead."}function An(S,R){return R.some(function(Y){return Y.kind===S.kind})}function un(S,R){return R.some(function(Y){return Y==="null"?S===null:Y==="array"?Array.isArray(S):Y==="object"?S&&!Array.isArray(S)&&typeof S=="object":Y===typeof S})}var Tn=k(function(S,R){var Y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function le(gt){return(gt=Math.round(gt))<0?0:gt>255?255:gt}function Se(gt){return gt<0?0:gt>1?1:gt}function Pe(gt){return gt[gt.length-1]==="%"?le(parseFloat(gt)/100*255):le(parseInt(gt))}function qe(gt){return gt[gt.length-1]==="%"?Se(parseFloat(gt)/100):Se(parseFloat(gt))}function it(gt,Ot,zt){return zt<0?zt+=1:zt>1&&(zt-=1),6*zt<1?gt+(Ot-gt)*zt*6:2*zt<1?Ot:3*zt<2?gt+(Ot-gt)*(2/3-zt)*6:gt}try{R.parseCSSColor=function(gt){var Ot,zt=gt.replace(/ /g,"").toLowerCase();if(zt in Y)return Y[zt].slice();if(zt[0]==="#")return zt.length===4?(Ot=parseInt(zt.substr(1),16))>=0&&Ot<=4095?[(3840&Ot)>>4|(3840&Ot)>>8,240&Ot|(240&Ot)>>4,15&Ot|(15&Ot)<<4,1]:null:zt.length===7&&(Ot=parseInt(zt.substr(1),16))>=0&&Ot<=16777215?[(16711680&Ot)>>16,(65280&Ot)>>8,255&Ot,1]:null;var Gt=zt.indexOf("("),Jt=zt.indexOf(")");if(Gt!==-1&&Jt+1===zt.length){var Xt=zt.substr(0,Gt),hn=zt.substr(Gt+1,Jt-(Gt+1)).split(","),Mn=1;switch(Xt){case"rgba":if(hn.length!==4)return null;Mn=qe(hn.pop());case"rgb":return hn.length!==3?null:[Pe(hn[0]),Pe(hn[1]),Pe(hn[2]),Mn];case"hsla":if(hn.length!==4)return null;Mn=qe(hn.pop());case"hsl":if(hn.length!==3)return null;var Un=(parseFloat(hn[0])%360+360)%360/360,jn=qe(hn[1]),Zn=qe(hn[2]),Kn=Zn<=.5?Zn*(jn+1):Zn+jn-Zn*jn,ar=2*Zn-Kn;return[le(255*it(ar,Kn,Un+1/3)),le(255*it(ar,Kn,Un)),le(255*it(ar,Kn,Un-1/3)),Mn];default:return null}}return null}}catch{}}),gn=Tn.parseCSSColor,dn=function(S,R,Y,le){le===void 0&&(le=1),this.r=S,this.g=R,this.b=Y,this.a=le};dn.parse=function(S){if(S){if(S instanceof dn)return S;if(typeof S=="string"){var R=gn(S);if(R)return new dn(R[0]/255*R[3],R[1]/255*R[3],R[2]/255*R[3],R[3])}}},dn.prototype.toString=function(){var S=this.toArray(),R=S[0],Y=S[1],le=S[2],Se=S[3];return"rgba("+Math.round(R)+","+Math.round(Y)+","+Math.round(le)+","+Se+")"},dn.prototype.toArray=function(){var S=this,R=S.r,Y=S.g,le=S.b,Se=S.a;return Se===0?[0,0,0,0]:[255*R/Se,255*Y/Se,255*le/Se,Se]},dn.black=new dn(0,0,0,1),dn.white=new dn(1,1,1,1),dn.transparent=new dn(0,0,0,0),dn.red=new dn(1,0,0,1);var Rn=function(S,R,Y){this.sensitivity=S?R?"variant":"case":R?"accent":"base",this.locale=Y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Rn.prototype.compare=function(S,R){return this.collator.compare(S,R)},Rn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var In=function(S,R,Y,le,Se){this.text=S,this.image=R,this.scale=Y,this.fontStack=le,this.textColor=Se},Hn=function(S){this.sections=S};Hn.fromString=function(S){return new Hn([new In(S,null,null,null,null)])},Hn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(S){return S.text.length!==0||S.image&&S.image.name.length!==0})},Hn.factory=function(S){return S instanceof Hn?S:Hn.fromString(S)},Hn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(S){return S.text}).join("")},Hn.prototype.serialize=function(){for(var S=["format"],R=0,Y=this.sections;R<Y.length;R+=1){var le=Y[R];if(le.image)S.push(["image",le.image.name]);else{S.push(le.text);var Se={};le.fontStack&&(Se["text-font"]=["literal",le.fontStack.split(",")]),le.scale&&(Se["font-scale"]=le.scale),le.textColor&&(Se["text-color"]=["rgba"].concat(le.textColor.toArray())),S.push(Se)}}return S};var Yn=function(S){this.name=S.name,this.available=S.available};function Gn(S,R,Y,le){return typeof S=="number"&&S>=0&&S<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof Y=="number"&&Y>=0&&Y<=255?le===void 0||typeof le=="number"&&le>=0&&le<=1?null:"Invalid rgba value ["+[S,R,Y,le].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof le=="number"?[S,R,Y,le]:[S,R,Y]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function cr(S){if(S===null||typeof S=="string"||typeof S=="boolean"||typeof S=="number"||S instanceof dn||S instanceof Rn||S instanceof Hn||S instanceof Yn)return!0;if(Array.isArray(S)){for(var R=0,Y=S;R<Y.length;R+=1)if(!cr(Y[R]))return!1;return!0}if(typeof S=="object"){for(var le in S)if(!cr(S[le]))return!1;return!0}return!1}function ir(S){if(S===null)return yt;if(typeof S=="string")return bt;if(typeof S=="boolean")return Pt;if(typeof S=="number")return Rt;if(S instanceof dn)return Bt;if(S instanceof Rn)return Kt;if(S instanceof Hn)return tn;if(S instanceof Yn)return on;if(Array.isArray(S)){for(var R,Y=S.length,le=0,Se=S;le<Se.length;le+=1){var Pe=ir(Se[le]);if(R){if(R===Pe)continue;R=Yt;break}R=Pe}return _n(R||Yt,Y)}return Zt}function Mr(S){var R=typeof S;return S===null?"":R==="string"||R==="number"||R==="boolean"?String(S):S instanceof dn||S instanceof Hn||S instanceof Yn?S.toString():JSON.stringify(S)}Yn.prototype.toString=function(){return this.name},Yn.fromString=function(S){return S?new Yn({name:S,available:!1}):null},Yn.prototype.serialize=function(){return["image",this.name]};var gr=function(S,R){this.type=S,this.value=R};gr.parse=function(S,R){if(S.length!==2)return R.error("'literal' expression requires exactly one argument, but found "+(S.length-1)+" instead.");if(!cr(S[1]))return R.error("invalid value");var Y=S[1],le=ir(Y),Se=R.expectedType;return le.kind!=="array"||le.N!==0||!Se||Se.kind!=="array"||typeof Se.N=="number"&&Se.N!==0||(le=Se),new gr(le,Y)},gr.prototype.evaluate=function(){return this.value},gr.prototype.eachChild=function(){},gr.prototype.outputDefined=function(){return!0},gr.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof dn?["rgba"].concat(this.value.toArray()):this.value instanceof Hn?this.value.serialize():this.value};var sr=function(S){this.name="ExpressionEvaluationError",this.message=S};sr.prototype.toJSON=function(){return this.message};var xr={string:bt,number:Rt,boolean:Pt,object:Zt},kr=function(S,R){this.type=S,this.args=R};kr.parse=function(S,R){if(S.length<2)return R.error("Expected at least one argument.");var Y,le=1,Se=S[0];if(Se==="array"){var Pe,qe;if(S.length>2){var it=S[1];if(typeof it!="string"||!(it in xr)||it==="object")return R.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=xr[it],le++}else Pe=Yt;if(S.length>3){if(S[2]!==null&&(typeof S[2]!="number"||S[2]<0||S[2]!==Math.floor(S[2])))return R.error('The length argument to "array" must be a positive integer literal',2);qe=S[2],le++}Y=_n(Pe,qe)}else Y=xr[Se];for(var gt=[];le<S.length;le++){var Ot=R.parse(S[le],le,Yt);if(!Ot)return null;gt.push(Ot)}return new kr(Y,gt)},kr.prototype.evaluate=function(S){for(var R=0;R<this.args.length;R++){var Y=this.args[R].evaluate(S);if(!Xn(this.type,ir(Y)))return Y;if(R===this.args.length-1)throw new sr("Expected value to be of type "+fn(this.type)+", but found "+fn(ir(Y))+" instead.")}return null},kr.prototype.eachChild=function(S){this.args.forEach(S)},kr.prototype.outputDefined=function(){return this.args.every(function(S){return S.outputDefined()})},kr.prototype.serialize=function(){var S=this.type,R=[S.kind];if(S.kind==="array"){var Y=S.itemType;if(Y.kind==="string"||Y.kind==="number"||Y.kind==="boolean"){R.push(Y.kind);var le=S.N;(typeof le=="number"||this.args.length>1)&&R.push(le)}}return R.concat(this.args.map(function(Se){return Se.serialize()}))};var Qt=function(S){this.type=tn,this.sections=S};Qt.parse=function(S,R){if(S.length<2)return R.error("Expected at least one argument.");var Y=S[1];if(!Array.isArray(Y)&&typeof Y=="object")return R.error("First argument must be an image or text section.");for(var le=[],Se=!1,Pe=1;Pe<=S.length-1;++Pe){var qe=S[Pe];if(Se&&typeof qe=="object"&&!Array.isArray(qe)){Se=!1;var it=null;if(qe["font-scale"]&&!(it=R.parse(qe["font-scale"],1,Rt)))return null;var gt=null;if(qe["text-font"]&&!(gt=R.parse(qe["text-font"],1,_n(bt))))return null;var Ot=null;if(qe["text-color"]&&!(Ot=R.parse(qe["text-color"],1,Bt)))return null;var zt=le[le.length-1];zt.scale=it,zt.font=gt,zt.textColor=Ot}else{var Gt=R.parse(S[Pe],1,Yt);if(!Gt)return null;var Jt=Gt.type.kind;if(Jt!=="string"&&Jt!=="value"&&Jt!=="null"&&Jt!=="resolvedImage")return R.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,le.push({content:Gt,scale:null,font:null,textColor:null})}}return new Qt(le)},Qt.prototype.evaluate=function(S){return new Hn(this.sections.map(function(R){var Y=R.content.evaluate(S);return ir(Y)===on?new In("",Y,null,null,null):new In(Mr(Y),null,R.scale?R.scale.evaluate(S):null,R.font?R.font.evaluate(S).join(","):null,R.textColor?R.textColor.evaluate(S):null)}))},Qt.prototype.eachChild=function(S){for(var R=0,Y=this.sections;R<Y.length;R+=1){var le=Y[R];S(le.content),le.scale&&S(le.scale),le.font&&S(le.font),le.textColor&&S(le.textColor)}},Qt.prototype.outputDefined=function(){return!1},Qt.prototype.serialize=function(){for(var S=["format"],R=0,Y=this.sections;R<Y.length;R+=1){var le=Y[R];S.push(le.content.serialize());var Se={};le.scale&&(Se["font-scale"]=le.scale.serialize()),le.font&&(Se["text-font"]=le.font.serialize()),le.textColor&&(Se["text-color"]=le.textColor.serialize()),S.push(Se)}return S};var bn=function(S){this.type=on,this.input=S};bn.parse=function(S,R){if(S.length!==2)return R.error("Expected two arguments.");var Y=R.parse(S[1],1,bt);return Y?new bn(Y):R.error("No image name provided.")},bn.prototype.evaluate=function(S){var R=this.input.evaluate(S),Y=Yn.fromString(R);return Y&&S.availableImages&&(Y.available=S.availableImages.indexOf(R)>-1),Y},bn.prototype.eachChild=function(S){S(this.input)},bn.prototype.outputDefined=function(){return!1},bn.prototype.serialize=function(){return["image",this.input.serialize()]};var Dn={"to-boolean":Pt,"to-color":Bt,"to-number":Rt,"to-string":bt},Pn=function(S,R){this.type=S,this.args=R};Pn.parse=function(S,R){if(S.length<2)return R.error("Expected at least one argument.");var Y=S[0];if((Y==="to-boolean"||Y==="to-string")&&S.length!==2)return R.error("Expected one argument.");for(var le=Dn[Y],Se=[],Pe=1;Pe<S.length;Pe++){var qe=R.parse(S[Pe],Pe,Yt);if(!qe)return null;Se.push(qe)}return new Pn(le,Se)},Pn.prototype.evaluate=function(S){if(this.type.kind==="boolean")return!!this.args[0].evaluate(S);if(this.type.kind==="color"){for(var R,Y,le=0,Se=this.args;le<Se.length;le+=1){if(Y=null,(R=Se[le].evaluate(S))instanceof dn)return R;if(typeof R=="string"){var Pe=S.parseColor(R);if(Pe)return Pe}else if(Array.isArray(R)&&!(Y=R.length<3||R.length>4?"Invalid rbga value "+JSON.stringify(R)+": expected an array containing either three or four numeric values.":Gn(R[0],R[1],R[2],R[3])))return new dn(R[0]/255,R[1]/255,R[2]/255,R[3])}throw new sr(Y||"Could not parse color from value '"+(typeof R=="string"?R:String(JSON.stringify(R)))+"'")}if(this.type.kind==="number"){for(var qe=null,it=0,gt=this.args;it<gt.length;it+=1){if((qe=gt[it].evaluate(S))===null)return 0;var Ot=Number(qe);if(!isNaN(Ot))return Ot}throw new sr("Could not convert "+JSON.stringify(qe)+" to number.")}return this.type.kind==="formatted"?Hn.fromString(Mr(this.args[0].evaluate(S))):this.type.kind==="resolvedImage"?Yn.fromString(Mr(this.args[0].evaluate(S))):Mr(this.args[0].evaluate(S))},Pn.prototype.eachChild=function(S){this.args.forEach(S)},Pn.prototype.outputDefined=function(){return this.args.every(function(S){return S.outputDefined()})},Pn.prototype.serialize=function(){if(this.type.kind==="formatted")return new Qt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new bn(this.args[0]).serialize();var S=["to-"+this.type.kind];return this.eachChild(function(R){S.push(R.serialize())}),S};var qn=["Unknown","Point","LineString","Polygon"],Qn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Qn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Qn.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?qn[this.feature.type]:this.feature.type:null},Qn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Qn.prototype.canonicalID=function(){return this.canonical},Qn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Qn.prototype.parseColor=function(S){var R=this._parseColorCache[S];return R||(R=this._parseColorCache[S]=dn.parse(S)),R};var Jn=function(S,R,Y,le){this.name=S,this.type=R,this._evaluate=Y,this.args=le};Jn.prototype.evaluate=function(S){return this._evaluate(S,this.args)},Jn.prototype.eachChild=function(S){this.args.forEach(S)},Jn.prototype.outputDefined=function(){return!1},Jn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(S){return S.serialize()}))},Jn.parse=function(S,R){var Y,le=S[0],Se=Jn.definitions[le];if(!Se)return R.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(Se)?Se[0]:Se.type,qe=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,it=qe.filter(function(oi){var Wr=oi[0];return!Array.isArray(Wr)||Wr.length===S.length-1}),gt=null,Ot=0,zt=it;Ot<zt.length;Ot+=1){var Gt=zt[Ot],Jt=Gt[0],Xt=Gt[1];gt=new mr(R.registry,R.path,null,R.scope);for(var hn=[],Mn=!1,Un=1;Un<S.length;Un++){var jn=S[Un],Zn=Array.isArray(Jt)?Jt[Un-1]:Jt.type,Kn=gt.parse(jn,1+hn.length,Zn);if(!Kn){Mn=!0;break}hn.push(Kn)}if(!Mn)if(Array.isArray(Jt)&&Jt.length!==hn.length)gt.error("Expected "+Jt.length+" arguments, but found "+hn.length+" instead.");else{for(var ar=0;ar<hn.length;ar++){var ur=Array.isArray(Jt)?Jt[ar]:Jt.type,hr=hn[ar];gt.concat(ar+1).checkSubtype(ur,hr.type)}if(gt.errors.length===0)return new Jn(le,Pe,Xt,hn)}}if(it.length===1)(Y=R.errors).push.apply(Y,gt.errors);else{for(var Dr=(it.length?it:qe).map(function(oi){return Wr=oi[0],Array.isArray(Wr)?"("+Wr.map(fn).join(", ")+")":"("+fn(Wr.type)+"...)";var Wr}).join(" | "),Er=[],Nr=1;Nr<S.length;Nr++){var Hr=R.parse(S[Nr],1+Er.length);if(!Hr)return null;Er.push(fn(Hr.type))}R.error("Expected arguments of type "+Dr+", but found ("+Er.join(", ")+") instead.")}return null},Jn.register=function(S,R){for(var Y in Jn.definitions=R,R)S[Y]=Jn};var nr=function(S,R,Y){this.type=Kt,this.locale=Y,this.caseSensitive=S,this.diacriticSensitive=R};nr.parse=function(S,R){if(S.length!==2)return R.error("Expected one argument.");var Y=S[1];if(typeof Y!="object"||Array.isArray(Y))return R.error("Collator options argument must be an object.");var le=R.parse(Y["case-sensitive"]!==void 0&&Y["case-sensitive"],1,Pt);if(!le)return null;var Se=R.parse(Y["diacritic-sensitive"]!==void 0&&Y["diacritic-sensitive"],1,Pt);if(!Se)return null;var Pe=null;return Y.locale&&!(Pe=R.parse(Y.locale,1,bt))?null:new nr(le,Se,Pe)},nr.prototype.evaluate=function(S){return new Rn(this.caseSensitive.evaluate(S),this.diacriticSensitive.evaluate(S),this.locale?this.locale.evaluate(S):null)},nr.prototype.eachChild=function(S){S(this.caseSensitive),S(this.diacriticSensitive),this.locale&&S(this.locale)},nr.prototype.outputDefined=function(){return!1},nr.prototype.serialize=function(){var S={};return S["case-sensitive"]=this.caseSensitive.serialize(),S["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(S.locale=this.locale.serialize()),["collator",S]};var yr=8192;function an(S,R){S[0]=Math.min(S[0],R[0]),S[1]=Math.min(S[1],R[1]),S[2]=Math.max(S[2],R[0]),S[3]=Math.max(S[3],R[1])}function zn(S,R){return!(S[0]<=R[0]||S[2]>=R[2]||S[1]<=R[1]||S[3]>=R[3])}function Vt(S,R){var Y,le=(180+S[0])/360,Se=(Y=S[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Y*Math.PI/360)))/360),Pe=Math.pow(2,R.z);return[Math.round(le*Pe*yr),Math.round(Se*Pe*yr)]}function en(S,R,Y){return R[1]>S[1]!=Y[1]>S[1]&&S[0]<(Y[0]-R[0])*(S[1]-R[1])/(Y[1]-R[1])+R[0]}function pn(S,R){for(var Y=!1,le=0,Se=R.length;le<Se;le++)for(var Pe=R[le],qe=0,it=Pe.length;qe<it-1;qe++){if(gt=S,Ot=Pe[qe],zt=Pe[qe+1],Gt=void 0,Jt=void 0,Xt=void 0,hn=void 0,Gt=gt[0]-Ot[0],Jt=gt[1]-Ot[1],Xt=gt[0]-zt[0],hn=gt[1]-zt[1],Gt*hn-Xt*Jt==0&&Gt*Xt<=0&&Jt*hn<=0)return!1;en(S,Pe[qe],Pe[qe+1])&&(Y=!Y)}var gt,Ot,zt,Gt,Jt,Xt,hn;return Y}function Nn(S,R){for(var Y=0;Y<R.length;Y++)if(pn(S,R[Y]))return!0;return!1}function Fn(S,R,Y,le){var Se=S[0]-Y[0],Pe=S[1]-Y[1],qe=R[0]-Y[0],it=R[1]-Y[1],gt=le[0]-Y[0],Ot=le[1]-Y[1],zt=Se*Ot-gt*Pe,Gt=qe*Ot-gt*it;return zt>0&&Gt<0||zt<0&&Gt>0}function On(S,R,Y){for(var le=0,Se=Y;le<Se.length;le+=1)for(var Pe=Se[le],qe=0;qe<Pe.length-1;++qe)if(it=S,gt=R,Ot=Pe[qe],zt=Pe[qe+1],Gt=void 0,Jt=void 0,Xt=void 0,Xt=[gt[0]-it[0],gt[1]-it[1]],Gt=[zt[0]-Ot[0],zt[1]-Ot[1]],Jt=Xt,Gt[0]*Jt[1]-Gt[1]*Jt[0]!=0&&Fn(it,gt,Ot,zt)&&Fn(Ot,zt,it,gt))return!0;var it,gt,Ot,zt,Gt,Jt,Xt;return!1}function mn(S,R){for(var Y=0;Y<S.length;++Y)if(!pn(S[Y],R))return!1;for(var le=0;le<S.length-1;++le)if(On(S[le],S[le+1],R))return!1;return!0}function kn(S,R){for(var Y=0;Y<R.length;Y++)if(mn(S,R[Y]))return!0;return!1}function vn(S,R,Y){for(var le=[],Se=0;Se<S.length;Se++){for(var Pe=[],qe=0;qe<S[Se].length;qe++){var it=Vt(S[Se][qe],Y);an(R,it),Pe.push(it)}le.push(Pe)}return le}function xn(S,R,Y){for(var le=[],Se=0;Se<S.length;Se++){var Pe=vn(S[Se],R,Y);le.push(Pe)}return le}function En(S,R,Y,le){if(S[0]<Y[0]||S[0]>Y[2]){var Se=.5*le,Pe=S[0]-Y[0]>Se?-le:Y[0]-S[0]>Se?le:0;Pe===0&&(Pe=S[0]-Y[2]>Se?-le:Y[2]-S[0]>Se?le:0),S[0]+=Pe}an(R,S)}function Vn(S,R,Y,le){for(var Se=Math.pow(2,le.z)*yr,Pe=[le.x*yr,le.y*yr],qe=[],it=0,gt=S;it<gt.length;it+=1)for(var Ot=0,zt=gt[it];Ot<zt.length;Ot+=1){var Gt=zt[Ot],Jt=[Gt.x+Pe[0],Gt.y+Pe[1]];En(Jt,R,Y,Se),qe.push(Jt)}return qe}function $n(S,R,Y,le){for(var Se=Math.pow(2,le.z)*yr,Pe=[le.x*yr,le.y*yr],qe=[],it=0,gt=S;it<gt.length;it+=1){for(var Ot=[],zt=0,Gt=gt[it];zt<Gt.length;zt+=1){var Jt=Gt[zt],Xt=[Jt.x+Pe[0],Jt.y+Pe[1]];an(R,Xt),Ot.push(Xt)}qe.push(Ot)}if(R[2]-R[0]<=Se/2){(Zn=R)[0]=Zn[1]=1/0,Zn[2]=Zn[3]=-1/0;for(var hn=0,Mn=qe;hn<Mn.length;hn+=1)for(var Un=0,jn=Mn[hn];Un<jn.length;Un+=1)En(jn[Un],R,Y,Se)}var Zn;return qe}var rr=function(S,R){this.type=Pt,this.geojson=S,this.geometries=R};function er(S){if(S instanceof Jn&&(S.name==="get"&&S.args.length===1||S.name==="feature-state"||S.name==="has"&&S.args.length===1||S.name==="properties"||S.name==="geometry-type"||S.name==="id"||/^filter-/.test(S.name))||S instanceof rr)return!1;var R=!0;return S.eachChild(function(Y){R&&!er(Y)&&(R=!1)}),R}function pr(S){if(S instanceof Jn&&S.name==="feature-state")return!1;var R=!0;return S.eachChild(function(Y){R&&!pr(Y)&&(R=!1)}),R}function fr(S,R){if(S instanceof Jn&&R.indexOf(S.name)>=0)return!1;var Y=!0;return S.eachChild(function(le){Y&&!fr(le,R)&&(Y=!1)}),Y}rr.parse=function(S,R){if(S.length!==2)return R.error("'within' expression requires exactly one argument, but found "+(S.length-1)+" instead.");if(cr(S[1])){var Y=S[1];if(Y.type==="FeatureCollection")for(var le=0;le<Y.features.length;++le){var Se=Y.features[le].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new rr(Y,Y.features[le].geometry)}else if(Y.type==="Feature"){var Pe=Y.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new rr(Y,Y.geometry)}else if(Y.type==="Polygon"||Y.type==="MultiPolygon")return new rr(Y,Y)}return R.error("'within' expression requires valid geojson object that contains polygon geometry type.")},rr.prototype.evaluate=function(S){if(S.geometry()!=null&&S.canonicalID()!=null){if(S.geometryType()==="Point")return function(R,Y){var le=[1/0,1/0,-1/0,-1/0],Se=[1/0,1/0,-1/0,-1/0],Pe=R.canonicalID();if(Y.type==="Polygon"){var qe=vn(Y.coordinates,Se,Pe),it=Vn(R.geometry(),le,Se,Pe);if(!zn(le,Se))return!1;for(var gt=0,Ot=it;gt<Ot.length;gt+=1)if(!pn(Ot[gt],qe))return!1}if(Y.type==="MultiPolygon"){var zt=xn(Y.coordinates,Se,Pe),Gt=Vn(R.geometry(),le,Se,Pe);if(!zn(le,Se))return!1;for(var Jt=0,Xt=Gt;Jt<Xt.length;Jt+=1)if(!Nn(Xt[Jt],zt))return!1}return!0}(S,this.geometries);if(S.geometryType()==="LineString")return function(R,Y){var le=[1/0,1/0,-1/0,-1/0],Se=[1/0,1/0,-1/0,-1/0],Pe=R.canonicalID();if(Y.type==="Polygon"){var qe=vn(Y.coordinates,Se,Pe),it=$n(R.geometry(),le,Se,Pe);if(!zn(le,Se))return!1;for(var gt=0,Ot=it;gt<Ot.length;gt+=1)if(!mn(Ot[gt],qe))return!1}if(Y.type==="MultiPolygon"){var zt=xn(Y.coordinates,Se,Pe),Gt=$n(R.geometry(),le,Se,Pe);if(!zn(le,Se))return!1;for(var Jt=0,Xt=Gt;Jt<Xt.length;Jt+=1)if(!kn(Xt[Jt],zt))return!1}return!0}(S,this.geometries)}return!1},rr.prototype.eachChild=function(){},rr.prototype.outputDefined=function(){return!0},rr.prototype.serialize=function(){return["within",this.geojson]};var vr=function(S,R){this.type=R.type,this.name=S,this.boundExpression=R};vr.parse=function(S,R){if(S.length!==2||typeof S[1]!="string")return R.error("'var' expression requires exactly one string literal argument.");var Y=S[1];return R.scope.has(Y)?new vr(Y,R.scope.get(Y)):R.error('Unknown variable "'+Y+'". Make sure "'+Y+'" has been bound in an enclosing "let" expression before using it.',1)},vr.prototype.evaluate=function(S){return this.boundExpression.evaluate(S)},vr.prototype.eachChild=function(){},vr.prototype.outputDefined=function(){return!1},vr.prototype.serialize=function(){return["var",this.name]};var mr=function(S,R,Y,le,Se){R===void 0&&(R=[]),le===void 0&&(le=new It),Se===void 0&&(Se=[]),this.registry=S,this.path=R,this.key=R.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=le,this.errors=Se,this.expectedType=Y};function br(S){if(S instanceof vr)return br(S.boundExpression);if(S instanceof Jn&&S.name==="error"||S instanceof nr||S instanceof rr)return!1;var R=S instanceof Pn||S instanceof kr,Y=!0;return S.eachChild(function(le){Y=R?Y&&br(le):Y&&le instanceof gr}),!!Y&&er(S)&&fr(S,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Or(S,R){for(var Y,le,Se=S.length-1,Pe=0,qe=Se,it=0;Pe<=qe;)if(Y=S[it=Math.floor((Pe+qe)/2)],le=S[it+1],Y<=R){if(it===Se||R<le)return it;Pe=it+1}else{if(!(Y>R))throw new sr("Input is not a number.");qe=it-1}return 0}mr.prototype.parse=function(S,R,Y,le,Se){return Se===void 0&&(Se={}),R?this.concat(R,Y,le)._parse(S,Se):this._parse(S,Se)},mr.prototype._parse=function(S,R){function Y(Ot,zt,Gt){return Gt==="assert"?new kr(zt,[Ot]):Gt==="coerce"?new Pn(zt,[Ot]):Ot}if(S!==null&&typeof S!="string"&&typeof S!="boolean"&&typeof S!="number"||(S=["literal",S]),Array.isArray(S)){if(S.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var le=S[0];if(typeof le!="string")return this.error("Expression name must be a string, but found "+typeof le+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[le];if(Se){var Pe=Se.parse(S,this);if(!Pe)return null;if(this.expectedType){var qe=this.expectedType,it=Pe.type;if(qe.kind!=="string"&&qe.kind!=="number"&&qe.kind!=="boolean"&&qe.kind!=="object"&&qe.kind!=="array"||it.kind!=="value")if(qe.kind!=="color"&&qe.kind!=="formatted"&&qe.kind!=="resolvedImage"||it.kind!=="value"&&it.kind!=="string"){if(this.checkSubtype(qe,it))return null}else Pe=Y(Pe,qe,R.typeAnnotation||"coerce");else Pe=Y(Pe,qe,R.typeAnnotation||"assert")}if(!(Pe instanceof gr)&&Pe.type.kind!=="resolvedImage"&&br(Pe)){var gt=new Qn;try{Pe=new gr(Pe.type,Pe.evaluate(gt))}catch(Ot){return this.error(Ot.message),null}}return Pe}return this.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0)}return S===void 0?this.error("'undefined' value invalid. Use null instead."):typeof S=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof S+" instead.")},mr.prototype.concat=function(S,R,Y){var le=typeof S=="number"?this.path.concat(S):this.path,Se=Y?this.scope.concat(Y):this.scope;return new mr(this.registry,le,R||null,Se,this.errors)},mr.prototype.error=function(S){for(var R=[],Y=arguments.length-1;Y-- >0;)R[Y]=arguments[Y+1];var le=""+this.key+R.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Lt(le,S))},mr.prototype.checkSubtype=function(S,R){var Y=Xn(S,R);return Y&&this.error(Y),Y};var Lr=function(S,R,Y){this.type=S,this.input=R,this.labels=[],this.outputs=[];for(var le=0,Se=Y;le<Se.length;le+=1){var Pe=Se[le],qe=Pe[0],it=Pe[1];this.labels.push(qe),this.outputs.push(it)}};function Tr(S,R,Y){return S*(1-Y)+R*Y}Lr.parse=function(S,R){if(S.length-1<4)return R.error("Expected at least 4 arguments, but found only "+(S.length-1)+".");if((S.length-1)%2!=0)return R.error("Expected an even number of arguments.");var Y=R.parse(S[1],1,Rt);if(!Y)return null;var le=[],Se=null;R.expectedType&&R.expectedType.kind!=="value"&&(Se=R.expectedType);for(var Pe=1;Pe<S.length;Pe+=2){var qe=Pe===1?-1/0:S[Pe],it=S[Pe+1],gt=Pe,Ot=Pe+1;if(typeof qe!="number")return R.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',gt);if(le.length&&le[le.length-1][0]>=qe)return R.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',gt);var zt=R.parse(it,Ot,Se);if(!zt)return null;Se=Se||zt.type,le.push([qe,zt])}return new Lr(Se,Y,le)},Lr.prototype.evaluate=function(S){var R=this.labels,Y=this.outputs;if(R.length===1)return Y[0].evaluate(S);var le=this.input.evaluate(S);if(le<=R[0])return Y[0].evaluate(S);var Se=R.length;return le>=R[Se-1]?Y[Se-1].evaluate(S):Y[Or(R,le)].evaluate(S)},Lr.prototype.eachChild=function(S){S(this.input);for(var R=0,Y=this.outputs;R<Y.length;R+=1)S(Y[R])},Lr.prototype.outputDefined=function(){return this.outputs.every(function(S){return S.outputDefined()})},Lr.prototype.serialize=function(){for(var S=["step",this.input.serialize()],R=0;R<this.labels.length;R++)R>0&&S.push(this.labels[R]),S.push(this.outputs[R].serialize());return S};var dr=Object.freeze({__proto__:null,number:Tr,color:function(S,R,Y){return new dn(Tr(S.r,R.r,Y),Tr(S.g,R.g,Y),Tr(S.b,R.b,Y),Tr(S.a,R.a,Y))},array:function(S,R,Y){return S.map(function(le,Se){return Tr(le,R[Se],Y)})}}),Pr=.95047,Xr=1.08883,gi=4/29,Ii=6/29,Ri=3*Ii*Ii,ra=Math.PI/180,Oi=180/Math.PI;function ki(S){return S>.008856451679035631?Math.pow(S,.3333333333333333):S/Ri+gi}function Pa(S){return S>Ii?S*S*S:Ri*(S-gi)}function ia(S){return 255*(S<=.0031308?12.92*S:1.055*Math.pow(S,.4166666666666667)-.055)}function Wo(S){return(S/=255)<=.04045?S/12.92:Math.pow((S+.055)/1.055,2.4)}function us(S){var R=Wo(S.r),Y=Wo(S.g),le=Wo(S.b),Se=ki((.4124564*R+.3575761*Y+.1804375*le)/Pr),Pe=ki((.2126729*R+.7151522*Y+.072175*le)/1);return{l:116*Pe-16,a:500*(Se-Pe),b:200*(Pe-ki((.0193339*R+.119192*Y+.9503041*le)/Xr)),alpha:S.a}}function yu(S){var R=(S.l+16)/116,Y=isNaN(S.a)?R:R+S.a/500,le=isNaN(S.b)?R:R-S.b/200;return R=1*Pa(R),Y=Pr*Pa(Y),le=Xr*Pa(le),new dn(ia(3.2404542*Y-1.5371385*R-.4985314*le),ia(-.969266*Y+1.8760108*R+.041556*le),ia(.0556434*Y-.2040259*R+1.0572252*le),S.alpha)}function $l(S,R,Y){var le=R-S;return S+Y*(le>180||le<-180?le-360*Math.round(le/360):le)}var nl={forward:us,reverse:yu,interpolate:function(S,R,Y){return{l:Tr(S.l,R.l,Y),a:Tr(S.a,R.a,Y),b:Tr(S.b,R.b,Y),alpha:Tr(S.alpha,R.alpha,Y)}}},La={forward:function(S){var R=us(S),Y=R.l,le=R.a,Se=R.b,Pe=Math.atan2(Se,le)*Oi;return{h:Pe<0?Pe+360:Pe,c:Math.sqrt(le*le+Se*Se),l:Y,alpha:S.a}},reverse:function(S){var R=S.h*ra,Y=S.c;return yu({l:S.l,a:Math.cos(R)*Y,b:Math.sin(R)*Y,alpha:S.alpha})},interpolate:function(S,R,Y){return{h:$l(S.h,R.h,Y),c:Tr(S.c,R.c,Y),l:Tr(S.l,R.l,Y),alpha:Tr(S.alpha,R.alpha,Y)}}},xl=Object.freeze({__proto__:null,lab:nl,hcl:La}),ua=function(S,R,Y,le,Se){this.type=S,this.operator=R,this.interpolation=Y,this.input=le,this.labels=[],this.outputs=[];for(var Pe=0,qe=Se;Pe<qe.length;Pe+=1){var it=qe[Pe],gt=it[0],Ot=it[1];this.labels.push(gt),this.outputs.push(Ot)}};function bl(S,R,Y,le){var Se=le-Y,Pe=S-Y;return Se===0?0:R===1?Pe/Se:(Math.pow(R,Pe)-1)/(Math.pow(R,Se)-1)}ua.interpolationFactor=function(S,R,Y,le){var Se=0;if(S.name==="exponential")Se=bl(R,S.base,Y,le);else if(S.name==="linear")Se=bl(R,1,Y,le);else if(S.name==="cubic-bezier"){var Pe=S.controlPoints;Se=new f(Pe[0],Pe[1],Pe[2],Pe[3]).solve(bl(R,1,Y,le))}return Se},ua.parse=function(S,R){var Y=S[0],le=S[1],Se=S[2],Pe=S.slice(3);if(!Array.isArray(le)||le.length===0)return R.error("Expected an interpolation type expression.",1);if(le[0]==="linear")le={name:"linear"};else if(le[0]==="exponential"){var qe=le[1];if(typeof qe!="number")return R.error("Exponential interpolation requires a numeric base.",1,1);le={name:"exponential",base:qe}}else{if(le[0]!=="cubic-bezier")return R.error("Unknown interpolation type "+String(le[0]),1,0);var it=le.slice(1);if(it.length!==4||it.some(function(Un){return typeof Un!="number"||Un<0||Un>1}))return R.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);le={name:"cubic-bezier",controlPoints:it}}if(S.length-1<4)return R.error("Expected at least 4 arguments, but found only "+(S.length-1)+".");if((S.length-1)%2!=0)return R.error("Expected an even number of arguments.");if(!(Se=R.parse(Se,2,Rt)))return null;var gt=[],Ot=null;Y==="interpolate-hcl"||Y==="interpolate-lab"?Ot=Bt:R.expectedType&&R.expectedType.kind!=="value"&&(Ot=R.expectedType);for(var zt=0;zt<Pe.length;zt+=2){var Gt=Pe[zt],Jt=Pe[zt+1],Xt=zt+3,hn=zt+4;if(typeof Gt!="number")return R.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Xt);if(gt.length&&gt[gt.length-1][0]>=Gt)return R.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Xt);var Mn=R.parse(Jt,hn,Ot);if(!Mn)return null;Ot=Ot||Mn.type,gt.push([Gt,Mn])}return Ot.kind==="number"||Ot.kind==="color"||Ot.kind==="array"&&Ot.itemType.kind==="number"&&typeof Ot.N=="number"?new ua(Ot,Y,le,Se,gt):R.error("Type "+fn(Ot)+" is not interpolatable.")},ua.prototype.evaluate=function(S){var R=this.labels,Y=this.outputs;if(R.length===1)return Y[0].evaluate(S);var le=this.input.evaluate(S);if(le<=R[0])return Y[0].evaluate(S);var Se=R.length;if(le>=R[Se-1])return Y[Se-1].evaluate(S);var Pe=Or(R,le),qe=R[Pe],it=R[Pe+1],gt=ua.interpolationFactor(this.interpolation,le,qe,it),Ot=Y[Pe].evaluate(S),zt=Y[Pe+1].evaluate(S);return this.operator==="interpolate"?dr[this.type.kind.toLowerCase()](Ot,zt,gt):this.operator==="interpolate-hcl"?La.reverse(La.interpolate(La.forward(Ot),La.forward(zt),gt)):nl.reverse(nl.interpolate(nl.forward(Ot),nl.forward(zt),gt))},ua.prototype.eachChild=function(S){S(this.input);for(var R=0,Y=this.outputs;R<Y.length;R+=1)S(Y[R])},ua.prototype.outputDefined=function(){return this.outputs.every(function(S){return S.outputDefined()})},ua.prototype.serialize=function(){var S;S=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var R=[this.operator,S,this.input.serialize()],Y=0;Y<this.labels.length;Y++)R.push(this.labels[Y],this.outputs[Y].serialize());return R};var Va=function(S,R){this.type=S,this.args=R};Va.parse=function(S,R){if(S.length<2)return R.error("Expectected at least one argument.");var Y=null,le=R.expectedType;le&&le.kind!=="value"&&(Y=le);for(var Se=[],Pe=0,qe=S.slice(1);Pe<qe.length;Pe+=1){var it=qe[Pe],gt=R.parse(it,1+Se.length,Y,void 0,{typeAnnotation:"omit"});if(!gt)return null;Y=Y||gt.type,Se.push(gt)}var Ot=le&&Se.some(function(zt){return Xn(le,zt.type)});return new Va(Ot?Yt:Y,Se)},Va.prototype.evaluate=function(S){for(var R,Y=null,le=0,Se=0,Pe=this.args;Se<Pe.length&&(le++,(Y=Pe[Se].evaluate(S))&&Y instanceof Yn&&!Y.available&&(R||(R=Y.name),Y=null,le===this.args.length&&(Y=R)),Y===null);Se+=1);return Y},Va.prototype.eachChild=function(S){this.args.forEach(S)},Va.prototype.outputDefined=function(){return this.args.every(function(S){return S.outputDefined()})},Va.prototype.serialize=function(){var S=["coalesce"];return this.eachChild(function(R){S.push(R.serialize())}),S};var Ha=function(S,R){this.type=R.type,this.bindings=[].concat(S),this.result=R};Ha.prototype.evaluate=function(S){return this.result.evaluate(S)},Ha.prototype.eachChild=function(S){for(var R=0,Y=this.bindings;R<Y.length;R+=1)S(Y[R][1]);S(this.result)},Ha.parse=function(S,R){if(S.length<4)return R.error("Expected at least 3 arguments, but found "+(S.length-1)+" instead.");for(var Y=[],le=1;le<S.length-1;le+=2){var Se=S[le];if(typeof Se!="string")return R.error("Expected string, but found "+typeof Se+" instead.",le);if(/[^a-zA-Z0-9_]/.test(Se))return R.error("Variable names must contain only alphanumeric characters or '_'.",le);var Pe=R.parse(S[le+1],le+1);if(!Pe)return null;Y.push([Se,Pe])}var qe=R.parse(S[S.length-1],S.length-1,R.expectedType,Y);return qe?new Ha(Y,qe):null},Ha.prototype.outputDefined=function(){return this.result.outputDefined()},Ha.prototype.serialize=function(){for(var S=["let"],R=0,Y=this.bindings;R<Y.length;R+=1){var le=Y[R],Se=le[0],Pe=le[1];S.push(Se,Pe.serialize())}return S.push(this.result.serialize()),S};var cs=function(S,R,Y){this.type=S,this.index=R,this.input=Y};cs.parse=function(S,R){if(S.length!==3)return R.error("Expected 2 arguments, but found "+(S.length-1)+" instead.");var Y=R.parse(S[1],1,Rt),le=R.parse(S[2],2,_n(R.expectedType||Yt));if(!Y||!le)return null;var Se=le.type;return new cs(Se.itemType,Y,le)},cs.prototype.evaluate=function(S){var R=this.index.evaluate(S),Y=this.input.evaluate(S);if(R<0)throw new sr("Array index out of bounds: "+R+" < 0.");if(R>=Y.length)throw new sr("Array index out of bounds: "+R+" > "+(Y.length-1)+".");if(R!==Math.floor(R))throw new sr("Array index must be an integer, but found "+R+" instead.");return Y[R]},cs.prototype.eachChild=function(S){S(this.index),S(this.input)},cs.prototype.outputDefined=function(){return!1},cs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var xi=function(S,R){this.type=Pt,this.needle=S,this.haystack=R};xi.parse=function(S,R){if(S.length!==3)return R.error("Expected 2 arguments, but found "+(S.length-1)+" instead.");var Y=R.parse(S[1],1,Yt),le=R.parse(S[2],2,Yt);return Y&&le?An(Y.type,[Pt,bt,Rt,yt,Yt])?new xi(Y,le):R.error("Expected first argument to be of type boolean, string, number or null, but found "+fn(Y.type)+" instead"):null},xi.prototype.evaluate=function(S){var R=this.needle.evaluate(S),Y=this.haystack.evaluate(S);if(!Y)return!1;if(!un(R,["boolean","string","number","null"]))throw new sr("Expected first argument to be of type boolean, string, number or null, but found "+fn(ir(R))+" instead.");if(!un(Y,["string","array"]))throw new sr("Expected second argument to be of type array or string, but found "+fn(ir(Y))+" instead.");return Y.indexOf(R)>=0},xi.prototype.eachChild=function(S){S(this.needle),S(this.haystack)},xi.prototype.outputDefined=function(){return!0},xi.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fs=function(S,R,Y){this.type=Rt,this.needle=S,this.haystack=R,this.fromIndex=Y};fs.parse=function(S,R){if(S.length<=2||S.length>=5)return R.error("Expected 3 or 4 arguments, but found "+(S.length-1)+" instead.");var Y=R.parse(S[1],1,Yt),le=R.parse(S[2],2,Yt);if(!Y||!le)return null;if(!An(Y.type,[Pt,bt,Rt,yt,Yt]))return R.error("Expected first argument to be of type boolean, string, number or null, but found "+fn(Y.type)+" instead");if(S.length===4){var Se=R.parse(S[3],3,Rt);return Se?new fs(Y,le,Se):null}return new fs(Y,le)},fs.prototype.evaluate=function(S){var R=this.needle.evaluate(S),Y=this.haystack.evaluate(S);if(!un(R,["boolean","string","number","null"]))throw new sr("Expected first argument to be of type boolean, string, number or null, but found "+fn(ir(R))+" instead.");if(!un(Y,["string","array"]))throw new sr("Expected second argument to be of type array or string, but found "+fn(ir(Y))+" instead.");if(this.fromIndex){var le=this.fromIndex.evaluate(S);return Y.indexOf(R,le)}return Y.indexOf(R)},fs.prototype.eachChild=function(S){S(this.needle),S(this.haystack),this.fromIndex&&S(this.fromIndex)},fs.prototype.outputDefined=function(){return!1},fs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var S=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),S]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var co=function(S,R,Y,le,Se,Pe){this.inputType=S,this.type=R,this.input=Y,this.cases=le,this.outputs=Se,this.otherwise=Pe};co.parse=function(S,R){if(S.length<5)return R.error("Expected at least 4 arguments, but found only "+(S.length-1)+".");if(S.length%2!=1)return R.error("Expected an even number of arguments.");var Y,le;R.expectedType&&R.expectedType.kind!=="value"&&(le=R.expectedType);for(var Se={},Pe=[],qe=2;qe<S.length-1;qe+=2){var it=S[qe],gt=S[qe+1];Array.isArray(it)||(it=[it]);var Ot=R.concat(qe);if(it.length===0)return Ot.error("Expected at least one branch label.");for(var zt=0,Gt=it;zt<Gt.length;zt+=1){var Jt=Gt[zt];if(typeof Jt!="number"&&typeof Jt!="string")return Ot.error("Branch labels must be numbers or strings.");if(typeof Jt=="number"&&Math.abs(Jt)>Number.MAX_SAFE_INTEGER)return Ot.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Jt=="number"&&Math.floor(Jt)!==Jt)return Ot.error("Numeric branch labels must be integer values.");if(Y){if(Ot.checkSubtype(Y,ir(Jt)))return null}else Y=ir(Jt);if(Se[String(Jt)]!==void 0)return Ot.error("Branch labels must be unique.");Se[String(Jt)]=Pe.length}var Xt=R.parse(gt,qe,le);if(!Xt)return null;le=le||Xt.type,Pe.push(Xt)}var hn=R.parse(S[1],1,Yt);if(!hn)return null;var Mn=R.parse(S[S.length-1],S.length-1,le);return Mn?hn.type.kind!=="value"&&R.concat(1).checkSubtype(Y,hn.type)?null:new co(Y,le,hn,Se,Pe,Mn):null},co.prototype.evaluate=function(S){var R=this.input.evaluate(S);return(ir(R)===this.inputType&&this.outputs[this.cases[R]]||this.otherwise).evaluate(S)},co.prototype.eachChild=function(S){S(this.input),this.outputs.forEach(S),S(this.otherwise)},co.prototype.outputDefined=function(){return this.outputs.every(function(S){return S.outputDefined()})&&this.otherwise.outputDefined()},co.prototype.serialize=function(){for(var S=this,R=["match",this.input.serialize()],Y=[],le={},Se=0,Pe=Object.keys(this.cases).sort();Se<Pe.length;Se+=1){var qe=Pe[Se];(Gt=le[this.cases[qe]])===void 0?(le[this.cases[qe]]=Y.length,Y.push([this.cases[qe],[qe]])):Y[Gt][1].push(qe)}for(var it=function(Xt){return S.inputType.kind==="number"?Number(Xt):Xt},gt=0,Ot=Y;gt<Ot.length;gt+=1){var zt=Ot[gt],Gt=zt[0],Jt=zt[1];Jt.length===1?R.push(it(Jt[0])):R.push(Jt.map(it)),R.push(this.outputs[outputIndex$1].serialize())}return R.push(this.otherwise.serialize()),R};var To=function(S,R,Y){this.type=S,this.branches=R,this.otherwise=Y};To.parse=function(S,R){if(S.length<4)return R.error("Expected at least 3 arguments, but found only "+(S.length-1)+".");if(S.length%2!=0)return R.error("Expected an odd number of arguments.");var Y;R.expectedType&&R.expectedType.kind!=="value"&&(Y=R.expectedType);for(var le=[],Se=1;Se<S.length-1;Se+=2){var Pe=R.parse(S[Se],Se,Pt);if(!Pe)return null;var qe=R.parse(S[Se+1],Se+1,Y);if(!qe)return null;le.push([Pe,qe]),Y=Y||qe.type}var it=R.parse(S[S.length-1],S.length-1,Y);return it?new To(Y,le,it):null},To.prototype.evaluate=function(S){for(var R=0,Y=this.branches;R<Y.length;R+=1){var le=Y[R],Se=le[0],Pe=le[1];if(Se.evaluate(S))return Pe.evaluate(S)}return this.otherwise.evaluate(S)},To.prototype.eachChild=function(S){for(var R=0,Y=this.branches;R<Y.length;R+=1){var le=Y[R],Se=le[0],Pe=le[1];S(Se),S(Pe)}S(this.otherwise)},To.prototype.outputDefined=function(){return this.branches.every(function(S){return S[0],S[1].outputDefined()})&&this.otherwise.outputDefined()},To.prototype.serialize=function(){var S=["case"];return this.eachChild(function(R){S.push(R.serialize())}),S};var Ao=function(S,R,Y,le){this.type=S,this.input=R,this.beginIndex=Y,this.endIndex=le};function _l(S,R){return S==="=="||S==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function Ps(S,R,Y,le){return le.compare(R,Y)===0}function Go(S,R,Y){var le=S!=="=="&&S!=="!=";return function(){function Se(Pe,qe,it){this.type=Pt,this.lhs=Pe,this.rhs=qe,this.collator=it,this.hasUntypedArgument=Pe.type.kind==="value"||qe.type.kind==="value"}return Se.parse=function(Pe,qe){if(Pe.length!==3&&Pe.length!==4)return qe.error("Expected two or three arguments.");var it=Pe[0],gt=qe.parse(Pe[1],1,Yt);if(!gt)return null;if(!_l(it,gt.type))return qe.concat(1).error('"'+it+`" comparisons are not supported for type '`+fn(gt.type)+"'.");var Ot=qe.parse(Pe[2],2,Yt);if(!Ot)return null;if(!_l(it,Ot.type))return qe.concat(2).error('"'+it+`" comparisons are not supported for type '`+fn(Ot.type)+"'.");if(gt.type.kind!==Ot.type.kind&&gt.type.kind!=="value"&&Ot.type.kind!=="value")return qe.error("Cannot compare types '"+fn(gt.type)+"' and '"+fn(Ot.type)+"'.");le&&(gt.type.kind==="value"&&Ot.type.kind!=="value"?gt=new kr(Ot.type,[gt]):gt.type.kind!=="value"&&Ot.type.kind==="value"&&(Ot=new kr(gt.type,[Ot])));var zt=null;if(Pe.length===4){if(gt.type.kind!=="string"&&Ot.type.kind!=="string"&&gt.type.kind!=="value"&&Ot.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(!(zt=qe.parse(Pe[3],3,Kt)))return null}return new Se(gt,Ot,zt)},Se.prototype.evaluate=function(Pe){var qe=this.lhs.evaluate(Pe),it=this.rhs.evaluate(Pe);if(le&&this.hasUntypedArgument){var gt=ir(qe),Ot=ir(it);if(gt.kind!==Ot.kind||gt.kind!=="string"&&gt.kind!=="number")throw new sr('Expected arguments for "'+S+'" to be (string, string) or (number, number), but found ('+gt.kind+", "+Ot.kind+") instead.")}if(this.collator&&!le&&this.hasUntypedArgument){var zt=ir(qe),Gt=ir(it);if(zt.kind!=="string"||Gt.kind!=="string")return R(Pe,qe,it)}return this.collator?Y(Pe,qe,it,this.collator.evaluate(Pe)):R(Pe,qe,it)},Se.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},Se.prototype.outputDefined=function(){return!0},Se.prototype.serialize=function(){var Pe=[S];return this.eachChild(function(qe){Pe.push(qe.serialize())}),Pe},Se}()}Ao.parse=function(S,R){if(S.length<=2||S.length>=5)return R.error("Expected 3 or 4 arguments, but found "+(S.length-1)+" instead.");var Y=R.parse(S[1],1,Yt),le=R.parse(S[2],2,Rt);if(!Y||!le)return null;if(!An(Y.type,[_n(Yt),bt,Yt]))return R.error("Expected first argument to be of type array or string, but found "+fn(Y.type)+" instead");if(S.length===4){var Se=R.parse(S[3],3,Rt);return Se?new Ao(Y.type,Y,le,Se):null}return new Ao(Y.type,Y,le)},Ao.prototype.evaluate=function(S){var R=this.input.evaluate(S),Y=this.beginIndex.evaluate(S);if(!un(R,["string","array"]))throw new sr("Expected first argument to be of type array or string, but found "+fn(ir(R))+" instead.");if(this.endIndex){var le=this.endIndex.evaluate(S);return R.slice(Y,le)}return R.slice(Y)},Ao.prototype.eachChild=function(S){S(this.input),S(this.beginIndex),this.endIndex&&S(this.endIndex)},Ao.prototype.outputDefined=function(){return!1},Ao.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var S=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),S]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var zl=Go("==",function(S,R,Y){return R===Y},Ps),xu=Go("!=",function(S,R,Y){return R!==Y},function(S,R,Y,le){return!Ps(0,R,Y,le)}),Ql=Go("<",function(S,R,Y){return R<Y},function(S,R,Y,le){return le.compare(R,Y)<0}),eu=Go(">",function(S,R,Y){return R>Y},function(S,R,Y,le){return le.compare(R,Y)>0}),bu=Go("<=",function(S,R,Y){return R<=Y},function(S,R,Y,le){return le.compare(R,Y)<=0}),tu=Go(">=",function(S,R,Y){return R>=Y},function(S,R,Y,le){return le.compare(R,Y)>=0}),Yo=function(S,R,Y,le,Se){this.type=bt,this.number=S,this.locale=R,this.currency=Y,this.minFractionDigits=le,this.maxFractionDigits=Se};Yo.parse=function(S,R){if(S.length!==3)return R.error("Expected two arguments.");var Y=R.parse(S[1],1,Rt);if(!Y)return null;var le=S[2];if(typeof le!="object"||Array.isArray(le))return R.error("NumberFormat options argument must be an object.");var Se=null;if(le.locale&&!(Se=R.parse(le.locale,1,bt)))return null;var Pe=null;if(le.currency&&!(Pe=R.parse(le.currency,1,bt)))return null;var qe=null;if(le["min-fraction-digits"]&&!(qe=R.parse(le["min-fraction-digits"],1,Rt)))return null;var it=null;return le["max-fraction-digits"]&&!(it=R.parse(le["max-fraction-digits"],1,Rt))?null:new Yo(Y,Se,Pe,qe,it)},Yo.prototype.evaluate=function(S){return new Intl.NumberFormat(this.locale?this.locale.evaluate(S):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(S):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(S):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(S):void 0}).format(this.number.evaluate(S))},Yo.prototype.eachChild=function(S){S(this.number),this.locale&&S(this.locale),this.currency&&S(this.currency),this.minFractionDigits&&S(this.minFractionDigits),this.maxFractionDigits&&S(this.maxFractionDigits)},Yo.prototype.outputDefined=function(){return!1},Yo.prototype.serialize=function(){var S={};return this.locale&&(S.locale=this.locale.serialize()),this.currency&&(S.currency=this.currency.serialize()),this.minFractionDigits&&(S["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(S["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),S]};var Ro=function(S){this.type=Rt,this.input=S};Ro.parse=function(S,R){if(S.length!==2)return R.error("Expected 1 argument, but found "+(S.length-1)+" instead.");var Y=R.parse(S[1],1);return Y?Y.type.kind!=="array"&&Y.type.kind!=="string"&&Y.type.kind!=="value"?R.error("Expected argument of type string or array, but found "+fn(Y.type)+" instead."):new Ro(Y):null},Ro.prototype.evaluate=function(S){var R=this.input.evaluate(S);if(typeof R=="string"||Array.isArray(R))return R.length;throw new sr("Expected value to be of type string or array, but found "+fn(ir(R))+" instead.")},Ro.prototype.eachChild=function(S){S(this.input)},Ro.prototype.outputDefined=function(){return!1},Ro.prototype.serialize=function(){var S=["length"];return this.eachChild(function(R){S.push(R.serialize())}),S};var rl={"==":zl,"!=":xu,">":eu,"<":Ql,">=":tu,"<=":bu,array:kr,at:cs,boolean:kr,case:To,coalesce:Va,collator:nr,format:Qt,image:bn,in:xi,"index-of":fs,interpolate:ua,"interpolate-hcl":ua,"interpolate-lab":ua,length:Ro,let:Ha,literal:gr,match:co,number:kr,"number-format":Yo,object:kr,slice:Ao,step:Lr,string:kr,"to-boolean":Pn,"to-color":Pn,"to-number":Pn,"to-string":Pn,var:vr,within:rr};function zo(S,R){var Y=R[0],le=R[1],Se=R[2],Pe=R[3];Y=Y.evaluate(S),le=le.evaluate(S),Se=Se.evaluate(S);var qe=Pe?Pe.evaluate(S):1,it=Gn(Y,le,Se,qe);if(it)throw new sr(it);return new dn(Y/255*qe,le/255*qe,Se/255*qe,qe)}function Bi(S,R){return S in R}function nu(S,R){var Y=R[S];return Y===void 0?null:Y}function Is(S){return{type:S}}function wl(S){return{result:"success",value:S}}function ps(S){return{result:"error",value:S}}function il(S){return S["property-type"]==="data-driven"||S["property-type"]==="cross-faded-data-driven"}function Ds(S){return!!S.expression&&S.expression.parameters.indexOf("zoom")>-1}function Qa(S){return!!S.expression&&S.expression.interpolated}function bi(S){return S instanceof Number?"number":S instanceof String?"string":S instanceof Boolean?"boolean":Array.isArray(S)?"array":S===null?"null":typeof S}function hs(S){return typeof S=="object"&&S!==null&&!Array.isArray(S)}function Nu(S){return S}function Rs(S,R){var Y,le,Se,Pe=R.type==="color",qe=S.stops&&typeof S.stops[0][0]=="object",it=qe||S.property!==void 0,gt=qe||!it,Ot=S.type||(Qa(R)?"exponential":"interval");if(Pe&&((S=ut({},S)).stops&&(S.stops=S.stops.map(function(Er){return[Er[0],dn.parse(Er[1])]})),S.default?S.default=dn.parse(S.default):S.default=dn.parse(R.default)),S.colorSpace&&S.colorSpace!=="rgb"&&!xl[S.colorSpace])throw new Error("Unknown color space: "+S.colorSpace);if(Ot==="exponential")Y=eo;else if(Ot==="interval")Y=al;else if(Ot==="categorical"){Y=Zo,le=Object.create(null);for(var zt=0,Gt=S.stops;zt<Gt.length;zt+=1){var Jt=Gt[zt];le[Jt[0]]=Jt[1]}Se=typeof S.stops[0][0]}else{if(Ot!=="identity")throw new Error('Unknown function type "'+Ot+'"');Y=ru}if(qe){for(var Xt={},hn=[],Mn=0;Mn<S.stops.length;Mn++){var Un=S.stops[Mn],jn=Un[0].zoom;Xt[jn]===void 0&&(Xt[jn]={zoom:jn,type:S.type,property:S.property,default:S.default,stops:[]},hn.push(jn)),Xt[jn].stops.push([Un[0].value,Un[1]])}for(var Zn=[],Kn=0,ar=hn;Kn<ar.length;Kn+=1){var ur=ar[Kn];Zn.push([Xt[ur].zoom,Rs(Xt[ur],R)])}var hr={name:"linear"};return{kind:"composite",interpolationType:hr,interpolationFactor:ua.interpolationFactor.bind(void 0,hr),zoomStops:Zn.map(function(Er){return Er[0]}),evaluate:function(Er,Nr){var Hr=Er.zoom;return eo({stops:Zn,base:S.base},R,Hr).evaluate(Hr,Nr)}}}if(gt){var Dr=Ot==="exponential"?{name:"exponential",base:S.base!==void 0?S.base:1}:null;return{kind:"camera",interpolationType:Dr,interpolationFactor:ua.interpolationFactor.bind(void 0,Dr),zoomStops:S.stops.map(function(Er){return Er[0]}),evaluate:function(Er){var Nr=Er.zoom;return Y(S,R,Nr,le,Se)}}}return{kind:"source",evaluate:function(Er,Nr){var Hr=Nr&&Nr.properties?Nr.properties[S.property]:void 0;return Hr===void 0?ds(S.default,R.default):Y(S,R,Hr,le,Se)}}}function ds(S,R,Y){return S!==void 0?S:R!==void 0?R:Y!==void 0?Y:void 0}function Zo(S,R,Y,le,Se){return ds(typeof Y===Se?le[Y]:void 0,S.default,R.default)}function al(S,R,Y){if(bi(Y)!=="number")return ds(S.default,R.default);var le=S.stops.length;if(le===1||Y<=S.stops[0][0])return S.stops[0][1];if(Y>=S.stops[le-1][0])return S.stops[le-1][1];var Se=Or(S.stops.map(function(Pe){return Pe[0]}),Y);return S.stops[Se][1]}function eo(S,R,Y){var le=S.base!==void 0?S.base:1;if(bi(Y)!=="number")return ds(S.default,R.default);var Se=S.stops.length;if(Se===1||Y<=S.stops[0][0])return S.stops[0][1];if(Y>=S.stops[Se-1][0])return S.stops[Se-1][1];var Pe=Or(S.stops.map(function(Gt){return Gt[0]}),Y),qe=function(Gt,Jt,Xt,hn){var Mn=hn-Xt,Un=Gt-Xt;return Mn===0?0:Jt===1?Un/Mn:(Math.pow(Jt,Un)-1)/(Math.pow(Jt,Mn)-1)}(Y,le,S.stops[Pe][0],S.stops[Pe+1][0]),it=S.stops[Pe][1],gt=S.stops[Pe+1][1],Ot=dr[R.type]||Nu;if(S.colorSpace&&S.colorSpace!=="rgb"){var zt=xl[S.colorSpace];Ot=function(Gt,Jt){return zt.reverse(zt.interpolate(zt.forward(Gt),zt.forward(Jt),qe))}}return typeof it.evaluate=="function"?{evaluate:function(){for(var Gt=[],Jt=arguments.length;Jt--;)Gt[Jt]=arguments[Jt];var Xt=it.evaluate.apply(void 0,Gt),hn=gt.evaluate.apply(void 0,Gt);if(Xt!==void 0&&hn!==void 0)return Ot(Xt,hn,qe)}}:Ot(it,gt,qe)}function ru(S,R,Y){return R.type==="color"?Y=dn.parse(Y):R.type==="formatted"?Y=Hn.fromString(Y.toString()):R.type==="resolvedImage"?Y=Yn.fromString(Y.toString()):bi(Y)===R.type||R.type==="enum"&&R.values[Y]||(Y=void 0),ds(Y,S.default,R.default)}Jn.register(rl,{error:[{kind:"error"},[bt],function(S,R){var Y=R[0];throw new sr(Y.evaluate(S))}],typeof:[bt,[Yt],function(S,R){return fn(ir(R[0].evaluate(S)))}],"to-rgba":[_n(Rt,4),[Bt],function(S,R){return R[0].evaluate(S).toArray()}],rgb:[Bt,[Rt,Rt,Rt],zo],rgba:[Bt,[Rt,Rt,Rt,Rt],zo],has:{type:Pt,overloads:[[[bt],function(S,R){return Bi(R[0].evaluate(S),S.properties())}],[[bt,Zt],function(S,R){var Y=R[0],le=R[1];return Bi(Y.evaluate(S),le.evaluate(S))}]]},get:{type:Yt,overloads:[[[bt],function(S,R){return nu(R[0].evaluate(S),S.properties())}],[[bt,Zt],function(S,R){var Y=R[0],le=R[1];return nu(Y.evaluate(S),le.evaluate(S))}]]},"feature-state":[Yt,[bt],function(S,R){return nu(R[0].evaluate(S),S.featureState||{})}],properties:[Zt,[],function(S){return S.properties()}],"geometry-type":[bt,[],function(S){return S.geometryType()}],id:[Yt,[],function(S){return S.id()}],zoom:[Rt,[],function(S){return S.globals.zoom}],"heatmap-density":[Rt,[],function(S){return S.globals.heatmapDensity||0}],"line-progress":[Rt,[],function(S){return S.globals.lineProgress||0}],accumulated:[Yt,[],function(S){return S.globals.accumulated===void 0?null:S.globals.accumulated}],"+":[Rt,Is(Rt),function(S,R){for(var Y=0,le=0,Se=R;le<Se.length;le+=1)Y+=Se[le].evaluate(S);return Y}],"*":[Rt,Is(Rt),function(S,R){for(var Y=1,le=0,Se=R;le<Se.length;le+=1)Y*=Se[le].evaluate(S);return Y}],"-":{type:Rt,overloads:[[[Rt,Rt],function(S,R){var Y=R[0],le=R[1];return Y.evaluate(S)-le.evaluate(S)}],[[Rt],function(S,R){return-R[0].evaluate(S)}]]},"/":[Rt,[Rt,Rt],function(S,R){var Y=R[0],le=R[1];return Y.evaluate(S)/le.evaluate(S)}],"%":[Rt,[Rt,Rt],function(S,R){var Y=R[0],le=R[1];return Y.evaluate(S)%le.evaluate(S)}],ln2:[Rt,[],function(){return Math.LN2}],pi:[Rt,[],function(){return Math.PI}],e:[Rt,[],function(){return Math.E}],"^":[Rt,[Rt,Rt],function(S,R){var Y=R[0],le=R[1];return Math.pow(Y.evaluate(S),le.evaluate(S))}],sqrt:[Rt,[Rt],function(S,R){var Y=R[0];return Math.sqrt(Y.evaluate(S))}],log10:[Rt,[Rt],function(S,R){var Y=R[0];return Math.log(Y.evaluate(S))/Math.LN10}],ln:[Rt,[Rt],function(S,R){var Y=R[0];return Math.log(Y.evaluate(S))}],log2:[Rt,[Rt],function(S,R){var Y=R[0];return Math.log(Y.evaluate(S))/Math.LN2}],sin:[Rt,[Rt],function(S,R){var Y=R[0];return Math.sin(Y.evaluate(S))}],cos:[Rt,[Rt],function(S,R){var Y=R[0];return Math.cos(Y.evaluate(S))}],tan:[Rt,[Rt],function(S,R){var Y=R[0];return Math.tan(Y.evaluate(S))}],asin:[Rt,[Rt],function(S,R){var Y=R[0];return Math.asin(Y.evaluate(S))}],acos:[Rt,[Rt],function(S,R){var Y=R[0];return Math.acos(Y.evaluate(S))}],atan:[Rt,[Rt],function(S,R){var Y=R[0];return Math.atan(Y.evaluate(S))}],min:[Rt,Is(Rt),function(S,R){return Math.min.apply(Math,R.map(function(Y){return Y.evaluate(S)}))}],max:[Rt,Is(Rt),function(S,R){return Math.max.apply(Math,R.map(function(Y){return Y.evaluate(S)}))}],abs:[Rt,[Rt],function(S,R){var Y=R[0];return Math.abs(Y.evaluate(S))}],round:[Rt,[Rt],function(S,R){var Y=R[0].evaluate(S);return Y<0?-Math.round(-Y):Math.round(Y)}],floor:[Rt,[Rt],function(S,R){var Y=R[0];return Math.floor(Y.evaluate(S))}],ceil:[Rt,[Rt],function(S,R){var Y=R[0];return Math.ceil(Y.evaluate(S))}],"filter-==":[Pt,[bt,Yt],function(S,R){var Y=R[0],le=R[1];return S.properties()[Y.value]===le.value}],"filter-id-==":[Pt,[Yt],function(S,R){var Y=R[0];return S.id()===Y.value}],"filter-type-==":[Pt,[bt],function(S,R){var Y=R[0];return S.geometryType()===Y.value}],"filter-<":[Pt,[bt,Yt],function(S,R){var Y=R[0],le=R[1],Se=S.properties()[Y.value],Pe=le.value;return typeof Se==typeof Pe&&Se<Pe}],"filter-id-<":[Pt,[Yt],function(S,R){var Y=R[0],le=S.id(),Se=Y.value;return typeof le==typeof Se&&le<Se}],"filter->":[Pt,[bt,Yt],function(S,R){var Y=R[0],le=R[1],Se=S.properties()[Y.value],Pe=le.value;return typeof Se==typeof Pe&&Se>Pe}],"filter-id->":[Pt,[Yt],function(S,R){var Y=R[0],le=S.id(),Se=Y.value;return typeof le==typeof Se&&le>Se}],"filter-<=":[Pt,[bt,Yt],function(S,R){var Y=R[0],le=R[1],Se=S.properties()[Y.value],Pe=le.value;return typeof Se==typeof Pe&&Se<=Pe}],"filter-id-<=":[Pt,[Yt],function(S,R){var Y=R[0],le=S.id(),Se=Y.value;return typeof le==typeof Se&&le<=Se}],"filter->=":[Pt,[bt,Yt],function(S,R){var Y=R[0],le=R[1],Se=S.properties()[Y.value],Pe=le.value;return typeof Se==typeof Pe&&Se>=Pe}],"filter-id->=":[Pt,[Yt],function(S,R){var Y=R[0],le=S.id(),Se=Y.value;return typeof le==typeof Se&&le>=Se}],"filter-has":[Pt,[Yt],function(S,R){return R[0].value in S.properties()}],"filter-has-id":[Pt,[],function(S){return S.id()!==null&&S.id()!==void 0}],"filter-type-in":[Pt,[_n(bt)],function(S,R){return R[0].value.indexOf(S.geometryType())>=0}],"filter-id-in":[Pt,[_n(Yt)],function(S,R){return R[0].value.indexOf(S.id())>=0}],"filter-in-small":[Pt,[bt,_n(Yt)],function(S,R){var Y=R[0];return R[1].value.indexOf(S.properties()[Y.value])>=0}],"filter-in-large":[Pt,[bt,_n(Yt)],function(S,R){var Y=R[0],le=R[1];return function(Se,Pe,qe,it){for(;qe<=it;){var gt=qe+it>>1;if(Pe[gt]===Se)return!0;Pe[gt]>Se?it=gt-1:qe=gt+1}return!1}(S.properties()[Y.value],le.value,0,le.value.length-1)}],all:{type:Pt,overloads:[[[Pt,Pt],function(S,R){var Y=R[0],le=R[1];return Y.evaluate(S)&&le.evaluate(S)}],[Is(Pt),function(S,R){for(var Y=0,le=R;Y<le.length;Y+=1)if(!le[Y].evaluate(S))return!1;return!0}]]},any:{type:Pt,overloads:[[[Pt,Pt],function(S,R){var Y=R[0],le=R[1];return Y.evaluate(S)||le.evaluate(S)}],[Is(Pt),function(S,R){for(var Y=0,le=R;Y<le.length;Y+=1)if(le[Y].evaluate(S))return!0;return!1}]]},"!":[Pt,[Pt],function(S,R){return!R[0].evaluate(S)}],"is-supported-script":[Pt,[bt],function(S,R){var Y=R[0],le=S.globals&&S.globals.isSupportedScript;return!le||le(Y.evaluate(S))}],upcase:[bt,[bt],function(S,R){return R[0].evaluate(S).toUpperCase()}],downcase:[bt,[bt],function(S,R){return R[0].evaluate(S).toLowerCase()}],concat:[bt,Is(Yt),function(S,R){return R.map(function(Y){return Mr(Y.evaluate(S))}).join("")}],"resolved-locale":[bt,[Kt],function(S,R){return R[0].evaluate(S).resolvedLocale()}]});var zs=function(S,R){this.expression=S,this._warningHistory={},this._evaluator=new Qn,this._defaultValue=R?function(Y){return Y.type==="color"&&hs(Y.default)?new dn(0,0,0,0):Y.type==="color"?dn.parse(Y.default)||null:Y.default===void 0?null:Y.default}(R):null,this._enumValues=R&&R.type==="enum"?R.values:null};function gs(S){return Array.isArray(S)&&S.length>0&&typeof S[0]=="string"&&S[0]in rl}function Fs(S,R){var Y=new mr(rl,[],R?function(Se){var Pe={color:Bt,string:bt,number:Rt,enum:bt,boolean:Pt,formatted:tn,resolvedImage:on};return Se.type==="array"?_n(Pe[Se.value]||Yt,Se.length):Pe[Se.type]}(R):void 0),le=Y.parse(S,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return le?wl(new zs(le,R)):ps(Y.errors)}zs.prototype.evaluateWithoutErrorHandling=function(S,R,Y,le,Se,Pe){return this._evaluator.globals=S,this._evaluator.feature=R,this._evaluator.featureState=Y,this._evaluator.canonical=le,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},zs.prototype.evaluate=function(S,R,Y,le,Se,Pe){this._evaluator.globals=S,this._evaluator.feature=R||null,this._evaluator.featureState=Y||null,this._evaluator.canonical=le,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Pe||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!=qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new sr("Expected value to be one of "+Object.keys(this._enumValues).map(function(it){return JSON.stringify(it)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(it){return this._warningHistory[it.message]||(this._warningHistory[it.message]=!0,typeof console<"u"&&console.warn(it.message)),this._defaultValue}};var Ns=function(S,R){this.kind=S,this._styleExpression=R,this.isStateDependent=S!=="constant"&&!pr(R.expression)};Ns.prototype.evaluateWithoutErrorHandling=function(S,R,Y,le,Se,Pe){return this._styleExpression.evaluateWithoutErrorHandling(S,R,Y,le,Se,Pe)},Ns.prototype.evaluate=function(S,R,Y,le,Se,Pe){return this._styleExpression.evaluate(S,R,Y,le,Se,Pe)};var Bs=function(S,R,Y,le){this.kind=S,this.zoomStops=Y,this._styleExpression=R,this.isStateDependent=S!=="camera"&&!pr(R.expression),this.interpolationType=le};function ol(S,R){if((S=Fs(S,R)).result==="error")return S;var Y=S.value.expression,le=er(Y);if(!le&&!il(R))return ps([new Lt("","data expressions not supported")]);var Se=fr(Y,["zoom"]);if(!Se&&!Ds(R))return ps([new Lt("","zoom expressions not supported")]);var Pe=Tl(Y);if(!Pe&&!Se)return ps([new Lt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Pe instanceof Lt)return ps([Pe]);if(Pe instanceof ua&&!Qa(R))return ps([new Lt("",'"interpolate" expressions cannot be used with this property')]);if(!Pe)return wl(new Ns(le?"constant":"source",S.value));var qe=Pe instanceof ua?Pe.interpolation:void 0;return wl(new Bs(le?"camera":"composite",S.value,Pe.labels,qe))}Bs.prototype.evaluateWithoutErrorHandling=function(S,R,Y,le,Se,Pe){return this._styleExpression.evaluateWithoutErrorHandling(S,R,Y,le,Se,Pe)},Bs.prototype.evaluate=function(S,R,Y,le,Se,Pe){return this._styleExpression.evaluate(S,R,Y,le,Se,Pe)},Bs.prototype.interpolationFactor=function(S,R,Y){return this.interpolationType?ua.interpolationFactor(this.interpolationType,S,R,Y):0};var kl=function(S,R){this._parameters=S,this._specification=R,ut(this,Rs(this._parameters,this._specification))};function Tl(S){var R=null;if(S instanceof Ha)R=Tl(S.result);else if(S instanceof Va)for(var Y=0,le=S.args;Y<le.length;Y+=1){var Se=le[Y];if(R=Tl(Se))break}else(S instanceof Lr||S instanceof ua)&&S.input instanceof Jn&&S.input.name==="zoom"&&(R=S);return R instanceof Lt||S.eachChild(function(Pe){var qe=Tl(Pe);qe instanceof Lt?R=qe:!R&&qe?R=new Lt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&qe&&R!==qe&&(R=new Lt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function fo(S){var R=S.key,Y=S.value,le=S.valueSpec||{},Se=S.objectElementValidators||{},Pe=S.style,qe=S.styleSpec,it=[],gt=bi(Y);if(gt!=="object")return[new Ne(R,Y,"object expected, "+gt+" found")];for(var Ot in Y){var zt=Ot.split(".")[0],Gt=le[zt]||le["*"],Jt=void 0;if(Se[zt])Jt=Se[zt];else if(le[zt])Jt=ji;else if(Se["*"])Jt=Se["*"];else{if(!le["*"]){it.push(new Ne(R,Y[Ot],'unknown property "'+Ot+'"'));continue}Jt=ji}it=it.concat(Jt({key:(R&&R+".")+Ot,value:Y[Ot],valueSpec:Gt,style:Pe,styleSpec:qe,object:Y,objectKey:Ot},Y))}for(var Xt in le)Se[Xt]||le[Xt].required&&le[Xt].default===void 0&&Y[Xt]===void 0&&it.push(new Ne(R,Y,'missing required property "'+Xt+'"'));return it}function Al(S){var R=S.value,Y=S.valueSpec,le=S.style,Se=S.styleSpec,Pe=S.key,qe=S.arrayElementValidator||ji;if(bi(R)!=="array")return[new Ne(Pe,R,"array expected, "+bi(R)+" found")];if(Y.length&&R.length!==Y.length)return[new Ne(Pe,R,"array length "+Y.length+" expected, length "+R.length+" found")];if(Y["min-length"]&&R.length<Y["min-length"])return[new Ne(Pe,R,"array length at least "+Y["min-length"]+" expected, length "+R.length+" found")];var it={type:Y.value,values:Y.values};Se.$version<7&&(it.function=Y.function),bi(Y.value)==="object"&&(it=Y.value);for(var gt=[],Ot=0;Ot<R.length;Ot++)gt=gt.concat(qe({array:R,arrayIndex:Ot,value:R[Ot],valueSpec:it,style:le,styleSpec:Se,key:Pe+"["+Ot+"]"}));return gt}function Ml(S){var R=S.key,Y=S.value,le=S.valueSpec,Se=bi(Y);return Se==="number"&&Y!=Y&&(Se="NaN"),Se!=="number"?[new Ne(R,Y,"number expected, "+Se+" found")]:"minimum"in le&&Y<le.minimum?[new Ne(R,Y,Y+" is less than the minimum value "+le.minimum)]:"maximum"in le&&Y>le.maximum?[new Ne(R,Y,Y+" is greater than the maximum value "+le.maximum)]:[]}function iu(S){var R,Y,le,Se=S.valueSpec,Pe=pt(S.value.type),qe={},it=Pe!=="categorical"&&S.value.property===void 0,gt=!it,Ot=bi(S.value.stops)==="array"&&bi(S.value.stops[0])==="array"&&bi(S.value.stops[0][0])==="object",zt=fo({key:S.key,value:S.value,valueSpec:S.styleSpec.function,style:S.style,styleSpec:S.styleSpec,objectElementValidators:{stops:function(Xt){if(Pe==="identity")return[new Ne(Xt.key,Xt.value,'identity function may not have a "stops" property')];var hn=[],Mn=Xt.value;return hn=hn.concat(Al({key:Xt.key,value:Mn,valueSpec:Xt.valueSpec,style:Xt.style,styleSpec:Xt.styleSpec,arrayElementValidator:Gt})),bi(Mn)==="array"&&Mn.length===0&&hn.push(new Ne(Xt.key,Mn,"array must have at least one stop")),hn},default:function(Xt){return ji({key:Xt.key,value:Xt.value,valueSpec:Se,style:Xt.style,styleSpec:Xt.styleSpec})}}});return Pe==="identity"&&it&&zt.push(new Ne(S.key,S.value,'missing required property "property"')),Pe==="identity"||S.value.stops||zt.push(new Ne(S.key,S.value,'missing required property "stops"')),Pe==="exponential"&&S.valueSpec.expression&&!Qa(S.valueSpec)&&zt.push(new Ne(S.key,S.value,"exponential functions not supported")),S.styleSpec.$version>=8&&(gt&&!il(S.valueSpec)?zt.push(new Ne(S.key,S.value,"property functions not supported")):it&&!Ds(S.valueSpec)&&zt.push(new Ne(S.key,S.value,"zoom functions not supported"))),Pe!=="categorical"&&!Ot||S.value.property!==void 0||zt.push(new Ne(S.key,S.value,'"property" property is required')),zt;function Gt(Xt){var hn=[],Mn=Xt.value,Un=Xt.key;if(bi(Mn)!=="array")return[new Ne(Un,Mn,"array expected, "+bi(Mn)+" found")];if(Mn.length!==2)return[new Ne(Un,Mn,"array length 2 expected, length "+Mn.length+" found")];if(Ot){if(bi(Mn[0])!=="object")return[new Ne(Un,Mn,"object expected, "+bi(Mn[0])+" found")];if(Mn[0].zoom===void 0)return[new Ne(Un,Mn,"object stop key must have zoom")];if(Mn[0].value===void 0)return[new Ne(Un,Mn,"object stop key must have value")];if(le&&le>pt(Mn[0].zoom))return[new Ne(Un,Mn[0].zoom,"stop zoom values must appear in ascending order")];pt(Mn[0].zoom)!==le&&(le=pt(Mn[0].zoom),Y=void 0,qe={}),hn=hn.concat(fo({key:Un+"[0]",value:Mn[0],valueSpec:{zoom:{}},style:Xt.style,styleSpec:Xt.styleSpec,objectElementValidators:{zoom:Ml,value:Jt}}))}else hn=hn.concat(Jt({key:Un+"[0]",value:Mn[0],valueSpec:{},style:Xt.style,styleSpec:Xt.styleSpec},Mn));return gs(wt(Mn[1]))?hn.concat([new Ne(Un+"[1]",Mn[1],"expressions are not allowed in function stops.")]):hn.concat(ji({key:Un+"[1]",value:Mn[1],valueSpec:Se,style:Xt.style,styleSpec:Xt.styleSpec}))}function Jt(Xt,hn){var Mn=bi(Xt.value),Un=pt(Xt.value),jn=Xt.value!==null?Xt.value:hn;if(R){if(Mn!==R)return[new Ne(Xt.key,jn,Mn+" stop domain type must match previous stop domain type "+R)]}else R=Mn;if(Mn!=="number"&&Mn!=="string"&&Mn!=="boolean")return[new Ne(Xt.key,jn,"stop domain value must be a number, string, or boolean")];if(Mn!=="number"&&Pe!=="categorical"){var Zn="number expected, "+Mn+" found";return il(Se)&&Pe===void 0&&(Zn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ne(Xt.key,jn,Zn)]}return Pe!=="categorical"||Mn!=="number"||isFinite(Un)&&Math.floor(Un)===Un?Pe!=="categorical"&&Mn==="number"&&Y!==void 0&&Un<Y?[new Ne(Xt.key,jn,"stop domain values must appear in ascending order")]:(Y=Un,Pe==="categorical"&&Un in qe?[new Ne(Xt.key,jn,"stop domain values must be unique")]:(qe[Un]=!0,[])):[new Ne(Xt.key,jn,"integer expected, found "+Un)]}}function ms(S){var R=(S.expressionContext==="property"?ol:Fs)(wt(S.value),S.valueSpec);if(R.result==="error")return R.value.map(function(le){return new Ne(""+S.key+le.key,S.value,le.message)});var Y=R.value.expression||R.value._styleExpression.expression;if(S.expressionContext==="property"&&S.propertyKey==="text-font"&&!Y.outputDefined())return[new Ne(S.key,S.value,'Invalid data expression for "'+S.propertyKey+'". Output values must be contained as literals within the expression.')];if(S.expressionContext==="property"&&S.propertyType==="layout"&&!pr(Y))return[new Ne(S.key,S.value,'"feature-state" data expressions are not supported with layout properties.')];if(S.expressionContext==="filter"&&!pr(Y))return[new Ne(S.key,S.value,'"feature-state" data expressions are not supported with filters.')];if(S.expressionContext&&S.expressionContext.indexOf("cluster")===0){if(!fr(Y,["zoom","feature-state"]))return[new Ne(S.key,S.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(S.expressionContext==="cluster-initial"&&!er(Y))return[new Ne(S.key,S.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Sl(S){var R=S.key,Y=S.value,le=S.valueSpec,Se=[];return Array.isArray(le.values)?le.values.indexOf(pt(Y))===-1&&Se.push(new Ne(R,Y,"expected one of ["+le.values.join(", ")+"], "+JSON.stringify(Y)+" found")):Object.keys(le.values).indexOf(pt(Y))===-1&&Se.push(new Ne(R,Y,"expected one of ["+Object.keys(le.values).join(", ")+"], "+JSON.stringify(Y)+" found")),Se}function El(S){if(S===!0||S===!1)return!0;if(!Array.isArray(S)||S.length===0)return!1;switch(S[0]){case"has":return S.length>=2&&S[1]!=="$id"&&S[1]!=="$type";case"in":return S.length>=3&&(typeof S[1]!="string"||Array.isArray(S[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return S.length!==3||Array.isArray(S[1])||Array.isArray(S[2]);case"any":case"all":for(var R=0,Y=S.slice(1);R<Y.length;R+=1){var le=Y[R];if(!El(le)&&typeof le!="boolean")return!1}return!0;default:return!0}}kl.deserialize=function(S){return new kl(S._parameters,S._specification)},kl.serialize=function(S){return{_parameters:S._parameters,_specification:S._specification}};var au={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ia(S){if(S==null)return{filter:function(){return!0},needGeometry:!1};El(S)||(S=js(S));var R=Fs(S,au);if(R.result==="error")throw new Error(R.value.map(function(Y){return Y.key+": "+Y.message}).join(", "));return{filter:function(Y,le,Se){return R.value.evaluate(Y,le,{},Se)},needGeometry:vs(S)}}function po(S,R){return S<R?-1:S>R?1:0}function vs(S){if(!Array.isArray(S))return!1;if(S[0]==="within")return!0;for(var R=1;R<S.length;R++)if(vs(S[R]))return!0;return!1}function js(S){if(!S)return!0;var R,Y=S[0];return S.length<=1?Y!=="any":Y==="=="?Mi(S[1],S[2],"=="):Y==="!="?wa(Mi(S[1],S[2],"==")):Y==="<"||Y===">"||Y==="<="||Y===">="?Mi(S[1],S[2],Y):Y==="any"?(R=S.slice(1),["any"].concat(R.map(js))):Y==="all"?["all"].concat(S.slice(1).map(js)):Y==="none"?["all"].concat(S.slice(1).map(js).map(wa)):Y==="in"?Xo(S[1],S.slice(2)):Y==="!in"?wa(Xo(S[1],S.slice(2))):Y==="has"?ys(S[1]):Y==="!has"?wa(ys(S[1])):Y!=="within"||S}function Mi(S,R,Y){switch(S){case"$type":return["filter-type-"+Y,R];case"$id":return["filter-id-"+Y,R];default:return["filter-"+Y,S,R]}}function Xo(S,R){if(R.length===0)return!1;switch(S){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(Y){return typeof Y!=typeof R[0]})?["filter-in-large",S,["literal",R.sort(po)]]:["filter-in-small",S,["literal",R]]}}function ys(S){switch(S){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",S]}}function wa(S){return["!",S]}function hi(S){return El(wt(S.value))?ms(ut({},S,{expressionContext:"filter",valueSpec:{value:"boolean"}})):mi(S)}function mi(S){var R=S.value,Y=S.key;if(bi(R)!=="array")return[new Ne(Y,R,"array expected, "+bi(R)+" found")];var le,Se=S.styleSpec,Pe=[];if(R.length<1)return[new Ne(Y,R,"filter array must have at least 1 element")];switch(Pe=Pe.concat(Sl({key:Y+"[0]",value:R[0],valueSpec:Se.filter_operator,style:S.style,styleSpec:S.styleSpec})),pt(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&pt(R[1])==="$type"&&Pe.push(new Ne(Y,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&Pe.push(new Ne(Y,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(le=bi(R[1]))!=="string"&&Pe.push(new Ne(Y+"[1]",R[1],"string expected, "+le+" found"));for(var qe=2;qe<R.length;qe++)le=bi(R[qe]),pt(R[1])==="$type"?Pe=Pe.concat(Sl({key:Y+"["+qe+"]",value:R[qe],valueSpec:Se.geometry_type,style:S.style,styleSpec:S.styleSpec})):le!=="string"&&le!=="number"&&le!=="boolean"&&Pe.push(new Ne(Y+"["+qe+"]",R[qe],"string, number, or boolean expected, "+le+" found"));break;case"any":case"all":case"none":for(var it=1;it<R.length;it++)Pe=Pe.concat(mi({key:Y+"["+it+"]",value:R[it],style:S.style,styleSpec:S.styleSpec}));break;case"has":case"!has":le=bi(R[1]),R.length!==2?Pe.push(new Ne(Y,R,'filter array for "'+R[0]+'" operator must have 2 elements')):le!=="string"&&Pe.push(new Ne(Y+"[1]",R[1],"string expected, "+le+" found"));break;case"within":le=bi(R[1]),R.length!==2?Pe.push(new Ne(Y,R,'filter array for "'+R[0]+'" operator must have 2 elements')):le!=="object"&&Pe.push(new Ne(Y+"[1]",R[1],"object expected, "+le+" found"))}return Pe}function Jo(S,R){var Y=S.key,le=S.style,Se=S.styleSpec,Pe=S.value,qe=S.objectKey,it=Se[R+"_"+S.layerType];if(!it)return[];var gt=qe.match(/^(.*)-transition$/);if(R==="paint"&&gt&&it[gt[1]]&&it[gt[1]].transition)return ji({key:Y,value:Pe,valueSpec:Se.transition,style:le,styleSpec:Se});var Ot,zt=S.valueSpec||it[qe];if(!zt)return[new Ne(Y,Pe,'unknown property "'+qe+'"')];if(bi(Pe)==="string"&&il(zt)&&!zt.tokens&&(Ot=/^{([^}]+)}$/.exec(Pe)))return[new Ne(Y,Pe,'"'+qe+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ot[1])+" }`.")];var Gt=[];return S.layerType==="symbol"&&(qe==="text-field"&&le&&!le.glyphs&&Gt.push(new Ne(Y,Pe,'use of "text-field" requires a style "glyphs" property')),qe==="text-font"&&hs(wt(Pe))&&pt(Pe.type)==="identity"&&Gt.push(new Ne(Y,Pe,'"text-font" does not support identity functions'))),Gt.concat(ji({key:S.key,value:Pe,valueSpec:zt,style:le,styleSpec:Se,expressionContext:"property",propertyType:R,propertyKey:qe}))}function Fo(S){return Jo(S,"paint")}function Fl(S){return Jo(S,"layout")}function ou(S){var R=[],Y=S.value,le=S.key,Se=S.style,Pe=S.styleSpec;Y.type||Y.ref||R.push(new Ne(le,Y,'either "type" or "ref" is required'));var qe,it=pt(Y.type),gt=pt(Y.ref);if(Y.id)for(var Ot=pt(Y.id),zt=0;zt<S.arrayIndex;zt++){var Gt=Se.layers[zt];pt(Gt.id)===Ot&&R.push(new Ne(le,Y.id,'duplicate layer id "'+Y.id+'", previously used at line '+Gt.id.__line__))}if("ref"in Y)["type","source","source-layer","filter","layout"].forEach(function(hn){hn in Y&&R.push(new Ne(le,Y[hn],'"'+hn+'" is prohibited for ref layers'))}),Se.layers.forEach(function(hn){pt(hn.id)===gt&&(qe=hn)}),qe?qe.ref?R.push(new Ne(le,Y.ref,"ref cannot reference another ref layer")):it=pt(qe.type):R.push(new Ne(le,Y.ref,'ref layer "'+gt+'" not found'));else if(it!=="background")if(Y.source){var Jt=Se.sources&&Se.sources[Y.source],Xt=Jt&&pt(Jt.type);Jt?Xt==="vector"&&it==="raster"?R.push(new Ne(le,Y.source,'layer "'+Y.id+'" requires a raster source')):Xt==="raster"&&it!=="raster"?R.push(new Ne(le,Y.source,'layer "'+Y.id+'" requires a vector source')):Xt!=="vector"||Y["source-layer"]?Xt==="raster-dem"&&it!=="hillshade"?R.push(new Ne(le,Y.source,"raster-dem source can only be used with layer type 'hillshade'.")):it!=="line"||!Y.paint||!Y.paint["line-gradient"]||Xt==="geojson"&&Jt.lineMetrics||R.push(new Ne(le,Y,'layer "'+Y.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new Ne(le,Y,'layer "'+Y.id+'" must specify a "source-layer"')):R.push(new Ne(le,Y.source,'source "'+Y.source+'" not found'))}else R.push(new Ne(le,Y,'missing required property "source"'));return R=R.concat(fo({key:le,value:Y,valueSpec:Pe.layer,style:S.style,styleSpec:S.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ji({key:le+".type",value:Y.type,valueSpec:Pe.layer.type,style:S.style,styleSpec:S.styleSpec,object:Y,objectKey:"type"})},filter:hi,layout:function(hn){return fo({layer:Y,key:hn.key,value:hn.value,style:hn.style,styleSpec:hn.styleSpec,objectElementValidators:{"*":function(Mn){return Fl(ut({layerType:it},Mn))}}})},paint:function(hn){return fo({layer:Y,key:hn.key,value:hn.value,style:hn.style,styleSpec:hn.styleSpec,objectElementValidators:{"*":function(Mn){return Fo(ut({layerType:it},Mn))}}})}}})),R}function Us(S){var R=S.value,Y=S.key,le=bi(R);return le!=="string"?[new Ne(Y,R,"string expected, "+le+" found")]:[]}var su={promoteId:function(S){var R=S.key,Y=S.value;if(bi(Y)==="string")return Us({key:R,value:Y});var le=[];for(var Se in Y)le.push.apply(le,Us({key:R+"."+Se,value:Y[Se]}));return le}};function Vs(S){var R=S.value,Y=S.key,le=S.styleSpec,Se=S.style;if(!R.type)return[new Ne(Y,R,'"type" is required')];var Pe,qe=pt(R.type);switch(qe){case"vector":case"raster":case"raster-dem":return fo({key:Y,value:R,valueSpec:le["source_"+qe.replace("-","_")],style:S.style,styleSpec:le,objectElementValidators:su});case"geojson":if(Pe=fo({key:Y,value:R,valueSpec:le.source_geojson,style:Se,styleSpec:le,objectElementValidators:su}),R.cluster)for(var it in R.clusterProperties){var gt=R.clusterProperties[it],Ot=gt[0],zt=gt[1],Gt=typeof Ot=="string"?[Ot,["accumulated"],["get",it]]:Ot;Pe.push.apply(Pe,ms({key:Y+"."+it+".map",value:zt,expressionContext:"cluster-map"})),Pe.push.apply(Pe,ms({key:Y+"."+it+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return Pe;case"video":return fo({key:Y,value:R,valueSpec:le.source_video,style:Se,styleSpec:le});case"image":return fo({key:Y,value:R,valueSpec:le.source_image,style:Se,styleSpec:le});case"canvas":return[new Ne(Y,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Sl({key:Y+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Se,styleSpec:le})}}function Ko(S){var R=S.value,Y=S.styleSpec,le=Y.light,Se=S.style,Pe=[],qe=bi(R);if(R===void 0)return Pe;if(qe!=="object")return Pe.concat([new Ne("light",R,"object expected, "+qe+" found")]);for(var it in R){var gt=it.match(/^(.*)-transition$/);Pe=gt&&le[gt[1]]&&le[gt[1]].transition?Pe.concat(ji({key:it,value:R[it],valueSpec:Y.transition,style:Se,styleSpec:Y})):le[it]?Pe.concat(ji({key:it,value:R[it],valueSpec:le[it],style:Se,styleSpec:Y})):Pe.concat([new Ne(it,R[it],'unknown property "'+it+'"')])}return Pe}var Hs={"*":function(){return[]},array:Al,boolean:function(S){var R=S.value,Y=S.key,le=bi(R);return le!=="boolean"?[new Ne(Y,R,"boolean expected, "+le+" found")]:[]},number:Ml,color:function(S){var R=S.key,Y=S.value,le=bi(Y);return le!=="string"?[new Ne(R,Y,"color expected, "+le+" found")]:gn(Y)===null?[new Ne(R,Y,'color expected, "'+Y+'" found')]:[]},constants:Qe,enum:Sl,filter:hi,function:iu,layer:ou,object:fo,source:Vs,light:Ko,string:Us,formatted:function(S){return Us(S).length===0?[]:ms(S)},resolvedImage:function(S){return Us(S).length===0?[]:ms(S)}};function ji(S){var R=S.value,Y=S.valueSpec,le=S.styleSpec;return Y.expression&&hs(pt(R))?iu(S):Y.expression&&gs(wt(R))?ms(S):Y.type&&Hs[Y.type]?Hs[Y.type](S):fo(ut({},S,{valueSpec:Y.type?le[Y.type]:Y}))}function No(S){var R=S.value,Y=S.key,le=Us(S);return le.length||(R.indexOf("{fontstack}")===-1&&le.push(new Ne(Y,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&le.push(new Ne(Y,R,'"glyphs" url must include a "{range}" token'))),le}function qs(S,R){R===void 0&&(R=Oe);var Y=[];return Y=Y.concat(ji({key:"",value:S,valueSpec:R.$root,styleSpec:R,style:S,objectElementValidators:{glyphs:No,"*":function(){return[]}}})),S.constants&&(Y=Y.concat(Qe({key:"constants",value:S.constants,style:S,styleSpec:R}))),aa(Y)}function aa(S){return[].concat(S).sort(function(R,Y){return R.line-Y.line})}function ca(S){return function(){for(var R=[],Y=arguments.length;Y--;)R[Y]=arguments[Y];return aa(S.apply(this,R))}}qs.source=ca(Vs),qs.light=ca(Ko),qs.layer=ca(ou),qs.filter=ca(hi),qs.paintProperty=ca(Fo),qs.layoutProperty=ca(Fl);var ka=qs,va=ka.light,Da=ka.paintProperty,xs=ka.layoutProperty;function ho(S,R){var Y=!1;if(R&&R.length)for(var le=0,Se=R;le<Se.length;le+=1){var Pe=Se[le];S.fire(new nt(new Error(Pe.message))),Y=!0}return Y}var fa=qa;function qa(S,R,Y){var le=this.cells=[];if(S instanceof ArrayBuffer){this.arrayBuffer=S;var Se=new Int32Array(this.arrayBuffer);S=Se[0],R=Se[1],Y=Se[2],this.d=R+2*Y;for(var Pe=0;Pe<this.d*this.d;Pe++){var qe=Se[3+Pe],it=Se[3+Pe+1];le.push(qe===it?null:Se.subarray(qe,it))}var gt=Se[3+le.length],Ot=Se[3+le.length+1];this.keys=Se.subarray(gt,Ot),this.bboxes=Se.subarray(Ot),this.insert=this._insertReadonly}else{this.d=R+2*Y;for(var zt=0;zt<this.d*this.d;zt++)le.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=S,this.padding=Y,this.scale=R/S,this.uid=0;var Gt=Y/R*S;this.min=-Gt,this.max=S+Gt}qa.prototype.insert=function(S,R,Y,le,Se){this._forEachCell(R,Y,le,Se,this._insertCell,this.uid++),this.keys.push(S),this.bboxes.push(R),this.bboxes.push(Y),this.bboxes.push(le),this.bboxes.push(Se)},qa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},qa.prototype._insertCell=function(S,R,Y,le,Se,Pe){this.cells[Se].push(Pe)},qa.prototype.query=function(S,R,Y,le,Se){var Pe=this.min,qe=this.max;if(S<=Pe&&R<=Pe&&qe<=Y&&qe<=le&&!Se)return Array.prototype.slice.call(this.keys);var it=[];return this._forEachCell(S,R,Y,le,this._queryCell,it,{},Se),it},qa.prototype._queryCell=function(S,R,Y,le,Se,Pe,qe,it){var gt=this.cells[Se];if(gt!==null)for(var Ot=this.keys,zt=this.bboxes,Gt=0;Gt<gt.length;Gt++){var Jt=gt[Gt];if(qe[Jt]===void 0){var Xt=4*Jt;(it?it(zt[Xt+0],zt[Xt+1],zt[Xt+2],zt[Xt+3]):S<=zt[Xt+2]&&R<=zt[Xt+3]&&Y>=zt[Xt+0]&&le>=zt[Xt+1])?(qe[Jt]=!0,Pe.push(Ot[Jt])):qe[Jt]=!1}}},qa.prototype._forEachCell=function(S,R,Y,le,Se,Pe,qe,it){for(var gt=this._convertToCellCoord(S),Ot=this._convertToCellCoord(R),zt=this._convertToCellCoord(Y),Gt=this._convertToCellCoord(le),Jt=gt;Jt<=zt;Jt++)for(var Xt=Ot;Xt<=Gt;Xt++){var hn=this.d*Xt+Jt;if((!it||it(this._convertFromCellCoord(Jt),this._convertFromCellCoord(Xt),this._convertFromCellCoord(Jt+1),this._convertFromCellCoord(Xt+1)))&&Se.call(this,S,R,Y,le,hn,Pe,qe,it))return}},qa.prototype._convertFromCellCoord=function(S){return(S-this.padding)/this.scale},qa.prototype._convertToCellCoord=function(S){return Math.max(0,Math.min(this.d-1,Math.floor(S*this.scale)+this.padding))},qa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var S=this.cells,R=3+this.cells.length+1+1,Y=0,le=0;le<this.cells.length;le++)Y+=this.cells[le].length;var Se=new Int32Array(R+Y+this.keys.length+this.bboxes.length);Se[0]=this.extent,Se[1]=this.n,Se[2]=this.padding;for(var Pe=R,qe=0;qe<S.length;qe++){var it=S[qe];Se[3+qe]=Pe,Se.set(it,Pe),Pe+=it.length}return Se[3+S.length]=Pe,Se.set(this.keys,Pe),Pe+=this.keys.length,Se[3+S.length+1]=Pe,Se.set(this.bboxes,Pe),Pe+=this.bboxes.length,Se.buffer};var Nl=self.ImageData,Cl=self.ImageBitmap,Ta={};function Ir(S,R,Y){Y===void 0&&(Y={}),Object.defineProperty(R,"_classRegistryKey",{value:S,writeable:!1}),Ta[S]={klass:R,omit:Y.omit||[],shallow:Y.shallow||[]}}for(var Bo in Ir("Object",Object),fa.serialize=function(S,R){var Y=S.toArrayBuffer();return R&&R.push(Y),{buffer:Y}},fa.deserialize=function(S){return new fa(S.buffer)},Ir("Grid",fa),Ir("Color",dn),Ir("Error",Error),Ir("ResolvedImage",Yn),Ir("StylePropertyFunction",kl),Ir("StyleExpression",zs,{omit:["_evaluator"]}),Ir("ZoomDependentExpression",Bs),Ir("ZoomConstantExpression",Ns),Ir("CompoundExpression",Jn,{omit:["_evaluate"]}),rl)rl[Bo]._classRegistryKey||Ir("Expression_"+Bo,rl[Bo]);function pa(S){return S&&typeof ArrayBuffer<"u"&&(S instanceof ArrayBuffer||S.constructor&&S.constructor.name==="ArrayBuffer")}function Ws(S){return Cl&&S instanceof Cl}function Gs(S,R){if(S==null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||S instanceof Boolean||S instanceof Number||S instanceof String||S instanceof Date||S instanceof RegExp)return S;if(pa(S)||Ws(S))return R&&R.push(S),S;if(ArrayBuffer.isView(S)){var Y=S;return R&&R.push(Y.buffer),Y}if(S instanceof Nl)return R&&R.push(S.data.buffer),S;if(Array.isArray(S)){for(var le=[],Se=0,Pe=S;Se<Pe.length;Se+=1){var qe=Pe[Se];le.push(Gs(qe,R))}return le}if(typeof S=="object"){var it=S.constructor,gt=it._classRegistryKey;if(!gt)throw new Error("can't serialize object of unregistered class");var Ot=it.serialize?it.serialize(S,R):{};if(!it.serialize){for(var zt in S)if(S.hasOwnProperty(zt)&&!(Ta[gt].omit.indexOf(zt)>=0)){var Gt=S[zt];Ot[zt]=Ta[gt].shallow.indexOf(zt)>=0?Gt:Gs(Gt,R)}S instanceof Error&&(Ot.message=S.message)}if(Ot.$name)throw new Error("$name property is reserved for worker serialization logic.");return gt!=="Object"&&(Ot.$name=gt),Ot}throw new Error("can't serialize object of type "+typeof S)}function Mo(S){if(S==null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||S instanceof Boolean||S instanceof Number||S instanceof String||S instanceof Date||S instanceof RegExp||pa(S)||Ws(S)||ArrayBuffer.isView(S)||S instanceof Nl)return S;if(Array.isArray(S))return S.map(Mo);if(typeof S=="object"){var R=S.$name||"Object",Y=Ta[R].klass;if(!Y)throw new Error("can't deserialize unregistered class "+R);if(Y.deserialize)return Y.deserialize(S);for(var le=Object.create(Y.prototype),Se=0,Pe=Object.keys(S);Se<Pe.length;Se+=1){var qe=Pe[Se];if(qe!=="$name"){var it=S[qe];le[qe]=Ta[R].shallow.indexOf(qe)>=0?it:Mo(it)}}return le}throw new Error("can't deserialize object of type "+typeof S)}var Ys=function(){this.first=!0};Ys.prototype.update=function(S,R){var Y=Math.floor(S);return this.first?(this.first=!1,this.lastIntegerZoom=Y,this.lastIntegerZoomTime=0,this.lastZoom=S,this.lastFloorZoom=Y,!0):(this.lastFloorZoom>Y?(this.lastIntegerZoom=Y+1,this.lastIntegerZoomTime=R):this.lastFloorZoom<Y&&(this.lastIntegerZoom=Y,this.lastIntegerZoomTime=R),S!==this.lastZoom&&(this.lastZoom=S,this.lastFloorZoom=Y,!0))};var zr={"Latin-1 Supplement":function(S){return S>=128&&S<=255},Arabic:function(S){return S>=1536&&S<=1791},"Arabic Supplement":function(S){return S>=1872&&S<=1919},"Arabic Extended-A":function(S){return S>=2208&&S<=2303},"Hangul Jamo":function(S){return S>=4352&&S<=4607},"Unified Canadian Aboriginal Syllabics":function(S){return S>=5120&&S<=5759},Khmer:function(S){return S>=6016&&S<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(S){return S>=6320&&S<=6399},"General Punctuation":function(S){return S>=8192&&S<=8303},"Letterlike Symbols":function(S){return S>=8448&&S<=8527},"Number Forms":function(S){return S>=8528&&S<=8591},"Miscellaneous Technical":function(S){return S>=8960&&S<=9215},"Control Pictures":function(S){return S>=9216&&S<=9279},"Optical Character Recognition":function(S){return S>=9280&&S<=9311},"Enclosed Alphanumerics":function(S){return S>=9312&&S<=9471},"Geometric Shapes":function(S){return S>=9632&&S<=9727},"Miscellaneous Symbols":function(S){return S>=9728&&S<=9983},"Miscellaneous Symbols and Arrows":function(S){return S>=11008&&S<=11263},"CJK Radicals Supplement":function(S){return S>=11904&&S<=12031},"Kangxi Radicals":function(S){return S>=12032&&S<=12255},"Ideographic Description Characters":function(S){return S>=12272&&S<=12287},"CJK Symbols and Punctuation":function(S){return S>=12288&&S<=12351},Hiragana:function(S){return S>=12352&&S<=12447},Katakana:function(S){return S>=12448&&S<=12543},Bopomofo:function(S){return S>=12544&&S<=12591},"Hangul Compatibility Jamo":function(S){return S>=12592&&S<=12687},Kanbun:function(S){return S>=12688&&S<=12703},"Bopomofo Extended":function(S){return S>=12704&&S<=12735},"CJK Strokes":function(S){return S>=12736&&S<=12783},"Katakana Phonetic Extensions":function(S){return S>=12784&&S<=12799},"Enclosed CJK Letters and Months":function(S){return S>=12800&&S<=13055},"CJK Compatibility":function(S){return S>=13056&&S<=13311},"CJK Unified Ideographs Extension A":function(S){return S>=13312&&S<=19903},"Yijing Hexagram Symbols":function(S){return S>=19904&&S<=19967},"CJK Unified Ideographs":function(S){return S>=19968&&S<=40959},"Yi Syllables":function(S){return S>=40960&&S<=42127},"Yi Radicals":function(S){return S>=42128&&S<=42191},"Hangul Jamo Extended-A":function(S){return S>=43360&&S<=43391},"Hangul Syllables":function(S){return S>=44032&&S<=55215},"Hangul Jamo Extended-B":function(S){return S>=55216&&S<=55295},"Private Use Area":function(S){return S>=57344&&S<=63743},"CJK Compatibility Ideographs":function(S){return S>=63744&&S<=64255},"Arabic Presentation Forms-A":function(S){return S>=64336&&S<=65023},"Vertical Forms":function(S){return S>=65040&&S<=65055},"CJK Compatibility Forms":function(S){return S>=65072&&S<=65103},"Small Form Variants":function(S){return S>=65104&&S<=65135},"Arabic Presentation Forms-B":function(S){return S>=65136&&S<=65279},"Halfwidth and Fullwidth Forms":function(S){return S>=65280&&S<=65519}};function sl(S){for(var R=0,Y=S;R<Y.length;R+=1)if(go(Y[R].charCodeAt(0)))return!0;return!1}function go(S){return!(S!==746&&S!==747&&(S<4352||!(zr["Bopomofo Extended"](S)||zr.Bopomofo(S)||zr["CJK Compatibility Forms"](S)&&!(S>=65097&&S<=65103)||zr["CJK Compatibility Ideographs"](S)||zr["CJK Compatibility"](S)||zr["CJK Radicals Supplement"](S)||zr["CJK Strokes"](S)||!(!zr["CJK Symbols and Punctuation"](S)||S>=12296&&S<=12305||S>=12308&&S<=12319||S===12336)||zr["CJK Unified Ideographs Extension A"](S)||zr["CJK Unified Ideographs"](S)||zr["Enclosed CJK Letters and Months"](S)||zr["Hangul Compatibility Jamo"](S)||zr["Hangul Jamo Extended-A"](S)||zr["Hangul Jamo Extended-B"](S)||zr["Hangul Jamo"](S)||zr["Hangul Syllables"](S)||zr.Hiragana(S)||zr["Ideographic Description Characters"](S)||zr.Kanbun(S)||zr["Kangxi Radicals"](S)||zr["Katakana Phonetic Extensions"](S)||zr.Katakana(S)&&S!==12540||!(!zr["Halfwidth and Fullwidth Forms"](S)||S===65288||S===65289||S===65293||S>=65306&&S<=65310||S===65339||S===65341||S===65343||S>=65371&&S<=65503||S===65507||S>=65512&&S<=65519)||!(!zr["Small Form Variants"](S)||S>=65112&&S<=65118||S>=65123&&S<=65126)||zr["Unified Canadian Aboriginal Syllabics"](S)||zr["Unified Canadian Aboriginal Syllabics Extended"](S)||zr["Vertical Forms"](S)||zr["Yijing Hexagram Symbols"](S)||zr["Yi Syllables"](S)||zr["Yi Radicals"](S))))}function Bl(S){return!(go(S)||function(R){return!!(zr["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||zr["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||zr["Letterlike Symbols"](R)||zr["Number Forms"](R)||zr["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||zr["Control Pictures"](R)&&R!==9251||zr["Optical Character Recognition"](R)||zr["Enclosed Alphanumerics"](R)||zr["Geometric Shapes"](R)||zr["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||zr["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||zr["CJK Symbols and Punctuation"](R)||zr.Katakana(R)||zr["Private Use Area"](R)||zr["CJK Compatibility Forms"](R)||zr["Small Form Variants"](R)||zr["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}(S))}function Ll(S){return zr.Arabic(S)||zr["Arabic Supplement"](S)||zr["Arabic Extended-A"](S)||zr["Arabic Presentation Forms-A"](S)||zr["Arabic Presentation Forms-B"](S)}function Aa(S){return S>=1424&&S<=2303||zr["Arabic Presentation Forms-A"](S)||zr["Arabic Presentation Forms-B"](S)}function Zs(S,R){return!(!R&&Aa(S)||S>=2304&&S<=3583||S>=3840&&S<=4255||zr.Khmer(S))}function $o(S){for(var R=0,Y=S;R<Y.length;R+=1)if(Aa(Y[R].charCodeAt(0)))return!0;return!1}var Wa="deferred",bs="loading",So="loaded",mo="error",Xs=null,Ma="unavailable",vo=null,Si=function(S){S&&typeof S=="string"&&S.indexOf("NetworkError")>-1&&(Ma=mo),Xs&&Xs(S)};function Ol(){to.fire(new Ue("pluginStateChange",{pluginStatus:Ma,pluginURL:vo}))}var to=new ct,yo=function(){return Ma},jo=function(){if(Ma!==Wa||!vo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ma=bs,Ol(),vo&&Nt({url:vo},function(S){S?Si(S):(Ma=So,Ol())})},Ra={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Ma===So||Ra.applyArabicShaping!=null},isLoading:function(){return Ma===bs},setState:function(S){Ma=S.pluginStatus,vo=S.pluginURL},isParsed:function(){return Ra.applyArabicShaping!=null&&Ra.processBidirectionalText!=null&&Ra.processStyledBidirectionalText!=null},getPluginURL:function(){return vo}},Ti=function(S,R){this.zoom=S,R?(this.now=R.now,this.fadeDuration=R.fadeDuration,this.zoomHistory=R.zoomHistory,this.transition=R.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ys,this.transition={})};Ti.prototype.isSupportedScript=function(S){return function(R,Y){for(var le=0,Se=R;le<Se.length;le+=1)if(!Zs(Se[le].charCodeAt(0),Y))return!1;return!0}(S,Ra.isLoaded())},Ti.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ti.prototype.getCrossfadeParameters=function(){var S=this.zoom,R=S-Math.floor(S),Y=this.crossFadingFactor();return S>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:R+(1-R)*Y}:{fromScale:.5,toScale:1,t:1-(1-Y)*R}};var ga=function(S,R){this.property=S,this.value=R,this.expression=function(Y,le){if(hs(Y))return new kl(Y,le);if(gs(Y)){var Se=ol(Y,le);if(Se.result==="error")throw new Error(Se.value.map(function(qe){return qe.key+": "+qe.message}).join(", "));return Se.value}var Pe=Y;return typeof Y=="string"&&le.type==="color"&&(Pe=dn.parse(Y)),{kind:"constant",evaluate:function(){return Pe}}}(R===void 0?S.specification.default:R,S.specification)};ga.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ga.prototype.possiblyEvaluate=function(S,R,Y){return this.property.possiblyEvaluate(this,S,R,Y)};var no=function(S){this.property=S,this.value=new ga(S,void 0)};no.prototype.transitioned=function(S,R){return new Uo(this.property,this.value,R,u({},S.transition,this.transition),S.now)},no.prototype.untransitioned=function(){return new Uo(this.property,this.value,null,{},0)};var za=function(S){this._properties=S,this._values=Object.create(S.defaultTransitionablePropertyValues)};za.prototype.getValue=function(S){return T(this._values[S].value.value)},za.prototype.setValue=function(S,R){this._values.hasOwnProperty(S)||(this._values[S]=new no(this._values[S].property)),this._values[S].value=new ga(this._values[S].property,R===null?void 0:T(R))},za.prototype.getTransition=function(S){return T(this._values[S].transition)},za.prototype.setTransition=function(S,R){this._values.hasOwnProperty(S)||(this._values[S]=new no(this._values[S].property)),this._values[S].transition=T(R)||void 0},za.prototype.serialize=function(){for(var S={},R=0,Y=Object.keys(this._values);R<Y.length;R+=1){var le=Y[R],Se=this.getValue(le);Se!==void 0&&(S[le]=Se);var Pe=this.getTransition(le);Pe!==void 0&&(S[le+"-transition"]=Pe)}return S},za.prototype.transitioned=function(S,R){for(var Y=new _s(this._properties),le=0,Se=Object.keys(this._values);le<Se.length;le+=1){var Pe=Se[le];Y._values[Pe]=this._values[Pe].transitioned(S,R._values[Pe])}return Y},za.prototype.untransitioned=function(){for(var S=new _s(this._properties),R=0,Y=Object.keys(this._values);R<Y.length;R+=1){var le=Y[R];S._values[le]=this._values[le].untransitioned()}return S};var Uo=function(S,R,Y,le,Se){this.property=S,this.value=R,this.begin=Se+le.delay||0,this.end=this.begin+le.duration||0,S.specification.transition&&(le.delay||le.duration)&&(this.prior=Y)};Uo.prototype.possiblyEvaluate=function(S,R,Y){var le=S.now||0,Se=this.value.possiblyEvaluate(S,R,Y),Pe=this.prior;if(Pe){if(le>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(le<this.begin)return Pe.possiblyEvaluate(S,R,Y);var qe=(le-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(S,R,Y),Se,function(it){if(it<=0)return 0;if(it>=1)return 1;var gt=it*it,Ot=gt*it;return 4*(it<.5?Ot:3*(it-gt)+Ot-.75)}(qe))}return Se};var _s=function(S){this._properties=S,this._values=Object.create(S.defaultTransitioningPropertyValues)};_s.prototype.possiblyEvaluate=function(S,R,Y){for(var le=new xo(this._properties),Se=0,Pe=Object.keys(this._values);Se<Pe.length;Se+=1){var qe=Pe[Se];le._values[qe]=this._values[qe].possiblyEvaluate(S,R,Y)}return le},_s.prototype.hasTransition=function(){for(var S=0,R=Object.keys(this._values);S<R.length;S+=1){var Y=R[S];if(this._values[Y].prior)return!0}return!1};var Eo=function(S){this._properties=S,this._values=Object.create(S.defaultPropertyValues)};Eo.prototype.getValue=function(S){return T(this._values[S].value)},Eo.prototype.setValue=function(S,R){this._values[S]=new ga(this._values[S].property,R===null?void 0:T(R))},Eo.prototype.serialize=function(){for(var S={},R=0,Y=Object.keys(this._values);R<Y.length;R+=1){var le=Y[R],Se=this.getValue(le);Se!==void 0&&(S[le]=Se)}return S},Eo.prototype.possiblyEvaluate=function(S,R,Y){for(var le=new xo(this._properties),Se=0,Pe=Object.keys(this._values);Se<Pe.length;Se+=1){var qe=Pe[Se];le._values[qe]=this._values[qe].possiblyEvaluate(S,R,Y)}return le};var ha=function(S,R,Y){this.property=S,this.value=R,this.parameters=Y};ha.prototype.isConstant=function(){return this.value.kind==="constant"},ha.prototype.constantOr=function(S){return this.value.kind==="constant"?this.value.value:S},ha.prototype.evaluate=function(S,R,Y,le){return this.property.evaluate(this.value,this.parameters,S,R,Y,le)};var xo=function(S){this._properties=S,this._values=Object.create(S.defaultPossiblyEvaluatedValues)};xo.prototype.get=function(S){return this._values[S]};var Br=function(S){this.specification=S};Br.prototype.possiblyEvaluate=function(S,R){return S.expression.evaluate(R)},Br.prototype.interpolate=function(S,R,Y){var le=dr[this.specification.type];return le?le(S,R,Y):S};var Zr=function(S,R){this.specification=S,this.overrides=R};Zr.prototype.possiblyEvaluate=function(S,R,Y,le){return S.expression.kind==="constant"||S.expression.kind==="camera"?new ha(this,{kind:"constant",value:S.expression.evaluate(R,null,{},Y,le)},R):new ha(this,S.expression,R)},Zr.prototype.interpolate=function(S,R,Y){if(S.value.kind!=="constant"||R.value.kind!=="constant")return S;if(S.value.value===void 0||R.value.value===void 0)return new ha(this,{kind:"constant",value:void 0},S.parameters);var le=dr[this.specification.type];return le?new ha(this,{kind:"constant",value:le(S.value.value,R.value.value,Y)},S.parameters):S},Zr.prototype.evaluate=function(S,R,Y,le,Se,Pe){return S.kind==="constant"?S.value:S.evaluate(R,Y,le,Se,Pe)};var ll=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(Y,le,Se,Pe){if(Y.value===void 0)return new ha(this,{kind:"constant",value:void 0},le);if(Y.expression.kind==="constant"){var qe=Y.expression.evaluate(le,null,{},Se,Pe),it=Y.property.specification.type==="resolvedImage"&&typeof qe!="string"?qe.name:qe,gt=this._calculate(it,it,it,le);return new ha(this,{kind:"constant",value:gt},le)}if(Y.expression.kind==="camera"){var Ot=this._calculate(Y.expression.evaluate({zoom:le.zoom-1}),Y.expression.evaluate({zoom:le.zoom}),Y.expression.evaluate({zoom:le.zoom+1}),le);return new ha(this,{kind:"constant",value:Ot},le)}return new ha(this,Y.expression,le)},R.prototype.evaluate=function(Y,le,Se,Pe,qe,it){if(Y.kind==="source"){var gt=Y.evaluate(le,Se,Pe,qe,it);return this._calculate(gt,gt,gt,le)}return Y.kind==="composite"?this._calculate(Y.evaluate({zoom:Math.floor(le.zoom)-1},Se,Pe),Y.evaluate({zoom:Math.floor(le.zoom)},Se,Pe),Y.evaluate({zoom:Math.floor(le.zoom)+1},Se,Pe),le):Y.value},R.prototype._calculate=function(Y,le,Se,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:Y,to:le}:{from:Se,to:le}},R.prototype.interpolate=function(Y){return Y},R}(Zr),Qo=function(S){this.specification=S};Qo.prototype.possiblyEvaluate=function(S,R,Y,le){if(S.value!==void 0){if(S.expression.kind==="constant"){var Se=S.expression.evaluate(R,null,{},Y,le);return this._calculate(Se,Se,Se,R)}return this._calculate(S.expression.evaluate(new Ti(Math.floor(R.zoom-1),R)),S.expression.evaluate(new Ti(Math.floor(R.zoom),R)),S.expression.evaluate(new Ti(Math.floor(R.zoom+1),R)),R)}},Qo.prototype._calculate=function(S,R,Y,le){return le.zoom>le.zoomHistory.lastIntegerZoom?{from:S,to:R}:{from:Y,to:R}},Qo.prototype.interpolate=function(S){return S};var Co=function(S){this.specification=S};Co.prototype.possiblyEvaluate=function(S,R,Y,le){return!!S.expression.evaluate(R,null,{},Y,le)},Co.prototype.interpolate=function(){return!1};var ya=function(S){for(var R in this.properties=S,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],S){var Y=S[R];Y.specification.overridable&&this.overridableProperties.push(R);var le=this.defaultPropertyValues[R]=new ga(Y,void 0),Se=this.defaultTransitionablePropertyValues[R]=new no(Y);this.defaultTransitioningPropertyValues[R]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[R]=le.possiblyEvaluate({})}};Ir("DataDrivenProperty",Zr),Ir("DataConstantProperty",Br),Ir("CrossFadedDataDrivenProperty",ll),Ir("CrossFadedProperty",Qo),Ir("ColorRampProperty",Co);var jl="-transition",Fa=function(S){function R(Y,le){if(S.call(this),this.id=Y.id,this.type=Y.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},Y.type!=="custom"&&(this.metadata=Y.metadata,this.minzoom=Y.minzoom,this.maxzoom=Y.maxzoom,Y.type!=="background"&&(this.source=Y.source,this.sourceLayer=Y["source-layer"],this.filter=Y.filter),le.layout&&(this._unevaluatedLayout=new Eo(le.layout)),le.paint)){for(var Se in this._transitionablePaint=new za(le.paint),Y.paint)this.setPaintProperty(Se,Y.paint[Se],{validate:!1});for(var Pe in Y.layout)this.setLayoutProperty(Pe,Y.layout[Pe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new xo(le.paint)}}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(Y){return Y==="visibility"?this.visibility:this._unevaluatedLayout.getValue(Y)},R.prototype.setLayoutProperty=function(Y,le,Se){if(Se===void 0&&(Se={}),le!=null){var Pe="layers."+this.id+".layout."+Y;if(this._validate(xs,Pe,Y,le,Se))return}Y!=="visibility"?this._unevaluatedLayout.setValue(Y,le):this.visibility=le},R.prototype.getPaintProperty=function(Y){return x(Y,jl)?this._transitionablePaint.getTransition(Y.slice(0,-jl.length)):this._transitionablePaint.getValue(Y)},R.prototype.setPaintProperty=function(Y,le,Se){if(Se===void 0&&(Se={}),le!=null){var Pe="layers."+this.id+".paint."+Y;if(this._validate(Da,Pe,Y,le,Se))return!1}if(x(Y,jl))return this._transitionablePaint.setTransition(Y.slice(0,-jl.length),le||void 0),!1;var qe=this._transitionablePaint._values[Y],it=qe.property.specification["property-type"]==="cross-faded-data-driven",gt=qe.value.isDataDriven(),Ot=qe.value;this._transitionablePaint.setValue(Y,le),this._handleSpecialPaintPropertyUpdate(Y);var zt=this._transitionablePaint._values[Y].value;return zt.isDataDriven()||gt||it||this._handleOverridablePaintPropertyUpdate(Y,Ot,zt)},R.prototype._handleSpecialPaintPropertyUpdate=function(Y){},R.prototype._handleOverridablePaintPropertyUpdate=function(Y,le,Se){return!1},R.prototype.isHidden=function(Y){return!!(this.minzoom&&Y<this.minzoom)||!!(this.maxzoom&&Y>=this.maxzoom)||this.visibility==="none"},R.prototype.updateTransitions=function(Y){this._transitioningPaint=this._transitionablePaint.transitioned(Y,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(Y,le){Y.getCrossfadeParameters&&(this._crossfadeParameters=Y.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Y,void 0,le)),this.paint=this._transitioningPaint.possiblyEvaluate(Y,void 0,le)},R.prototype.serialize=function(){var Y={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Y.layout=Y.layout||{},Y.layout.visibility=this.visibility),v(Y,function(le,Se){return!(le===void 0||Se==="layout"&&!Object.keys(le).length||Se==="paint"&&!Object.keys(le).length)})},R.prototype._validate=function(Y,le,Se,Pe,qe){return qe===void 0&&(qe={}),(!qe||qe.validate!==!1)&&ho(this,Y.call(ka,{key:le,layerType:this.type,objectKey:Se,value:Pe,styleSpec:Oe,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var Y in this.paint._values){var le=this.paint.get(Y);if(le instanceof ha&&il(le.property.specification)&&(le.value.kind==="source"||le.value.kind==="composite")&&le.value.isStateDependent)return!0}return!1},R}(ct),Js={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},es=function(S,R){this._structArray=S,this._pos1=R*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Pi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function zi(S,R){R===void 0&&(R=1);var Y=0,le=0;return{members:S.map(function(Se){var Pe,qe=(Pe=Se.type,Js[Pe].BYTES_PER_ELEMENT),it=Y=Lo(Y,Math.max(R,qe)),gt=Se.components||1;return le=Math.max(le,qe),Y+=qe*gt,{name:Se.name,type:Se.type,components:gt,offset:it}}),size:Lo(Y,Math.max(le,R)),alignment:R}}function Lo(S,R){return Math.ceil(S/R)*R}Pi.serialize=function(S,R){return S._trim(),R&&(S.isTransferred=!0,R.push(S.arrayBuffer)),{length:S.length,arrayBuffer:S.arrayBuffer}},Pi.deserialize=function(S){var R=Object.create(this.prototype);return R.arrayBuffer=S.arrayBuffer,R.length=S.length,R.capacity=S.arrayBuffer.byteLength/R.bytesPerElement,R._refreshViews(),R},Pi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Pi.prototype.clear=function(){this.length=0},Pi.prototype.resize=function(S){this.reserve(S),this.length=S},Pi.prototype.reserve=function(S){if(S>this.capacity){this.capacity=Math.max(S,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var R=this.uint8;this._refreshViews(),R&&this.uint8.set(R)}},Pi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var et=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Y,le)},R.prototype.emplace=function(Y,le,Se){var Pe=2*Y;return this.int16[Pe+0]=le,this.int16[Pe+1]=Se,Y},R}(Pi);et.prototype.bytesPerElement=4,Ir("StructArrayLayout2i4",et);var rt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe){var qe=this.length;return this.resize(qe+1),this.emplace(qe,Y,le,Se,Pe)},R.prototype.emplace=function(Y,le,Se,Pe,qe){var it=4*Y;return this.int16[it+0]=le,this.int16[it+1]=Se,this.int16[it+2]=Pe,this.int16[it+3]=qe,Y},R}(Pi);rt.prototype.bytesPerElement=8,Ir("StructArrayLayout4i8",rt);var ft=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it){var gt=this.length;return this.resize(gt+1),this.emplace(gt,Y,le,Se,Pe,qe,it)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt){var Ot=6*Y;return this.int16[Ot+0]=le,this.int16[Ot+1]=Se,this.int16[Ot+2]=Pe,this.int16[Ot+3]=qe,this.int16[Ot+4]=it,this.int16[Ot+5]=gt,Y},R}(Pi);ft.prototype.bytesPerElement=12,Ir("StructArrayLayout2i4i12",ft);var vt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it){var gt=this.length;return this.resize(gt+1),this.emplace(gt,Y,le,Se,Pe,qe,it)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt){var Ot=4*Y,zt=8*Y;return this.int16[Ot+0]=le,this.int16[Ot+1]=Se,this.uint8[zt+4]=Pe,this.uint8[zt+5]=qe,this.uint8[zt+6]=it,this.uint8[zt+7]=gt,Y},R}(Pi);vt.prototype.bytesPerElement=8,Ir("StructArrayLayout2i4ub8",vt);var mt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt){var Xt=9*Y,hn=18*Y;return this.uint16[Xt+0]=le,this.uint16[Xt+1]=Se,this.uint16[Xt+2]=Pe,this.uint16[Xt+3]=qe,this.uint16[Xt+4]=it,this.uint16[Xt+5]=gt,this.uint16[Xt+6]=Ot,this.uint16[Xt+7]=zt,this.uint8[hn+16]=Gt,this.uint8[hn+17]=Jt,Y},R}(Pi);mt.prototype.bytesPerElement=18,Ir("StructArrayLayout8ui2ub18",mt);var At=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt){var hn=this.length;return this.resize(hn+1),this.emplace(hn,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn){var Mn=12*Y;return this.int16[Mn+0]=le,this.int16[Mn+1]=Se,this.int16[Mn+2]=Pe,this.int16[Mn+3]=qe,this.uint16[Mn+4]=it,this.uint16[Mn+5]=gt,this.uint16[Mn+6]=Ot,this.uint16[Mn+7]=zt,this.int16[Mn+8]=Gt,this.int16[Mn+9]=Jt,this.int16[Mn+10]=Xt,this.int16[Mn+11]=hn,Y},R}(Pi);At.prototype.bytesPerElement=24,Ir("StructArrayLayout4i4ui4i24",At);var j=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,Y,le,Se)},R.prototype.emplace=function(Y,le,Se,Pe){var qe=3*Y;return this.float32[qe+0]=le,this.float32[qe+1]=Se,this.float32[qe+2]=Pe,Y},R}(Pi);j.prototype.bytesPerElement=12,Ir("StructArrayLayout3f12",j);var X=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y){var le=this.length;return this.resize(le+1),this.emplace(le,Y)},R.prototype.emplace=function(Y,le){var Se=1*Y;return this.uint32[Se+0]=le,Y},R}(Pi);X.prototype.bytesPerElement=4,Ir("StructArrayLayout1ul4",X);var G=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it,gt,Ot,zt){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,Y,le,Se,Pe,qe,it,gt,Ot,zt)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt){var Jt=10*Y,Xt=5*Y;return this.int16[Jt+0]=le,this.int16[Jt+1]=Se,this.int16[Jt+2]=Pe,this.int16[Jt+3]=qe,this.int16[Jt+4]=it,this.int16[Jt+5]=gt,this.uint32[Xt+3]=Ot,this.uint16[Jt+8]=zt,this.uint16[Jt+9]=Gt,Y},R}(Pi);G.prototype.bytesPerElement=20,Ir("StructArrayLayout6i1ul2ui20",G);var ie=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it){var gt=this.length;return this.resize(gt+1),this.emplace(gt,Y,le,Se,Pe,qe,it)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt){var Ot=6*Y;return this.int16[Ot+0]=le,this.int16[Ot+1]=Se,this.int16[Ot+2]=Pe,this.int16[Ot+3]=qe,this.int16[Ot+4]=it,this.int16[Ot+5]=gt,Y},R}(Pi);ie.prototype.bytesPerElement=12,Ir("StructArrayLayout2i2i2i12",ie);var be=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe){var it=this.length;return this.resize(it+1),this.emplace(it,Y,le,Se,Pe,qe)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it){var gt=4*Y,Ot=8*Y;return this.float32[gt+0]=le,this.float32[gt+1]=Se,this.float32[gt+2]=Pe,this.int16[Ot+6]=qe,this.int16[Ot+7]=it,Y},R}(Pi);be.prototype.bytesPerElement=16,Ir("StructArrayLayout2f1f2i16",be);var Ie=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe){var qe=this.length;return this.resize(qe+1),this.emplace(qe,Y,le,Se,Pe)},R.prototype.emplace=function(Y,le,Se,Pe,qe){var it=12*Y,gt=3*Y;return this.uint8[it+0]=le,this.uint8[it+1]=Se,this.float32[gt+1]=Pe,this.float32[gt+2]=qe,Y},R}(Pi);Ie.prototype.bytesPerElement=12,Ir("StructArrayLayout2ub2f12",Ie);var He=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,Y,le,Se)},R.prototype.emplace=function(Y,le,Se,Pe){var qe=3*Y;return this.uint16[qe+0]=le,this.uint16[qe+1]=Se,this.uint16[qe+2]=Pe,Y},R}(Pi);He.prototype.bytesPerElement=6,Ir("StructArrayLayout3ui6",He);var Ze=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn,Un,jn,Zn){var Kn=this.length;return this.resize(Kn+1),this.emplace(Kn,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn,Un,jn,Zn)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn,Un,jn,Zn,Kn){var ar=24*Y,ur=12*Y,hr=48*Y;return this.int16[ar+0]=le,this.int16[ar+1]=Se,this.uint16[ar+2]=Pe,this.uint16[ar+3]=qe,this.uint32[ur+2]=it,this.uint32[ur+3]=gt,this.uint32[ur+4]=Ot,this.uint16[ar+10]=zt,this.uint16[ar+11]=Gt,this.uint16[ar+12]=Jt,this.float32[ur+7]=Xt,this.float32[ur+8]=hn,this.uint8[hr+36]=Mn,this.uint8[hr+37]=Un,this.uint8[hr+38]=jn,this.uint32[ur+10]=Zn,this.int16[ar+22]=Kn,Y},R}(Pi);Ze.prototype.bytesPerElement=48,Ir("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ze);var at=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn,Un,jn,Zn,Kn,ar,ur,hr,Dr,Er,Nr,Hr,oi,Wr,ri){var Jr=this.length;return this.resize(Jr+1),this.emplace(Jr,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn,Un,jn,Zn,Kn,ar,ur,hr,Dr,Er,Nr,Hr,oi,Wr,ri)},R.prototype.emplace=function(Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn,Un,jn,Zn,Kn,ar,ur,hr,Dr,Er,Nr,Hr,oi,Wr,ri,Jr){var qr=34*Y,_i=17*Y;return this.int16[qr+0]=le,this.int16[qr+1]=Se,this.int16[qr+2]=Pe,this.int16[qr+3]=qe,this.int16[qr+4]=it,this.int16[qr+5]=gt,this.int16[qr+6]=Ot,this.int16[qr+7]=zt,this.uint16[qr+8]=Gt,this.uint16[qr+9]=Jt,this.uint16[qr+10]=Xt,this.uint16[qr+11]=hn,this.uint16[qr+12]=Mn,this.uint16[qr+13]=Un,this.uint16[qr+14]=jn,this.uint16[qr+15]=Zn,this.uint16[qr+16]=Kn,this.uint16[qr+17]=ar,this.uint16[qr+18]=ur,this.uint16[qr+19]=hr,this.uint16[qr+20]=Dr,this.uint16[qr+21]=Er,this.uint16[qr+22]=Nr,this.uint32[_i+12]=Hr,this.float32[_i+13]=oi,this.float32[_i+14]=Wr,this.float32[_i+15]=ri,this.float32[_i+16]=Jr,Y},R}(Pi);at.prototype.bytesPerElement=68,Ir("StructArrayLayout8i15ui1ul4f68",at);var Tt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y){var le=this.length;return this.resize(le+1),this.emplace(le,Y)},R.prototype.emplace=function(Y,le){var Se=1*Y;return this.float32[Se+0]=le,Y},R}(Pi);Tt.prototype.bytesPerElement=4,Ir("StructArrayLayout1f4",Tt);var Mt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,Y,le,Se)},R.prototype.emplace=function(Y,le,Se,Pe){var qe=3*Y;return this.int16[qe+0]=le,this.int16[qe+1]=Se,this.int16[qe+2]=Pe,Y},R}(Pi);Mt.prototype.bytesPerElement=6,Ir("StructArrayLayout3i6",Mt);var re=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,Y,le,Se)},R.prototype.emplace=function(Y,le,Se,Pe){var qe=2*Y,it=4*Y;return this.uint32[qe+0]=le,this.uint16[it+2]=Se,this.uint16[it+3]=Pe,Y},R}(Pi);re.prototype.bytesPerElement=8,Ir("StructArrayLayout1ul2ui8",re);var de=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Y,le)},R.prototype.emplace=function(Y,le,Se){var Pe=2*Y;return this.uint16[Pe+0]=le,this.uint16[Pe+1]=Se,Y},R}(Pi);de.prototype.bytesPerElement=4,Ir("StructArrayLayout2ui4",de);var Ce=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y){var le=this.length;return this.resize(le+1),this.emplace(le,Y)},R.prototype.emplace=function(Y,le){var Se=1*Y;return this.uint16[Se+0]=le,Y},R}(Pi);Ce.prototype.bytesPerElement=2,Ir("StructArrayLayout1ui2",Ce);var ze=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Y,le)},R.prototype.emplace=function(Y,le,Se){var Pe=2*Y;return this.float32[Pe+0]=le,this.float32[Pe+1]=Se,Y},R}(Pi);ze.prototype.bytesPerElement=8,Ir("StructArrayLayout2f8",ze);var Ve=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(Y,le,Se,Pe){var qe=this.length;return this.resize(qe+1),this.emplace(qe,Y,le,Se,Pe)},R.prototype.emplace=function(Y,le,Se,Pe,qe){var it=4*Y;return this.float32[it+0]=le,this.float32[it+1]=Se,this.float32[it+2]=Pe,this.float32[it+3]=qe,Y},R}(Pi);Ve.prototype.bytesPerElement=16,Ir("StructArrayLayout4f16",Ve);var We=function(S){function R(){S.apply(this,arguments)}S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R;var Y={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Y.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Y.x1.get=function(){return this._structArray.int16[this._pos2+2]},Y.y1.get=function(){return this._structArray.int16[this._pos2+3]},Y.x2.get=function(){return this._structArray.int16[this._pos2+4]},Y.y2.get=function(){return this._structArray.int16[this._pos2+5]},Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,Y),R}(es);We.prototype.size=20;var Je=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.get=function(Y){return new We(this,Y)},R}(G);Ir("CollisionBoxArray",Je);var tt=function(S){function R(){S.apply(this,arguments)}S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Y.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Y.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Y.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Y.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Y.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Y.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Y.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Y.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Y.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Y.placedOrientation.set=function(le){this._structArray.uint8[this._pos1+37]=le},Y.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Y.hidden.set=function(le){this._structArray.uint8[this._pos1+38]=le},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Y.crossTileID.set=function(le){this._structArray.uint32[this._pos4+10]=le},Y.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,Y),R}(es);tt.prototype.size=48;var lt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.get=function(Y){return new tt(this,Y)},R}(Ze);Ir("PlacedSymbolArray",lt);var dt=function(S){function R(){S.apply(this,arguments)}S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Y.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Y.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Y.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Y.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Y.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Y.key.get=function(){return this._structArray.uint16[this._pos2+8]},Y.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Y.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Y.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Y.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Y.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Y.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Y.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Y.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Y.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Y.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Y.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Y.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Y.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Y.crossTileID.set=function(le){this._structArray.uint32[this._pos4+12]=le},Y.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Y.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Y.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Y.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,Y),R}(es);dt.prototype.size=68;var Ft=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.get=function(Y){return new dt(this,Y)},R}(at);Ir("SymbolInstanceArray",Ft);var Ut=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(Y){return this.float32[1*Y+0]},R}(Tt);Ir("GlyphOffsetArray",Ut);var qt=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.getx=function(Y){return this.int16[3*Y+0]},R.prototype.gety=function(Y){return this.int16[3*Y+1]},R.prototype.gettileUnitDistanceFromAnchor=function(Y){return this.int16[3*Y+2]},R}(Mt);Ir("SymbolLineVertexArray",qt);var nn=function(S){function R(){S.apply(this,arguments)}S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R;var Y={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,Y),R}(es);nn.prototype.size=8;var yn=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.get=function(Y){return new nn(this,Y)},R}(re);Ir("FeatureIndexArray",yn);var rn=zi([{name:"a_pos",components:2,type:"Int16"}],4).members,cn=function(S){S===void 0&&(S=[]),this.segments=S};function sn(S,R){return 256*(S=r(Math.floor(S),0,255))+r(Math.floor(R),0,255)}cn.prototype.prepareSegment=function(S,R,Y,le){var Se=this.segments[this.segments.length-1];return S>cn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+cn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+S),(!Se||Se.vertexLength+S>cn.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==le)&&(Se={vertexOffset:R.length,primitiveOffset:Y.length,vertexLength:0,primitiveLength:0},le!==void 0&&(Se.sortKey=le),this.segments.push(Se)),Se},cn.prototype.get=function(){return this.segments},cn.prototype.destroy=function(){for(var S=0,R=this.segments;S<R.length;S+=1){var Y=R[S];for(var le in Y.vaos)Y.vaos[le].destroy()}},cn.simpleSegment=function(S,R,Y,le){return new cn([{vertexOffset:S,primitiveOffset:R,vertexLength:Y,primitiveLength:le,vaos:{},sortKey:0}])},cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ir("SegmentVector",cn);var Ln=zi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),wn=k(function(S){S.exports=function(R,Y){var le,Se,Pe,qe,it,gt,Ot,zt;for(le=3&R.length,Se=R.length-le,Pe=Y,it=3432918353,gt=461845907,zt=0;zt<Se;)Ot=255&R.charCodeAt(zt)|(255&R.charCodeAt(++zt))<<8|(255&R.charCodeAt(++zt))<<16|(255&R.charCodeAt(++zt))<<24,++zt,Pe=27492+(65535&(qe=5*(65535&(Pe=(Pe^=Ot=(65535&(Ot=(Ot=(65535&Ot)*it+(((Ot>>>16)*it&65535)<<16)&4294967295)<<15|Ot>>>17))*gt+(((Ot>>>16)*gt&65535)<<16)&4294967295)<<13|Pe>>>19))+((5*(Pe>>>16)&65535)<<16)&4294967295))+((58964+(qe>>>16)&65535)<<16);switch(Ot=0,le){case 3:Ot^=(255&R.charCodeAt(zt+2))<<16;case 2:Ot^=(255&R.charCodeAt(zt+1))<<8;case 1:Pe^=Ot=(65535&(Ot=(Ot=(65535&(Ot^=255&R.charCodeAt(zt)))*it+(((Ot>>>16)*it&65535)<<16)&4294967295)<<15|Ot>>>17))*gt+(((Ot>>>16)*gt&65535)<<16)&4294967295}return Pe^=R.length,Pe=2246822507*(65535&(Pe^=Pe>>>16))+((2246822507*(Pe>>>16)&65535)<<16)&4294967295,Pe=3266489909*(65535&(Pe^=Pe>>>13))+((3266489909*(Pe>>>16)&65535)<<16)&4294967295,(Pe^=Pe>>>16)>>>0}}),ln=k(function(S){S.exports=function(R,Y){for(var le,Se=R.length,Pe=Y^Se,qe=0;Se>=4;)le=1540483477*(65535&(le=255&R.charCodeAt(qe)|(255&R.charCodeAt(++qe))<<8|(255&R.charCodeAt(++qe))<<16|(255&R.charCodeAt(++qe))<<24))+((1540483477*(le>>>16)&65535)<<16),Pe=1540483477*(65535&Pe)+((1540483477*(Pe>>>16)&65535)<<16)^(le=1540483477*(65535&(le^=le>>>24))+((1540483477*(le>>>16)&65535)<<16)),Se-=4,++qe;switch(Se){case 3:Pe^=(255&R.charCodeAt(qe+2))<<16;case 2:Pe^=(255&R.charCodeAt(qe+1))<<8;case 1:Pe=1540483477*(65535&(Pe^=255&R.charCodeAt(qe)))+((1540483477*(Pe>>>16)&65535)<<16)}return Pe=1540483477*(65535&(Pe^=Pe>>>13))+((1540483477*(Pe>>>16)&65535)<<16),(Pe^=Pe>>>15)>>>0}}),Bn=wn,Wn=wn,tr=ln;Bn.murmur3=Wn,Bn.murmur2=tr;var or=function(){this.ids=[],this.positions=[],this.indexed=!1};or.prototype.add=function(S,R,Y,le){this.ids.push(Cr(S)),this.positions.push(R,Y,le)},or.prototype.getPositions=function(S){for(var R=Cr(S),Y=0,le=this.ids.length-1;Y<le;){var Se=Y+le>>1;this.ids[Se]>=R?le=Se:Y=Se+1}for(var Pe=[];this.ids[Y]===R;){var qe=this.positions[3*Y],it=this.positions[3*Y+1],gt=this.positions[3*Y+2];Pe.push({index:qe,start:it,end:gt}),Y++}return Pe},or.serialize=function(S,R){var Y=new Float64Array(S.ids),le=new Uint32Array(S.positions);return wr(Y,le,0,Y.length-1),R&&R.push(Y.buffer,le.buffer),{ids:Y,positions:le}},or.deserialize=function(S){var R=new or;return R.ids=S.ids,R.positions=S.positions,R.indexed=!0,R};var Sr=Math.pow(2,53)-1;function Cr(S){var R=+S;return!isNaN(R)&&R<=Sr?R:Bn(String(S))}function wr(S,R,Y,le){for(;Y<le;){for(var Se=S[Y+le>>1],Pe=Y-1,qe=le+1;;){do Pe++;while(S[Pe]<Se);do qe--;while(S[qe]>Se);if(Pe>=qe)break;Ar(S,Pe,qe),Ar(R,3*Pe,3*qe),Ar(R,3*Pe+1,3*qe+1),Ar(R,3*Pe+2,3*qe+2)}qe-Y<le-qe?(wr(S,R,Y,qe),Y=qe+1):(wr(S,R,qe+1,le),le=qe)}}function Ar(S,R,Y){var le=S[R];S[R]=S[Y],S[Y]=le}Ir("FeaturePositionMap",or);var Fr=function(S,R){this.gl=S.gl,this.location=R},ii=function(S){function R(Y,le){S.call(this,Y,le),this.current=0}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){this.current!==Y&&(this.current=Y,this.gl.uniform1i(this.location,Y))},R}(Fr),ai=function(S){function R(Y,le){S.call(this,Y,le),this.current=0}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){this.current!==Y&&(this.current=Y,this.gl.uniform1f(this.location,Y))},R}(Fr),_r=function(S){function R(Y,le){S.call(this,Y,le),this.current=[0,0]}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]||(this.current=Y,this.gl.uniform2f(this.location,Y[0],Y[1]))},R}(Fr),Rr=function(S){function R(Y,le){S.call(this,Y,le),this.current=[0,0,0]}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]&&Y[2]===this.current[2]||(this.current=Y,this.gl.uniform3f(this.location,Y[0],Y[1],Y[2]))},R}(Fr),Qr=function(S){function R(Y,le){S.call(this,Y,le),this.current=[0,0,0,0]}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]&&Y[2]===this.current[2]&&Y[3]===this.current[3]||(this.current=Y,this.gl.uniform4f(this.location,Y[0],Y[1],Y[2],Y[3]))},R}(Fr),$r=function(S){function R(Y,le){S.call(this,Y,le),this.current=dn.transparent}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){Y.r===this.current.r&&Y.g===this.current.g&&Y.b===this.current.b&&Y.a===this.current.a||(this.current=Y,this.gl.uniform4f(this.location,Y.r,Y.g,Y.b,Y.a))},R}(Fr),di=new Float32Array(16),li=function(S){function R(Y,le){S.call(this,Y,le),this.current=di}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.set=function(Y){if(Y[12]!==this.current[12]||Y[0]!==this.current[0])return this.current=Y,void this.gl.uniformMatrix4fv(this.location,!1,Y);for(var le=1;le<16;le++)if(Y[le]!==this.current[le]){this.current=Y,this.gl.uniformMatrix4fv(this.location,!1,Y);break}},R}(Fr);function vi(S){return[sn(255*S.r,255*S.g),sn(255*S.b,255*S.a)]}var Ei=function(S,R,Y){this.value=S,this.uniformNames=R.map(function(le){return"u_"+le}),this.type=Y};Ei.prototype.setUniform=function(S,R,Y){S.set(Y.constantOr(this.value))},Ei.prototype.getBinding=function(S,R,Y){return this.type==="color"?new $r(S,R):new ai(S,R)};var Ai=function(S,R){this.uniformNames=R.map(function(Y){return"u_"+Y}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ai.prototype.setConstantPatternPositions=function(S,R){this.pixelRatioFrom=R.pixelRatio,this.pixelRatioTo=S.pixelRatio,this.patternFrom=R.tlbr,this.patternTo=S.tlbr},Ai.prototype.setUniform=function(S,R,Y,le){var Se=le==="u_pattern_to"?this.patternTo:le==="u_pattern_from"?this.patternFrom:le==="u_pixel_ratio_to"?this.pixelRatioTo:le==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&S.set(Se)},Ai.prototype.getBinding=function(S,R,Y){return Y.substr(0,9)==="u_pattern"?new Qr(S,R):new ai(S,R)};var Ci=function(S,R,Y,le){this.expression=S,this.type=Y,this.maxValue=0,this.paintVertexAttributes=R.map(function(Se){return{name:"a_"+Se,type:"Float32",components:Y==="color"?2:1,offset:0}}),this.paintVertexArray=new le};Ci.prototype.populatePaintArray=function(S,R,Y,le,Se){var Pe=this.paintVertexArray.length,qe=this.expression.evaluate(new Ti(0),R,{},le,[],Se);this.paintVertexArray.resize(S),this._setPaintValue(Pe,S,qe)},Ci.prototype.updatePaintArray=function(S,R,Y,le){var Se=this.expression.evaluate({zoom:0},Y,le);this._setPaintValue(S,R,Se)},Ci.prototype._setPaintValue=function(S,R,Y){if(this.type==="color")for(var le=vi(Y),Se=S;Se<R;Se++)this.paintVertexArray.emplace(Se,le[0],le[1]);else{for(var Pe=S;Pe<R;Pe++)this.paintVertexArray.emplace(Pe,Y);this.maxValue=Math.max(this.maxValue,Math.abs(Y))}},Ci.prototype.upload=function(S){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=S.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ci.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Gr=function(S,R,Y,le,Se,Pe){this.expression=S,this.uniformNames=R.map(function(qe){return"u_"+qe+"_t"}),this.type=Y,this.useIntegerZoom=le,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=R.map(function(qe){return{name:"a_"+qe,type:"Float32",components:Y==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};Gr.prototype.populatePaintArray=function(S,R,Y,le,Se){var Pe=this.expression.evaluate(new Ti(this.zoom),R,{},le,[],Se),qe=this.expression.evaluate(new Ti(this.zoom+1),R,{},le,[],Se),it=this.paintVertexArray.length;this.paintVertexArray.resize(S),this._setPaintValue(it,S,Pe,qe)},Gr.prototype.updatePaintArray=function(S,R,Y,le){var Se=this.expression.evaluate({zoom:this.zoom},Y,le),Pe=this.expression.evaluate({zoom:this.zoom+1},Y,le);this._setPaintValue(S,R,Se,Pe)},Gr.prototype._setPaintValue=function(S,R,Y,le){if(this.type==="color")for(var Se=vi(Y),Pe=vi(le),qe=S;qe<R;qe++)this.paintVertexArray.emplace(qe,Se[0],Se[1],Pe[0],Pe[1]);else{for(var it=S;it<R;it++)this.paintVertexArray.emplace(it,Y,le);this.maxValue=Math.max(this.maxValue,Math.abs(Y),Math.abs(le))}},Gr.prototype.upload=function(S){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=S.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Gr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Gr.prototype.setUniform=function(S,R){var Y=this.useIntegerZoom?Math.floor(R.zoom):R.zoom,le=r(this.expression.interpolationFactor(Y,this.zoom,this.zoom+1),0,1);S.set(le)},Gr.prototype.getBinding=function(S,R,Y){return new ai(S,R)};var De=function(S,R,Y,le,Se,Pe){this.expression=S,this.type=R,this.useIntegerZoom=Y,this.zoom=le,this.layerId=Pe,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};De.prototype.populatePaintArray=function(S,R,Y){var le=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(S),this.zoomOutPaintVertexArray.resize(S),this._setPaintValues(le,S,R.patterns&&R.patterns[this.layerId],Y)},De.prototype.updatePaintArray=function(S,R,Y,le,Se){this._setPaintValues(S,R,Y.patterns&&Y.patterns[this.layerId],Se)},De.prototype._setPaintValues=function(S,R,Y,le){if(le&&Y){var Se=Y.min,Pe=Y.mid,qe=Y.max,it=le[Se],gt=le[Pe],Ot=le[qe];if(it&&gt&&Ot)for(var zt=S;zt<R;zt++)this.zoomInPaintVertexArray.emplace(zt,gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],it.tl[0],it.tl[1],it.br[0],it.br[1],gt.pixelRatio,it.pixelRatio),this.zoomOutPaintVertexArray.emplace(zt,gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],Ot.tl[0],Ot.tl[1],Ot.br[0],Ot.br[1],gt.pixelRatio,Ot.pixelRatio)}},De.prototype.upload=function(S){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=S.createVertexBuffer(this.zoomInPaintVertexArray,Ln.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=S.createVertexBuffer(this.zoomOutPaintVertexArray,Ln.members,this.expression.isStateDependent))},De.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Xe=function(S,R,Y,le){this.binders={},this.layoutAttributes=le,this._buffers=[];var Se=[];for(var Pe in S.paint._values)if(Y(Pe)){var qe=S.paint.get(Pe);if(qe instanceof ha&&il(qe.property.specification)){var it=jt(Pe,S.type),gt=qe.value,Ot=qe.property.specification.type,zt=qe.property.useIntegerZoom,Gt=qe.property.specification["property-type"],Jt=Gt==="cross-faded"||Gt==="cross-faded-data-driven";if(gt.kind==="constant")this.binders[Pe]=Jt?new Ai(gt.value,it):new Ei(gt.value,it,Ot),Se.push("/u_"+Pe);else if(gt.kind==="source"||Jt){var Xt=$t(Pe,Ot,"source");this.binders[Pe]=Jt?new De(gt,Ot,zt,R,Xt,S.id):new Ci(gt,it,Ot,Xt),Se.push("/a_"+Pe)}else{var hn=$t(Pe,Ot,"composite");this.binders[Pe]=new Gr(gt,it,Ot,zt,R,hn),Se.push("/z_"+Pe)}}}this.cacheKey=Se.sort().join("")};Xe.prototype.getMaxValue=function(S){var R=this.binders[S];return R instanceof Ci||R instanceof Gr?R.maxValue:0},Xe.prototype.populatePaintArrays=function(S,R,Y,le,Se){for(var Pe in this.binders){var qe=this.binders[Pe];(qe instanceof Ci||qe instanceof Gr||qe instanceof De)&&qe.populatePaintArray(S,R,Y,le,Se)}},Xe.prototype.setConstantPatternPositions=function(S,R){for(var Y in this.binders){var le=this.binders[Y];le instanceof Ai&&le.setConstantPatternPositions(S,R)}},Xe.prototype.updatePaintArrays=function(S,R,Y,le,Se){var Pe=!1;for(var qe in S)for(var it=0,gt=R.getPositions(qe);it<gt.length;it+=1){var Ot=gt[it],zt=Y.feature(Ot.index);for(var Gt in this.binders){var Jt=this.binders[Gt];if((Jt instanceof Ci||Jt instanceof Gr||Jt instanceof De)&&Jt.expression.isStateDependent===!0){var Xt=le.paint.get(Gt);Jt.expression=Xt.value,Jt.updatePaintArray(Ot.start,Ot.end,zt,S[qe],Se),Pe=!0}}}return Pe},Xe.prototype.defines=function(){var S=[];for(var R in this.binders){var Y=this.binders[R];(Y instanceof Ei||Y instanceof Ai)&&S.push.apply(S,Y.uniformNames.map(function(le){return"#define HAS_UNIFORM_"+le}))}return S},Xe.prototype.getPaintVertexBuffers=function(){return this._buffers},Xe.prototype.getUniforms=function(S,R){var Y=[];for(var le in this.binders){var Se=this.binders[le];if(Se instanceof Ei||Se instanceof Ai||Se instanceof Gr)for(var Pe=0,qe=Se.uniformNames;Pe<qe.length;Pe+=1){var it=qe[Pe];if(R[it]){var gt=Se.getBinding(S,R[it],it);Y.push({name:it,property:le,binding:gt})}}}return Y},Xe.prototype.setUniforms=function(S,R,Y,le){for(var Se=0,Pe=R;Se<Pe.length;Se+=1){var qe=Pe[Se],it=qe.name,gt=qe.property,Ot=qe.binding;this.binders[gt].setUniform(Ot,le,Y.get(gt),it)}},Xe.prototype.updatePaintBuffers=function(S){for(var R in this._buffers=[],this.binders){var Y=this.binders[R];if(S&&Y instanceof De){var le=S.fromScale===2?Y.zoomInPaintVertexBuffer:Y.zoomOutPaintVertexBuffer;le&&this._buffers.push(le)}else(Y instanceof Ci||Y instanceof Gr)&&Y.paintVertexBuffer&&this._buffers.push(Y.paintVertexBuffer)}},Xe.prototype.upload=function(S){for(var R in this.binders){var Y=this.binders[R];(Y instanceof Ci||Y instanceof Gr||Y instanceof De)&&Y.upload(S)}this.updatePaintBuffers()},Xe.prototype.destroy=function(){for(var S in this.binders){var R=this.binders[S];(R instanceof Ci||R instanceof Gr||R instanceof De)&&R.destroy()}};var _t=function(S,R,Y,le){le===void 0&&(le=function(){return!0}),this.programConfigurations={};for(var Se=0,Pe=R;Se<Pe.length;Se+=1){var qe=Pe[Se];this.programConfigurations[qe.id]=new Xe(qe,Y,le,S)}this.needsUpload=!1,this._featureMap=new or,this._bufferOffset=0};function jt(S,R){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[S]||[S.replace(R+"-","").replace(/-/g,"_")]}function $t(S,R,Y){var le={color:{source:ze,composite:Ve},number:{source:Tt,composite:ze}},Se=function(Pe){return{"line-pattern":{source:mt,composite:mt},"fill-pattern":{source:mt,composite:mt},"fill-extrusion-pattern":{source:mt,composite:mt}}[Pe]}(S);return Se&&Se[Y]||le[R][Y]}_t.prototype.populatePaintArrays=function(S,R,Y,le,Se,Pe){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(S,R,le,Se,Pe);R.id!==void 0&&this._featureMap.add(R.id,Y,this._bufferOffset,S),this._bufferOffset=S,this.needsUpload=!0},_t.prototype.updatePaintArrays=function(S,R,Y,le){for(var Se=0,Pe=Y;Se<Pe.length;Se+=1){var qe=Pe[Se];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(S,this._featureMap,R,qe,le)||this.needsUpload}},_t.prototype.get=function(S){return this.programConfigurations[S]},_t.prototype.upload=function(S){if(this.needsUpload){for(var R in this.programConfigurations)this.programConfigurations[R].upload(S);this.needsUpload=!1}},_t.prototype.destroy=function(){for(var S in this.programConfigurations)this.programConfigurations[S].destroy()},Ir("ConstantBinder",Ei),Ir("CrossFadedConstantBinder",Ai),Ir("SourceExpressionBinder",Ci),Ir("CrossFadedCompositeBinder",De),Ir("CompositeExpressionBinder",Gr),Ir("ProgramConfiguration",Xe,{omit:["_buffers"]}),Ir("ProgramConfigurationSet",_t);var Cn=8192,lr,Ur=(lr=15,{min:-1*Math.pow(2,lr-1),max:Math.pow(2,lr-1)-1});function Yr(S){for(var R=Cn/S.extent,Y=S.loadGeometry(),le=0;le<Y.length;le++)for(var Se=Y[le],Pe=0;Pe<Se.length;Pe++){var qe=Se[Pe];qe.x=Math.round(qe.x*R),qe.y=Math.round(qe.y*R),(qe.x<Ur.min||qe.x>Ur.max||qe.y<Ur.min||qe.y>Ur.max)&&(E("Geometry exceeds allowed extent, reduce your vector tile buffer size"),qe.x=r(qe.x,Ur.min,Ur.max),qe.y=r(qe.y,Ur.min,Ur.max))}return Y}function ci(S,R,Y,le,Se){S.emplaceBack(2*R+(le+1)/2,2*Y+(Se+1)/2)}var ti=function(S){this.zoom=S.zoom,this.overscaling=S.overscaling,this.layers=S.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=S.index,this.hasPattern=!1,this.layoutVertexArray=new et,this.indexArray=new He,this.segments=new cn,this.programConfigurations=new _t(rn,S.layers,S.zoom),this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};function Fi(S,R){for(var Y=0;Y<S.length;Y++)if(nc(R,S[Y]))return!0;for(var le=0;le<R.length;le++)if(nc(S,R[le]))return!0;return!!Lp(S,R)}function ea(S,R,Y){return!!nc(S,R)||!!tc(R,S,Y)}function _u(S,R){if(S.length===1)return Fc(R,S[0]);for(var Y=0;Y<R.length;Y++)for(var le=R[Y],Se=0;Se<le.length;Se++)if(nc(S,le[Se]))return!0;for(var Pe=0;Pe<S.length;Pe++)if(Fc(R,S[Pe]))return!0;for(var qe=0;qe<R.length;qe++)if(Lp(S,R[qe]))return!0;return!1}function xm(S,R,Y){if(S.length>1){if(Lp(S,R))return!0;for(var le=0;le<R.length;le++)if(tc(R[le],S,Y))return!0}for(var Se=0;Se<S.length;Se++)if(tc(S[Se],R,Y))return!0;return!1}function Lp(S,R){if(S.length===0||R.length===0)return!1;for(var Y=0;Y<S.length-1;Y++)for(var le=S[Y],Se=S[Y+1],Pe=0;Pe<R.length-1;Pe++)if(bm(le,Se,R[Pe],R[Pe+1]))return!0;return!1}function bm(S,R,Y,le){return A(S,Y,le)!==A(R,Y,le)&&A(S,R,Y)!==A(S,R,le)}function tc(S,R,Y){var le=Y*Y;if(R.length===1)return S.distSqr(R[0])<le;for(var Se=1;Se<R.length;Se++)if(bd(S,R[Se-1],R[Se])<le)return!0;return!1}function bd(S,R,Y){var le=R.distSqr(Y);if(le===0)return S.distSqr(R);var Se=((S.x-R.x)*(Y.x-R.x)+(S.y-R.y)*(Y.y-R.y))/le;return Se<0?S.distSqr(R):Se>1?S.distSqr(Y):S.distSqr(Y.sub(R)._mult(Se)._add(R))}function Fc(S,R){for(var Y,le,Se,Pe=!1,qe=0;qe<S.length;qe++)for(var it=0,gt=(Y=S[qe]).length-1;it<Y.length;gt=it++)le=Y[it],Se=Y[gt],le.y>R.y!=Se.y>R.y&&R.x<(Se.x-le.x)*(R.y-le.y)/(Se.y-le.y)+le.x&&(Pe=!Pe);return Pe}function nc(S,R){for(var Y=!1,le=0,Se=S.length-1;le<S.length;Se=le++){var Pe=S[le],qe=S[Se];Pe.y>R.y!=qe.y>R.y&&R.x<(qe.x-Pe.x)*(R.y-Pe.y)/(qe.y-Pe.y)+Pe.x&&(Y=!Y)}return Y}function _m(S,R,Y){var le=Y[0],Se=Y[2];if(S.x<le.x&&R.x<le.x||S.x>Se.x&&R.x>Se.x||S.y<le.y&&R.y<le.y||S.y>Se.y&&R.y>Se.y)return!1;var Pe=A(S,R,Y[0]);return Pe!==A(S,R,Y[1])||Pe!==A(S,R,Y[2])||Pe!==A(S,R,Y[3])}function Bu(S,R,Y){var le=R.paint.get(S).value;return le.kind==="constant"?le.value:Y.programConfigurations.get(R.id).getMaxValue(S)}function _d(S){return Math.sqrt(S[0]*S[0]+S[1]*S[1])}function wd(S,R,Y,le,Se){if(!R[0]&&!R[1])return S;var Pe=t.convert(R)._mult(Se);Y==="viewport"&&Pe._rotate(-le);for(var qe=[],it=0;it<S.length;it++){var gt=S[it];qe.push(gt.sub(Pe))}return qe}ti.prototype.populate=function(S,R,Y){var le=this.layers[0],Se=[],Pe=null;le.type==="circle"&&(Pe=le.layout.get("circle-sort-key"));for(var qe=0,it=S;qe<it.length;qe+=1){var gt=it[qe],Ot=gt.feature,zt=gt.id,Gt=gt.index,Jt=gt.sourceLayerIndex,Xt=this.layers[0]._featureFilter.needGeometry,hn={type:Ot.type,id:zt,properties:Ot.properties,geometry:Xt?Yr(Ot):[]};if(this.layers[0]._featureFilter.filter(new Ti(this.zoom),hn,Y)){Xt||(hn.geometry=Yr(Ot));var Mn=Pe?Pe.evaluate(hn,{},Y):void 0,Un={id:zt,properties:Ot.properties,type:Ot.type,sourceLayerIndex:Jt,index:Gt,geometry:hn.geometry,patterns:{},sortKey:Mn};Se.push(Un)}}Pe&&Se.sort(function(Nr,Hr){return Nr.sortKey-Hr.sortKey});for(var jn=0,Zn=Se;jn<Zn.length;jn+=1){var Kn=Zn[jn],ar=Kn,ur=ar.geometry,hr=ar.index,Dr=ar.sourceLayerIndex,Er=S[hr].feature;this.addFeature(Kn,ur,hr,Y),R.featureIndex.insert(Er,ur,hr,Dr,this.index)}},ti.prototype.update=function(S,R,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(S,R,this.stateDependentLayers,Y)},ti.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ti.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ti.prototype.upload=function(S){this.uploaded||(this.layoutVertexBuffer=S.createVertexBuffer(this.layoutVertexArray,rn),this.indexBuffer=S.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(S),this.uploaded=!0},ti.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ti.prototype.addFeature=function(S,R,Y,le){for(var Se=0,Pe=R;Se<Pe.length;Se+=1)for(var qe=0,it=Pe[Se];qe<it.length;qe+=1){var gt=it[qe],Ot=gt.x,zt=gt.y;if(!(Ot<0||Ot>=Cn||zt<0||zt>=Cn)){var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,S.sortKey),Jt=Gt.vertexLength;ci(this.layoutVertexArray,Ot,zt,-1,-1),ci(this.layoutVertexArray,Ot,zt,1,-1),ci(this.layoutVertexArray,Ot,zt,1,1),ci(this.layoutVertexArray,Ot,zt,-1,1),this.indexArray.emplaceBack(Jt,Jt+1,Jt+2),this.indexArray.emplaceBack(Jt,Jt+3,Jt+2),Gt.vertexLength+=4,Gt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,S,Y,{},le)},Ir("CircleBucket",ti,{omit:["layers"]});var h4=new ya({"circle-sort-key":new Zr(Oe.layout_circle["circle-sort-key"])}),d4={paint:new ya({"circle-radius":new Zr(Oe.paint_circle["circle-radius"]),"circle-color":new Zr(Oe.paint_circle["circle-color"]),"circle-blur":new Zr(Oe.paint_circle["circle-blur"]),"circle-opacity":new Zr(Oe.paint_circle["circle-opacity"]),"circle-translate":new Br(Oe.paint_circle["circle-translate"]),"circle-translate-anchor":new Br(Oe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Br(Oe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Br(Oe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Zr(Oe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Zr(Oe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Zr(Oe.paint_circle["circle-stroke-opacity"])}),layout:h4},ul=typeof Float32Array<"u"?Float32Array:Array;function wm(S){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function Nx(S,R,Y){var le=R[0],Se=R[1],Pe=R[2],qe=R[3],it=R[4],gt=R[5],Ot=R[6],zt=R[7],Gt=R[8],Jt=R[9],Xt=R[10],hn=R[11],Mn=R[12],Un=R[13],jn=R[14],Zn=R[15],Kn=Y[0],ar=Y[1],ur=Y[2],hr=Y[3];return S[0]=Kn*le+ar*it+ur*Gt+hr*Mn,S[1]=Kn*Se+ar*gt+ur*Jt+hr*Un,S[2]=Kn*Pe+ar*Ot+ur*Xt+hr*jn,S[3]=Kn*qe+ar*zt+ur*hn+hr*Zn,Kn=Y[4],ar=Y[5],ur=Y[6],hr=Y[7],S[4]=Kn*le+ar*it+ur*Gt+hr*Mn,S[5]=Kn*Se+ar*gt+ur*Jt+hr*Un,S[6]=Kn*Pe+ar*Ot+ur*Xt+hr*jn,S[7]=Kn*qe+ar*zt+ur*hn+hr*Zn,Kn=Y[8],ar=Y[9],ur=Y[10],hr=Y[11],S[8]=Kn*le+ar*it+ur*Gt+hr*Mn,S[9]=Kn*Se+ar*gt+ur*Jt+hr*Un,S[10]=Kn*Pe+ar*Ot+ur*Xt+hr*jn,S[11]=Kn*qe+ar*zt+ur*hn+hr*Zn,Kn=Y[12],ar=Y[13],ur=Y[14],hr=Y[15],S[12]=Kn*le+ar*it+ur*Gt+hr*Mn,S[13]=Kn*Se+ar*gt+ur*Jt+hr*Un,S[14]=Kn*Pe+ar*Ot+ur*Xt+hr*jn,S[15]=Kn*qe+ar*zt+ur*hn+hr*Zn,S}Math.hypot||(Math.hypot=function(){for(var S=arguments,R=0,Y=arguments.length;Y--;)R+=S[Y]*S[Y];return Math.sqrt(R)});var g4=Nx,kd,m4=function(S,R,Y){return S[0]=R[0]-Y[0],S[1]=R[1]-Y[1],S[2]=R[2]-Y[2],S};function Td(S,R,Y){var le=R[0],Se=R[1],Pe=R[2],qe=R[3];return S[0]=Y[0]*le+Y[4]*Se+Y[8]*Pe+Y[12]*qe,S[1]=Y[1]*le+Y[5]*Se+Y[9]*Pe+Y[13]*qe,S[2]=Y[2]*le+Y[6]*Se+Y[10]*Pe+Y[14]*qe,S[3]=Y[3]*le+Y[7]*Se+Y[11]*Pe+Y[15]*qe,S}kd=new ul(3),ul!=Float32Array&&(kd[0]=0,kd[1]=0,kd[2]=0),function(){var S=new ul(4);ul!=Float32Array&&(S[0]=0,S[1]=0,S[2]=0,S[3]=0)}();var v4=function(S){var R=S[0],Y=S[1];return R*R+Y*Y},y4=(function(){var S=new ul(2);ul!=Float32Array&&(S[0]=0,S[1]=0)}(),function(S){function R(Y){S.call(this,Y,d4)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(Y){return new ti(Y)},R.prototype.queryRadius=function(Y){var le=Y;return Bu("circle-radius",this,le)+Bu("circle-stroke-width",this,le)+_d(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(Y,le,Se,Pe,qe,it,gt,Ot){for(var zt=wd(Y,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),it.angle,gt),Gt=this.paint.get("circle-radius").evaluate(le,Se)+this.paint.get("circle-stroke-width").evaluate(le,Se),Jt=this.paint.get("circle-pitch-alignment")==="map",Xt=Jt?zt:function(Dr,Er){return Dr.map(function(Nr){return Bx(Nr,Er)})}(zt,Ot),hn=Jt?Gt*gt:Gt,Mn=0,Un=Pe;Mn<Un.length;Mn+=1)for(var jn=0,Zn=Un[Mn];jn<Zn.length;jn+=1){var Kn=Zn[jn],ar=Jt?Kn:Bx(Kn,Ot),ur=hn,hr=Td([],[Kn.x,Kn.y,0,1],Ot);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ur*=hr[3]/it.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ur*=it.cameraToCenterDistance/hr[3]),ea(Xt,ar,ur))return!0}return!1},R}(Fa));function Bx(S,R){var Y=Td([],[S.x,S.y,0,1],R);return new t(Y[0]/Y[3],Y[1]/Y[3])}var jx=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R}(ti);function km(S,R,Y,le){var Se=R.width,Pe=R.height;if(le){if(le instanceof Uint8ClampedArray)le=new Uint8Array(le.buffer);else if(le.length!==Se*Pe*Y)throw new RangeError("mismatched image size")}else le=new Uint8Array(Se*Pe*Y);return S.width=Se,S.height=Pe,S.data=le,S}function Ux(S,R,Y){var le=R.width,Se=R.height;if(le!==S.width||Se!==S.height){var Pe=km({},{width:le,height:Se},Y);Tm(S,Pe,{x:0,y:0},{x:0,y:0},{width:Math.min(S.width,le),height:Math.min(S.height,Se)},Y),S.width=le,S.height=Se,S.data=Pe.data}}function Tm(S,R,Y,le,Se,Pe){if(Se.width===0||Se.height===0)return R;if(Se.width>S.width||Se.height>S.height||Y.x>S.width-Se.width||Y.y>S.height-Se.height)throw new RangeError("out of range source coordinates for image copy");if(Se.width>R.width||Se.height>R.height||le.x>R.width-Se.width||le.y>R.height-Se.height)throw new RangeError("out of range destination coordinates for image copy");for(var qe=S.data,it=R.data,gt=0;gt<Se.height;gt++)for(var Ot=((Y.y+gt)*S.width+Y.x)*Pe,zt=((le.y+gt)*R.width+le.x)*Pe,Gt=0;Gt<Se.width*Pe;Gt++)it[zt+Gt]=qe[Ot+Gt];return R}Ir("HeatmapBucket",jx,{omit:["layers"]});var Nc=function(S,R){km(this,S,1,R)};Nc.prototype.resize=function(S){Ux(this,S,1)},Nc.prototype.clone=function(){return new Nc({width:this.width,height:this.height},new Uint8Array(this.data))},Nc.copy=function(S,R,Y,le,Se){Tm(S,R,Y,le,Se,1)};var ws=function(S,R){km(this,S,4,R)};ws.prototype.resize=function(S){Ux(this,S,4)},ws.prototype.replace=function(S,R){R?this.data.set(S):S instanceof Uint8ClampedArray?this.data=new Uint8Array(S.buffer):this.data=S},ws.prototype.clone=function(){return new ws({width:this.width,height:this.height},new Uint8Array(this.data))},ws.copy=function(S,R,Y,le,Se){Tm(S,R,Y,le,Se,4)},Ir("AlphaImage",Nc),Ir("RGBAImage",ws);var x4={paint:new ya({"heatmap-radius":new Zr(Oe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Zr(Oe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Br(Oe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Co(Oe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Br(Oe.paint_heatmap["heatmap-opacity"])})};function Vx(S,R){for(var Y=new Uint8Array(1024),le={},Se=0,Pe=0;Se<256;Se++,Pe+=4){le[R]=Se/255;var qe=S.evaluate(le);Y[Pe+0]=Math.floor(255*qe.r/qe.a),Y[Pe+1]=Math.floor(255*qe.g/qe.a),Y[Pe+2]=Math.floor(255*qe.b/qe.a),Y[Pe+3]=Math.floor(255*qe.a)}return new ws({width:256,height:1},Y)}var b4=function(S){function R(Y){S.call(this,Y,x4),this._updateColorRamp()}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(Y){return new jx(Y)},R.prototype._handleSpecialPaintPropertyUpdate=function(Y){Y==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var Y=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Vx(Y,"heatmapDensity"),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(Fa),_4={paint:new ya({"hillshade-illumination-direction":new Br(Oe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Br(Oe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Br(Oe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Br(Oe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Br(Oe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Br(Oe.paint_hillshade["hillshade-accent-color"])})},w4=function(S){function R(Y){S.call(this,Y,_4)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(Fa),Hx=zi([{name:"a_pos",components:2,type:"Int16"}],4).members,Am=Ad,k4=Ad;function Ad(S,R,Y){Y=Y||2;var le,Se,Pe,qe,it,gt,Ot,zt=R&&R.length,Gt=zt?R[0]*Y:S.length,Jt=qx(S,0,Gt,Y,!0),Xt=[];if(!Jt||Jt.next===Jt.prev)return Xt;if(zt&&(Jt=function(Mn,Un,jn,Zn){var Kn,ar,ur,hr=[];for(Kn=0,ar=Un.length;Kn<ar;Kn++)(ur=qx(Mn,Un[Kn]*Zn,Kn<ar-1?Un[Kn+1]*Zn:Mn.length,Zn,!1))===ur.next&&(ur.steiner=!0),hr.push(O4(ur));for(hr.sort(E4),Kn=0;Kn<hr.length;Kn++)C4(hr[Kn],jn),jn=rc(jn,jn.next);return jn}(S,R,Jt,Y)),S.length>80*Y){le=Pe=S[0],Se=qe=S[1];for(var hn=Y;hn<Gt;hn+=Y)(it=S[hn])<le&&(le=it),(gt=S[hn+1])<Se&&(Se=gt),it>Pe&&(Pe=it),gt>qe&&(qe=gt);Ot=(Ot=Math.max(Pe-le,qe-Se))!==0?1/Ot:0}return Op(Jt,Xt,Y,le,Se,Ot),Xt}function qx(S,R,Y,le,Se){var Pe,qe;if(Se===Em(S,R,Y,le)>0)for(Pe=R;Pe<Y;Pe+=le)qe=Yx(Pe,S[Pe],S[Pe+1],qe);else for(Pe=Y-le;Pe>=R;Pe-=le)qe=Yx(Pe,S[Pe],S[Pe+1],qe);return qe&&Md(qe,qe.next)&&(Ip(qe),qe=qe.next),qe}function rc(S,R){if(!S)return S;R||(R=S);var Y,le=S;do if(Y=!1,le.steiner||!Md(le,le.next)&&Na(le.prev,le,le.next)!==0)le=le.next;else{if(Ip(le),(le=R=le.prev)===le.next)break;Y=!0}while(Y||le!==R);return R}function Op(S,R,Y,le,Se,Pe,qe){if(S){!qe&&Pe&&function(zt,Gt,Jt,Xt){var hn=zt;do hn.z===null&&(hn.z=Mm(hn.x,hn.y,Gt,Jt,Xt)),hn.prevZ=hn.prev,hn.nextZ=hn.next,hn=hn.next;while(hn!==zt);hn.prevZ.nextZ=null,hn.prevZ=null,function(Mn){var Un,jn,Zn,Kn,ar,ur,hr,Dr,Er=1;do{for(jn=Mn,Mn=null,ar=null,ur=0;jn;){for(ur++,Zn=jn,hr=0,Un=0;Un<Er&&(hr++,Zn=Zn.nextZ);Un++);for(Dr=Er;hr>0||Dr>0&&Zn;)hr!==0&&(Dr===0||!Zn||jn.z<=Zn.z)?(Kn=jn,jn=jn.nextZ,hr--):(Kn=Zn,Zn=Zn.nextZ,Dr--),ar?ar.nextZ=Kn:Mn=Kn,Kn.prevZ=ar,ar=Kn;jn=Zn}ar.nextZ=null,Er*=2}while(ur>1)}(hn)}(S,le,Se,Pe);for(var it,gt,Ot=S;S.prev!==S.next;)if(it=S.prev,gt=S.next,Pe?A4(S,le,Se,Pe):T4(S))R.push(it.i/Y),R.push(S.i/Y),R.push(gt.i/Y),Ip(S),S=gt.next,Ot=gt.next;else if((S=gt)===Ot){qe?qe===1?Op(S=M4(rc(S),R,Y),R,Y,le,Se,Pe,2):qe===2&&S4(S,R,Y,le,Se,Pe):Op(rc(S),R,Y,le,Se,Pe,1);break}}}function T4(S){var R=S.prev,Y=S,le=S.next;if(Na(R,Y,le)>=0)return!1;for(var Se=S.next.next;Se!==S.prev;){if(kf(R.x,R.y,Y.x,Y.y,le.x,le.y,Se.x,Se.y)&&Na(Se.prev,Se,Se.next)>=0)return!1;Se=Se.next}return!0}function A4(S,R,Y,le){var Se=S.prev,Pe=S,qe=S.next;if(Na(Se,Pe,qe)>=0)return!1;for(var it=Se.x<Pe.x?Se.x<qe.x?Se.x:qe.x:Pe.x<qe.x?Pe.x:qe.x,gt=Se.y<Pe.y?Se.y<qe.y?Se.y:qe.y:Pe.y<qe.y?Pe.y:qe.y,Ot=Se.x>Pe.x?Se.x>qe.x?Se.x:qe.x:Pe.x>qe.x?Pe.x:qe.x,zt=Se.y>Pe.y?Se.y>qe.y?Se.y:qe.y:Pe.y>qe.y?Pe.y:qe.y,Gt=Mm(it,gt,R,Y,le),Jt=Mm(Ot,zt,R,Y,le),Xt=S.prevZ,hn=S.nextZ;Xt&&Xt.z>=Gt&&hn&&hn.z<=Jt;){if(Xt!==S.prev&&Xt!==S.next&&kf(Se.x,Se.y,Pe.x,Pe.y,qe.x,qe.y,Xt.x,Xt.y)&&Na(Xt.prev,Xt,Xt.next)>=0||(Xt=Xt.prevZ,hn!==S.prev&&hn!==S.next&&kf(Se.x,Se.y,Pe.x,Pe.y,qe.x,qe.y,hn.x,hn.y)&&Na(hn.prev,hn,hn.next)>=0))return!1;hn=hn.nextZ}for(;Xt&&Xt.z>=Gt;){if(Xt!==S.prev&&Xt!==S.next&&kf(Se.x,Se.y,Pe.x,Pe.y,qe.x,qe.y,Xt.x,Xt.y)&&Na(Xt.prev,Xt,Xt.next)>=0)return!1;Xt=Xt.prevZ}for(;hn&&hn.z<=Jt;){if(hn!==S.prev&&hn!==S.next&&kf(Se.x,Se.y,Pe.x,Pe.y,qe.x,qe.y,hn.x,hn.y)&&Na(hn.prev,hn,hn.next)>=0)return!1;hn=hn.nextZ}return!0}function M4(S,R,Y){var le=S;do{var Se=le.prev,Pe=le.next.next;!Md(Se,Pe)&&Wx(Se,le,le.next,Pe)&&Pp(Se,Pe)&&Pp(Pe,Se)&&(R.push(Se.i/Y),R.push(le.i/Y),R.push(Pe.i/Y),Ip(le),Ip(le.next),le=S=Pe),le=le.next}while(le!==S);return rc(le)}function S4(S,R,Y,le,Se,Pe){var qe=S;do{for(var it=qe.next.next;it!==qe.prev;){if(qe.i!==it.i&&P4(qe,it)){var gt=Gx(qe,it);return qe=rc(qe,qe.next),gt=rc(gt,gt.next),Op(qe,R,Y,le,Se,Pe),void Op(gt,R,Y,le,Se,Pe)}it=it.next}qe=qe.next}while(qe!==S)}function E4(S,R){return S.x-R.x}function C4(S,R){if(R=function(le,Se){var Pe,qe=Se,it=le.x,gt=le.y,Ot=-1/0;do{if(gt<=qe.y&&gt>=qe.next.y&&qe.next.y!==qe.y){var zt=qe.x+(gt-qe.y)*(qe.next.x-qe.x)/(qe.next.y-qe.y);if(zt<=it&&zt>Ot){if(Ot=zt,zt===it){if(gt===qe.y)return qe;if(gt===qe.next.y)return qe.next}Pe=qe.x<qe.next.x?qe:qe.next}}qe=qe.next}while(qe!==Se);if(!Pe)return null;if(it===Ot)return Pe;var Gt,Jt=Pe,Xt=Pe.x,hn=Pe.y,Mn=1/0;qe=Pe;do it>=qe.x&&qe.x>=Xt&&it!==qe.x&&kf(gt<hn?it:Ot,gt,Xt,hn,gt<hn?Ot:it,gt,qe.x,qe.y)&&(Gt=Math.abs(gt-qe.y)/(it-qe.x),Pp(qe,le)&&(Gt<Mn||Gt===Mn&&(qe.x>Pe.x||qe.x===Pe.x&&L4(Pe,qe)))&&(Pe=qe,Mn=Gt)),qe=qe.next;while(qe!==Jt);return Pe}(S,R)){var Y=Gx(R,S);rc(R,R.next),rc(Y,Y.next)}}function L4(S,R){return Na(S.prev,S,R.prev)<0&&Na(R.next,S,S.next)<0}function Mm(S,R,Y,le,Se){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-Y)*Se)|S<<8))|S<<4))|S<<2))|S<<1))|(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-le)*Se)|R<<8))|R<<4))|R<<2))|R<<1))<<1}function O4(S){var R=S,Y=S;do(R.x<Y.x||R.x===Y.x&&R.y<Y.y)&&(Y=R),R=R.next;while(R!==S);return Y}function kf(S,R,Y,le,Se,Pe,qe,it){return(Se-qe)*(R-it)-(S-qe)*(Pe-it)>=0&&(S-qe)*(le-it)-(Y-qe)*(R-it)>=0&&(Y-qe)*(Pe-it)-(Se-qe)*(le-it)>=0}function P4(S,R){return S.next.i!==R.i&&S.prev.i!==R.i&&!function(Y,le){var Se=Y;do{if(Se.i!==Y.i&&Se.next.i!==Y.i&&Se.i!==le.i&&Se.next.i!==le.i&&Wx(Se,Se.next,Y,le))return!0;Se=Se.next}while(Se!==Y);return!1}(S,R)&&(Pp(S,R)&&Pp(R,S)&&function(Y,le){var Se=Y,Pe=!1,qe=(Y.x+le.x)/2,it=(Y.y+le.y)/2;do Se.y>it!=Se.next.y>it&&Se.next.y!==Se.y&&qe<(Se.next.x-Se.x)*(it-Se.y)/(Se.next.y-Se.y)+Se.x&&(Pe=!Pe),Se=Se.next;while(Se!==Y);return Pe}(S,R)&&(Na(S.prev,S,R.prev)||Na(S,R.prev,R))||Md(S,R)&&Na(S.prev,S,S.next)>0&&Na(R.prev,R,R.next)>0)}function Na(S,R,Y){return(R.y-S.y)*(Y.x-R.x)-(R.x-S.x)*(Y.y-R.y)}function Md(S,R){return S.x===R.x&&S.y===R.y}function Wx(S,R,Y,le){var Se=Ed(Na(S,R,Y)),Pe=Ed(Na(S,R,le)),qe=Ed(Na(Y,le,S)),it=Ed(Na(Y,le,R));return Se!==Pe&&qe!==it||!(Se!==0||!Sd(S,Y,R))||!(Pe!==0||!Sd(S,le,R))||!(qe!==0||!Sd(Y,S,le))||!(it!==0||!Sd(Y,R,le))}function Sd(S,R,Y){return R.x<=Math.max(S.x,Y.x)&&R.x>=Math.min(S.x,Y.x)&&R.y<=Math.max(S.y,Y.y)&&R.y>=Math.min(S.y,Y.y)}function Ed(S){return S>0?1:S<0?-1:0}function Pp(S,R){return Na(S.prev,S,S.next)<0?Na(S,R,S.next)>=0&&Na(S,S.prev,R)>=0:Na(S,R,S.prev)<0||Na(S,S.next,R)<0}function Gx(S,R){var Y=new Sm(S.i,S.x,S.y),le=new Sm(R.i,R.x,R.y),Se=S.next,Pe=R.prev;return S.next=R,R.prev=S,Y.next=Se,Se.prev=Y,le.next=Y,Y.prev=le,Pe.next=le,le.prev=Pe,le}function Yx(S,R,Y,le){var Se=new Sm(S,R,Y);return le?(Se.next=le.next,Se.prev=le,le.next.prev=Se,le.next=Se):(Se.prev=Se,Se.next=Se),Se}function Ip(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function Sm(S,R,Y){this.i=S,this.x=R,this.y=Y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Em(S,R,Y,le){for(var Se=0,Pe=R,qe=Y-le;Pe<Y;Pe+=le)Se+=(S[qe]-S[Pe])*(S[Pe+1]+S[qe+1]),qe=Pe;return Se}function I4(S,R,Y,le,Se){Zx(S,R,Y||0,le||S.length-1,Se||D4)}function Zx(S,R,Y,le,Se){for(;le>Y;){if(le-Y>600){var Pe=le-Y+1,qe=R-Y+1,it=Math.log(Pe),gt=.5*Math.exp(2*it/3),Ot=.5*Math.sqrt(it*gt*(Pe-gt)/Pe)*(qe-Pe/2<0?-1:1);Zx(S,R,Math.max(Y,Math.floor(R-qe*gt/Pe+Ot)),Math.min(le,Math.floor(R+(Pe-qe)*gt/Pe+Ot)),Se)}var zt=S[R],Gt=Y,Jt=le;for(Dp(S,Y,R),Se(S[le],zt)>0&&Dp(S,Y,le);Gt<Jt;){for(Dp(S,Gt,Jt),Gt++,Jt--;Se(S[Gt],zt)<0;)Gt++;for(;Se(S[Jt],zt)>0;)Jt--}Se(S[Y],zt)===0?Dp(S,Y,Jt):Dp(S,++Jt,le),Jt<=R&&(Y=Jt+1),R<=Jt&&(le=Jt-1)}}function Dp(S,R,Y){var le=S[R];S[R]=S[Y],S[Y]=le}function D4(S,R){return S<R?-1:S>R?1:0}function Cm(S,R){var Y=S.length;if(Y<=1)return[S];for(var le,Se,Pe=[],qe=0;qe<Y;qe++){var it=C(S[qe]);it!==0&&(S[qe].area=Math.abs(it),Se===void 0&&(Se=it<0),Se===it<0?(le&&Pe.push(le),le=[S[qe]]):le.push(S[qe]))}if(le&&Pe.push(le),R>1)for(var gt=0;gt<Pe.length;gt++)Pe[gt].length<=R||(I4(Pe[gt],R,1,Pe[gt].length-1,R4),Pe[gt]=Pe[gt].slice(0,R));return Pe}function R4(S,R){return R.area-S.area}function Lm(S,R,Y){for(var le=Y.patternDependencies,Se=!1,Pe=0,qe=R;Pe<qe.length;Pe+=1){var it=qe[Pe].paint.get(S+"-pattern");it.isConstant()||(Se=!0);var gt=it.constantOr(null);gt&&(Se=!0,le[gt.to]=!0,le[gt.from]=!0)}return Se}function Om(S,R,Y,le,Se){for(var Pe=Se.patternDependencies,qe=0,it=R;qe<it.length;qe+=1){var gt=it[qe],Ot=gt.paint.get(S+"-pattern").value;if(Ot.kind!=="constant"){var zt=Ot.evaluate({zoom:le-1},Y,{},Se.availableImages),Gt=Ot.evaluate({zoom:le},Y,{},Se.availableImages),Jt=Ot.evaluate({zoom:le+1},Y,{},Se.availableImages);zt=zt&&zt.name?zt.name:zt,Gt=Gt&&Gt.name?Gt.name:Gt,Jt=Jt&&Jt.name?Jt.name:Jt,Pe[zt]=!0,Pe[Gt]=!0,Pe[Jt]=!0,Y.patterns[gt.id]={min:zt,mid:Gt,max:Jt}}}return Y}Ad.deviation=function(S,R,Y,le){var Se=R&&R.length,Pe=Se?R[0]*Y:S.length,qe=Math.abs(Em(S,0,Pe,Y));if(Se)for(var it=0,gt=R.length;it<gt;it++){var Ot=R[it]*Y,zt=it<gt-1?R[it+1]*Y:S.length;qe-=Math.abs(Em(S,Ot,zt,Y))}var Gt=0;for(it=0;it<le.length;it+=3){var Jt=le[it]*Y,Xt=le[it+1]*Y,hn=le[it+2]*Y;Gt+=Math.abs((S[Jt]-S[hn])*(S[Xt+1]-S[Jt+1])-(S[Jt]-S[Xt])*(S[hn+1]-S[Jt+1]))}return qe===0&&Gt===0?0:Math.abs((Gt-qe)/qe)},Ad.flatten=function(S){for(var R=S[0][0].length,Y={vertices:[],holes:[],dimensions:R},le=0,Se=0;Se<S.length;Se++){for(var Pe=0;Pe<S[Se].length;Pe++)for(var qe=0;qe<R;qe++)Y.vertices.push(S[Se][Pe][qe]);Se>0&&(le+=S[Se-1].length,Y.holes.push(le))}return Y},Am.default=k4;var lu=function(S){this.zoom=S.zoom,this.overscaling=S.overscaling,this.layers=S.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=S.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new et,this.indexArray=new He,this.indexArray2=new de,this.programConfigurations=new _t(Hx,S.layers,S.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};lu.prototype.populate=function(S,R,Y){this.hasPattern=Lm("fill",this.layers,R);for(var le=this.layers[0].layout.get("fill-sort-key"),Se=[],Pe=0,qe=S;Pe<qe.length;Pe+=1){var it=qe[Pe],gt=it.feature,Ot=it.id,zt=it.index,Gt=it.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,Xt={type:gt.type,id:Ot,properties:gt.properties,geometry:Jt?Yr(gt):[]};if(this.layers[0]._featureFilter.filter(new Ti(this.zoom),Xt,Y)){Jt||(Xt.geometry=Yr(gt));var hn=le?le.evaluate(Xt,{},Y,R.availableImages):void 0,Mn={id:Ot,properties:gt.properties,type:gt.type,sourceLayerIndex:Gt,index:zt,geometry:Xt.geometry,patterns:{},sortKey:hn};Se.push(Mn)}}le&&Se.sort(function(Nr,Hr){return Nr.sortKey-Hr.sortKey});for(var Un=0,jn=Se;Un<jn.length;Un+=1){var Zn=jn[Un],Kn=Zn,ar=Kn.geometry,ur=Kn.index,hr=Kn.sourceLayerIndex;if(this.hasPattern){var Dr=Om("fill",this.layers,Zn,this.zoom,R);this.patternFeatures.push(Dr)}else this.addFeature(Zn,ar,ur,Y,{});var Er=S[ur].feature;R.featureIndex.insert(Er,ar,ur,hr,this.index)}},lu.prototype.update=function(S,R,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(S,R,this.stateDependentLayers,Y)},lu.prototype.addFeatures=function(S,R,Y){for(var le=0,Se=this.patternFeatures;le<Se.length;le+=1){var Pe=Se[le];this.addFeature(Pe,Pe.geometry,Pe.index,R,Y)}},lu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},lu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},lu.prototype.upload=function(S){this.uploaded||(this.layoutVertexBuffer=S.createVertexBuffer(this.layoutVertexArray,Hx),this.indexBuffer=S.createIndexBuffer(this.indexArray),this.indexBuffer2=S.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(S),this.uploaded=!0},lu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},lu.prototype.addFeature=function(S,R,Y,le,Se){for(var Pe=0,qe=Cm(R,500);Pe<qe.length;Pe+=1){for(var it=qe[Pe],gt=0,Ot=0,zt=it;Ot<zt.length;Ot+=1)gt+=zt[Ot].length;for(var Gt=this.segments.prepareSegment(gt,this.layoutVertexArray,this.indexArray),Jt=Gt.vertexLength,Xt=[],hn=[],Mn=0,Un=it;Mn<Un.length;Mn+=1){var jn=Un[Mn];if(jn.length!==0){jn!==it[0]&&hn.push(Xt.length/2);var Zn=this.segments2.prepareSegment(jn.length,this.layoutVertexArray,this.indexArray2),Kn=Zn.vertexLength;this.layoutVertexArray.emplaceBack(jn[0].x,jn[0].y),this.indexArray2.emplaceBack(Kn+jn.length-1,Kn),Xt.push(jn[0].x),Xt.push(jn[0].y);for(var ar=1;ar<jn.length;ar++)this.layoutVertexArray.emplaceBack(jn[ar].x,jn[ar].y),this.indexArray2.emplaceBack(Kn+ar-1,Kn+ar),Xt.push(jn[ar].x),Xt.push(jn[ar].y);Zn.vertexLength+=jn.length,Zn.primitiveLength+=jn.length}}for(var ur=Am(Xt,hn),hr=0;hr<ur.length;hr+=3)this.indexArray.emplaceBack(Jt+ur[hr],Jt+ur[hr+1],Jt+ur[hr+2]);Gt.vertexLength+=gt,Gt.primitiveLength+=ur.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,S,Y,Se,le)},Ir("FillBucket",lu,{omit:["layers","patternFeatures"]});var z4=new ya({"fill-sort-key":new Zr(Oe.layout_fill["fill-sort-key"])}),F4={paint:new ya({"fill-antialias":new Br(Oe.paint_fill["fill-antialias"]),"fill-opacity":new Zr(Oe.paint_fill["fill-opacity"]),"fill-color":new Zr(Oe.paint_fill["fill-color"]),"fill-outline-color":new Zr(Oe.paint_fill["fill-outline-color"]),"fill-translate":new Br(Oe.paint_fill["fill-translate"]),"fill-translate-anchor":new Br(Oe.paint_fill["fill-translate-anchor"]),"fill-pattern":new ll(Oe.paint_fill["fill-pattern"])}),layout:z4},N4=function(S){function R(Y){S.call(this,Y,F4)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(Y,le){S.prototype.recalculate.call(this,Y,le);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(Y){return new lu(Y)},R.prototype.queryRadius=function(){return _d(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(Y,le,Se,Pe,qe,it,gt){return _u(wd(Y,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),it.angle,gt),Pe)},R.prototype.isTileClipped=function(){return!0},R}(Fa),Xx=zi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Jx=Tf;function Tf(S,R,Y,le,Se){this.properties={},this.extent=Y,this.type=0,this._pbf=S,this._geometry=-1,this._keys=le,this._values=Se,S.readFields(B4,this,R)}function B4(S,R,Y){S==1?R.id=Y.readVarint():S==2?function(le,Se){for(var Pe=le.readVarint()+le.pos;le.pos<Pe;){var qe=Se._keys[le.readVarint()],it=Se._values[le.readVarint()];Se.properties[qe]=it}}(Y,R):S==3?R.type=Y.readVarint():S==4&&(R._geometry=Y.pos)}function j4(S){for(var R,Y,le=0,Se=0,Pe=S.length,qe=Pe-1;Se<Pe;qe=Se++)R=S[Se],le+=((Y=S[qe]).x-R.x)*(R.y+Y.y);return le}Tf.types=["Unknown","Point","LineString","Polygon"],Tf.prototype.loadGeometry=function(){var S=this._pbf;S.pos=this._geometry;for(var R,Y=S.readVarint()+S.pos,le=1,Se=0,Pe=0,qe=0,it=[];S.pos<Y;){if(Se<=0){var gt=S.readVarint();le=7&gt,Se=gt>>3}if(Se--,le===1||le===2)Pe+=S.readSVarint(),qe+=S.readSVarint(),le===1&&(R&&it.push(R),R=[]),R.push(new t(Pe,qe));else{if(le!==7)throw new Error("unknown command "+le);R&&R.push(R[0].clone())}}return R&&it.push(R),it},Tf.prototype.bbox=function(){var S=this._pbf;S.pos=this._geometry;for(var R=S.readVarint()+S.pos,Y=1,le=0,Se=0,Pe=0,qe=1/0,it=-1/0,gt=1/0,Ot=-1/0;S.pos<R;){if(le<=0){var zt=S.readVarint();Y=7&zt,le=zt>>3}if(le--,Y===1||Y===2)(Se+=S.readSVarint())<qe&&(qe=Se),Se>it&&(it=Se),(Pe+=S.readSVarint())<gt&&(gt=Pe),Pe>Ot&&(Ot=Pe);else if(Y!==7)throw new Error("unknown command "+Y)}return[qe,gt,it,Ot]},Tf.prototype.toGeoJSON=function(S,R,Y){var le,Se,Pe=this.extent*Math.pow(2,Y),qe=this.extent*S,it=this.extent*R,gt=this.loadGeometry(),Ot=Tf.types[this.type];function zt(Xt){for(var hn=0;hn<Xt.length;hn++){var Mn=Xt[hn],Un=180-360*(Mn.y+it)/Pe;Xt[hn]=[360*(Mn.x+qe)/Pe-180,360/Math.PI*Math.atan(Math.exp(Un*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(le=0;le<gt.length;le++)Gt[le]=gt[le][0];zt(gt=Gt);break;case 2:for(le=0;le<gt.length;le++)zt(gt[le]);break;case 3:for(gt=function(Xt){var hn=Xt.length;if(hn<=1)return[Xt];for(var Mn,Un,jn=[],Zn=0;Zn<hn;Zn++){var Kn=j4(Xt[Zn]);Kn!==0&&(Un===void 0&&(Un=Kn<0),Un===Kn<0?(Mn&&jn.push(Mn),Mn=[Xt[Zn]]):Mn.push(Xt[Zn]))}return Mn&&jn.push(Mn),jn}(gt),le=0;le<gt.length;le++)for(Se=0;Se<gt[le].length;Se++)zt(gt[le][Se])}gt.length===1?gt=gt[0]:Ot="Multi"+Ot;var Jt={type:"Feature",geometry:{type:Ot,coordinates:gt},properties:this.properties};return"id"in this&&(Jt.id=this.id),Jt};var Kx=$x;function $x(S,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=S,this._keys=[],this._values=[],this._features=[],S.readFields(U4,this,R),this.length=this._features.length}function U4(S,R,Y){S===15?R.version=Y.readVarint():S===1?R.name=Y.readString():S===5?R.extent=Y.readVarint():S===2?R._features.push(Y.pos):S===3?R._keys.push(Y.readString()):S===4&&R._values.push(function(le){for(var Se=null,Pe=le.readVarint()+le.pos;le.pos<Pe;){var qe=le.readVarint()>>3;Se=qe===1?le.readString():qe===2?le.readFloat():qe===3?le.readDouble():qe===4?le.readVarint64():qe===5?le.readVarint():qe===6?le.readSVarint():qe===7?le.readBoolean():null}return Se}(Y))}function V4(S,R,Y){if(S===3){var le=new Kx(Y,Y.readVarint()+Y.pos);le.length&&(R[le.name]=le)}}$x.prototype.feature=function(S){if(S<0||S>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[S];var R=this._pbf.readVarint()+this._pbf.pos;return new Jx(this._pbf,R,this.extent,this._keys,this._values)};var Af={VectorTile:function(S,R){this.layers=S.readFields(V4,{},R)},VectorTileFeature:Jx,VectorTileLayer:Kx},H4=Af.VectorTileFeature.types,Pm=Math.pow(2,13);function Rp(S,R,Y,le,Se,Pe,qe,it){S.emplaceBack(R,Y,2*Math.floor(le*Pm)+qe,Se*Pm*2,Pe*Pm*2,Math.round(it))}var uu=function(S){this.zoom=S.zoom,this.overscaling=S.overscaling,this.layers=S.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=S.index,this.hasPattern=!1,this.layoutVertexArray=new ft,this.indexArray=new He,this.programConfigurations=new _t(Xx,S.layers,S.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};function q4(S,R){return S.x===R.x&&(S.x<0||S.x>Cn)||S.y===R.y&&(S.y<0||S.y>Cn)}uu.prototype.populate=function(S,R,Y){this.features=[],this.hasPattern=Lm("fill-extrusion",this.layers,R);for(var le=0,Se=S;le<Se.length;le+=1){var Pe=Se[le],qe=Pe.feature,it=Pe.id,gt=Pe.index,Ot=Pe.sourceLayerIndex,zt=this.layers[0]._featureFilter.needGeometry,Gt={type:qe.type,id:it,properties:qe.properties,geometry:zt?Yr(qe):[]};if(this.layers[0]._featureFilter.filter(new Ti(this.zoom),Gt,Y)){var Jt={id:it,sourceLayerIndex:Ot,index:gt,geometry:zt?Gt.geometry:Yr(qe),properties:qe.properties,type:qe.type,patterns:{}};qe.id!==void 0&&(Jt.id=qe.id),this.hasPattern?this.features.push(Om("fill-extrusion",this.layers,Jt,this.zoom,R)):this.addFeature(Jt,Jt.geometry,gt,Y,{}),R.featureIndex.insert(qe,Jt.geometry,gt,Ot,this.index,!0)}}},uu.prototype.addFeatures=function(S,R,Y){for(var le=0,Se=this.features;le<Se.length;le+=1){var Pe=Se[le],qe=Pe.geometry;this.addFeature(Pe,qe,Pe.index,R,Y)}},uu.prototype.update=function(S,R,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(S,R,this.stateDependentLayers,Y)},uu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},uu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uu.prototype.upload=function(S){this.uploaded||(this.layoutVertexBuffer=S.createVertexBuffer(this.layoutVertexArray,Xx),this.indexBuffer=S.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(S),this.uploaded=!0},uu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},uu.prototype.addFeature=function(S,R,Y,le,Se){for(var Pe=0,qe=Cm(R,500);Pe<qe.length;Pe+=1){for(var it=qe[Pe],gt=0,Ot=0,zt=it;Ot<zt.length;Ot+=1)gt+=zt[Ot].length;for(var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Jt=0,Xt=it;Jt<Xt.length;Jt+=1){var hn=Xt[Jt];if(hn.length!==0&&!((_i=hn).every(function(si){return si.x<0})||_i.every(function(si){return si.x>Cn})||_i.every(function(si){return si.y<0})||_i.every(function(si){return si.y>Cn})))for(var Mn=0,Un=0;Un<hn.length;Un++){var jn=hn[Un];if(Un>=1){var Zn=hn[Un-1];if(!q4(jn,Zn)){Gt.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Kn=jn.sub(Zn)._perp()._unit(),ar=Zn.dist(jn);Mn+ar>32768&&(Mn=0),Rp(this.layoutVertexArray,jn.x,jn.y,Kn.x,Kn.y,0,0,Mn),Rp(this.layoutVertexArray,jn.x,jn.y,Kn.x,Kn.y,0,1,Mn),Mn+=ar,Rp(this.layoutVertexArray,Zn.x,Zn.y,Kn.x,Kn.y,0,0,Mn),Rp(this.layoutVertexArray,Zn.x,Zn.y,Kn.x,Kn.y,0,1,Mn);var ur=Gt.vertexLength;this.indexArray.emplaceBack(ur,ur+2,ur+1),this.indexArray.emplaceBack(ur+1,ur+2,ur+3),Gt.vertexLength+=4,Gt.primitiveLength+=2}}}}if(Gt.vertexLength+gt>cn.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(gt,this.layoutVertexArray,this.indexArray)),H4[S.type]==="Polygon"){for(var hr=[],Dr=[],Er=Gt.vertexLength,Nr=0,Hr=it;Nr<Hr.length;Nr+=1){var oi=Hr[Nr];if(oi.length!==0){oi!==it[0]&&Dr.push(hr.length/2);for(var Wr=0;Wr<oi.length;Wr++){var ri=oi[Wr];Rp(this.layoutVertexArray,ri.x,ri.y,0,0,1,1,0),hr.push(ri.x),hr.push(ri.y)}}}for(var Jr=Am(hr,Dr),qr=0;qr<Jr.length;qr+=3)this.indexArray.emplaceBack(Er+Jr[qr],Er+Jr[qr+2],Er+Jr[qr+1]);Gt.primitiveLength+=Jr.length/3,Gt.vertexLength+=gt}}var _i;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,S,Y,Se,le)},Ir("FillExtrusionBucket",uu,{omit:["layers","features"]});var W4={paint:new ya({"fill-extrusion-opacity":new Br(Oe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Zr(Oe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Br(Oe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Br(Oe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ll(Oe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Zr(Oe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Zr(Oe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Br(Oe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},G4=function(S){function R(Y){S.call(this,Y,W4)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(Y){return new uu(Y)},R.prototype.queryRadius=function(){return _d(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(Y,le,Se,Pe,qe,it,gt,Ot){var zt=wd(Y,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),it.angle,gt),Gt=this.paint.get("fill-extrusion-height").evaluate(le,Se),Jt=this.paint.get("fill-extrusion-base").evaluate(le,Se),Xt=function(Mn,Un,jn,Zn){for(var Kn=[],ar=0,ur=Mn;ar<ur.length;ar+=1){var hr=ur[ar],Dr=[hr.x,hr.y,Zn,1];Td(Dr,Dr,Un),Kn.push(new t(Dr[0]/Dr[3],Dr[1]/Dr[3]))}return Kn}(zt,Ot,0,0),hn=function(Mn,Un,jn,Zn){for(var Kn=[],ar=[],ur=Zn[8]*Un,hr=Zn[9]*Un,Dr=Zn[10]*Un,Er=Zn[11]*Un,Nr=Zn[8]*jn,Hr=Zn[9]*jn,oi=Zn[10]*jn,Wr=Zn[11]*jn,ri=0,Jr=Mn;ri<Jr.length;ri+=1){for(var qr=[],_i=[],si=0,Gi=Jr[ri];si<Gi.length;si+=1){var ei=Gi[si],Vi=ei.x,Ki=ei.y,ta=Zn[0]*Vi+Zn[4]*Ki+Zn[12],sa=Zn[1]*Vi+Zn[5]*Ki+Zn[13],Yi=Zn[2]*Vi+Zn[6]*Ki+Zn[14],Ua=Zn[3]*Vi+Zn[7]*Ki+Zn[15],da=Yi+Dr,io=Ua+Er,Po=ta+Nr,bo=sa+Hr,ts=Yi+oi,_o=Ua+Wr,Ga=new t((ta+ur)/io,(sa+hr)/io);Ga.z=da/io,qr.push(Ga);var wo=new t(Po/_o,bo/_o);wo.z=ts/_o,_i.push(wo)}Kn.push(qr),ar.push(_i)}return[Kn,ar]}(Pe,Jt,Gt,Ot);return function(Mn,Un,jn){var Zn=1/0;_u(jn,Un)&&(Zn=Qx(jn,Un[0]));for(var Kn=0;Kn<Un.length;Kn++)for(var ar=Un[Kn],ur=Mn[Kn],hr=0;hr<ar.length-1;hr++){var Dr=ar[hr],Er=ar[hr+1],Nr=ur[hr],Hr=[Dr,Er,ur[hr+1],Nr,Dr];Fi(jn,Hr)&&(Zn=Math.min(Zn,Qx(jn,Hr)))}return Zn!==1/0&&Zn}(hn[0],hn[1],Xt)},R}(Fa);function zp(S,R){return S.x*R.x+S.y*R.y}function Qx(S,R){if(S.length===1){for(var Y,le=0,Se=R[le++];!Y||Se.equals(Y);)if(!(Y=R[le++]))return 1/0;for(;le<R.length;le++){var Pe=R[le],qe=S[0],it=Y.sub(Se),gt=Pe.sub(Se),Ot=qe.sub(Se),zt=zp(it,it),Gt=zp(it,gt),Jt=zp(gt,gt),Xt=zp(Ot,it),hn=zp(Ot,gt),Mn=zt*Jt-Gt*Gt,Un=(Jt*Xt-Gt*hn)/Mn,jn=(zt*hn-Gt*Xt)/Mn,Zn=1-Un-jn,Kn=Se.z*Zn+Y.z*Un+Pe.z*jn;if(isFinite(Kn))return Kn}return 1/0}for(var ar=1/0,ur=0,hr=R;ur<hr.length;ur+=1){var Dr=hr[ur];ar=Math.min(ar,Dr.z)}return ar}var e2=zi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Y4=Af.VectorTileFeature.types,Z4=Math.cos(Math.PI/180*37.5),t2=Math.pow(2,14)/.5,ks=function(S){this.zoom=S.zoom,this.overscaling=S.overscaling,this.layers=S.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=S.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new vt,this.indexArray=new He,this.programConfigurations=new _t(e2,S.layers,S.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};ks.prototype.populate=function(S,R,Y){this.hasPattern=Lm("line",this.layers,R);for(var le=this.layers[0].layout.get("line-sort-key"),Se=[],Pe=0,qe=S;Pe<qe.length;Pe+=1){var it=qe[Pe],gt=it.feature,Ot=it.id,zt=it.index,Gt=it.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,Xt={type:gt.type,id:Ot,properties:gt.properties,geometry:Jt?Yr(gt):[]};if(this.layers[0]._featureFilter.filter(new Ti(this.zoom),Xt,Y)){Jt||(Xt.geometry=Yr(gt));var hn=le?le.evaluate(Xt,{},Y):void 0,Mn={id:Ot,properties:gt.properties,type:gt.type,sourceLayerIndex:Gt,index:zt,geometry:Xt.geometry,patterns:{},sortKey:hn};Se.push(Mn)}}le&&Se.sort(function(Nr,Hr){return Nr.sortKey-Hr.sortKey});for(var Un=0,jn=Se;Un<jn.length;Un+=1){var Zn=jn[Un],Kn=Zn,ar=Kn.geometry,ur=Kn.index,hr=Kn.sourceLayerIndex;if(this.hasPattern){var Dr=Om("line",this.layers,Zn,this.zoom,R);this.patternFeatures.push(Dr)}else this.addFeature(Zn,ar,ur,Y,{});var Er=S[ur].feature;R.featureIndex.insert(Er,ar,ur,hr,this.index)}},ks.prototype.update=function(S,R,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(S,R,this.stateDependentLayers,Y)},ks.prototype.addFeatures=function(S,R,Y){for(var le=0,Se=this.patternFeatures;le<Se.length;le+=1){var Pe=Se[le];this.addFeature(Pe,Pe.geometry,Pe.index,R,Y)}},ks.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ks.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ks.prototype.upload=function(S){this.uploaded||(this.layoutVertexBuffer=S.createVertexBuffer(this.layoutVertexArray,e2),this.indexBuffer=S.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(S),this.uploaded=!0},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ks.prototype.addFeature=function(S,R,Y,le,Se){for(var Pe=this.layers[0].layout,qe=Pe.get("line-join").evaluate(S,{}),it=Pe.get("line-cap"),gt=Pe.get("line-miter-limit"),Ot=Pe.get("line-round-limit"),zt=0,Gt=R;zt<Gt.length;zt+=1){var Jt=Gt[zt];this.addLine(Jt,S,qe,it,gt,Ot)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,S,Y,Se,le)},ks.prototype.addLine=function(S,R,Y,le,Se,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,R.properties&&R.properties.hasOwnProperty("mapbox_clip_start")&&R.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+R.properties.mapbox_clip_start,this.clipEnd=+R.properties.mapbox_clip_end;for(var qe=0;qe<S.length-1;qe++)this.totalDistance+=S[qe].dist(S[qe+1]);this.updateScaledDistance()}for(var it=Y4[R.type]==="Polygon",gt=S.length;gt>=2&&S[gt-1].equals(S[gt-2]);)gt--;for(var Ot=0;Ot<gt-1&&S[Ot].equals(S[Ot+1]);)Ot++;if(!(gt<(it?3:2))){Y==="bevel"&&(Se=1.05);var zt,Gt=this.overscaling<=16?122880/(512*this.overscaling):0,Jt=this.segments.prepareSegment(10*gt,this.layoutVertexArray,this.indexArray),Xt=void 0,hn=void 0,Mn=void 0,Un=void 0;this.e1=this.e2=-1,it&&(zt=S[gt-2],Un=S[Ot].sub(zt)._unit()._perp());for(var jn=Ot;jn<gt;jn++)if(!(hn=jn===gt-1?it?S[Ot+1]:void 0:S[jn+1])||!S[jn].equals(hn)){Un&&(Mn=Un),zt&&(Xt=zt),zt=S[jn],Un=hn?hn.sub(zt)._unit()._perp():Mn;var Zn=(Mn=Mn||Un).add(Un);Zn.x===0&&Zn.y===0||Zn._unit();var Kn=Mn.x*Un.x+Mn.y*Un.y,ar=Zn.x*Un.x+Zn.y*Un.y,ur=ar!==0?1/ar:1/0,hr=2*Math.sqrt(2-2*ar),Dr=ar<Z4&&Xt&&hn,Er=Mn.x*Un.y-Mn.y*Un.x>0;if(Dr&&jn>Ot){var Nr=zt.dist(Xt);if(Nr>2*Gt){var Hr=zt.sub(zt.sub(Xt)._mult(Gt/Nr)._round());this.updateDistance(Xt,Hr),this.addCurrentVertex(Hr,Mn,0,0,Jt),Xt=Hr}}var oi=Xt&&hn,Wr=oi?Y:it?"butt":le;if(oi&&Wr==="round"&&(ur<Pe?Wr="miter":ur<=2&&(Wr="fakeround")),Wr==="miter"&&ur>Se&&(Wr="bevel"),Wr==="bevel"&&(ur>2&&(Wr="flipbevel"),ur<Se&&(Wr="miter")),Xt&&this.updateDistance(Xt,zt),Wr==="miter")Zn._mult(ur),this.addCurrentVertex(zt,Zn,0,0,Jt);else if(Wr==="flipbevel"){if(ur>100)Zn=Un.mult(-1);else{var ri=ur*Mn.add(Un).mag()/Mn.sub(Un).mag();Zn._perp()._mult(ri*(Er?-1:1))}this.addCurrentVertex(zt,Zn,0,0,Jt),this.addCurrentVertex(zt,Zn.mult(-1),0,0,Jt)}else if(Wr==="bevel"||Wr==="fakeround"){var Jr=-Math.sqrt(ur*ur-1),qr=Er?Jr:0,_i=Er?0:Jr;if(Xt&&this.addCurrentVertex(zt,Mn,qr,_i,Jt),Wr==="fakeround")for(var si=Math.round(180*hr/Math.PI/20),Gi=1;Gi<si;Gi++){var ei=Gi/si;if(ei!==.5){var Vi=ei-.5;ei+=ei*Vi*(ei-1)*((1.0904+Kn*(Kn*(3.55645-1.43519*Kn)-3.2452))*Vi*Vi+(.848013+Kn*(.215638*Kn-1.06021)))}var Ki=Un.sub(Mn)._mult(ei)._add(Mn)._unit()._mult(Er?-1:1);this.addHalfVertex(zt,Ki.x,Ki.y,!1,Er,0,Jt)}hn&&this.addCurrentVertex(zt,Un,-qr,-_i,Jt)}else if(Wr==="butt")this.addCurrentVertex(zt,Zn,0,0,Jt);else if(Wr==="square"){var ta=Xt?1:-1;this.addCurrentVertex(zt,Zn,ta,ta,Jt)}else Wr==="round"&&(Xt&&(this.addCurrentVertex(zt,Mn,0,0,Jt),this.addCurrentVertex(zt,Mn,1,1,Jt,!0)),hn&&(this.addCurrentVertex(zt,Un,-1,-1,Jt,!0),this.addCurrentVertex(zt,Un,0,0,Jt)));if(Dr&&jn<gt-1){var sa=zt.dist(hn);if(sa>2*Gt){var Yi=zt.add(hn.sub(zt)._mult(Gt/sa)._round());this.updateDistance(zt,Yi),this.addCurrentVertex(Yi,Un,0,0,Jt),zt=Yi}}}}},ks.prototype.addCurrentVertex=function(S,R,Y,le,Se,Pe){Pe===void 0&&(Pe=!1);var qe=R.x+R.y*Y,it=R.y-R.x*Y,gt=-R.x+R.y*le,Ot=-R.y-R.x*le;this.addHalfVertex(S,qe,it,Pe,!1,Y,Se),this.addHalfVertex(S,gt,Ot,Pe,!0,-le,Se),this.distance>t2/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(S,R,Y,le,Se,Pe))},ks.prototype.addHalfVertex=function(S,R,Y,le,Se,Pe,qe){var it=S.x,gt=S.y,Ot=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((it<<1)+(le?1:0),(gt<<1)+(Se?1:0),Math.round(63*R)+128,Math.round(63*Y)+128,1+(Pe===0?0:Pe<0?-1:1)|(63&Ot)<<2,Ot>>6);var zt=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,zt),qe.primitiveLength++),Se?this.e2=zt:this.e1=zt},ks.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(t2-1):this.distance},ks.prototype.updateDistance=function(S,R){this.distance+=S.dist(R),this.updateScaledDistance()},Ir("LineBucket",ks,{omit:["layers","patternFeatures"]});var X4=new ya({"line-cap":new Br(Oe.layout_line["line-cap"]),"line-join":new Zr(Oe.layout_line["line-join"]),"line-miter-limit":new Br(Oe.layout_line["line-miter-limit"]),"line-round-limit":new Br(Oe.layout_line["line-round-limit"]),"line-sort-key":new Zr(Oe.layout_line["line-sort-key"])}),n2={paint:new ya({"line-opacity":new Zr(Oe.paint_line["line-opacity"]),"line-color":new Zr(Oe.paint_line["line-color"]),"line-translate":new Br(Oe.paint_line["line-translate"]),"line-translate-anchor":new Br(Oe.paint_line["line-translate-anchor"]),"line-width":new Zr(Oe.paint_line["line-width"]),"line-gap-width":new Zr(Oe.paint_line["line-gap-width"]),"line-offset":new Zr(Oe.paint_line["line-offset"]),"line-blur":new Zr(Oe.paint_line["line-blur"]),"line-dasharray":new Qo(Oe.paint_line["line-dasharray"]),"line-pattern":new ll(Oe.paint_line["line-pattern"]),"line-gradient":new Co(Oe.paint_line["line-gradient"])}),layout:X4},J4=function(S){function R(){S.apply(this,arguments)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(Y,le){return le=new Ti(Math.floor(le.zoom),{now:le.now,fadeDuration:le.fadeDuration,zoomHistory:le.zoomHistory,transition:le.transition}),S.prototype.possiblyEvaluate.call(this,Y,le)},R.prototype.evaluate=function(Y,le,Se,Pe){return le=u({},le,{zoom:Math.floor(le.zoom)}),S.prototype.evaluate.call(this,Y,le,Se,Pe)},R}(Zr),r2=new J4(n2.paint.properties["line-width"].specification);r2.useIntegerZoom=!0;var K4=function(S){function R(Y){S.call(this,Y,n2)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(Y){Y==="line-gradient"&&this._updateGradient()},R.prototype._updateGradient=function(){var Y=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Vx(Y,"lineProgress"),this.gradientTexture=null},R.prototype.recalculate=function(Y,le){S.prototype.recalculate.call(this,Y,le),this.paint._values["line-floorwidth"]=r2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Y)},R.prototype.createBucket=function(Y){return new ks(Y)},R.prototype.queryRadius=function(Y){var le=Y,Se=i2(Bu("line-width",this,le),Bu("line-gap-width",this,le)),Pe=Bu("line-offset",this,le);return Se/2+Math.abs(Pe)+_d(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(Y,le,Se,Pe,qe,it,gt){var Ot=wd(Y,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),it.angle,gt),zt=gt/2*i2(this.paint.get("line-width").evaluate(le,Se),this.paint.get("line-gap-width").evaluate(le,Se)),Gt=this.paint.get("line-offset").evaluate(le,Se);return Gt&&(Pe=function(Jt,Xt){for(var hn=[],Mn=new t(0,0),Un=0;Un<Jt.length;Un++){for(var jn=Jt[Un],Zn=[],Kn=0;Kn<jn.length;Kn++){var ar=jn[Kn-1],ur=jn[Kn],hr=jn[Kn+1],Dr=Kn===0?Mn:ur.sub(ar)._unit()._perp(),Er=Kn===jn.length-1?Mn:hr.sub(ur)._unit()._perp(),Nr=Dr._add(Er)._unit(),Hr=Nr.x*Er.x+Nr.y*Er.y;Nr._mult(1/Hr),Zn.push(Nr._mult(Xt)._add(ur))}hn.push(Zn)}return hn}(Pe,Gt*gt)),function(Jt,Xt,hn){for(var Mn=0;Mn<Xt.length;Mn++){var Un=Xt[Mn];if(Jt.length>=3){for(var jn=0;jn<Un.length;jn++)if(nc(Jt,Un[jn]))return!0}if(xm(Jt,Un,hn))return!0}return!1}(Ot,Pe,zt)},R.prototype.isTileClipped=function(){return!0},R}(Fa);function i2(S,R){return R>0?R+2*S:S}var Im=zi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),$4=zi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Q4=(zi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),zi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),a2=(zi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),zi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),e6=zi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function t6(S,R,Y){return S.sections.forEach(function(le){le.text=function(Se,Pe,qe){var it=Pe.layout.get("text-transform").evaluate(qe,{});return it==="uppercase"?Se=Se.toLocaleUpperCase():it==="lowercase"&&(Se=Se.toLocaleLowerCase()),Ra.applyArabicShaping&&(Se=Ra.applyArabicShaping(Se)),Se}(le.text,R,Y)}),S}zi([{name:"triangle",components:3,type:"Uint16"}]),zi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),zi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),zi([{type:"Float32",name:"offsetX"}]),zi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Fp={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},Oo=24,o2=function(S,R,Y,le,Se){var Pe,qe,it=8*Se-le-1,gt=(1<<it)-1,Ot=gt>>1,zt=-7,Gt=Y?Se-1:0,Jt=Y?-1:1,Xt=S[R+Gt];for(Gt+=Jt,Pe=Xt&(1<<-zt)-1,Xt>>=-zt,zt+=it;zt>0;Pe=256*Pe+S[R+Gt],Gt+=Jt,zt-=8);for(qe=Pe&(1<<-zt)-1,Pe>>=-zt,zt+=le;zt>0;qe=256*qe+S[R+Gt],Gt+=Jt,zt-=8);if(Pe===0)Pe=1-Ot;else{if(Pe===gt)return qe?NaN:1/0*(Xt?-1:1);qe+=Math.pow(2,le),Pe-=Ot}return(Xt?-1:1)*qe*Math.pow(2,Pe-le)},s2=function(S,R,Y,le,Se,Pe){var qe,it,gt,Ot=8*Pe-Se-1,zt=(1<<Ot)-1,Gt=zt>>1,Jt=Se===23?Math.pow(2,-24)-Math.pow(2,-77):0,Xt=le?0:Pe-1,hn=le?1:-1,Mn=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(it=isNaN(R)?1:0,qe=zt):(qe=Math.floor(Math.log(R)/Math.LN2),R*(gt=Math.pow(2,-qe))<1&&(qe--,gt*=2),(R+=qe+Gt>=1?Jt/gt:Jt*Math.pow(2,1-Gt))*gt>=2&&(qe++,gt/=2),qe+Gt>=zt?(it=0,qe=zt):qe+Gt>=1?(it=(R*gt-1)*Math.pow(2,Se),qe+=Gt):(it=R*Math.pow(2,Gt-1)*Math.pow(2,Se),qe=0));Se>=8;S[Y+Xt]=255&it,Xt+=hn,it/=256,Se-=8);for(qe=qe<<Se|it,Ot+=Se;Ot>0;S[Y+Xt]=255&qe,Xt+=hn,qe/=256,Ot-=8);S[Y+Xt-hn]|=128*Mn},Cd=Ji;function Ji(S){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(S)?S:new Uint8Array(S||0),this.pos=0,this.type=0,this.length=this.buf.length}Ji.Varint=0,Ji.Fixed64=1,Ji.Bytes=2,Ji.Fixed32=5;var Dm=4294967296,l2=1/Dm,u2=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function ju(S){return S.type===Ji.Bytes?S.readVarint()+S.pos:S.pos+1}function Mf(S,R,Y){return Y?4294967296*R+(S>>>0):4294967296*(R>>>0)+(S>>>0)}function c2(S,R,Y){var le=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(7*Math.LN2));Y.realloc(le);for(var Se=Y.pos-1;Se>=S;Se--)Y.buf[Se+le]=Y.buf[Se]}function n6(S,R){for(var Y=0;Y<S.length;Y++)R.writeVarint(S[Y])}function r6(S,R){for(var Y=0;Y<S.length;Y++)R.writeSVarint(S[Y])}function i6(S,R){for(var Y=0;Y<S.length;Y++)R.writeFloat(S[Y])}function a6(S,R){for(var Y=0;Y<S.length;Y++)R.writeDouble(S[Y])}function o6(S,R){for(var Y=0;Y<S.length;Y++)R.writeBoolean(S[Y])}function s6(S,R){for(var Y=0;Y<S.length;Y++)R.writeFixed32(S[Y])}function l6(S,R){for(var Y=0;Y<S.length;Y++)R.writeSFixed32(S[Y])}function u6(S,R){for(var Y=0;Y<S.length;Y++)R.writeFixed64(S[Y])}function c6(S,R){for(var Y=0;Y<S.length;Y++)R.writeSFixed64(S[Y])}function Ld(S,R){return(S[R]|S[R+1]<<8|S[R+2]<<16)+16777216*S[R+3]}function Sf(S,R,Y){S[Y]=R,S[Y+1]=R>>>8,S[Y+2]=R>>>16,S[Y+3]=R>>>24}function f2(S,R){return(S[R]|S[R+1]<<8|S[R+2]<<16)+(S[R+3]<<24)}Ji.prototype={destroy:function(){this.buf=null},readFields:function(S,R,Y){for(Y=Y||this.length;this.pos<Y;){var le=this.readVarint(),Se=le>>3,Pe=this.pos;this.type=7&le,S(Se,R,this),this.pos===Pe&&this.skip(le)}return R},readMessage:function(S,R){return this.readFields(S,R,this.readVarint()+this.pos)},readFixed32:function(){var S=Ld(this.buf,this.pos);return this.pos+=4,S},readSFixed32:function(){var S=f2(this.buf,this.pos);return this.pos+=4,S},readFixed64:function(){var S=Ld(this.buf,this.pos)+Ld(this.buf,this.pos+4)*Dm;return this.pos+=8,S},readSFixed64:function(){var S=Ld(this.buf,this.pos)+f2(this.buf,this.pos+4)*Dm;return this.pos+=8,S},readFloat:function(){var S=o2(this.buf,this.pos,!0,23,4);return this.pos+=4,S},readDouble:function(){var S=o2(this.buf,this.pos,!0,52,8);return this.pos+=8,S},readVarint:function(S){var R,Y,le=this.buf;return R=127&(Y=le[this.pos++]),Y<128?R:(R|=(127&(Y=le[this.pos++]))<<7,Y<128?R:(R|=(127&(Y=le[this.pos++]))<<14,Y<128?R:(R|=(127&(Y=le[this.pos++]))<<21,Y<128?R:function(Se,Pe,qe){var it,gt,Ot=qe.buf;if(it=(112&(gt=Ot[qe.pos++]))>>4,gt<128||(it|=(127&(gt=Ot[qe.pos++]))<<3,gt<128)||(it|=(127&(gt=Ot[qe.pos++]))<<10,gt<128)||(it|=(127&(gt=Ot[qe.pos++]))<<17,gt<128)||(it|=(127&(gt=Ot[qe.pos++]))<<24,gt<128)||(it|=(1&(gt=Ot[qe.pos++]))<<31,gt<128))return Mf(Se,it,Pe);throw new Error("Expected varint not more than 10 bytes")}(R|=(15&(Y=le[this.pos]))<<28,S,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var S=this.readVarint();return S%2==1?(S+1)/-2:S/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var S=this.readVarint()+this.pos,R=this.pos;return this.pos=S,S-R>=12&&u2?function(Y,le,Se){return u2.decode(Y.subarray(le,Se))}(this.buf,R,S):function(Y,le,Se){for(var Pe="",qe=le;qe<Se;){var it,gt,Ot,zt=Y[qe],Gt=null,Jt=zt>239?4:zt>223?3:zt>191?2:1;if(qe+Jt>Se)break;Jt===1?zt<128&&(Gt=zt):Jt===2?(192&(it=Y[qe+1]))==128&&(Gt=(31&zt)<<6|63&it)<=127&&(Gt=null):Jt===3?(it=Y[qe+1],gt=Y[qe+2],(192&it)==128&&(192&gt)==128&&((Gt=(15&zt)<<12|(63&it)<<6|63&gt)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):Jt===4&&(it=Y[qe+1],gt=Y[qe+2],Ot=Y[qe+3],(192&it)==128&&(192&gt)==128&&(192&Ot)==128&&((Gt=(15&zt)<<18|(63&it)<<12|(63&gt)<<6|63&Ot)<=65535||Gt>=1114112)&&(Gt=null)),Gt===null?(Gt=65533,Jt=1):Gt>65535&&(Gt-=65536,Pe+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),Pe+=String.fromCharCode(Gt),qe+=Jt}return Pe}(this.buf,R,S)},readBytes:function(){var S=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,S);return this.pos=S,R},readPackedVarint:function(S,R){if(this.type!==Ji.Bytes)return S.push(this.readVarint(R));var Y=ju(this);for(S=S||[];this.pos<Y;)S.push(this.readVarint(R));return S},readPackedSVarint:function(S){if(this.type!==Ji.Bytes)return S.push(this.readSVarint());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readSVarint());return S},readPackedBoolean:function(S){if(this.type!==Ji.Bytes)return S.push(this.readBoolean());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readBoolean());return S},readPackedFloat:function(S){if(this.type!==Ji.Bytes)return S.push(this.readFloat());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readFloat());return S},readPackedDouble:function(S){if(this.type!==Ji.Bytes)return S.push(this.readDouble());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readDouble());return S},readPackedFixed32:function(S){if(this.type!==Ji.Bytes)return S.push(this.readFixed32());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readFixed32());return S},readPackedSFixed32:function(S){if(this.type!==Ji.Bytes)return S.push(this.readSFixed32());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readSFixed32());return S},readPackedFixed64:function(S){if(this.type!==Ji.Bytes)return S.push(this.readFixed64());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readFixed64());return S},readPackedSFixed64:function(S){if(this.type!==Ji.Bytes)return S.push(this.readSFixed64());var R=ju(this);for(S=S||[];this.pos<R;)S.push(this.readSFixed64());return S},skip:function(S){var R=7&S;if(R===Ji.Varint)for(;this.buf[this.pos++]>127;);else if(R===Ji.Bytes)this.pos=this.readVarint()+this.pos;else if(R===Ji.Fixed32)this.pos+=4;else{if(R!==Ji.Fixed64)throw new Error("Unimplemented type: "+R);this.pos+=8}},writeTag:function(S,R){this.writeVarint(S<<3|R)},realloc:function(S){for(var R=this.length||16;R<this.pos+S;)R*=2;if(R!==this.length){var Y=new Uint8Array(R);Y.set(this.buf),this.buf=Y,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(S){this.realloc(4),Sf(this.buf,S,this.pos),this.pos+=4},writeSFixed32:function(S){this.realloc(4),Sf(this.buf,S,this.pos),this.pos+=4},writeFixed64:function(S){this.realloc(8),Sf(this.buf,-1&S,this.pos),Sf(this.buf,Math.floor(S*l2),this.pos+4),this.pos+=8},writeSFixed64:function(S){this.realloc(8),Sf(this.buf,-1&S,this.pos),Sf(this.buf,Math.floor(S*l2),this.pos+4),this.pos+=8},writeVarint:function(S){(S=+S||0)>268435455||S<0?function(R,Y){var le,Se;if(R>=0?(le=R%4294967296|0,Se=R/4294967296|0):(Se=~(-R/4294967296),4294967295^(le=~(-R%4294967296))?le=le+1|0:(le=0,Se=Se+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Y.realloc(10),function(Pe,qe,it){it.buf[it.pos++]=127&Pe|128,Pe>>>=7,it.buf[it.pos++]=127&Pe|128,Pe>>>=7,it.buf[it.pos++]=127&Pe|128,Pe>>>=7,it.buf[it.pos++]=127&Pe|128,Pe>>>=7,it.buf[it.pos]=127&Pe}(le,0,Y),function(Pe,qe){var it=(7&Pe)<<4;qe.buf[qe.pos++]|=it|((Pe>>>=3)?128:0),Pe&&(qe.buf[qe.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(qe.buf[qe.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(qe.buf[qe.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(qe.buf[qe.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(qe.buf[qe.pos++]=127&Pe)))))}(Se,Y)}(S,this):(this.realloc(4),this.buf[this.pos++]=127&S|(S>127?128:0),S<=127||(this.buf[this.pos++]=127&(S>>>=7)|(S>127?128:0),S<=127||(this.buf[this.pos++]=127&(S>>>=7)|(S>127?128:0),S<=127||(this.buf[this.pos++]=S>>>7&127))))},writeSVarint:function(S){this.writeVarint(S<0?2*-S-1:2*S)},writeBoolean:function(S){this.writeVarint(!!S)},writeString:function(S){S=String(S),this.realloc(4*S.length),this.pos++;var R=this.pos;this.pos=function(le,Se,Pe){for(var qe,it,gt=0;gt<Se.length;gt++){if((qe=Se.charCodeAt(gt))>55295&&qe<57344){if(!it){qe>56319||gt+1===Se.length?(le[Pe++]=239,le[Pe++]=191,le[Pe++]=189):it=qe;continue}if(qe<56320){le[Pe++]=239,le[Pe++]=191,le[Pe++]=189,it=qe;continue}qe=it-55296<<10|qe-56320|65536,it=null}else it&&(le[Pe++]=239,le[Pe++]=191,le[Pe++]=189,it=null);qe<128?le[Pe++]=qe:(qe<2048?le[Pe++]=qe>>6|192:(qe<65536?le[Pe++]=qe>>12|224:(le[Pe++]=qe>>18|240,le[Pe++]=qe>>12&63|128),le[Pe++]=qe>>6&63|128),le[Pe++]=63&qe|128)}return Pe}(this.buf,S,this.pos);var Y=this.pos-R;Y>=128&&c2(R,Y,this),this.pos=R-1,this.writeVarint(Y),this.pos+=Y},writeFloat:function(S){this.realloc(4),s2(this.buf,S,this.pos,!0,23,4),this.pos+=4},writeDouble:function(S){this.realloc(8),s2(this.buf,S,this.pos,!0,52,8),this.pos+=8},writeBytes:function(S){var R=S.length;this.writeVarint(R),this.realloc(R);for(var Y=0;Y<R;Y++)this.buf[this.pos++]=S[Y]},writeRawMessage:function(S,R){this.pos++;var Y=this.pos;S(R,this);var le=this.pos-Y;le>=128&&c2(Y,le,this),this.pos=Y-1,this.writeVarint(le),this.pos+=le},writeMessage:function(S,R,Y){this.writeTag(S,Ji.Bytes),this.writeRawMessage(R,Y)},writePackedVarint:function(S,R){R.length&&this.writeMessage(S,n6,R)},writePackedSVarint:function(S,R){R.length&&this.writeMessage(S,r6,R)},writePackedBoolean:function(S,R){R.length&&this.writeMessage(S,o6,R)},writePackedFloat:function(S,R){R.length&&this.writeMessage(S,i6,R)},writePackedDouble:function(S,R){R.length&&this.writeMessage(S,a6,R)},writePackedFixed32:function(S,R){R.length&&this.writeMessage(S,s6,R)},writePackedSFixed32:function(S,R){R.length&&this.writeMessage(S,l6,R)},writePackedFixed64:function(S,R){R.length&&this.writeMessage(S,u6,R)},writePackedSFixed64:function(S,R){R.length&&this.writeMessage(S,c6,R)},writeBytesField:function(S,R){this.writeTag(S,Ji.Bytes),this.writeBytes(R)},writeFixed32Field:function(S,R){this.writeTag(S,Ji.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(S,R){this.writeTag(S,Ji.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(S,R){this.writeTag(S,Ji.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(S,R){this.writeTag(S,Ji.Fixed64),this.writeSFixed64(R)},writeVarintField:function(S,R){this.writeTag(S,Ji.Varint),this.writeVarint(R)},writeSVarintField:function(S,R){this.writeTag(S,Ji.Varint),this.writeSVarint(R)},writeStringField:function(S,R){this.writeTag(S,Ji.Bytes),this.writeString(R)},writeFloatField:function(S,R){this.writeTag(S,Ji.Fixed32),this.writeFloat(R)},writeDoubleField:function(S,R){this.writeTag(S,Ji.Fixed64),this.writeDouble(R)},writeBooleanField:function(S,R){this.writeVarintField(S,!!R)}};function f6(S,R,Y){S===1&&Y.readMessage(p6,R)}function p6(S,R,Y){if(S===3){var le=Y.readMessage(h6,{}),Se=le.id,Pe=le.bitmap,qe=le.width,it=le.height,gt=le.left,Ot=le.top,zt=le.advance;R.push({id:Se,bitmap:new Nc({width:qe+6,height:it+6},Pe),metrics:{width:qe,height:it,left:gt,top:Ot,advance:zt}})}}function h6(S,R,Y){S===1?R.id=Y.readVarint():S===2?R.bitmap=Y.readBytes():S===3?R.width=Y.readVarint():S===4?R.height=Y.readVarint():S===5?R.left=Y.readSVarint():S===6?R.top=Y.readSVarint():S===7&&(R.advance=Y.readVarint())}function p2(S){for(var R=0,Y=0,le=0,Se=S;le<Se.length;le+=1){var Pe=Se[le];R+=Pe.w*Pe.h,Y=Math.max(Y,Pe.w)}S.sort(function(Mn,Un){return Un.h-Mn.h});for(var qe=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(R/.95)),Y),h:1/0}],it=0,gt=0,Ot=0,zt=S;Ot<zt.length;Ot+=1)for(var Gt=zt[Ot],Jt=qe.length-1;Jt>=0;Jt--){var Xt=qe[Jt];if(!(Gt.w>Xt.w||Gt.h>Xt.h)){if(Gt.x=Xt.x,Gt.y=Xt.y,gt=Math.max(gt,Gt.y+Gt.h),it=Math.max(it,Gt.x+Gt.w),Gt.w===Xt.w&&Gt.h===Xt.h){var hn=qe.pop();Jt<qe.length&&(qe[Jt]=hn)}else Gt.h===Xt.h?(Xt.x+=Gt.w,Xt.w-=Gt.w):Gt.w===Xt.w?(Xt.y+=Gt.h,Xt.h-=Gt.h):(qe.push({x:Xt.x+Gt.w,y:Xt.y,w:Xt.w-Gt.w,h:Gt.h}),Xt.y+=Gt.h,Xt.h-=Gt.h);break}}return{w:it,h:gt,fill:R/(it*gt)||0}}var Od=function(S,R){var Y=R.pixelRatio,le=R.version,Se=R.stretchX,Pe=R.stretchY,qe=R.content;this.paddedRect=S,this.pixelRatio=Y,this.stretchX=Se,this.stretchY=Pe,this.content=qe,this.version=le},Np={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Np.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Np.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Np.tlbr.get=function(){return this.tl.concat(this.br)},Np.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Od.prototype,Np);var Bp=function(S,R){var Y={},le={};this.haveRenderCallbacks=[];var Se=[];this.addImages(S,Y,Se),this.addImages(R,le,Se);var Pe=p2(Se),qe=Pe.w,it=Pe.h,gt=new ws({width:qe||1,height:it||1});for(var Ot in S){var zt=S[Ot],Gt=Y[Ot].paddedRect;ws.copy(zt.data,gt,{x:0,y:0},{x:Gt.x+1,y:Gt.y+1},zt.data)}for(var Jt in R){var Xt=R[Jt],hn=le[Jt].paddedRect,Mn=hn.x+1,Un=hn.y+1,jn=Xt.data.width,Zn=Xt.data.height;ws.copy(Xt.data,gt,{x:0,y:0},{x:Mn,y:Un},Xt.data),ws.copy(Xt.data,gt,{x:0,y:Zn-1},{x:Mn,y:Un-1},{width:jn,height:1}),ws.copy(Xt.data,gt,{x:0,y:0},{x:Mn,y:Un+Zn},{width:jn,height:1}),ws.copy(Xt.data,gt,{x:jn-1,y:0},{x:Mn-1,y:Un},{width:1,height:Zn}),ws.copy(Xt.data,gt,{x:0,y:0},{x:Mn+jn,y:Un},{width:1,height:Zn})}this.image=gt,this.iconPositions=Y,this.patternPositions=le};Bp.prototype.addImages=function(S,R,Y){for(var le in S){var Se=S[le],Pe={x:0,y:0,w:Se.data.width+2,h:Se.data.height+2};Y.push(Pe),R[le]=new Od(Pe,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(le)}},Bp.prototype.patchUpdatedImages=function(S,R){for(var Y in S.dispatchRenderCallbacks(this.haveRenderCallbacks),S.updatedImages)this.patchUpdatedImage(this.iconPositions[Y],S.getImage(Y),R),this.patchUpdatedImage(this.patternPositions[Y],S.getImage(Y),R)},Bp.prototype.patchUpdatedImage=function(S,R,Y){if(S&&R&&S.version!==R.version){S.version=R.version;var le=S.tl,Se=le[0],Pe=le[1];Y.update(R.data,void 0,{x:Se,y:Pe})}},Ir("ImagePosition",Od),Ir("ImageAtlas",Bp);var cl={horizontal:1,vertical:2,horizontalOnly:3},Pd=-17,Ef=function(){this.scale=1,this.fontStack="",this.imageName=null};Ef.forText=function(S,R){var Y=new Ef;return Y.scale=S||1,Y.fontStack=R,Y},Ef.forImage=function(S){var R=new Ef;return R.imageName=S,R};var Vo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Id(S,R,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn){var Un,jn=Vo.fromFeature(S,Se);Gt===cl.vertical&&jn.verticalizePunctuation();var Zn=Ra.processBidirectionalText,Kn=Ra.processStyledBidirectionalText;if(Zn&&jn.sections.length===1){Un=[];for(var ar=0,ur=Zn(jn.toString(),Rm(jn,Ot,Pe,R,le,Xt,hn));ar<ur.length;ar+=1){var hr=ur[ar],Dr=new Vo;Dr.text=hr,Dr.sections=jn.sections;for(var Er=0;Er<hr.length;Er++)Dr.sectionIndex.push(0);Un.push(Dr)}}else if(Kn){Un=[];for(var Nr=0,Hr=Kn(jn.text,jn.sectionIndex,Rm(jn,Ot,Pe,R,le,Xt,hn));Nr<Hr.length;Nr+=1){var oi=Hr[Nr],Wr=new Vo;Wr.text=oi[0],Wr.sectionIndex=oi[1],Wr.sections=jn.sections,Un.push(Wr)}}else Un=function(qr,_i){for(var si=[],Gi=qr.text,ei=0,Vi=0,Ki=_i;Vi<Ki.length;Vi+=1){var ta=Ki[Vi];si.push(qr.substring(ei,ta)),ei=ta}return ei<Gi.length&&si.push(qr.substring(ei,Gi.length)),si}(jn,Rm(jn,Ot,Pe,R,le,Xt,hn));var ri=[],Jr={positionedLines:ri,text:jn.toString(),top:zt[1],bottom:zt[1],left:zt[0],right:zt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return function(qr,_i,si,Gi,ei,Vi,Ki,ta,sa,Yi,Ua,da){for(var io=0,Po=Pd,bo=0,ts=0,_o=ta==="right"?1:ta==="left"?0:.5,Ga=0,wo=0,ao=ei;wo<ao.length;wo+=1){var Ya=ao[wo];Ya.trim();var ui=Ya.getMaxScale(),Li=(ui-1)*Oo,xa={positionedGlyphs:[],lineOffset:0};qr.positionedLines[Ga]=xa;var Hi=xa.positionedGlyphs,ma=0;if(Ya.length()){for(var la=0;la<Ya.length();la++){var Di=Ya.getSection(la),ba=Ya.getSectionIndex(la),ns=Ya.getCharCode(la),$s=0,Ho=null,cu=null,Hu=null,oo=Oo,fu=!(sa===cl.horizontal||!Ua&&!go(ns)||Ua&&(Dd[ns]||Ll(ns)));if(Di.imageName){var Ul=Gi[Di.imageName];if(!Ul)continue;Hu=Di.imageName,qr.iconsInText=qr.iconsInText||!0,cu=Ul.paddedRect;var Vl=Ul.displaySize;Di.scale=Di.scale*Oo/da,Ho={width:Vl[0],height:Vl[1],left:1,top:-3,advance:fu?Vl[1]:Vl[0]},$s=Li+(Oo-Vl[1]*Di.scale),oo=Ho.advance;var Vc=fu?Vl[0]*Di.scale-Oo*ui:Vl[1]*Di.scale-Oo*ui;Vc>0&&Vc>ma&&(ma=Vc)}else{var Hd=si[Di.fontStack],Hc=Hd&&Hd[ns];if(Hc&&Hc.rect)cu=Hc.rect,Ho=Hc.metrics;else{var qd=_i[Di.fontStack],Vp=qd&&qd[ns];if(!Vp)continue;Ho=Vp.metrics}$s=(ui-Di.scale)*Oo}fu?(qr.verticalizable=!0,Hi.push({glyph:ns,imageName:Hu,x:io,y:Po+$s,vertical:fu,scale:Di.scale,fontStack:Di.fontStack,sectionIndex:ba,metrics:Ho,rect:cu}),io+=oo*Di.scale+Yi):(Hi.push({glyph:ns,imageName:Hu,x:io,y:Po+$s,vertical:fu,scale:Di.scale,fontStack:Di.fontStack,sectionIndex:ba,metrics:Ho,rect:cu}),io+=Ho.advance*Di.scale+Yi)}if(Hi.length!==0){var Wm=io-Yi;bo=Math.max(Wm,bo),g6(Hi,0,Hi.length-1,_o,ma)}io=0;var Wd=Vi*ui+ma;xa.lineOffset=Math.max(ma,Li),Po+=Wd,ts=Math.max(Wd,ts),++Ga}else Po+=Vi,++Ga}var zf=Po-Pd,Gd=zm(Ki),Yd=Gd.horizontalAlign,Hp=Gd.verticalAlign;(function(Gm,qp,qc,Ff,Zd,Xd,Nf,Jd,Kd){var Wp=(qp-qc)*Zd,Gp=0;Gp=Xd!==Nf?-Jd*Ff-Pd:(-Ff*Kd+.5)*Nf;for(var Wc=0,Yp=Gm;Wc<Yp.length;Wc+=1)for(var Gc=0,Zp=Yp[Wc].positionedGlyphs;Gc<Zp.length;Gc+=1){var Xp=Zp[Gc];Xp.x+=Wp,Xp.y+=Gp}})(qr.positionedLines,_o,Yd,Hp,bo,ts,Vi,zf,ei.length),qr.top+=-Hp*zf,qr.bottom=qr.top+zf,qr.left+=-Yd*bo,qr.right=qr.left+bo}(Jr,R,Y,le,Un,qe,it,gt,Gt,Ot,Jt,Mn),!function(qr){for(var _i=0,si=qr;_i<si.length;_i+=1)if(si[_i].positionedGlyphs.length!==0)return!1;return!0}(ri)&&Jr}Vo.fromFeature=function(S,R){for(var Y=new Vo,le=0;le<S.sections.length;le++){var Se=S.sections[le];Se.image?Y.addImageSection(Se):Y.addTextSection(Se,R)}return Y},Vo.prototype.length=function(){return this.text.length},Vo.prototype.getSection=function(S){return this.sections[this.sectionIndex[S]]},Vo.prototype.getSectionIndex=function(S){return this.sectionIndex[S]},Vo.prototype.getCharCode=function(S){return this.text.charCodeAt(S)},Vo.prototype.verticalizePunctuation=function(){this.text=function(S){for(var R="",Y=0;Y<S.length;Y++){var le=S.charCodeAt(Y+1)||null,Se=S.charCodeAt(Y-1)||null;le&&Bl(le)&&!Fp[S[Y+1]]||Se&&Bl(Se)&&!Fp[S[Y-1]]||!Fp[S[Y]]?R+=S[Y]:R+=Fp[S[Y]]}return R}(this.text)},Vo.prototype.trim=function(){for(var S=0,R=0;R<this.text.length&&Dd[this.text.charCodeAt(R)];R++)S++;for(var Y=this.text.length,le=this.text.length-1;le>=0&&le>=S&&Dd[this.text.charCodeAt(le)];le--)Y--;this.text=this.text.substring(S,Y),this.sectionIndex=this.sectionIndex.slice(S,Y)},Vo.prototype.substring=function(S,R){var Y=new Vo;return Y.text=this.text.substring(S,R),Y.sectionIndex=this.sectionIndex.slice(S,R),Y.sections=this.sections,Y},Vo.prototype.toString=function(){return this.text},Vo.prototype.getMaxScale=function(){var S=this;return this.sectionIndex.reduce(function(R,Y){return Math.max(R,S.sections[Y].scale)},0)},Vo.prototype.addTextSection=function(S,R){this.text+=S.text,this.sections.push(Ef.forText(S.scale,S.fontStack||R));for(var Y=this.sections.length-1,le=0;le<S.text.length;++le)this.sectionIndex.push(Y)},Vo.prototype.addImageSection=function(S){var R=S.image?S.image.name:"";if(R.length!==0){var Y=this.getNextImageSectionCharCode();Y?(this.text+=String.fromCharCode(Y),this.sections.push(Ef.forImage(R)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},Vo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Dd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ks={};function h2(S,R,Y,le,Se,Pe){if(R.imageName){var qe=le[R.imageName];return qe?qe.displaySize[0]*R.scale*Oo/Pe+Se:0}var it=Y[R.fontStack],gt=it&&it[S];return gt?gt.metrics.advance*R.scale+Se:0}function d2(S,R,Y,le){var Se=Math.pow(S-R,2);return le?S<R?Se/2:2*Se:Se+Math.abs(Y)*Y}function d6(S,R,Y){var le=0;return S===10&&(le-=1e4),Y&&(le+=150),S!==40&&S!==65288||(le+=50),R!==41&&R!==65289||(le+=50),le}function g2(S,R,Y,le,Se,Pe){for(var qe=null,it=d2(R,Y,Se,Pe),gt=0,Ot=le;gt<Ot.length;gt+=1){var zt=Ot[gt],Gt=d2(R-zt.x,Y,Se,Pe)+zt.badness;Gt<=it&&(qe=zt,it=Gt)}return{index:S,x:R,priorBreak:qe,badness:it}}function m2(S){return S?m2(S.priorBreak).concat(S.index):[]}function Rm(S,R,Y,le,Se,Pe,qe){if(Pe!=="point")return[];if(!S)return[];for(var it=[],gt=function(Un,jn,Zn,Kn,ar,ur){for(var hr=0,Dr=0;Dr<Un.length();Dr++){var Er=Un.getSection(Dr);hr+=h2(Un.getCharCode(Dr),Er,Kn,ar,jn,ur)}return hr/Math.max(1,Math.ceil(hr/Zn))}(S,R,Y,le,Se,qe),Ot=S.text.indexOf("\u200B")>=0,zt=0,Gt=0;Gt<S.length();Gt++){var Jt=S.getSection(Gt),Xt=S.getCharCode(Gt);if(Dd[Xt]||(zt+=h2(Xt,Jt,le,Se,R,qe)),Gt<S.length()-1){var hn=!((Mn=Xt)<11904||!(zr["Bopomofo Extended"](Mn)||zr.Bopomofo(Mn)||zr["CJK Compatibility Forms"](Mn)||zr["CJK Compatibility Ideographs"](Mn)||zr["CJK Compatibility"](Mn)||zr["CJK Radicals Supplement"](Mn)||zr["CJK Strokes"](Mn)||zr["CJK Symbols and Punctuation"](Mn)||zr["CJK Unified Ideographs Extension A"](Mn)||zr["CJK Unified Ideographs"](Mn)||zr["Enclosed CJK Letters and Months"](Mn)||zr["Halfwidth and Fullwidth Forms"](Mn)||zr.Hiragana(Mn)||zr["Ideographic Description Characters"](Mn)||zr["Kangxi Radicals"](Mn)||zr["Katakana Phonetic Extensions"](Mn)||zr.Katakana(Mn)||zr["Vertical Forms"](Mn)||zr["Yi Radicals"](Mn)||zr["Yi Syllables"](Mn)));(Ks[Xt]||hn||Jt.imageName)&&it.push(g2(Gt+1,zt,gt,it,d6(Xt,S.getCharCode(Gt+1),hn&&Ot),!1))}}var Mn;return m2(g2(S.length(),zt,gt,it,0,!0))}function zm(S){var R=.5,Y=.5;switch(S){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0}switch(S){case"bottom":case"bottom-right":case"bottom-left":Y=1;break;case"top":case"top-right":case"top-left":Y=0}return{horizontalAlign:R,verticalAlign:Y}}function g6(S,R,Y,le,Se){if(le||Se)for(var Pe=S[Y],qe=Pe.metrics.advance*Pe.scale,it=(S[Y].x+qe)*le,gt=R;gt<=Y;gt++)S[gt].x-=it,S[gt].y+=Se}function v2(S,R,Y,le,Se,Pe){var qe,it=S.image;if(it.content){var gt=it.content,Ot=it.pixelRatio||1;qe=[gt[0]/Ot,gt[1]/Ot,it.displaySize[0]-gt[2]/Ot,it.displaySize[1]-gt[3]/Ot]}var zt,Gt,Jt,Xt,hn=R.left*Pe,Mn=R.right*Pe;Y==="width"||Y==="both"?(Xt=Se[0]+hn-le[3],Gt=Se[0]+Mn+le[1]):Gt=(Xt=Se[0]+(hn+Mn-it.displaySize[0])/2)+it.displaySize[0];var Un=R.top*Pe,jn=R.bottom*Pe;return Y==="height"||Y==="both"?(zt=Se[1]+Un-le[0],Jt=Se[1]+jn+le[2]):Jt=(zt=Se[1]+(Un+jn-it.displaySize[1])/2)+it.displaySize[1],{image:it,top:zt,right:Gt,bottom:Jt,left:Xt,collisionPadding:qe}}Ks[10]=!0,Ks[32]=!0,Ks[38]=!0,Ks[40]=!0,Ks[41]=!0,Ks[43]=!0,Ks[45]=!0,Ks[47]=!0,Ks[173]=!0,Ks[183]=!0,Ks[8203]=!0,Ks[8208]=!0,Ks[8211]=!0,Ks[8231]=!0;var Cf=function(S){function R(Y,le,Se,Pe){S.call(this,Y,le),this.angle=Se,Pe!==void 0&&(this.segment=Pe)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(t);Ir("Anchor",Cf);var wu=128;function Fm(S,R){var Y=R.expression;if(Y.kind==="constant")return{kind:"constant",layoutSize:Y.evaluate(new Ti(S+1))};if(Y.kind==="source")return{kind:"source"};for(var le=Y.zoomStops,Se=Y.interpolationType,Pe=0;Pe<le.length&&le[Pe]<=S;)Pe++;for(var qe=Pe=Math.max(0,Pe-1);qe<le.length&&le[qe]<S+1;)qe++;qe=Math.min(le.length-1,qe);var it=le[Pe],gt=le[qe];return Y.kind==="composite"?{kind:"composite",minZoom:it,maxZoom:gt,interpolationType:Se}:{kind:"camera",minZoom:it,maxZoom:gt,minSize:Y.evaluate(new Ti(it)),maxSize:Y.evaluate(new Ti(gt)),interpolationType:Se}}function y2(S,R,Y){var le=R.uSize,Se=R.uSizeT,Pe=Y.lowerSize,qe=Y.upperSize;return S.kind==="source"?Pe/wu:S.kind==="composite"?Tr(Pe/wu,qe/wu,Se):le}function x2(S,R){var Y=0,le=0;if(S.kind==="constant")le=S.layoutSize;else if(S.kind!=="source"){var Se=S.interpolationType,Pe=S.minZoom,qe=S.maxZoom,it=Se?r(ua.interpolationFactor(Se,R,Pe,qe),0,1):0;S.kind==="camera"?le=Tr(S.minSize,S.maxSize,it):Y=it}return{uSizeT:Y,uSize:le}}var m6=Object.freeze({__proto__:null,getSizeData:Fm,evaluateSizeForFeature:y2,evaluateSizeForZoom:x2,SIZE_PACK_FACTOR:wu});function b2(S,R,Y,le,Se){if(R.segment===void 0)return!0;for(var Pe=R,qe=R.segment+1,it=0;it>-Y/2;){if(--qe<0)return!1;it-=S[qe].dist(Pe),Pe=S[qe]}it+=S[qe].dist(S[qe+1]),qe++;for(var gt=[],Ot=0;it<Y/2;){var zt=S[qe-1],Gt=S[qe],Jt=S[qe+1];if(!Jt)return!1;var Xt=zt.angleTo(Gt)-Gt.angleTo(Jt);for(Xt=Math.abs((Xt+3*Math.PI)%(2*Math.PI)-Math.PI),gt.push({distance:it,angleDelta:Xt}),Ot+=Xt;it-gt[0].distance>le;)Ot-=gt.shift().angleDelta;if(Ot>Se)return!1;qe++,it+=Gt.dist(Jt)}return!0}function _2(S){for(var R=0,Y=0;Y<S.length-1;Y++)R+=S[Y].dist(S[Y+1]);return R}function w2(S,R,Y){return S?.6*R*Y:0}function k2(S,R){return Math.max(S?S.right-S.left:0,R?R.right-R.left:0)}function v6(S,R,Y,le,Se,Pe){for(var qe=w2(Y,Se,Pe),it=k2(Y,le)*Pe,gt=0,Ot=_2(S)/2,zt=0;zt<S.length-1;zt++){var Gt=S[zt],Jt=S[zt+1],Xt=Gt.dist(Jt);if(gt+Xt>Ot){var hn=(Ot-gt)/Xt,Mn=Tr(Gt.x,Jt.x,hn),Un=Tr(Gt.y,Jt.y,hn),jn=new Cf(Mn,Un,Jt.angleTo(Gt),zt);return jn._round(),!qe||b2(S,jn,it,qe,R)?jn:void 0}gt+=Xt}}function y6(S,R,Y,le,Se,Pe,qe,it,gt){var Ot=w2(le,Pe,qe),zt=k2(le,Se),Gt=zt*qe,Jt=S[0].x===0||S[0].x===gt||S[0].y===0||S[0].y===gt;return R-Gt<R/4&&(R=Gt+R/4),T2(S,Jt?R/2*it%R:(zt/2+2*Pe)*qe*it%R,R,Ot,Y,Gt,Jt,!1,gt)}function T2(S,R,Y,le,Se,Pe,qe,it,gt){for(var Ot=Pe/2,zt=_2(S),Gt=0,Jt=R-Y,Xt=[],hn=0;hn<S.length-1;hn++){for(var Mn=S[hn],Un=S[hn+1],jn=Mn.dist(Un),Zn=Un.angleTo(Mn);Jt+Y<Gt+jn;){var Kn=((Jt+=Y)-Gt)/jn,ar=Tr(Mn.x,Un.x,Kn),ur=Tr(Mn.y,Un.y,Kn);if(ar>=0&&ar<gt&&ur>=0&&ur<gt&&Jt-Ot>=0&&Jt+Ot<=zt){var hr=new Cf(ar,ur,Zn,hn);hr._round(),le&&!b2(S,hr,Pe,le,Se)||Xt.push(hr)}}Gt+=jn}return it||Xt.length||qe||(Xt=T2(S,Gt/2,Y,le,Se,Pe,qe,!0,gt)),Xt}function A2(S,R,Y,le,Se){for(var Pe=[],qe=0;qe<S.length;qe++)for(var it=S[qe],gt=void 0,Ot=0;Ot<it.length-1;Ot++){var zt=it[Ot],Gt=it[Ot+1];zt.x<R&&Gt.x<R||(zt.x<R?zt=new t(R,zt.y+(Gt.y-zt.y)*((R-zt.x)/(Gt.x-zt.x)))._round():Gt.x<R&&(Gt=new t(R,zt.y+(Gt.y-zt.y)*((R-zt.x)/(Gt.x-zt.x)))._round()),zt.y<Y&&Gt.y<Y||(zt.y<Y?zt=new t(zt.x+(Gt.x-zt.x)*((Y-zt.y)/(Gt.y-zt.y)),Y)._round():Gt.y<Y&&(Gt=new t(zt.x+(Gt.x-zt.x)*((Y-zt.y)/(Gt.y-zt.y)),Y)._round()),zt.x>=le&&Gt.x>=le||(zt.x>=le?zt=new t(le,zt.y+(Gt.y-zt.y)*((le-zt.x)/(Gt.x-zt.x)))._round():Gt.x>=le&&(Gt=new t(le,zt.y+(Gt.y-zt.y)*((le-zt.x)/(Gt.x-zt.x)))._round()),zt.y>=Se&&Gt.y>=Se||(zt.y>=Se?zt=new t(zt.x+(Gt.x-zt.x)*((Se-zt.y)/(Gt.y-zt.y)),Se)._round():Gt.y>=Se&&(Gt=new t(zt.x+(Gt.x-zt.x)*((Se-zt.y)/(Gt.y-zt.y)),Se)._round()),gt&&zt.equals(gt[gt.length-1])||(gt=[zt],Pe.push(gt)),gt.push(Gt)))))}return Pe}function M2(S,R,Y,le){var Se=[],Pe=S.image,qe=Pe.pixelRatio,it=Pe.paddedRect.w-2,gt=Pe.paddedRect.h-2,Ot=S.right-S.left,zt=S.bottom-S.top,Gt=Pe.stretchX||[[0,it]],Jt=Pe.stretchY||[[0,gt]],Xt=function(Vi,Ki){return Vi+Ki[1]-Ki[0]},hn=Gt.reduce(Xt,0),Mn=Jt.reduce(Xt,0),Un=it-hn,jn=gt-Mn,Zn=0,Kn=hn,ar=0,ur=Mn,hr=0,Dr=Un,Er=0,Nr=jn;if(Pe.content&&le){var Hr=Pe.content;Zn=Rd(Gt,0,Hr[0]),ar=Rd(Jt,0,Hr[1]),Kn=Rd(Gt,Hr[0],Hr[2]),ur=Rd(Jt,Hr[1],Hr[3]),hr=Hr[0]-Zn,Er=Hr[1]-ar,Dr=Hr[2]-Hr[0]-Kn,Nr=Hr[3]-Hr[1]-ur}var oi=function(Vi,Ki,ta,sa){var Yi=zd(Vi.stretch-Zn,Kn,Ot,S.left),Ua=Fd(Vi.fixed-hr,Dr,Vi.stretch,hn),da=zd(Ki.stretch-ar,ur,zt,S.top),io=Fd(Ki.fixed-Er,Nr,Ki.stretch,Mn),Po=zd(ta.stretch-Zn,Kn,Ot,S.left),bo=Fd(ta.fixed-hr,Dr,ta.stretch,hn),ts=zd(sa.stretch-ar,ur,zt,S.top),_o=Fd(sa.fixed-Er,Nr,sa.stretch,Mn),Ga=new t(Yi,da),wo=new t(Po,da),ao=new t(Po,ts),Ya=new t(Yi,ts),ui=new t(Ua/qe,io/qe),Li=new t(bo/qe,_o/qe),xa=R*Math.PI/180;if(xa){var Hi=Math.sin(xa),ma=Math.cos(xa),la=[ma,-Hi,Hi,ma];Ga._matMult(la),wo._matMult(la),Ya._matMult(la),ao._matMult(la)}var Di=Vi.stretch+Vi.fixed,ba=ta.stretch+ta.fixed,ns=Ki.stretch+Ki.fixed,$s=sa.stretch+sa.fixed;return{tl:Ga,tr:wo,bl:Ya,br:ao,tex:{x:Pe.paddedRect.x+1+Di,y:Pe.paddedRect.y+1+ns,w:ba-Di,h:$s-ns},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ui,pixelOffsetBR:Li,minFontScaleX:Dr/qe/Ot,minFontScaleY:Nr/qe/zt,isSDF:Y}};if(le&&(Pe.stretchX||Pe.stretchY))for(var Wr=S2(Gt,Un,hn),ri=S2(Jt,jn,Mn),Jr=0;Jr<Wr.length-1;Jr++)for(var qr=Wr[Jr],_i=Wr[Jr+1],si=0;si<ri.length-1;si++){var Gi=ri[si],ei=ri[si+1];Se.push(oi(qr,Gi,_i,ei))}else Se.push(oi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:it+1},{fixed:0,stretch:gt+1}));return Se}function Rd(S,R,Y){for(var le=0,Se=0,Pe=S;Se<Pe.length;Se+=1){var qe=Pe[Se];le+=Math.max(R,Math.min(Y,qe[1]))-Math.max(R,Math.min(Y,qe[0]))}return le}function S2(S,R,Y){for(var le=[{fixed:-1,stretch:0}],Se=0,Pe=S;Se<Pe.length;Se+=1){var qe=Pe[Se],it=qe[0],gt=qe[1],Ot=le[le.length-1];le.push({fixed:it-Ot.stretch,stretch:Ot.stretch}),le.push({fixed:it-Ot.stretch,stretch:Ot.stretch+(gt-it)})}return le.push({fixed:R+1,stretch:Y}),le}function zd(S,R,Y,le){return S/R*Y+le}function Fd(S,R,Y,le){return S-R*Y/le}var Nd=function(S,R,Y,le,Se,Pe,qe,it,gt,Ot){if(this.boxStartIndex=S.length,gt){var zt=Pe.top,Gt=Pe.bottom,Jt=Pe.collisionPadding;Jt&&(zt-=Jt[1],Gt+=Jt[3]);var Xt=Gt-zt;Xt>0&&(Xt=Math.max(10,Xt),this.circleDiameter=Xt)}else{var hn=Pe.top*qe-it,Mn=Pe.bottom*qe+it,Un=Pe.left*qe-it,jn=Pe.right*qe+it,Zn=Pe.collisionPadding;if(Zn&&(Un-=Zn[0]*qe,hn-=Zn[1]*qe,jn+=Zn[2]*qe,Mn+=Zn[3]*qe),Ot){var Kn=new t(Un,hn),ar=new t(jn,hn),ur=new t(Un,Mn),hr=new t(jn,Mn),Dr=Ot*Math.PI/180;Kn._rotate(Dr),ar._rotate(Dr),ur._rotate(Dr),hr._rotate(Dr),Un=Math.min(Kn.x,ar.x,ur.x,hr.x),jn=Math.max(Kn.x,ar.x,ur.x,hr.x),hn=Math.min(Kn.y,ar.y,ur.y,hr.y),Mn=Math.max(Kn.y,ar.y,ur.y,hr.y)}S.emplaceBack(R.x,R.y,Un,hn,jn,Mn,Y,le,Se)}this.boxEndIndex=S.length},Lf=function(S,R){if(S===void 0&&(S=[]),R===void 0&&(R=x6),this.data=S,this.length=this.data.length,this.compare=R,this.length>0)for(var Y=(this.length>>1)-1;Y>=0;Y--)this._down(Y)};function x6(S,R){return S<R?-1:S>R?1:0}function b6(S,R,Y){R===void 0&&(R=1),Y===void 0&&(Y=!1);for(var le=1/0,Se=1/0,Pe=-1/0,qe=-1/0,it=S[0],gt=0;gt<it.length;gt++){var Ot=it[gt];(!gt||Ot.x<le)&&(le=Ot.x),(!gt||Ot.y<Se)&&(Se=Ot.y),(!gt||Ot.x>Pe)&&(Pe=Ot.x),(!gt||Ot.y>qe)&&(qe=Ot.y)}var zt=Pe-le,Gt=qe-Se,Jt=Math.min(zt,Gt),Xt=Jt/2,hn=new Lf([],_6);if(Jt===0)return new t(le,Se);for(var Mn=le;Mn<Pe;Mn+=Jt)for(var Un=Se;Un<qe;Un+=Jt)hn.push(new Of(Mn+Xt,Un+Xt,Xt,S));for(var jn=function(ar){for(var ur=0,hr=0,Dr=0,Er=ar[0],Nr=0,Hr=Er.length,oi=Hr-1;Nr<Hr;oi=Nr++){var Wr=Er[Nr],ri=Er[oi],Jr=Wr.x*ri.y-ri.x*Wr.y;hr+=(Wr.x+ri.x)*Jr,Dr+=(Wr.y+ri.y)*Jr,ur+=3*Jr}return new Of(hr/ur,Dr/ur,0,ar)}(S),Zn=hn.length;hn.length;){var Kn=hn.pop();(Kn.d>jn.d||!jn.d)&&(jn=Kn,Y&&console.log("found best %d after %d probes",Math.round(1e4*Kn.d)/1e4,Zn)),Kn.max-jn.d<=R||(Xt=Kn.h/2,hn.push(new Of(Kn.p.x-Xt,Kn.p.y-Xt,Xt,S)),hn.push(new Of(Kn.p.x+Xt,Kn.p.y-Xt,Xt,S)),hn.push(new Of(Kn.p.x-Xt,Kn.p.y+Xt,Xt,S)),hn.push(new Of(Kn.p.x+Xt,Kn.p.y+Xt,Xt,S)),Zn+=4)}return Y&&(console.log("num probes: "+Zn),console.log("best distance: "+jn.d)),jn.p}function _6(S,R){return R.max-S.max}function Of(S,R,Y,le){this.p=new t(S,R),this.h=Y,this.d=function(Se,Pe){for(var qe=!1,it=1/0,gt=0;gt<Pe.length;gt++)for(var Ot=Pe[gt],zt=0,Gt=Ot.length,Jt=Gt-1;zt<Gt;Jt=zt++){var Xt=Ot[zt],hn=Ot[Jt];Xt.y>Se.y!=hn.y>Se.y&&Se.x<(hn.x-Xt.x)*(Se.y-Xt.y)/(hn.y-Xt.y)+Xt.x&&(qe=!qe),it=Math.min(it,bd(Se,Xt,hn))}return(qe?1:-1)*Math.sqrt(it)}(this.p,le),this.max=this.d+this.h*Math.SQRT2}Lf.prototype.push=function(S){this.data.push(S),this.length++,this._up(this.length-1)},Lf.prototype.pop=function(){if(this.length!==0){var S=this.data[0],R=this.data.pop();return this.length--,this.length>0&&(this.data[0]=R,this._down(0)),S}},Lf.prototype.peek=function(){return this.data[0]},Lf.prototype._up=function(S){for(var R=this.data,Y=this.compare,le=R[S];S>0;){var Se=S-1>>1,Pe=R[Se];if(Y(le,Pe)>=0)break;R[S]=Pe,S=Se}R[S]=le},Lf.prototype._down=function(S){for(var R=this.data,Y=this.compare,le=this.length>>1,Se=R[S];S<le;){var Pe=1+(S<<1),qe=R[Pe],it=Pe+1;if(it<this.length&&Y(R[it],qe)<0&&(Pe=it,qe=R[it]),Y(qe,Se)>=0)break;R[S]=qe,S=Pe}R[S]=Se};var Nm=Number.POSITIVE_INFINITY;function E2(S,R){return R[1]!==Nm?function(Y,le,Se){var Pe=0,qe=0;switch(le=Math.abs(le),Se=Math.abs(Se),Y){case"top-right":case"top-left":case"top":qe=Se-7;break;case"bottom-right":case"bottom-left":case"bottom":qe=7-Se}switch(Y){case"top-right":case"bottom-right":case"right":Pe=-le;break;case"top-left":case"bottom-left":case"left":Pe=le}return[Pe,qe]}(S,R[0],R[1]):function(Y,le){var Se=0,Pe=0;le<0&&(le=0);var qe=le/Math.sqrt(2);switch(Y){case"top-right":case"top-left":Pe=qe-7;break;case"bottom-right":case"bottom-left":Pe=7-qe;break;case"bottom":Pe=7-le;break;case"top":Pe=le-7}switch(Y){case"top-right":case"bottom-right":Se=-qe;break;case"top-left":case"bottom-left":Se=qe;break;case"left":Se=le;break;case"right":Se=-le}return[Se,Pe]}(S,R[0])}function Bm(S){switch(S){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var ic=32640;function C2(S,R,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn){var Mn=function(ar,ur,hr,Dr,Er,Nr,Hr,oi){for(var Wr=Dr.layout.get("text-rotate").evaluate(Nr,{})*Math.PI/180,ri=[],Jr=0,qr=ur.positionedLines;Jr<qr.length;Jr+=1)for(var _i=qr[Jr],si=0,Gi=_i.positionedGlyphs;si<Gi.length;si+=1){var ei=Gi[si];if(ei.rect){var Vi=ei.rect||{},Ki=4,ta=!0,sa=1,Yi=0,Ua=(Er||oi)&&ei.vertical,da=ei.metrics.advance*ei.scale/2;if(oi&&ur.verticalizable){var io=(ei.scale-1)*Oo,Po=(Oo-ei.metrics.width*ei.scale)/2;Yi=_i.lineOffset/2-(ei.imageName?-Po:io)}if(ei.imageName){var bo=Hr[ei.imageName];ta=bo.sdf,Ki=1/(sa=bo.pixelRatio)}var ts=Er?[ei.x+da,ei.y]:[0,0],_o=Er?[0,0]:[ei.x+da+hr[0],ei.y+hr[1]-Yi],Ga=[0,0];Ua&&(Ga=_o,_o=[0,0]);var wo=(ei.metrics.left-Ki)*ei.scale-da+_o[0],ao=(-ei.metrics.top-Ki)*ei.scale+_o[1],Ya=wo+Vi.w*ei.scale/sa,ui=ao+Vi.h*ei.scale/sa,Li=new t(wo,ao),xa=new t(Ya,ao),Hi=new t(wo,ui),ma=new t(Ya,ui);if(Ua){var la=new t(-da,da-Pd),Di=-Math.PI/2,ba=12-da,ns=ei.imageName?ba:0,$s=new t(22-ba,-ns),Ho=new(Function.prototype.bind.apply(t,[null].concat(Ga)));Li._rotateAround(Di,la)._add($s)._add(Ho),xa._rotateAround(Di,la)._add($s)._add(Ho),Hi._rotateAround(Di,la)._add($s)._add(Ho),ma._rotateAround(Di,la)._add($s)._add(Ho)}if(Wr){var cu=Math.sin(Wr),Hu=Math.cos(Wr),oo=[Hu,-cu,cu,Hu];Li._matMult(oo),xa._matMult(oo),Hi._matMult(oo),ma._matMult(oo)}var fu=new t(0,0),Ul=new t(0,0);ri.push({tl:Li,tr:xa,bl:Hi,br:ma,tex:Vi,writingMode:ur.writingMode,glyphOffset:ts,sectionIndex:ei.sectionIndex,isSDF:ta,pixelOffsetTL:fu,pixelOffsetBR:Ul,minFontScaleX:0,minFontScaleY:0})}}return ri}(0,Y,it,Se,Pe,qe,le,S.allowVerticalPlacement),Un=S.textSizeData,jn=null;Un.kind==="source"?(jn=[wu*Se.layout.get("text-size").evaluate(qe,{})])[0]>ic&&E(S.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Un.kind==="composite"&&((jn=[wu*Xt.compositeTextSizes[0].evaluate(qe,{},hn),wu*Xt.compositeTextSizes[1].evaluate(qe,{},hn)])[0]>ic||jn[1]>ic)&&E(S.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),S.addSymbols(S.text,Mn,jn,it,Pe,qe,Ot,R,gt.lineStartIndex,gt.lineLength,Jt,hn);for(var Zn=0,Kn=zt;Zn<Kn.length;Zn+=1)Gt[Kn[Zn]]=S.text.placedSymbolArray.length-1;return 4*Mn.length}function L2(S){for(var R in S)return S[R];return null}function w6(S,R,Y,le){var Se=S.compareText;if(R in Se){for(var Pe=Se[R],qe=Pe.length-1;qe>=0;qe--)if(le.dist(Pe[qe])<Y)return!0}else Se[R]=[];return Se[R].push(le),!1}var k6=Af.VectorTileFeature.types,T6=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Bd(S,R,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt){var Xt=it?Math.min(ic,Math.round(it[0])):0,hn=it?Math.min(ic,Math.round(it[1])):0;S.emplaceBack(R,Y,Math.round(32*le),Math.round(32*Se),Pe,qe,(Xt<<1)+(gt?1:0),hn,16*Ot,16*zt,256*Gt,256*Jt)}function jm(S,R,Y){S.emplaceBack(R.x,R.y,Y),S.emplaceBack(R.x,R.y,Y),S.emplaceBack(R.x,R.y,Y),S.emplaceBack(R.x,R.y,Y)}function A6(S){for(var R=0,Y=S.sections;R<Y.length;R+=1)if($o(Y[R].text))return!0;return!1}var Pf=function(S){this.layoutVertexArray=new At,this.indexArray=new He,this.programConfigurations=S,this.segments=new cn,this.dynamicLayoutVertexArray=new j,this.opacityVertexArray=new X,this.placedSymbolArray=new lt};Pf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Pf.prototype.upload=function(S,R,Y,le){this.isEmpty()||(Y&&(this.layoutVertexBuffer=S.createVertexBuffer(this.layoutVertexArray,Im.members),this.indexBuffer=S.createIndexBuffer(this.indexArray,R),this.dynamicLayoutVertexBuffer=S.createVertexBuffer(this.dynamicLayoutVertexArray,$4.members,!0),this.opacityVertexBuffer=S.createVertexBuffer(this.opacityVertexArray,T6,!0),this.opacityVertexBuffer.itemSize=1),(Y||le)&&this.programConfigurations.upload(S))},Pf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ir("SymbolBuffers",Pf);var jp=function(S,R,Y){this.layoutVertexArray=new S,this.layoutAttributes=R,this.indexArray=new Y,this.segments=new cn,this.collisionVertexArray=new Ie};jp.prototype.upload=function(S){this.layoutVertexBuffer=S.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=S.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=S.createVertexBuffer(this.collisionVertexArray,Q4.members,!0)},jp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ir("CollisionBuffers",jp);var Ui=function(S){this.collisionBoxArray=S.collisionBoxArray,this.zoom=S.zoom,this.overscaling=S.overscaling,this.layers=S.layers,this.layerIds=this.layers.map(function(qe){return qe.id}),this.index=S.index,this.pixelRatio=S.pixelRatio,this.sourceLayerIndex=S.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=wm([]),this.placementViewportMatrix=wm([]);var R=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Fm(this.zoom,R["text-size"]),this.iconSizeData=Fm(this.zoom,R["icon-size"]);var Y=this.layers[0].layout,le=Y.get("symbol-sort-key"),Se=Y.get("symbol-z-order");this.sortFeaturesByKey=Se!=="viewport-y"&&le.constantOr(1)!==void 0;var Pe=Se==="viewport-y"||Se==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Pe&&(Y.get("text-allow-overlap")||Y.get("icon-allow-overlap")||Y.get("text-ignore-placement")||Y.get("icon-ignore-placement")),Y.get("symbol-placement")==="point"&&(this.writingModes=Y.get("text-writing-mode").map(function(qe){return cl[qe]})),this.stateDependentLayerIds=this.layers.filter(function(qe){return qe.isStateDependent()}).map(function(qe){return qe.id}),this.sourceID=S.sourceID};Ui.prototype.createArrays=function(){this.text=new Pf(new _t(Im.members,this.layers,this.zoom,function(S){return/^text/.test(S)})),this.icon=new Pf(new _t(Im.members,this.layers,this.zoom,function(S){return/^icon/.test(S)})),this.glyphOffsetArray=new Ut,this.lineVertexArray=new qt,this.symbolInstances=new Ft},Ui.prototype.calculateGlyphDependencies=function(S,R,Y,le,Se){for(var Pe=0;Pe<S.length;Pe++)if(R[S.charCodeAt(Pe)]=!0,(Y||le)&&Se){var qe=Fp[S.charAt(Pe)];qe&&(R[qe.charCodeAt(0)]=!0)}},Ui.prototype.populate=function(S,R,Y){var le=this.layers[0],Se=le.layout,Pe=Se.get("text-font"),qe=Se.get("text-field"),it=Se.get("icon-image"),gt=(qe.value.kind!=="constant"||qe.value.value instanceof Hn&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),Ot=it.value.kind!=="constant"||!!it.value.value||Object.keys(it.parameters).length>0,zt=Se.get("symbol-sort-key");if(this.features=[],gt||Ot){for(var Gt=R.iconDependencies,Jt=R.glyphDependencies,Xt=R.availableImages,hn=new Ti(this.zoom),Mn=0,Un=S;Mn<Un.length;Mn+=1){var jn=Un[Mn],Zn=jn.feature,Kn=jn.id,ar=jn.index,ur=jn.sourceLayerIndex,hr=le._featureFilter.needGeometry,Dr={type:Zn.type,id:Kn,properties:Zn.properties,geometry:hr?Yr(Zn):[]};if(le._featureFilter.filter(hn,Dr,Y)){hr||(Dr.geometry=Yr(Zn));var Er=void 0;if(gt){var Nr=le.getValueAndResolveTokens("text-field",Dr,Y,Xt),Hr=Hn.factory(Nr);A6(Hr)&&(this.hasRTLText=!0),(!this.hasRTLText||yo()==="unavailable"||this.hasRTLText&&Ra.isParsed())&&(Er=t6(Hr,le,Dr))}var oi=void 0;if(Ot){var Wr=le.getValueAndResolveTokens("icon-image",Dr,Y,Xt);oi=Wr instanceof Yn?Wr:Yn.fromString(Wr)}if(Er||oi){var ri=this.sortFeaturesByKey?zt.evaluate(Dr,{},Y):void 0,Jr={id:Kn,text:Er,icon:oi,index:ar,sourceLayerIndex:ur,geometry:Yr(Zn),properties:Zn.properties,type:k6[Zn.type],sortKey:ri};if(this.features.push(Jr),oi&&(Gt[oi.name]=!0),Er){var qr=Pe.evaluate(Dr,{},Y).join(","),_i=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(cl.vertical)>=0;for(var si=0,Gi=Er.sections;si<Gi.length;si+=1){var ei=Gi[si];if(ei.image)Gt[ei.image.name]=!0;else{var Vi=sl(Er.toString()),Ki=ei.fontStack||qr,ta=Jt[Ki]=Jt[Ki]||{};this.calculateGlyphDependencies(ei.text,ta,_i,this.allowVerticalPlacement,Vi)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=function(sa){var Yi={},Ua={},da=[],io=0;function Po(ma){da.push(sa[ma]),io++}function bo(ma,la,Di){var ba=Ua[ma];return delete Ua[ma],Ua[la]=ba,da[ba].geometry[0].pop(),da[ba].geometry[0]=da[ba].geometry[0].concat(Di[0]),ba}function ts(ma,la,Di){var ba=Yi[la];return delete Yi[la],Yi[ma]=ba,da[ba].geometry[0].shift(),da[ba].geometry[0]=Di[0].concat(da[ba].geometry[0]),ba}function _o(ma,la,Di){var ba=Di?la[0][la[0].length-1]:la[0][0];return ma+":"+ba.x+":"+ba.y}for(var Ga=0;Ga<sa.length;Ga++){var wo=sa[Ga],ao=wo.geometry,Ya=wo.text?wo.text.toString():null;if(Ya){var ui=_o(Ya,ao),Li=_o(Ya,ao,!0);if(ui in Ua&&Li in Yi&&Ua[ui]!==Yi[Li]){var xa=ts(ui,Li,ao),Hi=bo(ui,Li,da[xa].geometry);delete Yi[ui],delete Ua[Li],Ua[_o(Ya,da[Hi].geometry,!0)]=Hi,da[xa].geometry=null}else ui in Ua?bo(ui,Li,ao):Li in Yi?ts(ui,Li,ao):(Po(Ga),Yi[ui]=io-1,Ua[Li]=io-1)}else Po(Ga)}return da.filter(function(ma){return ma.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(sa,Yi){return sa.sortKey-Yi.sortKey})}},Ui.prototype.update=function(S,R,Y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(S,R,this.layers,Y),this.icon.programConfigurations.updatePaintArrays(S,R,this.layers,Y))},Ui.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ui.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ui.prototype.upload=function(S){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(S),this.iconCollisionBox.upload(S)),this.text.upload(S,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(S,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ui.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ui.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ui.prototype.addToLineVertexArray=function(S,R){var Y=this.lineVertexArray.length;if(S.segment!==void 0){for(var le=S.dist(R[S.segment+1]),Se=S.dist(R[S.segment]),Pe={},qe=S.segment+1;qe<R.length;qe++)Pe[qe]={x:R[qe].x,y:R[qe].y,tileUnitDistanceFromAnchor:le},qe<R.length-1&&(le+=R[qe+1].dist(R[qe]));for(var it=S.segment||0;it>=0;it--)Pe[it]={x:R[it].x,y:R[it].y,tileUnitDistanceFromAnchor:Se},it>0&&(Se+=R[it-1].dist(R[it]));for(var gt=0;gt<R.length;gt++){var Ot=Pe[gt];this.lineVertexArray.emplaceBack(Ot.x,Ot.y,Ot.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Y,lineLength:this.lineVertexArray.length-Y}},Ui.prototype.addSymbols=function(S,R,Y,le,Se,Pe,qe,it,gt,Ot,zt,Gt){for(var Jt=S.indexArray,Xt=S.layoutVertexArray,hn=S.segments.prepareSegment(4*R.length,Xt,Jt,Pe.sortKey),Mn=this.glyphOffsetArray.length,Un=hn.vertexLength,jn=this.allowVerticalPlacement&&qe===cl.vertical?Math.PI/2:0,Zn=Pe.text&&Pe.text.sections,Kn=0;Kn<R.length;Kn++){var ar=R[Kn],ur=ar.tl,hr=ar.tr,Dr=ar.bl,Er=ar.br,Nr=ar.tex,Hr=ar.pixelOffsetTL,oi=ar.pixelOffsetBR,Wr=ar.minFontScaleX,ri=ar.minFontScaleY,Jr=ar.glyphOffset,qr=ar.isSDF,_i=ar.sectionIndex,si=hn.vertexLength,Gi=Jr[1];Bd(Xt,it.x,it.y,ur.x,Gi+ur.y,Nr.x,Nr.y,Y,qr,Hr.x,Hr.y,Wr,ri),Bd(Xt,it.x,it.y,hr.x,Gi+hr.y,Nr.x+Nr.w,Nr.y,Y,qr,oi.x,Hr.y,Wr,ri),Bd(Xt,it.x,it.y,Dr.x,Gi+Dr.y,Nr.x,Nr.y+Nr.h,Y,qr,Hr.x,oi.y,Wr,ri),Bd(Xt,it.x,it.y,Er.x,Gi+Er.y,Nr.x+Nr.w,Nr.y+Nr.h,Y,qr,oi.x,oi.y,Wr,ri),jm(S.dynamicLayoutVertexArray,it,jn),Jt.emplaceBack(si,si+1,si+2),Jt.emplaceBack(si+1,si+2,si+3),hn.vertexLength+=4,hn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Jr[0]),Kn!==R.length-1&&_i===R[Kn+1].sectionIndex||S.programConfigurations.populatePaintArrays(Xt.length,Pe,Pe.index,{},Gt,Zn&&Zn[_i])}S.placedSymbolArray.emplaceBack(it.x,it.y,Mn,this.glyphOffsetArray.length-Mn,Un,gt,Ot,it.segment,Y?Y[0]:0,Y?Y[1]:0,le[0],le[1],qe,0,!1,0,zt)},Ui.prototype._addCollisionDebugVertex=function(S,R,Y,le,Se,Pe){return R.emplaceBack(0,0),S.emplaceBack(Y.x,Y.y,le,Se,Math.round(Pe.x),Math.round(Pe.y))},Ui.prototype.addCollisionDebugVertices=function(S,R,Y,le,Se,Pe,qe){var it=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),gt=it.vertexLength,Ot=Se.layoutVertexArray,zt=Se.collisionVertexArray,Gt=qe.anchorX,Jt=qe.anchorY;this._addCollisionDebugVertex(Ot,zt,Pe,Gt,Jt,new t(S,R)),this._addCollisionDebugVertex(Ot,zt,Pe,Gt,Jt,new t(Y,R)),this._addCollisionDebugVertex(Ot,zt,Pe,Gt,Jt,new t(Y,le)),this._addCollisionDebugVertex(Ot,zt,Pe,Gt,Jt,new t(S,le)),it.vertexLength+=4;var Xt=Se.indexArray;Xt.emplaceBack(gt,gt+1),Xt.emplaceBack(gt+1,gt+2),Xt.emplaceBack(gt+2,gt+3),Xt.emplaceBack(gt+3,gt),it.primitiveLength+=4},Ui.prototype.addDebugCollisionBoxes=function(S,R,Y,le){for(var Se=S;Se<R;Se++){var Pe=this.collisionBoxArray.get(Se),qe=Pe.x1,it=Pe.y1,gt=Pe.x2,Ot=Pe.y2;this.addCollisionDebugVertices(qe,it,gt,Ot,le?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,Y)}},Ui.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new jp(ie,a2.members,de),this.iconCollisionBox=new jp(ie,a2.members,de);for(var S=0;S<this.symbolInstances.length;S++){var R=this.symbolInstances.get(S);this.addDebugCollisionBoxes(R.textBoxStartIndex,R.textBoxEndIndex,R,!0),this.addDebugCollisionBoxes(R.verticalTextBoxStartIndex,R.verticalTextBoxEndIndex,R,!0),this.addDebugCollisionBoxes(R.iconBoxStartIndex,R.iconBoxEndIndex,R,!1),this.addDebugCollisionBoxes(R.verticalIconBoxStartIndex,R.verticalIconBoxEndIndex,R,!1)}},Ui.prototype._deserializeCollisionBoxesForSymbol=function(S,R,Y,le,Se,Pe,qe,it,gt){for(var Ot={},zt=R;zt<Y;zt++){var Gt=S.get(zt);Ot.textBox={x1:Gt.x1,y1:Gt.y1,x2:Gt.x2,y2:Gt.y2,anchorPointX:Gt.anchorPointX,anchorPointY:Gt.anchorPointY},Ot.textFeatureIndex=Gt.featureIndex;break}for(var Jt=le;Jt<Se;Jt++){var Xt=S.get(Jt);Ot.verticalTextBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,anchorPointX:Xt.anchorPointX,anchorPointY:Xt.anchorPointY},Ot.verticalTextFeatureIndex=Xt.featureIndex;break}for(var hn=Pe;hn<qe;hn++){var Mn=S.get(hn);Ot.iconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},Ot.iconFeatureIndex=Mn.featureIndex;break}for(var Un=it;Un<gt;Un++){var jn=S.get(Un);Ot.verticalIconBox={x1:jn.x1,y1:jn.y1,x2:jn.x2,y2:jn.y2,anchorPointX:jn.anchorPointX,anchorPointY:jn.anchorPointY},Ot.verticalIconFeatureIndex=jn.featureIndex;break}return Ot},Ui.prototype.deserializeCollisionBoxes=function(S){this.collisionArrays=[];for(var R=0;R<this.symbolInstances.length;R++){var Y=this.symbolInstances.get(R);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(S,Y.textBoxStartIndex,Y.textBoxEndIndex,Y.verticalTextBoxStartIndex,Y.verticalTextBoxEndIndex,Y.iconBoxStartIndex,Y.iconBoxEndIndex,Y.verticalIconBoxStartIndex,Y.verticalIconBoxEndIndex))}},Ui.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ui.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ui.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ui.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ui.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ui.prototype.addIndicesForPlacedSymbol=function(S,R){for(var Y=S.placedSymbolArray.get(R),le=Y.vertexStartIndex+4*Y.numGlyphs,Se=Y.vertexStartIndex;Se<le;Se+=4)S.indexArray.emplaceBack(Se,Se+1,Se+2),S.indexArray.emplaceBack(Se+1,Se+2,Se+3)},Ui.prototype.getSortedSymbolIndexes=function(S){if(this.sortedAngle===S&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var R=Math.sin(S),Y=Math.cos(S),le=[],Se=[],Pe=[],qe=0;qe<this.symbolInstances.length;++qe){Pe.push(qe);var it=this.symbolInstances.get(qe);le.push(0|Math.round(R*it.anchorX+Y*it.anchorY)),Se.push(it.featureIndex)}return Pe.sort(function(gt,Ot){return le[gt]-le[Ot]||Se[Ot]-Se[gt]}),Pe},Ui.prototype.addToSortKeyRanges=function(S,R){var Y=this.sortKeyRanges[this.sortKeyRanges.length-1];Y&&Y.sortKey===R?Y.symbolInstanceEnd=S+1:this.sortKeyRanges.push({sortKey:R,symbolInstanceStart:S,symbolInstanceEnd:S+1})},Ui.prototype.sortFeatures=function(S){var R=this;if(this.sortFeaturesByY&&this.sortedAngle!==S&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(S),this.sortedAngle=S,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Y=0,le=this.symbolInstanceIndexes;Y<le.length;Y+=1){var Se=le[Y],Pe=this.symbolInstances.get(Se);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(qe,it,gt){qe>=0&&gt.indexOf(qe)===it&&R.addIndicesForPlacedSymbol(R.text,qe)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ir("SymbolBucket",Ui,{omit:["layers","collisionBoxArray","features","compareText"]}),Ui.MAX_GLYPHS=65535,Ui.addDynamicAttributes=jm;var M6=new ya({"symbol-placement":new Br(Oe.layout_symbol["symbol-placement"]),"symbol-spacing":new Br(Oe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Br(Oe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Zr(Oe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Br(Oe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Br(Oe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Br(Oe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Br(Oe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Br(Oe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Zr(Oe.layout_symbol["icon-size"]),"icon-text-fit":new Br(Oe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Br(Oe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Zr(Oe.layout_symbol["icon-image"]),"icon-rotate":new Zr(Oe.layout_symbol["icon-rotate"]),"icon-padding":new Br(Oe.layout_symbol["icon-padding"]),"icon-keep-upright":new Br(Oe.layout_symbol["icon-keep-upright"]),"icon-offset":new Zr(Oe.layout_symbol["icon-offset"]),"icon-anchor":new Zr(Oe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Br(Oe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Br(Oe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Br(Oe.layout_symbol["text-rotation-alignment"]),"text-field":new Zr(Oe.layout_symbol["text-field"]),"text-font":new Zr(Oe.layout_symbol["text-font"]),"text-size":new Zr(Oe.layout_symbol["text-size"]),"text-max-width":new Zr(Oe.layout_symbol["text-max-width"]),"text-line-height":new Br(Oe.layout_symbol["text-line-height"]),"text-letter-spacing":new Zr(Oe.layout_symbol["text-letter-spacing"]),"text-justify":new Zr(Oe.layout_symbol["text-justify"]),"text-radial-offset":new Zr(Oe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Br(Oe.layout_symbol["text-variable-anchor"]),"text-anchor":new Zr(Oe.layout_symbol["text-anchor"]),"text-max-angle":new Br(Oe.layout_symbol["text-max-angle"]),"text-writing-mode":new Br(Oe.layout_symbol["text-writing-mode"]),"text-rotate":new Zr(Oe.layout_symbol["text-rotate"]),"text-padding":new Br(Oe.layout_symbol["text-padding"]),"text-keep-upright":new Br(Oe.layout_symbol["text-keep-upright"]),"text-transform":new Zr(Oe.layout_symbol["text-transform"]),"text-offset":new Zr(Oe.layout_symbol["text-offset"]),"text-allow-overlap":new Br(Oe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Br(Oe.layout_symbol["text-ignore-placement"]),"text-optional":new Br(Oe.layout_symbol["text-optional"])}),Um={paint:new ya({"icon-opacity":new Zr(Oe.paint_symbol["icon-opacity"]),"icon-color":new Zr(Oe.paint_symbol["icon-color"]),"icon-halo-color":new Zr(Oe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Zr(Oe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Zr(Oe.paint_symbol["icon-halo-blur"]),"icon-translate":new Br(Oe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Br(Oe.paint_symbol["icon-translate-anchor"]),"text-opacity":new Zr(Oe.paint_symbol["text-opacity"]),"text-color":new Zr(Oe.paint_symbol["text-color"],{runtimeType:Bt,getOverride:function(S){return S.textColor},hasOverride:function(S){return!!S.textColor}}),"text-halo-color":new Zr(Oe.paint_symbol["text-halo-color"]),"text-halo-width":new Zr(Oe.paint_symbol["text-halo-width"]),"text-halo-blur":new Zr(Oe.paint_symbol["text-halo-blur"]),"text-translate":new Br(Oe.paint_symbol["text-translate"]),"text-translate-anchor":new Br(Oe.paint_symbol["text-translate-anchor"])}),layout:M6},If=function(S){this.type=S.property.overrides?S.property.overrides.runtimeType:yt,this.defaultValue=S};If.prototype.evaluate=function(S){if(S.formattedSection){var R=this.defaultValue.property.overrides;if(R&&R.hasOverride(S.formattedSection))return R.getOverride(S.formattedSection)}return S.feature&&S.featureState?this.defaultValue.evaluate(S.feature,S.featureState):this.defaultValue.property.specification.default},If.prototype.eachChild=function(S){this.defaultValue.isConstant()||S(this.defaultValue.value._styleExpression.expression)},If.prototype.outputDefined=function(){return!1},If.prototype.serialize=function(){return null},Ir("FormatSectionOverride",If,{omit:["defaultValue"]});var S6=function(S){function R(Y){S.call(this,Y,Um)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(Y,le){if(S.prototype.recalculate.call(this,Y,le),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var Pe=[],qe=0,it=Se;qe<it.length;qe+=1){var gt=it[qe];Pe.indexOf(gt)<0&&Pe.push(gt)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(Y,le,Se,Pe){var qe=this.layout.get(Y).evaluate(le,{},Se,Pe),it=this._unevaluatedLayout._values[Y];return it.isDataDriven()||gs(it.value)||!qe?qe:function(gt,Ot){return Ot.replace(/{([^{}]+)}/g,function(zt,Gt){return Gt in gt?String(gt[Gt]):""})}(le.properties,qe)},R.prototype.createBucket=function(Y){return new Ui(Y)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var Y=0,le=Um.paint.overridableProperties;Y<le.length;Y+=1){var Se=le[Y];if(R.hasPaintOverride(this.layout,Se)){var Pe,qe=this.paint.get(Se),it=new If(qe),gt=new zs(it,qe.property.specification);Pe=qe.value.kind==="constant"||qe.value.kind==="source"?new Ns("source",gt):new Bs("composite",gt,qe.value.zoomStops,qe.value._interpolationType),this.paint._values[Se]=new ha(qe.property,Pe,qe.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(Y,le,Se){return!(!this.layout||le.isDataDriven()||Se.isDataDriven())&&R.hasPaintOverride(this.layout,Y)},R.hasPaintOverride=function(Y,le){var Se=Y.get("text-field"),Pe=Um.paint.properties[le],qe=!1,it=function(zt){for(var Gt=0,Jt=zt;Gt<Jt.length;Gt+=1){var Xt=Jt[Gt];if(Pe.overrides&&Pe.overrides.hasOverride(Xt))return void(qe=!0)}};if(Se.value.kind==="constant"&&Se.value.value instanceof Hn)it(Se.value.value.sections);else if(Se.value.kind==="source"){var gt=function(zt){if(!qe)if(zt instanceof gr&&ir(zt.value)===tn){var Gt=zt.value;it(Gt.sections)}else zt instanceof Qt?it(zt.sections):zt.eachChild(gt)},Ot=Se.value;Ot._styleExpression&&gt(Ot._styleExpression.expression)}return qe},R}(Fa),E6={paint:new ya({"background-color":new Br(Oe.paint_background["background-color"]),"background-pattern":new Qo(Oe.paint_background["background-pattern"]),"background-opacity":new Br(Oe.paint_background["background-opacity"])})},C6=function(S){function R(Y){S.call(this,Y,E6)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R}(Fa),L6={paint:new ya({"raster-opacity":new Br(Oe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Br(Oe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Br(Oe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Br(Oe.paint_raster["raster-brightness-max"]),"raster-saturation":new Br(Oe.paint_raster["raster-saturation"]),"raster-contrast":new Br(Oe.paint_raster["raster-contrast"]),"raster-resampling":new Br(Oe.paint_raster["raster-resampling"]),"raster-fade-duration":new Br(Oe.paint_raster["raster-fade-duration"])})},O6=function(S){function R(Y){S.call(this,Y,L6)}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R}(Fa),P6=function(S){function R(Y){S.call(this,Y,{}),this.implementation=Y}return S&&(R.__proto__=S),R.prototype=Object.create(S&&S.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(Y){this.implementation.onAdd&&this.implementation.onAdd(Y,Y.painter.context.gl)},R.prototype.onRemove=function(Y){this.implementation.onRemove&&this.implementation.onRemove(Y,Y.painter.context.gl)},R}(Fa),I6={circle:y4,heatmap:b4,hillshade:w4,fill:N4,"fill-extrusion":G4,line:K4,symbol:S6,background:C6,raster:O6},O2=self.HTMLImageElement,P2=self.HTMLCanvasElement,I2=self.HTMLVideoElement,D2=self.ImageData,jd=self.ImageBitmap,Bc=function(S,R,Y,le){this.context=S,this.format=Y,this.texture=S.gl.createTexture(),this.update(R,le)};Bc.prototype.update=function(S,R,Y){var le=S.width,Se=S.height,Pe=!(this.size&&this.size[0]===le&&this.size[1]===Se||Y),qe=this.context,it=qe.gl;if(this.useMipmap=!!(R&&R.useMipmap),it.bindTexture(it.TEXTURE_2D,this.texture),qe.pixelStoreUnpackFlipY.set(!1),qe.pixelStoreUnpack.set(1),qe.pixelStoreUnpackPremultiplyAlpha.set(this.format===it.RGBA&&(!R||R.premultiply!==!1)),Pe)this.size=[le,Se],S instanceof O2||S instanceof P2||S instanceof I2||S instanceof D2||jd&&S instanceof jd?it.texImage2D(it.TEXTURE_2D,0,this.format,this.format,it.UNSIGNED_BYTE,S):it.texImage2D(it.TEXTURE_2D,0,this.format,le,Se,0,this.format,it.UNSIGNED_BYTE,S.data);else{var gt=Y||{x:0,y:0},Ot=gt.x,zt=gt.y;S instanceof O2||S instanceof P2||S instanceof I2||S instanceof D2||jd&&S instanceof jd?it.texSubImage2D(it.TEXTURE_2D,0,Ot,zt,it.RGBA,it.UNSIGNED_BYTE,S):it.texSubImage2D(it.TEXTURE_2D,0,Ot,zt,le,Se,it.RGBA,it.UNSIGNED_BYTE,S.data)}this.useMipmap&&this.isSizePowerOfTwo()&&it.generateMipmap(it.TEXTURE_2D)},Bc.prototype.bind=function(S,R,Y){var le=this.context.gl;le.bindTexture(le.TEXTURE_2D,this.texture),Y!==le.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Y=le.LINEAR),S!==this.filter&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,S),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,Y||S),this.filter=S),R!==this.wrap&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,R),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,R),this.wrap=R)},Bc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Bc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Vm=function(S){var R=this;this._callback=S,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){R._triggered=!1,R._callback()})};Vm.prototype.trigger=function(){var S=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){S._triggered=!1,S._callback()},0))},Vm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Df=function(S,R,Y){this.target=S,this.parent=R,this.mapId=Y,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},d(["receive","process"],this),this.invoker=new Vm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?S:self};function R2(S,R,Y){var le=2*Math.PI*6378137/256/Math.pow(2,Y);return[S*le-2*Math.PI*6378137/2,R*le-2*Math.PI*6378137/2]}Df.prototype.send=function(S,R,Y,le,Se){var Pe=this;Se===void 0&&(Se=!1);var qe=Math.round(1e18*Math.random()).toString(36).substring(0,10);Y&&(this.callbacks[qe]=Y);var it=z(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:S,hasCallback:!!Y,targetMapId:le,mustQueue:Se,sourceMapId:this.mapId,data:Gs(R,it)},it),{cancel:function(){Y&&delete Pe.callbacks[qe],Pe.target.postMessage({id:qe,type:"<cancel>",targetMapId:le,sourceMapId:Pe.mapId})}}},Df.prototype.receive=function(S){var R=S.data,Y=R.id;if(Y&&(!R.targetMapId||this.mapId===R.targetMapId))if(R.type==="<cancel>"){delete this.tasks[Y];var le=this.cancelCallbacks[Y];delete this.cancelCallbacks[Y],le&&le()}else O()||R.mustQueue?(this.tasks[Y]=R,this.taskQueue.push(Y),this.invoker.trigger()):this.processTask(Y,R)},Df.prototype.process=function(){if(this.taskQueue.length){var S=this.taskQueue.shift(),R=this.tasks[S];delete this.tasks[S],this.taskQueue.length&&this.invoker.trigger(),R&&this.processTask(S,R)}},Df.prototype.processTask=function(S,R){var Y=this;if(R.type==="<response>"){var le=this.callbacks[S];delete this.callbacks[S],le&&(R.error?le(Mo(R.error)):le(null,Mo(R.data)))}else{var Se=!1,Pe=z(this.globalScope)?void 0:[],qe=R.hasCallback?function(zt,Gt){Se=!0,delete Y.cancelCallbacks[S],Y.target.postMessage({id:S,type:"<response>",sourceMapId:Y.mapId,error:zt?Gs(zt):null,data:Gs(Gt,Pe)},Pe)}:function(zt){Se=!0},it=null,gt=Mo(R.data);if(this.parent[R.type])it=this.parent[R.type](R.sourceMapId,gt,qe);else if(this.parent.getWorkerSource){var Ot=R.type.split(".");it=this.parent.getWorkerSource(R.sourceMapId,Ot[0],gt.source)[Ot[1]](gt,qe)}else qe(new Error("Could not find function "+R.type));!Se&&it&&it.cancel&&(this.cancelCallbacks[S]=it.cancel)}},Df.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Ba=function(S,R){S&&(R?this.setSouthWest(S).setNorthEast(R):S.length===4?this.setSouthWest([S[0],S[1]]).setNorthEast([S[2],S[3]]):this.setSouthWest(S[0]).setNorthEast(S[1]))};Ba.prototype.setNorthEast=function(S){return this._ne=S instanceof oa?new oa(S.lng,S.lat):oa.convert(S),this},Ba.prototype.setSouthWest=function(S){return this._sw=S instanceof oa?new oa(S.lng,S.lat):oa.convert(S),this},Ba.prototype.extend=function(S){var R,Y,le=this._sw,Se=this._ne;if(S instanceof oa)R=S,Y=S;else{if(!(S instanceof Ba)){if(Array.isArray(S)){if(S.length===4||S.every(Array.isArray)){var Pe=S;return this.extend(Ba.convert(Pe))}var qe=S;return this.extend(oa.convert(qe))}return this}if(R=S._sw,Y=S._ne,!R||!Y)return this}return le||Se?(le.lng=Math.min(R.lng,le.lng),le.lat=Math.min(R.lat,le.lat),Se.lng=Math.max(Y.lng,Se.lng),Se.lat=Math.max(Y.lat,Se.lat)):(this._sw=new oa(R.lng,R.lat),this._ne=new oa(Y.lng,Y.lat)),this},Ba.prototype.getCenter=function(){return new oa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ba.prototype.getSouthWest=function(){return this._sw},Ba.prototype.getNorthEast=function(){return this._ne},Ba.prototype.getNorthWest=function(){return new oa(this.getWest(),this.getNorth())},Ba.prototype.getSouthEast=function(){return new oa(this.getEast(),this.getSouth())},Ba.prototype.getWest=function(){return this._sw.lng},Ba.prototype.getSouth=function(){return this._sw.lat},Ba.prototype.getEast=function(){return this._ne.lng},Ba.prototype.getNorth=function(){return this._ne.lat},Ba.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ba.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Ba.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ba.prototype.contains=function(S){var R=oa.convert(S),Y=R.lng,le=R.lat,Se=this._sw.lat<=le&&le<=this._ne.lat,Pe=this._sw.lng<=Y&&Y<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=Y&&Y>=this._ne.lng),Se&&Pe},Ba.convert=function(S){return!S||S instanceof Ba?S:new Ba(S)};var z2=63710088e-1,oa=function(S,R){if(isNaN(S)||isNaN(R))throw new Error("Invalid LngLat object: ("+S+", "+R+")");if(this.lng=+S,this.lat=+R,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};oa.prototype.wrap=function(){return new oa(i(this.lng,-180,180),this.lat)},oa.prototype.toArray=function(){return[this.lng,this.lat]},oa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},oa.prototype.distanceTo=function(S){var R=Math.PI/180,Y=this.lat*R,le=S.lat*R,Se=Math.sin(Y)*Math.sin(le)+Math.cos(Y)*Math.cos(le)*Math.cos((S.lng-this.lng)*R);return z2*Math.acos(Math.min(Se,1))},oa.prototype.toBounds=function(S){S===void 0&&(S=0);var R=360*S/40075017,Y=R/Math.cos(Math.PI/180*this.lat);return new Ba(new oa(this.lng-Y,this.lat-R),new oa(this.lng+Y,this.lat+R))},oa.convert=function(S){if(S instanceof oa)return S;if(Array.isArray(S)&&(S.length===2||S.length===3))return new oa(Number(S[0]),Number(S[1]));if(!Array.isArray(S)&&typeof S=="object"&&S!==null)return new oa(Number("lng"in S?S.lng:S.lon),Number(S.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var F2=2*Math.PI*z2;function N2(S){return F2*Math.cos(S*Math.PI/180)}function B2(S){return(180+S)/360}function j2(S){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+S*Math.PI/360)))/360}function U2(S,R){return S/N2(R)}function Hm(S){var R=180-360*S;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}var jc=function(S,R,Y){Y===void 0&&(Y=0),this.x=+S,this.y=+R,this.z=+Y};jc.fromLngLat=function(S,R){R===void 0&&(R=0);var Y=oa.convert(S);return new jc(B2(Y.lng),j2(Y.lat),U2(R,Y.lat))},jc.prototype.toLngLat=function(){return new oa(360*this.x-180,Hm(this.y))},jc.prototype.toAltitude=function(){return S=this.z,R=this.y,S*N2(Hm(R));var S,R},jc.prototype.meterInMercatorCoordinateUnits=function(){return 1/F2*(S=Hm(this.y),1/Math.cos(S*Math.PI/180));var S};var Uc=function(S,R,Y){this.z=S,this.x=R,this.y=Y,this.key=Up(0,S,S,R,Y)};Uc.prototype.equals=function(S){return this.z===S.z&&this.x===S.x&&this.y===S.y},Uc.prototype.url=function(S,R){var Y,le,Se,Pe,qe,it=(Y=this.x,le=this.y,Se=this.z,Pe=R2(256*Y,256*(le=Math.pow(2,Se)-le-1),Se),qe=R2(256*(Y+1),256*(le+1),Se),Pe[0]+","+Pe[1]+","+qe[0]+","+qe[1]),gt=function(Ot,zt,Gt){for(var Jt,Xt="",hn=Ot;hn>0;hn--)Xt+=(zt&(Jt=1<<hn-1)?1:0)+(Gt&Jt?2:0);return Xt}(this.z,this.x,this.y);return S[(this.x+this.y)%S.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(R==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",gt).replace("{bbox-epsg-3857}",it)},Uc.prototype.getTilePoint=function(S){var R=Math.pow(2,this.z);return new t((S.x*R-this.x)*Cn,(S.y*R-this.y)*Cn)},Uc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var V2=function(S,R){this.wrap=S,this.canonical=R,this.key=Up(S,R.z,R.z,R.x,R.y)},ja=function(S,R,Y,le,Se){this.overscaledZ=S,this.wrap=R,this.canonical=new Uc(Y,+le,+Se),this.key=Up(R,S,Y,le,Se)};function Up(S,R,Y,le,Se){(S*=2)<0&&(S=-1*S-1);var Pe=1<<Y;return(Pe*Pe*S+Pe*Se+le).toString(36)+Y.toString(36)+R.toString(36)}ja.prototype.equals=function(S){return this.overscaledZ===S.overscaledZ&&this.wrap===S.wrap&&this.canonical.equals(S.canonical)},ja.prototype.scaledTo=function(S){var R=this.canonical.z-S;return S>this.canonical.z?new ja(S,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ja(S,this.wrap,S,this.canonical.x>>R,this.canonical.y>>R)},ja.prototype.calculateScaledKey=function(S,R){var Y=this.canonical.z-S;return S>this.canonical.z?Up(this.wrap*+R,S,this.canonical.z,this.canonical.x,this.canonical.y):Up(this.wrap*+R,S,S,this.canonical.x>>Y,this.canonical.y>>Y)},ja.prototype.isChildOf=function(S){if(S.wrap!==this.wrap)return!1;var R=this.canonical.z-S.canonical.z;return S.overscaledZ===0||S.overscaledZ<this.overscaledZ&&S.canonical.x===this.canonical.x>>R&&S.canonical.y===this.canonical.y>>R},ja.prototype.children=function(S){if(this.overscaledZ>=S)return[new ja(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var R=this.canonical.z+1,Y=2*this.canonical.x,le=2*this.canonical.y;return[new ja(R,this.wrap,R,Y,le),new ja(R,this.wrap,R,Y+1,le),new ja(R,this.wrap,R,Y,le+1),new ja(R,this.wrap,R,Y+1,le+1)]},ja.prototype.isLessThan=function(S){return this.wrap<S.wrap||!(this.wrap>S.wrap)&&(this.overscaledZ<S.overscaledZ||!(this.overscaledZ>S.overscaledZ)&&(this.canonical.x<S.canonical.x||!(this.canonical.x>S.canonical.x)&&this.canonical.y<S.canonical.y))},ja.prototype.wrapped=function(){return new ja(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ja.prototype.unwrapTo=function(S){return new ja(this.overscaledZ,S,this.canonical.z,this.canonical.x,this.canonical.y)},ja.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ja.prototype.toUnwrapped=function(){return new V2(this.wrap,this.canonical)},ja.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ja.prototype.getTilePoint=function(S){return this.canonical.getTilePoint(new jc(S.x-this.wrap,S.y))},Ir("CanonicalTileID",Uc),Ir("OverscaledTileID",ja,{omit:["posMatrix"]});var Uu=function(S,R,Y){if(this.uid=S,R.height!==R.width)throw new RangeError("DEM tiles must be square");if(Y&&Y!=="mapbox"&&Y!=="terrarium")return E('"'+Y+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=R.height;var le=this.dim=R.height-2;this.data=new Uint32Array(R.data.buffer),this.encoding=Y||"mapbox";for(var Se=0;Se<le;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(le,Se)]=this.data[this._idx(le-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,le)]=this.data[this._idx(Se,le-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(le,-1)]=this.data[this._idx(le-1,0)],this.data[this._idx(-1,le)]=this.data[this._idx(0,le-1)],this.data[this._idx(le,le)]=this.data[this._idx(le-1,le-1)]};Uu.prototype.get=function(S,R){var Y=new Uint8Array(this.data.buffer),le=4*this._idx(S,R);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(Y[le],Y[le+1],Y[le+2])},Uu.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Uu.prototype._idx=function(S,R){if(S<-1||S>=this.dim+1||R<-1||R>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(R+1)*this.stride+(S+1)},Uu.prototype._unpackMapbox=function(S,R,Y){return(256*S*256+256*R+Y)/10-1e4},Uu.prototype._unpackTerrarium=function(S,R,Y){return 256*S+R+Y/256-32768},Uu.prototype.getPixels=function(){return new ws({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Uu.prototype.backfillBorder=function(S,R,Y){if(this.dim!==S.dim)throw new Error("dem dimension mismatch");var le=R*this.dim,Se=R*this.dim+this.dim,Pe=Y*this.dim,qe=Y*this.dim+this.dim;switch(R){case-1:le=Se-1;break;case 1:Se=le+1}switch(Y){case-1:Pe=qe-1;break;case 1:qe=Pe+1}for(var it=-R*this.dim,gt=-Y*this.dim,Ot=Pe;Ot<qe;Ot++)for(var zt=le;zt<Se;zt++)this.data[this._idx(zt,Ot)]=S.data[this._idx(zt+it,Ot+gt)]},Ir("DEMData",Uu);var Ud=function(S){this._stringToNumber={},this._numberToString=[];for(var R=0;R<S.length;R++){var Y=S[R];this._stringToNumber[Y]=R,this._numberToString[R]=Y}};Ud.prototype.encode=function(S){return this._stringToNumber[S]},Ud.prototype.decode=function(S){return this._numberToString[S]};var Vd=function(S,R,Y,le,Se){this.type="Feature",this._vectorTileFeature=S,S._z=R,S._x=Y,S._y=le,this.properties=S.properties,this.id=Se},qm={geometry:{configurable:!0}};qm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},qm.geometry.set=function(S){this._geometry=S},Vd.prototype.toJSON=function(){var S={geometry:this.geometry};for(var R in this)R!=="_geometry"&&R!=="_vectorTileFeature"&&(S[R]=this[R]);return S},Object.defineProperties(Vd.prototype,qm);var Rf=function(){this.state={},this.stateChanges={},this.deletedStates={}};Rf.prototype.updateState=function(S,R,Y){var le=String(R);if(this.stateChanges[S]=this.stateChanges[S]||{},this.stateChanges[S][le]=this.stateChanges[S][le]||{},u(this.stateChanges[S][le],Y),this.deletedStates[S]===null)for(var Se in this.deletedStates[S]={},this.state[S])Se!==le&&(this.deletedStates[S][Se]=null);else if(this.deletedStates[S]&&this.deletedStates[S][le]===null)for(var Pe in this.deletedStates[S][le]={},this.state[S][le])Y[Pe]||(this.deletedStates[S][le][Pe]=null);else for(var qe in Y)this.deletedStates[S]&&this.deletedStates[S][le]&&this.deletedStates[S][le][qe]===null&&delete this.deletedStates[S][le][qe]},Rf.prototype.removeFeatureState=function(S,R,Y){if(this.deletedStates[S]!==null){var le=String(R);if(this.deletedStates[S]=this.deletedStates[S]||{},Y&&R!==void 0)this.deletedStates[S][le]!==null&&(this.deletedStates[S][le]=this.deletedStates[S][le]||{},this.deletedStates[S][le][Y]=null);else if(R!==void 0)if(this.stateChanges[S]&&this.stateChanges[S][le])for(Y in this.deletedStates[S][le]={},this.stateChanges[S][le])this.deletedStates[S][le][Y]=null;else this.deletedStates[S][le]=null;else this.deletedStates[S]=null}},Rf.prototype.getState=function(S,R){var Y=String(R),le=this.state[S]||{},Se=this.stateChanges[S]||{},Pe=u({},le[Y],Se[Y]);if(this.deletedStates[S]===null)return{};if(this.deletedStates[S]){var qe=this.deletedStates[S][R];if(qe===null)return{};for(var it in qe)delete Pe[it]}return Pe},Rf.prototype.initializeTileState=function(S,R){S.setFeatureState(this.state,R)},Rf.prototype.coalesceChanges=function(S,R){var Y={};for(var le in this.stateChanges){this.state[le]=this.state[le]||{};var Se={};for(var Pe in this.stateChanges[le])this.state[le][Pe]||(this.state[le][Pe]={}),u(this.state[le][Pe],this.stateChanges[le][Pe]),Se[Pe]=this.state[le][Pe];Y[le]=Se}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var it={};if(this.deletedStates[qe]===null)for(var gt in this.state[qe])it[gt]={},this.state[qe][gt]={};else for(var Ot in this.deletedStates[qe]){if(this.deletedStates[qe][Ot]===null)this.state[qe][Ot]={};else for(var zt=0,Gt=Object.keys(this.deletedStates[qe][Ot]);zt<Gt.length;zt+=1){var Jt=Gt[zt];delete this.state[qe][Ot][Jt]}it[Ot]=this.state[qe][Ot]}Y[qe]=Y[qe]||{},u(Y[qe],it)}if(this.stateChanges={},this.deletedStates={},Object.keys(Y).length!==0)for(var Xt in S)S[Xt].setFeatureState(Y,R)};var Vu=function(S,R){this.tileID=S,this.x=S.canonical.x,this.y=S.canonical.y,this.z=S.canonical.z,this.grid=new fa(Cn,16,0),this.grid3D=new fa(Cn,16,0),this.featureIndexArray=new yn,this.promoteId=R};function H2(S,R,Y,le,Se){return g(S,function(Pe,qe){var it=R instanceof xo?R.get(qe):null;return it&&it.evaluate?it.evaluate(Y,le,Se):it})}function q2(S){for(var R=1/0,Y=1/0,le=-1/0,Se=-1/0,Pe=0,qe=S;Pe<qe.length;Pe+=1){var it=qe[Pe];R=Math.min(R,it.x),Y=Math.min(Y,it.y),le=Math.max(le,it.x),Se=Math.max(Se,it.y)}return{minX:R,minY:Y,maxX:le,maxY:Se}}function D6(S,R){return R-S}Vu.prototype.insert=function(S,R,Y,le,Se,Pe){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Y,le,Se);for(var it=Pe?this.grid3D:this.grid,gt=0;gt<R.length;gt++){for(var Ot=R[gt],zt=[1/0,1/0,-1/0,-1/0],Gt=0;Gt<Ot.length;Gt++){var Jt=Ot[Gt];zt[0]=Math.min(zt[0],Jt.x),zt[1]=Math.min(zt[1],Jt.y),zt[2]=Math.max(zt[2],Jt.x),zt[3]=Math.max(zt[3],Jt.y)}zt[0]<Cn&&zt[1]<Cn&&zt[2]>=0&&zt[3]>=0&&it.insert(qe,zt[0],zt[1],zt[2],zt[3])}},Vu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Af.VectorTile(new Cd(this.rawTileData)).layers,this.sourceLayerCoder=new Ud(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Vu.prototype.query=function(S,R,Y,le){var Se=this;this.loadVTLayers();for(var Pe=S.params||{},qe=Cn/S.tileSize/S.scale,it=Ia(Pe.filter),gt=S.queryGeometry,Ot=S.queryPadding*qe,zt=q2(gt),Gt=this.grid.query(zt.minX-Ot,zt.minY-Ot,zt.maxX+Ot,zt.maxY+Ot),Jt=q2(S.cameraQueryGeometry),Xt=0,hn=this.grid3D.query(Jt.minX-Ot,Jt.minY-Ot,Jt.maxX+Ot,Jt.maxY+Ot,function(ar,ur,hr,Dr){return function(Er,Nr,Hr,oi,Wr){for(var ri=0,Jr=Er;ri<Jr.length;ri+=1){var qr=Jr[ri];if(Nr<=qr.x&&Hr<=qr.y&&oi>=qr.x&&Wr>=qr.y)return!0}var _i=[new t(Nr,Hr),new t(Nr,Wr),new t(oi,Wr),new t(oi,Hr)];if(Er.length>2){for(var si=0,Gi=_i;si<Gi.length;si+=1)if(nc(Er,Gi[si]))return!0}for(var ei=0;ei<Er.length-1;ei++)if(_m(Er[ei],Er[ei+1],_i))return!0;return!1}(S.cameraQueryGeometry,ar-Ot,ur-Ot,hr+Ot,Dr+Ot)});Xt<hn.length;Xt+=1){var Mn=hn[Xt];Gt.push(Mn)}Gt.sort(D6);for(var Un,jn={},Zn=function(ar){var ur=Gt[ar];if(ur!==Un){Un=ur;var hr=Se.featureIndexArray.get(ur),Dr=null;Se.loadMatchingFeature(jn,hr.bucketIndex,hr.sourceLayerIndex,hr.featureIndex,it,Pe.layers,Pe.availableImages,R,Y,le,function(Er,Nr,Hr){return Dr||(Dr=Yr(Er)),Nr.queryIntersectsFeature(gt,Er,Hr,Dr,Se.z,S.transform,qe,S.pixelPosMatrix)})}},Kn=0;Kn<Gt.length;Kn++)Zn(Kn);return jn},Vu.prototype.loadMatchingFeature=function(S,R,Y,le,Se,Pe,qe,it,gt,Ot,zt){var Gt=this.bucketLayerIDs[R];if(!Pe||function(Dr,Er){for(var Nr=0;Nr<Dr.length;Nr++)if(Er.indexOf(Dr[Nr])>=0)return!0;return!1}(Pe,Gt)){var Jt=this.sourceLayerCoder.decode(Y),Xt=this.vtLayers[Jt].feature(le);if(Se.filter(new Ti(this.tileID.overscaledZ),Xt))for(var hn=this.getId(Xt,Jt),Mn=0;Mn<Gt.length;Mn++){var Un=Gt[Mn];if(!(Pe&&Pe.indexOf(Un)<0)){var jn=it[Un];if(jn){var Zn={};hn!==void 0&&Ot&&(Zn=Ot.getState(jn.sourceLayer||"_geojsonTileLayer",hn));var Kn=gt[Un];Kn.paint=H2(Kn.paint,jn.paint,Xt,Zn,qe),Kn.layout=H2(Kn.layout,jn.layout,Xt,Zn,qe);var ar=!zt||zt(Xt,jn,Zn);if(ar){var ur=new Vd(Xt,this.z,this.x,this.y,hn);ur.layer=Kn;var hr=S[Un];hr===void 0&&(hr=S[Un]=[]),hr.push({featureIndex:le,feature:ur,intersectionZ:ar})}}}}}},Vu.prototype.lookupSymbolFeatures=function(S,R,Y,le,Se,Pe,qe,it){var gt={};this.loadVTLayers();for(var Ot=Ia(Se),zt=0,Gt=S;zt<Gt.length;zt+=1){var Jt=Gt[zt];this.loadMatchingFeature(gt,Y,le,Jt,Ot,Pe,qe,it,R)}return gt},Vu.prototype.hasLayer=function(S){for(var R=0,Y=this.bucketLayerIDs;R<Y.length;R+=1)for(var le=0,Se=Y[R];le<Se.length;le+=1)if(S===Se[le])return!0;return!1},Vu.prototype.getId=function(S,R){var Y=S.id;if(this.promoteId){var le=typeof this.promoteId=="string"?this.promoteId:this.promoteId[R];typeof(Y=S.properties[le])=="boolean"&&(Y=Number(Y))}return Y},Ir("FeatureIndex",Vu,{omit:["rawTileData","sourceLayerCoder"]});var ro=function(S,R){this.tileID=S,this.uid=h(),this.uses=0,this.tileSize=R,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ro.prototype.registerFadeDuration=function(S){var R=S+this.timeAdded;R<K.now()||this.fadeEndTime&&R<this.fadeEndTime||(this.fadeEndTime=R)},ro.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ro.prototype.loadVectorData=function(S,R,Y){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",S){for(var le in S.featureIndex&&(this.latestFeatureIndex=S.featureIndex,S.rawTileData?(this.latestRawTileData=S.rawTileData,this.latestFeatureIndex.rawTileData=S.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=S.collisionBoxArray,this.buckets=function(Ot,zt){var Gt={};if(!zt)return Gt;for(var Jt=function(){var Mn=hn[Xt],Un=Mn.layerIds.map(function(ar){return zt.getLayer(ar)}).filter(Boolean);if(Un.length!==0){Mn.layers=Un,Mn.stateDependentLayerIds&&(Mn.stateDependentLayers=Mn.stateDependentLayerIds.map(function(ar){return Un.filter(function(ur){return ur.id===ar})[0]}));for(var jn=0,Zn=Un;jn<Zn.length;jn+=1){var Kn=Zn[jn];Gt[Kn.id]=Mn}}},Xt=0,hn=Ot;Xt<hn.length;Xt+=1)Jt();return Gt}(S.buckets,R.style),this.hasSymbolBuckets=!1,this.buckets){var Se=this.buckets[le];if(Se instanceof Ui){if(this.hasSymbolBuckets=!0,!Y)break;Se.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var qe=this.buckets[Pe];if(qe instanceof Ui&&qe.hasRTLText){this.hasRTLText=!0,Ra.isLoading()||Ra.isLoaded()||yo()!=="deferred"||jo();break}}for(var it in this.queryPadding=0,this.buckets){var gt=this.buckets[it];this.queryPadding=Math.max(this.queryPadding,R.style.getLayer(it).queryRadius(gt))}S.imageAtlas&&(this.imageAtlas=S.imageAtlas),S.glyphAtlasImage&&(this.glyphAtlasImage=S.glyphAtlasImage)}else this.collisionBoxArray=new Je},ro.prototype.unloadVectorData=function(){for(var S in this.buckets)this.buckets[S].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ro.prototype.getBucket=function(S){return this.buckets[S.id]},ro.prototype.upload=function(S){for(var R in this.buckets){var Y=this.buckets[R];Y.uploadPending()&&Y.upload(S)}var le=S.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Bc(S,this.imageAtlas.image,le.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Bc(S,this.glyphAtlasImage,le.ALPHA),this.glyphAtlasImage=null)},ro.prototype.prepare=function(S){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(S,this.imageAtlasTexture)},ro.prototype.queryRenderedFeatures=function(S,R,Y,le,Se,Pe,qe,it,gt,Ot){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:le,cameraQueryGeometry:Se,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:Ot,transform:it,params:qe,queryPadding:this.queryPadding*gt},S,R,Y):{}},ro.prototype.querySourceFeatures=function(S,R){var Y=this.latestFeatureIndex;if(Y&&Y.rawTileData){var le=Y.loadVTLayers(),Se=R?R.sourceLayer:"",Pe=le._geojsonTileLayer||le[Se];if(Pe)for(var qe=Ia(R&&R.filter),it=this.tileID.canonical,gt=it.z,Ot=it.x,zt=it.y,Gt={z:gt,x:Ot,y:zt},Jt=0;Jt<Pe.length;Jt++){var Xt=Pe.feature(Jt);if(qe.filter(new Ti(this.tileID.overscaledZ),Xt)){var hn=Y.getId(Xt,Se),Mn=new Vd(Xt,gt,Ot,zt,hn);Mn.tile=Gt,S.push(Mn)}}}},ro.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ro.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ro.prototype.setExpiryData=function(S){var R=this.expirationTime;if(S.cacheControl){var Y=P(S.cacheControl);Y["max-age"]&&(this.expirationTime=Date.now()+1e3*Y["max-age"])}else S.expires&&(this.expirationTime=new Date(S.expires).getTime());if(this.expirationTime){var le=Date.now(),Se=!1;if(this.expirationTime>le)Se=!1;else if(R)if(this.expirationTime<R)Se=!0;else{var Pe=this.expirationTime-R;Pe?this.expirationTime=le+Math.max(Pe,3e4):Se=!0}else Se=!0;Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ro.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ro.prototype.setFeatureState=function(S,R){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(S).length!==0){var Y=this.latestFeatureIndex.loadVTLayers();for(var le in this.buckets)if(R.style.hasLayer(le)){var Se=this.buckets[le],Pe=Se.layers[0].sourceLayer||"_geojsonTileLayer",qe=Y[Pe],it=S[Pe];if(qe&&it&&Object.keys(it).length!==0){Se.update(it,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var gt=R&&R.style&&R.style.getLayer(le);gt&&(this.queryPadding=Math.max(this.queryPadding,gt.queryRadius(Se)))}}}},ro.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ro.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<K.now()},ro.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ro.prototype.setHoldDuration=function(S){this.symbolFadeHoldUntil=K.now()+S},ro.prototype.setDependencies=function(S,R){for(var Y={},le=0,Se=R;le<Se.length;le+=1)Y[Se[le]]=!0;this.dependencies[S]=Y},ro.prototype.hasDependency=function(S,R){for(var Y=0,le=S;Y<le.length;Y+=1){var Se=le[Y],Pe=this.dependencies[Se];if(Pe){for(var qe=0,it=R;qe<it.length;qe+=1)if(Pe[it[qe]])return!0}}return!1};var ac=self.performance,W2=function(S){this._marks={start:[S.url,"start"].join("#"),end:[S.url,"end"].join("#"),measure:S.url.toString()},ac.mark(this._marks.start)};W2.prototype.finish=function(){ac.mark(this._marks.end);var S=ac.getEntriesByName(this._marks.measure);return S.length===0&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),S=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),S},a.Actor=Df,a.AlphaImage=Nc,a.CanonicalTileID=Uc,a.CollisionBoxArray=Je,a.Color=dn,a.DEMData=Uu,a.DataConstantProperty=Br,a.DictionaryCoder=Ud,a.EXTENT=Cn,a.ErrorEvent=nt,a.EvaluationParameters=Ti,a.Event=Ue,a.Evented=ct,a.FeatureIndex=Vu,a.FillBucket=lu,a.FillExtrusionBucket=uu,a.ImageAtlas=Bp,a.ImagePosition=Od,a.LineBucket=ks,a.LngLat=oa,a.LngLatBounds=Ba,a.MercatorCoordinate=jc,a.ONE_EM=Oo,a.OverscaledTileID=ja,a.Point=t,a.Point$1=t,a.Properties=ya,a.Protobuf=Cd,a.RGBAImage=ws,a.RequestManager=se,a.RequestPerformance=W2,a.ResourceType=ht,a.SegmentVector=cn,a.SourceFeatureState=Rf,a.StructArrayLayout1ui2=Ce,a.StructArrayLayout2f1f2i16=be,a.StructArrayLayout2i4=et,a.StructArrayLayout3ui6=He,a.StructArrayLayout4i8=rt,a.SymbolBucket=Ui,a.Texture=Bc,a.Tile=ro,a.Transitionable=za,a.Uniform1f=ai,a.Uniform1i=ii,a.Uniform2f=_r,a.Uniform3f=Rr,a.Uniform4f=Qr,a.UniformColor=$r,a.UniformMatrix4f=li,a.UnwrappedTileID=V2,a.ValidationError=Ne,a.WritingMode=cl,a.ZoomHistory=Ys,a.add=function(S,R,Y){return S[0]=R[0]+Y[0],S[1]=R[1]+Y[1],S[2]=R[2]+Y[2],S},a.addDynamicAttributes=jm,a.asyncAll=function(S,R,Y){if(!S.length)return Y(null,[]);var le=S.length,Se=new Array(S.length),Pe=null;S.forEach(function(qe,it){R(qe,function(gt,Ot){gt&&(Pe=gt),Se[it]=Ot,--le==0&&Y(Pe,Se)})})},a.bezier=o,a.bindAll=d,a.browser=K,a.cacheEntryPossiblyAdded=function(S){++ot>he&&(S.getActor().send("enforceCacheSizeLimit",je),ot=0)},a.clamp=r,a.clearTileCache=function(S){var R=self.caches.delete(Re);S&&R.catch(S).then(function(){return S()})},a.clipLine=A2,a.clone=function(S){var R=new ul(16);return R[0]=S[0],R[1]=S[1],R[2]=S[2],R[3]=S[3],R[4]=S[4],R[5]=S[5],R[6]=S[6],R[7]=S[7],R[8]=S[8],R[9]=S[9],R[10]=S[10],R[11]=S[11],R[12]=S[12],R[13]=S[13],R[14]=S[14],R[15]=S[15],R},a.clone$1=T,a.clone$2=function(S){var R=new ul(3);return R[0]=S[0],R[1]=S[1],R[2]=S[2],R},a.collisionCircleLayout=e6,a.config=J,a.create=function(){var S=new ul(16);return ul!=Float32Array&&(S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=0,S[12]=0,S[13]=0,S[14]=0),S[0]=1,S[5]=1,S[10]=1,S[15]=1,S},a.create$1=function(){var S=new ul(9);return ul!=Float32Array&&(S[1]=0,S[2]=0,S[3]=0,S[5]=0,S[6]=0,S[7]=0),S[0]=1,S[4]=1,S[8]=1,S},a.create$2=function(){var S=new ul(4);return ul!=Float32Array&&(S[1]=0,S[2]=0),S[0]=1,S[3]=1,S},a.createCommonjsModule=k,a.createExpression=Fs,a.createLayout=zi,a.createStyleLayer=function(S){return S.type==="custom"?new P6(S):new I6[S.type](S)},a.cross=function(S,R,Y){var le=R[0],Se=R[1],Pe=R[2],qe=Y[0],it=Y[1],gt=Y[2];return S[0]=Se*gt-Pe*it,S[1]=Pe*qe-le*gt,S[2]=le*it-Se*qe,S},a.deepEqual=function S(R,Y){if(Array.isArray(R)){if(!Array.isArray(Y)||R.length!==Y.length)return!1;for(var le=0;le<R.length;le++)if(!S(R[le],Y[le]))return!1;return!0}if(typeof R=="object"&&R!==null&&Y!==null){if(typeof Y!="object"||Object.keys(R).length!==Object.keys(Y).length)return!1;for(var Se in R)if(!S(R[Se],Y[Se]))return!1;return!0}return R===Y},a.dot=function(S,R){return S[0]*R[0]+S[1]*R[1]+S[2]*R[2]},a.dot$1=function(S,R){return S[0]*R[0]+S[1]*R[1]+S[2]*R[2]+S[3]*R[3]},a.ease=n,a.emitValidationErrors=ho,a.endsWith=x,a.enforceCacheSizeLimit=function(S){_e(),Me&&Me.then(function(R){R.keys().then(function(Y){for(var le=0;le<Y.length-S;le++)R.delete(Y[le])})})},a.evaluateSizeForFeature=y2,a.evaluateSizeForZoom=x2,a.evaluateVariableOffset=E2,a.evented=to,a.extend=u,a.featureFilter=Ia,a.filterObject=v,a.fromRotation=function(S,R){var Y=Math.sin(R),le=Math.cos(R);return S[0]=le,S[1]=Y,S[2]=0,S[3]=-Y,S[4]=le,S[5]=0,S[6]=0,S[7]=0,S[8]=1,S},a.getAnchorAlignment=zm,a.getAnchorJustification=Bm,a.getArrayBuffer=Nt,a.getImage=Ht,a.getJSON=function(S,R){return kt(u(S,{type:"json"}),R)},a.getRTLTextPluginStatus=yo,a.getReferrer=Ct,a.getVideo=function(S,R){var Y,le,Se=self.document.createElement("video");Se.muted=!0,Se.onloadstart=function(){R(null,Se)};for(var Pe=0;Pe<S.length;Pe++){var qe=self.document.createElement("source");Y=S[Pe],le=void 0,(le=self.document.createElement("a")).href=Y,le.protocol===self.document.location.protocol&&le.host===self.document.location.host||(Se.crossOrigin="Anonymous"),qe.src=S[Pe],Se.appendChild(qe)}return{cancel:function(){}}},a.identity=wm,a.invert=function(S,R){var Y=R[0],le=R[1],Se=R[2],Pe=R[3],qe=R[4],it=R[5],gt=R[6],Ot=R[7],zt=R[8],Gt=R[9],Jt=R[10],Xt=R[11],hn=R[12],Mn=R[13],Un=R[14],jn=R[15],Zn=Y*it-le*qe,Kn=Y*gt-Se*qe,ar=Y*Ot-Pe*qe,ur=le*gt-Se*it,hr=le*Ot-Pe*it,Dr=Se*Ot-Pe*gt,Er=zt*Mn-Gt*hn,Nr=zt*Un-Jt*hn,Hr=zt*jn-Xt*hn,oi=Gt*Un-Jt*Mn,Wr=Gt*jn-Xt*Mn,ri=Jt*jn-Xt*Un,Jr=Zn*ri-Kn*Wr+ar*oi+ur*Hr-hr*Nr+Dr*Er;return Jr?(Jr=1/Jr,S[0]=(it*ri-gt*Wr+Ot*oi)*Jr,S[1]=(Se*Wr-le*ri-Pe*oi)*Jr,S[2]=(Mn*Dr-Un*hr+jn*ur)*Jr,S[3]=(Jt*hr-Gt*Dr-Xt*ur)*Jr,S[4]=(gt*Hr-qe*ri-Ot*Nr)*Jr,S[5]=(Y*ri-Se*Hr+Pe*Nr)*Jr,S[6]=(Un*ar-hn*Dr-jn*Kn)*Jr,S[7]=(zt*Dr-Jt*ar+Xt*Kn)*Jr,S[8]=(qe*Wr-it*Hr+Ot*Er)*Jr,S[9]=(le*Hr-Y*Wr-Pe*Er)*Jr,S[10]=(hn*hr-Mn*ar+jn*Zn)*Jr,S[11]=(Gt*ar-zt*hr-Xt*Zn)*Jr,S[12]=(it*Nr-qe*oi-gt*Er)*Jr,S[13]=(Y*oi-le*Nr+Se*Er)*Jr,S[14]=(Mn*Kn-hn*ur-Un*Zn)*Jr,S[15]=(zt*ur-Gt*Kn+Jt*Zn)*Jr,S):null},a.isChar=zr,a.isMapboxURL=ce,a.keysDifference=function(S,R){var Y=[];for(var le in S)le in R||Y.push(le);return Y},a.makeRequest=kt,a.mapObject=g,a.mercatorXfromLng=B2,a.mercatorYfromLat=j2,a.mercatorZfromAltitude=U2,a.mul=g4,a.multiply=Nx,a.mvt=Af,a.normalize=function(S,R){var Y=R[0],le=R[1],Se=R[2],Pe=Y*Y+le*le+Se*Se;return Pe>0&&(Pe=1/Math.sqrt(Pe)),S[0]=R[0]*Pe,S[1]=R[1]*Pe,S[2]=R[2]*Pe,S},a.number=Tr,a.offscreenCanvasSupported=st,a.ortho=function(S,R,Y,le,Se,Pe,qe){var it=1/(R-Y),gt=1/(le-Se),Ot=1/(Pe-qe);return S[0]=-2*it,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=-2*gt,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=2*Ot,S[11]=0,S[12]=(R+Y)*it,S[13]=(Se+le)*gt,S[14]=(qe+Pe)*Ot,S[15]=1,S},a.parseGlyphPBF=function(S){return new Cd(S).readFields(f6,[])},a.pbf=Cd,a.performSymbolLayout=function(S,R,Y,le,Se,Pe,qe){S.createArrays();var it=512*S.overscaling;S.tilePixelRatio=Cn/it,S.compareText={},S.iconsNeedLinear=!1;var gt=S.layers[0].layout,Ot=S.layers[0]._unevaluatedLayout._values,zt={};if(S.textSizeData.kind==="composite"){var Gt=S.textSizeData,Jt=Gt.minZoom,Xt=Gt.maxZoom;zt.compositeTextSizes=[Ot["text-size"].possiblyEvaluate(new Ti(Jt),qe),Ot["text-size"].possiblyEvaluate(new Ti(Xt),qe)]}if(S.iconSizeData.kind==="composite"){var hn=S.iconSizeData,Mn=hn.minZoom,Un=hn.maxZoom;zt.compositeIconSizes=[Ot["icon-size"].possiblyEvaluate(new Ti(Mn),qe),Ot["icon-size"].possiblyEvaluate(new Ti(Un),qe)]}zt.layoutTextSize=Ot["text-size"].possiblyEvaluate(new Ti(S.zoom+1),qe),zt.layoutIconSize=Ot["icon-size"].possiblyEvaluate(new Ti(S.zoom+1),qe),zt.textMaxSize=Ot["text-size"].possiblyEvaluate(new Ti(18));for(var jn=gt.get("text-line-height")*Oo,Zn=gt.get("text-rotation-alignment")==="map"&&gt.get("symbol-placement")!=="point",Kn=gt.get("text-keep-upright"),ar=gt.get("text-size"),ur=function(){var Er=Dr[hr],Nr=gt.get("text-font").evaluate(Er,{},qe).join(","),Hr=ar.evaluate(Er,{},qe),oi=zt.layoutTextSize.evaluate(Er,{},qe),Wr=zt.layoutIconSize.evaluate(Er,{},qe),ri={horizontal:{},vertical:void 0},Jr=Er.text,qr=[0,0];if(Jr){var _i=Jr.toString(),si=gt.get("text-letter-spacing").evaluate(Er,{},qe)*Oo,Gi=function(ui){for(var Li=0,xa=ui;Li<xa.length;Li+=1)if(Hi=xa[Li].charCodeAt(0),zr.Arabic(Hi)||zr["Arabic Supplement"](Hi)||zr["Arabic Extended-A"](Hi)||zr["Arabic Presentation Forms-A"](Hi)||zr["Arabic Presentation Forms-B"](Hi))return!1;var Hi;return!0}(_i)?si:0,ei=gt.get("text-anchor").evaluate(Er,{},qe),Vi=gt.get("text-variable-anchor");if(!Vi){var Ki=gt.get("text-radial-offset").evaluate(Er,{},qe);qr=Ki?E2(ei,[Ki*Oo,Nm]):gt.get("text-offset").evaluate(Er,{},qe).map(function(ui){return ui*Oo})}var ta=Zn?"center":gt.get("text-justify").evaluate(Er,{},qe),sa=gt.get("symbol-placement"),Yi=sa==="point"?gt.get("text-max-width").evaluate(Er,{},qe)*Oo:0,Ua=function(){S.allowVerticalPlacement&&sl(_i)&&(ri.vertical=Id(Jr,R,Y,Se,Nr,Yi,jn,ei,"left",Gi,qr,cl.vertical,!0,sa,oi,Hr))};if(!Zn&&Vi){for(var da=ta==="auto"?Vi.map(function(ui){return Bm(ui)}):[ta],io=!1,Po=0;Po<da.length;Po++){var bo=da[Po];if(!ri.horizontal[bo])if(io)ri.horizontal[bo]=ri.horizontal[0];else{var ts=Id(Jr,R,Y,Se,Nr,Yi,jn,"center",bo,Gi,qr,cl.horizontal,!1,sa,oi,Hr);ts&&(ri.horizontal[bo]=ts,io=ts.positionedLines.length===1)}}Ua()}else{ta==="auto"&&(ta=Bm(ei));var _o=Id(Jr,R,Y,Se,Nr,Yi,jn,ei,ta,Gi,qr,cl.horizontal,!1,sa,oi,Hr);_o&&(ri.horizontal[ta]=_o),Ua(),sl(_i)&&Zn&&Kn&&(ri.vertical=Id(Jr,R,Y,Se,Nr,Yi,jn,ei,ta,Gi,qr,cl.vertical,!1,sa,oi,Hr))}}var Ga=void 0,wo=!1;if(Er.icon&&Er.icon.name){var ao=le[Er.icon.name];ao&&(Ga=function(ui,Li,xa){var Hi=zm(xa),ma=Hi.horizontalAlign,la=Hi.verticalAlign,Di=Li[0],ba=Li[1],ns=Di-ui.displaySize[0]*ma,$s=ns+ui.displaySize[0],Ho=ba-ui.displaySize[1]*la;return{image:ui,top:Ho,bottom:Ho+ui.displaySize[1],left:ns,right:$s}}(Se[Er.icon.name],gt.get("icon-offset").evaluate(Er,{},qe),gt.get("icon-anchor").evaluate(Er,{},qe)),wo=ao.sdf,S.sdfIcons===void 0?S.sdfIcons=ao.sdf:S.sdfIcons!==ao.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ao.pixelRatio!==S.pixelRatio||gt.get("icon-rotate").constantOr(1)!==0)&&(S.iconsNeedLinear=!0))}var Ya=L2(ri.horizontal)||ri.vertical;S.iconsInText=!!Ya&&Ya.iconsInText,(Ya||Ga)&&function(ui,Li,xa,Hi,ma,la,Di,ba,ns,$s,Ho){var cu=la.textMaxSize.evaluate(Li,{});cu===void 0&&(cu=Di);var Hu,oo=ui.layers[0].layout,fu=oo.get("icon-offset").evaluate(Li,{},Ho),Ul=L2(xa.horizontal),Vl=24,Vc=Di/Vl,Hd=ui.tilePixelRatio*Vc,Hc=ui.tilePixelRatio*cu/Vl,qd=ui.tilePixelRatio*ba,Vp=ui.tilePixelRatio*oo.get("symbol-spacing"),Wm=oo.get("text-padding")*ui.tilePixelRatio,Wd=oo.get("icon-padding")*ui.tilePixelRatio,zf=oo.get("text-max-angle")/180*Math.PI,Gd=oo.get("text-rotation-alignment")==="map"&&oo.get("symbol-placement")!=="point",Yd=oo.get("icon-rotation-alignment")==="map"&&oo.get("symbol-placement")!=="point",Hp=oo.get("symbol-placement"),Gm=Vp/2,qp=oo.get("icon-text-fit");Hi&&qp!=="none"&&(ui.allowVerticalPlacement&&xa.vertical&&(Hu=v2(Hi,xa.vertical,qp,oo.get("icon-text-fit-padding"),fu,Vc)),Ul&&(Hi=v2(Hi,Ul,qp,oo.get("icon-text-fit-padding"),fu,Vc)));var qc=function(R6,Jp){Jp.x<0||Jp.x>=Cn||Jp.y<0||Jp.y>=Cn||function(Sa,pu,z6,oc,$m,J2,$d,ku,Qd,Kp,e0,t0,Qm,K2,$p,$2,Q2,eb,tb,nb,fl,n0,rb,Tu,F6){var ib,Yc,Bf,jf,Uf,Vf=Sa.addToLineVertexArray(pu,z6),ab=0,ob=0,sb=0,lb=0,e1=-1,t1=-1,qu={},ub=Bn(""),n1=0,r1=0;if(ku._unevaluatedLayout.getValue("text-radial-offset")===void 0?(n1=(ib=ku.layout.get("text-offset").evaluate(fl,{},Tu).map(function(eh){return eh*Oo}))[0],r1=ib[1]):(n1=ku.layout.get("text-radial-offset").evaluate(fl,{},Tu)*Oo,r1=Nm),Sa.allowVerticalPlacement&&oc.vertical){var cb=ku.layout.get("text-rotate").evaluate(fl,{},Tu)+90,N6=oc.vertical;jf=new Nd(Qd,pu,Kp,e0,t0,N6,Qm,K2,$p,cb),$d&&(Uf=new Nd(Qd,pu,Kp,e0,t0,$d,Q2,eb,$p,cb))}if($m){var i1=ku.layout.get("icon-rotate").evaluate(fl,{}),fb=ku.layout.get("icon-text-fit")!=="none",pb=M2($m,i1,rb,fb),a1=$d?M2($d,i1,rb,fb):void 0;Bf=new Nd(Qd,pu,Kp,e0,t0,$m,Q2,eb,!1,i1),ab=4*pb.length;var hb=Sa.iconSizeData,Qp=null;hb.kind==="source"?(Qp=[wu*ku.layout.get("icon-size").evaluate(fl,{})])[0]>ic&&E(Sa.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):hb.kind==="composite"&&((Qp=[wu*n0.compositeIconSizes[0].evaluate(fl,{},Tu),wu*n0.compositeIconSizes[1].evaluate(fl,{},Tu)])[0]>ic||Qp[1]>ic)&&E(Sa.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Sa.addSymbols(Sa.icon,pb,Qp,nb,tb,fl,!1,pu,Vf.lineStartIndex,Vf.lineLength,-1,Tu),e1=Sa.icon.placedSymbolArray.length-1,a1&&(ob=4*a1.length,Sa.addSymbols(Sa.icon,a1,Qp,nb,tb,fl,cl.vertical,pu,Vf.lineStartIndex,Vf.lineLength,-1,Tu),t1=Sa.icon.placedSymbolArray.length-1)}for(var db in oc.horizontal){var r0=oc.horizontal[db];if(!Yc){ub=Bn(r0.text);var B6=ku.layout.get("text-rotate").evaluate(fl,{},Tu);Yc=new Nd(Qd,pu,Kp,e0,t0,r0,Qm,K2,$p,B6)}var gb=r0.positionedLines.length===1;if(sb+=C2(Sa,pu,r0,J2,ku,$p,fl,$2,Vf,oc.vertical?cl.horizontal:cl.horizontalOnly,gb?Object.keys(oc.horizontal):[db],qu,e1,n0,Tu),gb)break}oc.vertical&&(lb+=C2(Sa,pu,oc.vertical,J2,ku,$p,fl,$2,Vf,cl.vertical,["vertical"],qu,t1,n0,Tu));var j6=Yc?Yc.boxStartIndex:Sa.collisionBoxArray.length,U6=Yc?Yc.boxEndIndex:Sa.collisionBoxArray.length,V6=jf?jf.boxStartIndex:Sa.collisionBoxArray.length,H6=jf?jf.boxEndIndex:Sa.collisionBoxArray.length,q6=Bf?Bf.boxStartIndex:Sa.collisionBoxArray.length,W6=Bf?Bf.boxEndIndex:Sa.collisionBoxArray.length,G6=Uf?Uf.boxStartIndex:Sa.collisionBoxArray.length,Y6=Uf?Uf.boxEndIndex:Sa.collisionBoxArray.length,Au=-1,i0=function(eh,vb){return eh&&eh.circleDiameter?Math.max(eh.circleDiameter,vb):vb};Au=i0(Yc,Au),Au=i0(jf,Au),Au=i0(Bf,Au);var mb=(Au=i0(Uf,Au))>-1?1:0;mb&&(Au*=F6/Oo),Sa.glyphOffsetArray.length>=Ui.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),fl.sortKey!==void 0&&Sa.addToSortKeyRanges(Sa.symbolInstances.length,fl.sortKey),Sa.symbolInstances.emplaceBack(pu.x,pu.y,qu.right>=0?qu.right:-1,qu.center>=0?qu.center:-1,qu.left>=0?qu.left:-1,qu.vertical||-1,e1,t1,ub,j6,U6,V6,H6,q6,W6,G6,Y6,Kp,sb,lb,ab,ob,mb,0,Qm,n1,r1,Au)}(ui,Jp,R6,xa,Hi,ma,Hu,ui.layers[0],ui.collisionBoxArray,Li.index,Li.sourceLayerIndex,ui.index,Hd,Wm,Gd,ns,qd,Wd,Yd,fu,Li,la,$s,Ho,Di)};if(Hp==="line")for(var Ff=0,Zd=A2(Li.geometry,0,0,Cn,Cn);Ff<Zd.length;Ff+=1)for(var Xd=Zd[Ff],Nf=0,Jd=y6(Xd,Vp,zf,xa.vertical||Ul,Hi,Vl,Hc,ui.overscaling,Cn);Nf<Jd.length;Nf+=1){var Kd=Jd[Nf];Ul&&w6(ui,Ul.text,Gm,Kd)||qc(Xd,Kd)}else if(Hp==="line-center")for(var Wp=0,Gp=Li.geometry;Wp<Gp.length;Wp+=1){var Wc=Gp[Wp];if(Wc.length>1){var Yp=v6(Wc,zf,xa.vertical||Ul,Hi,Vl,Hc);Yp&&qc(Wc,Yp)}}else if(Li.type==="Polygon")for(var Gc=0,Zp=Cm(Li.geometry,0);Gc<Zp.length;Gc+=1){var Xp=Zp[Gc],G2=b6(Xp,16);qc(Xp[0],new Cf(G2.x,G2.y,0))}else if(Li.type==="LineString")for(var Ym=0,Y2=Li.geometry;Ym<Y2.length;Ym+=1){var Zm=Y2[Ym];qc(Zm,new Cf(Zm[0].x,Zm[0].y,0))}else if(Li.type==="Point")for(var Xm=0,Z2=Li.geometry;Xm<Z2.length;Xm+=1)for(var Jm=0,X2=Z2[Xm];Jm<X2.length;Jm+=1){var Km=X2[Jm];qc([Km],new Cf(Km.x,Km.y,0))}}(S,Er,ri,Ga,le,zt,oi,Wr,qr,wo,qe)},hr=0,Dr=S.features;hr<Dr.length;hr+=1)ur();Pe&&S.generateCollisionDebugBuffers()},a.perspective=function(S,R,Y,le,Se){var Pe,qe=1/Math.tan(R/2);return S[0]=qe/Y,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=qe,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=-1,S[12]=0,S[13]=0,S[15]=0,Se!=null&&Se!==1/0?(Pe=1/(le-Se),S[10]=(Se+le)*Pe,S[14]=2*Se*le*Pe):(S[10]=-1,S[14]=-2*le),S},a.pick=function(S,R){for(var Y={},le=0;le<R.length;le++){var Se=R[le];Se in S&&(Y[Se]=S[Se])}return Y},a.plugin=Ra,a.polygonIntersectsPolygon=Fi,a.postMapLoadEvent=Be,a.postTurnstileEvent=we,a.potpack=p2,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Ir,a.registerForPluginStateChange=function(S){return S({pluginStatus:Ma,pluginURL:vo}),to.on("pluginStateChange",S),S},a.rotate=function(S,R,Y){var le=R[0],Se=R[1],Pe=R[2],qe=R[3],it=Math.sin(Y),gt=Math.cos(Y);return S[0]=le*gt+Pe*it,S[1]=Se*gt+qe*it,S[2]=le*-it+Pe*gt,S[3]=Se*-it+qe*gt,S},a.rotateX=function(S,R,Y){var le=Math.sin(Y),Se=Math.cos(Y),Pe=R[4],qe=R[5],it=R[6],gt=R[7],Ot=R[8],zt=R[9],Gt=R[10],Jt=R[11];return R!==S&&(S[0]=R[0],S[1]=R[1],S[2]=R[2],S[3]=R[3],S[12]=R[12],S[13]=R[13],S[14]=R[14],S[15]=R[15]),S[4]=Pe*Se+Ot*le,S[5]=qe*Se+zt*le,S[6]=it*Se+Gt*le,S[7]=gt*Se+Jt*le,S[8]=Ot*Se-Pe*le,S[9]=zt*Se-qe*le,S[10]=Gt*Se-it*le,S[11]=Jt*Se-gt*le,S},a.rotateZ=function(S,R,Y){var le=Math.sin(Y),Se=Math.cos(Y),Pe=R[0],qe=R[1],it=R[2],gt=R[3],Ot=R[4],zt=R[5],Gt=R[6],Jt=R[7];return R!==S&&(S[8]=R[8],S[9]=R[9],S[10]=R[10],S[11]=R[11],S[12]=R[12],S[13]=R[13],S[14]=R[14],S[15]=R[15]),S[0]=Pe*Se+Ot*le,S[1]=qe*Se+zt*le,S[2]=it*Se+Gt*le,S[3]=gt*Se+Jt*le,S[4]=Ot*Se-Pe*le,S[5]=zt*Se-qe*le,S[6]=Gt*Se-it*le,S[7]=Jt*Se-gt*le,S},a.scale=function(S,R,Y){var le=Y[0],Se=Y[1],Pe=Y[2];return S[0]=R[0]*le,S[1]=R[1]*le,S[2]=R[2]*le,S[3]=R[3]*le,S[4]=R[4]*Se,S[5]=R[5]*Se,S[6]=R[6]*Se,S[7]=R[7]*Se,S[8]=R[8]*Pe,S[9]=R[9]*Pe,S[10]=R[10]*Pe,S[11]=R[11]*Pe,S[12]=R[12],S[13]=R[13],S[14]=R[14],S[15]=R[15],S},a.scale$1=function(S,R,Y){return S[0]=R[0]*Y,S[1]=R[1]*Y,S[2]=R[2]*Y,S[3]=R[3]*Y,S},a.scale$2=function(S,R,Y){return S[0]=R[0]*Y,S[1]=R[1]*Y,S[2]=R[2]*Y,S},a.setCacheLimits=function(S,R){je=S,he=R},a.setRTLTextPlugin=function(S,R,Y){if(Y===void 0&&(Y=!1),Ma===Wa||Ma===bs||Ma===So)throw new Error("setRTLTextPlugin cannot be called multiple times.");vo=K.resolveURL(S),Ma=Wa,Xs=R,Ol(),Y||jo()},a.sphericalToCartesian=function(S){var R=S[0],Y=S[1],le=S[2];return Y+=90,Y*=Math.PI/180,le*=Math.PI/180,{x:R*Math.cos(Y)*Math.sin(le),y:R*Math.sin(Y)*Math.sin(le),z:R*Math.cos(le)}},a.sqrLen=v4,a.styleSpec=Oe,a.sub=m4,a.symbolSize=m6,a.transformMat3=function(S,R,Y){var le=R[0],Se=R[1],Pe=R[2];return S[0]=le*Y[0]+Se*Y[3]+Pe*Y[6],S[1]=le*Y[1]+Se*Y[4]+Pe*Y[7],S[2]=le*Y[2]+Se*Y[5]+Pe*Y[8],S},a.transformMat4=Td,a.translate=function(S,R,Y){var le,Se,Pe,qe,it,gt,Ot,zt,Gt,Jt,Xt,hn,Mn=Y[0],Un=Y[1],jn=Y[2];return R===S?(S[12]=R[0]*Mn+R[4]*Un+R[8]*jn+R[12],S[13]=R[1]*Mn+R[5]*Un+R[9]*jn+R[13],S[14]=R[2]*Mn+R[6]*Un+R[10]*jn+R[14],S[15]=R[3]*Mn+R[7]*Un+R[11]*jn+R[15]):(le=R[0],Se=R[1],Pe=R[2],qe=R[3],it=R[4],gt=R[5],Ot=R[6],zt=R[7],Gt=R[8],Jt=R[9],Xt=R[10],hn=R[11],S[0]=le,S[1]=Se,S[2]=Pe,S[3]=qe,S[4]=it,S[5]=gt,S[6]=Ot,S[7]=zt,S[8]=Gt,S[9]=Jt,S[10]=Xt,S[11]=hn,S[12]=le*Mn+it*Un+Gt*jn+R[12],S[13]=Se*Mn+gt*Un+Jt*jn+R[13],S[14]=Pe*Mn+Ot*Un+Xt*jn+R[14],S[15]=qe*Mn+zt*Un+hn*jn+R[15]),S},a.triggerPluginCompletionEvent=Si,a.uniqueId=h,a.validateCustomStyleLayer=function(S){var R=[],Y=S.id;return Y===void 0&&R.push({message:"layers."+Y+': missing required property "id"'}),S.render===void 0&&R.push({message:"layers."+Y+': missing required method "render"'}),S.renderingMode&&S.renderingMode!=="2d"&&S.renderingMode!=="3d"&&R.push({message:"layers."+Y+': property "renderingMode" must be either "2d" or "3d"'}),R},a.validateLight=va,a.validateStyle=ka,a.values=function(S){var R=[];for(var Y in S)R.push(S[Y]);return R},a.vectorTile=Af,a.version=y,a.warnOnce=E,a.webpSupported=Z,a.window=self,a.wrap=i}),w(0,function(a){function k(Ke){var $e=typeof Ke;if($e==="number"||$e==="boolean"||$e==="string"||Ke==null)return JSON.stringify(Ke);if(Array.isArray(Ke)){for(var Ue="[",nt=0,ct=Ke;nt<ct.length;nt+=1)Ue+=k(ct[nt])+",";return Ue+"]"}for(var Oe=Object.keys(Ke).sort(),Ne="{",Qe=0;Qe<Oe.length;Qe++)Ne+=JSON.stringify(Oe[Qe])+":"+k(Ke[Oe[Qe]])+",";return Ne+"}"}function y(Ke){for(var $e="",Ue=0,nt=a.refProperties;Ue<nt.length;Ue+=1)$e+="/"+k(Ke[nt[Ue]]);return $e}var f=function(Ke){this.keyCache={},Ke&&this.replace(Ke)};f.prototype.replace=function(Ke){this._layerConfigs={},this._layers={},this.update(Ke,[])},f.prototype.update=function(Ke,$e){for(var Ue=this,nt=0,ct=Ke;nt<ct.length;nt+=1){var Oe=ct[nt];this._layerConfigs[Oe.id]=Oe;var Ne=this._layers[Oe.id]=a.createStyleLayer(Oe);Ne._featureFilter=a.featureFilter(Ne.filter),this.keyCache[Oe.id]&&delete this.keyCache[Oe.id]}for(var Qe=0,ut=$e;Qe<ut.length;Qe+=1){var pt=ut[Qe];delete this.keyCache[pt],delete this._layerConfigs[pt],delete this._layers[pt]}this.familiesBySource={};for(var wt=0,Lt=function(Zt,Yt){for(var Kt={},tn=0;tn<Zt.length;tn++){var on=Yt&&Yt[Zt[tn].id]||y(Zt[tn]);Yt&&(Yt[Zt[tn].id]=on);var _n=Kt[on];_n||(_n=Kt[on]=[]),_n.push(Zt[tn])}var fn=[];for(var Sn in Kt)fn.push(Kt[Sn]);return fn}(a.values(this._layerConfigs),this.keyCache);wt<Lt.length;wt+=1){var It=Lt[wt].map(function(Zt){return Ue._layers[Zt.id]}),yt=It[0];if(yt.visibility!=="none"){var Rt=yt.source||"",bt=this.familiesBySource[Rt];bt||(bt=this.familiesBySource[Rt]={});var Pt=yt.sourceLayer||"_geojsonTileLayer",Bt=bt[Pt];Bt||(Bt=bt[Pt]=[]),Bt.push(It)}}};var l=function(Ke){var $e={},Ue=[];for(var nt in Ke){var ct=Ke[nt],Oe=$e[nt]={};for(var Ne in ct){var Qe=ct[+Ne];if(Qe&&Qe.bitmap.width!==0&&Qe.bitmap.height!==0){var ut={x:0,y:0,w:Qe.bitmap.width+2,h:Qe.bitmap.height+2};Ue.push(ut),Oe[Ne]={rect:ut,metrics:Qe.metrics}}}}var pt=a.potpack(Ue),wt=pt.w,Lt=pt.h,It=new a.AlphaImage({width:wt||1,height:Lt||1});for(var yt in Ke){var Rt=Ke[yt];for(var bt in Rt){var Pt=Rt[+bt];if(Pt&&Pt.bitmap.width!==0&&Pt.bitmap.height!==0){var Bt=$e[yt][bt].rect;a.AlphaImage.copy(Pt.bitmap,It,{x:0,y:0},{x:Bt.x+1,y:Bt.y+1},Pt.bitmap)}}}this.image=It,this.positions=$e};a.register("GlyphAtlas",l);var t=function(Ke){this.tileID=new a.OverscaledTileID(Ke.tileID.overscaledZ,Ke.tileID.wrap,Ke.tileID.canonical.z,Ke.tileID.canonical.x,Ke.tileID.canonical.y),this.uid=Ke.uid,this.zoom=Ke.zoom,this.pixelRatio=Ke.pixelRatio,this.tileSize=Ke.tileSize,this.source=Ke.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ke.showCollisionBoxes,this.collectResourceTiming=!!Ke.collectResourceTiming,this.returnDependencies=!!Ke.returnDependencies,this.promoteId=Ke.promoteId};function s(Ke,$e,Ue){for(var nt=new a.EvaluationParameters($e),ct=0,Oe=Ke;ct<Oe.length;ct+=1)Oe[ct].recalculate(nt,Ue)}function o(Ke,$e){var Ue=a.getArrayBuffer(Ke.request,function(nt,ct,Oe,Ne){nt?$e(nt):ct&&$e(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(ct)),rawData:ct,cacheControl:Oe,expires:Ne})});return function(){Ue.cancel(),$e()}}t.prototype.parse=function(Ke,$e,Ue,nt,ct){var Oe=this;this.status="parsing",this.data=Ke,this.collisionBoxArray=new a.CollisionBoxArray;var Ne=new a.DictionaryCoder(Object.keys(Ke.layers).sort()),Qe=new a.FeatureIndex(this.tileID,this.promoteId);Qe.bucketLayerIDs=[];var ut,pt,wt,Lt,It={},yt={featureIndex:Qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ue},Rt=$e.familiesBySource[this.source];for(var bt in Rt){var Pt=Ke.layers[bt];if(Pt){Pt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+bt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Bt=Ne.encode(bt),Zt=[],Yt=0;Yt<Pt.length;Yt++){var Kt=Pt.feature(Yt),tn=Qe.getId(Kt,bt);Zt.push({feature:Kt,id:tn,index:Yt,sourceLayerIndex:Bt})}for(var on=0,_n=Rt[bt];on<_n.length;on+=1){var fn=_n[on],Sn=fn[0];Sn.minzoom&&this.zoom<Math.floor(Sn.minzoom)||Sn.maxzoom&&this.zoom>=Sn.maxzoom||Sn.visibility!=="none"&&(s(fn,this.zoom,Ue),(It[Sn.id]=Sn.createBucket({index:Qe.bucketLayerIDs.length,layers:fn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bt,sourceID:this.source})).populate(Zt,yt,this.tileID.canonical),Qe.bucketLayerIDs.push(fn.map(function(gn){return gn.id})))}}}var Xn=a.mapObject(yt.glyphDependencies,function(gn){return Object.keys(gn).map(Number)});Object.keys(Xn).length?nt.send("getGlyphs",{uid:this.uid,stacks:Xn},function(gn,dn){ut||(ut=gn,pt=dn,Tn.call(Oe))}):pt={};var An=Object.keys(yt.iconDependencies);An.length?nt.send("getImages",{icons:An,source:this.source,tileID:this.tileID,type:"icons"},function(gn,dn){ut||(ut=gn,wt=dn,Tn.call(Oe))}):wt={};var un=Object.keys(yt.patternDependencies);function Tn(){if(ut)return ct(ut);if(pt&&wt&&Lt){var gn=new l(pt),dn=new a.ImageAtlas(wt,Lt);for(var Rn in It){var In=It[Rn];In instanceof a.SymbolBucket?(s(In.layers,this.zoom,Ue),a.performSymbolLayout(In,pt,gn.positions,wt,dn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):In.hasPattern&&(In instanceof a.LineBucket||In instanceof a.FillBucket||In instanceof a.FillExtrusionBucket)&&(s(In.layers,this.zoom,Ue),In.addFeatures(yt,this.tileID.canonical,dn.patternPositions))}this.status="done",ct(null,{buckets:a.values(It).filter(function(Hn){return!Hn.isEmpty()}),featureIndex:Qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gn.image,imageAtlas:dn,glyphMap:this.returnDependencies?pt:null,iconMap:this.returnDependencies?wt:null,glyphPositions:this.returnDependencies?gn.positions:null})}}un.length?nt.send("getImages",{icons:un,source:this.source,tileID:this.tileID,type:"patterns"},function(gn,dn){ut||(ut=gn,Lt=dn,Tn.call(Oe))}):Lt={},Tn.call(this)};var n=function(Ke,$e,Ue,nt){this.actor=Ke,this.layerIndex=$e,this.availableImages=Ue,this.loadVectorData=nt||o,this.loading={},this.loaded={}};n.prototype.loadTile=function(Ke,$e){var Ue=this,nt=Ke.uid;this.loading||(this.loading={});var ct=!!(Ke&&Ke.request&&Ke.request.collectResourceTiming)&&new a.RequestPerformance(Ke.request),Oe=this.loading[nt]=new t(Ke);Oe.abort=this.loadVectorData(Ke,function(Ne,Qe){if(delete Ue.loading[nt],Ne||!Qe)return Oe.status="done",Ue.loaded[nt]=Oe,$e(Ne);var ut=Qe.rawData,pt={};Qe.expires&&(pt.expires=Qe.expires),Qe.cacheControl&&(pt.cacheControl=Qe.cacheControl);var wt={};if(ct){var Lt=ct.finish();Lt&&(wt.resourceTiming=JSON.parse(JSON.stringify(Lt)))}Oe.vectorTile=Qe.vectorTile,Oe.parse(Qe.vectorTile,Ue.layerIndex,Ue.availableImages,Ue.actor,function(It,yt){if(It||!yt)return $e(It);$e(null,a.extend({rawTileData:ut.slice(0)},yt,pt,wt))}),Ue.loaded=Ue.loaded||{},Ue.loaded[nt]=Oe})},n.prototype.reloadTile=function(Ke,$e){var Ue=this,nt=this.loaded,ct=Ke.uid,Oe=this;if(nt&&nt[ct]){var Ne=nt[ct];Ne.showCollisionBoxes=Ke.showCollisionBoxes;var Qe=function(ut,pt){var wt=Ne.reloadCallback;wt&&(delete Ne.reloadCallback,Ne.parse(Ne.vectorTile,Oe.layerIndex,Ue.availableImages,Oe.actor,wt)),$e(ut,pt)};Ne.status==="parsing"?Ne.reloadCallback=Qe:Ne.status==="done"&&(Ne.vectorTile?Ne.parse(Ne.vectorTile,this.layerIndex,this.availableImages,this.actor,Qe):Qe())}},n.prototype.abortTile=function(Ke,$e){var Ue=this.loading,nt=Ke.uid;Ue&&Ue[nt]&&Ue[nt].abort&&(Ue[nt].abort(),delete Ue[nt]),$e()},n.prototype.removeTile=function(Ke,$e){var Ue=this.loaded,nt=Ke.uid;Ue&&Ue[nt]&&delete Ue[nt],$e()};var r=a.window.ImageBitmap,i=function(){this.loaded={}};i.prototype.loadTile=function(Ke,$e){var Ue=Ke.uid,nt=Ke.encoding,ct=Ke.rawImageData,Oe=r&&ct instanceof r?this.getImageData(ct):ct,Ne=new a.DEMData(Ue,Oe,nt);this.loaded=this.loaded||{},this.loaded[Ue]=Ne,$e(null,Ne)},i.prototype.getImageData=function(Ke){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ke.width,Ke.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ke.width,this.offscreenCanvas.height=Ke.height,this.offscreenCanvasContext.drawImage(Ke,0,0,Ke.width,Ke.height);var $e=this.offscreenCanvasContext.getImageData(-1,-1,Ke.width+2,Ke.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:$e.width,height:$e.height},$e.data)},i.prototype.removeTile=function(Ke){var $e=this.loaded,Ue=Ke.uid;$e&&$e[Ue]&&delete $e[Ue]};var u=function Ke($e,Ue){var nt,ct=$e&&$e.type;if(ct==="FeatureCollection")for(nt=0;nt<$e.features.length;nt++)Ke($e.features[nt],Ue);else if(ct==="GeometryCollection")for(nt=0;nt<$e.geometries.length;nt++)Ke($e.geometries[nt],Ue);else if(ct==="Feature")Ke($e.geometry,Ue);else if(ct==="Polygon")p($e.coordinates,Ue);else if(ct==="MultiPolygon")for(nt=0;nt<$e.coordinates.length;nt++)p($e.coordinates[nt],Ue);return $e};function p(Ke,$e){if(Ke.length!==0){h(Ke[0],$e);for(var Ue=1;Ue<Ke.length;Ue++)h(Ke[Ue],!$e)}}function h(Ke,$e){for(var Ue=0,nt=0,ct=Ke.length,Oe=ct-1;nt<ct;Oe=nt++)Ue+=(Ke[nt][0]-Ke[Oe][0])*(Ke[Oe][1]+Ke[nt][1]);Ue>=0!=!!$e&&Ke.reverse()}var _=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,m=function(Ke){this._feature=Ke,this.extent=a.EXTENT,this.type=Ke.type,this.properties=Ke.tags,"id"in Ke&&!isNaN(Ke.id)&&(this.id=parseInt(Ke.id,10))};m.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Ke=[],$e=0,Ue=this._feature.geometry;$e<Ue.length;$e+=1){var nt=Ue[$e];Ke.push([new a.Point$1(nt[0],nt[1])])}return Ke}for(var ct=[],Oe=0,Ne=this._feature.geometry;Oe<Ne.length;Oe+=1){for(var Qe=[],ut=0,pt=Ne[Oe];ut<pt.length;ut+=1){var wt=pt[ut];Qe.push(new a.Point$1(wt[0],wt[1]))}ct.push(Qe)}return ct},m.prototype.toGeoJSON=function(Ke,$e,Ue){return _.call(this,Ke,$e,Ue)};var d=function(Ke){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Ke.length,this._features=Ke};d.prototype.feature=function(Ke){return new m(this._features[Ke])};var x=a.vectorTile.VectorTileFeature,g=v;function v(Ke,$e){this.options=$e||{},this.features=Ke,this.length=Ke.length}function T(Ke,$e){this.id=typeof Ke.id=="number"?Ke.id:void 0,this.type=Ke.type,this.rawGeometry=Ke.type===1?[Ke.geometry]:Ke.geometry,this.properties=Ke.tags,this.extent=$e||4096}v.prototype.feature=function(Ke){return new T(this.features[Ke],this.options.extent)},T.prototype.loadGeometry=function(){var Ke=this.rawGeometry;this.geometry=[];for(var $e=0;$e<Ke.length;$e++){for(var Ue=Ke[$e],nt=[],ct=0;ct<Ue.length;ct++)nt.push(new a.Point$1(Ue[ct][0],Ue[ct][1]));this.geometry.push(nt)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ke=this.geometry,$e=1/0,Ue=-1/0,nt=1/0,ct=-1/0,Oe=0;Oe<Ke.length;Oe++)for(var Ne=Ke[Oe],Qe=0;Qe<Ne.length;Qe++){var ut=Ne[Qe];$e=Math.min($e,ut.x),Ue=Math.max(Ue,ut.x),nt=Math.min(nt,ut.y),ct=Math.max(ct,ut.y)}return[$e,nt,Ue,ct]},T.prototype.toGeoJSON=x.prototype.toGeoJSON;var c=O,E=O,A=function(Ke,$e){$e=$e||{};var Ue={};for(var nt in Ke)Ue[nt]=new g(Ke[nt].features,$e),Ue[nt].name=nt,Ue[nt].version=$e.version,Ue[nt].extent=$e.extent;return O({layers:Ue})},C=g;function O(Ke){var $e=new a.pbf;return function(Ue,nt){for(var ct in Ue.layers)nt.writeMessage(3,P,Ue.layers[ct])}(Ke,$e),$e.finish()}function P(Ke,$e){var Ue;$e.writeVarintField(15,Ke.version||1),$e.writeStringField(1,Ke.name||""),$e.writeVarintField(5,Ke.extent||4096);var nt={keys:[],values:[],keycache:{},valuecache:{}};for(Ue=0;Ue<Ke.length;Ue++)nt.feature=Ke.feature(Ue),$e.writeMessage(2,D,nt);var ct=nt.keys;for(Ue=0;Ue<ct.length;Ue++)$e.writeStringField(3,ct[Ue]);var Oe=nt.values;for(Ue=0;Ue<Oe.length;Ue++)$e.writeMessage(4,B,Oe[Ue])}function D(Ke,$e){var Ue=Ke.feature;Ue.id!==void 0&&$e.writeVarintField(1,Ue.id),$e.writeMessage(2,z,Ke),$e.writeVarintField(3,Ue.type),$e.writeMessage(4,W,Ue)}function z(Ke,$e){var Ue=Ke.feature,nt=Ke.keys,ct=Ke.values,Oe=Ke.keycache,Ne=Ke.valuecache;for(var Qe in Ue.properties){var ut=Oe[Qe];ut===void 0&&(nt.push(Qe),ut=nt.length-1,Oe[Qe]=ut),$e.writeVarint(ut);var pt=Ue.properties[Qe],wt=typeof pt;wt!=="string"&&wt!=="boolean"&&wt!=="number"&&(pt=JSON.stringify(pt));var Lt=wt+":"+pt,It=Ne[Lt];It===void 0&&(ct.push(pt),It=ct.length-1,Ne[Lt]=It),$e.writeVarint(It)}}function V(Ke,$e){return($e<<3)+(7&Ke)}function F(Ke){return Ke<<1^Ke>>31}function W(Ke,$e){for(var Ue=Ke.loadGeometry(),nt=Ke.type,ct=0,Oe=0,Ne=Ue.length,Qe=0;Qe<Ne;Qe++){var ut=Ue[Qe],pt=1;nt===1&&(pt=ut.length),$e.writeVarint(V(1,pt));for(var wt=nt===3?ut.length-1:ut.length,Lt=0;Lt<wt;Lt++){Lt===1&&nt!==1&&$e.writeVarint(V(2,wt-1));var It=ut[Lt].x-ct,yt=ut[Lt].y-Oe;$e.writeVarint(F(It)),$e.writeVarint(F(yt)),ct+=It,Oe+=yt}nt===3&&$e.writeVarint(V(7,1))}}function B(Ke,$e){var Ue=typeof Ke;Ue==="string"?$e.writeStringField(1,Ke):Ue==="boolean"?$e.writeBooleanField(7,Ke):Ue==="number"&&(Ke%1!=0?$e.writeDoubleField(3,Ke):Ke<0?$e.writeSVarintField(6,Ke):$e.writeVarintField(5,Ke))}function U(Ke,$e,Ue,nt,ct,Oe){if(!(ct-nt<=Ue)){var Ne=nt+ct>>1;H(Ke,$e,Ne,nt,ct,Oe%2),U(Ke,$e,Ue,nt,Ne-1,Oe+1),U(Ke,$e,Ue,Ne+1,ct,Oe+1)}}function H(Ke,$e,Ue,nt,ct,Oe){for(;ct>nt;){if(ct-nt>600){var Ne=ct-nt+1,Qe=Ue-nt+1,ut=Math.log(Ne),pt=.5*Math.exp(2*ut/3),wt=.5*Math.sqrt(ut*pt*(Ne-pt)/Ne)*(Qe-Ne/2<0?-1:1);H(Ke,$e,Ue,Math.max(nt,Math.floor(Ue-Qe*pt/Ne+wt)),Math.min(ct,Math.floor(Ue+(Ne-Qe)*pt/Ne+wt)),Oe)}var Lt=$e[2*Ue+Oe],It=nt,yt=ct;for(q(Ke,$e,nt,Ue),$e[2*ct+Oe]>Lt&&q(Ke,$e,nt,ct);It<yt;){for(q(Ke,$e,It,yt),It++,yt--;$e[2*It+Oe]<Lt;)It++;for(;$e[2*yt+Oe]>Lt;)yt--}$e[2*nt+Oe]===Lt?q(Ke,$e,nt,yt):q(Ke,$e,++yt,ct),yt<=Ue&&(nt=yt+1),Ue<=yt&&(ct=yt-1)}}function q(Ke,$e,Ue,nt){ee(Ke,Ue,nt),ee($e,2*Ue,2*nt),ee($e,2*Ue+1,2*nt+1)}function ee(Ke,$e,Ue){var nt=Ke[$e];Ke[$e]=Ke[Ue],Ke[Ue]=nt}function K(Ke,$e,Ue,nt){var ct=Ke-Ue,Oe=$e-nt;return ct*ct+Oe*Oe}c.fromVectorTileJs=E,c.fromGeojsonVt=A,c.GeoJSONWrapper=C;var J=function(Ke){return Ke[0]},Z=function(Ke){return Ke[1]},$=function(Ke,$e,Ue,nt,ct){$e===void 0&&($e=J),Ue===void 0&&(Ue=Z),nt===void 0&&(nt=64),ct===void 0&&(ct=Float64Array),this.nodeSize=nt,this.points=Ke;for(var Oe=Ke.length<65536?Uint16Array:Uint32Array,Ne=this.ids=new Oe(Ke.length),Qe=this.coords=new ct(2*Ke.length),ut=0;ut<Ke.length;ut++)Ne[ut]=ut,Qe[2*ut]=$e(Ke[ut]),Qe[2*ut+1]=Ue(Ke[ut]);U(Ne,Qe,nt,0,Ne.length-1,0)};$.prototype.range=function(Ke,$e,Ue,nt){return function(ct,Oe,Ne,Qe,ut,pt,wt){for(var Lt,It,yt=[0,ct.length-1,0],Rt=[];yt.length;){var bt=yt.pop(),Pt=yt.pop(),Bt=yt.pop();if(Pt-Bt<=wt)for(var Zt=Bt;Zt<=Pt;Zt++)Lt=Oe[2*Zt],It=Oe[2*Zt+1],Lt>=Ne&&Lt<=ut&&It>=Qe&&It<=pt&&Rt.push(ct[Zt]);else{var Yt=Math.floor((Bt+Pt)/2);Lt=Oe[2*Yt],It=Oe[2*Yt+1],Lt>=Ne&&Lt<=ut&&It>=Qe&&It<=pt&&Rt.push(ct[Yt]);var Kt=(bt+1)%2;(bt===0?Ne<=Lt:Qe<=It)&&(yt.push(Bt),yt.push(Yt-1),yt.push(Kt)),(bt===0?ut>=Lt:pt>=It)&&(yt.push(Yt+1),yt.push(Pt),yt.push(Kt))}}return Rt}(this.ids,this.coords,Ke,$e,Ue,nt,this.nodeSize)},$.prototype.within=function(Ke,$e,Ue){return function(nt,ct,Oe,Ne,Qe,ut){for(var pt=[0,nt.length-1,0],wt=[],Lt=Qe*Qe;pt.length;){var It=pt.pop(),yt=pt.pop(),Rt=pt.pop();if(yt-Rt<=ut)for(var bt=Rt;bt<=yt;bt++)K(ct[2*bt],ct[2*bt+1],Oe,Ne)<=Lt&&wt.push(nt[bt]);else{var Pt=Math.floor((Rt+yt)/2),Bt=ct[2*Pt],Zt=ct[2*Pt+1];K(Bt,Zt,Oe,Ne)<=Lt&&wt.push(nt[Pt]);var Yt=(It+1)%2;(It===0?Oe-Qe<=Bt:Ne-Qe<=Zt)&&(pt.push(Rt),pt.push(Pt-1),pt.push(Yt)),(It===0?Oe+Qe>=Bt:Ne+Qe>=Zt)&&(pt.push(Pt+1),pt.push(yt),pt.push(Yt))}}return wt}(this.ids,this.coords,Ke,$e,Ue,this.nodeSize)};var ne={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ke){return Ke}},ae=function(Ke){this.options=fe(Object.create(ne),Ke),this.trees=new Array(this.options.maxZoom+1)};function oe(Ke,$e,Ue,nt,ct){return{x:Ke,y:$e,zoom:1/0,id:Ue,parentId:-1,numPoints:nt,properties:ct}}function se(Ke,$e){var Ue=Ke.geometry.coordinates,nt=Ue[0],ct=Ue[1];return{x:xe(nt),y:ve(ct),zoom:1/0,index:$e,parentId:-1}}function ce(Ke){return{type:"Feature",id:Ke.id,properties:me(Ke),geometry:{type:"Point",coordinates:[(nt=Ke.x,360*(nt-.5)),($e=Ke.y,Ue=(180-360*$e)*Math.PI/180,360*Math.atan(Math.exp(Ue))/Math.PI-90)]}};var $e,Ue,nt}function me(Ke){var $e=Ke.numPoints,Ue=$e>=1e4?Math.round($e/1e3)+"k":$e>=1e3?Math.round($e/100)/10+"k":$e;return fe(fe({},Ke.properties),{cluster:!0,cluster_id:Ke.id,point_count:$e,point_count_abbreviated:Ue})}function xe(Ke){return Ke/360+.5}function ve(Ke){var $e=Math.sin(Ke*Math.PI/180),Ue=.5-.25*Math.log((1+$e)/(1-$e))/Math.PI;return Ue<0?0:Ue>1?1:Ue}function fe(Ke,$e){for(var Ue in $e)Ke[Ue]=$e[Ue];return Ke}function pe(Ke){return Ke.x}function Le(Ke){return Ke.y}function ye(Ke,$e,Ue,nt){for(var ct,Oe=nt,Ne=Ue-$e>>1,Qe=Ue-$e,ut=Ke[$e],pt=Ke[$e+1],wt=Ke[Ue],Lt=Ke[Ue+1],It=$e+3;It<Ue;It+=3){var yt=Ae(Ke[It],Ke[It+1],ut,pt,wt,Lt);if(yt>Oe)ct=It,Oe=yt;else if(yt===Oe){var Rt=Math.abs(It-Ne);Rt<Qe&&(ct=It,Qe=Rt)}}Oe>nt&&(ct-$e>3&&ye(Ke,$e,ct,nt),Ke[ct+2]=Oe,Ue-ct>3&&ye(Ke,ct,Ue,nt))}function Ae(Ke,$e,Ue,nt,ct,Oe){var Ne=ct-Ue,Qe=Oe-nt;if(Ne!==0||Qe!==0){var ut=((Ke-Ue)*Ne+($e-nt)*Qe)/(Ne*Ne+Qe*Qe);ut>1?(Ue=ct,nt=Oe):ut>0&&(Ue+=Ne*ut,nt+=Qe*ut)}return(Ne=Ke-Ue)*Ne+(Qe=$e-nt)*Qe}function Me(Ke,$e,Ue,nt){var ct={id:Ke===void 0?null:Ke,type:$e,geometry:Ue,tags:nt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Oe){var Ne=Oe.geometry,Qe=Oe.type;if(Qe==="Point"||Qe==="MultiPoint"||Qe==="LineString")ke(Oe,Ne);else if(Qe==="Polygon"||Qe==="MultiLineString")for(var ut=0;ut<Ne.length;ut++)ke(Oe,Ne[ut]);else if(Qe==="MultiPolygon")for(ut=0;ut<Ne.length;ut++)for(var pt=0;pt<Ne[ut].length;pt++)ke(Oe,Ne[ut][pt])}(ct),ct}function ke(Ke,$e){for(var Ue=0;Ue<$e.length;Ue+=3)Ke.minX=Math.min(Ke.minX,$e[Ue]),Ke.minY=Math.min(Ke.minY,$e[Ue+1]),Ke.maxX=Math.max(Ke.maxX,$e[Ue]),Ke.maxY=Math.max(Ke.maxY,$e[Ue+1])}function te(Ke,$e,Ue,nt){if($e.geometry){var ct=$e.geometry.coordinates,Oe=$e.geometry.type,Ne=Math.pow(Ue.tolerance/((1<<Ue.maxZoom)*Ue.extent),2),Qe=[],ut=$e.id;if(Ue.promoteId?ut=$e.properties[Ue.promoteId]:Ue.generateId&&(ut=nt||0),Oe==="Point")ue(ct,Qe);else if(Oe==="MultiPoint")for(var pt=0;pt<ct.length;pt++)ue(ct[pt],Qe);else if(Oe==="LineString")ge(ct,Qe,Ne,!1);else if(Oe==="MultiLineString"){if(Ue.lineMetrics){for(pt=0;pt<ct.length;pt++)Qe=[],ge(ct[pt],Qe,Ne,!1),Ke.push(Me(ut,"LineString",Qe,$e.properties));return}we(ct,Qe,Ne,!1)}else if(Oe==="Polygon")we(ct,Qe,Ne,!0);else{if(Oe!=="MultiPolygon"){if(Oe==="GeometryCollection"){for(pt=0;pt<$e.geometry.geometries.length;pt++)te(Ke,{id:ut,geometry:$e.geometry.geometries[pt],properties:$e.properties},Ue,nt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(pt=0;pt<ct.length;pt++){var wt=[];we(ct[pt],wt,Ne,!0),Qe.push(wt)}}Ke.push(Me(ut,Oe,Qe,$e.properties))}}function ue(Ke,$e){$e.push(Ee(Ke[0])),$e.push(Be(Ke[1])),$e.push(0)}function ge(Ke,$e,Ue,nt){for(var ct,Oe,Ne=0,Qe=0;Qe<Ke.length;Qe++){var ut=Ee(Ke[Qe][0]),pt=Be(Ke[Qe][1]);$e.push(ut),$e.push(pt),$e.push(0),Qe>0&&(Ne+=nt?(ct*pt-ut*Oe)/2:Math.sqrt(Math.pow(ut-ct,2)+Math.pow(pt-Oe,2))),ct=ut,Oe=pt}var wt=$e.length-3;$e[2]=1,ye($e,0,wt,Ue),$e[wt+2]=1,$e.size=Math.abs(Ne),$e.start=0,$e.end=$e.size}function we(Ke,$e,Ue,nt){for(var ct=0;ct<Ke.length;ct++){var Oe=[];ge(Ke[ct],Oe,Ue,nt),$e.push(Oe)}}function Ee(Ke){return Ke/360+.5}function Be(Ke){var $e=Math.sin(Ke*Math.PI/180),Ue=.5-.25*Math.log((1+$e)/(1-$e))/Math.PI;return Ue<0?0:Ue>1?1:Ue}function Re(Ke,$e,Ue,nt,ct,Oe,Ne,Qe){if(nt/=$e,Oe>=(Ue/=$e)&&Ne<nt)return Ke;if(Ne<Ue||Oe>=nt)return null;for(var ut=[],pt=0;pt<Ke.length;pt++){var wt=Ke[pt],Lt=wt.geometry,It=wt.type,yt=ct===0?wt.minX:wt.minY,Rt=ct===0?wt.maxX:wt.maxY;if(yt>=Ue&&Rt<nt)ut.push(wt);else if(!(Rt<Ue||yt>=nt)){var bt=[];if(It==="Point"||It==="MultiPoint")je(Lt,bt,Ue,nt,ct);else if(It==="LineString")he(Lt,bt,Ue,nt,ct,!1,Qe.lineMetrics);else if(It==="MultiLineString")Te(Lt,bt,Ue,nt,ct,!1);else if(It==="Polygon")Te(Lt,bt,Ue,nt,ct,!0);else if(It==="MultiPolygon")for(var Pt=0;Pt<Lt.length;Pt++){var Bt=[];Te(Lt[Pt],Bt,Ue,nt,ct,!0),Bt.length&&bt.push(Bt)}if(bt.length){if(Qe.lineMetrics&&It==="LineString"){for(Pt=0;Pt<bt.length;Pt++)ut.push(Me(wt.id,It,bt[Pt],wt.tags));continue}It!=="LineString"&&It!=="MultiLineString"||(bt.length===1?(It="LineString",bt=bt[0]):It="MultiLineString"),It!=="Point"&&It!=="MultiPoint"||(It=bt.length===3?"Point":"MultiPoint"),ut.push(Me(wt.id,It,bt,wt.tags))}}}return ut.length?ut:null}function je(Ke,$e,Ue,nt,ct){for(var Oe=0;Oe<Ke.length;Oe+=3){var Ne=Ke[Oe+ct];Ne>=Ue&&Ne<=nt&&($e.push(Ke[Oe]),$e.push(Ke[Oe+1]),$e.push(Ke[Oe+2]))}}function he(Ke,$e,Ue,nt,ct,Oe,Ne){for(var Qe,ut,pt=_e(Ke),wt=ct===0?Ye:Ge,Lt=Ke.start,It=0;It<Ke.length-3;It+=3){var yt=Ke[It],Rt=Ke[It+1],bt=Ke[It+2],Pt=Ke[It+3],Bt=Ke[It+4],Zt=ct===0?yt:Rt,Yt=ct===0?Pt:Bt,Kt=!1;Ne&&(Qe=Math.sqrt(Math.pow(yt-Pt,2)+Math.pow(Rt-Bt,2))),Zt<Ue?Yt>Ue&&(ut=wt(pt,yt,Rt,Pt,Bt,Ue),Ne&&(pt.start=Lt+Qe*ut)):Zt>nt?Yt<nt&&(ut=wt(pt,yt,Rt,Pt,Bt,nt),Ne&&(pt.start=Lt+Qe*ut)):Fe(pt,yt,Rt,bt),Yt<Ue&&Zt>=Ue&&(ut=wt(pt,yt,Rt,Pt,Bt,Ue),Kt=!0),Yt>nt&&Zt<=nt&&(ut=wt(pt,yt,Rt,Pt,Bt,nt),Kt=!0),!Oe&&Kt&&(Ne&&(pt.end=Lt+Qe*ut),$e.push(pt),pt=_e(Ke)),Ne&&(Lt+=Qe)}var tn=Ke.length-3;yt=Ke[tn],Rt=Ke[tn+1],bt=Ke[tn+2],(Zt=ct===0?yt:Rt)>=Ue&&Zt<=nt&&Fe(pt,yt,Rt,bt),tn=pt.length-3,Oe&&tn>=3&&(pt[tn]!==pt[0]||pt[tn+1]!==pt[1])&&Fe(pt,pt[0],pt[1],pt[2]),pt.length&&$e.push(pt)}function _e(Ke){var $e=[];return $e.size=Ke.size,$e.start=Ke.start,$e.end=Ke.end,$e}function Te(Ke,$e,Ue,nt,ct,Oe){for(var Ne=0;Ne<Ke.length;Ne++)he(Ke[Ne],$e,Ue,nt,ct,Oe,!1)}function Fe(Ke,$e,Ue,nt){Ke.push($e),Ke.push(Ue),Ke.push(nt)}function Ye(Ke,$e,Ue,nt,ct,Oe){var Ne=(Oe-$e)/(nt-$e);return Ke.push(Oe),Ke.push(Ue+(ct-Ue)*Ne),Ke.push(1),Ne}function Ge(Ke,$e,Ue,nt,ct,Oe){var Ne=(Oe-Ue)/(ct-Ue);return Ke.push($e+(nt-$e)*Ne),Ke.push(Oe),Ke.push(1),Ne}function ot(Ke,$e){for(var Ue=[],nt=0;nt<Ke.length;nt++){var ct,Oe=Ke[nt],Ne=Oe.type;if(Ne==="Point"||Ne==="MultiPoint"||Ne==="LineString")ct=st(Oe.geometry,$e);else if(Ne==="MultiLineString"||Ne==="Polygon"){ct=[];for(var Qe=0;Qe<Oe.geometry.length;Qe++)ct.push(st(Oe.geometry[Qe],$e))}else if(Ne==="MultiPolygon")for(ct=[],Qe=0;Qe<Oe.geometry.length;Qe++){for(var ut=[],pt=0;pt<Oe.geometry[Qe].length;pt++)ut.push(st(Oe.geometry[Qe][pt],$e));ct.push(ut)}Ue.push(Me(Oe.id,Ne,ct,Oe.tags))}return Ue}function st(Ke,$e){var Ue=[];Ue.size=Ke.size,Ke.start!==void 0&&(Ue.start=Ke.start,Ue.end=Ke.end);for(var nt=0;nt<Ke.length;nt+=3)Ue.push(Ke[nt]+$e,Ke[nt+1],Ke[nt+2]);return Ue}function ht(Ke,$e){if(Ke.transformed)return Ke;var Ue,nt,ct,Oe=1<<Ke.z,Ne=Ke.x,Qe=Ke.y;for(Ue=0;Ue<Ke.features.length;Ue++){var ut=Ke.features[Ue],pt=ut.geometry,wt=ut.type;if(ut.geometry=[],wt===1)for(nt=0;nt<pt.length;nt+=2)ut.geometry.push(xt(pt[nt],pt[nt+1],$e,Oe,Ne,Qe));else for(nt=0;nt<pt.length;nt++){var Lt=[];for(ct=0;ct<pt[nt].length;ct+=2)Lt.push(xt(pt[nt][ct],pt[nt][ct+1],$e,Oe,Ne,Qe));ut.geometry.push(Lt)}}return Ke.transformed=!0,Ke}function xt(Ke,$e,Ue,nt,ct,Oe){return[Math.round(Ue*(Ke*nt-ct)),Math.round(Ue*($e*nt-Oe))]}function Ct(Ke,$e,Ue,nt,ct){for(var Oe=$e===ct.maxZoom?0:ct.tolerance/((1<<$e)*ct.extent),Ne={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ue,y:nt,z:$e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Qe=0;Qe<Ke.length;Qe++){Ne.numFeatures++,St(Ne,Ke[Qe],Oe,ct);var ut=Ke[Qe].minX,pt=Ke[Qe].minY,wt=Ke[Qe].maxX,Lt=Ke[Qe].maxY;ut<Ne.minX&&(Ne.minX=ut),pt<Ne.minY&&(Ne.minY=pt),wt>Ne.maxX&&(Ne.maxX=wt),Lt>Ne.maxY&&(Ne.maxY=Lt)}return Ne}function St(Ke,$e,Ue,nt){var ct=$e.geometry,Oe=$e.type,Ne=[];if(Oe==="Point"||Oe==="MultiPoint")for(var Qe=0;Qe<ct.length;Qe+=3)Ne.push(ct[Qe]),Ne.push(ct[Qe+1]),Ke.numPoints++,Ke.numSimplified++;else if(Oe==="LineString")kt(Ne,ct,Ke,Ue,!1,!1);else if(Oe==="MultiLineString"||Oe==="Polygon")for(Qe=0;Qe<ct.length;Qe++)kt(Ne,ct[Qe],Ke,Ue,Oe==="Polygon",Qe===0);else if(Oe==="MultiPolygon")for(var ut=0;ut<ct.length;ut++){var pt=ct[ut];for(Qe=0;Qe<pt.length;Qe++)kt(Ne,pt[Qe],Ke,Ue,!0,Qe===0)}if(Ne.length){var wt=$e.tags||null;if(Oe==="LineString"&&nt.lineMetrics){for(var Lt in wt={},$e.tags)wt[Lt]=$e.tags[Lt];wt.mapbox_clip_start=ct.start/ct.size,wt.mapbox_clip_end=ct.end/ct.size}var It={geometry:Ne,type:Oe==="Polygon"||Oe==="MultiPolygon"?3:Oe==="LineString"||Oe==="MultiLineString"?2:1,tags:wt};$e.id!==null&&(It.id=$e.id),Ke.features.push(It)}}function kt(Ke,$e,Ue,nt,ct,Oe){var Ne=nt*nt;if(nt>0&&$e.size<(ct?Ne:nt))Ue.numPoints+=$e.length/3;else{for(var Qe=[],ut=0;ut<$e.length;ut+=3)(nt===0||$e[ut+2]>Ne)&&(Ue.numSimplified++,Qe.push($e[ut]),Qe.push($e[ut+1])),Ue.numPoints++;ct&&function(pt,wt){for(var Lt=0,It=0,yt=pt.length,Rt=yt-2;It<yt;Rt=It,It+=2)Lt+=(pt[It]-pt[Rt])*(pt[It+1]+pt[Rt+1]);if(Lt>0===wt)for(It=0,yt=pt.length;It<yt/2;It+=2){var bt=pt[It],Pt=pt[It+1];pt[It]=pt[yt-2-It],pt[It+1]=pt[yt-1-It],pt[yt-2-It]=bt,pt[yt-1-It]=Pt}}(Qe,Oe),Ke.push(Qe)}}function Nt(Ke,$e){var Ue=($e=this.options=function(ct,Oe){for(var Ne in Oe)ct[Ne]=Oe[Ne];return ct}(Object.create(this.options),$e)).debug;if(Ue&&console.time("preprocess data"),$e.maxZoom<0||$e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($e.promoteId&&$e.generateId)throw new Error("promoteId and generateId cannot be used together.");var nt=function(ct,Oe){var Ne=[];if(ct.type==="FeatureCollection")for(var Qe=0;Qe<ct.features.length;Qe++)te(Ne,ct.features[Qe],Oe,Qe);else ct.type==="Feature"?te(Ne,ct,Oe):te(Ne,{geometry:ct},Oe);return Ne}(Ke,$e);this.tiles={},this.tileCoords=[],Ue&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$e.indexMaxZoom,$e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(nt=function(ct,Oe){var Ne=Oe.buffer/Oe.extent,Qe=ct,ut=Re(ct,1,-1-Ne,Ne,0,-1,2,Oe),pt=Re(ct,1,1-Ne,2+Ne,0,-1,2,Oe);return(ut||pt)&&(Qe=Re(ct,1,-Ne,1+Ne,0,-1,2,Oe)||[],ut&&(Qe=ot(ut,1).concat(Qe)),pt&&(Qe=Qe.concat(ot(pt,-1)))),Qe}(nt,$e)).length&&this.splitTile(nt,0,0,0),Ue&&(nt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Dt(Ke,$e,Ue){return 32*((1<<Ke)*Ue+$e)+Ke}function Et(Ke,$e){var Ue=Ke.tileID.canonical;if(!this._geoJSONIndex)return $e(null,null);var nt=this._geoJSONIndex.getTile(Ue.z,Ue.x,Ue.y);if(!nt)return $e(null,null);var ct=new d(nt.features),Oe=c(ct);Oe.byteOffset===0&&Oe.byteLength===Oe.buffer.byteLength||(Oe=new Uint8Array(Oe)),$e(null,{vectorTile:ct,rawData:Oe.buffer})}ae.prototype.load=function(Ke){var $e=this.options,Ue=$e.log,nt=$e.minZoom,ct=$e.maxZoom,Oe=$e.nodeSize;Ue&&console.time("total time");var Ne="prepare "+Ke.length+" points";Ue&&console.time(Ne),this.points=Ke;for(var Qe=[],ut=0;ut<Ke.length;ut++)Ke[ut].geometry&&Qe.push(se(Ke[ut],ut));this.trees[ct+1]=new $(Qe,pe,Le,Oe,Float32Array),Ue&&console.timeEnd(Ne);for(var pt=ct;pt>=nt;pt--){var wt=+Date.now();Qe=this._cluster(Qe,pt),this.trees[pt]=new $(Qe,pe,Le,Oe,Float32Array),Ue&&console.log("z%d: %d clusters in %dms",pt,Qe.length,+Date.now()-wt)}return Ue&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(Ke,$e){var Ue=((Ke[0]+180)%360+360)%360-180,nt=Math.max(-90,Math.min(90,Ke[1])),ct=Ke[2]===180?180:((Ke[2]+180)%360+360)%360-180,Oe=Math.max(-90,Math.min(90,Ke[3]));if(Ke[2]-Ke[0]>=360)Ue=-180,ct=180;else if(Ue>ct){var Ne=this.getClusters([Ue,nt,180,Oe],$e),Qe=this.getClusters([-180,nt,ct,Oe],$e);return Ne.concat(Qe)}for(var ut=this.trees[this._limitZoom($e)],pt=[],wt=0,Lt=ut.range(xe(Ue),ve(Oe),xe(ct),ve(nt));wt<Lt.length;wt+=1){var It=Lt[wt],yt=ut.points[It];pt.push(yt.numPoints?ce(yt):this.points[yt.index])}return pt},ae.prototype.getChildren=function(Ke){var $e=this._getOriginId(Ke),Ue=this._getOriginZoom(Ke),nt="No cluster with the specified id.",ct=this.trees[Ue];if(!ct)throw new Error(nt);var Oe=ct.points[$e];if(!Oe)throw new Error(nt);for(var Ne=this.options.radius/(this.options.extent*Math.pow(2,Ue-1)),Qe=[],ut=0,pt=ct.within(Oe.x,Oe.y,Ne);ut<pt.length;ut+=1){var wt=pt[ut],Lt=ct.points[wt];Lt.parentId===Ke&&Qe.push(Lt.numPoints?ce(Lt):this.points[Lt.index])}if(Qe.length===0)throw new Error(nt);return Qe},ae.prototype.getLeaves=function(Ke,$e,Ue){$e=$e||10,Ue=Ue||0;var nt=[];return this._appendLeaves(nt,Ke,$e,Ue,0),nt},ae.prototype.getTile=function(Ke,$e,Ue){var nt=this.trees[this._limitZoom(Ke)],ct=Math.pow(2,Ke),Oe=this.options,Ne=Oe.extent,Qe=Oe.radius/Ne,ut=(Ue-Qe)/ct,pt=(Ue+1+Qe)/ct,wt={features:[]};return this._addTileFeatures(nt.range(($e-Qe)/ct,ut,($e+1+Qe)/ct,pt),nt.points,$e,Ue,ct,wt),$e===0&&this._addTileFeatures(nt.range(1-Qe/ct,ut,1,pt),nt.points,ct,Ue,ct,wt),$e===ct-1&&this._addTileFeatures(nt.range(0,ut,Qe/ct,pt),nt.points,-1,Ue,ct,wt),wt.features.length?wt:null},ae.prototype.getClusterExpansionZoom=function(Ke){for(var $e=this._getOriginZoom(Ke)-1;$e<=this.options.maxZoom;){var Ue=this.getChildren(Ke);if($e++,Ue.length!==1)break;Ke=Ue[0].properties.cluster_id}return $e},ae.prototype._appendLeaves=function(Ke,$e,Ue,nt,ct){for(var Oe=0,Ne=this.getChildren($e);Oe<Ne.length;Oe+=1){var Qe=Ne[Oe],ut=Qe.properties;if(ut&&ut.cluster?ct+ut.point_count<=nt?ct+=ut.point_count:ct=this._appendLeaves(Ke,ut.cluster_id,Ue,nt,ct):ct<nt?ct++:Ke.push(Qe),Ke.length===Ue)break}return ct},ae.prototype._addTileFeatures=function(Ke,$e,Ue,nt,ct,Oe){for(var Ne=0,Qe=Ke;Ne<Qe.length;Ne+=1){var ut=$e[Qe[Ne]],pt=ut.numPoints,wt={type:1,geometry:[[Math.round(this.options.extent*(ut.x*ct-Ue)),Math.round(this.options.extent*(ut.y*ct-nt))]],tags:pt?me(ut):this.points[ut.index].properties},Lt=void 0;pt?Lt=ut.id:this.options.generateId?Lt=ut.index:this.points[ut.index].id&&(Lt=this.points[ut.index].id),Lt!==void 0&&(wt.id=Lt),Oe.features.push(wt)}},ae.prototype._limitZoom=function(Ke){return Math.max(this.options.minZoom,Math.min(Ke,this.options.maxZoom+1))},ae.prototype._cluster=function(Ke,$e){for(var Ue=[],nt=this.options,ct=nt.radius,Oe=nt.extent,Ne=nt.reduce,Qe=ct/(Oe*Math.pow(2,$e)),ut=0;ut<Ke.length;ut++){var pt=Ke[ut];if(!(pt.zoom<=$e)){pt.zoom=$e;for(var wt=this.trees[$e+1],Lt=wt.within(pt.x,pt.y,Qe),It=pt.numPoints||1,yt=pt.x*It,Rt=pt.y*It,bt=Ne&&It>1?this._map(pt,!0):null,Pt=(ut<<5)+($e+1)+this.points.length,Bt=0,Zt=Lt;Bt<Zt.length;Bt+=1){var Yt=Zt[Bt],Kt=wt.points[Yt];if(!(Kt.zoom<=$e)){Kt.zoom=$e;var tn=Kt.numPoints||1;yt+=Kt.x*tn,Rt+=Kt.y*tn,It+=tn,Kt.parentId=Pt,Ne&&(bt||(bt=this._map(pt,!0)),Ne(bt,this._map(Kt)))}}It===1?Ue.push(pt):(pt.parentId=Pt,Ue.push(oe(yt/It,Rt/It,Pt,It,bt)))}}return Ue},ae.prototype._getOriginId=function(Ke){return Ke-this.points.length>>5},ae.prototype._getOriginZoom=function(Ke){return(Ke-this.points.length)%32},ae.prototype._map=function(Ke,$e){if(Ke.numPoints)return $e?fe({},Ke.properties):Ke.properties;var Ue=this.points[Ke.index].properties,nt=this.options.map(Ue);return $e&&nt===Ue?fe({},nt):nt},Nt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Nt.prototype.splitTile=function(Ke,$e,Ue,nt,ct,Oe,Ne){for(var Qe=[Ke,$e,Ue,nt],ut=this.options,pt=ut.debug;Qe.length;){nt=Qe.pop(),Ue=Qe.pop(),$e=Qe.pop(),Ke=Qe.pop();var wt=1<<$e,Lt=Dt($e,Ue,nt),It=this.tiles[Lt];if(!It&&(pt>1&&console.time("creation"),It=this.tiles[Lt]=Ct(Ke,$e,Ue,nt,ut),this.tileCoords.push({z:$e,x:Ue,y:nt}),pt)){pt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$e,Ue,nt,It.numFeatures,It.numPoints,It.numSimplified),console.timeEnd("creation"));var yt="z"+$e;this.stats[yt]=(this.stats[yt]||0)+1,this.total++}if(It.source=Ke,ct){if($e===ut.maxZoom||$e===ct)continue;var Rt=1<<ct-$e;if(Ue!==Math.floor(Oe/Rt)||nt!==Math.floor(Ne/Rt))continue}else if($e===ut.indexMaxZoom||It.numPoints<=ut.indexMaxPoints)continue;if(It.source=null,Ke.length!==0){pt>1&&console.time("clipping");var bt,Pt,Bt,Zt,Yt,Kt,tn=.5*ut.buffer/ut.extent,on=.5-tn,_n=.5+tn,fn=1+tn;bt=Pt=Bt=Zt=null,Yt=Re(Ke,wt,Ue-tn,Ue+_n,0,It.minX,It.maxX,ut),Kt=Re(Ke,wt,Ue+on,Ue+fn,0,It.minX,It.maxX,ut),Ke=null,Yt&&(bt=Re(Yt,wt,nt-tn,nt+_n,1,It.minY,It.maxY,ut),Pt=Re(Yt,wt,nt+on,nt+fn,1,It.minY,It.maxY,ut),Yt=null),Kt&&(Bt=Re(Kt,wt,nt-tn,nt+_n,1,It.minY,It.maxY,ut),Zt=Re(Kt,wt,nt+on,nt+fn,1,It.minY,It.maxY,ut),Kt=null),pt>1&&console.timeEnd("clipping"),Qe.push(bt||[],$e+1,2*Ue,2*nt),Qe.push(Pt||[],$e+1,2*Ue,2*nt+1),Qe.push(Bt||[],$e+1,2*Ue+1,2*nt),Qe.push(Zt||[],$e+1,2*Ue+1,2*nt+1)}}},Nt.prototype.getTile=function(Ke,$e,Ue){var nt=this.options,ct=nt.extent,Oe=nt.debug;if(Ke<0||Ke>24)return null;var Ne=1<<Ke,Qe=Dt(Ke,$e=($e%Ne+Ne)%Ne,Ue);if(this.tiles[Qe])return ht(this.tiles[Qe],ct);Oe>1&&console.log("drilling down to z%d-%d-%d",Ke,$e,Ue);for(var ut,pt=Ke,wt=$e,Lt=Ue;!ut&&pt>0;)pt--,wt=Math.floor(wt/2),Lt=Math.floor(Lt/2),ut=this.tiles[Dt(pt,wt,Lt)];return ut&&ut.source?(Oe>1&&console.log("found parent tile z%d-%d-%d",pt,wt,Lt),Oe>1&&console.time("drilling down"),this.splitTile(ut.source,pt,wt,Lt,Ke,$e,Ue),Oe>1&&console.timeEnd("drilling down"),this.tiles[Qe]?ht(this.tiles[Qe],ct):null):null};var Wt=function(Ke){function $e(Ue,nt,ct,Oe){Ke.call(this,Ue,nt,ct,Et),Oe&&(this.loadGeoJSON=Oe)}return Ke&&($e.__proto__=Ke),$e.prototype=Object.create(Ke&&Ke.prototype),$e.prototype.constructor=$e,$e.prototype.loadData=function(Ue,nt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=nt,this._pendingLoadDataParams=Ue,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},$e.prototype._loadData=function(){var Ue=this;if(this._pendingCallback&&this._pendingLoadDataParams){var nt=this._pendingCallback,ct=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Oe=!!(ct&&ct.request&&ct.request.collectResourceTiming)&&new a.RequestPerformance(ct.request);this.loadGeoJSON(ct,function(Ne,Qe){if(Ne||!Qe)return nt(Ne);if(typeof Qe!="object")return nt(new Error("Input data given to '"+ct.source+"' is not a valid GeoJSON object."));u(Qe,!0);try{Ue._geoJSONIndex=ct.cluster?new ae(function(wt){var Lt=wt.superclusterOptions,It=wt.clusterProperties;if(!It||!Lt)return Lt;for(var yt={},Rt={},bt={accumulated:null,zoom:0},Pt={properties:null},Bt=Object.keys(It),Zt=0,Yt=Bt;Zt<Yt.length;Zt+=1){var Kt=Yt[Zt],tn=It[Kt],on=tn[0],_n=tn[1],fn=a.createExpression(_n),Sn=a.createExpression(typeof on=="string"?[on,["accumulated"],["get",Kt]]:on);yt[Kt]=fn.value,Rt[Kt]=Sn.value}return Lt.map=function(Xn){Pt.properties=Xn;for(var An={},un=0,Tn=Bt;un<Tn.length;un+=1){var gn=Tn[un];An[gn]=yt[gn].evaluate(bt,Pt)}return An},Lt.reduce=function(Xn,An){Pt.properties=An;for(var un=0,Tn=Bt;un<Tn.length;un+=1){var gn=Tn[un];bt.accumulated=Xn[gn],Xn[gn]=Rt[gn].evaluate(bt,Pt)}},Lt}(ct)).load(Qe.features):function(wt,Lt){return new Nt(wt,Lt)}(Qe,ct.geojsonVtOptions)}catch(wt){return nt(wt)}Ue.loaded={};var ut={};if(Oe){var pt=Oe.finish();pt&&(ut.resourceTiming={},ut.resourceTiming[ct.source]=JSON.parse(JSON.stringify(pt)))}nt(null,ut)})}},$e.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},$e.prototype.reloadTile=function(Ue,nt){var ct=this.loaded,Oe=Ue.uid;return ct&&ct[Oe]?Ke.prototype.reloadTile.call(this,Ue,nt):this.loadTile(Ue,nt)},$e.prototype.loadGeoJSON=function(Ue,nt){if(Ue.request)a.getJSON(Ue.request,nt);else{if(typeof Ue.data!="string")return nt(new Error("Input data given to '"+Ue.source+"' is not a valid GeoJSON object."));try{return nt(null,JSON.parse(Ue.data))}catch{return nt(new Error("Input data given to '"+Ue.source+"' is not a valid GeoJSON object."))}}},$e.prototype.removeSource=function(Ue,nt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),nt()},$e.prototype.getClusterExpansionZoom=function(Ue,nt){try{nt(null,this._geoJSONIndex.getClusterExpansionZoom(Ue.clusterId))}catch(ct){nt(ct)}},$e.prototype.getClusterChildren=function(Ue,nt){try{nt(null,this._geoJSONIndex.getChildren(Ue.clusterId))}catch(ct){nt(ct)}},$e.prototype.getClusterLeaves=function(Ue,nt){try{nt(null,this._geoJSONIndex.getLeaves(Ue.clusterId,Ue.limit,Ue.offset))}catch(ct){nt(ct)}},$e}(n),Ht=function(Ke){var $e=this;this.self=Ke,this.actor=new a.Actor(Ke,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:n,geojson:Wt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ue,nt){if($e.workerSourceTypes[Ue])throw new Error('Worker source with name "'+Ue+'" already registered.');$e.workerSourceTypes[Ue]=nt},this.self.registerRTLTextPlugin=function(Ue){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ue.applyArabicShaping,a.plugin.processBidirectionalText=Ue.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ue.processStyledBidirectionalText}};return Ht.prototype.setReferrer=function(Ke,$e){this.referrer=$e},Ht.prototype.setImages=function(Ke,$e,Ue){for(var nt in this.availableImages[Ke]=$e,this.workerSources[Ke]){var ct=this.workerSources[Ke][nt];for(var Oe in ct)ct[Oe].availableImages=$e}Ue()},Ht.prototype.setLayers=function(Ke,$e,Ue){this.getLayerIndex(Ke).replace($e),Ue()},Ht.prototype.updateLayers=function(Ke,$e,Ue){this.getLayerIndex(Ke).update($e.layers,$e.removedIds),Ue()},Ht.prototype.loadTile=function(Ke,$e,Ue){this.getWorkerSource(Ke,$e.type,$e.source).loadTile($e,Ue)},Ht.prototype.loadDEMTile=function(Ke,$e,Ue){this.getDEMWorkerSource(Ke,$e.source).loadTile($e,Ue)},Ht.prototype.reloadTile=function(Ke,$e,Ue){this.getWorkerSource(Ke,$e.type,$e.source).reloadTile($e,Ue)},Ht.prototype.abortTile=function(Ke,$e,Ue){this.getWorkerSource(Ke,$e.type,$e.source).abortTile($e,Ue)},Ht.prototype.removeTile=function(Ke,$e,Ue){this.getWorkerSource(Ke,$e.type,$e.source).removeTile($e,Ue)},Ht.prototype.removeDEMTile=function(Ke,$e){this.getDEMWorkerSource(Ke,$e.source).removeTile($e)},Ht.prototype.removeSource=function(Ke,$e,Ue){if(this.workerSources[Ke]&&this.workerSources[Ke][$e.type]&&this.workerSources[Ke][$e.type][$e.source]){var nt=this.workerSources[Ke][$e.type][$e.source];delete this.workerSources[Ke][$e.type][$e.source],nt.removeSource!==void 0?nt.removeSource($e,Ue):Ue()}},Ht.prototype.loadWorkerSource=function(Ke,$e,Ue){try{this.self.importScripts($e.url),Ue()}catch(nt){Ue(nt.toString())}},Ht.prototype.syncRTLPluginState=function(Ke,$e,Ue){try{a.plugin.setState($e);var nt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&nt!=null){this.self.importScripts(nt);var ct=a.plugin.isParsed();Ue(ct?void 0:new Error("RTL Text Plugin failed to import scripts from "+nt),ct)}}catch(Oe){Ue(Oe.toString())}},Ht.prototype.getAvailableImages=function(Ke){var $e=this.availableImages[Ke];return $e||($e=[]),$e},Ht.prototype.getLayerIndex=function(Ke){var $e=this.layerIndexes[Ke];return $e||($e=this.layerIndexes[Ke]=new f),$e},Ht.prototype.getWorkerSource=function(Ke,$e,Ue){var nt=this;if(this.workerSources[Ke]||(this.workerSources[Ke]={}),this.workerSources[Ke][$e]||(this.workerSources[Ke][$e]={}),!this.workerSources[Ke][$e][Ue]){var ct={send:function(Oe,Ne,Qe){nt.actor.send(Oe,Ne,Qe,Ke)}};this.workerSources[Ke][$e][Ue]=new this.workerSourceTypes[$e](ct,this.getLayerIndex(Ke),this.getAvailableImages(Ke))}return this.workerSources[Ke][$e][Ue]},Ht.prototype.getDEMWorkerSource=function(Ke,$e){return this.demWorkerSources[Ke]||(this.demWorkerSources[Ke]={}),this.demWorkerSources[Ke][$e]||(this.demWorkerSources[Ke][$e]=new i),this.demWorkerSources[Ke][$e]},Ht.prototype.enforceCacheSizeLimit=function(Ke,$e){a.enforceCacheSizeLimit($e)},typeof WorkerGlobalScope<"u"&&a.window!==void 0&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new Ht(a.window)),Ht}),w(0,function(a){var k=a.createCommonjsModule(function(j){function X(be){return!G(be)}function G(be){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var He,Ze,at=new Blob([""],{type:"text/javascript"}),Tt=URL.createObjectURL(at);try{Ze=new Worker(Tt),He=!0}catch{He=!1}return Ze&&Ze.terminate(),URL.revokeObjectURL(Tt),He}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var He=document.createElement("canvas");He.width=He.height=1;var Ze=He.getContext("2d");if(!Ze)return!1;var at=Ze.getImageData(0,0,1,1);return at&&at.width===He.width}()?(Ie=be&&be.failIfMajorPerformanceCaveat,ie[Ie]===void 0&&(ie[Ie]=function(He){var Ze=function(Tt){var Mt=document.createElement("canvas"),re=Object.create(X.webGLContextAttributes);return re.failIfMajorPerformanceCaveat=Tt,Mt.probablySupportsContext?Mt.probablySupportsContext("webgl",re)||Mt.probablySupportsContext("experimental-webgl",re):Mt.supportsContext?Mt.supportsContext("webgl",re)||Mt.supportsContext("experimental-webgl",re):Mt.getContext("webgl",re)||Mt.getContext("experimental-webgl",re)}(He);if(!Ze)return!1;var at=Ze.createShader(Ze.VERTEX_SHADER);return!(!at||Ze.isContextLost())&&(Ze.shaderSource(at,"void main() {}"),Ze.compileShader(at),Ze.getShaderParameter(at,Ze.COMPILE_STATUS)===!0)}(Ie)),ie[Ie]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Ie}j.exports?j.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=G);var ie={};X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),y={create:function(j,X,G){var ie=a.window.document.createElement(j);return X!==void 0&&(ie.className=X),G&&G.appendChild(ie),ie},createNS:function(j,X){return a.window.document.createElementNS(j,X)}},f=a.window.document.documentElement.style;function l(j){if(!f)return j[0];for(var X=0;X<j.length;X++)if(j[X]in f)return j[X];return j[0]}var t,s=l(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);y.disableDrag=function(){f&&s&&(t=f[s],f[s]="none")},y.enableDrag=function(){f&&s&&(f[s]=t)};var o=l(["transform","WebkitTransform"]);y.setTransform=function(j,X){j.style[o]=X};var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",r,r),a.window.removeEventListener("test",r,r)}catch{n=!1}y.addEventListener=function(j,X,G,ie){ie===void 0&&(ie={}),"passive"in ie&&n?j.addEventListener(X,G,ie):j.addEventListener(X,G,ie.capture)},y.removeEventListener=function(j,X,G,ie){ie===void 0&&(ie={}),"passive"in ie&&n?j.removeEventListener(X,G,ie):j.removeEventListener(X,G,ie.capture)};var i=function(j){j.preventDefault(),j.stopPropagation(),a.window.removeEventListener("click",i,!0)};function u(j){var X=j.userImage;return!!(X&&X.render&&X.render())&&(j.data.replace(new Uint8Array(X.data.buffer)),!0)}y.suppressClick=function(){a.window.addEventListener("click",i,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",i,!0)},0)},y.mousePos=function(j,X){var G=j.getBoundingClientRect();return new a.Point(X.clientX-G.left-j.clientLeft,X.clientY-G.top-j.clientTop)},y.touchPos=function(j,X){for(var G=j.getBoundingClientRect(),ie=[],be=0;be<X.length;be++)ie.push(new a.Point(X[be].clientX-G.left-j.clientLeft,X[be].clientY-G.top-j.clientTop));return ie},y.mouseButton=function(j){return a.window.InstallTrigger!==void 0&&j.button===2&&j.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:j.button},y.remove=function(j){j.parentNode&&j.parentNode.removeChild(j)};var p=function(j){function X(){j.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(G){if(this.loaded!==G&&(this.loaded=G,G)){for(var ie=0,be=this.requestors;ie<be.length;ie+=1){var Ie=be[ie],He=Ie.ids,Ze=Ie.callback;this._notify(He,Ze)}this.requestors=[]}},X.prototype.getImage=function(G){return this.images[G]},X.prototype.addImage=function(G,ie){this._validate(G,ie)&&(this.images[G]=ie)},X.prototype._validate=function(G,ie){var be=!0;return this._validateStretch(ie.stretchX,ie.data&&ie.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchX" value'))),be=!1),this._validateStretch(ie.stretchY,ie.data&&ie.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchY" value'))),be=!1),this._validateContent(ie.content,ie)||(this.fire(new a.ErrorEvent(new Error('Image "'+G+'" has invalid "content" value'))),be=!1),be},X.prototype._validateStretch=function(G,ie){if(!G)return!0;for(var be=0,Ie=0,He=G;Ie<He.length;Ie+=1){var Ze=He[Ie];if(Ze[0]<be||Ze[1]<Ze[0]||ie<Ze[1])return!1;be=Ze[1]}return!0},X.prototype._validateContent=function(G,ie){return!(G&&(G.length!==4||G[0]<0||ie.data.width<G[0]||G[1]<0||ie.data.height<G[1]||G[2]<0||ie.data.width<G[2]||G[3]<0||ie.data.height<G[3]||G[2]<G[0]||G[3]<G[1]))},X.prototype.updateImage=function(G,ie){var be=this.images[G];ie.version=be.version+1,this.images[G]=ie,this.updatedImages[G]=!0},X.prototype.removeImage=function(G){var ie=this.images[G];delete this.images[G],delete this.patterns[G],ie.userImage&&ie.userImage.onRemove&&ie.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(G,ie){var be=!0;if(!this.isLoaded())for(var Ie=0,He=G;Ie<He.length;Ie+=1){var Ze=He[Ie];this.images[Ze]||(be=!1)}this.isLoaded()||be?this._notify(G,ie):this.requestors.push({ids:G,callback:ie})},X.prototype._notify=function(G,ie){for(var be={},Ie=0,He=G;Ie<He.length;Ie+=1){var Ze=He[Ie];this.images[Ze]||this.fire(new a.Event("styleimagemissing",{id:Ze}));var at=this.images[Ze];at?be[Ze]={data:at.data.clone(),pixelRatio:at.pixelRatio,sdf:at.sdf,version:at.version,stretchX:at.stretchX,stretchY:at.stretchY,content:at.content,hasRenderCallback:!!(at.userImage&&at.userImage.render)}:a.warnOnce('Image "'+Ze+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ie(null,be)},X.prototype.getPixelSize=function(){var G=this.atlasImage;return{width:G.width,height:G.height}},X.prototype.getPattern=function(G){var ie=this.patterns[G],be=this.getImage(G);if(!be)return null;if(ie&&ie.position.version===be.version)return ie.position;if(ie)ie.position.version=be.version;else{var Ie={w:be.data.width+2,h:be.data.height+2,x:0,y:0},He=new a.ImagePosition(Ie,be);this.patterns[G]={bin:Ie,position:He}}return this._updatePatternAtlas(),this.patterns[G].position},X.prototype.bind=function(G){var ie=G.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(G,this.atlasImage,ie.RGBA),this.atlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var G=[];for(var ie in this.patterns)G.push(this.patterns[ie].bin);var be=a.potpack(G),Ie=be.w,He=be.h,Ze=this.atlasImage;for(var at in Ze.resize({width:Ie||1,height:He||1}),this.patterns){var Tt=this.patterns[at].bin,Mt=Tt.x+1,re=Tt.y+1,de=this.images[at].data,Ce=de.width,ze=de.height;a.RGBAImage.copy(de,Ze,{x:0,y:0},{x:Mt,y:re},{width:Ce,height:ze}),a.RGBAImage.copy(de,Ze,{x:0,y:ze-1},{x:Mt,y:re-1},{width:Ce,height:1}),a.RGBAImage.copy(de,Ze,{x:0,y:0},{x:Mt,y:re+ze},{width:Ce,height:1}),a.RGBAImage.copy(de,Ze,{x:Ce-1,y:0},{x:Mt-1,y:re},{width:1,height:ze}),a.RGBAImage.copy(de,Ze,{x:0,y:0},{x:Mt+Ce,y:re},{width:1,height:ze})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(G){for(var ie=0,be=G;ie<be.length;ie+=1){var Ie=be[ie];if(!this.callbackDispatchedThisFrame[Ie]){this.callbackDispatchedThisFrame[Ie]=!0;var He=this.images[Ie];u(He)&&this.updateImage(Ie,He)}}},X}(a.Evented),h=d,_=d,m=1e20;function d(j,X,G,ie,be,Ie){this.fontSize=j||24,this.buffer=X===void 0?3:X,this.cutoff=ie||.25,this.fontFamily=be||"sans-serif",this.fontWeight=Ie||"normal",this.radius=G||8;var He=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=He,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(He*He),this.gridInner=new Float64Array(He*He),this.f=new Float64Array(He),this.d=new Float64Array(He),this.z=new Float64Array(He+1),this.v=new Int16Array(He),this.middle=Math.round(He/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function x(j,X,G,ie,be,Ie,He){for(var Ze=0;Ze<X;Ze++){for(var at=0;at<G;at++)ie[at]=j[at*X+Ze];for(g(ie,be,Ie,He,G),at=0;at<G;at++)j[at*X+Ze]=be[at]}for(at=0;at<G;at++){for(Ze=0;Ze<X;Ze++)ie[Ze]=j[at*X+Ze];for(g(ie,be,Ie,He,X),Ze=0;Ze<X;Ze++)j[at*X+Ze]=Math.sqrt(be[Ze])}}function g(j,X,G,ie,be){G[0]=0,ie[0]=-m,ie[1]=+m;for(var Ie=1,He=0;Ie<be;Ie++){for(var Ze=(j[Ie]+Ie*Ie-(j[G[He]]+G[He]*G[He]))/(2*Ie-2*G[He]);Ze<=ie[He];)He--,Ze=(j[Ie]+Ie*Ie-(j[G[He]]+G[He]*G[He]))/(2*Ie-2*G[He]);G[++He]=Ie,ie[He]=Ze,ie[He+1]=+m}for(Ie=0,He=0;Ie<be;Ie++){for(;ie[He+1]<Ie;)He++;X[Ie]=(Ie-G[He])*(Ie-G[He])+j[G[He]]}}d.prototype.draw=function(j){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(j,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),G=new Uint8ClampedArray(this.size*this.size),ie=0;ie<this.size*this.size;ie++){var be=X.data[4*ie+3]/255;this.gridOuter[ie]=be===1?0:be===0?m:Math.pow(Math.max(0,.5-be),2),this.gridInner[ie]=be===1?m:be===0?0:Math.pow(Math.max(0,be-.5),2)}for(x(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),x(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ie=0;ie<this.size*this.size;ie++){var Ie=this.gridOuter[ie]-this.gridInner[ie];G[ie]=Math.max(0,Math.min(255,Math.round(255-255*(Ie/this.radius+this.cutoff))))}return G},h.default=_;var v=function(j,X){this.requestManager=j,this.localIdeographFontFamily=X,this.entries={}};v.prototype.setURL=function(j){this.url=j},v.prototype.getGlyphs=function(j,X){var G=this,ie=[];for(var be in j)for(var Ie=0,He=j[be];Ie<He.length;Ie+=1){var Ze=He[Ie];ie.push({stack:be,id:Ze})}a.asyncAll(ie,function(at,Tt){var Mt=at.stack,re=at.id,de=G.entries[Mt];de||(de=G.entries[Mt]={glyphs:{},requests:{},ranges:{}});var Ce=de.glyphs[re];if(Ce===void 0){if(Ce=G._tinySDF(de,Mt,re))return de.glyphs[re]=Ce,void Tt(null,{stack:Mt,id:re,glyph:Ce});var ze=Math.floor(re/256);if(256*ze>65535)Tt(new Error("glyphs > 65535 not supported"));else if(de.ranges[ze])Tt(null,{stack:Mt,id:re,glyph:Ce});else{var Ve=de.requests[ze];Ve||(Ve=de.requests[ze]=[],v.loadGlyphRange(Mt,ze,G.url,G.requestManager,function(We,Je){if(Je){for(var tt in Je)G._doesCharSupportLocalGlyph(+tt)||(de.glyphs[+tt]=Je[+tt]);de.ranges[ze]=!0}for(var lt=0,dt=Ve;lt<dt.length;lt+=1)(0,dt[lt])(We,Je);delete de.requests[ze]})),Ve.push(function(We,Je){We?Tt(We):Je&&Tt(null,{stack:Mt,id:re,glyph:Je[re]||null})})}}else Tt(null,{stack:Mt,id:re,glyph:Ce})},function(at,Tt){if(at)X(at);else if(Tt){for(var Mt={},re=0,de=Tt;re<de.length;re+=1){var Ce=de[re],ze=Ce.stack,Ve=Ce.id,We=Ce.glyph;(Mt[ze]||(Mt[ze]={}))[Ve]=We&&{id:We.id,bitmap:We.bitmap.clone(),metrics:We.metrics}}X(null,Mt)}})},v.prototype._doesCharSupportLocalGlyph=function(j){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](j)||a.isChar["Hangul Syllables"](j)||a.isChar.Hiragana(j)||a.isChar.Katakana(j))},v.prototype._tinySDF=function(j,X,G){var ie=this.localIdeographFontFamily;if(ie&&this._doesCharSupportLocalGlyph(G)){var be=j.tinySDF;if(!be){var Ie="400";/bold/i.test(X)?Ie="900":/medium/i.test(X)?Ie="500":/light/i.test(X)&&(Ie="200"),be=j.tinySDF=new v.TinySDF(24,3,8,.25,ie,Ie)}return{id:G,bitmap:new a.AlphaImage({width:30,height:30},be.draw(String.fromCharCode(G))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(j,X,G,ie,be){var Ie=256*X,He=Ie+255,Ze=ie.transformRequest(ie.normalizeGlyphsURL(G).replace("{fontstack}",j).replace("{range}",Ie+"-"+He),a.ResourceType.Glyphs);a.getArrayBuffer(Ze,function(at,Tt){if(at)be(at);else if(Tt){for(var Mt={},re=0,de=a.parseGlyphPBF(Tt);re<de.length;re+=1){var Ce=de[re];Mt[Ce.id]=Ce}be(null,Mt)}})},v.TinySDF=h;var T=function(){this.specification=a.styleSpec.light.position};T.prototype.possiblyEvaluate=function(j,X){return a.sphericalToCartesian(j.expression.evaluate(X))},T.prototype.interpolate=function(j,X,G){return{x:a.number(j.x,X.x,G),y:a.number(j.y,X.y,G),z:a.number(j.z,X.z,G)}};var c=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new T,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),E="-transition",A=function(j){function X(G){j.call(this),this._transitionable=new a.Transitionable(c),this.setLight(G),this._transitioning=this._transitionable.untransitioned()}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(G,ie){if(ie===void 0&&(ie={}),!this._validate(a.validateLight,G,ie))for(var be in G){var Ie=G[be];a.endsWith(be,E)?this._transitionable.setTransition(be.slice(0,-E.length),Ie):this._transitionable.setValue(be,Ie)}},X.prototype.updateTransitions=function(G){this._transitioning=this._transitionable.transitioned(G,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(G){this.properties=this._transitioning.possiblyEvaluate(G)},X.prototype._validate=function(G,ie,be){return(!be||be.validate!==!1)&&a.emitValidationErrors(this,G.call(a.validateStyle,a.extend({value:ie,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),C=function(j,X){this.width=j,this.height=X,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};C.prototype.getDash=function(j,X){var G=j.join(",")+String(X);return this.dashEntry[G]||(this.dashEntry[G]=this.addDash(j,X)),this.dashEntry[G]},C.prototype.getDashRanges=function(j,X,G){var ie=[],be=j.length%2==1?-j[j.length-1]*G:0,Ie=j[0]*G,He=!0;ie.push({left:be,right:Ie,isDash:He,zeroLength:j[0]===0});for(var Ze=j[0],at=1;at<j.length;at++){He=!He;var Tt=j[at];be=Ze*G,Ie=(Ze+=Tt)*G,ie.push({left:be,right:Ie,isDash:He,zeroLength:Tt===0})}return ie},C.prototype.addRoundDash=function(j,X,G){for(var ie=X/2,be=-G;be<=G;be++)for(var Ie=this.nextRow+G+be,He=this.width*Ie,Ze=0,at=j[Ze],Tt=0;Tt<this.width;Tt++){Tt/at.right>1&&(at=j[++Ze]);var Mt=Math.abs(Tt-at.left),re=Math.abs(Tt-at.right),de=Math.min(Mt,re),Ce=void 0,ze=be/G*(ie+1);if(at.isDash){var Ve=ie-Math.abs(ze);Ce=Math.sqrt(de*de+Ve*Ve)}else Ce=ie-Math.sqrt(de*de+ze*ze);this.data[He+Tt]=Math.max(0,Math.min(255,Ce+128))}},C.prototype.addRegularDash=function(j){for(var X=j.length-1;X>=0;--X){var G=j[X],ie=j[X+1];G.zeroLength?j.splice(X,1):ie&&ie.isDash===G.isDash&&(ie.left=G.left,j.splice(X,1))}var be=j[0],Ie=j[j.length-1];be.isDash===Ie.isDash&&(be.left=Ie.left-this.width,Ie.right=be.right+this.width);for(var He=this.width*this.nextRow,Ze=0,at=j[Ze],Tt=0;Tt<this.width;Tt++){Tt/at.right>1&&(at=j[++Ze]);var Mt=Math.abs(Tt-at.left),re=Math.abs(Tt-at.right),de=Math.min(Mt,re),Ce=at.isDash?de:-de;this.data[He+Tt]=Math.max(0,Math.min(255,Ce+128))}},C.prototype.addDash=function(j,X){var G=X?7:0,ie=2*G+1;if(this.nextRow+ie>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var be=0,Ie=0;Ie<j.length;Ie++)be+=j[Ie];if(be!==0){var He=this.width/be,Ze=this.getDashRanges(j,this.width,He);X?this.addRoundDash(Ze,He,G):this.addRegularDash(Ze)}var at={y:(this.nextRow+G+.5)/this.height,height:2*G/this.height,width:be};return this.nextRow+=ie,this.dirty=!0,at},C.prototype.bind=function(j){var X=j.gl;this.texture?(X.bindTexture(X.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,X.texSubImage2D(X.TEXTURE_2D,0,0,0,this.width,this.height,X.ALPHA,X.UNSIGNED_BYTE,this.data))):(this.texture=X.createTexture(),X.bindTexture(X.TEXTURE_2D,this.texture),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.REPEAT),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.REPEAT),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.LINEAR),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.LINEAR),X.texImage2D(X.TEXTURE_2D,0,X.ALPHA,this.width,this.height,0,X.ALPHA,X.UNSIGNED_BYTE,this.data))};var O=function j(X,G){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ie=this.workerPool.acquire(this.id),be=0;be<ie.length;be++){var Ie=ie[be],He=new j.Actor(Ie,G,this.id);He.name="Worker "+be,this.actors.push(He)}};function P(j,X,G){var ie=function(be,Ie){if(be)return G(be);if(Ie){var He=a.pick(a.extend(Ie,j),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ie.vector_layers&&(He.vectorLayers=Ie.vector_layers,He.vectorLayerIds=He.vectorLayers.map(function(Ze){return Ze.id})),He.tiles=X.canonicalizeTileset(He,j.url),G(null,He)}};return j.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(j.url),a.ResourceType.Source),ie):a.browser.frame(function(){return ie(null,j)})}O.prototype.broadcast=function(j,X,G){G=G||function(){},a.asyncAll(this.actors,function(ie,be){ie.send(j,X,be)},G)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(j){j.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=a.Actor;var D=function(j,X,G){this.bounds=a.LngLatBounds.convert(this.validateBounds(j)),this.minzoom=X||0,this.maxzoom=G||24};D.prototype.validateBounds=function(j){return Array.isArray(j)&&j.length===4?[Math.max(-180,j[0]),Math.max(-90,j[1]),Math.min(180,j[2]),Math.min(90,j[3])]:[-180,-90,180,90]},D.prototype.contains=function(j){var X=Math.pow(2,j.z),G=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*X),ie=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*X),be=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*X),Ie=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*X);return j.x>=G&&j.x<be&&j.y>=ie&&j.y<Ie};var z=function(j){function X(G,ie,be,Ie){if(j.call(this),this.id=G,this.dispatcher=be,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ie,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ie),this._collectResourceTiming=ie.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ie)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(ie,be){G._tileJSONRequest=null,G._loaded=!0,ie?G.fire(new a.ErrorEvent(ie)):be&&(a.extend(G,be),be.bounds&&(G.tileBounds=new D(be.bounds,G.minzoom,G.maxzoom)),a.postTurnstileEvent(be.tiles,G.map._requestManager._customAccessToken),a.postMapLoadEvent(be.tiles,G.map._getMapId(),G.map._requestManager._skuToken,G.map._requestManager._customAccessToken),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},X.prototype.onAdd=function(G){this.map=G,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(G,ie){var be=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme)),Ie={request:this.map._requestManager.transformRequest(be,a.ResourceType.Tile),uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,tileSize:this.tileSize*G.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function He(Ze,at){return delete G.request,G.aborted?ie(null):Ze&&Ze.status!==404?ie(Ze):(at&&at.resourceTiming&&(G.resourceTiming=at.resourceTiming),this.map._refreshExpiredTiles&&at&&G.setExpiryData(at),G.loadVectorData(at,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ie(null),void(G.reloadCallback&&(this.loadTile(G,G.reloadCallback),G.reloadCallback=null)))}Ie.request.collectResourceTiming=this._collectResourceTiming,G.actor&&G.state!=="expired"?G.state==="loading"?G.reloadCallback=ie:G.request=G.actor.send("reloadTile",Ie,He.bind(this)):(G.actor=this.dispatcher.getActor(),G.request=G.actor.send("loadTile",Ie,He.bind(this)))},X.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.actor&&G.actor.send("abortTile",{uid:G.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(G){G.unloadVectorData(),G.actor&&G.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),V=function(j){function X(G,ie,be,Ie){j.call(this),this.id=G,this.dispatcher=be,this.setEventedParent(Ie),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ie),a.extend(this,a.pick(ie,["url","scheme","tileSize"]))}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(ie,be){G._tileJSONRequest=null,G._loaded=!0,ie?G.fire(new a.ErrorEvent(ie)):be&&(a.extend(G,be),be.bounds&&(G.tileBounds=new D(be.bounds,G.minzoom,G.maxzoom)),a.postTurnstileEvent(be.tiles),a.postMapLoadEvent(be.tiles,G.map._getMapId(),G.map._requestManager._skuToken),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(G){this.map=G,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},X.prototype.loadTile=function(G,ie){var be=this,Ie=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);G.request=a.getImage(this.map._requestManager.transformRequest(Ie,a.ResourceType.Tile),function(He,Ze){if(delete G.request,G.aborted)G.state="unloaded",ie(null);else if(He)G.state="errored",ie(He);else if(Ze){be.map._refreshExpiredTiles&&G.setExpiryData(Ze),delete Ze.cacheControl,delete Ze.expires;var at=be.map.painter.context,Tt=at.gl;G.texture=be.map.painter.getTileTexture(Ze.width),G.texture?G.texture.update(Ze,{useMipmap:!0}):(G.texture=new a.Texture(at,Ze,Tt.RGBA,{useMipmap:!0}),G.texture.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE,Tt.LINEAR_MIPMAP_NEAREST),at.extTextureFilterAnisotropic&&Tt.texParameterf(Tt.TEXTURE_2D,at.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,at.extTextureFilterAnisotropicMax)),G.state="loaded",a.cacheEntryPossiblyAdded(be.dispatcher),ie(null)}})},X.prototype.abortTile=function(G,ie){G.request&&(G.request.cancel(),delete G.request),ie()},X.prototype.unloadTile=function(G,ie){G.texture&&this.map.painter.saveTileTexture(G.texture),ie()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),F=function(j){function X(G,ie,be,Ie){j.call(this,G,ie,be,Ie),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ie),this.encoding=ie.encoding||"mapbox"}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(G,ie){var be=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Ie(He,Ze){He&&(G.state="errored",ie(He)),Ze&&(G.dem=Ze,G.needsHillshadePrepare=!0,G.state="loaded",ie(null))}G.request=a.getImage(this.map._requestManager.transformRequest(be,a.ResourceType.Tile),function(He,Ze){if(delete G.request,G.aborted)G.state="unloaded",ie(null);else if(He)G.state="errored",ie(He);else if(Ze){this.map._refreshExpiredTiles&&G.setExpiryData(Ze),delete Ze.cacheControl,delete Ze.expires;var at=a.window.ImageBitmap&&Ze instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?Ze:a.browser.getImageData(Ze,1),Tt={uid:G.uid,coord:G.tileID,source:this.id,rawImageData:at,encoding:this.encoding};G.actor&&G.state!=="expired"||(G.actor=this.dispatcher.getActor(),G.actor.send("loadDEMTile",Tt,Ie.bind(this)))}}.bind(this)),G.neighboringTiles=this._getNeighboringTiles(G.tileID)},X.prototype._getNeighboringTiles=function(G){var ie=G.canonical,be=Math.pow(2,ie.z),Ie=(ie.x-1+be)%be,He=ie.x===0?G.wrap-1:G.wrap,Ze=(ie.x+1+be)%be,at=ie.x+1===be?G.wrap+1:G.wrap,Tt={};return Tt[new a.OverscaledTileID(G.overscaledZ,He,ie.z,Ie,ie.y).key]={backfilled:!1},Tt[new a.OverscaledTileID(G.overscaledZ,at,ie.z,Ze,ie.y).key]={backfilled:!1},ie.y>0&&(Tt[new a.OverscaledTileID(G.overscaledZ,He,ie.z,Ie,ie.y-1).key]={backfilled:!1},Tt[new a.OverscaledTileID(G.overscaledZ,G.wrap,ie.z,ie.x,ie.y-1).key]={backfilled:!1},Tt[new a.OverscaledTileID(G.overscaledZ,at,ie.z,Ze,ie.y-1).key]={backfilled:!1}),ie.y+1<be&&(Tt[new a.OverscaledTileID(G.overscaledZ,He,ie.z,Ie,ie.y+1).key]={backfilled:!1},Tt[new a.OverscaledTileID(G.overscaledZ,G.wrap,ie.z,ie.x,ie.y+1).key]={backfilled:!1},Tt[new a.OverscaledTileID(G.overscaledZ,at,ie.z,Ze,ie.y+1).key]={backfilled:!1}),Tt},X.prototype.unloadTile=function(G){G.demTexture&&this.map.painter.saveTileTexture(G.demTexture),G.fbo&&(G.fbo.destroy(),delete G.fbo),G.dem&&delete G.dem,delete G.neighboringTiles,G.state="unloaded",G.actor&&G.actor.send("removeDEMTile",{uid:G.uid,source:this.id})},X}(V),W=function(j){function X(G,ie,be,Ie){j.call(this),this.id=G,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=be.getActor(),this.setEventedParent(Ie),this._data=ie.data,this._options=a.extend({},ie),this._collectResourceTiming=ie.collectResourceTiming,this._resourceTiming=[],ie.maxzoom!==void 0&&(this.maxzoom=ie.maxzoom),ie.type&&(this.type=ie.type),ie.attribution&&(this.attribution=ie.attribution),this.promoteId=ie.promoteId;var He=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ie.cluster||!1,geojsonVtOptions:{buffer:(ie.buffer!==void 0?ie.buffer:128)*He,tolerance:(ie.tolerance!==void 0?ie.tolerance:.375)*He,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ie.lineMetrics||!1,generateId:ie.generateId||!1},superclusterOptions:{maxZoom:ie.clusterMaxZoom!==void 0?Math.min(ie.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(ie.clusterRadius||50)*He,log:!1,generateId:ie.generateId||!1},clusterProperties:ie.clusterProperties},ie.workerOptions)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.load=function(){var G=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ie){if(ie)G.fire(new a.ErrorEvent(ie));else{var be={dataType:"source",sourceDataType:"metadata"};G._collectResourceTiming&&G._resourceTiming&&G._resourceTiming.length>0&&(be.resourceTiming=G._resourceTiming,G._resourceTiming=[]),G.fire(new a.Event("data",be))}})},X.prototype.onAdd=function(G){this.map=G,this.load()},X.prototype.setData=function(G){var ie=this;return this._data=G,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(be){if(be)ie.fire(new a.ErrorEvent(be));else{var Ie={dataType:"source",sourceDataType:"content"};ie._collectResourceTiming&&ie._resourceTiming&&ie._resourceTiming.length>0&&(Ie.resourceTiming=ie._resourceTiming,ie._resourceTiming=[]),ie.fire(new a.Event("data",Ie))}}),this},X.prototype.getClusterExpansionZoom=function(G,ie){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:G,source:this.id},ie),this},X.prototype.getClusterChildren=function(G,ie){return this.actor.send("geojson.getClusterChildren",{clusterId:G,source:this.id},ie),this},X.prototype.getClusterLeaves=function(G,ie,be,Ie){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:G,limit:ie,offset:be},Ie),this},X.prototype._updateWorkerData=function(G){var ie=this;this._loaded=!1;var be=a.extend({},this.workerOptions),Ie=this._data;typeof Ie=="string"?(be.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ie),a.ResourceType.Source),be.request.collectResourceTiming=this._collectResourceTiming):be.data=JSON.stringify(Ie),this.actor.send(this.type+".loadData",be,function(He,Ze){ie._removed||Ze&&Ze.abandoned||(ie._loaded=!0,Ze&&Ze.resourceTiming&&Ze.resourceTiming[ie.id]&&(ie._resourceTiming=Ze.resourceTiming[ie.id].slice(0)),ie.actor.send(ie.type+".coalesce",{source:be.source},null),G(He))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(G,ie){var be=this,Ie=G.actor?"reloadTile":"loadTile";G.actor=this.actor;var He={type:this.type,uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};G.request=this.actor.send(Ie,He,function(Ze,at){return delete G.request,G.unloadVectorData(),G.aborted?ie(null):Ze?ie(Ze):(G.loadVectorData(at,be.map.painter,Ie==="reloadTile"),ie(null))})},X.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.aborted=!0},X.prototype.unloadTile=function(G){G.unloadVectorData(),this.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),B=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),U=function(j){function X(G,ie,be,Ie){j.call(this),this.id=G,this.dispatcher=be,this.coordinates=ie.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ie),this.options=ie}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.load=function(G,ie){var be=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ie,He){be._loaded=!0,Ie?be.fire(new a.ErrorEvent(Ie)):He&&(be.image=He,G&&(be.coordinates=G),ie&&ie(),be._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(G){var ie=this;return this.image&&G.url?(this.options.url=G.url,this.load(G.coordinates,function(){ie.texture=null}),this):this},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(G){this.map=G,this.load()},X.prototype.setCoordinates=function(G){var ie=this;this.coordinates=G;var be=G.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(He){for(var Ze=1/0,at=1/0,Tt=-1/0,Mt=-1/0,re=0,de=He;re<de.length;re+=1){var Ce=de[re];Ze=Math.min(Ze,Ce.x),at=Math.min(at,Ce.y),Tt=Math.max(Tt,Ce.x),Mt=Math.max(Mt,Ce.y)}var ze=Tt-Ze,Ve=Mt-at,We=Math.max(ze,Ve),Je=Math.max(0,Math.floor(-Math.log(We)/Math.LN2)),tt=Math.pow(2,Je);return new a.CanonicalTileID(Je,Math.floor((Ze+Tt)/2*tt),Math.floor((at+Mt)/2*tt))}(be),this.minzoom=this.maxzoom=this.tileID.z;var Ie=be.map(function(He){return ie.tileID.getTilePoint(He)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ie[0].x,Ie[0].y,0,0),this._boundsArray.emplaceBack(Ie[1].x,Ie[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ie[3].x,Ie[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ie[2].x,Ie[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var G=this.map.painter.context,ie=G.gl;for(var be in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,B.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(G,this.image,ie.RGBA),this.texture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE)),this.tiles){var Ie=this.tiles[be];Ie.state!=="loaded"&&(Ie.state="loaded",Ie.texture=this.texture)}}},X.prototype.loadTile=function(G,ie){this.tileID&&this.tileID.equals(G.tileID.canonical)?(this.tiles[String(G.tileID.wrap)]=G,G.buckets={},ie(null)):(G.state="errored",ie(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented),H=function(j){function X(G,ie,be,Ie){j.call(this,G,ie,be,Ie),this.roundZoom=!0,this.type="video",this.options=ie}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.load=function(){var G=this;this._loaded=!1;var ie=this.options;this.urls=[];for(var be=0,Ie=ie.urls;be<Ie.length;be+=1){var He=Ie[be];this.urls.push(this.map._requestManager.transformRequest(He,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Ze,at){G._loaded=!0,Ze?G.fire(new a.ErrorEvent(Ze)):at&&(G.video=at,G.video.loop=!0,G.video.addEventListener("playing",function(){G.map.triggerRepaint()}),G.map&&G.video.play(),G._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(G){if(this.video){var ie=this.video.seekable;G<ie.start(0)||G>ie.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ie.start(0)+" and "+ie.end(0)+"-second mark."))):this.video.currentTime=G}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(G){this.map||(this.map=G,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var G=this.map.painter.context,ie=G.gl;for(var be in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,B.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),ie.texSubImage2D(ie.TEXTURE_2D,0,0,0,ie.RGBA,ie.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(G,this.video,ie.RGBA),this.texture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE)),this.tiles){var Ie=this.tiles[be];Ie.state!=="loaded"&&(Ie.state="loaded",Ie.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(U),q=function(j){function X(G,ie,be,Ie){j.call(this,G,ie,be,Ie),ie.coordinates?Array.isArray(ie.coordinates)&&ie.coordinates.length===4&&!ie.coordinates.some(function(He){return!Array.isArray(He)||He.length!==2||He.some(function(Ze){return typeof Ze!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'missing required property "coordinates"'))),ie.animate&&typeof ie.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'optional "animate" property must be a boolean value'))),ie.canvas?typeof ie.canvas=="string"||ie.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'missing required property "canvas"'))),this.options=ie,this.animate=ie.animate===void 0||ie.animate}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(G){this.map=G,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var G=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,G=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,G=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ie=this.map.painter.context,be=ie.gl;for(var Ie in this.boundsBuffer||(this.boundsBuffer=ie.createVertexBuffer(this._boundsArray,B.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(G||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ie,this.canvas,be.RGBA,{premultiply:!0}),this.tiles){var He=this.tiles[Ie];He.state!=="loaded"&&(He.state="loaded",He.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var G=0,ie=[this.canvas.width,this.canvas.height];G<ie.length;G+=1){var be=ie[G];if(isNaN(be)||be<=0)return!0}return!1},X}(U),ee={vector:z,raster:V,"raster-dem":F,geojson:W,video:H,image:U,canvas:q};function K(j,X){var G=a.identity([]);return a.translate(G,G,[1,1,0]),a.scale(G,G,[.5*j.width,.5*j.height,1]),a.multiply(G,G,j.calculatePosMatrix(X.toUnwrapped()))}function J(j,X,G,ie,be,Ie){var He=function(Ve,We,Je){if(Ve)for(var tt=0,lt=Ve;tt<lt.length;tt+=1){var dt=We[lt[tt]];if(dt&&dt.source===Je&&dt.type==="fill-extrusion")return!0}else for(var Ft in We){var Ut=We[Ft];if(Ut.source===Je&&Ut.type==="fill-extrusion")return!0}return!1}(be&&be.layers,X,j.id),Ze=Ie.maxPitchScaleFactor(),at=j.tilesIn(ie,Ze,He);at.sort(Z);for(var Tt=[],Mt=0,re=at;Mt<re.length;Mt+=1){var de=re[Mt];Tt.push({wrappedTileID:de.tileID.wrapped().key,queryResults:de.tile.queryRenderedFeatures(X,G,j._state,de.queryGeometry,de.cameraQueryGeometry,de.scale,be,Ie,Ze,K(j.transform,de.tileID))})}var Ce=function(Ve){for(var We={},Je={},tt=0,lt=Ve;tt<lt.length;tt+=1){var dt=lt[tt],Ft=dt.queryResults,Ut=dt.wrappedTileID,qt=Je[Ut]=Je[Ut]||{};for(var nn in Ft)for(var yn=Ft[nn],rn=qt[nn]=qt[nn]||{},cn=We[nn]=We[nn]||[],sn=0,Ln=yn;sn<Ln.length;sn+=1){var wn=Ln[sn];rn[wn.featureIndex]||(rn[wn.featureIndex]=!0,cn.push(wn))}}return We}(Tt);for(var ze in Ce)Ce[ze].forEach(function(Ve){var We=Ve.feature,Je=j.getFeatureState(We.layer["source-layer"],We.id);We.source=We.layer.source,We.layer["source-layer"]&&(We.sourceLayer=We.layer["source-layer"]),We.state=Je});return Ce}function Z(j,X){var G=j.tileID,ie=X.tileID;return G.overscaledZ-ie.overscaledZ||G.canonical.y-ie.canonical.y||G.wrap-ie.wrap||G.canonical.x-ie.canonical.x}var $=function(j,X){this.max=j,this.onRemove=X,this.reset()};$.prototype.reset=function(){for(var j in this.data)for(var X=0,G=this.data[j];X<G.length;X+=1){var ie=G[X];ie.timeout&&clearTimeout(ie.timeout),this.onRemove(ie.value)}return this.data={},this.order=[],this},$.prototype.add=function(j,X,G){var ie=this,be=j.wrapped().key;this.data[be]===void 0&&(this.data[be]=[]);var Ie={value:X,timeout:void 0};if(G!==void 0&&(Ie.timeout=setTimeout(function(){ie.remove(j,Ie)},G)),this.data[be].push(Ie),this.order.push(be),this.order.length>this.max){var He=this._getAndRemoveByKey(this.order[0]);He&&this.onRemove(He)}return this},$.prototype.has=function(j){return j.wrapped().key in this.data},$.prototype.getAndRemove=function(j){return this.has(j)?this._getAndRemoveByKey(j.wrapped().key):null},$.prototype._getAndRemoveByKey=function(j){var X=this.data[j].shift();return X.timeout&&clearTimeout(X.timeout),this.data[j].length===0&&delete this.data[j],this.order.splice(this.order.indexOf(j),1),X.value},$.prototype.getByKey=function(j){var X=this.data[j];return X?X[0].value:null},$.prototype.get=function(j){return this.has(j)?this.data[j.wrapped().key][0].value:null},$.prototype.remove=function(j,X){if(!this.has(j))return this;var G=j.wrapped().key,ie=X===void 0?0:this.data[G].indexOf(X),be=this.data[G][ie];return this.data[G].splice(ie,1),be.timeout&&clearTimeout(be.timeout),this.data[G].length===0&&delete this.data[G],this.onRemove(be.value),this.order.splice(this.order.indexOf(G),1),this},$.prototype.setMaxSize=function(j){for(this.max=j;this.order.length>this.max;){var X=this._getAndRemoveByKey(this.order[0]);X&&this.onRemove(X)}return this},$.prototype.filter=function(j){var X=[];for(var G in this.data)for(var ie=0,be=this.data[G];ie<be.length;ie+=1){var Ie=be[ie];j(Ie.value)||X.push(Ie)}for(var He=0,Ze=X;He<Ze.length;He+=1){var at=Ze[He];this.remove(at.value.tileID,at)}};var ne=function(j,X,G){this.context=j;var ie=j.gl;this.buffer=ie.createBuffer(),this.dynamicDraw=!!G,this.context.unbindVAO(),j.bindElementBuffer.set(this.buffer),ie.bufferData(ie.ELEMENT_ARRAY_BUFFER,X.arrayBuffer,this.dynamicDraw?ie.DYNAMIC_DRAW:ie.STATIC_DRAW),this.dynamicDraw||delete X.arrayBuffer};ne.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ne.prototype.updateData=function(j){var X=this.context.gl;this.context.unbindVAO(),this.bind(),X.bufferSubData(X.ELEMENT_ARRAY_BUFFER,0,j.arrayBuffer)},ne.prototype.destroy=function(){var j=this.context.gl;this.buffer&&(j.deleteBuffer(this.buffer),delete this.buffer)};var ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},oe=function(j,X,G,ie){this.length=X.length,this.attributes=G,this.itemSize=X.bytesPerElement,this.dynamicDraw=ie,this.context=j;var be=j.gl;this.buffer=be.createBuffer(),j.bindVertexBuffer.set(this.buffer),be.bufferData(be.ARRAY_BUFFER,X.arrayBuffer,this.dynamicDraw?be.DYNAMIC_DRAW:be.STATIC_DRAW),this.dynamicDraw||delete X.arrayBuffer};oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},oe.prototype.updateData=function(j){var X=this.context.gl;this.bind(),X.bufferSubData(X.ARRAY_BUFFER,0,j.arrayBuffer)},oe.prototype.enableAttributes=function(j,X){for(var G=0;G<this.attributes.length;G++){var ie=this.attributes[G],be=X.attributes[ie.name];be!==void 0&&j.enableVertexAttribArray(be)}},oe.prototype.setVertexAttribPointers=function(j,X,G){for(var ie=0;ie<this.attributes.length;ie++){var be=this.attributes[ie],Ie=X.attributes[be.name];Ie!==void 0&&j.vertexAttribPointer(Ie,be.components,j[ae[be.type]],!1,this.itemSize,be.offset+this.itemSize*(G||0))}},oe.prototype.destroy=function(){var j=this.context.gl;this.buffer&&(j.deleteBuffer(this.buffer),delete this.buffer)};var se=function(j){this.gl=j.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};se.prototype.get=function(){return this.current},se.prototype.set=function(j){},se.prototype.getDefault=function(){return this.default},se.prototype.setDefault=function(){this.set(this.default)};var ce=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(G){var ie=this.current;(G.r!==ie.r||G.g!==ie.g||G.b!==ie.b||G.a!==ie.a||this.dirty)&&(this.gl.clearColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},X}(se),me=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearDepth(G),this.current=G,this.dirty=!1)},X}(se),xe=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearStencil(G),this.current=G,this.dirty=!1)},X}(se),ve=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(G){var ie=this.current;(G[0]!==ie[0]||G[1]!==ie[1]||G[2]!==ie[2]||G[3]!==ie[3]||this.dirty)&&(this.gl.colorMask(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},X}(se),fe=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthMask(G),this.current=G,this.dirty=!1)},X}(se),pe=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.stencilMask(G),this.current=G,this.dirty=!1)},X}(se),Le=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(G){var ie=this.current;(G.func!==ie.func||G.ref!==ie.ref||G.mask!==ie.mask||this.dirty)&&(this.gl.stencilFunc(G.func,G.ref,G.mask),this.current=G,this.dirty=!1)},X}(se),ye=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var G=this.gl;return[G.KEEP,G.KEEP,G.KEEP]},X.prototype.set=function(G){var ie=this.current;(G[0]!==ie[0]||G[1]!==ie[1]||G[2]!==ie[2]||this.dirty)&&(this.gl.stencilOp(G[0],G[1],G[2]),this.current=G,this.dirty=!1)},X}(se),Ae=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;G?ie.enable(ie.STENCIL_TEST):ie.disable(ie.STENCIL_TEST),this.current=G,this.dirty=!1}},X}(se),Me=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(G){var ie=this.current;(G[0]!==ie[0]||G[1]!==ie[1]||this.dirty)&&(this.gl.depthRange(G[0],G[1]),this.current=G,this.dirty=!1)},X}(se),ke=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;G?ie.enable(ie.DEPTH_TEST):ie.disable(ie.DEPTH_TEST),this.current=G,this.dirty=!1}},X}(se),te=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthFunc(G),this.current=G,this.dirty=!1)},X}(se),ue=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;G?ie.enable(ie.BLEND):ie.disable(ie.BLEND),this.current=G,this.dirty=!1}},X}(se),ge=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var G=this.gl;return[G.ONE,G.ZERO]},X.prototype.set=function(G){var ie=this.current;(G[0]!==ie[0]||G[1]!==ie[1]||this.dirty)&&(this.gl.blendFunc(G[0],G[1]),this.current=G,this.dirty=!1)},X}(se),we=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(G){var ie=this.current;(G.r!==ie.r||G.g!==ie.g||G.b!==ie.b||G.a!==ie.a||this.dirty)&&(this.gl.blendColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},X}(se),Ee=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.blendEquation(G),this.current=G,this.dirty=!1)},X}(se),Be=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;G?ie.enable(ie.CULL_FACE):ie.disable(ie.CULL_FACE),this.current=G,this.dirty=!1}},X}(se),Re=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.cullFace(G),this.current=G,this.dirty=!1)},X}(se),je=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.frontFace(G),this.current=G,this.dirty=!1)},X}(se),he=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.useProgram(G),this.current=G,this.dirty=!1)},X}(se),_e=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.activeTexture(G),this.current=G,this.dirty=!1)},X}(se),Te=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var G=this.gl;return[0,0,G.drawingBufferWidth,G.drawingBufferHeight]},X.prototype.set=function(G){var ie=this.current;(G[0]!==ie[0]||G[1]!==ie[1]||G[2]!==ie[2]||G[3]!==ie[3]||this.dirty)&&(this.gl.viewport(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},X}(se),Fe=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.bindFramebuffer(ie.FRAMEBUFFER,G),this.current=G,this.dirty=!1}},X}(se),Ye=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.bindRenderbuffer(ie.RENDERBUFFER,G),this.current=G,this.dirty=!1}},X}(se),Ge=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.bindTexture(ie.TEXTURE_2D,G),this.current=G,this.dirty=!1}},X}(se),ot=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.bindBuffer(ie.ARRAY_BUFFER,G),this.current=G,this.dirty=!1}},X}(se),st=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){var ie=this.gl;ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,G),this.current=G,this.dirty=!1},X}(se),ht=function(j){function X(G){j.call(this,G),this.vao=G.extVertexArrayObject}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(G){this.vao&&(G!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(G),this.current=G,this.dirty=!1)},X}(se),xt=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.pixelStorei(ie.UNPACK_ALIGNMENT,G),this.current=G,this.dirty=!1}},X}(se),Ct=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),this.current=G,this.dirty=!1}},X}(se),St=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(G){if(G!==this.current||this.dirty){var ie=this.gl;ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,G),this.current=G,this.dirty=!1}},X}(se),kt=function(j){function X(G,ie){j.call(this,G),this.context=G,this.parent=ie}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(se),Nt=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ie=this.gl;ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,G,0),this.current=G,this.dirty=!1}},X}(kt),Dt=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ie=this.gl;ie.framebufferRenderbuffer(ie.FRAMEBUFFER,ie.DEPTH_ATTACHMENT,ie.RENDERBUFFER,G),this.current=G,this.dirty=!1}},X}(kt),Et=function(j,X,G,ie){this.context=j,this.width=X,this.height=G;var be=j.gl,Ie=this.framebuffer=be.createFramebuffer();this.colorAttachment=new Nt(j,Ie),ie&&(this.depthAttachment=new Dt(j,Ie))};Et.prototype.destroy=function(){var j=this.context.gl,X=this.colorAttachment.get();if(X&&j.deleteTexture(X),this.depthAttachment){var G=this.depthAttachment.get();G&&j.deleteRenderbuffer(G)}j.deleteFramebuffer(this.framebuffer)};var Wt=function(j,X,G){this.func=j,this.mask=X,this.range=G};Wt.ReadOnly=!1,Wt.ReadWrite=!0,Wt.disabled=new Wt(519,Wt.ReadOnly,[0,1]);var Ht=7680,Ke=function(j,X,G,ie,be,Ie){this.test=j,this.ref=X,this.mask=G,this.fail=ie,this.depthFail=be,this.pass=Ie};Ke.disabled=new Ke({func:519,mask:0},0,0,Ht,Ht,Ht);var $e=function(j,X,G){this.blendFunction=j,this.blendColor=X,this.mask=G};$e.disabled=new $e($e.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),$e.unblended=new $e($e.Replace,a.Color.transparent,[!0,!0,!0,!0]),$e.alphaBlended=new $e([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ue=function(j,X,G){this.enable=j,this.mode=X,this.frontFace=G};Ue.disabled=new Ue(!1,1029,2305),Ue.backCCW=new Ue(!0,1029,2305);var nt=function(j){this.gl=j,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ce(this),this.clearDepth=new me(this),this.clearStencil=new xe(this),this.colorMask=new ve(this),this.depthMask=new fe(this),this.stencilMask=new pe(this),this.stencilFunc=new Le(this),this.stencilOp=new ye(this),this.stencilTest=new Ae(this),this.depthRange=new Me(this),this.depthTest=new ke(this),this.depthFunc=new te(this),this.blend=new ue(this),this.blendFunc=new ge(this),this.blendColor=new we(this),this.blendEquation=new Ee(this),this.cullFace=new Be(this),this.cullFaceSide=new Re(this),this.frontFace=new je(this),this.program=new he(this),this.activeTexture=new _e(this),this.viewport=new Te(this),this.bindFramebuffer=new Fe(this),this.bindRenderbuffer=new Ye(this),this.bindTexture=new Ge(this),this.bindVertexBuffer=new ot(this),this.bindElementBuffer=new st(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ht(this),this.pixelStoreUnpack=new xt(this),this.pixelStoreUnpackPremultiplyAlpha=new Ct(this),this.pixelStoreUnpackFlipY=new St(this),this.extTextureFilterAnisotropic=j.getExtension("EXT_texture_filter_anisotropic")||j.getExtension("MOZ_EXT_texture_filter_anisotropic")||j.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=j.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=j.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(j.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=j.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=j.getExtension("EXT_disjoint_timer_query")};nt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},nt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},nt.prototype.createIndexBuffer=function(j,X){return new ne(this,j,X)},nt.prototype.createVertexBuffer=function(j,X,G){return new oe(this,j,X,G)},nt.prototype.createRenderbuffer=function(j,X,G){var ie=this.gl,be=ie.createRenderbuffer();return this.bindRenderbuffer.set(be),ie.renderbufferStorage(ie.RENDERBUFFER,j,X,G),this.bindRenderbuffer.set(null),be},nt.prototype.createFramebuffer=function(j,X,G){return new Et(this,j,X,G)},nt.prototype.clear=function(j){var X=j.color,G=j.depth,ie=this.gl,be=0;X&&(be|=ie.COLOR_BUFFER_BIT,this.clearColor.set(X),this.colorMask.set([!0,!0,!0,!0])),G!==void 0&&(be|=ie.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(G),this.depthMask.set(!0)),ie.clear(be)},nt.prototype.setCullFace=function(j){j.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(j.mode),this.frontFace.set(j.frontFace))},nt.prototype.setDepthMode=function(j){j.func!==this.gl.ALWAYS||j.mask?(this.depthTest.set(!0),this.depthFunc.set(j.func),this.depthMask.set(j.mask),this.depthRange.set(j.range)):this.depthTest.set(!1)},nt.prototype.setStencilMode=function(j){j.test.func!==this.gl.ALWAYS||j.mask?(this.stencilTest.set(!0),this.stencilMask.set(j.mask),this.stencilOp.set([j.fail,j.depthFail,j.pass]),this.stencilFunc.set({func:j.test.func,ref:j.ref,mask:j.test.mask})):this.stencilTest.set(!1)},nt.prototype.setColorMode=function(j){a.deepEqual(j.blendFunction,$e.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(j.blendFunction),this.blendColor.set(j.blendColor)),this.colorMask.set(j.mask)},nt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ct=function(j){function X(G,ie,be){var Ie=this;j.call(this),this.id=G,this.dispatcher=be,this.on("data",function(He){He.dataType==="source"&&He.sourceDataType==="metadata"&&(Ie._sourceLoaded=!0),Ie._sourceLoaded&&!Ie._paused&&He.dataType==="source"&&He.sourceDataType==="content"&&(Ie.reload(),Ie.transform&&Ie.update(Ie.transform))}),this.on("error",function(){Ie._sourceErrored=!0}),this._source=function(He,Ze,at,Tt){var Mt=new ee[Ze.type](He,Ze,at,Tt);if(Mt.id!==He)throw new Error("Expected Source id to be "+He+" instead of "+Mt.id);return a.bindAll(["load","abort","unload","serialize","prepare"],Mt),Mt}(G,ie,be,this),this._tiles={},this._cache=new $(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(G){this.map=G,this._maxTileCacheSize=G?G._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(G)},X.prototype.onRemove=function(G){this._source&&this._source.onRemove&&this._source.onRemove(G)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var G in this._tiles){var ie=this._tiles[G];if(ie.state!=="loaded"&&ie.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var G=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,G&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(G,ie){return this._source.loadTile(G,ie)},X.prototype._unloadTile=function(G){if(this._source.unloadTile)return this._source.unloadTile(G,function(){})},X.prototype._abortTile=function(G){if(this._source.abortTile)return this._source.abortTile(G,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(G){for(var ie in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var be=this._tiles[ie];be.upload(G),be.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(G){return G.tileID}).sort(Oe).map(function(G){return G.key})},X.prototype.getRenderableIds=function(G){var ie=this,be=[];for(var Ie in this._tiles)this._isIdRenderable(Ie,G)&&be.push(this._tiles[Ie]);return G?be.sort(function(He,Ze){var at=He.tileID,Tt=Ze.tileID,Mt=new a.Point(at.canonical.x,at.canonical.y)._rotate(ie.transform.angle),re=new a.Point(Tt.canonical.x,Tt.canonical.y)._rotate(ie.transform.angle);return at.overscaledZ-Tt.overscaledZ||re.y-Mt.y||re.x-Mt.x}).map(function(He){return He.tileID.key}):be.map(function(He){return He.tileID}).sort(Oe).map(function(He){return He.key})},X.prototype.hasRenderableParent=function(G){var ie=this.findLoadedParent(G,0);return!!ie&&this._isIdRenderable(ie.tileID.key)},X.prototype._isIdRenderable=function(G,ie){return this._tiles[G]&&this._tiles[G].hasData()&&!this._coveredTiles[G]&&(ie||!this._tiles[G].holdingForFade())},X.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var G in this._cache.reset(),this._tiles)this._tiles[G].state!=="errored"&&this._reloadTile(G,"reloading")},X.prototype._reloadTile=function(G,ie){var be=this._tiles[G];be&&(be.state!=="loading"&&(be.state=ie),this._loadTile(be,this._tileLoaded.bind(this,be,G,ie)))},X.prototype._tileLoaded=function(G,ie,be,Ie){if(Ie)return G.state="errored",void(Ie.status!==404?this._source.fire(new a.ErrorEvent(Ie,{tile:G})):this.update(this.transform));G.timeAdded=a.browser.now(),be==="expired"&&(G.refreshedUponExpiration=!0),this._setTileReloadTimer(ie,G),this.getSource().type==="raster-dem"&&G.dem&&this._backfillDEM(G),this._state.initializeTileState(G,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:G,coord:G.tileID}))},X.prototype._backfillDEM=function(G){for(var ie=this.getRenderableIds(),be=0;be<ie.length;be++){var Ie=ie[be];if(G.neighboringTiles&&G.neighboringTiles[Ie]){var He=this.getTileByID(Ie);Ze(G,He),Ze(He,G)}}function Ze(at,Tt){at.needsHillshadePrepare=!0;var Mt=Tt.tileID.canonical.x-at.tileID.canonical.x,re=Tt.tileID.canonical.y-at.tileID.canonical.y,de=Math.pow(2,at.tileID.canonical.z),Ce=Tt.tileID.key;Mt===0&&re===0||Math.abs(re)>1||(Math.abs(Mt)>1&&(Math.abs(Mt+de)===1?Mt+=de:Math.abs(Mt-de)===1&&(Mt-=de)),Tt.dem&&at.dem&&(at.dem.backfillBorder(Tt.dem,Mt,re),at.neighboringTiles&&at.neighboringTiles[Ce]&&(at.neighboringTiles[Ce].backfilled=!0)))}},X.prototype.getTile=function(G){return this.getTileByID(G.key)},X.prototype.getTileByID=function(G){return this._tiles[G]},X.prototype._retainLoadedChildren=function(G,ie,be,Ie){for(var He in this._tiles){var Ze=this._tiles[He];if(!(Ie[He]||!Ze.hasData()||Ze.tileID.overscaledZ<=ie||Ze.tileID.overscaledZ>be)){for(var at=Ze.tileID;Ze&&Ze.tileID.overscaledZ>ie+1;){var Tt=Ze.tileID.scaledTo(Ze.tileID.overscaledZ-1);(Ze=this._tiles[Tt.key])&&Ze.hasData()&&(at=Tt)}for(var Mt=at;Mt.overscaledZ>ie;)if(G[(Mt=Mt.scaledTo(Mt.overscaledZ-1)).key]){Ie[at.key]=at;break}}}},X.prototype.findLoadedParent=function(G,ie){if(G.key in this._loadedParentTiles){var be=this._loadedParentTiles[G.key];return be&&be.tileID.overscaledZ>=ie?be:null}for(var Ie=G.overscaledZ-1;Ie>=ie;Ie--){var He=G.scaledTo(Ie),Ze=this._getLoadedTile(He);if(Ze)return Ze}},X.prototype._getLoadedTile=function(G){var ie=this._tiles[G.key];return ie&&ie.hasData()?ie:this._cache.getByKey(G.wrapped().key)},X.prototype.updateCacheSize=function(G){var ie=(Math.ceil(G.width/this._source.tileSize)+1)*(Math.ceil(G.height/this._source.tileSize)+1),be=Math.floor(5*ie),Ie=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,be):be;this._cache.setMaxSize(Ie)},X.prototype.handleWrapJump=function(G){var ie=(G-(this._prevLng===void 0?G:this._prevLng))/360,be=Math.round(ie);if(this._prevLng=G,be){var Ie={};for(var He in this._tiles){var Ze=this._tiles[He];Ze.tileID=Ze.tileID.unwrapTo(Ze.tileID.wrap+be),Ie[Ze.tileID.key]=Ze}for(var at in this._tiles=Ie,this._timers)clearTimeout(this._timers[at]),delete this._timers[at];for(var Tt in this._tiles){var Mt=this._tiles[Tt];this._setTileReloadTimer(Tt,Mt)}}},X.prototype.update=function(G){var ie=this;if(this.transform=G,this._sourceLoaded&&!this._paused){var be;this.updateCacheSize(G),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?be=G.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(qt){return new a.OverscaledTileID(qt.canonical.z,qt.wrap,qt.canonical.z,qt.canonical.x,qt.canonical.y)}):(be=G.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(be=be.filter(function(qt){return ie._source.hasTile(qt)}))):be=[];var Ie=G.coveringZoomLevel(this._source),He=Math.max(Ie-X.maxOverzooming,this._source.minzoom),Ze=Math.max(Ie+X.maxUnderzooming,this._source.minzoom),at=this._updateRetainedTiles(be,Ie);if(Ne(this._source.type)){for(var Tt={},Mt={},re=0,de=Object.keys(at);re<de.length;re+=1){var Ce=de[re],ze=at[Ce],Ve=this._tiles[Ce];if(Ve&&!(Ve.fadeEndTime&&Ve.fadeEndTime<=a.browser.now())){var We=this.findLoadedParent(ze,He);We&&(this._addTile(We.tileID),Tt[We.tileID.key]=We.tileID),Mt[Ce]=ze}}for(var Je in this._retainLoadedChildren(Mt,Ie,Ze,at),Tt)at[Je]||(this._coveredTiles[Je]=!0,at[Je]=Tt[Je])}for(var tt in at)this._tiles[tt].clearFadeHold();for(var lt=0,dt=a.keysDifference(this._tiles,at);lt<dt.length;lt+=1){var Ft=dt[lt],Ut=this._tiles[Ft];Ut.hasSymbolBuckets&&!Ut.holdingForFade()?Ut.setHoldDuration(this.map._fadeDuration):Ut.hasSymbolBuckets&&!Ut.symbolFadeFinished()||this._removeTile(Ft)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var G in this._tiles)this._tiles[G].holdingForFade()&&this._removeTile(G)},X.prototype._updateRetainedTiles=function(G,ie){for(var be={},Ie={},He=Math.max(ie-X.maxOverzooming,this._source.minzoom),Ze=Math.max(ie+X.maxUnderzooming,this._source.minzoom),at={},Tt=0,Mt=G;Tt<Mt.length;Tt+=1){var re=Mt[Tt],de=this._addTile(re);be[re.key]=re,de.hasData()||ie<this._source.maxzoom&&(at[re.key]=re)}this._retainLoadedChildren(at,ie,Ze,be);for(var Ce=0,ze=G;Ce<ze.length;Ce+=1){var Ve=ze[Ce],We=this._tiles[Ve.key];if(!We.hasData()){if(ie+1>this._source.maxzoom){var Je=Ve.children(this._source.maxzoom)[0],tt=this.getTile(Je);if(tt&&tt.hasData()){be[Je.key]=Je;continue}}else{var lt=Ve.children(this._source.maxzoom);if(be[lt[0].key]&&be[lt[1].key]&&be[lt[2].key]&&be[lt[3].key])continue}for(var dt=We.wasRequested(),Ft=Ve.overscaledZ-1;Ft>=He;--Ft){var Ut=Ve.scaledTo(Ft);if(Ie[Ut.key]||(Ie[Ut.key]=!0,!(We=this.getTile(Ut))&&dt&&(We=this._addTile(Ut)),We&&(be[Ut.key]=Ut,dt=We.wasRequested(),We.hasData())))break}}}return be},X.prototype._updateLoadedParentTileCache=function(){for(var G in this._loadedParentTiles={},this._tiles){for(var ie=[],be=void 0,Ie=this._tiles[G].tileID;Ie.overscaledZ>0;){if(Ie.key in this._loadedParentTiles){be=this._loadedParentTiles[Ie.key];break}ie.push(Ie.key);var He=Ie.scaledTo(Ie.overscaledZ-1);if(be=this._getLoadedTile(He))break;Ie=He}for(var Ze=0,at=ie;Ze<at.length;Ze+=1){var Tt=at[Ze];this._loadedParentTiles[Tt]=be}}},X.prototype._addTile=function(G){var ie=this._tiles[G.key];if(ie)return ie;(ie=this._cache.getAndRemove(G))&&(this._setTileReloadTimer(G.key,ie),ie.tileID=G,this._state.initializeTileState(ie,this.map?this.map.painter:null),this._cacheTimers[G.key]&&(clearTimeout(this._cacheTimers[G.key]),delete this._cacheTimers[G.key],this._setTileReloadTimer(G.key,ie)));var be=!!ie;return be||(ie=new a.Tile(G,this._source.tileSize*G.overscaleFactor()),this._loadTile(ie,this._tileLoaded.bind(this,ie,G.key,ie.state))),ie?(ie.uses++,this._tiles[G.key]=ie,be||this._source.fire(new a.Event("dataloading",{tile:ie,coord:ie.tileID,dataType:"source"})),ie):null},X.prototype._setTileReloadTimer=function(G,ie){var be=this;G in this._timers&&(clearTimeout(this._timers[G]),delete this._timers[G]);var Ie=ie.getExpiryTimeout();Ie&&(this._timers[G]=setTimeout(function(){be._reloadTile(G,"expired"),delete be._timers[G]},Ie))},X.prototype._removeTile=function(G){var ie=this._tiles[G];ie&&(ie.uses--,delete this._tiles[G],this._timers[G]&&(clearTimeout(this._timers[G]),delete this._timers[G]),ie.uses>0||(ie.hasData()&&ie.state!=="reloading"?this._cache.add(ie.tileID,ie,ie.getExpiryTimeout()):(ie.aborted=!0,this._abortTile(ie),this._unloadTile(ie))))},X.prototype.clearTiles=function(){for(var G in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(G);this._cache.reset()},X.prototype.tilesIn=function(G,ie,be){var Ie=this,He=[],Ze=this.transform;if(!Ze)return He;for(var at=be?Ze.getCameraQueryGeometry(G):G,Tt=G.map(function(Ft){return Ze.pointCoordinate(Ft)}),Mt=at.map(function(Ft){return Ze.pointCoordinate(Ft)}),re=this.getIds(),de=1/0,Ce=1/0,ze=-1/0,Ve=-1/0,We=0,Je=Mt;We<Je.length;We+=1){var tt=Je[We];de=Math.min(de,tt.x),Ce=Math.min(Ce,tt.y),ze=Math.max(ze,tt.x),Ve=Math.max(Ve,tt.y)}for(var lt=function(Ft){var Ut=Ie._tiles[re[Ft]];if(!Ut.holdingForFade()){var qt=Ut.tileID,nn=Math.pow(2,Ze.zoom-Ut.tileID.overscaledZ),yn=ie*Ut.queryPadding*a.EXTENT/Ut.tileSize/nn,rn=[qt.getTilePoint(new a.MercatorCoordinate(de,Ce)),qt.getTilePoint(new a.MercatorCoordinate(ze,Ve))];if(rn[0].x-yn<a.EXTENT&&rn[0].y-yn<a.EXTENT&&rn[1].x+yn>=0&&rn[1].y+yn>=0){var cn=Tt.map(function(Ln){return qt.getTilePoint(Ln)}),sn=Mt.map(function(Ln){return qt.getTilePoint(Ln)});He.push({tile:Ut,tileID:qt,queryGeometry:cn,cameraQueryGeometry:sn,scale:nn})}}},dt=0;dt<re.length;dt++)lt(dt);return He},X.prototype.getVisibleCoordinates=function(G){for(var ie=this,be=this.getRenderableIds(G).map(function(at){return ie._tiles[at].tileID}),Ie=0,He=be;Ie<He.length;Ie+=1){var Ze=He[Ie];Ze.posMatrix=this.transform.calculatePosMatrix(Ze.toUnwrapped())}return be},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ne(this._source.type))for(var G in this._tiles){var ie=this._tiles[G];if(ie.fadeEndTime!==void 0&&ie.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(G,ie,be){G=G||"_geojsonTileLayer",this._state.updateState(G,ie,be)},X.prototype.removeFeatureState=function(G,ie,be){G=G||"_geojsonTileLayer",this._state.removeFeatureState(G,ie,be)},X.prototype.getFeatureState=function(G,ie){return G=G||"_geojsonTileLayer",this._state.getState(G,ie)},X.prototype.setDependencies=function(G,ie,be){var Ie=this._tiles[G];Ie&&Ie.setDependencies(ie,be)},X.prototype.reloadTilesForDependencies=function(G,ie){for(var be in this._tiles)this._tiles[be].hasDependency(G,ie)&&this._reloadTile(be,"reloading");this._cache.filter(function(Ie){return!Ie.hasDependency(G,ie)})},X}(a.Evented);function Oe(j,X){var G=Math.abs(2*j.wrap)-+(j.wrap<0),ie=Math.abs(2*X.wrap)-+(X.wrap<0);return j.overscaledZ-X.overscaledZ||ie-G||X.canonical.y-j.canonical.y||X.canonical.x-j.canonical.x}function Ne(j){return j==="raster"||j==="image"||j==="video"}function Qe(){return new a.window.Worker(At.workerUrl)}ct.maxOverzooming=10,ct.maxUnderzooming=3;var ut="mapboxgl_preloaded_worker_pool",pt=function(){this.active={}};pt.prototype.acquire=function(j){if(!this.workers)for(this.workers=[];this.workers.length<pt.workerCount;)this.workers.push(new Qe);return this.active[j]=!0,this.workers.slice()},pt.prototype.release=function(j){delete this.active[j],this.numActive()===0&&(this.workers.forEach(function(X){X.terminate()}),this.workers=null)},pt.prototype.isPreloaded=function(){return!!this.active[ut]},pt.prototype.numActive=function(){return Object.keys(this.active).length};var wt,Lt=Math.floor(a.browser.hardwareConcurrency/2);function It(){return wt||(wt=new pt),wt}function yt(j,X){var G={};for(var ie in j)ie!=="ref"&&(G[ie]=j[ie]);return a.refProperties.forEach(function(be){be in X&&(G[be]=X[be])}),G}function Rt(j){j=j.slice();for(var X=Object.create(null),G=0;G<j.length;G++)X[j[G].id]=j[G];for(var ie=0;ie<j.length;ie++)"ref"in j[ie]&&(j[ie]=yt(j[ie],X[j[ie].ref]));return j}pt.workerCount=Math.max(Math.min(Lt,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Pt(j,X,G){G.push({command:bt.addSource,args:[j,X[j]]})}function Bt(j,X,G){X.push({command:bt.removeSource,args:[j]}),G[j]=!0}function Zt(j,X,G,ie){Bt(j,G,ie),Pt(j,X,G)}function Yt(j,X,G){var ie;for(ie in j[G])if(j[G].hasOwnProperty(ie)&&ie!=="data"&&!a.deepEqual(j[G][ie],X[G][ie]))return!1;for(ie in X[G])if(X[G].hasOwnProperty(ie)&&ie!=="data"&&!a.deepEqual(j[G][ie],X[G][ie]))return!1;return!0}function Kt(j,X,G,ie,be,Ie){var He;for(He in X=X||{},j=j||{})j.hasOwnProperty(He)&&(a.deepEqual(j[He],X[He])||G.push({command:Ie,args:[ie,He,X[He],be]}));for(He in X)X.hasOwnProperty(He)&&!j.hasOwnProperty(He)&&(a.deepEqual(j[He],X[He])||G.push({command:Ie,args:[ie,He,X[He],be]}))}function tn(j){return j.id}function on(j,X){return j[X.id]=X,j}function _n(j,X){if(!j)return[{command:bt.setStyle,args:[X]}];var G=[];try{if(!a.deepEqual(j.version,X.version))return[{command:bt.setStyle,args:[X]}];a.deepEqual(j.center,X.center)||G.push({command:bt.setCenter,args:[X.center]}),a.deepEqual(j.zoom,X.zoom)||G.push({command:bt.setZoom,args:[X.zoom]}),a.deepEqual(j.bearing,X.bearing)||G.push({command:bt.setBearing,args:[X.bearing]}),a.deepEqual(j.pitch,X.pitch)||G.push({command:bt.setPitch,args:[X.pitch]}),a.deepEqual(j.sprite,X.sprite)||G.push({command:bt.setSprite,args:[X.sprite]}),a.deepEqual(j.glyphs,X.glyphs)||G.push({command:bt.setGlyphs,args:[X.glyphs]}),a.deepEqual(j.transition,X.transition)||G.push({command:bt.setTransition,args:[X.transition]}),a.deepEqual(j.light,X.light)||G.push({command:bt.setLight,args:[X.light]});var ie={},be=[];(function(He,Ze,at,Tt){var Mt;for(Mt in Ze=Ze||{},He=He||{})He.hasOwnProperty(Mt)&&(Ze.hasOwnProperty(Mt)||Bt(Mt,at,Tt));for(Mt in Ze)Ze.hasOwnProperty(Mt)&&(He.hasOwnProperty(Mt)?a.deepEqual(He[Mt],Ze[Mt])||(He[Mt].type==="geojson"&&Ze[Mt].type==="geojson"&&Yt(He,Ze,Mt)?at.push({command:bt.setGeoJSONSourceData,args:[Mt,Ze[Mt].data]}):Zt(Mt,Ze,at,Tt)):Pt(Mt,Ze,at))})(j.sources,X.sources,be,ie);var Ie=[];j.layers&&j.layers.forEach(function(He){ie[He.source]?G.push({command:bt.removeLayer,args:[He.id]}):Ie.push(He)}),G=G.concat(be),function(He,Ze,at){Ze=Ze||[];var Tt,Mt,re,de,Ce,ze,Ve,We=(He=He||[]).map(tn),Je=Ze.map(tn),tt=He.reduce(on,{}),lt=Ze.reduce(on,{}),dt=We.slice(),Ft=Object.create(null);for(Tt=0,Mt=0;Tt<We.length;Tt++)re=We[Tt],lt.hasOwnProperty(re)?Mt++:(at.push({command:bt.removeLayer,args:[re]}),dt.splice(dt.indexOf(re,Mt),1));for(Tt=0,Mt=0;Tt<Je.length;Tt++)re=Je[Je.length-1-Tt],dt[dt.length-1-Tt]!==re&&(tt.hasOwnProperty(re)?(at.push({command:bt.removeLayer,args:[re]}),dt.splice(dt.lastIndexOf(re,dt.length-Mt),1)):Mt++,ze=dt[dt.length-Tt],at.push({command:bt.addLayer,args:[lt[re],ze]}),dt.splice(dt.length-Tt,0,re),Ft[re]=!0);for(Tt=0;Tt<Je.length;Tt++)if(de=tt[re=Je[Tt]],Ce=lt[re],!Ft[re]&&!a.deepEqual(de,Ce))if(a.deepEqual(de.source,Ce.source)&&a.deepEqual(de["source-layer"],Ce["source-layer"])&&a.deepEqual(de.type,Ce.type)){for(Ve in Kt(de.layout,Ce.layout,at,re,null,bt.setLayoutProperty),Kt(de.paint,Ce.paint,at,re,null,bt.setPaintProperty),a.deepEqual(de.filter,Ce.filter)||at.push({command:bt.setFilter,args:[re,Ce.filter]}),a.deepEqual(de.minzoom,Ce.minzoom)&&a.deepEqual(de.maxzoom,Ce.maxzoom)||at.push({command:bt.setLayerZoomRange,args:[re,Ce.minzoom,Ce.maxzoom]}),de)de.hasOwnProperty(Ve)&&Ve!=="layout"&&Ve!=="paint"&&Ve!=="filter"&&Ve!=="metadata"&&Ve!=="minzoom"&&Ve!=="maxzoom"&&(Ve.indexOf("paint.")===0?Kt(de[Ve],Ce[Ve],at,re,Ve.slice(6),bt.setPaintProperty):a.deepEqual(de[Ve],Ce[Ve])||at.push({command:bt.setLayerProperty,args:[re,Ve,Ce[Ve]]}));for(Ve in Ce)Ce.hasOwnProperty(Ve)&&!de.hasOwnProperty(Ve)&&Ve!=="layout"&&Ve!=="paint"&&Ve!=="filter"&&Ve!=="metadata"&&Ve!=="minzoom"&&Ve!=="maxzoom"&&(Ve.indexOf("paint.")===0?Kt(de[Ve],Ce[Ve],at,re,Ve.slice(6),bt.setPaintProperty):a.deepEqual(de[Ve],Ce[Ve])||at.push({command:bt.setLayerProperty,args:[re,Ve,Ce[Ve]]}))}else at.push({command:bt.removeLayer,args:[re]}),ze=dt[dt.lastIndexOf(re)+1],at.push({command:bt.addLayer,args:[Ce,ze]})}(Ie,X.layers,G)}catch(He){console.warn("Unable to compute style diff:",He),G=[{command:bt.setStyle,args:[X]}]}return G}var fn=function(j,X){this.reset(j,X)};fn.prototype.reset=function(j,X){this.points=j||[],this._distances=[0];for(var G=1;G<this.points.length;G++)this._distances[G]=this._distances[G-1]+this.points[G].dist(this.points[G-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(X||0,.5*this.length),this.paddedLength=this.length-2*this.padding},fn.prototype.lerp=function(j){if(this.points.length===1)return this.points[0];j=a.clamp(j,0,1);for(var X=1,G=this._distances[X],ie=j*this.paddedLength+this.padding;G<ie&&X<this._distances.length;)G=this._distances[++X];var be=X-1,Ie=this._distances[be],He=G-Ie,Ze=He>0?(ie-Ie)/He:0;return this.points[be].mult(1-Ze).add(this.points[X].mult(Ze))};var Sn=function(j,X,G){var ie=this.boxCells=[],be=this.circleCells=[];this.xCellCount=Math.ceil(j/G),this.yCellCount=Math.ceil(X/G);for(var Ie=0;Ie<this.xCellCount*this.yCellCount;Ie++)ie.push([]),be.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=j,this.height=X,this.xScale=this.xCellCount/j,this.yScale=this.yCellCount/X,this.boxUid=0,this.circleUid=0};function Xn(j,X,G,ie,be){var Ie=a.create();return X?(a.scale(Ie,Ie,[1/be,1/be,1]),G||a.rotateZ(Ie,Ie,ie.angle)):a.multiply(Ie,ie.labelPlaneMatrix,j),Ie}function An(j,X,G,ie,be){if(X){var Ie=a.clone(j);return a.scale(Ie,Ie,[be,be,1]),G||a.rotateZ(Ie,Ie,-ie.angle),Ie}return ie.glCoordMatrix}function un(j,X){var G=[j.x,j.y,0,1];Mr(G,G,X);var ie=G[3];return{point:new a.Point(G[0]/ie,G[1]/ie),signedDistanceFromCamera:ie}}function Tn(j,X){return .5+j/X*.5}function gn(j,X){var G=j[0]/j[3],ie=j[1]/j[3];return G>=-X[0]&&G<=X[0]&&ie>=-X[1]&&ie<=X[1]}function dn(j,X,G,ie,be,Ie,He,Ze){var at=ie?j.textSizeData:j.iconSizeData,Tt=a.evaluateSizeForZoom(at,G.transform.zoom),Mt=[256/G.width*2+1,256/G.height*2+1],re=ie?j.text.dynamicLayoutVertexArray:j.icon.dynamicLayoutVertexArray;re.clear();for(var de=j.lineVertexArray,Ce=ie?j.text.placedSymbolArray:j.icon.placedSymbolArray,ze=G.transform.width/G.transform.height,Ve=!1,We=0;We<Ce.length;We++){var Je=Ce.get(We);if(Je.hidden||Je.writingMode===a.WritingMode.vertical&&!Ve)ir(Je.numGlyphs,re);else{Ve=!1;var tt=[Je.anchorX,Je.anchorY,0,1];if(a.transformMat4(tt,tt,X),gn(tt,Mt)){var lt=tt[3],dt=Tn(G.transform.cameraToCenterDistance,lt),Ft=a.evaluateSizeForFeature(at,Tt,Je),Ut=He?Ft/dt:Ft*dt,qt=new a.Point(Je.anchorX,Je.anchorY),nn=un(qt,be).point,yn={},rn=Hn(Je,Ut,!1,Ze,X,be,Ie,j.glyphOffsetArray,de,re,nn,qt,yn,ze);Ve=rn.useVertical,(rn.notEnoughRoom||Ve||rn.needsFlipping&&Hn(Je,Ut,!0,Ze,X,be,Ie,j.glyphOffsetArray,de,re,nn,qt,yn,ze).notEnoughRoom)&&ir(Je.numGlyphs,re)}else ir(Je.numGlyphs,re)}}ie?j.text.dynamicLayoutVertexBuffer.updateData(re):j.icon.dynamicLayoutVertexBuffer.updateData(re)}function Rn(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt){var re=Ze.glyphStartIndex+Ze.numGlyphs,de=Ze.lineStartIndex,Ce=Ze.lineStartIndex+Ze.lineLength,ze=X.getoffsetX(Ze.glyphStartIndex),Ve=X.getoffsetX(re-1),We=Gn(j*ze,G,ie,be,Ie,He,Ze.segment,de,Ce,at,Tt,Mt);if(!We)return null;var Je=Gn(j*Ve,G,ie,be,Ie,He,Ze.segment,de,Ce,at,Tt,Mt);return Je?{first:We,last:Je}:null}function In(j,X,G,ie){return j===a.WritingMode.horizontal&&Math.abs(G.y-X.y)>Math.abs(G.x-X.x)*ie?{useVertical:!0}:(j===a.WritingMode.vertical?X.y<G.y:X.x>G.x)?{needsFlipping:!0}:null}function Hn(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt,re,de,Ce){var ze,Ve=X/24,We=j.lineOffsetX*Ve,Je=j.lineOffsetY*Ve;if(j.numGlyphs>1){var tt=j.glyphStartIndex+j.numGlyphs,lt=j.lineStartIndex,dt=j.lineStartIndex+j.lineLength,Ft=Rn(Ve,Ze,We,Je,G,Mt,re,j,at,Ie,de);if(!Ft)return{notEnoughRoom:!0};var Ut=un(Ft.first.point,He).point,qt=un(Ft.last.point,He).point;if(ie&&!G){var nn=In(j.writingMode,Ut,qt,Ce);if(nn)return nn}ze=[Ft.first];for(var yn=j.glyphStartIndex+1;yn<tt-1;yn++)ze.push(Gn(Ve*Ze.getoffsetX(yn),We,Je,G,Mt,re,j.segment,lt,dt,at,Ie,de));ze.push(Ft.last)}else{if(ie&&!G){var rn=un(re,be).point,cn=j.lineStartIndex+j.segment+1,sn=new a.Point(at.getx(cn),at.gety(cn)),Ln=un(sn,be),wn=Ln.signedDistanceFromCamera>0?Ln.point:Yn(re,sn,rn,1,be),ln=In(j.writingMode,rn,wn,Ce);if(ln)return ln}var Bn=Gn(Ve*Ze.getoffsetX(j.glyphStartIndex),We,Je,G,Mt,re,j.segment,j.lineStartIndex,j.lineStartIndex+j.lineLength,at,Ie,de);if(!Bn)return{notEnoughRoom:!0};ze=[Bn]}for(var Wn=0,tr=ze;Wn<tr.length;Wn+=1){var or=tr[Wn];a.addDynamicAttributes(Tt,or.point,or.angle)}return{}}function Yn(j,X,G,ie,be){var Ie=un(j.add(j.sub(X)._unit()),be).point,He=G.sub(Ie);return G.add(He._mult(ie/He.mag()))}function Gn(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt,re){var de=ie?j-X:j+X,Ce=de>0?1:-1,ze=0;ie&&(Ce*=-1,ze=Math.PI),Ce<0&&(ze+=Math.PI);for(var Ve=Ce>0?Ze+He:Ze+He+1,We=be,Je=be,tt=0,lt=0,dt=Math.abs(de),Ft=[];tt+lt<=dt;){if((Ve+=Ce)<Ze||Ve>=at)return null;if(Je=We,Ft.push(We),(We=re[Ve])===void 0){var Ut=new a.Point(Tt.getx(Ve),Tt.gety(Ve)),qt=un(Ut,Mt);if(qt.signedDistanceFromCamera>0)We=re[Ve]=qt.point;else{var nn=Ve-Ce;We=Yn(tt===0?Ie:new a.Point(Tt.getx(nn),Tt.gety(nn)),Ut,Je,dt-tt+1,Mt)}}tt+=lt,lt=Je.dist(We)}var yn=(dt-tt)/lt,rn=We.sub(Je),cn=rn.mult(yn)._add(Je);cn._add(rn._unit()._perp()._mult(G*Ce));var sn=ze+Math.atan2(We.y-Je.y,We.x-Je.x);return Ft.push(cn),{point:cn,angle:sn,path:Ft}}Sn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Sn.prototype.insert=function(j,X,G,ie,be){this._forEachCell(X,G,ie,be,this._insertBoxCell,this.boxUid++),this.boxKeys.push(j),this.bboxes.push(X),this.bboxes.push(G),this.bboxes.push(ie),this.bboxes.push(be)},Sn.prototype.insertCircle=function(j,X,G,ie){this._forEachCell(X-ie,G-ie,X+ie,G+ie,this._insertCircleCell,this.circleUid++),this.circleKeys.push(j),this.circles.push(X),this.circles.push(G),this.circles.push(ie)},Sn.prototype._insertBoxCell=function(j,X,G,ie,be,Ie){this.boxCells[be].push(Ie)},Sn.prototype._insertCircleCell=function(j,X,G,ie,be,Ie){this.circleCells[be].push(Ie)},Sn.prototype._query=function(j,X,G,ie,be,Ie){if(G<0||j>this.width||ie<0||X>this.height)return!be&&[];var He=[];if(j<=0&&X<=0&&this.width<=G&&this.height<=ie){if(be)return!0;for(var Ze=0;Ze<this.boxKeys.length;Ze++)He.push({key:this.boxKeys[Ze],x1:this.bboxes[4*Ze],y1:this.bboxes[4*Ze+1],x2:this.bboxes[4*Ze+2],y2:this.bboxes[4*Ze+3]});for(var at=0;at<this.circleKeys.length;at++){var Tt=this.circles[3*at],Mt=this.circles[3*at+1],re=this.circles[3*at+2];He.push({key:this.circleKeys[at],x1:Tt-re,y1:Mt-re,x2:Tt+re,y2:Mt+re})}return Ie?He.filter(Ie):He}var de={hitTest:be,seenUids:{box:{},circle:{}}};return this._forEachCell(j,X,G,ie,this._queryCell,He,de,Ie),be?He.length>0:He},Sn.prototype._queryCircle=function(j,X,G,ie,be){var Ie=j-G,He=j+G,Ze=X-G,at=X+G;if(He<0||Ie>this.width||at<0||Ze>this.height)return!ie&&[];var Tt=[],Mt={hitTest:ie,circle:{x:j,y:X,radius:G},seenUids:{box:{},circle:{}}};return this._forEachCell(Ie,Ze,He,at,this._queryCellCircle,Tt,Mt,be),ie?Tt.length>0:Tt},Sn.prototype.query=function(j,X,G,ie,be){return this._query(j,X,G,ie,!1,be)},Sn.prototype.hitTest=function(j,X,G,ie,be){return this._query(j,X,G,ie,!0,be)},Sn.prototype.hitTestCircle=function(j,X,G,ie){return this._queryCircle(j,X,G,!0,ie)},Sn.prototype._queryCell=function(j,X,G,ie,be,Ie,He,Ze){var at=He.seenUids,Tt=this.boxCells[be];if(Tt!==null)for(var Mt=this.bboxes,re=0,de=Tt;re<de.length;re+=1){var Ce=de[re];if(!at.box[Ce]){at.box[Ce]=!0;var ze=4*Ce;if(j<=Mt[ze+2]&&X<=Mt[ze+3]&&G>=Mt[ze+0]&&ie>=Mt[ze+1]&&(!Ze||Ze(this.boxKeys[Ce]))){if(He.hitTest)return Ie.push(!0),!0;Ie.push({key:this.boxKeys[Ce],x1:Mt[ze],y1:Mt[ze+1],x2:Mt[ze+2],y2:Mt[ze+3]})}}}var Ve=this.circleCells[be];if(Ve!==null)for(var We=this.circles,Je=0,tt=Ve;Je<tt.length;Je+=1){var lt=tt[Je];if(!at.circle[lt]){at.circle[lt]=!0;var dt=3*lt;if(this._circleAndRectCollide(We[dt],We[dt+1],We[dt+2],j,X,G,ie)&&(!Ze||Ze(this.circleKeys[lt]))){if(He.hitTest)return Ie.push(!0),!0;var Ft=We[dt],Ut=We[dt+1],qt=We[dt+2];Ie.push({key:this.circleKeys[lt],x1:Ft-qt,y1:Ut-qt,x2:Ft+qt,y2:Ut+qt})}}}},Sn.prototype._queryCellCircle=function(j,X,G,ie,be,Ie,He,Ze){var at=He.circle,Tt=He.seenUids,Mt=this.boxCells[be];if(Mt!==null)for(var re=this.bboxes,de=0,Ce=Mt;de<Ce.length;de+=1){var ze=Ce[de];if(!Tt.box[ze]){Tt.box[ze]=!0;var Ve=4*ze;if(this._circleAndRectCollide(at.x,at.y,at.radius,re[Ve+0],re[Ve+1],re[Ve+2],re[Ve+3])&&(!Ze||Ze(this.boxKeys[ze])))return Ie.push(!0),!0}}var We=this.circleCells[be];if(We!==null)for(var Je=this.circles,tt=0,lt=We;tt<lt.length;tt+=1){var dt=lt[tt];if(!Tt.circle[dt]){Tt.circle[dt]=!0;var Ft=3*dt;if(this._circlesCollide(Je[Ft],Je[Ft+1],Je[Ft+2],at.x,at.y,at.radius)&&(!Ze||Ze(this.circleKeys[dt])))return Ie.push(!0),!0}}},Sn.prototype._forEachCell=function(j,X,G,ie,be,Ie,He,Ze){for(var at=this._convertToXCellCoord(j),Tt=this._convertToYCellCoord(X),Mt=this._convertToXCellCoord(G),re=this._convertToYCellCoord(ie),de=at;de<=Mt;de++)for(var Ce=Tt;Ce<=re;Ce++){var ze=this.xCellCount*Ce+de;if(be.call(this,j,X,G,ie,ze,Ie,He,Ze))return}},Sn.prototype._convertToXCellCoord=function(j){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(j*this.xScale)))},Sn.prototype._convertToYCellCoord=function(j){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(j*this.yScale)))},Sn.prototype._circlesCollide=function(j,X,G,ie,be,Ie){var He=ie-j,Ze=be-X,at=G+Ie;return at*at>He*He+Ze*Ze},Sn.prototype._circleAndRectCollide=function(j,X,G,ie,be,Ie,He){var Ze=(Ie-ie)/2,at=Math.abs(j-(ie+Ze));if(at>Ze+G)return!1;var Tt=(He-be)/2,Mt=Math.abs(X-(be+Tt));if(Mt>Tt+G)return!1;if(at<=Ze||Mt<=Tt)return!0;var re=at-Ze,de=Mt-Tt;return re*re+de*de<=G*G};var cr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ir(j,X){for(var G=0;G<j;G++){var ie=X.length;X.resize(ie+4),X.float32.set(cr,3*ie)}}function Mr(j,X,G){var ie=X[0],be=X[1];return j[0]=G[0]*ie+G[4]*be+G[12],j[1]=G[1]*ie+G[5]*be+G[13],j[3]=G[3]*ie+G[7]*be+G[15],j}var gr=100,sr=function(j,X,G){X===void 0&&(X=new Sn(j.width+200,j.height+200,25)),G===void 0&&(G=new Sn(j.width+200,j.height+200,25)),this.transform=j,this.grid=X,this.ignoredGrid=G,this.pitchfactor=Math.cos(j._pitch)*j.cameraToCenterDistance,this.screenRightBoundary=j.width+gr,this.screenBottomBoundary=j.height+gr,this.gridRightBoundary=j.width+200,this.gridBottomBoundary=j.height+200};function xr(j,X,G){return X*(a.EXTENT/(j.tileSize*Math.pow(2,G-j.tileID.overscaledZ)))}sr.prototype.placeCollisionBox=function(j,X,G,ie,be){var Ie=this.projectAndGetPerspectiveRatio(ie,j.anchorPointX,j.anchorPointY),He=G*Ie.perspectiveRatio,Ze=j.x1*He+Ie.point.x,at=j.y1*He+Ie.point.y,Tt=j.x2*He+Ie.point.x,Mt=j.y2*He+Ie.point.y;return!this.isInsideGrid(Ze,at,Tt,Mt)||!X&&this.grid.hitTest(Ze,at,Tt,Mt,be)?{box:[],offscreen:!1}:{box:[Ze,at,Tt,Mt],offscreen:this.isOffscreen(Ze,at,Tt,Mt)}},sr.prototype.placeCollisionCircles=function(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt,re,de){var Ce=[],ze=new a.Point(X.anchorX,X.anchorY),Ve=un(ze,Ie),We=Tn(this.transform.cameraToCenterDistance,Ve.signedDistanceFromCamera),Je=(Tt?be/We:be*We)/a.ONE_EM,tt=un(ze,He).point,lt=Rn(Je,ie,X.lineOffsetX*Je,X.lineOffsetY*Je,!1,tt,ze,X,G,He,{}),dt=!1,Ft=!1,Ut=!0;if(lt){for(var qt=.5*re*We+de,nn=new a.Point(-100,-100),yn=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),rn=new fn,cn=lt.first,sn=lt.last,Ln=[],wn=cn.path.length-1;wn>=1;wn--)Ln.push(cn.path[wn]);for(var ln=1;ln<sn.path.length;ln++)Ln.push(sn.path[ln]);var Bn=2.5*qt;if(Ze){var Wn=Ln.map(function(Ai){return un(Ai,Ze)});Ln=Wn.some(function(Ai){return Ai.signedDistanceFromCamera<=0})?[]:Wn.map(function(Ai){return Ai.point})}var tr=[];if(Ln.length>0){for(var or=Ln[0].clone(),Sr=Ln[0].clone(),Cr=1;Cr<Ln.length;Cr++)or.x=Math.min(or.x,Ln[Cr].x),or.y=Math.min(or.y,Ln[Cr].y),Sr.x=Math.max(Sr.x,Ln[Cr].x),Sr.y=Math.max(Sr.y,Ln[Cr].y);tr=or.x>=nn.x&&Sr.x<=yn.x&&or.y>=nn.y&&Sr.y<=yn.y?[Ln]:Sr.x<nn.x||or.x>yn.x||Sr.y<nn.y||or.y>yn.y?[]:a.clipLine([Ln],nn.x,nn.y,yn.x,yn.y)}for(var wr=0,Ar=tr;wr<Ar.length;wr+=1){var Fr=Ar[wr];rn.reset(Fr,.25*qt);var ii;ii=rn.length<=.5*qt?1:Math.ceil(rn.paddedLength/Bn)+1;for(var ai=0;ai<ii;ai++){var _r=ai/Math.max(ii-1,1),Rr=rn.lerp(_r),Qr=Rr.x+gr,$r=Rr.y+gr;Ce.push(Qr,$r,qt,0);var di=Qr-qt,li=$r-qt,vi=Qr+qt,Ei=$r+qt;if(Ut=Ut&&this.isOffscreen(di,li,vi,Ei),Ft=Ft||this.isInsideGrid(di,li,vi,Ei),!j&&this.grid.hitTestCircle(Qr,$r,qt,Mt)&&(dt=!0,!at))return{circles:[],offscreen:!1,collisionDetected:dt}}}}return{circles:!at&&dt||!Ft?[]:Ce,offscreen:Ut,collisionDetected:dt}},sr.prototype.queryRenderedSymbols=function(j){if(j.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var X=[],G=1/0,ie=1/0,be=-1/0,Ie=-1/0,He=0,Ze=j;He<Ze.length;He+=1){var at=Ze[He],Tt=new a.Point(at.x+gr,at.y+gr);G=Math.min(G,Tt.x),ie=Math.min(ie,Tt.y),be=Math.max(be,Tt.x),Ie=Math.max(Ie,Tt.y),X.push(Tt)}for(var Mt={},re={},de=0,Ce=this.grid.query(G,ie,be,Ie).concat(this.ignoredGrid.query(G,ie,be,Ie));de<Ce.length;de+=1){var ze=Ce[de],Ve=ze.key;if(Mt[Ve.bucketInstanceId]===void 0&&(Mt[Ve.bucketInstanceId]={}),!Mt[Ve.bucketInstanceId][Ve.featureIndex]){var We=[new a.Point(ze.x1,ze.y1),new a.Point(ze.x2,ze.y1),new a.Point(ze.x2,ze.y2),new a.Point(ze.x1,ze.y2)];a.polygonIntersectsPolygon(X,We)&&(Mt[Ve.bucketInstanceId][Ve.featureIndex]=!0,re[Ve.bucketInstanceId]===void 0&&(re[Ve.bucketInstanceId]=[]),re[Ve.bucketInstanceId].push(Ve.featureIndex))}}return re},sr.prototype.insertCollisionBox=function(j,X,G,ie,be){var Ie={bucketInstanceId:G,featureIndex:ie,collisionGroupID:be};(X?this.ignoredGrid:this.grid).insert(Ie,j[0],j[1],j[2],j[3])},sr.prototype.insertCollisionCircles=function(j,X,G,ie,be){for(var Ie=X?this.ignoredGrid:this.grid,He={bucketInstanceId:G,featureIndex:ie,collisionGroupID:be},Ze=0;Ze<j.length;Ze+=4)Ie.insertCircle(He,j[Ze],j[Ze+1],j[Ze+2])},sr.prototype.projectAndGetPerspectiveRatio=function(j,X,G){var ie=[X,G,0,1];return Mr(ie,ie,j),{point:new a.Point((ie[0]/ie[3]+1)/2*this.transform.width+gr,(-ie[1]/ie[3]+1)/2*this.transform.height+gr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/ie[3]*.5}},sr.prototype.isOffscreen=function(j,X,G,ie){return G<gr||j>=this.screenRightBoundary||ie<gr||X>this.screenBottomBoundary},sr.prototype.isInsideGrid=function(j,X,G,ie){return G>=0&&j<this.gridRightBoundary&&ie>=0&&X<this.gridBottomBoundary},sr.prototype.getViewportMatrix=function(){var j=a.identity([]);return a.translate(j,j,[-100,-100,0]),j};var kr=function(j,X,G,ie){this.opacity=j?Math.max(0,Math.min(1,j.opacity+(j.placed?X:-X))):ie&&G?1:0,this.placed=G};kr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Qt=function(j,X,G,ie,be){this.text=new kr(j?j.text:null,X,G,be),this.icon=new kr(j?j.icon:null,X,ie,be)};Qt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var bn=function(j,X,G){this.text=j,this.icon=X,this.skipFade=G},Dn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},Pn=function(j,X,G,ie,be){this.bucketInstanceId=j,this.featureIndex=X,this.sourceLayerIndex=G,this.bucketIndex=ie,this.tileID=be},qn=function(j){this.crossSourceCollisions=j,this.maxGroupID=0,this.collisionGroups={}};function Qn(j,X,G,ie,be){var Ie=a.getAnchorAlignment(j),He=-(Ie.horizontalAlign-.5)*X,Ze=-(Ie.verticalAlign-.5)*G,at=a.evaluateVariableOffset(j,ie);return new a.Point(He+at[0]*be,Ze+at[1]*be)}function Jn(j,X,G,ie,be,Ie){var He=j.x1,Ze=j.x2,at=j.y1,Tt=j.y2,Mt=j.anchorPointX,re=j.anchorPointY,de=new a.Point(X,G);return ie&&de._rotate(be?Ie:-Ie),{x1:He+de.x,y1:at+de.y,x2:Ze+de.x,y2:Tt+de.y,anchorPointX:Mt,anchorPointY:re}}qn.prototype.get=function(j){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[j]){var X=++this.maxGroupID;this.collisionGroups[j]={ID:X,predicate:function(G){return G.collisionGroupID===X}}}return this.collisionGroups[j]};var nr=function(j,X,G,ie){this.transform=j.clone(),this.collisionIndex=new sr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=X,this.retainedQueryData={},this.collisionGroups=new qn(G),this.collisionCircleArrays={},this.prevPlacement=ie,ie&&(ie.prevPlacement=void 0),this.placedOrientations={}};function yr(j,X,G,ie,be){j.emplaceBack(X?1:0,G?1:0,ie||0,be||0),j.emplaceBack(X?1:0,G?1:0,ie||0,be||0),j.emplaceBack(X?1:0,G?1:0,ie||0,be||0),j.emplaceBack(X?1:0,G?1:0,ie||0,be||0)}nr.prototype.getBucketParts=function(j,X,G,ie){var be=G.getBucket(X),Ie=G.latestFeatureIndex;if(be&&Ie&&X.id===be.layerIds[0]){var He=G.collisionBoxArray,Ze=be.layers[0].layout,at=Math.pow(2,this.transform.zoom-G.tileID.overscaledZ),Tt=G.tileSize/a.EXTENT,Mt=this.transform.calculatePosMatrix(G.tileID.toUnwrapped()),re=Ze.get("text-pitch-alignment")==="map",de=Ze.get("text-rotation-alignment")==="map",Ce=xr(G,1,this.transform.zoom),ze=Xn(Mt,re,de,this.transform,Ce),Ve=null;if(re){var We=An(Mt,re,de,this.transform,Ce);Ve=a.multiply([],this.transform.labelPlaneMatrix,We)}this.retainedQueryData[be.bucketInstanceId]=new Pn(be.bucketInstanceId,Ie,be.sourceLayerIndex,be.index,G.tileID);var Je={bucket:be,layout:Ze,posMatrix:Mt,textLabelPlaneMatrix:ze,labelToScreenMatrix:Ve,scale:at,textPixelRatio:Tt,holdingForFade:G.holdingForFade(),collisionBoxArray:He,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(be.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(be.sourceID)};if(ie)for(var tt=0,lt=be.sortKeyRanges;tt<lt.length;tt+=1){var dt=lt[tt],Ft=dt.sortKey,Ut=dt.symbolInstanceStart,qt=dt.symbolInstanceEnd;j.push({sortKey:Ft,symbolInstanceStart:Ut,symbolInstanceEnd:qt,parameters:Je})}else j.push({symbolInstanceStart:0,symbolInstanceEnd:be.symbolInstances.length,parameters:Je})}},nr.prototype.attemptAnchorPlacement=function(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt,re,de,Ce,ze){var Ve,We=[re.textOffset0,re.textOffset1],Je=Qn(j,G,ie,We,be),tt=this.collisionIndex.placeCollisionBox(Jn(X,Je.x,Je.y,Ie,He,this.transform.angle),Mt,Ze,at,Tt.predicate);if(!ze||this.collisionIndex.placeCollisionBox(Jn(ze,Je.x,Je.y,Ie,He,this.transform.angle),Mt,Ze,at,Tt.predicate).box.length!==0)return tt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID].text&&(Ve=this.prevPlacement.variableOffsets[re.crossTileID].anchor),this.variableOffsets[re.crossTileID]={textOffset:We,width:G,height:ie,anchor:j,textBoxScale:be,prevAnchor:Ve},this.markUsedJustification(de,j,re,Ce),de.allowVerticalPlacement&&(this.markUsedOrientation(de,Ce,re),this.placedOrientations[re.crossTileID]=Ce),{shift:Je,placedGlyphBoxes:tt}):void 0},nr.prototype.placeLayerBucketPart=function(j,X,G){var ie=this,be=j.parameters,Ie=be.bucket,He=be.layout,Ze=be.posMatrix,at=be.textLabelPlaneMatrix,Tt=be.labelToScreenMatrix,Mt=be.textPixelRatio,re=be.holdingForFade,de=be.collisionBoxArray,Ce=be.partiallyEvaluatedTextSize,ze=be.collisionGroup,Ve=He.get("text-optional"),We=He.get("icon-optional"),Je=He.get("text-allow-overlap"),tt=He.get("icon-allow-overlap"),lt=He.get("text-rotation-alignment")==="map",dt=He.get("text-pitch-alignment")==="map",Ft=He.get("icon-text-fit")!=="none",Ut=He.get("symbol-z-order")==="viewport-y",qt=Je&&(tt||!Ie.hasIconData()||We),nn=tt&&(Je||!Ie.hasTextData()||Ve);!Ie.collisionArrays&&de&&Ie.deserializeCollisionBoxes(de);var yn=function(ln,Bn){if(!X[ln.crossTileID])if(re)ie.placements[ln.crossTileID]=new bn(!1,!1,!1);else{var Wn,tr=!1,or=!1,Sr=!0,Cr=null,wr={box:null,offscreen:null},Ar={box:null,offscreen:null},Fr=null,ii=null,ai=0,_r=0,Rr=0;Bn.textFeatureIndex?ai=Bn.textFeatureIndex:ln.useRuntimeCollisionCircles&&(ai=ln.featureIndex),Bn.verticalTextFeatureIndex&&(_r=Bn.verticalTextFeatureIndex);var Qr=Bn.textBox;if(Qr){var $r=function(ti){var Fi=a.WritingMode.horizontal;if(Ie.allowVerticalPlacement&&!ti&&ie.prevPlacement){var ea=ie.prevPlacement.placedOrientations[ln.crossTileID];ea&&(ie.placedOrientations[ln.crossTileID]=ea,Fi=ea,ie.markUsedOrientation(Ie,Fi,ln))}return Fi},di=function(ti,Fi){if(Ie.allowVerticalPlacement&&ln.numVerticalGlyphVertices>0&&Bn.verticalTextBox)for(var ea=0,_u=Ie.writingModes;ea<_u.length&&(_u[ea]===a.WritingMode.vertical?(wr=Fi(),Ar=wr):wr=ti(),!(wr&&wr.box&&wr.box.length));ea+=1);else wr=ti()};if(He.get("text-variable-anchor")){var li=He.get("text-variable-anchor");if(ie.prevPlacement&&ie.prevPlacement.variableOffsets[ln.crossTileID]){var vi=ie.prevPlacement.variableOffsets[ln.crossTileID];li.indexOf(vi.anchor)>0&&(li=li.filter(function(ti){return ti!==vi.anchor})).unshift(vi.anchor)}var Ei=function(ti,Fi,ea){for(var _u=ti.x2-ti.x1,xm=ti.y2-ti.y1,Lp=ln.textBoxScale,bm=Ft&&!tt?Fi:null,tc={box:[],offscreen:!1},bd=Je?2*li.length:li.length,Fc=0;Fc<bd;++Fc){var nc=li[Fc%li.length],_m=Fc>=li.length,Bu=ie.attemptAnchorPlacement(nc,ti,_u,xm,Lp,lt,dt,Mt,Ze,ze,_m,ln,Ie,ea,bm);if(Bu&&(tc=Bu.placedGlyphBoxes)&&tc.box&&tc.box.length){tr=!0,Cr=Bu.shift;break}}return tc};di(function(){return Ei(Qr,Bn.iconBox,a.WritingMode.horizontal)},function(){var ti=Bn.verticalTextBox,Fi=wr&&wr.box&&wr.box.length;return Ie.allowVerticalPlacement&&!Fi&&ln.numVerticalGlyphVertices>0&&ti?Ei(ti,Bn.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),wr&&(tr=wr.box,Sr=wr.offscreen);var Ai=$r(wr&&wr.box);if(!tr&&ie.prevPlacement){var Ci=ie.prevPlacement.variableOffsets[ln.crossTileID];Ci&&(ie.variableOffsets[ln.crossTileID]=Ci,ie.markUsedJustification(Ie,Ci.anchor,ln,Ai))}}else{var Gr=function(ti,Fi){var ea=ie.collisionIndex.placeCollisionBox(ti,Je,Mt,Ze,ze.predicate);return ea&&ea.box&&ea.box.length&&(ie.markUsedOrientation(Ie,Fi,ln),ie.placedOrientations[ln.crossTileID]=Fi),ea};di(function(){return Gr(Qr,a.WritingMode.horizontal)},function(){var ti=Bn.verticalTextBox;return Ie.allowVerticalPlacement&&ln.numVerticalGlyphVertices>0&&ti?Gr(ti,a.WritingMode.vertical):{box:null,offscreen:null}}),$r(wr&&wr.box&&wr.box.length)}}if(tr=(Wn=wr)&&Wn.box&&Wn.box.length>0,Sr=Wn&&Wn.offscreen,ln.useRuntimeCollisionCircles){var De=Ie.text.placedSymbolArray.get(ln.centerJustifiedTextSymbolIndex),Xe=a.evaluateSizeForFeature(Ie.textSizeData,Ce,De),_t=He.get("text-padding"),jt=ln.collisionCircleDiameter;Fr=ie.collisionIndex.placeCollisionCircles(Je,De,Ie.lineVertexArray,Ie.glyphOffsetArray,Xe,Ze,at,Tt,G,dt,ze.predicate,jt,_t),tr=Je||Fr.circles.length>0&&!Fr.collisionDetected,Sr=Sr&&Fr.offscreen}if(Bn.iconFeatureIndex&&(Rr=Bn.iconFeatureIndex),Bn.iconBox){var $t=function(ti){var Fi=Ft&&Cr?Jn(ti,Cr.x,Cr.y,lt,dt,ie.transform.angle):ti;return ie.collisionIndex.placeCollisionBox(Fi,tt,Mt,Ze,ze.predicate)};or=Ar&&Ar.box&&Ar.box.length&&Bn.verticalIconBox?(ii=$t(Bn.verticalIconBox)).box.length>0:(ii=$t(Bn.iconBox)).box.length>0,Sr=Sr&&ii.offscreen}var Cn=Ve||ln.numHorizontalGlyphVertices===0&&ln.numVerticalGlyphVertices===0,lr=We||ln.numIconVertices===0;if(Cn||lr?lr?Cn||(or=or&&tr):tr=or&&tr:or=tr=or&&tr,tr&&Wn&&Wn.box&&(Ar&&Ar.box&&_r?ie.collisionIndex.insertCollisionBox(Wn.box,He.get("text-ignore-placement"),Ie.bucketInstanceId,_r,ze.ID):ie.collisionIndex.insertCollisionBox(Wn.box,He.get("text-ignore-placement"),Ie.bucketInstanceId,ai,ze.ID)),or&&ii&&ie.collisionIndex.insertCollisionBox(ii.box,He.get("icon-ignore-placement"),Ie.bucketInstanceId,Rr,ze.ID),Fr&&(tr&&ie.collisionIndex.insertCollisionCircles(Fr.circles,He.get("text-ignore-placement"),Ie.bucketInstanceId,ai,ze.ID),G)){var Ur=Ie.bucketInstanceId,Yr=ie.collisionCircleArrays[Ur];Yr===void 0&&(Yr=ie.collisionCircleArrays[Ur]=new Dn);for(var ci=0;ci<Fr.circles.length;ci+=4)Yr.circles.push(Fr.circles[ci+0]),Yr.circles.push(Fr.circles[ci+1]),Yr.circles.push(Fr.circles[ci+2]),Yr.circles.push(Fr.collisionDetected?1:0)}ie.placements[ln.crossTileID]=new bn(tr||qt,or||nn,Sr||Ie.justReloaded),X[ln.crossTileID]=!0}};if(Ut)for(var rn=Ie.getSortedSymbolIndexes(this.transform.angle),cn=rn.length-1;cn>=0;--cn){var sn=rn[cn];yn(Ie.symbolInstances.get(sn),Ie.collisionArrays[sn])}else for(var Ln=j.symbolInstanceStart;Ln<j.symbolInstanceEnd;Ln++)yn(Ie.symbolInstances.get(Ln),Ie.collisionArrays[Ln]);if(G&&Ie.bucketInstanceId in this.collisionCircleArrays){var wn=this.collisionCircleArrays[Ie.bucketInstanceId];a.invert(wn.invProjMatrix,Ze),wn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ie.justReloaded=!1},nr.prototype.markUsedJustification=function(j,X,G,ie){var be,Ie={left:G.leftJustifiedTextSymbolIndex,center:G.centerJustifiedTextSymbolIndex,right:G.rightJustifiedTextSymbolIndex};be=ie===a.WritingMode.vertical?G.verticalPlacedTextSymbolIndex:Ie[a.getAnchorJustification(X)];for(var He=0,Ze=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex,G.verticalPlacedTextSymbolIndex];He<Ze.length;He+=1){var at=Ze[He];at>=0&&(j.text.placedSymbolArray.get(at).crossTileID=be>=0&&at!==be?0:G.crossTileID)}},nr.prototype.markUsedOrientation=function(j,X,G){for(var ie=X===a.WritingMode.horizontal||X===a.WritingMode.horizontalOnly?X:0,be=X===a.WritingMode.vertical?X:0,Ie=0,He=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex];Ie<He.length;Ie+=1){var Ze=He[Ie];j.text.placedSymbolArray.get(Ze).placedOrientation=ie}G.verticalPlacedTextSymbolIndex&&(j.text.placedSymbolArray.get(G.verticalPlacedTextSymbolIndex).placedOrientation=be)},nr.prototype.commit=function(j){this.commitTime=j,this.zoomAtLastRecencyCheck=this.transform.zoom;var X=this.prevPlacement,G=!1;this.prevZoomAdjustment=X?X.zoomAdjustment(this.transform.zoom):0;var ie=X?X.symbolFadeChange(j):1,be=X?X.opacities:{},Ie=X?X.variableOffsets:{},He=X?X.placedOrientations:{};for(var Ze in this.placements){var at=this.placements[Ze],Tt=be[Ze];Tt?(this.opacities[Ze]=new Qt(Tt,ie,at.text,at.icon),G=G||at.text!==Tt.text.placed||at.icon!==Tt.icon.placed):(this.opacities[Ze]=new Qt(null,ie,at.text,at.icon,at.skipFade),G=G||at.text||at.icon)}for(var Mt in be){var re=be[Mt];if(!this.opacities[Mt]){var de=new Qt(re,ie,!1,!1);de.isHidden()||(this.opacities[Mt]=de,G=G||re.text.placed||re.icon.placed)}}for(var Ce in Ie)this.variableOffsets[Ce]||!this.opacities[Ce]||this.opacities[Ce].isHidden()||(this.variableOffsets[Ce]=Ie[Ce]);for(var ze in He)this.placedOrientations[ze]||!this.opacities[ze]||this.opacities[ze].isHidden()||(this.placedOrientations[ze]=He[ze]);G?this.lastPlacementChangeTime=j:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=X?X.lastPlacementChangeTime:j)},nr.prototype.updateLayerOpacities=function(j,X){for(var G={},ie=0,be=X;ie<be.length;ie+=1){var Ie=be[ie],He=Ie.getBucket(j);He&&Ie.latestFeatureIndex&&j.id===He.layerIds[0]&&this.updateBucketOpacities(He,G,Ie.collisionBoxArray)}},nr.prototype.updateBucketOpacities=function(j,X,G){var ie=this;j.hasTextData()&&j.text.opacityVertexArray.clear(),j.hasIconData()&&j.icon.opacityVertexArray.clear(),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexArray.clear(),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexArray.clear();var be=j.layers[0].layout,Ie=new Qt(null,0,!1,!1,!0),He=be.get("text-allow-overlap"),Ze=be.get("icon-allow-overlap"),at=be.get("text-variable-anchor"),Tt=be.get("text-rotation-alignment")==="map",Mt=be.get("text-pitch-alignment")==="map",re=be.get("icon-text-fit")!=="none",de=new Qt(null,0,He&&(Ze||!j.hasIconData()||be.get("icon-optional")),Ze&&(He||!j.hasTextData()||be.get("text-optional")),!0);!j.collisionArrays&&G&&(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData())&&j.deserializeCollisionBoxes(G);for(var Ce=function(Je,tt,lt){for(var dt=0;dt<tt/4;dt++)Je.opacityVertexArray.emplaceBack(lt)},ze=function(Je){var tt=j.symbolInstances.get(Je),lt=tt.numHorizontalGlyphVertices,dt=tt.numVerticalGlyphVertices,Ft=tt.crossTileID,Ut=X[Ft],qt=ie.opacities[Ft];Ut?qt=Ie:qt||(qt=de,ie.opacities[Ft]=qt),X[Ft]=!0;var nn=lt>0||dt>0,yn=tt.numIconVertices>0,rn=ie.placedOrientations[tt.crossTileID],cn=rn===a.WritingMode.vertical,sn=rn===a.WritingMode.horizontal||rn===a.WritingMode.horizontalOnly;if(nn){var Ln=On(qt.text),wn=cn?mn:Ln;Ce(j.text,lt,wn);var ln=sn?mn:Ln;Ce(j.text,dt,ln);var Bn=qt.text.isHidden();[tt.rightJustifiedTextSymbolIndex,tt.centerJustifiedTextSymbolIndex,tt.leftJustifiedTextSymbolIndex].forEach(function(Rr){Rr>=0&&(j.text.placedSymbolArray.get(Rr).hidden=Bn||cn?1:0)}),tt.verticalPlacedTextSymbolIndex>=0&&(j.text.placedSymbolArray.get(tt.verticalPlacedTextSymbolIndex).hidden=Bn||sn?1:0);var Wn=ie.variableOffsets[tt.crossTileID];Wn&&ie.markUsedJustification(j,Wn.anchor,tt,rn);var tr=ie.placedOrientations[tt.crossTileID];tr&&(ie.markUsedJustification(j,"left",tt,tr),ie.markUsedOrientation(j,tr,tt))}if(yn){var or=On(qt.icon),Sr=!(re&&tt.verticalPlacedIconSymbolIndex&&cn);if(tt.placedIconSymbolIndex>=0){var Cr=Sr?or:mn;Ce(j.icon,tt.numIconVertices,Cr),j.icon.placedSymbolArray.get(tt.placedIconSymbolIndex).hidden=qt.icon.isHidden()}if(tt.verticalPlacedIconSymbolIndex>=0){var wr=Sr?mn:or;Ce(j.icon,tt.numVerticalIconVertices,wr),j.icon.placedSymbolArray.get(tt.verticalPlacedIconSymbolIndex).hidden=qt.icon.isHidden()}}if(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData()){var Ar=j.collisionArrays[Je];if(Ar){var Fr=new a.Point(0,0);if(Ar.textBox||Ar.verticalTextBox){var ii=!0;if(at){var ai=ie.variableOffsets[Ft];ai?(Fr=Qn(ai.anchor,ai.width,ai.height,ai.textOffset,ai.textBoxScale),Tt&&Fr._rotate(Mt?ie.transform.angle:-ie.transform.angle)):ii=!1}Ar.textBox&&yr(j.textCollisionBox.collisionVertexArray,qt.text.placed,!ii||cn,Fr.x,Fr.y),Ar.verticalTextBox&&yr(j.textCollisionBox.collisionVertexArray,qt.text.placed,!ii||sn,Fr.x,Fr.y)}var _r=!!(!sn&&Ar.verticalIconBox);Ar.iconBox&&yr(j.iconCollisionBox.collisionVertexArray,qt.icon.placed,_r,re?Fr.x:0,re?Fr.y:0),Ar.verticalIconBox&&yr(j.iconCollisionBox.collisionVertexArray,qt.icon.placed,!_r,re?Fr.x:0,re?Fr.y:0)}}},Ve=0;Ve<j.symbolInstances.length;Ve++)ze(Ve);if(j.sortFeatures(this.transform.angle),this.retainedQueryData[j.bucketInstanceId]&&(this.retainedQueryData[j.bucketInstanceId].featureSortOrder=j.featureSortOrder),j.hasTextData()&&j.text.opacityVertexBuffer&&j.text.opacityVertexBuffer.updateData(j.text.opacityVertexArray),j.hasIconData()&&j.icon.opacityVertexBuffer&&j.icon.opacityVertexBuffer.updateData(j.icon.opacityVertexArray),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexBuffer&&j.iconCollisionBox.collisionVertexBuffer.updateData(j.iconCollisionBox.collisionVertexArray),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexBuffer&&j.textCollisionBox.collisionVertexBuffer.updateData(j.textCollisionBox.collisionVertexArray),j.bucketInstanceId in this.collisionCircleArrays){var We=this.collisionCircleArrays[j.bucketInstanceId];j.placementInvProjMatrix=We.invProjMatrix,j.placementViewportMatrix=We.viewportMatrix,j.collisionCircleArray=We.circles,delete this.collisionCircleArrays[j.bucketInstanceId]}},nr.prototype.symbolFadeChange=function(j){return this.fadeDuration===0?1:(j-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},nr.prototype.zoomAdjustment=function(j){return Math.max(0,(this.transform.zoom-j)/1.5)},nr.prototype.hasTransitions=function(j){return this.stale||j-this.lastPlacementChangeTime<this.fadeDuration},nr.prototype.stillRecent=function(j,X){var G=this.zoomAtLastRecencyCheck===X?1-this.zoomAdjustment(X):1;return this.zoomAtLastRecencyCheck=X,this.commitTime+this.fadeDuration*G>j},nr.prototype.setStale=function(){this.stale=!0};var an=Math.pow(2,25),zn=Math.pow(2,24),Vt=Math.pow(2,17),en=Math.pow(2,16),pn=Math.pow(2,9),Nn=Math.pow(2,8),Fn=Math.pow(2,1);function On(j){if(j.opacity===0&&!j.placed)return 0;if(j.opacity===1&&j.placed)return 4294967295;var X=j.placed?1:0,G=Math.floor(127*j.opacity);return G*an+X*zn+G*Vt+X*en+G*pn+X*Nn+G*Fn+X}var mn=0,kn=function(j){this._sortAcrossTiles=j.layout.get("symbol-z-order")!=="viewport-y"&&j.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};kn.prototype.continuePlacement=function(j,X,G,ie,be){for(var Ie=this._bucketParts;this._currentTileIndex<j.length;){var He=j[this._currentTileIndex];if(X.getBucketParts(Ie,ie,He,this._sortAcrossTiles),this._currentTileIndex++,be())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ie.sort(function(at,Tt){return at.sortKey-Tt.sortKey}));this._currentPartIndex<Ie.length;){var Ze=Ie[this._currentPartIndex];if(X.placeLayerBucketPart(Ze,this._seenCrossTileIDs,G),this._currentPartIndex++,be())return!0}return!1};var vn=function(j,X,G,ie,be,Ie,He){this.placement=new nr(j,be,Ie,He),this._currentPlacementIndex=X.length-1,this._forceFullPlacement=G,this._showCollisionBoxes=ie,this._done=!1};vn.prototype.isDone=function(){return this._done},vn.prototype.continuePlacement=function(j,X,G){for(var ie=this,be=a.browser.now(),Ie=function(){var at=a.browser.now()-be;return!ie._forceFullPlacement&&at>2};this._currentPlacementIndex>=0;){var He=X[j[this._currentPlacementIndex]],Ze=this.placement.collisionIndex.transform.zoom;if(He.type==="symbol"&&(!He.minzoom||He.minzoom<=Ze)&&(!He.maxzoom||He.maxzoom>Ze)){if(this._inProgressLayer||(this._inProgressLayer=new kn(He)),this._inProgressLayer.continuePlacement(G[He.source],this.placement,this._showCollisionBoxes,He,Ie))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},vn.prototype.commit=function(j){return this.placement.commit(j),this.placement};var xn=512/a.EXTENT/2,En=function(j,X,G){this.tileID=j,this.indexedSymbolInstances={},this.bucketInstanceId=G;for(var ie=0;ie<X.length;ie++){var be=X.get(ie),Ie=be.key;this.indexedSymbolInstances[Ie]||(this.indexedSymbolInstances[Ie]=[]),this.indexedSymbolInstances[Ie].push({crossTileID:be.crossTileID,coord:this.getScaledCoordinates(be,j)})}};En.prototype.getScaledCoordinates=function(j,X){var G=X.canonical.z-this.tileID.canonical.z,ie=xn/Math.pow(2,G);return{x:Math.floor((X.canonical.x*a.EXTENT+j.anchorX)*ie),y:Math.floor((X.canonical.y*a.EXTENT+j.anchorY)*ie)}},En.prototype.findMatches=function(j,X,G){for(var ie=this.tileID.canonical.z<X.canonical.z?1:Math.pow(2,this.tileID.canonical.z-X.canonical.z),be=0;be<j.length;be++){var Ie=j.get(be);if(!Ie.crossTileID){var He=this.indexedSymbolInstances[Ie.key];if(He)for(var Ze=this.getScaledCoordinates(Ie,X),at=0,Tt=He;at<Tt.length;at+=1){var Mt=Tt[at];if(Math.abs(Mt.coord.x-Ze.x)<=ie&&Math.abs(Mt.coord.y-Ze.y)<=ie&&!G[Mt.crossTileID]){G[Mt.crossTileID]=!0,Ie.crossTileID=Mt.crossTileID;break}}}}};var Vn=function(){this.maxCrossTileID=0};Vn.prototype.generate=function(){return++this.maxCrossTileID};var $n=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};$n.prototype.handleWrapJump=function(j){var X=Math.round((j-this.lng)/360);if(X!==0)for(var G in this.indexes){var ie=this.indexes[G],be={};for(var Ie in ie){var He=ie[Ie];He.tileID=He.tileID.unwrapTo(He.tileID.wrap+X),be[He.tileID.key]=He}this.indexes[G]=be}this.lng=j},$n.prototype.addBucket=function(j,X,G){if(this.indexes[j.overscaledZ]&&this.indexes[j.overscaledZ][j.key]){if(this.indexes[j.overscaledZ][j.key].bucketInstanceId===X.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(j.overscaledZ,this.indexes[j.overscaledZ][j.key])}for(var ie=0;ie<X.symbolInstances.length;ie++)X.symbolInstances.get(ie).crossTileID=0;this.usedCrossTileIDs[j.overscaledZ]||(this.usedCrossTileIDs[j.overscaledZ]={});var be=this.usedCrossTileIDs[j.overscaledZ];for(var Ie in this.indexes){var He=this.indexes[Ie];if(Number(Ie)>j.overscaledZ)for(var Ze in He){var at=He[Ze];at.tileID.isChildOf(j)&&at.findMatches(X.symbolInstances,j,be)}else{var Tt=He[j.scaledTo(Number(Ie)).key];Tt&&Tt.findMatches(X.symbolInstances,j,be)}}for(var Mt=0;Mt<X.symbolInstances.length;Mt++){var re=X.symbolInstances.get(Mt);re.crossTileID||(re.crossTileID=G.generate(),be[re.crossTileID]=!0)}return this.indexes[j.overscaledZ]===void 0&&(this.indexes[j.overscaledZ]={}),this.indexes[j.overscaledZ][j.key]=new En(j,X.symbolInstances,X.bucketInstanceId),!0},$n.prototype.removeBucketCrossTileIDs=function(j,X){for(var G in X.indexedSymbolInstances)for(var ie=0,be=X.indexedSymbolInstances[G];ie<be.length;ie+=1){var Ie=be[ie];delete this.usedCrossTileIDs[j][Ie.crossTileID]}},$n.prototype.removeStaleBuckets=function(j){var X=!1;for(var G in this.indexes){var ie=this.indexes[G];for(var be in ie)j[ie[be].bucketInstanceId]||(this.removeBucketCrossTileIDs(G,ie[be]),delete ie[be],X=!0)}return X};var rr=function(){this.layerIndexes={},this.crossTileIDs=new Vn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};rr.prototype.addLayer=function(j,X,G){var ie=this.layerIndexes[j.id];ie===void 0&&(ie=this.layerIndexes[j.id]=new $n);var be=!1,Ie={};ie.handleWrapJump(G);for(var He=0,Ze=X;He<Ze.length;He+=1){var at=Ze[He],Tt=at.getBucket(j);Tt&&j.id===Tt.layerIds[0]&&(Tt.bucketInstanceId||(Tt.bucketInstanceId=++this.maxBucketInstanceId),ie.addBucket(at.tileID,Tt,this.crossTileIDs)&&(be=!0),Ie[Tt.bucketInstanceId]=!0)}return ie.removeStaleBuckets(Ie)&&(be=!0),be},rr.prototype.pruneUnusedLayers=function(j){var X={};for(var G in j.forEach(function(ie){X[ie]=!0}),this.layerIndexes)X[G]||delete this.layerIndexes[G]};var er=function(j,X){return a.emitValidationErrors(j,X&&X.filter(function(G){return G.identifier!=="source.canvas"}))},pr=a.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),fr=a.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),vr=function(){var j={},X=a.styleSpec.$version;for(var G in a.styleSpec.$root){var ie=a.styleSpec.$root[G];if(ie.required){var be;(be=G==="version"?X:ie.type==="array"?[]:{})!=null&&(j[G]=be)}}return j}(),mr=function(j){function X(G,ie){var be=this;ie===void 0&&(ie={}),j.call(this),this.map=G,this.dispatcher=new O(It(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new v(G._requestManager,ie.localIdeographFontFamily),this.lineAtlas=new C(256,512),this.crossTileSymbolIndex=new rr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Ie=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(He){var Ze={pluginStatus:He.pluginStatus,pluginURL:He.pluginURL};Ie.dispatcher.broadcast("syncRTLPluginState",Ze,function(at,Tt){if(a.triggerPluginCompletionEvent(at),Tt&&Tt.every(function(re){return re}))for(var Mt in Ie.sourceCaches)Ie.sourceCaches[Mt].reload()})}),this.on("data",function(He){if(He.dataType==="source"&&He.sourceDataType==="metadata"){var Ze=be.sourceCaches[He.sourceId];if(Ze){var at=Ze.getSource();if(at&&at.vectorLayerIds)for(var Tt in be._layers){var Mt=be._layers[Tt];Mt.source===at.id&&be._validateLayer(Mt)}}}})}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(G,ie){var be=this;ie===void 0&&(ie={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ie=typeof ie.validate=="boolean"?ie.validate:!a.isMapboxURL(G);G=this.map._requestManager.normalizeStyleURL(G,ie.accessToken);var He=this.map._requestManager.transformRequest(G,a.ResourceType.Style);this._request=a.getJSON(He,function(Ze,at){be._request=null,Ze?be.fire(new a.ErrorEvent(Ze)):at&&be._load(at,Ie)})},X.prototype.loadJSON=function(G,ie){var be=this;ie===void 0&&(ie={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){be._request=null,be._load(G,ie.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(vr,!1)},X.prototype._load=function(G,ie){if(!ie||!er(this,a.validateStyle(G))){for(var be in this._loaded=!0,this.stylesheet=G,G.sources)this.addSource(be,G.sources[be],{validate:!1});G.sprite?this._loadSprite(G.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(G.glyphs);var Ie=Rt(this.stylesheet.layers);this._order=Ie.map(function(Tt){return Tt.id}),this._layers={},this._serializedLayers={};for(var He=0,Ze=Ie;He<Ze.length;He+=1){var at=Ze[He];(at=a.createStyleLayer(at)).setEventedParent(this,{layer:{id:at.id}}),this._layers[at.id]=at,this._serializedLayers[at.id]=at.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new A(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(G){var ie=this;this._spriteRequest=function(be,Ie,He){var Ze,at,Tt,Mt=a.browser.devicePixelRatio>1?"@2x":"",re=a.getJSON(Ie.transformRequest(Ie.normalizeSpriteURL(be,Mt,".json"),a.ResourceType.SpriteJSON),function(ze,Ve){re=null,Tt||(Tt=ze,Ze=Ve,Ce())}),de=a.getImage(Ie.transformRequest(Ie.normalizeSpriteURL(be,Mt,".png"),a.ResourceType.SpriteImage),function(ze,Ve){de=null,Tt||(Tt=ze,at=Ve,Ce())});function Ce(){if(Tt)He(Tt);else if(Ze&&at){var ze=a.browser.getImageData(at),Ve={};for(var We in Ze){var Je=Ze[We],tt=Je.width,lt=Je.height,dt=Je.x,Ft=Je.y,Ut=Je.sdf,qt=Je.pixelRatio,nn=Je.stretchX,yn=Je.stretchY,rn=Je.content,cn=new a.RGBAImage({width:tt,height:lt});a.RGBAImage.copy(ze,cn,{x:dt,y:Ft},{x:0,y:0},{width:tt,height:lt}),Ve[We]={data:cn,pixelRatio:qt,sdf:Ut,stretchX:nn,stretchY:yn,content:rn}}He(null,Ve)}}return{cancel:function(){re&&(re.cancel(),re=null),de&&(de.cancel(),de=null)}}}(G,this.map._requestManager,function(be,Ie){if(ie._spriteRequest=null,be)ie.fire(new a.ErrorEvent(be));else if(Ie)for(var He in Ie)ie.imageManager.addImage(He,Ie[He]);ie.imageManager.setLoaded(!0),ie._availableImages=ie.imageManager.listImages(),ie.dispatcher.broadcast("setImages",ie._availableImages),ie.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(G){var ie=this.sourceCaches[G.source];if(ie){var be=G.sourceLayer;if(be){var Ie=ie.getSource();(Ie.type==="geojson"||Ie.vectorLayerIds&&Ie.vectorLayerIds.indexOf(be)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+be+'" does not exist on source "'+Ie.id+'" as specified by style layer "'+G.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var G in this.sourceCaches)if(!this.sourceCaches[G].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(G){for(var ie=[],be=0,Ie=G;be<Ie.length;be+=1){var He=Ie[be],Ze=this._layers[He];Ze.type!=="custom"&&ie.push(Ze.serialize())}return ie},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var G in this.sourceCaches)if(this.sourceCaches[G].hasTransition())return!0;for(var ie in this._layers)if(this._layers[ie].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(G){if(this._loaded){var ie=this._changed;if(this._changed){var be=Object.keys(this._updatedLayers),Ie=Object.keys(this._removedLayers);for(var He in(be.length||Ie.length)&&this._updateWorkerLayers(be,Ie),this._updatedSources){var Ze=this._updatedSources[He];Ze==="reload"?this._reloadSource(He):Ze==="clear"&&this._clearSource(He)}for(var at in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[at].updateTransitions(G);this.light.updateTransitions(G),this._resetUpdates()}for(var Tt in this.sourceCaches)this.sourceCaches[Tt].used=!1;for(var Mt=0,re=this._order;Mt<re.length;Mt+=1){var de=re[Mt],Ce=this._layers[de];Ce.recalculate(G,this._availableImages),!Ce.isHidden(G.zoom)&&Ce.source&&(this.sourceCaches[Ce.source].used=!0)}this.light.recalculate(G),this.z=G.zoom,ie&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var G=Object.keys(this._changedImages);if(G.length){for(var ie in this.sourceCaches)this.sourceCaches[ie].reloadTilesForDependencies(["icons","patterns"],G);this._changedImages={}}},X.prototype._updateWorkerLayers=function(G,ie){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(G),removedIds:ie})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(G){var ie=this;if(this._checkLoaded(),er(this,a.validateStyle(G)))return!1;(G=a.clone$1(G)).layers=Rt(G.layers);var be=_n(this.serialize(),G).filter(function(He){return!(He.command in fr)});if(be.length===0)return!1;var Ie=be.filter(function(He){return!(He.command in pr)});if(Ie.length>0)throw new Error("Unimplemented: "+Ie.map(function(He){return He.command}).join(", ")+".");return be.forEach(function(He){He.command!=="setTransition"&&ie[He.command].apply(ie,He.args)}),this.stylesheet=G,!0},X.prototype.addImage=function(G,ie){if(this.getImage(G))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(G,ie),this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.updateImage=function(G,ie){this.imageManager.updateImage(G,ie)},X.prototype.getImage=function(G){return this.imageManager.getImage(G)},X.prototype.removeImage=function(G){if(!this.getImage(G))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(G),this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(G,ie,be){var Ie=this;if(be===void 0&&(be={}),this._checkLoaded(),this.sourceCaches[G]!==void 0)throw new Error("There is already a source with this ID");if(!ie.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ie).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(ie.type)>=0&&this._validate(a.validateStyle.source,"sources."+G,ie,null,be))){this.map&&this.map._collectResourceTiming&&(ie.collectResourceTiming=!0);var He=this.sourceCaches[G]=new ct(G,ie,this.dispatcher);He.style=this,He.setEventedParent(this,function(){return{isSourceLoaded:Ie.loaded(),source:He.serialize(),sourceId:G}}),He.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(G){if(this._checkLoaded(),this.sourceCaches[G]===void 0)throw new Error("There is no source with this ID");for(var ie in this._layers)if(this._layers[ie].source===G)return this.fire(new a.ErrorEvent(new Error('Source "'+G+'" cannot be removed while layer "'+ie+'" is using it.')));var be=this.sourceCaches[G];delete this.sourceCaches[G],delete this._updatedSources[G],be.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G})),be.setEventedParent(null),be.clearTiles(),be.onRemove&&be.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(G,ie){this._checkLoaded(),this.sourceCaches[G].getSource().setData(ie),this._changed=!0},X.prototype.getSource=function(G){return this.sourceCaches[G]&&this.sourceCaches[G].getSource()},X.prototype.addLayer=function(G,ie,be){be===void 0&&(be={}),this._checkLoaded();var Ie=G.id;if(this.getLayer(Ie))this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ie+'" already exists on this map')));else{var He;if(G.type==="custom"){if(er(this,a.validateCustomStyleLayer(G)))return;He=a.createStyleLayer(G)}else{if(typeof G.source=="object"&&(this.addSource(Ie,G.source),G=a.clone$1(G),G=a.extend(G,{source:Ie})),this._validate(a.validateStyle.layer,"layers."+Ie,G,{arrayIndex:-1},be))return;He=a.createStyleLayer(G),this._validateLayer(He),He.setEventedParent(this,{layer:{id:Ie}}),this._serializedLayers[He.id]=He.serialize()}var Ze=ie?this._order.indexOf(ie):this._order.length;if(ie&&Ze===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+ie+'" does not exist on this map.')));else{if(this._order.splice(Ze,0,Ie),this._layerOrderChanged=!0,this._layers[Ie]=He,this._removedLayers[Ie]&&He.source&&He.type!=="custom"){var at=this._removedLayers[Ie];delete this._removedLayers[Ie],at.type!==He.type?this._updatedSources[He.source]="clear":(this._updatedSources[He.source]="reload",this.sourceCaches[He.source].pause())}this._updateLayer(He),He.onAdd&&He.onAdd(this.map)}}},X.prototype.moveLayer=function(G,ie){if(this._checkLoaded(),this._changed=!0,this._layers[G]){if(G!==ie){var be=this._order.indexOf(G);this._order.splice(be,1);var Ie=ie?this._order.indexOf(ie):this._order.length;ie&&Ie===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+ie+'" does not exist on this map.'))):(this._order.splice(Ie,0,G),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be moved.")))},X.prototype.removeLayer=function(G){this._checkLoaded();var ie=this._layers[G];if(ie){ie.setEventedParent(null);var be=this._order.indexOf(G);this._order.splice(be,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[G]=ie,delete this._layers[G],delete this._serializedLayers[G],delete this._updatedLayers[G],delete this._updatedPaintProps[G],ie.onRemove&&ie.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be removed.")))},X.prototype.getLayer=function(G){return this._layers[G]},X.prototype.hasLayer=function(G){return G in this._layers},X.prototype.setLayerZoomRange=function(G,ie,be){this._checkLoaded();var Ie=this.getLayer(G);Ie?Ie.minzoom===ie&&Ie.maxzoom===be||(ie!=null&&(Ie.minzoom=ie),be!=null&&(Ie.maxzoom=be),this._updateLayer(Ie)):this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot have zoom extent.")))},X.prototype.setFilter=function(G,ie,be){be===void 0&&(be={}),this._checkLoaded();var Ie=this.getLayer(G);if(Ie){if(!a.deepEqual(Ie.filter,ie))return ie==null?(Ie.filter=void 0,void this._updateLayer(Ie)):void(this._validate(a.validateStyle.filter,"layers."+Ie.id+".filter",ie,null,be)||(Ie.filter=a.clone$1(ie),this._updateLayer(Ie)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be filtered.")))},X.prototype.getFilter=function(G){return a.clone$1(this.getLayer(G).filter)},X.prototype.setLayoutProperty=function(G,ie,be,Ie){Ie===void 0&&(Ie={}),this._checkLoaded();var He=this.getLayer(G);He?a.deepEqual(He.getLayoutProperty(ie),be)||(He.setLayoutProperty(ie,be,Ie),this._updateLayer(He)):this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getLayoutProperty=function(G,ie){var be=this.getLayer(G);if(be)return be.getLayoutProperty(ie);this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style.")))},X.prototype.setPaintProperty=function(G,ie,be,Ie){Ie===void 0&&(Ie={}),this._checkLoaded();var He=this.getLayer(G);He?a.deepEqual(He.getPaintProperty(ie),be)||(He.setPaintProperty(ie,be,Ie)&&this._updateLayer(He),this._changed=!0,this._updatedPaintProps[G]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getPaintProperty=function(G,ie){return this.getLayer(G).getPaintProperty(ie)},X.prototype.setFeatureState=function(G,ie){this._checkLoaded();var be=G.source,Ie=G.sourceLayer,He=this.sourceCaches[be];if(He!==void 0){var Ze=He.getSource().type;Ze==="geojson"&&Ie?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):Ze!=="vector"||Ie?(G.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),He.setFeatureState(Ie,G.id,ie)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+be+"' does not exist in the map's style.")))},X.prototype.removeFeatureState=function(G,ie){this._checkLoaded();var be=G.source,Ie=this.sourceCaches[be];if(Ie!==void 0){var He=Ie.getSource().type,Ze=He==="vector"?G.sourceLayer:void 0;He!=="vector"||Ze?ie&&typeof G.id!="string"&&typeof G.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Ie.removeFeatureState(Ze,G.id,ie):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+be+"' does not exist in the map's style.")))},X.prototype.getFeatureState=function(G){this._checkLoaded();var ie=G.source,be=G.sourceLayer,Ie=this.sourceCaches[ie];if(Ie!==void 0){if(Ie.getSource().type!=="vector"||be)return G.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ie.getFeatureState(be,G.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+ie+"' does not exist in the map's style.")))},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(G){return G.serialize()}),layers:this._serializeLayers(this._order)},function(G){return G!==void 0})},X.prototype._updateLayer=function(G){this._updatedLayers[G.id]=!0,G.source&&!this._updatedSources[G.source]&&this.sourceCaches[G.source].getSource().type!=="raster"&&(this._updatedSources[G.source]="reload",this.sourceCaches[G.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(G){for(var ie=this,be=function(rn){return ie._layers[rn].type==="fill-extrusion"},Ie={},He=[],Ze=this._order.length-1;Ze>=0;Ze--){var at=this._order[Ze];if(be(at)){Ie[at]=Ze;for(var Tt=0,Mt=G;Tt<Mt.length;Tt+=1){var re=Mt[Tt][at];if(re)for(var de=0,Ce=re;de<Ce.length;de+=1){var ze=Ce[de];He.push(ze)}}}}He.sort(function(rn,cn){return cn.intersectionZ-rn.intersectionZ});for(var Ve=[],We=this._order.length-1;We>=0;We--){var Je=this._order[We];if(be(Je))for(var tt=He.length-1;tt>=0;tt--){var lt=He[tt].feature;if(Ie[lt.layer.id]<We)break;Ve.push(lt),He.pop()}else for(var dt=0,Ft=G;dt<Ft.length;dt+=1){var Ut=Ft[dt][Je];if(Ut)for(var qt=0,nn=Ut;qt<nn.length;qt+=1){var yn=nn[qt];Ve.push(yn.feature)}}}return Ve},X.prototype.queryRenderedFeatures=function(G,ie,be){ie&&ie.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ie.filter,null,ie);var Ie={};if(ie&&ie.layers){if(!Array.isArray(ie.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var He=0,Ze=ie.layers;He<Ze.length;He+=1){var at=Ze[He],Tt=this._layers[at];if(!Tt)return this.fire(new a.ErrorEvent(new Error("The layer '"+at+"' does not exist in the map's style and cannot be queried for features."))),[];Ie[Tt.source]=!0}}var Mt=[];for(var re in ie.availableImages=this._availableImages,this.sourceCaches)ie.layers&&!Ie[re]||Mt.push(J(this.sourceCaches[re],this._layers,this._serializedLayers,G,ie,be));return this.placement&&Mt.push(function(de,Ce,ze,Ve,We,Je,tt){for(var lt={},dt=Je.queryRenderedSymbols(Ve),Ft=[],Ut=0,qt=Object.keys(dt).map(Number);Ut<qt.length;Ut+=1){var nn=qt[Ut];Ft.push(tt[nn])}Ft.sort(Z);for(var yn=function(){var wn=cn[rn],ln=wn.featureIndex.lookupSymbolFeatures(dt[wn.bucketInstanceId],Ce,wn.bucketIndex,wn.sourceLayerIndex,We.filter,We.layers,We.availableImages,de);for(var Bn in ln){var Wn=lt[Bn]=lt[Bn]||[],tr=ln[Bn];tr.sort(function(wr,Ar){var Fr=wn.featureSortOrder;if(Fr){var ii=Fr.indexOf(wr.featureIndex);return Fr.indexOf(Ar.featureIndex)-ii}return Ar.featureIndex-wr.featureIndex});for(var or=0,Sr=tr;or<Sr.length;or+=1){var Cr=Sr[or];Wn.push(Cr)}}},rn=0,cn=Ft;rn<cn.length;rn+=1)yn();var sn=function(wn){lt[wn].forEach(function(ln){var Bn=ln.feature,Wn=de[wn],tr=ze[Wn.source].getFeatureState(Bn.layer["source-layer"],Bn.id);Bn.source=Bn.layer.source,Bn.layer["source-layer"]&&(Bn.sourceLayer=Bn.layer["source-layer"]),Bn.state=tr})};for(var Ln in lt)sn(Ln);return lt}(this._layers,this._serializedLayers,this.sourceCaches,G,ie,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Mt)},X.prototype.querySourceFeatures=function(G,ie){ie&&ie.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ie.filter,null,ie);var be=this.sourceCaches[G];return be?function(Ie,He){for(var Ze=Ie.getRenderableIds().map(function(Ce){return Ie.getTileByID(Ce)}),at=[],Tt={},Mt=0;Mt<Ze.length;Mt++){var re=Ze[Mt],de=re.tileID.canonical.key;Tt[de]||(Tt[de]=!0,re.querySourceFeatures(at,He))}return at}(be,ie):[]},X.prototype.addSourceType=function(G,ie,be){return X.getSourceType(G)?be(new Error('A source type called "'+G+'" already exists.')):(X.setSourceType(G,ie),ie.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:G,url:ie.workerSourceURL},be):be(null,null))},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(G,ie){ie===void 0&&(ie={}),this._checkLoaded();var be=this.light.getLight(),Ie=!1;for(var He in G)if(!a.deepEqual(G[He],be[He])){Ie=!0;break}if(Ie){var Ze={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(G,ie),this.light.updateTransitions(Ze)}},X.prototype._validate=function(G,ie,be,Ie,He){return He===void 0&&(He={}),(!He||He.validate!==!1)&&er(this,G.call(a.validateStyle,a.extend({key:ie,style:this.serialize(),value:be,styleSpec:a.styleSpec},Ie)))},X.prototype._remove=function(){for(var G in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[G].setEventedParent(null);for(var ie in this.sourceCaches)this.sourceCaches[ie].clearTiles(),this.sourceCaches[ie].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(G){this.sourceCaches[G].clearTiles()},X.prototype._reloadSource=function(G){this.sourceCaches[G].resume(),this.sourceCaches[G].reload()},X.prototype._updateSources=function(G){for(var ie in this.sourceCaches)this.sourceCaches[ie].update(G)},X.prototype._generateCollisionBoxes=function(){for(var G in this.sourceCaches)this._reloadSource(G)},X.prototype._updatePlacement=function(G,ie,be,Ie,He){He===void 0&&(He=!1);for(var Ze=!1,at=!1,Tt={},Mt=0,re=this._order;Mt<re.length;Mt+=1){var de=re[Mt],Ce=this._layers[de];if(Ce.type==="symbol"){if(!Tt[Ce.source]){var ze=this.sourceCaches[Ce.source];Tt[Ce.source]=ze.getRenderableIds(!0).map(function(dt){return ze.getTileByID(dt)}).sort(function(dt,Ft){return Ft.tileID.overscaledZ-dt.tileID.overscaledZ||(dt.tileID.isLessThan(Ft.tileID)?-1:1)})}var Ve=this.crossTileSymbolIndex.addLayer(Ce,Tt[Ce.source],G.center.lng);Ze=Ze||Ve}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((He=He||this._layerOrderChanged||be===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),G.zoom))&&(this.pauseablePlacement=new vn(G,this._order,He,ie,be,Ie,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Tt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),at=!0),Ze&&this.pauseablePlacement.placement.setStale()),at||Ze)for(var We=0,Je=this._order;We<Je.length;We+=1){var tt=Je[We],lt=this._layers[tt];lt.type==="symbol"&&this.placement.updateLayerOpacities(lt,Tt[lt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},X.prototype._releaseSymbolFadeTiles=function(){for(var G in this.sourceCaches)this.sourceCaches[G].releaseSymbolFadeTiles()},X.prototype.getImages=function(G,ie,be){this.imageManager.getImages(ie.icons,be),this._updateTilesForChangedImages();var Ie=this.sourceCaches[ie.source];Ie&&Ie.setDependencies(ie.tileID.key,ie.type,ie.icons)},X.prototype.getGlyphs=function(G,ie,be){this.glyphManager.getGlyphs(ie.stacks,be)},X.prototype.getResource=function(G,ie,be){return a.makeRequest(ie,be)},X}(a.Evented);mr.getSourceType=function(j){return ee[j]},mr.setSourceType=function(j,X){ee[j]=X},mr.registerForPluginStateChange=a.registerForPluginStateChange;var br=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Or=xi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),Lr=xi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Tr=xi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),dr=xi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Pr=xi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xr=xi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),gi=xi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ii=xi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ri=xi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),ra=xi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Oi=xi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),ki=xi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Pa=xi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),ia=xi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Wo=xi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),us=xi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),yu=xi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),$l=xi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),nl=xi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),La=xi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),xl=xi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),ua=xi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),bl=xi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Va=xi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Ha=xi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),cs=xi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function xi(j,X){var G=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ie={};return{fragmentSource:j=j.replace(G,function(be,Ie,He,Ze,at){return ie[at]=!0,Ie==="define"?`
#ifndef HAS_UNIFORM_u_`+at+`
varying `+He+" "+Ze+" "+at+`;
#else
uniform `+He+" "+Ze+" u_"+at+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+at+`
    `+He+" "+Ze+" "+at+" = u_"+at+`;
#endif
`}),vertexSource:X=X.replace(G,function(be,Ie,He,Ze,at){var Tt=Ze==="float"?"vec2":"vec4",Mt=at.match(/color/)?"color":Tt;return ie[at]?Ie==="define"?`
#ifndef HAS_UNIFORM_u_`+at+`
uniform lowp float u_`+at+`_t;
attribute `+He+" "+Tt+" a_"+at+`;
varying `+He+" "+Ze+" "+at+`;
#else
uniform `+He+" "+Ze+" u_"+at+`;
#endif
`:Mt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+at+`
    `+at+" = a_"+at+`;
#else
    `+He+" "+Ze+" "+at+" = u_"+at+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+at+`
    `+at+" = unpack_mix_"+Mt+"(a_"+at+", u_"+at+`_t);
#else
    `+He+" "+Ze+" "+at+" = u_"+at+`;
#endif
`:Ie==="define"?`
#ifndef HAS_UNIFORM_u_`+at+`
uniform lowp float u_`+at+`_t;
attribute `+He+" "+Tt+" a_"+at+`;
#else
uniform `+He+" "+Ze+" u_"+at+`;
#endif
`:Mt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+at+`
    `+He+" "+Ze+" "+at+" = a_"+at+`;
#else
    `+He+" "+Ze+" "+at+" = u_"+at+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+at+`
    `+He+" "+Ze+" "+at+" = unpack_mix_"+Mt+"(a_"+at+", u_"+at+`_t);
#else
    `+He+" "+Ze+" "+at+" = u_"+at+`;
#endif
`})}}var fs=Object.freeze({__proto__:null,prelude:Or,background:Lr,backgroundPattern:Tr,circle:dr,clippingMask:Pr,heatmap:Xr,heatmapTexture:gi,collisionBox:Ii,collisionCircle:Ri,debug:ra,fill:Oi,fillOutline:ki,fillOutlinePattern:Pa,fillPattern:ia,fillExtrusion:Wo,fillExtrusionPattern:us,hillshadePrepare:yu,hillshade:$l,line:nl,lineGradient:La,linePattern:xl,lineSDF:ua,raster:bl,symbolIcon:Va,symbolSDF:Ha,symbolTextAndIcon:cs}),co=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};co.prototype.bind=function(j,X,G,ie,be,Ie,He,Ze){this.context=j;for(var at=this.boundPaintVertexBuffers.length!==ie.length,Tt=0;!at&&Tt<ie.length;Tt++)this.boundPaintVertexBuffers[Tt]!==ie[Tt]&&(at=!0);var Mt=!this.vao||this.boundProgram!==X||this.boundLayoutVertexBuffer!==G||at||this.boundIndexBuffer!==be||this.boundVertexOffset!==Ie||this.boundDynamicVertexBuffer!==He||this.boundDynamicVertexBuffer2!==Ze;!j.extVertexArrayObject||Mt?this.freshBind(X,G,ie,be,Ie,He,Ze):(j.bindVertexArrayOES.set(this.vao),He&&He.bind(),be&&be.dynamicDraw&&be.bind(),Ze&&Ze.bind())},co.prototype.freshBind=function(j,X,G,ie,be,Ie,He){var Ze,at=j.numAttributes,Tt=this.context,Mt=Tt.gl;if(Tt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Tt.extVertexArrayObject.createVertexArrayOES(),Tt.bindVertexArrayOES.set(this.vao),Ze=0,this.boundProgram=j,this.boundLayoutVertexBuffer=X,this.boundPaintVertexBuffers=G,this.boundIndexBuffer=ie,this.boundVertexOffset=be,this.boundDynamicVertexBuffer=Ie,this.boundDynamicVertexBuffer2=He;else{Ze=Tt.currentNumAttributes||0;for(var re=at;re<Ze;re++)Mt.disableVertexAttribArray(re)}X.enableAttributes(Mt,j);for(var de=0,Ce=G;de<Ce.length;de+=1)Ce[de].enableAttributes(Mt,j);Ie&&Ie.enableAttributes(Mt,j),He&&He.enableAttributes(Mt,j),X.bind(),X.setVertexAttribPointers(Mt,j,be);for(var ze=0,Ve=G;ze<Ve.length;ze+=1){var We=Ve[ze];We.bind(),We.setVertexAttribPointers(Mt,j,be)}Ie&&(Ie.bind(),Ie.setVertexAttribPointers(Mt,j,be)),ie&&ie.bind(),He&&(He.bind(),He.setVertexAttribPointers(Mt,j,be)),Tt.currentNumAttributes=at},co.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var To=function(j,X,G,ie,be){var Ie=j.gl;this.program=Ie.createProgram();var He=G?G.defines():[];be&&He.push("#define OVERDRAW_INSPECTOR;");var Ze=He.concat(Or.fragmentSource,X.fragmentSource).join(`
`),at=He.concat(Or.vertexSource,X.vertexSource).join(`
`),Tt=Ie.createShader(Ie.FRAGMENT_SHADER);if(Ie.isContextLost())this.failedToCreate=!0;else{Ie.shaderSource(Tt,Ze),Ie.compileShader(Tt),Ie.attachShader(this.program,Tt);var Mt=Ie.createShader(Ie.VERTEX_SHADER);if(Ie.isContextLost())this.failedToCreate=!0;else{Ie.shaderSource(Mt,at),Ie.compileShader(Mt),Ie.attachShader(this.program,Mt);for(var re=G?G.layoutAttributes:[],de=0;de<re.length;de++)Ie.bindAttribLocation(this.program,de,re[de].name);Ie.linkProgram(this.program),Ie.deleteShader(Mt),Ie.deleteShader(Tt),this.numAttributes=Ie.getProgramParameter(this.program,Ie.ACTIVE_ATTRIBUTES),this.attributes={};for(var Ce={},ze=0;ze<this.numAttributes;ze++){var Ve=Ie.getActiveAttrib(this.program,ze);Ve&&(this.attributes[Ve.name]=Ie.getAttribLocation(this.program,Ve.name))}for(var We=Ie.getProgramParameter(this.program,Ie.ACTIVE_UNIFORMS),Je=0;Je<We;Je++){var tt=Ie.getActiveUniform(this.program,Je);tt&&(Ce[tt.name]=Ie.getUniformLocation(this.program,tt.name))}this.fixedUniforms=ie(j,Ce),this.binderUniforms=G?G.getUniforms(j,Ce):[]}}};function Ao(j,X,G){var ie=1/xr(G,1,X.transform.tileZoom),be=Math.pow(2,G.tileID.overscaledZ),Ie=G.tileSize*Math.pow(2,X.transform.tileZoom)/be,He=Ie*(G.tileID.canonical.x+G.tileID.wrap*be),Ze=Ie*G.tileID.canonical.y;return{u_image:0,u_texsize:G.imageAtlasTexture.size,u_scale:[ie,j.fromScale,j.toScale],u_fade:j.t,u_pixel_coord_upper:[He>>16,Ze>>16],u_pixel_coord_lower:[65535&He,65535&Ze]}}To.prototype.draw=function(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt,re,de,Ce,ze,Ve){var We,Je=j.gl;if(!this.failedToCreate){for(var tt in j.program.set(this.program),j.setDepthMode(G),j.setStencilMode(ie),j.setColorMode(be),j.setCullFace(Ie),this.fixedUniforms)this.fixedUniforms[tt].set(He[tt]);Ce&&Ce.setUniforms(j,this.binderUniforms,re,{zoom:de});for(var lt=(We={},We[Je.LINES]=2,We[Je.TRIANGLES]=3,We[Je.LINE_STRIP]=1,We)[X],dt=0,Ft=Mt.get();dt<Ft.length;dt+=1){var Ut=Ft[dt],qt=Ut.vaos||(Ut.vaos={});(qt[Ze]||(qt[Ze]=new co)).bind(j,this,at,Ce?Ce.getPaintVertexBuffers():[],Tt,Ut.vertexOffset,ze,Ve),Je.drawElements(X,Ut.primitiveLength*lt,Je.UNSIGNED_SHORT,Ut.primitiveOffset*lt*2)}}};var _l=function(j,X,G,ie){var be=X.style.light,Ie=be.properties.get("position"),He=[Ie.x,Ie.y,Ie.z],Ze=a.create$1();be.properties.get("anchor")==="viewport"&&a.fromRotation(Ze,-X.transform.angle),a.transformMat3(He,He,Ze);var at=be.properties.get("color");return{u_matrix:j,u_lightpos:He,u_lightintensity:be.properties.get("intensity"),u_lightcolor:[at.r,at.g,at.b],u_vertical_gradient:+G,u_opacity:ie}},Ps=function(j,X,G,ie,be,Ie,He){return a.extend(_l(j,X,G,ie),Ao(Ie,X,He),{u_height_factor:-Math.pow(2,be.overscaledZ)/He.tileSize/8})},Go=function(j){return{u_matrix:j}},zl=function(j,X,G,ie){return a.extend(Go(j),Ao(G,X,ie))},xu=function(j,X){return{u_matrix:j,u_world:X}},Ql=function(j,X,G,ie,be){return a.extend(zl(j,X,G,ie),{u_world:be})},eu=function(j,X,G,ie){var be,Ie,He=j.transform;if(ie.paint.get("circle-pitch-alignment")==="map"){var Ze=xr(G,1,He.zoom);be=!0,Ie=[Ze,Ze]}else be=!1,Ie=He.pixelsToGLUnits;return{u_camera_to_center_distance:He.cameraToCenterDistance,u_scale_with_map:+(ie.paint.get("circle-pitch-scale")==="map"),u_matrix:j.translatePosMatrix(X.posMatrix,G,ie.paint.get("circle-translate"),ie.paint.get("circle-translate-anchor")),u_pitch_with_map:+be,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ie}},bu=function(j,X,G){var ie=xr(G,1,X.zoom),be=Math.pow(2,X.zoom-G.tileID.overscaledZ),Ie=G.tileID.overscaleFactor();return{u_matrix:j,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:ie,u_extrude_scale:[X.pixelsToGLUnits[0]/(ie*be),X.pixelsToGLUnits[1]/(ie*be)],u_overscale_factor:Ie}},tu=function(j,X,G){return{u_matrix:j,u_inv_matrix:X,u_camera_to_center_distance:G.cameraToCenterDistance,u_viewport_size:[G.width,G.height]}},Yo=function(j,X,G){return G===void 0&&(G=1),{u_matrix:j,u_color:X,u_overlay:0,u_overlay_scale:G}},Ro=function(j){return{u_matrix:j}},rl=function(j,X,G,ie){return{u_matrix:j,u_extrude_scale:xr(X,1,G),u_intensity:ie}},zo=function(j,X,G){var ie=j.transform;return{u_matrix:ps(j,X,G),u_ratio:1/xr(X,1,ie.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ie.pixelsToGLUnits[0],1/ie.pixelsToGLUnits[1]]}},Bi=function(j,X,G){return a.extend(zo(j,X,G),{u_image:0})},nu=function(j,X,G,ie){var be=j.transform,Ie=wl(X,be);return{u_matrix:ps(j,X,G),u_texsize:X.imageAtlasTexture.size,u_ratio:1/xr(X,1,be.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Ie,ie.fromScale,ie.toScale],u_fade:ie.t,u_units_to_pixels:[1/be.pixelsToGLUnits[0],1/be.pixelsToGLUnits[1]]}},Is=function(j,X,G,ie,be){var Ie=j.transform,He=j.lineAtlas,Ze=wl(X,Ie),at=G.layout.get("line-cap")==="round",Tt=He.getDash(ie.from,at),Mt=He.getDash(ie.to,at),re=Tt.width*be.fromScale,de=Mt.width*be.toScale;return a.extend(zo(j,X,G),{u_patternscale_a:[Ze/re,-Tt.height/2],u_patternscale_b:[Ze/de,-Mt.height/2],u_sdfgamma:He.width/(256*Math.min(re,de)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Tt.y,u_tex_y_b:Mt.y,u_mix:be.t})};function wl(j,X){return 1/xr(j,1,X.tileZoom)}function ps(j,X,G){return j.translatePosMatrix(X.tileID.posMatrix,X,G.paint.get("line-translate"),G.paint.get("line-translate-anchor"))}var il=function(j,X,G,ie,be){return{u_matrix:j,u_tl_parent:X,u_scale_parent:G,u_buffer_scale:1,u_fade_t:ie.mix,u_opacity:ie.opacity*be.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:be.paint.get("raster-brightness-min"),u_brightness_high:be.paint.get("raster-brightness-max"),u_saturation_factor:(He=be.paint.get("raster-saturation"),He>0?1-1/(1.001-He):-He),u_contrast_factor:(Ie=be.paint.get("raster-contrast"),Ie>0?1/(1-Ie):1+Ie),u_spin_weights:Ds(be.paint.get("raster-hue-rotate"))};var Ie,He};function Ds(j){j*=Math.PI/180;var X=Math.sin(j),G=Math.cos(j);return[(2*G+1)/3,(-Math.sqrt(3)*X-G+1)/3,(Math.sqrt(3)*X-G+1)/3]}var Qa,bi=function(j,X,G,ie,be,Ie,He,Ze,at,Tt){var Mt=be.transform;return{u_is_size_zoom_constant:+(j==="constant"||j==="source"),u_is_size_feature_constant:+(j==="constant"||j==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Mt.cameraToCenterDistance,u_pitch:Mt.pitch/360*2*Math.PI,u_rotate_symbol:+G,u_aspect_ratio:Mt.width/Mt.height,u_fade_change:be.options.fadeDuration?be.symbolFadeChange:1,u_matrix:Ie,u_label_plane_matrix:He,u_coord_matrix:Ze,u_is_text:+at,u_pitch_with_map:+ie,u_texsize:Tt,u_texture:0}},hs=function(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt){var re=be.transform;return a.extend(bi(j,X,G,ie,be,Ie,He,Ze,at,Tt),{u_gamma_scale:ie?Math.cos(re._pitch)*re.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Mt})},Nu=function(j,X,G,ie,be,Ie,He,Ze,at,Tt){return a.extend(hs(j,X,G,ie,be,Ie,He,Ze,!0,at,!0),{u_texsize_icon:Tt,u_texture_icon:1})},Rs=function(j,X,G){return{u_matrix:j,u_opacity:X,u_color:G}},ds=function(j,X,G,ie,be,Ie){return a.extend(function(He,Ze,at,Tt){var Mt=at.imageManager.getPattern(He.from.toString()),re=at.imageManager.getPattern(He.to.toString()),de=at.imageManager.getPixelSize(),Ce=de.width,ze=de.height,Ve=Math.pow(2,Tt.tileID.overscaledZ),We=Tt.tileSize*Math.pow(2,at.transform.tileZoom)/Ve,Je=We*(Tt.tileID.canonical.x+Tt.tileID.wrap*Ve),tt=We*Tt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Mt.tl,u_pattern_br_a:Mt.br,u_pattern_tl_b:re.tl,u_pattern_br_b:re.br,u_texsize:[Ce,ze],u_mix:Ze.t,u_pattern_size_a:Mt.displaySize,u_pattern_size_b:re.displaySize,u_scale_a:Ze.fromScale,u_scale_b:Ze.toScale,u_tile_units_to_pixels:1/xr(Tt,1,at.transform.tileZoom),u_pixel_coord_upper:[Je>>16,tt>>16],u_pixel_coord_lower:[65535&Je,65535&tt]}}(ie,Ie,G,be),{u_matrix:j,u_opacity:X})},Zo={fillExtrusion:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_lightpos:new a.Uniform3f(j,X.u_lightpos),u_lightintensity:new a.Uniform1f(j,X.u_lightintensity),u_lightcolor:new a.Uniform3f(j,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(j,X.u_vertical_gradient),u_opacity:new a.Uniform1f(j,X.u_opacity)}},fillExtrusionPattern:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_lightpos:new a.Uniform3f(j,X.u_lightpos),u_lightintensity:new a.Uniform1f(j,X.u_lightintensity),u_lightcolor:new a.Uniform3f(j,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(j,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(j,X.u_height_factor),u_image:new a.Uniform1i(j,X.u_image),u_texsize:new a.Uniform2f(j,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(j,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(j,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(j,X.u_scale),u_fade:new a.Uniform1f(j,X.u_fade),u_opacity:new a.Uniform1f(j,X.u_opacity)}},fill:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix)}},fillPattern:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_image:new a.Uniform1i(j,X.u_image),u_texsize:new a.Uniform2f(j,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(j,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(j,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(j,X.u_scale),u_fade:new a.Uniform1f(j,X.u_fade)}},fillOutline:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_world:new a.Uniform2f(j,X.u_world)}},fillOutlinePattern:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_world:new a.Uniform2f(j,X.u_world),u_image:new a.Uniform1i(j,X.u_image),u_texsize:new a.Uniform2f(j,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(j,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(j,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(j,X.u_scale),u_fade:new a.Uniform1f(j,X.u_fade)}},circle:function(j,X){return{u_camera_to_center_distance:new a.Uniform1f(j,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(j,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(j,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(j,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(j,X.u_matrix)}},collisionBox:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(j,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(j,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(j,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(j,X.u_overscale_factor)}},collisionCircle:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(j,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(j,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(j,X.u_viewport_size)}},debug:function(j,X){return{u_color:new a.UniformColor(j,X.u_color),u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_overlay:new a.Uniform1i(j,X.u_overlay),u_overlay_scale:new a.Uniform1f(j,X.u_overlay_scale)}},clippingMask:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix)}},heatmap:function(j,X){return{u_extrude_scale:new a.Uniform1f(j,X.u_extrude_scale),u_intensity:new a.Uniform1f(j,X.u_intensity),u_matrix:new a.UniformMatrix4f(j,X.u_matrix)}},heatmapTexture:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_world:new a.Uniform2f(j,X.u_world),u_image:new a.Uniform1i(j,X.u_image),u_color_ramp:new a.Uniform1i(j,X.u_color_ramp),u_opacity:new a.Uniform1f(j,X.u_opacity)}},hillshade:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_image:new a.Uniform1i(j,X.u_image),u_latrange:new a.Uniform2f(j,X.u_latrange),u_light:new a.Uniform2f(j,X.u_light),u_shadow:new a.UniformColor(j,X.u_shadow),u_highlight:new a.UniformColor(j,X.u_highlight),u_accent:new a.UniformColor(j,X.u_accent)}},hillshadePrepare:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_image:new a.Uniform1i(j,X.u_image),u_dimension:new a.Uniform2f(j,X.u_dimension),u_zoom:new a.Uniform1f(j,X.u_zoom),u_maxzoom:new a.Uniform1f(j,X.u_maxzoom),u_unpack:new a.Uniform4f(j,X.u_unpack)}},line:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_ratio:new a.Uniform1f(j,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(j,X.u_units_to_pixels)}},lineGradient:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_ratio:new a.Uniform1f(j,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(j,X.u_units_to_pixels),u_image:new a.Uniform1i(j,X.u_image)}},linePattern:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_texsize:new a.Uniform2f(j,X.u_texsize),u_ratio:new a.Uniform1f(j,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_image:new a.Uniform1i(j,X.u_image),u_units_to_pixels:new a.Uniform2f(j,X.u_units_to_pixels),u_scale:new a.Uniform3f(j,X.u_scale),u_fade:new a.Uniform1f(j,X.u_fade)}},lineSDF:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_ratio:new a.Uniform1f(j,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(j,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(j,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(j,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(j,X.u_sdfgamma),u_image:new a.Uniform1i(j,X.u_image),u_tex_y_a:new a.Uniform1f(j,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(j,X.u_tex_y_b),u_mix:new a.Uniform1f(j,X.u_mix)}},raster:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_tl_parent:new a.Uniform2f(j,X.u_tl_parent),u_scale_parent:new a.Uniform1f(j,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(j,X.u_buffer_scale),u_fade_t:new a.Uniform1f(j,X.u_fade_t),u_opacity:new a.Uniform1f(j,X.u_opacity),u_image0:new a.Uniform1i(j,X.u_image0),u_image1:new a.Uniform1i(j,X.u_image1),u_brightness_low:new a.Uniform1f(j,X.u_brightness_low),u_brightness_high:new a.Uniform1f(j,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(j,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(j,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(j,X.u_spin_weights)}},symbolIcon:function(j,X){return{u_is_size_zoom_constant:new a.Uniform1i(j,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(j,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(j,X.u_size_t),u_size:new a.Uniform1f(j,X.u_size),u_camera_to_center_distance:new a.Uniform1f(j,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(j,X.u_pitch),u_rotate_symbol:new a.Uniform1i(j,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(j,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(j,X.u_fade_change),u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(j,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(j,X.u_coord_matrix),u_is_text:new a.Uniform1i(j,X.u_is_text),u_pitch_with_map:new a.Uniform1i(j,X.u_pitch_with_map),u_texsize:new a.Uniform2f(j,X.u_texsize),u_texture:new a.Uniform1i(j,X.u_texture)}},symbolSDF:function(j,X){return{u_is_size_zoom_constant:new a.Uniform1i(j,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(j,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(j,X.u_size_t),u_size:new a.Uniform1f(j,X.u_size),u_camera_to_center_distance:new a.Uniform1f(j,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(j,X.u_pitch),u_rotate_symbol:new a.Uniform1i(j,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(j,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(j,X.u_fade_change),u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(j,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(j,X.u_coord_matrix),u_is_text:new a.Uniform1i(j,X.u_is_text),u_pitch_with_map:new a.Uniform1i(j,X.u_pitch_with_map),u_texsize:new a.Uniform2f(j,X.u_texsize),u_texture:new a.Uniform1i(j,X.u_texture),u_gamma_scale:new a.Uniform1f(j,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(j,X.u_is_halo)}},symbolTextAndIcon:function(j,X){return{u_is_size_zoom_constant:new a.Uniform1i(j,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(j,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(j,X.u_size_t),u_size:new a.Uniform1f(j,X.u_size),u_camera_to_center_distance:new a.Uniform1f(j,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(j,X.u_pitch),u_rotate_symbol:new a.Uniform1i(j,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(j,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(j,X.u_fade_change),u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(j,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(j,X.u_coord_matrix),u_is_text:new a.Uniform1i(j,X.u_is_text),u_pitch_with_map:new a.Uniform1i(j,X.u_pitch_with_map),u_texsize:new a.Uniform2f(j,X.u_texsize),u_texsize_icon:new a.Uniform2f(j,X.u_texsize_icon),u_texture:new a.Uniform1i(j,X.u_texture),u_texture_icon:new a.Uniform1i(j,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(j,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(j,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(j,X.u_is_halo)}},background:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_opacity:new a.Uniform1f(j,X.u_opacity),u_color:new a.UniformColor(j,X.u_color)}},backgroundPattern:function(j,X){return{u_matrix:new a.UniformMatrix4f(j,X.u_matrix),u_opacity:new a.Uniform1f(j,X.u_opacity),u_image:new a.Uniform1i(j,X.u_image),u_pattern_tl_a:new a.Uniform2f(j,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(j,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(j,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(j,X.u_pattern_br_b),u_texsize:new a.Uniform2f(j,X.u_texsize),u_mix:new a.Uniform1f(j,X.u_mix),u_pattern_size_a:new a.Uniform2f(j,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(j,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(j,X.u_scale_a),u_scale_b:new a.Uniform1f(j,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(j,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(j,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(j,X.u_tile_units_to_pixels)}}};function al(j,X,G,ie,be,Ie,He){for(var Ze=j.context,at=Ze.gl,Tt=j.useProgram("collisionBox"),Mt=[],re=0,de=0,Ce=0;Ce<ie.length;Ce++){var ze=ie[Ce],Ve=X.getTile(ze),We=Ve.getBucket(G);if(We){var Je=ze.posMatrix;be[0]===0&&be[1]===0||(Je=j.translatePosMatrix(ze.posMatrix,Ve,be,Ie));var tt=He?We.textCollisionBox:We.iconCollisionBox,lt=We.collisionCircleArray;if(lt.length>0){var dt=a.create(),Ft=Je;a.mul(dt,We.placementInvProjMatrix,j.transform.glCoordMatrix),a.mul(dt,dt,We.placementViewportMatrix),Mt.push({circleArray:lt,circleOffset:de,transform:Ft,invTransform:dt}),de=re+=lt.length/4}tt&&Tt.draw(Ze,at.LINES,Wt.disabled,Ke.disabled,j.colorModeForRenderPass(),Ue.disabled,bu(Je,j.transform,Ve),G.id,tt.layoutVertexBuffer,tt.indexBuffer,tt.segments,null,j.transform.zoom,null,null,tt.collisionVertexBuffer)}}if(He&&Mt.length){var Ut=j.useProgram("collisionCircle"),qt=new a.StructArrayLayout2f1f2i16;qt.resize(4*re),qt._trim();for(var nn=0,yn=0,rn=Mt;yn<rn.length;yn+=1)for(var cn=rn[yn],sn=0;sn<cn.circleArray.length/4;sn++){var Ln=4*sn,wn=cn.circleArray[Ln+0],ln=cn.circleArray[Ln+1],Bn=cn.circleArray[Ln+2],Wn=cn.circleArray[Ln+3];qt.emplace(nn++,wn,ln,Bn,Wn,0),qt.emplace(nn++,wn,ln,Bn,Wn,1),qt.emplace(nn++,wn,ln,Bn,Wn,2),qt.emplace(nn++,wn,ln,Bn,Wn,3)}(!Qa||Qa.length<2*re)&&(Qa=function(Fr){var ii=2*Fr,ai=new a.StructArrayLayout3ui6;ai.resize(ii),ai._trim();for(var _r=0;_r<ii;_r++){var Rr=6*_r;ai.uint16[Rr+0]=4*_r+0,ai.uint16[Rr+1]=4*_r+1,ai.uint16[Rr+2]=4*_r+2,ai.uint16[Rr+3]=4*_r+2,ai.uint16[Rr+4]=4*_r+3,ai.uint16[Rr+5]=4*_r+0}return ai}(re));for(var tr=Ze.createIndexBuffer(Qa,!0),or=Ze.createVertexBuffer(qt,a.collisionCircleLayout.members,!0),Sr=0,Cr=Mt;Sr<Cr.length;Sr+=1){var wr=Cr[Sr],Ar=tu(wr.transform,wr.invTransform,j.transform);Ut.draw(Ze,at.TRIANGLES,Wt.disabled,Ke.disabled,j.colorModeForRenderPass(),Ue.disabled,Ar,G.id,or,tr,a.SegmentVector.simpleSegment(0,2*wr.circleOffset,wr.circleArray.length,wr.circleArray.length/2),null,j.transform.zoom,null,null,null)}or.destroy(),tr.destroy()}}var eo=a.identity(new Float32Array(16));function ru(j,X,G,ie,be,Ie){var He=a.getAnchorAlignment(j),Ze=-(He.horizontalAlign-.5)*X,at=-(He.verticalAlign-.5)*G,Tt=a.evaluateVariableOffset(j,ie);return new a.Point((Ze/be+Tt[0])*Ie,(at/be+Tt[1])*Ie)}function zs(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt){var re=j.text.placedSymbolArray,de=j.text.dynamicLayoutVertexArray,Ce=j.icon.dynamicLayoutVertexArray,ze={};de.clear();for(var Ve=0;Ve<re.length;Ve++){var We=re.get(Ve),Je=j.allowVerticalPlacement&&!We.placedOrientation,tt=We.hidden||!We.crossTileID||Je?null:ie[We.crossTileID];if(tt){var lt=new a.Point(We.anchorX,We.anchorY),dt=un(lt,G?Ze:He),Ft=Tn(Ie.cameraToCenterDistance,dt.signedDistanceFromCamera),Ut=be.evaluateSizeForFeature(j.textSizeData,Tt,We)*Ft/a.ONE_EM;G&&(Ut*=j.tilePixelRatio/at);for(var qt=tt.width,nn=tt.height,yn=ru(tt.anchor,qt,nn,tt.textOffset,tt.textBoxScale,Ut),rn=G?un(lt.add(yn),He).point:dt.point.add(X?yn.rotate(-Ie.angle):yn),cn=j.allowVerticalPlacement&&We.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,sn=0;sn<We.numGlyphs;sn++)a.addDynamicAttributes(de,rn,cn);Mt&&We.associatedIconIndex>=0&&(ze[We.associatedIconIndex]={shiftedAnchor:rn,angle:cn})}else ir(We.numGlyphs,de)}if(Mt){Ce.clear();for(var Ln=j.icon.placedSymbolArray,wn=0;wn<Ln.length;wn++){var ln=Ln.get(wn);if(ln.hidden)ir(ln.numGlyphs,Ce);else{var Bn=ze[wn];if(Bn)for(var Wn=0;Wn<ln.numGlyphs;Wn++)a.addDynamicAttributes(Ce,Bn.shiftedAnchor,Bn.angle);else ir(ln.numGlyphs,Ce)}}j.icon.dynamicLayoutVertexBuffer.updateData(Ce)}j.text.dynamicLayoutVertexBuffer.updateData(de)}function gs(j,X,G){return G.iconsInText&&X?"symbolTextAndIcon":j?"symbolSDF":"symbolIcon"}function Fs(j,X,G,ie,be,Ie,He,Ze,at,Tt,Mt,re){for(var de=j.context,Ce=de.gl,ze=j.transform,Ve=Ze==="map",We=at==="map",Je=Ve&&G.layout.get("symbol-placement")!=="point",tt=Ve&&!We&&!Je,lt=G.layout.get("symbol-sort-key").constantOr(1)!==void 0,dt=j.depthModeForSublayer(0,Wt.ReadOnly),Ft=G.layout.get("text-variable-anchor"),Ut=[],qt=0,nn=ie;qt<nn.length;qt+=1){var yn=nn[qt],rn=X.getTile(yn),cn=rn.getBucket(G);if(cn){var sn=be?cn.text:cn.icon;if(sn&&sn.segments.get().length){var Ln=sn.programConfigurations.get(G.id),wn=be||cn.sdfIcons,ln=be?cn.textSizeData:cn.iconSizeData,Bn=We||ze.pitch!==0,Wn=j.useProgram(gs(wn,be,cn),Ln),tr=a.evaluateSizeForZoom(ln,ze.zoom),or=void 0,Sr=[0,0],Cr=void 0,wr=void 0,Ar=null,Fr=void 0;if(be){if(Cr=rn.glyphAtlasTexture,wr=Ce.LINEAR,or=rn.glyphAtlasTexture.size,cn.iconsInText){Sr=rn.imageAtlasTexture.size,Ar=rn.imageAtlasTexture;var ii=ln.kind==="composite"||ln.kind==="camera";Fr=Bn||j.options.rotating||j.options.zooming||ii?Ce.LINEAR:Ce.NEAREST}}else{var ai=G.layout.get("icon-size").constantOr(0)!==1||cn.iconsNeedLinear;Cr=rn.imageAtlasTexture,wr=wn||j.options.rotating||j.options.zooming||ai||Bn?Ce.LINEAR:Ce.NEAREST,or=rn.imageAtlasTexture.size}var _r=xr(rn,1,j.transform.zoom),Rr=Xn(yn.posMatrix,We,Ve,j.transform,_r),Qr=An(yn.posMatrix,We,Ve,j.transform,_r),$r=Ft&&cn.hasTextData(),di=G.layout.get("icon-text-fit")!=="none"&&$r&&cn.hasIconData();Je&&dn(cn,yn.posMatrix,j,be,Rr,Qr,We,Tt);var li=j.translatePosMatrix(yn.posMatrix,rn,Ie,He),vi=Je||be&&Ft||di?eo:Rr,Ei=j.translatePosMatrix(Qr,rn,Ie,He,!0),Ai=wn&&G.paint.get(be?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ci={program:Wn,buffers:sn,uniformValues:wn?cn.iconsInText?Nu(ln.kind,tr,tt,We,j,li,vi,Ei,or,Sr):hs(ln.kind,tr,tt,We,j,li,vi,Ei,be,or,!0):bi(ln.kind,tr,tt,We,j,li,vi,Ei,be,or),atlasTexture:Cr,atlasTextureIcon:Ar,atlasInterpolation:wr,atlasInterpolationIcon:Fr,isSDF:wn,hasHalo:Ai};if(lt)for(var Gr=0,De=sn.segments.get();Gr<De.length;Gr+=1){var Xe=De[Gr];Ut.push({segments:new a.SegmentVector([Xe]),sortKey:Xe.sortKey,state:Ci})}else Ut.push({segments:sn.segments,sortKey:0,state:Ci})}}}lt&&Ut.sort(function(Ur,Yr){return Ur.sortKey-Yr.sortKey});for(var _t=0,jt=Ut;_t<jt.length;_t+=1){var $t=jt[_t],Cn=$t.state;if(de.activeTexture.set(Ce.TEXTURE0),Cn.atlasTexture.bind(Cn.atlasInterpolation,Ce.CLAMP_TO_EDGE),Cn.atlasTextureIcon&&(de.activeTexture.set(Ce.TEXTURE1),Cn.atlasTextureIcon&&Cn.atlasTextureIcon.bind(Cn.atlasInterpolationIcon,Ce.CLAMP_TO_EDGE)),Cn.isSDF){var lr=Cn.uniformValues;Cn.hasHalo&&(lr.u_is_halo=1,Ns(Cn.buffers,$t.segments,G,j,Cn.program,dt,Mt,re,lr)),lr.u_is_halo=0}Ns(Cn.buffers,$t.segments,G,j,Cn.program,dt,Mt,re,Cn.uniformValues)}}function Ns(j,X,G,ie,be,Ie,He,Ze,at){var Tt=ie.context,Mt=Tt.gl;be.draw(Tt,Mt.TRIANGLES,Ie,He,Ze,Ue.disabled,at,G.id,j.layoutVertexBuffer,j.indexBuffer,X,G.paint,ie.transform.zoom,j.programConfigurations.get(G.id),j.dynamicLayoutVertexBuffer,j.opacityVertexBuffer)}function Bs(j,X,G,ie,be,Ie,He){var Ze,at,Tt,Mt,re,de=j.context.gl,Ce=G.paint.get("fill-pattern"),ze=Ce&&Ce.constantOr(1),Ve=G.getCrossfadeParameters();He?(at=ze&&!G.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ze=de.LINES):(at=ze?"fillPattern":"fill",Ze=de.TRIANGLES);for(var We=0,Je=ie;We<Je.length;We+=1){var tt=Je[We],lt=X.getTile(tt);if(!ze||lt.patternsLoaded()){var dt=lt.getBucket(G);if(dt){var Ft=dt.programConfigurations.get(G.id),Ut=j.useProgram(at,Ft);ze&&(j.context.activeTexture.set(de.TEXTURE0),lt.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Ft.updatePaintBuffers(Ve));var qt=Ce.constantOr(null);if(qt&&lt.imageAtlas){var nn=lt.imageAtlas,yn=nn.patternPositions[qt.to.toString()],rn=nn.patternPositions[qt.from.toString()];yn&&rn&&Ft.setConstantPatternPositions(yn,rn)}var cn=j.translatePosMatrix(tt.posMatrix,lt,G.paint.get("fill-translate"),G.paint.get("fill-translate-anchor"));if(He){Mt=dt.indexBuffer2,re=dt.segments2;var sn=[de.drawingBufferWidth,de.drawingBufferHeight];Tt=at==="fillOutlinePattern"&&ze?Ql(cn,j,Ve,lt,sn):xu(cn,sn)}else Mt=dt.indexBuffer,re=dt.segments,Tt=ze?zl(cn,j,Ve,lt):Go(cn);Ut.draw(j.context,Ze,be,j.stencilModeForClipping(tt),Ie,Ue.disabled,Tt,G.id,dt.layoutVertexBuffer,Mt,re,G.paint,j.transform.zoom,Ft)}}}}function ol(j,X,G,ie,be,Ie,He){for(var Ze=j.context,at=Ze.gl,Tt=G.paint.get("fill-extrusion-pattern"),Mt=Tt.constantOr(1),re=G.getCrossfadeParameters(),de=G.paint.get("fill-extrusion-opacity"),Ce=0,ze=ie;Ce<ze.length;Ce+=1){var Ve=ze[Ce],We=X.getTile(Ve),Je=We.getBucket(G);if(Je){var tt=Je.programConfigurations.get(G.id),lt=j.useProgram(Mt?"fillExtrusionPattern":"fillExtrusion",tt);Mt&&(j.context.activeTexture.set(at.TEXTURE0),We.imageAtlasTexture.bind(at.LINEAR,at.CLAMP_TO_EDGE),tt.updatePaintBuffers(re));var dt=Tt.constantOr(null);if(dt&&We.imageAtlas){var Ft=We.imageAtlas,Ut=Ft.patternPositions[dt.to.toString()],qt=Ft.patternPositions[dt.from.toString()];Ut&&qt&&tt.setConstantPatternPositions(Ut,qt)}var nn=j.translatePosMatrix(Ve.posMatrix,We,G.paint.get("fill-extrusion-translate"),G.paint.get("fill-extrusion-translate-anchor")),yn=G.paint.get("fill-extrusion-vertical-gradient"),rn=Mt?Ps(nn,j,yn,de,Ve,re,We):_l(nn,j,yn,de);lt.draw(Ze,Ze.gl.TRIANGLES,be,Ie,He,Ue.backCCW,rn,G.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,G.paint,j.transform.zoom,tt)}}}function kl(j,X,G,ie,be,Ie){var He=j.context,Ze=He.gl,at=X.fbo;if(at){var Tt=j.useProgram("hillshade");He.activeTexture.set(Ze.TEXTURE0),Ze.bindTexture(Ze.TEXTURE_2D,at.colorAttachment.get());var Mt=function(re,de,Ce){var ze=Ce.paint.get("hillshade-shadow-color"),Ve=Ce.paint.get("hillshade-highlight-color"),We=Ce.paint.get("hillshade-accent-color"),Je=Ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(Je-=re.transform.angle);var tt,lt,dt,Ft=!re.options.moving;return{u_matrix:re.transform.calculatePosMatrix(de.tileID.toUnwrapped(),Ft),u_image:0,u_latrange:(tt=de.tileID,lt=Math.pow(2,tt.canonical.z),dt=tt.canonical.y,[new a.MercatorCoordinate(0,dt/lt).toLngLat().lat,new a.MercatorCoordinate(0,(dt+1)/lt).toLngLat().lat]),u_light:[Ce.paint.get("hillshade-exaggeration"),Je],u_shadow:ze,u_highlight:Ve,u_accent:We}}(j,X,G);Tt.draw(He,Ze.TRIANGLES,ie,be,Ie,Ue.disabled,Mt,G.id,j.rasterBoundsBuffer,j.quadTriangleIndexBuffer,j.rasterBoundsSegments)}}function Tl(j,X,G,ie,be,Ie,He){var Ze=j.context,at=Ze.gl,Tt=X.dem;if(Tt&&Tt.data){var Mt=Tt.dim,re=Tt.stride,de=Tt.getPixels();if(Ze.activeTexture.set(at.TEXTURE1),Ze.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||j.getTileTexture(re),X.demTexture){var Ce=X.demTexture;Ce.update(de,{premultiply:!1}),Ce.bind(at.NEAREST,at.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(Ze,de,at.RGBA,{premultiply:!1}),X.demTexture.bind(at.NEAREST,at.CLAMP_TO_EDGE);Ze.activeTexture.set(at.TEXTURE0);var ze=X.fbo;if(!ze){var Ve=new a.Texture(Ze,{width:Mt,height:Mt,data:null},at.RGBA);Ve.bind(at.LINEAR,at.CLAMP_TO_EDGE),(ze=X.fbo=Ze.createFramebuffer(Mt,Mt,!0)).colorAttachment.set(Ve.texture)}Ze.bindFramebuffer.set(ze.framebuffer),Ze.viewport.set([0,0,Mt,Mt]),j.useProgram("hillshadePrepare").draw(Ze,at.TRIANGLES,be,Ie,He,Ue.disabled,function(We,Je,tt){var lt=Je.stride,dt=a.create();return a.ortho(dt,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(dt,dt,[0,-a.EXTENT,0]),{u_matrix:dt,u_image:1,u_dimension:[lt,lt],u_zoom:We.overscaledZ,u_maxzoom:tt,u_unpack:Je.getUnpackVector()}}(X.tileID,Tt,ie),G.id,j.rasterBoundsBuffer,j.quadTriangleIndexBuffer,j.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function fo(j,X,G,ie,be){var Ie=ie.paint.get("raster-fade-duration");if(Ie>0){var He=a.browser.now(),Ze=(He-j.timeAdded)/Ie,at=X?(He-X.timeAdded)/Ie:-1,Tt=G.getSource(),Mt=be.coveringZoomLevel({tileSize:Tt.tileSize,roundZoom:Tt.roundZoom}),re=!X||Math.abs(X.tileID.overscaledZ-Mt)>Math.abs(j.tileID.overscaledZ-Mt),de=re&&j.refreshedUponExpiration?1:a.clamp(re?Ze:1-at,0,1);return j.refreshedUponExpiration&&Ze>=1&&(j.refreshedUponExpiration=!1),X?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}var Al=new a.Color(1,0,0,1),Ml=new a.Color(0,1,0,1),iu=new a.Color(0,0,1,1),ms=new a.Color(1,0,1,1),Sl=new a.Color(0,1,1,1);function El(j){var X=j.transform.padding;au(j,j.transform.height-(X.top||0),3,Al),au(j,X.bottom||0,3,Ml),Ia(j,X.left||0,3,iu),Ia(j,j.transform.width-(X.right||0),3,ms);var G=j.transform.centerPoint;(function(ie,be,Ie,He){var Ze=20,at=2;po(ie,be-at/2,Ie-Ze/2,at,Ze,He),po(ie,be-Ze/2,Ie-at/2,Ze,at,He)})(j,G.x,j.transform.height-G.y,Sl)}function au(j,X,G,ie){po(j,0,X+G/2,j.transform.width,G,ie)}function Ia(j,X,G,ie){po(j,X-G/2,0,G,j.transform.height,ie)}function po(j,X,G,ie,be,Ie){var He=j.context,Ze=He.gl;Ze.enable(Ze.SCISSOR_TEST),Ze.scissor(X*a.browser.devicePixelRatio,G*a.browser.devicePixelRatio,ie*a.browser.devicePixelRatio,be*a.browser.devicePixelRatio),He.clear({color:Ie}),Ze.disable(Ze.SCISSOR_TEST)}function vs(j,X,G){var ie=j.context,be=ie.gl,Ie=G.posMatrix,He=j.useProgram("debug"),Ze=Wt.disabled,at=Ke.disabled,Tt=j.colorModeForRenderPass(),Mt="$debug";ie.activeTexture.set(be.TEXTURE0),j.emptyTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),He.draw(ie,be.LINE_STRIP,Ze,at,Tt,Ue.disabled,Yo(Ie,a.Color.red),Mt,j.debugBuffer,j.tileBorderIndexBuffer,j.debugSegments);var re=X.getTileByID(G.key).latestRawTileData,de=re&&re.byteLength||0,Ce=Math.floor(de/1024),ze=X.getTile(G).tileSize,Ve=512/Math.min(ze,512)*(G.overscaledZ/j.transform.zoom)*.5,We=G.canonical.toString();G.overscaledZ!==G.canonical.z&&(We+=" => "+G.overscaledZ),function(Je,tt){Je.initDebugOverlayCanvas();var lt=Je.debugOverlayCanvas,dt=Je.context.gl,Ft=Je.debugOverlayCanvas.getContext("2d");Ft.clearRect(0,0,lt.width,lt.height),Ft.shadowColor="white",Ft.shadowBlur=2,Ft.lineWidth=1.5,Ft.strokeStyle="white",Ft.textBaseline="top",Ft.font="bold 36px Open Sans, sans-serif",Ft.fillText(tt,5,5),Ft.strokeText(tt,5,5),Je.debugOverlayTexture.update(lt),Je.debugOverlayTexture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE)}(j,We+" "+Ce+"kb"),He.draw(ie,be.TRIANGLES,Ze,at,$e.alphaBlended,Ue.disabled,Yo(Ie,a.Color.transparent,Ve),Mt,j.debugBuffer,j.quadTriangleIndexBuffer,j.debugSegments)}var js={symbol:function(j,X,G,ie,be){if(j.renderPass==="translucent"){var Ie=Ke.disabled,He=j.colorModeForRenderPass();G.layout.get("text-variable-anchor")&&function(Ze,at,Tt,Mt,re,de,Ce){for(var ze=at.transform,Ve=re==="map",We=de==="map",Je=0,tt=Ze;Je<tt.length;Je+=1){var lt=tt[Je],dt=Mt.getTile(lt),Ft=dt.getBucket(Tt);if(Ft&&Ft.text&&Ft.text.segments.get().length){var Ut=Ft.textSizeData,qt=a.evaluateSizeForZoom(Ut,ze.zoom),nn=xr(dt,1,at.transform.zoom),yn=Xn(lt.posMatrix,We,Ve,at.transform,nn),rn=Tt.layout.get("icon-text-fit")!=="none"&&Ft.hasIconData();if(qt){var cn=Math.pow(2,ze.zoom-dt.tileID.overscaledZ);zs(Ft,Ve,We,Ce,a.symbolSize,ze,yn,lt.posMatrix,cn,qt,rn)}}}}(ie,j,G,X,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),be),G.paint.get("icon-opacity").constantOr(1)!==0&&Fs(j,X,G,ie,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),Ie,He),G.paint.get("text-opacity").constantOr(1)!==0&&Fs(j,X,G,ie,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),Ie,He),X.map.showCollisionBoxes&&(al(j,X,G,ie,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),al(j,X,G,ie,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))}},circle:function(j,X,G,ie){if(j.renderPass==="translucent"){var be=G.paint.get("circle-opacity"),Ie=G.paint.get("circle-stroke-width"),He=G.paint.get("circle-stroke-opacity"),Ze=G.layout.get("circle-sort-key").constantOr(1)!==void 0;if(be.constantOr(1)!==0||Ie.constantOr(1)!==0&&He.constantOr(1)!==0){for(var at=j.context,Tt=at.gl,Mt=j.depthModeForSublayer(0,Wt.ReadOnly),re=Ke.disabled,de=j.colorModeForRenderPass(),Ce=[],ze=0;ze<ie.length;ze++){var Ve=ie[ze],We=X.getTile(Ve),Je=We.getBucket(G);if(Je){var tt=Je.programConfigurations.get(G.id),lt={programConfiguration:tt,program:j.useProgram("circle",tt),layoutVertexBuffer:Je.layoutVertexBuffer,indexBuffer:Je.indexBuffer,uniformValues:eu(j,Ve,We,G)};if(Ze)for(var dt=0,Ft=Je.segments.get();dt<Ft.length;dt+=1){var Ut=Ft[dt];Ce.push({segments:new a.SegmentVector([Ut]),sortKey:Ut.sortKey,state:lt})}else Ce.push({segments:Je.segments,sortKey:0,state:lt})}}Ze&&Ce.sort(function(Wn,tr){return Wn.sortKey-tr.sortKey});for(var qt=0,nn=Ce;qt<nn.length;qt+=1){var yn=nn[qt],rn=yn.state,cn=rn.programConfiguration,sn=rn.program,Ln=rn.layoutVertexBuffer,wn=rn.indexBuffer,ln=rn.uniformValues,Bn=yn.segments;sn.draw(at,Tt.TRIANGLES,Mt,re,de,Ue.disabled,ln,G.id,Ln,wn,Bn,G.paint,j.transform.zoom,cn)}}}},heatmap:function(j,X,G,ie){if(G.paint.get("heatmap-opacity")!==0)if(j.renderPass==="offscreen"){var be=j.context,Ie=be.gl,He=Ke.disabled,Ze=new $e([Ie.ONE,Ie.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Ve,We,Je){var tt=Ve.gl;Ve.activeTexture.set(tt.TEXTURE1),Ve.viewport.set([0,0,We.width/4,We.height/4]);var lt=Je.heatmapFbo;if(lt)tt.bindTexture(tt.TEXTURE_2D,lt.colorAttachment.get()),Ve.bindFramebuffer.set(lt.framebuffer);else{var dt=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,dt),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,tt.LINEAR),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,tt.LINEAR),lt=Je.heatmapFbo=Ve.createFramebuffer(We.width/4,We.height/4,!1),function(Ft,Ut,qt,nn){var yn=Ft.gl,rn=Ft.extRenderToTextureHalfFloat?Ft.extTextureHalfFloat.HALF_FLOAT_OES:yn.UNSIGNED_BYTE;yn.texImage2D(yn.TEXTURE_2D,0,yn.RGBA,Ut.width/4,Ut.height/4,0,yn.RGBA,rn,null),nn.colorAttachment.set(qt)}(Ve,We,dt,lt)}})(be,j,G),be.clear({color:a.Color.transparent});for(var at=0;at<ie.length;at++){var Tt=ie[at];if(!X.hasRenderableParent(Tt)){var Mt=X.getTile(Tt),re=Mt.getBucket(G);if(re){var de=re.programConfigurations.get(G.id),Ce=j.useProgram("heatmap",de),ze=j.transform.zoom;Ce.draw(be,Ie.TRIANGLES,Wt.disabled,He,Ze,Ue.disabled,rl(Tt.posMatrix,Mt,ze,G.paint.get("heatmap-intensity")),G.id,re.layoutVertexBuffer,re.indexBuffer,re.segments,G.paint,j.transform.zoom,de)}}}be.viewport.set([0,0,j.width,j.height])}else j.renderPass==="translucent"&&(j.context.setColorMode(j.colorModeForRenderPass()),function(Ve,We){var Je=Ve.context,tt=Je.gl,lt=We.heatmapFbo;if(lt){Je.activeTexture.set(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,lt.colorAttachment.get()),Je.activeTexture.set(tt.TEXTURE1);var dt=We.colorRampTexture;dt||(dt=We.colorRampTexture=new a.Texture(Je,We.colorRamp,tt.RGBA)),dt.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),Ve.useProgram("heatmapTexture").draw(Je,tt.TRIANGLES,Wt.disabled,Ke.disabled,Ve.colorModeForRenderPass(),Ue.disabled,function(Ft,Ut,qt,nn){var yn=a.create();a.ortho(yn,0,Ft.width,Ft.height,0,0,1);var rn=Ft.context.gl;return{u_matrix:yn,u_world:[rn.drawingBufferWidth,rn.drawingBufferHeight],u_image:qt,u_color_ramp:nn,u_opacity:Ut.paint.get("heatmap-opacity")}}(Ve,We,0,1),We.id,Ve.viewportBuffer,Ve.quadTriangleIndexBuffer,Ve.viewportSegments,We.paint,Ve.transform.zoom)}}(j,G))},line:function(j,X,G,ie){if(j.renderPass==="translucent"){var be=G.paint.get("line-opacity"),Ie=G.paint.get("line-width");if(be.constantOr(1)!==0&&Ie.constantOr(1)!==0){var He=j.depthModeForSublayer(0,Wt.ReadOnly),Ze=j.colorModeForRenderPass(),at=G.paint.get("line-dasharray"),Tt=G.paint.get("line-pattern"),Mt=Tt.constantOr(1),re=G.paint.get("line-gradient"),de=G.getCrossfadeParameters(),Ce=Mt?"linePattern":at?"lineSDF":re?"lineGradient":"line",ze=j.context,Ve=ze.gl,We=!0;if(re){ze.activeTexture.set(Ve.TEXTURE0);var Je=G.gradientTexture;if(!G.gradient)return;Je||(Je=G.gradientTexture=new a.Texture(ze,G.gradient,Ve.RGBA)),Je.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE)}for(var tt=0,lt=ie;tt<lt.length;tt+=1){var dt=lt[tt],Ft=X.getTile(dt);if(!Mt||Ft.patternsLoaded()){var Ut=Ft.getBucket(G);if(Ut){var qt=Ut.programConfigurations.get(G.id),nn=j.context.program.get(),yn=j.useProgram(Ce,qt),rn=We||yn.program!==nn,cn=Tt.constantOr(null);if(cn&&Ft.imageAtlas){var sn=Ft.imageAtlas,Ln=sn.patternPositions[cn.to.toString()],wn=sn.patternPositions[cn.from.toString()];Ln&&wn&&qt.setConstantPatternPositions(Ln,wn)}var ln=Mt?nu(j,Ft,G,de):at?Is(j,Ft,G,at,de):re?Bi(j,Ft,G):zo(j,Ft,G);Mt?(ze.activeTexture.set(Ve.TEXTURE0),Ft.imageAtlasTexture.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE),qt.updatePaintBuffers(de)):at&&(rn||j.lineAtlas.dirty)&&(ze.activeTexture.set(Ve.TEXTURE0),j.lineAtlas.bind(ze)),yn.draw(ze,Ve.TRIANGLES,He,j.stencilModeForClipping(dt),Ze,Ue.disabled,ln,G.id,Ut.layoutVertexBuffer,Ut.indexBuffer,Ut.segments,G.paint,j.transform.zoom,qt),We=!1}}}}}},fill:function(j,X,G,ie){var be=G.paint.get("fill-color"),Ie=G.paint.get("fill-opacity");if(Ie.constantOr(1)!==0){var He=j.colorModeForRenderPass(),Ze=G.paint.get("fill-pattern"),at=j.opaquePassEnabledForLayer()&&!Ze.constantOr(1)&&be.constantOr(a.Color.transparent).a===1&&Ie.constantOr(0)===1?"opaque":"translucent";if(j.renderPass===at){var Tt=j.depthModeForSublayer(1,j.renderPass==="opaque"?Wt.ReadWrite:Wt.ReadOnly);Bs(j,X,G,ie,Tt,He,!1)}if(j.renderPass==="translucent"&&G.paint.get("fill-antialias")){var Mt=j.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Wt.ReadOnly);Bs(j,X,G,ie,Mt,He,!0)}}},"fill-extrusion":function(j,X,G,ie){var be=G.paint.get("fill-extrusion-opacity");if(be!==0&&j.renderPass==="translucent"){var Ie=new Wt(j.context.gl.LEQUAL,Wt.ReadWrite,j.depthRangeFor3D);if(be!==1||G.paint.get("fill-extrusion-pattern").constantOr(1))ol(j,X,G,ie,Ie,Ke.disabled,$e.disabled),ol(j,X,G,ie,Ie,j.stencilModeFor3D(),j.colorModeForRenderPass());else{var He=j.colorModeForRenderPass();ol(j,X,G,ie,Ie,Ke.disabled,He)}}},hillshade:function(j,X,G,ie){if(j.renderPass==="offscreen"||j.renderPass==="translucent"){for(var be=j.context,Ie=X.getSource().maxzoom,He=j.depthModeForSublayer(0,Wt.ReadOnly),Ze=j.colorModeForRenderPass(),at=j.renderPass==="translucent"?j.stencilConfigForOverlap(ie):[{},ie],Tt=at[0],Mt=0,re=at[1];Mt<re.length;Mt+=1){var de=re[Mt],Ce=X.getTile(de);Ce.needsHillshadePrepare&&j.renderPass==="offscreen"?Tl(j,Ce,G,Ie,He,Ke.disabled,Ze):j.renderPass==="translucent"&&kl(j,Ce,G,He,Tt[de.overscaledZ],Ze)}be.viewport.set([0,0,j.width,j.height])}},raster:function(j,X,G,ie){if(j.renderPass==="translucent"&&G.paint.get("raster-opacity")!==0&&ie.length)for(var be=j.context,Ie=be.gl,He=X.getSource(),Ze=j.useProgram("raster"),at=j.colorModeForRenderPass(),Tt=He instanceof U?[{},ie]:j.stencilConfigForOverlap(ie),Mt=Tt[0],re=Tt[1],de=re[re.length-1].overscaledZ,Ce=!j.options.moving,ze=0,Ve=re;ze<Ve.length;ze+=1){var We=Ve[ze],Je=j.depthModeForSublayer(We.overscaledZ-de,G.paint.get("raster-opacity")===1?Wt.ReadWrite:Wt.ReadOnly,Ie.LESS),tt=X.getTile(We),lt=j.transform.calculatePosMatrix(We.toUnwrapped(),Ce);tt.registerFadeDuration(G.paint.get("raster-fade-duration"));var dt=X.findLoadedParent(We,0),Ft=fo(tt,dt,X,G,j.transform),Ut=void 0,qt=void 0,nn=G.paint.get("raster-resampling")==="nearest"?Ie.NEAREST:Ie.LINEAR;be.activeTexture.set(Ie.TEXTURE0),tt.texture.bind(nn,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST),be.activeTexture.set(Ie.TEXTURE1),dt?(dt.texture.bind(nn,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST),Ut=Math.pow(2,dt.tileID.overscaledZ-tt.tileID.overscaledZ),qt=[tt.tileID.canonical.x*Ut%1,tt.tileID.canonical.y*Ut%1]):tt.texture.bind(nn,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST);var yn=il(lt,qt||[0,0],Ut||1,Ft,G);He instanceof U?Ze.draw(be,Ie.TRIANGLES,Je,Ke.disabled,at,Ue.disabled,yn,G.id,He.boundsBuffer,j.quadTriangleIndexBuffer,He.boundsSegments):Ze.draw(be,Ie.TRIANGLES,Je,Mt[We.overscaledZ],at,Ue.disabled,yn,G.id,j.rasterBoundsBuffer,j.quadTriangleIndexBuffer,j.rasterBoundsSegments)}},background:function(j,X,G){var ie=G.paint.get("background-color"),be=G.paint.get("background-opacity");if(be!==0){var Ie=j.context,He=Ie.gl,Ze=j.transform,at=Ze.tileSize,Tt=G.paint.get("background-pattern");if(!j.isPatternMissing(Tt)){var Mt=!Tt&&ie.a===1&&be===1&&j.opaquePassEnabledForLayer()?"opaque":"translucent";if(j.renderPass===Mt){var re=Ke.disabled,de=j.depthModeForSublayer(0,Mt==="opaque"?Wt.ReadWrite:Wt.ReadOnly),Ce=j.colorModeForRenderPass(),ze=j.useProgram(Tt?"backgroundPattern":"background"),Ve=Ze.coveringTiles({tileSize:at});Tt&&(Ie.activeTexture.set(He.TEXTURE0),j.imageManager.bind(j.context));for(var We=G.getCrossfadeParameters(),Je=0,tt=Ve;Je<tt.length;Je+=1){var lt=tt[Je],dt=j.transform.calculatePosMatrix(lt.toUnwrapped()),Ft=Tt?ds(dt,be,j,Tt,{tileID:lt,tileSize:at},We):Rs(dt,be,ie);ze.draw(Ie,He.TRIANGLES,de,re,Ce,Ue.disabled,Ft,G.id,j.tileExtentBuffer,j.quadTriangleIndexBuffer,j.tileExtentSegments)}}}}},debug:function(j,X,G){for(var ie=0;ie<G.length;ie++)vs(j,X,G[ie])},custom:function(j,X,G){var ie=j.context,be=G.implementation;if(j.renderPass==="offscreen"){var Ie=be.prerender;Ie&&(j.setCustomLayerDefaults(),ie.setColorMode(j.colorModeForRenderPass()),Ie.call(be,ie.gl,j.transform.customLayerMatrix()),ie.setDirty(),j.setBaseState())}else if(j.renderPass==="translucent"){j.setCustomLayerDefaults(),ie.setColorMode(j.colorModeForRenderPass()),ie.setStencilMode(Ke.disabled);var He=be.renderingMode==="3d"?new Wt(j.context.gl.LEQUAL,Wt.ReadWrite,j.depthRangeFor3D):j.depthModeForSublayer(0,Wt.ReadOnly);ie.setDepthMode(He),be.render(ie.gl,j.transform.customLayerMatrix()),ie.setDirty(),j.setBaseState(),ie.bindFramebuffer.set(null)}}},Mi=function(j,X){this.context=new nt(j),this.transform=X,this._tileTextures={},this.setup(),this.numSublayers=ct.maxUnderzooming+ct.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new rr,this.gpuTimers={}};Mi.prototype.resize=function(j,X){if(this.width=j*a.browser.devicePixelRatio,this.height=X*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var G=0,ie=this.style._order;G<ie.length;G+=1){var be=ie[G];this.style._layers[be].resize()}},Mi.prototype.setup=function(){var j=this.context,X=new a.StructArrayLayout2i4;X.emplaceBack(0,0),X.emplaceBack(a.EXTENT,0),X.emplaceBack(0,a.EXTENT),X.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=j.createVertexBuffer(X,br.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var G=new a.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(a.EXTENT,0),G.emplaceBack(0,a.EXTENT),G.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=j.createVertexBuffer(G,br.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ie=new a.StructArrayLayout4i8;ie.emplaceBack(0,0,0,0),ie.emplaceBack(a.EXTENT,0,a.EXTENT,0),ie.emplaceBack(0,a.EXTENT,0,a.EXTENT),ie.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=j.createVertexBuffer(ie,B.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var be=new a.StructArrayLayout2i4;be.emplaceBack(0,0),be.emplaceBack(1,0),be.emplaceBack(0,1),be.emplaceBack(1,1),this.viewportBuffer=j.createVertexBuffer(be,br.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ie=new a.StructArrayLayout1ui2;Ie.emplaceBack(0),Ie.emplaceBack(1),Ie.emplaceBack(3),Ie.emplaceBack(2),Ie.emplaceBack(0),this.tileBorderIndexBuffer=j.createIndexBuffer(Ie);var He=new a.StructArrayLayout3ui6;He.emplaceBack(0,1,2),He.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=j.createIndexBuffer(He),this.emptyTexture=new a.Texture(j,{width:1,height:1,data:new Uint8Array([0,0,0,0])},j.gl.RGBA);var Ze=this.context.gl;this.stencilClearMode=new Ke({func:Ze.ALWAYS,mask:0},0,255,Ze.ZERO,Ze.ZERO,Ze.ZERO)},Mi.prototype.clearStencil=function(){var j=this.context,X=j.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var G=a.create();a.ortho(G,0,this.width,this.height,0,0,1),a.scale(G,G,[X.drawingBufferWidth,X.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(j,X.TRIANGLES,Wt.disabled,this.stencilClearMode,$e.disabled,Ue.disabled,Ro(G),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Mi.prototype._renderTileClippingMasks=function(j,X){if(this.currentStencilSource!==j.source&&j.isTileClipped()&&X&&X.length){this.currentStencilSource=j.source;var G=this.context,ie=G.gl;this.nextStencilID+X.length>256&&this.clearStencil(),G.setColorMode($e.disabled),G.setDepthMode(Wt.disabled);var be=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ie=0,He=X;Ie<He.length;Ie+=1){var Ze=He[Ie],at=this._tileClippingMaskIDs[Ze.key]=this.nextStencilID++;be.draw(G,ie.TRIANGLES,Wt.disabled,new Ke({func:ie.ALWAYS,mask:0},at,255,ie.KEEP,ie.KEEP,ie.REPLACE),$e.disabled,Ue.disabled,Ro(Ze.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Mi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var j=this.nextStencilID++,X=this.context.gl;return new Ke({func:X.NOTEQUAL,mask:255},j,255,X.KEEP,X.KEEP,X.REPLACE)},Mi.prototype.stencilModeForClipping=function(j){var X=this.context.gl;return new Ke({func:X.EQUAL,mask:255},this._tileClippingMaskIDs[j.key],0,X.KEEP,X.KEEP,X.REPLACE)},Mi.prototype.stencilConfigForOverlap=function(j){var X,G=this.context.gl,ie=j.sort(function(at,Tt){return Tt.overscaledZ-at.overscaledZ}),be=ie[ie.length-1].overscaledZ,Ie=ie[0].overscaledZ-be+1;if(Ie>1){this.currentStencilSource=void 0,this.nextStencilID+Ie>256&&this.clearStencil();for(var He={},Ze=0;Ze<Ie;Ze++)He[Ze+be]=new Ke({func:G.GEQUAL,mask:255},Ze+this.nextStencilID,255,G.KEEP,G.KEEP,G.REPLACE);return this.nextStencilID+=Ie,[He,ie]}return[(X={},X[be]=Ke.disabled,X),ie]},Mi.prototype.colorModeForRenderPass=function(){var j=this.context.gl;if(this._showOverdrawInspector){var X=.125;return new $e([j.CONSTANT_COLOR,j.ONE],new a.Color(X,X,X,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?$e.unblended:$e.alphaBlended},Mi.prototype.depthModeForSublayer=function(j,X,G){if(!this.opaquePassEnabledForLayer())return Wt.disabled;var ie=1-((1+this.currentLayer)*this.numSublayers+j)*this.depthEpsilon;return new Wt(G||this.context.gl.LEQUAL,X,[ie,ie])},Mi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Mi.prototype.render=function(j,X){var G=this;this.style=j,this.options=X,this.lineAtlas=j.lineAtlas,this.imageManager=j.imageManager,this.glyphManager=j.glyphManager,this.symbolFadeChange=j.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ie=this.style._order,be=this.style.sourceCaches;for(var Ie in be){var He=be[Ie];He.used&&He.prepare(this.context)}var Ze,at,Tt={},Mt={},re={};for(var de in be){var Ce=be[de];Tt[de]=Ce.getVisibleCoordinates(),Mt[de]=Tt[de].slice().reverse(),re[de]=Ce.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ze=0;ze<ie.length;ze++){var Ve=ie[ze];if(this.style._layers[Ve].is3D()){this.opaquePassCutoff=ze;break}}this.renderPass="offscreen";for(var We=0,Je=ie;We<Je.length;We+=1){var tt=Je[We],lt=this.style._layers[tt];if(lt.hasOffscreenPass()&&!lt.isHidden(this.transform.zoom)){var dt=Mt[lt.source];(lt.type==="custom"||dt.length)&&this.renderLayer(this,be[lt.source],lt,dt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:X.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=X.showOverdrawInspector,this.depthRangeFor3D=[0,1-(j._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ie.length-1;this.currentLayer>=0;this.currentLayer--){var Ft=this.style._layers[ie[this.currentLayer]],Ut=be[Ft.source],qt=Tt[Ft.source];this._renderTileClippingMasks(Ft,qt),this.renderLayer(this,Ut,Ft,qt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ie.length;this.currentLayer++){var nn=this.style._layers[ie[this.currentLayer]],yn=be[nn.source],rn=(nn.type==="symbol"?re:Mt)[nn.source];this._renderTileClippingMasks(nn,Tt[nn.source]),this.renderLayer(this,yn,nn,rn)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(cn){cn.source&&!cn.isHidden(G.transform.zoom)&&(cn.source!==(at&&at.id)&&(at=G.style.sourceCaches[cn.source]),(!Ze||Ze.getSource().maxzoom<at.getSource().maxzoom)&&(Ze=at))}),Ze&&js.debug(this,Ze,Ze.getVisibleCoordinates())),this.options.showPadding&&El(this),this.context.setDefault()},Mi.prototype.renderLayer=function(j,X,G,ie){G.isHidden(this.transform.zoom)||(G.type==="background"||G.type==="custom"||ie.length)&&(this.id=G.id,this.gpuTimingStart(G),js[G.type](j,X,G,ie,this.style.placement.variableOffsets),this.gpuTimingEnd())},Mi.prototype.gpuTimingStart=function(j){if(this.options.gpuTiming){var X=this.context.extTimerQuery,G=this.gpuTimers[j.id];G||(G=this.gpuTimers[j.id]={calls:0,cpuTime:0,query:X.createQueryEXT()}),G.calls++,X.beginQueryEXT(X.TIME_ELAPSED_EXT,G.query)}},Mi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var j=this.context.extTimerQuery;j.endQueryEXT(j.TIME_ELAPSED_EXT)}},Mi.prototype.collectGpuTimers=function(){var j=this.gpuTimers;return this.gpuTimers={},j},Mi.prototype.queryGpuTimers=function(j){var X={};for(var G in j){var ie=j[G],be=this.context.extTimerQuery,Ie=be.getQueryObjectEXT(ie.query,be.QUERY_RESULT_EXT)/1e6;be.deleteQueryEXT(ie.query),X[G]=Ie}return X},Mi.prototype.translatePosMatrix=function(j,X,G,ie,be){if(!G[0]&&!G[1])return j;var Ie=be?ie==="map"?this.transform.angle:0:ie==="viewport"?-this.transform.angle:0;if(Ie){var He=Math.sin(Ie),Ze=Math.cos(Ie);G=[G[0]*Ze-G[1]*He,G[0]*He+G[1]*Ze]}var at=[be?G[0]:xr(X,G[0],this.transform.zoom),be?G[1]:xr(X,G[1],this.transform.zoom),0],Tt=new Float32Array(16);return a.translate(Tt,j,at),Tt},Mi.prototype.saveTileTexture=function(j){var X=this._tileTextures[j.size[0]];X?X.push(j):this._tileTextures[j.size[0]]=[j]},Mi.prototype.getTileTexture=function(j){var X=this._tileTextures[j];return X&&X.length>0?X.pop():null},Mi.prototype.isPatternMissing=function(j){if(!j)return!1;if(!j.from||!j.to)return!0;var X=this.imageManager.getPattern(j.from.toString()),G=this.imageManager.getPattern(j.to.toString());return!X||!G},Mi.prototype.useProgram=function(j,X){this.cache=this.cache||{};var G=""+j+(X?X.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[G]||(this.cache[G]=new To(this.context,fs[j],X,Zo[j],this._showOverdrawInspector)),this.cache[G]},Mi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Mi.prototype.setBaseState=function(){var j=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(j.FUNC_ADD)},Mi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var j=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,j.RGBA)}},Mi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Xo=function(j,X){this.points=j,this.planes=X};Xo.fromInvProjectionMatrix=function(j,X,G){var ie=Math.pow(2,G),be=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(He){return a.transformMat4([],He,j)}).map(function(He){return a.scale$1([],He,1/He[3]/X*ie)}),Ie=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(He){var Ze=a.sub([],be[He[0]],be[He[1]]),at=a.sub([],be[He[2]],be[He[1]]),Tt=a.normalize([],a.cross([],Ze,at)),Mt=-a.dot(Tt,be[He[1]]);return Tt.concat(Mt)});return new Xo(be,Ie)};var ys=function(j,X){this.min=j,this.max=X,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};ys.prototype.quadrant=function(j){for(var X=[j%2==0,j<2],G=a.clone$2(this.min),ie=a.clone$2(this.max),be=0;be<X.length;be++)G[be]=X[be]?this.min[be]:this.center[be],ie[be]=X[be]?this.center[be]:this.max[be];return ie[2]=this.max[2],new ys(G,ie)},ys.prototype.distanceX=function(j){return Math.max(Math.min(this.max[0],j[0]),this.min[0])-j[0]},ys.prototype.distanceY=function(j){return Math.max(Math.min(this.max[1],j[1]),this.min[1])-j[1]},ys.prototype.intersects=function(j){for(var X=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],G=!0,ie=0;ie<j.planes.length;ie++){for(var be=j.planes[ie],Ie=0,He=0;He<X.length;He++)Ie+=a.dot$1(be,X[He])>=0;if(Ie===0)return 0;Ie!==X.length&&(G=!1)}if(G)return 2;for(var Ze=0;Ze<3;Ze++){for(var at=Number.MAX_VALUE,Tt=-Number.MAX_VALUE,Mt=0;Mt<j.points.length;Mt++){var re=j.points[Mt][Ze]-this.min[Ze];at=Math.min(at,re),Tt=Math.max(Tt,re)}if(Tt<0||at>this.max[Ze]-this.min[Ze])return 0}return 1};var wa=function(j,X,G,ie){if(j===void 0&&(j=0),X===void 0&&(X=0),G===void 0&&(G=0),ie===void 0&&(ie=0),isNaN(j)||j<0||isNaN(X)||X<0||isNaN(G)||G<0||isNaN(ie)||ie<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=j,this.bottom=X,this.left=G,this.right=ie};wa.prototype.interpolate=function(j,X,G){return X.top!=null&&j.top!=null&&(this.top=a.number(j.top,X.top,G)),X.bottom!=null&&j.bottom!=null&&(this.bottom=a.number(j.bottom,X.bottom,G)),X.left!=null&&j.left!=null&&(this.left=a.number(j.left,X.left,G)),X.right!=null&&j.right!=null&&(this.right=a.number(j.right,X.right,G)),this},wa.prototype.getCenter=function(j,X){var G=a.clamp((this.left+j-this.right)/2,0,j),ie=a.clamp((this.top+X-this.bottom)/2,0,X);return new a.Point(G,ie)},wa.prototype.equals=function(j){return this.top===j.top&&this.bottom===j.bottom&&this.left===j.left&&this.right===j.right},wa.prototype.clone=function(){return new wa(this.top,this.bottom,this.left,this.right)},wa.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var hi=function(j,X,G,ie,be){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=be===void 0||be,this._minZoom=j||0,this._maxZoom=X||22,this._minPitch=G??0,this._maxPitch=ie??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wa,this._posMatrixCache={},this._alignedPosMatrixCache={}},mi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};hi.prototype.clone=function(){var j=new hi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return j.tileSize=this.tileSize,j.latRange=this.latRange,j.width=this.width,j.height=this.height,j._center=this._center,j.zoom=this.zoom,j.angle=this.angle,j._fov=this._fov,j._pitch=this._pitch,j._unmodified=this._unmodified,j._edgeInsets=this._edgeInsets.clone(),j._calcMatrices(),j},mi.minZoom.get=function(){return this._minZoom},mi.minZoom.set=function(j){this._minZoom!==j&&(this._minZoom=j,this.zoom=Math.max(this.zoom,j))},mi.maxZoom.get=function(){return this._maxZoom},mi.maxZoom.set=function(j){this._maxZoom!==j&&(this._maxZoom=j,this.zoom=Math.min(this.zoom,j))},mi.minPitch.get=function(){return this._minPitch},mi.minPitch.set=function(j){this._minPitch!==j&&(this._minPitch=j,this.pitch=Math.max(this.pitch,j))},mi.maxPitch.get=function(){return this._maxPitch},mi.maxPitch.set=function(j){this._maxPitch!==j&&(this._maxPitch=j,this.pitch=Math.min(this.pitch,j))},mi.renderWorldCopies.get=function(){return this._renderWorldCopies},mi.renderWorldCopies.set=function(j){j===void 0?j=!0:j===null&&(j=!1),this._renderWorldCopies=j},mi.worldSize.get=function(){return this.tileSize*this.scale},mi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},mi.size.get=function(){return new a.Point(this.width,this.height)},mi.bearing.get=function(){return-this.angle/Math.PI*180},mi.bearing.set=function(j){var X=-a.wrap(j,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},mi.pitch.get=function(){return this._pitch/Math.PI*180},mi.pitch.set=function(j){var X=a.clamp(j,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},mi.fov.get=function(){return this._fov/Math.PI*180},mi.fov.set=function(j){j=Math.max(.01,Math.min(60,j)),this._fov!==j&&(this._unmodified=!1,this._fov=j/180*Math.PI,this._calcMatrices())},mi.zoom.get=function(){return this._zoom},mi.zoom.set=function(j){var X=Math.min(Math.max(j,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},mi.center.get=function(){return this._center},mi.center.set=function(j){j.lat===this._center.lat&&j.lng===this._center.lng||(this._unmodified=!1,this._center=j,this._constrain(),this._calcMatrices())},mi.padding.get=function(){return this._edgeInsets.toJSON()},mi.padding.set=function(j){this._edgeInsets.equals(j)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,j,1),this._calcMatrices())},mi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},hi.prototype.isPaddingEqual=function(j){return this._edgeInsets.equals(j)},hi.prototype.interpolatePadding=function(j,X,G){this._unmodified=!1,this._edgeInsets.interpolate(j,X,G),this._constrain(),this._calcMatrices()},hi.prototype.coveringZoomLevel=function(j){var X=(j.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/j.tileSize));return Math.max(0,X)},hi.prototype.getVisibleUnwrappedCoordinates=function(j){var X=[new a.UnwrappedTileID(0,j)];if(this._renderWorldCopies)for(var G=this.pointCoordinate(new a.Point(0,0)),ie=this.pointCoordinate(new a.Point(this.width,0)),be=this.pointCoordinate(new a.Point(this.width,this.height)),Ie=this.pointCoordinate(new a.Point(0,this.height)),He=Math.floor(Math.min(G.x,ie.x,be.x,Ie.x)),Ze=Math.floor(Math.max(G.x,ie.x,be.x,Ie.x)),at=He-1;at<=Ze+1;at++)at!==0&&X.push(new a.UnwrappedTileID(at,j));return X},hi.prototype.coveringTiles=function(j){var X=this.coveringZoomLevel(j),G=X;if(j.minzoom!==void 0&&X<j.minzoom)return[];j.maxzoom!==void 0&&X>j.maxzoom&&(X=j.maxzoom);var ie=a.MercatorCoordinate.fromLngLat(this.center),be=Math.pow(2,X),Ie=[be*ie.x,be*ie.y,0],He=Xo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,X),Ze=j.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ze=X);var at=function(rn){return{aabb:new ys([rn*be,0,0],[(rn+1)*be,be,0]),zoom:0,x:0,y:0,wrap:rn,fullyVisible:!1}},Tt=[],Mt=[],re=X,de=j.reparseOverscaled?G:X;if(this._renderWorldCopies)for(var Ce=1;Ce<=3;Ce++)Tt.push(at(-Ce)),Tt.push(at(Ce));for(Tt.push(at(0));Tt.length>0;){var ze=Tt.pop(),Ve=ze.x,We=ze.y,Je=ze.fullyVisible;if(!Je){var tt=ze.aabb.intersects(He);if(tt===0)continue;Je=tt===2}var lt=ze.aabb.distanceX(Ie),dt=ze.aabb.distanceY(Ie),Ft=Math.max(Math.abs(lt),Math.abs(dt)),Ut=3+(1<<re-ze.zoom)-2;if(ze.zoom===re||Ft>Ut&&ze.zoom>=Ze)Mt.push({tileID:new a.OverscaledTileID(ze.zoom===re?de:ze.zoom,ze.wrap,ze.zoom,Ve,We),distanceSq:a.sqrLen([Ie[0]-.5-Ve,Ie[1]-.5-We])});else for(var qt=0;qt<4;qt++){var nn=(Ve<<1)+qt%2,yn=(We<<1)+(qt>>1);Tt.push({aabb:ze.aabb.quadrant(qt),zoom:ze.zoom+1,x:nn,y:yn,wrap:ze.wrap,fullyVisible:Je})}}return Mt.sort(function(rn,cn){return rn.distanceSq-cn.distanceSq}).map(function(rn){return rn.tileID})},hi.prototype.resize=function(j,X){this.width=j,this.height=X,this.pixelsToGLUnits=[2/j,-2/X],this._constrain(),this._calcMatrices()},mi.unmodified.get=function(){return this._unmodified},hi.prototype.zoomScale=function(j){return Math.pow(2,j)},hi.prototype.scaleZoom=function(j){return Math.log(j)/Math.LN2},hi.prototype.project=function(j){var X=a.clamp(j.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(j.lng)*this.worldSize,a.mercatorYfromLat(X)*this.worldSize)},hi.prototype.unproject=function(j){return new a.MercatorCoordinate(j.x/this.worldSize,j.y/this.worldSize).toLngLat()},mi.point.get=function(){return this.project(this.center)},hi.prototype.setLocationAtPoint=function(j,X){var G=this.pointCoordinate(X),ie=this.pointCoordinate(this.centerPoint),be=this.locationCoordinate(j),Ie=new a.MercatorCoordinate(be.x-(G.x-ie.x),be.y-(G.y-ie.y));this.center=this.coordinateLocation(Ie),this._renderWorldCopies&&(this.center=this.center.wrap())},hi.prototype.locationPoint=function(j){return this.coordinatePoint(this.locationCoordinate(j))},hi.prototype.pointLocation=function(j){return this.coordinateLocation(this.pointCoordinate(j))},hi.prototype.locationCoordinate=function(j){return a.MercatorCoordinate.fromLngLat(j)},hi.prototype.coordinateLocation=function(j){return j.toLngLat()},hi.prototype.pointCoordinate=function(j){var X=[j.x,j.y,0,1],G=[j.x,j.y,1,1];a.transformMat4(X,X,this.pixelMatrixInverse),a.transformMat4(G,G,this.pixelMatrixInverse);var ie=X[3],be=G[3],Ie=X[0]/ie,He=G[0]/be,Ze=X[1]/ie,at=G[1]/be,Tt=X[2]/ie,Mt=G[2]/be,re=Tt===Mt?0:(0-Tt)/(Mt-Tt);return new a.MercatorCoordinate(a.number(Ie,He,re)/this.worldSize,a.number(Ze,at,re)/this.worldSize)},hi.prototype.coordinatePoint=function(j){var X=[j.x*this.worldSize,j.y*this.worldSize,0,1];return a.transformMat4(X,X,this.pixelMatrix),new a.Point(X[0]/X[3],X[1]/X[3])},hi.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},hi.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},hi.prototype.setMaxBounds=function(j){j?(this.lngRange=[j.getWest(),j.getEast()],this.latRange=[j.getSouth(),j.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},hi.prototype.calculatePosMatrix=function(j,X){X===void 0&&(X=!1);var G=j.key,ie=X?this._alignedPosMatrixCache:this._posMatrixCache;if(ie[G])return ie[G];var be=j.canonical,Ie=this.worldSize/this.zoomScale(be.z),He=be.x+Math.pow(2,be.z)*j.wrap,Ze=a.identity(new Float64Array(16));return a.translate(Ze,Ze,[He*Ie,be.y*Ie,0]),a.scale(Ze,Ze,[Ie/a.EXTENT,Ie/a.EXTENT,1]),a.multiply(Ze,X?this.alignedProjMatrix:this.projMatrix,Ze),ie[G]=new Float32Array(Ze),ie[G]},hi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},hi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var j,X,G,ie,be=-90,Ie=90,He=-180,Ze=180,at=this.size,Tt=this._unmodified;if(this.latRange){var Mt=this.latRange;be=a.mercatorYfromLat(Mt[1])*this.worldSize,j=(Ie=a.mercatorYfromLat(Mt[0])*this.worldSize)-be<at.y?at.y/(Ie-be):0}if(this.lngRange){var re=this.lngRange;He=a.mercatorXfromLng(re[0])*this.worldSize,X=(Ze=a.mercatorXfromLng(re[1])*this.worldSize)-He<at.x?at.x/(Ze-He):0}var de=this.point,Ce=Math.max(X||0,j||0);if(Ce)return this.center=this.unproject(new a.Point(X?(Ze+He)/2:de.x,j?(Ie+be)/2:de.y)),this.zoom+=this.scaleZoom(Ce),this._unmodified=Tt,void(this._constraining=!1);if(this.latRange){var ze=de.y,Ve=at.y/2;ze-Ve<be&&(ie=be+Ve),ze+Ve>Ie&&(ie=Ie-Ve)}if(this.lngRange){var We=de.x,Je=at.x/2;We-Je<He&&(G=He+Je),We+Je>Ze&&(G=Ze-Je)}G===void 0&&ie===void 0||(this.center=this.unproject(new a.Point(G!==void 0?G:de.x,ie!==void 0?ie:de.y))),this._unmodified=Tt,this._constraining=!1}},hi.prototype._calcMatrices=function(){if(this.height){var j=this._fov/2,X=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(j)*this.height;var G=Math.PI/2+this._pitch,ie=this._fov*(.5+X.y/this.height),be=Math.sin(ie)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-G-ie,.01,Math.PI-.01)),Ie=this.point,He=Ie.x,Ze=Ie.y,at=1.01*(Math.cos(Math.PI/2-this._pitch)*be+this.cameraToCenterDistance),Tt=this.height/50,Mt=new Float64Array(16);a.perspective(Mt,this._fov,this.width/this.height,Tt,at),Mt[8]=2*-X.x/this.width,Mt[9]=2*X.y/this.height,a.scale(Mt,Mt,[1,-1,1]),a.translate(Mt,Mt,[0,0,-this.cameraToCenterDistance]),a.rotateX(Mt,Mt,this._pitch),a.rotateZ(Mt,Mt,this.angle),a.translate(Mt,Mt,[-He,-Ze,0]),this.mercatorMatrix=a.scale([],Mt,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Mt,Mt,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Mt,this.invProjMatrix=a.invert([],this.projMatrix);var re=this.width%2/2,de=this.height%2/2,Ce=Math.cos(this.angle),ze=Math.sin(this.angle),Ve=He-Math.round(He)+Ce*re+ze*de,We=Ze-Math.round(Ze)+Ce*de+ze*re,Je=new Float64Array(Mt);if(a.translate(Je,Je,[Ve>.5?Ve-1:Ve,We>.5?We-1:We,0]),this.alignedProjMatrix=Je,Mt=a.create(),a.scale(Mt,Mt,[this.width/2,-this.height/2,1]),a.translate(Mt,Mt,[1,-1,0]),this.labelPlaneMatrix=Mt,Mt=a.create(),a.scale(Mt,Mt,[1,-1,1]),a.translate(Mt,Mt,[-1,-1,0]),a.scale(Mt,Mt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Mt,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Mt=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Mt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},hi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var j=this.pointCoordinate(new a.Point(0,0)),X=[j.x*this.worldSize,j.y*this.worldSize,0,1];return a.transformMat4(X,X,this.pixelMatrix)[3]/this.cameraToCenterDistance},hi.prototype.getCameraPoint=function(){var j=this._pitch,X=Math.tan(j)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,X))},hi.prototype.getCameraQueryGeometry=function(j){var X=this.getCameraPoint();if(j.length===1)return[j[0],X];for(var G=X.x,ie=X.y,be=X.x,Ie=X.y,He=0,Ze=j;He<Ze.length;He+=1){var at=Ze[He];G=Math.min(G,at.x),ie=Math.min(ie,at.y),be=Math.max(be,at.x),Ie=Math.max(Ie,at.y)}return[new a.Point(G,ie),new a.Point(be,ie),new a.Point(be,Ie),new a.Point(G,Ie),new a.Point(G,ie)]},Object.defineProperties(hi.prototype,mi);var Jo=function(j){var X,G,ie,be,Ie;this._hashName=j&&encodeURIComponent(j),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(X=this._updateHashUnthrottled.bind(this),G=300,ie=!1,be=null,Ie=function(){be=null,ie&&(X(),be=setTimeout(Ie,G),ie=!1)},function(){return ie=!0,be||Ie(),be})};Jo.prototype.addTo=function(j){return this._map=j,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Jo.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Jo.prototype.getHashString=function(j){var X=this._map.getCenter(),G=Math.round(100*this._map.getZoom())/100,ie=Math.ceil((G*Math.LN2+Math.log(512/360/.5))/Math.LN10),be=Math.pow(10,ie),Ie=Math.round(X.lng*be)/be,He=Math.round(X.lat*be)/be,Ze=this._map.getBearing(),at=this._map.getPitch(),Tt="";if(Tt+=j?"/"+Ie+"/"+He+"/"+G:G+"/"+He+"/"+Ie,(Ze||at)&&(Tt+="/"+Math.round(10*Ze)/10),at&&(Tt+="/"+Math.round(at)),this._hashName){var Mt=this._hashName,re=!1,de=a.window.location.hash.slice(1).split("&").map(function(Ce){var ze=Ce.split("=")[0];return ze===Mt?(re=!0,ze+"="+Tt):Ce}).filter(function(Ce){return Ce});return re||de.push(Mt+"="+Tt),"#"+de.join("&")}return"#"+Tt},Jo.prototype._getCurrentHash=function(){var j,X=this,G=a.window.location.hash.replace("#","");return this._hashName?(G.split("&").map(function(ie){return ie.split("=")}).forEach(function(ie){ie[0]===X._hashName&&(j=ie)}),(j&&j[1]||"").split("/")):G.split("/")},Jo.prototype._onHashChange=function(){var j=this._getCurrentHash();if(j.length>=3&&!j.some(function(G){return isNaN(G)})){var X=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(j[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+j[2],+j[1]],zoom:+j[0],bearing:X,pitch:+(j[4]||0)}),!0}return!1},Jo.prototype._updateHashUnthrottled=function(){var j=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",j)}catch{}};var Fo={linearity:.3,easing:a.bezier(0,0,.3,1)},Fl=a.extend({deceleration:2500,maxSpeed:1400},Fo),ou=a.extend({deceleration:20,maxSpeed:1400},Fo),Us=a.extend({deceleration:1e3,maxSpeed:360},Fo),su=a.extend({deceleration:1e3,maxSpeed:90},Fo),Vs=function(j){this._map=j,this.clear()};function Ko(j,X){(!j.duration||j.duration<X.duration)&&(j.duration=X.duration,j.easing=X.easing)}function Hs(j,X,G){var ie=G.maxSpeed,be=G.linearity,Ie=G.deceleration,He=a.clamp(j*be/(X/1e3),-ie,ie),Ze=Math.abs(He)/(Ie*be);return{easing:G.easing,duration:1e3*Ze,amount:He*(Ze/2)}}Vs.prototype.clear=function(){this._inertiaBuffer=[]},Vs.prototype.record=function(j){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:j})},Vs.prototype._drainInertiaBuffer=function(){for(var j=this._inertiaBuffer,X=a.browser.now();j.length>0&&X-j[0].time>160;)j.shift()},Vs.prototype._onMoveEnd=function(j){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var X={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},G=0,ie=this._inertiaBuffer;G<ie.length;G+=1){var be=ie[G].settings;X.zoom+=be.zoomDelta||0,X.bearing+=be.bearingDelta||0,X.pitch+=be.pitchDelta||0,be.panDelta&&X.pan._add(be.panDelta),be.around&&(X.around=be.around),be.pinchAround&&(X.pinchAround=be.pinchAround)}var Ie=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,He={};if(X.pan.mag()){var Ze=Hs(X.pan.mag(),Ie,a.extend({},Fl,j||{}));He.offset=X.pan.mult(Ze.amount/X.pan.mag()),He.center=this._map.transform.center,Ko(He,Ze)}if(X.zoom){var at=Hs(X.zoom,Ie,ou);He.zoom=this._map.transform.zoom+at.amount,Ko(He,at)}if(X.bearing){var Tt=Hs(X.bearing,Ie,Us);He.bearing=this._map.transform.bearing+a.clamp(Tt.amount,-179,179),Ko(He,Tt)}if(X.pitch){var Mt=Hs(X.pitch,Ie,su);He.pitch=this._map.transform.pitch+Mt.amount,Ko(He,Mt)}if(He.zoom||He.bearing){var re=X.pinchAround===void 0?X.around:X.pinchAround;He.around=re?this._map.unproject(re):this._map.getCenter()}return this.clear(),a.extend(He,{noMoveStart:!0})}};var ji=function(j){function X(ie,be,Ie,He){He===void 0&&(He={});var Ze=y.mousePos(be.getCanvasContainer(),Ie),at=be.unproject(Ze);j.call(this,ie,a.extend({point:Ze,lngLat:at,originalEvent:Ie},He)),this._defaultPrevented=!1,this.target=be}j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X;var G={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,G),X}(a.Event),No=function(j){function X(ie,be,Ie){var He=ie==="touchend"?Ie.changedTouches:Ie.touches,Ze=y.touchPos(be.getCanvasContainer(),He),at=Ze.map(function(re){return be.unproject(re)}),Tt=Ze.reduce(function(re,de,Ce,ze){return re.add(de.div(ze.length))},new a.Point(0,0)),Mt=be.unproject(Tt);j.call(this,ie,{points:Ze,point:Tt,lngLats:at,lngLat:Mt,originalEvent:Ie}),this._defaultPrevented=!1}j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X;var G={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,G),X}(a.Event),qs=function(j){function X(ie,be,Ie){j.call(this,ie,{originalEvent:Ie}),this._defaultPrevented=!1}j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X;var G={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,G),X}(a.Event),aa=function(j,X){this._map=j,this._clickTolerance=X.clickTolerance};aa.prototype.reset=function(){delete this._mousedownPos},aa.prototype.wheel=function(j){return this._firePreventable(new qs(j.type,this._map,j))},aa.prototype.mousedown=function(j,X){return this._mousedownPos=X,this._firePreventable(new ji(j.type,this._map,j))},aa.prototype.mouseup=function(j){this._map.fire(new ji(j.type,this._map,j))},aa.prototype.click=function(j,X){this._mousedownPos&&this._mousedownPos.dist(X)>=this._clickTolerance||this._map.fire(new ji(j.type,this._map,j))},aa.prototype.dblclick=function(j){return this._firePreventable(new ji(j.type,this._map,j))},aa.prototype.mouseover=function(j){this._map.fire(new ji(j.type,this._map,j))},aa.prototype.mouseout=function(j){this._map.fire(new ji(j.type,this._map,j))},aa.prototype.touchstart=function(j){return this._firePreventable(new No(j.type,this._map,j))},aa.prototype.touchmove=function(j){this._map.fire(new No(j.type,this._map,j))},aa.prototype.touchend=function(j){this._map.fire(new No(j.type,this._map,j))},aa.prototype.touchcancel=function(j){this._map.fire(new No(j.type,this._map,j))},aa.prototype._firePreventable=function(j){if(this._map.fire(j),j.defaultPrevented)return{}},aa.prototype.isEnabled=function(){return!0},aa.prototype.isActive=function(){return!1},aa.prototype.enable=function(){},aa.prototype.disable=function(){};var ca=function(j){this._map=j};ca.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ca.prototype.mousemove=function(j){this._map.fire(new ji(j.type,this._map,j))},ca.prototype.mousedown=function(){this._delayContextMenu=!0},ca.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ji("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ca.prototype.contextmenu=function(j){this._delayContextMenu?this._contextMenuEvent=j:this._map.fire(new ji(j.type,this._map,j)),this._map.listens("contextmenu")&&j.preventDefault()},ca.prototype.isEnabled=function(){return!0},ca.prototype.isActive=function(){return!1},ca.prototype.enable=function(){},ca.prototype.disable=function(){};var ka=function(j,X){this._map=j,this._el=j.getCanvasContainer(),this._container=j.getContainer(),this._clickTolerance=X.clickTolerance||1};function va(j,X){for(var G={},ie=0;ie<j.length;ie++)G[j[ie].identifier]=X[ie];return G}ka.prototype.isEnabled=function(){return!!this._enabled},ka.prototype.isActive=function(){return!!this._active},ka.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ka.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ka.prototype.mousedown=function(j,X){this.isEnabled()&&j.shiftKey&&j.button===0&&(y.disableDrag(),this._startPos=this._lastPos=X,this._active=!0)},ka.prototype.mousemoveWindow=function(j,X){if(this._active){var G=X;if(!(this._lastPos.equals(G)||!this._box&&G.dist(this._startPos)<this._clickTolerance)){var ie=this._startPos;this._lastPos=G,this._box||(this._box=y.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",j));var be=Math.min(ie.x,G.x),Ie=Math.max(ie.x,G.x),He=Math.min(ie.y,G.y),Ze=Math.max(ie.y,G.y);y.setTransform(this._box,"translate("+be+"px,"+He+"px)"),this._box.style.width=Ie-be+"px",this._box.style.height=Ze-He+"px"}}},ka.prototype.mouseupWindow=function(j,X){var G=this;if(this._active&&j.button===0){var ie=this._startPos,be=X;if(this.reset(),y.suppressClick(),ie.x!==be.x||ie.y!==be.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:j})),{cameraAnimation:function(Ie){return Ie.fitScreenCoordinates(ie,be,G._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",j)}},ka.prototype.keydown=function(j){this._active&&j.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",j))},ka.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos},ka.prototype._fireEvent=function(j,X){return this._map.fire(new a.Event(j,{originalEvent:X}))};var Da=function(j){this.reset(),this.numTouches=j.numTouches};Da.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Da.prototype.touchstart=function(j,X,G){(this.centroid||G.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=j.timeStamp),G.length===this.numTouches&&(this.centroid=function(ie){for(var be=new a.Point(0,0),Ie=0,He=ie;Ie<He.length;Ie+=1){var Ze=He[Ie];be._add(Ze)}return be.div(ie.length)}(X),this.touches=va(G,X)))},Da.prototype.touchmove=function(j,X,G){if(!this.aborted&&this.centroid){var ie=va(G,X);for(var be in this.touches){var Ie=this.touches[be],He=ie[be];(!He||He.dist(Ie)>30)&&(this.aborted=!0)}}},Da.prototype.touchend=function(j,X,G){if((!this.centroid||j.timeStamp-this.startTime>500)&&(this.aborted=!0),G.length===0){var ie=!this.aborted&&this.centroid;if(this.reset(),ie)return ie}};var xs=function(j){this.singleTap=new Da(j),this.numTaps=j.numTaps,this.reset()};xs.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},xs.prototype.touchstart=function(j,X,G){this.singleTap.touchstart(j,X,G)},xs.prototype.touchmove=function(j,X,G){this.singleTap.touchmove(j,X,G)},xs.prototype.touchend=function(j,X,G){var ie=this.singleTap.touchend(j,X,G);if(ie){var be=j.timeStamp-this.lastTime<500,Ie=!this.lastTap||this.lastTap.dist(ie)<30;if(be&&Ie||this.reset(),this.count++,this.lastTime=j.timeStamp,this.lastTap=ie,this.count===this.numTaps)return this.reset(),ie}};var ho=function(){this._zoomIn=new xs({numTouches:1,numTaps:2}),this._zoomOut=new xs({numTouches:2,numTaps:1}),this.reset()};ho.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ho.prototype.touchstart=function(j,X,G){this._zoomIn.touchstart(j,X,G),this._zoomOut.touchstart(j,X,G)},ho.prototype.touchmove=function(j,X,G){this._zoomIn.touchmove(j,X,G),this._zoomOut.touchmove(j,X,G)},ho.prototype.touchend=function(j,X,G){var ie=this,be=this._zoomIn.touchend(j,X,G),Ie=this._zoomOut.touchend(j,X,G);return be?(this._active=!0,j.preventDefault(),setTimeout(function(){return ie.reset()},0),{cameraAnimation:function(He){return He.easeTo({duration:300,zoom:He.getZoom()+1,around:He.unproject(be)},{originalEvent:j})}}):Ie?(this._active=!0,j.preventDefault(),setTimeout(function(){return ie.reset()},0),{cameraAnimation:function(He){return He.easeTo({duration:300,zoom:He.getZoom()-1,around:He.unproject(Ie)},{originalEvent:j})}}):void 0},ho.prototype.touchcancel=function(){this.reset()},ho.prototype.enable=function(){this._enabled=!0},ho.prototype.disable=function(){this._enabled=!1,this.reset()},ho.prototype.isEnabled=function(){return this._enabled},ho.prototype.isActive=function(){return this._active};var fa=function(j){this.reset(),this._clickTolerance=j.clickTolerance||1};fa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},fa.prototype._correctButton=function(j,X){return!1},fa.prototype._move=function(j,X){return{}},fa.prototype.mousedown=function(j,X){if(!this._lastPoint){var G=y.mouseButton(j);this._correctButton(j,G)&&(this._lastPoint=X,this._eventButton=G)}},fa.prototype.mousemoveWindow=function(j,X){var G=this._lastPoint;if(G&&(j.preventDefault(),this._moved||!(X.dist(G)<this._clickTolerance)))return this._moved=!0,this._lastPoint=X,this._move(G,X)},fa.prototype.mouseupWindow=function(j){y.mouseButton(j)===this._eventButton&&(this._moved&&y.suppressClick(),this.reset())},fa.prototype.enable=function(){this._enabled=!0},fa.prototype.disable=function(){this._enabled=!1,this.reset()},fa.prototype.isEnabled=function(){return this._enabled},fa.prototype.isActive=function(){return this._active};var qa=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(G,ie){j.prototype.mousedown.call(this,G,ie),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(G,ie){return ie===0&&!G.ctrlKey},X.prototype._move=function(G,ie){return{around:ie,panDelta:ie.sub(G)}},X}(fa),Nl=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(G,ie){return ie===0&&G.ctrlKey||ie===2},X.prototype._move=function(G,ie){var be=.8*(ie.x-G.x);if(be)return this._active=!0,{bearingDelta:be}},X.prototype.contextmenu=function(G){G.preventDefault()},X}(fa),Cl=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(G,ie){return ie===0&&G.ctrlKey||ie===2},X.prototype._move=function(G,ie){var be=-.5*(ie.y-G.y);if(be)return this._active=!0,{pitchDelta:be}},X.prototype.contextmenu=function(G){G.preventDefault()},X}(fa),Ta=function(j){this._minTouches=1,this._clickTolerance=j.clickTolerance||1,this.reset()};Ta.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Ta.prototype.touchstart=function(j,X,G){return this._calculateTransform(j,X,G)},Ta.prototype.touchmove=function(j,X,G){if(this._active)return j.preventDefault(),this._calculateTransform(j,X,G)},Ta.prototype.touchend=function(j,X,G){this._calculateTransform(j,X,G),this._active&&G.length<this._minTouches&&this.reset()},Ta.prototype.touchcancel=function(){this.reset()},Ta.prototype._calculateTransform=function(j,X,G){G.length>0&&(this._active=!0);var ie=va(G,X),be=new a.Point(0,0),Ie=new a.Point(0,0),He=0;for(var Ze in ie){var at=ie[Ze],Tt=this._touches[Ze];Tt&&(be._add(at),Ie._add(at.sub(Tt)),He++,ie[Ze]=at)}if(this._touches=ie,!(He<this._minTouches)&&Ie.mag()){var Mt=Ie.div(He);if(this._sum._add(Mt),!(this._sum.mag()<this._clickTolerance))return{around:be.div(He),panDelta:Mt}}},Ta.prototype.enable=function(){this._enabled=!0},Ta.prototype.disable=function(){this._enabled=!1,this.reset()},Ta.prototype.isEnabled=function(){return this._enabled},Ta.prototype.isActive=function(){return this._active};var Ir=function(){this.reset()};function Bo(j,X,G){for(var ie=0;ie<j.length;ie++)if(j[ie].identifier===G)return X[ie]}Ir.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Ir.prototype._start=function(j){},Ir.prototype._move=function(j,X,G){return{}},Ir.prototype.touchstart=function(j,X,G){this._firstTwoTouches||G.length<2||(this._firstTwoTouches=[G[0].identifier,G[1].identifier],this._start([X[0],X[1]]))},Ir.prototype.touchmove=function(j,X,G){if(this._firstTwoTouches){j.preventDefault();var ie=this._firstTwoTouches,be=ie[0],Ie=ie[1],He=Bo(G,X,be),Ze=Bo(G,X,Ie);if(He&&Ze){var at=this._aroundCenter?null:He.add(Ze).div(2);return this._move([He,Ze],at,j)}}},Ir.prototype.touchend=function(j,X,G){if(this._firstTwoTouches){var ie=this._firstTwoTouches,be=ie[0],Ie=ie[1],He=Bo(G,X,be),Ze=Bo(G,X,Ie);He&&Ze||(this._active&&y.suppressClick(),this.reset())}},Ir.prototype.touchcancel=function(){this.reset()},Ir.prototype.enable=function(j){this._enabled=!0,this._aroundCenter=!!j&&j.around==="center"},Ir.prototype.disable=function(){this._enabled=!1,this.reset()},Ir.prototype.isEnabled=function(){return this._enabled},Ir.prototype.isActive=function(){return this._active};function pa(j,X){return Math.log(j/X)/Math.LN2}var Ws=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.reset=function(){j.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(G){this._startDistance=this._distance=G[0].dist(G[1])},X.prototype._move=function(G,ie){var be=this._distance;if(this._distance=G[0].dist(G[1]),this._active||!(Math.abs(pa(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:pa(this._distance,be),pinchAround:ie}},X}(Ir);function Gs(j,X){return 180*j.angleWith(X)/Math.PI}var Mo=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.reset=function(){j.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(G){this._startVector=this._vector=G[0].sub(G[1]),this._minDiameter=G[0].dist(G[1])},X.prototype._move=function(G,ie){var be=this._vector;if(this._vector=G[0].sub(G[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Gs(this._vector,be),pinchAround:ie}},X.prototype._isBelowThreshold=function(G){this._minDiameter=Math.min(this._minDiameter,G.mag());var ie=25/(Math.PI*this._minDiameter)*360,be=Gs(G,this._startVector);return Math.abs(be)<ie},X}(Ir);function Ys(j){return Math.abs(j.y)>Math.abs(j.x)}var zr=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.reset=function(){j.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(G){this._lastPoints=G,Ys(G[0].sub(G[1]))&&(this._valid=!1)},X.prototype._move=function(G,ie,be){var Ie=G[0].sub(this._lastPoints[0]),He=G[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ie,He,be.timeStamp),this._valid)return this._lastPoints=G,this._active=!0,{pitchDelta:(Ie.y+He.y)/2*-.5}},X.prototype.gestureBeginsVertically=function(G,ie,be){if(this._valid!==void 0)return this._valid;var Ie=G.mag()>=2,He=ie.mag()>=2;if(Ie||He){if(!Ie||!He)return this._firstMove===void 0&&(this._firstMove=be),be-this._firstMove<100&&void 0;var Ze=G.y>0==ie.y>0;return Ys(G)&&Ys(ie)&&Ze}},X}(Ir),sl={panStep:100,bearingStep:15,pitchStep:10},go=function(){var j=sl;this._panStep=j.panStep,this._bearingStep=j.bearingStep,this._pitchStep=j.pitchStep};function Bl(j){return j*(2-j)}go.prototype.reset=function(){this._active=!1},go.prototype.keydown=function(j){var X=this;if(!(j.altKey||j.ctrlKey||j.metaKey)){var G=0,ie=0,be=0,Ie=0,He=0;switch(j.keyCode){case 61:case 107:case 171:case 187:G=1;break;case 189:case 109:case 173:G=-1;break;case 37:j.shiftKey?ie=-1:(j.preventDefault(),Ie=-1);break;case 39:j.shiftKey?ie=1:(j.preventDefault(),Ie=1);break;case 38:j.shiftKey?be=1:(j.preventDefault(),He=-1);break;case 40:j.shiftKey?be=-1:(j.preventDefault(),He=1);break;default:return}return{cameraAnimation:function(Ze){var at=Ze.getZoom();Ze.easeTo({duration:300,easeId:"keyboardHandler",easing:Bl,zoom:G?Math.round(at)+G*(j.shiftKey?2:1):at,bearing:Ze.getBearing()+ie*X._bearingStep,pitch:Ze.getPitch()+be*X._pitchStep,offset:[-Ie*X._panStep,-He*X._panStep],center:Ze.getCenter()},{originalEvent:j})}}}},go.prototype.enable=function(){this._enabled=!0},go.prototype.disable=function(){this._enabled=!1,this.reset()},go.prototype.isEnabled=function(){return this._enabled},go.prototype.isActive=function(){return this._active};var Ll=4.000244140625,Aa=function(j,X){this._map=j,this._el=j.getCanvasContainer(),this._handler=X,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Aa.prototype.setZoomRate=function(j){this._defaultZoomRate=j},Aa.prototype.setWheelZoomRate=function(j){this._wheelZoomRate=j},Aa.prototype.isEnabled=function(){return!!this._enabled},Aa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Aa.prototype.isZooming=function(){return!!this._zooming},Aa.prototype.enable=function(j){this.isEnabled()||(this._enabled=!0,this._aroundCenter=j&&j.around==="center")},Aa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Aa.prototype.wheel=function(j){if(this.isEnabled()){var X=j.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*j.deltaY:j.deltaY,G=a.browser.now(),ie=G-(this._lastWheelEventTime||0);this._lastWheelEventTime=G,X!==0&&X%Ll==0?this._type="wheel":X!==0&&Math.abs(X)<4?this._type="trackpad":ie>400?(this._type=null,this._lastValue=X,this._timeout=setTimeout(this._onTimeout,40,j)):this._type||(this._type=Math.abs(ie*X)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,X+=this._lastValue)),j.shiftKey&&X&&(X/=4),this._type&&(this._lastWheelEvent=j,this._delta-=X,this._active||this._start(j)),j.preventDefault()}},Aa.prototype._onTimeout=function(j){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(j)},Aa.prototype._start=function(j){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var X=y.mousePos(this._el,j);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(X)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Aa.prototype.renderFrame=function(){return this._onScrollFrame()},Aa.prototype._onScrollFrame=function(){var j=this;if(this._frameId&&(this._frameId=null,this.isActive())){var X=this._map.transform;if(this._delta!==0){var G=this._type==="wheel"&&Math.abs(this._delta)>Ll?this._wheelZoomRate:this._defaultZoomRate,ie=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&ie!==0&&(ie=1/ie);var be=typeof this._targetZoom=="number"?X.zoomScale(this._targetZoom):X.scale;this._targetZoom=Math.min(X.maxZoom,Math.max(X.minZoom,X.scaleZoom(be*ie))),this._type==="wheel"&&(this._startZoom=X.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ie,He=typeof this._targetZoom=="number"?this._targetZoom:X.zoom,Ze=this._startZoom,at=this._easing,Tt=!1;if(this._type==="wheel"&&Ze&&at){var Mt=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),re=at(Mt);Ie=a.number(Ze,He,re),Mt<1?this._frameId||(this._frameId=!0):Tt=!0}else Ie=He,Tt=!0;return this._active=!0,Tt&&(this._active=!1,this._finishTimeout=setTimeout(function(){j._zooming=!1,j._handler._triggerRenderFrame(),delete j._targetZoom,delete j._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Tt,zoomDelta:Ie-X.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Aa.prototype._smoothOutEasing=function(j){var X=a.ease;if(this._prevEase){var G=this._prevEase,ie=(a.browser.now()-G.start)/G.duration,be=G.easing(ie+.01)-G.easing(ie),Ie=.27/Math.sqrt(be*be+1e-4)*.01,He=Math.sqrt(.0729-Ie*Ie);X=a.bezier(Ie,He,.25,1)}return this._prevEase={start:a.browser.now(),duration:j,easing:X},X},Aa.prototype.reset=function(){this._active=!1};var Zs=function(j,X){this._clickZoom=j,this._tapZoom=X};Zs.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Zs.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Zs.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Zs.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var $o=function(){this.reset()};$o.prototype.reset=function(){this._active=!1},$o.prototype.dblclick=function(j,X){return j.preventDefault(),{cameraAnimation:function(G){G.easeTo({duration:300,zoom:G.getZoom()+(j.shiftKey?-1:1),around:G.unproject(X)},{originalEvent:j})}}},$o.prototype.enable=function(){this._enabled=!0},$o.prototype.disable=function(){this._enabled=!1,this.reset()},$o.prototype.isEnabled=function(){return this._enabled},$o.prototype.isActive=function(){return this._active};var Wa=function(){this._tap=new xs({numTouches:1,numTaps:1}),this.reset()};Wa.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Wa.prototype.touchstart=function(j,X,G){this._swipePoint||(this._tapTime&&j.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?G.length>0&&(this._swipePoint=X[0],this._swipeTouch=G[0].identifier):this._tap.touchstart(j,X,G))},Wa.prototype.touchmove=function(j,X,G){if(this._tapTime){if(this._swipePoint){if(G[0].identifier!==this._swipeTouch)return;var ie=X[0],be=ie.y-this._swipePoint.y;return this._swipePoint=ie,j.preventDefault(),this._active=!0,{zoomDelta:be/128}}}else this._tap.touchmove(j,X,G)},Wa.prototype.touchend=function(j,X,G){this._tapTime?this._swipePoint&&G.length===0&&this.reset():this._tap.touchend(j,X,G)&&(this._tapTime=j.timeStamp)},Wa.prototype.touchcancel=function(){this.reset()},Wa.prototype.enable=function(){this._enabled=!0},Wa.prototype.disable=function(){this._enabled=!1,this.reset()},Wa.prototype.isEnabled=function(){return this._enabled},Wa.prototype.isActive=function(){return this._active};var bs=function(j,X,G){this._el=j,this._mousePan=X,this._touchPan=G};bs.prototype.enable=function(j){this._inertiaOptions=j||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},bs.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},bs.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},bs.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var So=function(j,X,G){this._pitchWithRotate=j.pitchWithRotate,this._mouseRotate=X,this._mousePitch=G};So.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},So.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},So.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},So.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var mo=function(j,X,G,ie){this._el=j,this._touchZoom=X,this._touchRotate=G,this._tapDragZoom=ie,this._rotationDisabled=!1,this._enabled=!0};mo.prototype.enable=function(j){this._touchZoom.enable(j),this._rotationDisabled||this._touchRotate.enable(j),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},mo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},mo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},mo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},mo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},mo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Xs=function(j){return j.zoom||j.drag||j.pitch||j.rotate},Ma=function(j){function X(){j.apply(this,arguments)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X}(a.Event);function vo(j){return j.panDelta&&j.panDelta.mag()||j.zoomDelta||j.bearingDelta||j.pitchDelta}var Si=function(j,X){this._map=j,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Vs(j),this._bearingSnap=X.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(X),a.bindAll(["handleEvent","handleWindowEvent"],this);var G=this._el;this._listeners=[[G,"touchstart",{passive:!1}],[G,"touchmove",{passive:!1}],[G,"touchend",void 0],[G,"touchcancel",void 0],[G,"mousedown",void 0],[G,"mousemove",void 0],[G,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[G,"mouseover",void 0],[G,"mouseout",void 0],[G,"dblclick",void 0],[G,"click",void 0],[G,"keydown",{capture:!1}],[G,"keyup",void 0],[G,"wheel",{passive:!1}],[G,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ie=0,be=this._listeners;ie<be.length;ie+=1){var Ie=be[ie],He=Ie[0],Ze=Ie[1],at=Ie[2];y.addEventListener(He,Ze,He===a.window.document?this.handleWindowEvent:this.handleEvent,at)}};Si.prototype.destroy=function(){for(var j=0,X=this._listeners;j<X.length;j+=1){var G=X[j],ie=G[0],be=G[1],Ie=G[2];y.removeEventListener(ie,be,ie===a.window.document?this.handleWindowEvent:this.handleEvent,Ie)}},Si.prototype._addDefaultHandlers=function(j){var X=this._map,G=X.getCanvasContainer();this._add("mapEvent",new aa(X,j));var ie=X.boxZoom=new ka(X,j);this._add("boxZoom",ie);var be=new ho,Ie=new $o;X.doubleClickZoom=new Zs(Ie,be),this._add("tapZoom",be),this._add("clickZoom",Ie);var He=new Wa;this._add("tapDragZoom",He);var Ze=X.touchPitch=new zr;this._add("touchPitch",Ze);var at=new Nl(j),Tt=new Cl(j);X.dragRotate=new So(j,at,Tt),this._add("mouseRotate",at,["mousePitch"]),this._add("mousePitch",Tt,["mouseRotate"]);var Mt=new qa(j),re=new Ta(j);X.dragPan=new bs(G,Mt,re),this._add("mousePan",Mt),this._add("touchPan",re,["touchZoom","touchRotate"]);var de=new Mo,Ce=new Ws;X.touchZoomRotate=new mo(G,Ce,de,He),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",Ce,["touchPan","touchRotate"]);var ze=X.scrollZoom=new Aa(X,this);this._add("scrollZoom",ze,["mousePan"]);var Ve=X.keyboard=new go;this._add("keyboard",Ve),this._add("blockableMapEvent",new ca(X));for(var We=0,Je=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];We<Je.length;We+=1){var tt=Je[We];j.interactive&&j[tt]&&X[tt].enable(j[tt])}},Si.prototype._add=function(j,X,G){this._handlers.push({handlerName:j,handler:X,allowed:G}),this._handlersById[j]=X},Si.prototype.stop=function(){if(!this._updatingCamera){for(var j=0,X=this._handlers;j<X.length;j+=1)X[j].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Si.prototype.isActive=function(){for(var j=0,X=this._handlers;j<X.length;j+=1)if(X[j].handler.isActive())return!0;return!1},Si.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Si.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Si.prototype.isMoving=function(){return!!Xs(this._eventsInProgress)||this.isZooming()},Si.prototype._blockedByActive=function(j,X,G){for(var ie in j)if(ie!==G&&(!X||X.indexOf(ie)<0))return!0;return!1},Si.prototype.handleWindowEvent=function(j){this.handleEvent(j,j.type+"Window")},Si.prototype._getMapTouches=function(j){for(var X=[],G=0,ie=j;G<ie.length;G+=1){var be=ie[G],Ie=be.target;this._el.contains(Ie)&&X.push(be)}return X},Si.prototype.handleEvent=function(j,X){if(j.type!=="blur"){this._updatingCamera=!0;for(var G=j.type==="renderFrame"?void 0:j,ie={needsRenderFrame:!1},be={},Ie={},He=j.touches?this._getMapTouches(j.touches):void 0,Ze=He?y.touchPos(this._el,He):y.mousePos(this._el,j),at=0,Tt=this._handlers;at<Tt.length;at+=1){var Mt=Tt[at],re=Mt.handlerName,de=Mt.handler,Ce=Mt.allowed;if(de.isEnabled()){var ze=void 0;this._blockedByActive(Ie,Ce,re)?de.reset():de[X||j.type]&&(ze=de[X||j.type](j,Ze,He),this.mergeHandlerResult(ie,be,ze,re,G),ze&&ze.needsRenderFrame&&this._triggerRenderFrame()),(ze||de.isActive())&&(Ie[re]=de)}}var Ve={};for(var We in this._previousActiveHandlers)Ie[We]||(Ve[We]=G);this._previousActiveHandlers=Ie,(Object.keys(Ve).length||vo(ie))&&(this._changes.push([ie,be,Ve]),this._triggerRenderFrame()),(Object.keys(Ie).length||vo(ie))&&this._map._stop(!0),this._updatingCamera=!1;var Je=ie.cameraAnimation;Je&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],Je(this._map))}else this.stop()},Si.prototype.mergeHandlerResult=function(j,X,G,ie,be){if(G){a.extend(j,G);var Ie={handlerName:ie,originalEvent:G.originalEvent||be};G.zoomDelta!==void 0&&(X.zoom=Ie),G.panDelta!==void 0&&(X.drag=Ie),G.pitchDelta!==void 0&&(X.pitch=Ie),G.bearingDelta!==void 0&&(X.rotate=Ie)}},Si.prototype._applyChanges=function(){for(var j={},X={},G={},ie=0,be=this._changes;ie<be.length;ie+=1){var Ie=be[ie],He=Ie[0],Ze=Ie[1],at=Ie[2];He.panDelta&&(j.panDelta=(j.panDelta||new a.Point(0,0))._add(He.panDelta)),He.zoomDelta&&(j.zoomDelta=(j.zoomDelta||0)+He.zoomDelta),He.bearingDelta&&(j.bearingDelta=(j.bearingDelta||0)+He.bearingDelta),He.pitchDelta&&(j.pitchDelta=(j.pitchDelta||0)+He.pitchDelta),He.around!==void 0&&(j.around=He.around),He.pinchAround!==void 0&&(j.pinchAround=He.pinchAround),He.noInertia&&(j.noInertia=He.noInertia),a.extend(X,Ze),a.extend(G,at)}this._updateMapTransform(j,X,G),this._changes=[]},Si.prototype._updateMapTransform=function(j,X,G){var ie=this._map,be=ie.transform;if(!vo(j))return this._fireEvents(X,G);var Ie=j.panDelta,He=j.zoomDelta,Ze=j.bearingDelta,at=j.pitchDelta,Tt=j.around,Mt=j.pinchAround;Mt!==void 0&&(Tt=Mt),ie._stop(!0),Tt=Tt||ie.transform.centerPoint;var re=be.pointLocation(Ie?Tt.sub(Ie):Tt);Ze&&(be.bearing+=Ze),at&&(be.pitch+=at),He&&(be.zoom+=He),be.setLocationAtPoint(re,Tt),this._map._update(),j.noInertia||this._inertia.record(j),this._fireEvents(X,G)},Si.prototype._fireEvents=function(j,X){var G=this,ie=Xs(this._eventsInProgress),be=Xs(j),Ie={};for(var He in j){var Ze=j[He].originalEvent;this._eventsInProgress[He]||(Ie[He+"start"]=Ze),this._eventsInProgress[He]=j[He]}for(var at in!ie&&be&&this._fireEvent("movestart",be.originalEvent),Ie)this._fireEvent(at,Ie[at]);for(var Tt in j.rotate&&(this._bearingChanged=!0),be&&this._fireEvent("move",be.originalEvent),j){var Mt=j[Tt].originalEvent;this._fireEvent(Tt,Mt)}var re,de={};for(var Ce in this._eventsInProgress){var ze=this._eventsInProgress[Ce],Ve=ze.handlerName,We=ze.originalEvent;this._handlersById[Ve].isActive()||(delete this._eventsInProgress[Ce],re=X[Ve]||We,de[Ce+"end"]=re)}for(var Je in de)this._fireEvent(Je,de[Je]);var tt=Xs(this._eventsInProgress);if((ie||be)&&!tt){this._updatingCamera=!0;var lt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),dt=function(Ft){return Ft!==0&&-G._bearingSnap<Ft&&Ft<G._bearingSnap};lt?(dt(lt.bearing||this._map.getBearing())&&(lt.bearing=0),this._map.easeTo(lt,{originalEvent:re})):(this._map.fire(new a.Event("moveend",{originalEvent:re})),dt(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Si.prototype._fireEvent=function(j,X){this._map.fire(new a.Event(j,X?{originalEvent:X}:{}))},Si.prototype._triggerRenderFrame=function(){var j=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(X){delete j._frameId,j.handleEvent(new Ma("renderFrame",{timeStamp:X})),j._applyChanges()}))};var Ol=function(j){function X(G,ie){j.call(this),this._moving=!1,this._zooming=!1,this.transform=G,this._bearingSnap=ie.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(G,ie){return this.jumpTo({center:G},ie)},X.prototype.panBy=function(G,ie,be){return G=a.Point.convert(G).mult(-1),this.panTo(this.transform.center,a.extend({offset:G},ie),be)},X.prototype.panTo=function(G,ie,be){return this.easeTo(a.extend({center:G},ie),be)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(G,ie){return this.jumpTo({zoom:G},ie),this},X.prototype.zoomTo=function(G,ie,be){return this.easeTo(a.extend({zoom:G},ie),be)},X.prototype.zoomIn=function(G,ie){return this.zoomTo(this.getZoom()+1,G,ie),this},X.prototype.zoomOut=function(G,ie){return this.zoomTo(this.getZoom()-1,G,ie),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(G,ie){return this.jumpTo({bearing:G},ie),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(G,ie){return this.jumpTo({padding:G},ie),this},X.prototype.rotateTo=function(G,ie,be){return this.easeTo(a.extend({bearing:G},ie),be)},X.prototype.resetNorth=function(G,ie){return this.rotateTo(0,a.extend({duration:1e3},G),ie),this},X.prototype.resetNorthPitch=function(G,ie){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},G),ie),this},X.prototype.snapToNorth=function(G,ie){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(G,ie):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(G,ie){return this.jumpTo({pitch:G},ie),this},X.prototype.cameraForBounds=function(G,ie){return G=a.LngLatBounds.convert(G),this._cameraForBoxAndBearing(G.getNorthWest(),G.getSouthEast(),0,ie)},X.prototype._cameraForBoxAndBearing=function(G,ie,be,Ie){var He={top:0,bottom:0,right:0,left:0};if(typeof(Ie=a.extend({padding:He,offset:[0,0],maxZoom:this.transform.maxZoom},Ie)).padding=="number"){var Ze=Ie.padding;Ie.padding={top:Ze,bottom:Ze,right:Ze,left:Ze}}Ie.padding=a.extend(He,Ie.padding);var at=this.transform,Tt=at.padding,Mt=at.project(a.LngLat.convert(G)),re=at.project(a.LngLat.convert(ie)),de=Mt.rotate(-be*Math.PI/180),Ce=re.rotate(-be*Math.PI/180),ze=new a.Point(Math.max(de.x,Ce.x),Math.max(de.y,Ce.y)),Ve=new a.Point(Math.min(de.x,Ce.x),Math.min(de.y,Ce.y)),We=ze.sub(Ve),Je=(at.width-(Tt.left+Tt.right+Ie.padding.left+Ie.padding.right))/We.x,tt=(at.height-(Tt.top+Tt.bottom+Ie.padding.top+Ie.padding.bottom))/We.y;if(!(tt<0||Je<0)){var lt=Math.min(at.scaleZoom(at.scale*Math.min(Je,tt)),Ie.maxZoom),dt=a.Point.convert(Ie.offset),Ft=(Ie.padding.left-Ie.padding.right)/2,Ut=(Ie.padding.top-Ie.padding.bottom)/2,qt=new a.Point(dt.x+Ft,dt.y+Ut).mult(at.scale/at.zoomScale(lt));return{center:at.unproject(Mt.add(re).div(2).sub(qt)),zoom:lt,bearing:be}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},X.prototype.fitBounds=function(G,ie,be){return this._fitInternal(this.cameraForBounds(G,ie),ie,be)},X.prototype.fitScreenCoordinates=function(G,ie,be,Ie,He){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(G)),this.transform.pointLocation(a.Point.convert(ie)),be,Ie),Ie,He)},X.prototype._fitInternal=function(G,ie,be){return G?(delete(ie=a.extend(G,ie)).padding,ie.linear?this.easeTo(ie,be):this.flyTo(ie,be)):this},X.prototype.jumpTo=function(G,ie){this.stop();var be=this.transform,Ie=!1,He=!1,Ze=!1;return"zoom"in G&&be.zoom!==+G.zoom&&(Ie=!0,be.zoom=+G.zoom),G.center!==void 0&&(be.center=a.LngLat.convert(G.center)),"bearing"in G&&be.bearing!==+G.bearing&&(He=!0,be.bearing=+G.bearing),"pitch"in G&&be.pitch!==+G.pitch&&(Ze=!0,be.pitch=+G.pitch),G.padding==null||be.isPaddingEqual(G.padding)||(be.padding=G.padding),this.fire(new a.Event("movestart",ie)).fire(new a.Event("move",ie)),Ie&&this.fire(new a.Event("zoomstart",ie)).fire(new a.Event("zoom",ie)).fire(new a.Event("zoomend",ie)),He&&this.fire(new a.Event("rotatestart",ie)).fire(new a.Event("rotate",ie)).fire(new a.Event("rotateend",ie)),Ze&&this.fire(new a.Event("pitchstart",ie)).fire(new a.Event("pitch",ie)).fire(new a.Event("pitchend",ie)),this.fire(new a.Event("moveend",ie))},X.prototype.easeTo=function(G,ie){var be=this;this._stop(!1,G.easeId),((G=a.extend({offset:[0,0],duration:500,easing:a.ease},G)).animate===!1||!G.essential&&a.browser.prefersReducedMotion)&&(G.duration=0);var Ie=this.transform,He=this.getZoom(),Ze=this.getBearing(),at=this.getPitch(),Tt=this.getPadding(),Mt="zoom"in G?+G.zoom:He,re="bearing"in G?this._normalizeBearing(G.bearing,Ze):Ze,de="pitch"in G?+G.pitch:at,Ce="padding"in G?G.padding:Ie.padding,ze=a.Point.convert(G.offset),Ve=Ie.centerPoint.add(ze),We=Ie.pointLocation(Ve),Je=a.LngLat.convert(G.center||We);this._normalizeCenter(Je);var tt,lt,dt=Ie.project(We),Ft=Ie.project(Je).sub(dt),Ut=Ie.zoomScale(Mt-He);G.around&&(tt=a.LngLat.convert(G.around),lt=Ie.locationPoint(tt));var qt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Mt!==He,this._rotating=this._rotating||Ze!==re,this._pitching=this._pitching||de!==at,this._padding=!Ie.isPaddingEqual(Ce),this._easeId=G.easeId,this._prepareEase(ie,G.noMoveStart,qt),clearTimeout(this._easeEndTimeoutID),this._ease(function(nn){if(be._zooming&&(Ie.zoom=a.number(He,Mt,nn)),be._rotating&&(Ie.bearing=a.number(Ze,re,nn)),be._pitching&&(Ie.pitch=a.number(at,de,nn)),be._padding&&(Ie.interpolatePadding(Tt,Ce,nn),Ve=Ie.centerPoint.add(ze)),tt)Ie.setLocationAtPoint(tt,lt);else{var yn=Ie.zoomScale(Ie.zoom-He),rn=Mt>He?Math.min(2,Ut):Math.max(.5,Ut),cn=Math.pow(rn,1-nn),sn=Ie.unproject(dt.add(Ft.mult(nn*cn)).mult(yn));Ie.setLocationAtPoint(Ie.renderWorldCopies?sn.wrap():sn,Ve)}be._fireMoveEvents(ie)},function(nn){be._afterEase(ie,nn)},G),this},X.prototype._prepareEase=function(G,ie,be){be===void 0&&(be={}),this._moving=!0,ie||be.moving||this.fire(new a.Event("movestart",G)),this._zooming&&!be.zooming&&this.fire(new a.Event("zoomstart",G)),this._rotating&&!be.rotating&&this.fire(new a.Event("rotatestart",G)),this._pitching&&!be.pitching&&this.fire(new a.Event("pitchstart",G))},X.prototype._fireMoveEvents=function(G){this.fire(new a.Event("move",G)),this._zooming&&this.fire(new a.Event("zoom",G)),this._rotating&&this.fire(new a.Event("rotate",G)),this._pitching&&this.fire(new a.Event("pitch",G))},X.prototype._afterEase=function(G,ie){if(!this._easeId||!ie||this._easeId!==ie){delete this._easeId;var be=this._zooming,Ie=this._rotating,He=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,be&&this.fire(new a.Event("zoomend",G)),Ie&&this.fire(new a.Event("rotateend",G)),He&&this.fire(new a.Event("pitchend",G)),this.fire(new a.Event("moveend",G))}},X.prototype.flyTo=function(G,ie){var be=this;if(!G.essential&&a.browser.prefersReducedMotion){var Ie=a.pick(G,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ie,ie)}this.stop(),G=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},G);var He=this.transform,Ze=this.getZoom(),at=this.getBearing(),Tt=this.getPitch(),Mt=this.getPadding(),re="zoom"in G?a.clamp(+G.zoom,He.minZoom,He.maxZoom):Ze,de="bearing"in G?this._normalizeBearing(G.bearing,at):at,Ce="pitch"in G?+G.pitch:Tt,ze="padding"in G?G.padding:He.padding,Ve=He.zoomScale(re-Ze),We=a.Point.convert(G.offset),Je=He.centerPoint.add(We),tt=He.pointLocation(Je),lt=a.LngLat.convert(G.center||tt);this._normalizeCenter(lt);var dt=He.project(tt),Ft=He.project(lt).sub(dt),Ut=G.curve,qt=Math.max(He.width,He.height),nn=qt/Ve,yn=Ft.mag();if("minZoom"in G){var rn=a.clamp(Math.min(G.minZoom,Ze,re),He.minZoom,He.maxZoom),cn=qt/He.zoomScale(rn-Ze);Ut=Math.sqrt(cn/yn*2)}var sn=Ut*Ut;function Ln(wr){var Ar=(nn*nn-qt*qt+(wr?-1:1)*sn*sn*yn*yn)/(2*(wr?nn:qt)*sn*yn);return Math.log(Math.sqrt(Ar*Ar+1)-Ar)}function wn(wr){return(Math.exp(wr)-Math.exp(-wr))/2}function ln(wr){return(Math.exp(wr)+Math.exp(-wr))/2}var Bn=Ln(0),Wn=function(wr){return ln(Bn)/ln(Bn+Ut*wr)},tr=function(wr){return qt*((ln(Bn)*(wn(Ar=Bn+Ut*wr)/ln(Ar))-wn(Bn))/sn)/yn;var Ar},or=(Ln(1)-Bn)/Ut;if(Math.abs(yn)<1e-6||!isFinite(or)){if(Math.abs(qt-nn)<1e-6)return this.easeTo(G,ie);var Sr=nn<qt?-1:1;or=Math.abs(Math.log(nn/qt))/Ut,tr=function(){return 0},Wn=function(wr){return Math.exp(Sr*Ut*wr)}}if("duration"in G)G.duration=+G.duration;else{var Cr="screenSpeed"in G?+G.screenSpeed/Ut:+G.speed;G.duration=1e3*or/Cr}return G.maxDuration&&G.duration>G.maxDuration&&(G.duration=0),this._zooming=!0,this._rotating=at!==de,this._pitching=Ce!==Tt,this._padding=!He.isPaddingEqual(ze),this._prepareEase(ie,!1),this._ease(function(wr){var Ar=wr*or,Fr=1/Wn(Ar);He.zoom=wr===1?re:Ze+He.scaleZoom(Fr),be._rotating&&(He.bearing=a.number(at,de,wr)),be._pitching&&(He.pitch=a.number(Tt,Ce,wr)),be._padding&&(He.interpolatePadding(Mt,ze,wr),Je=He.centerPoint.add(We));var ii=wr===1?lt:He.unproject(dt.add(Ft.mult(tr(Ar))).mult(Fr));He.setLocationAtPoint(He.renderWorldCopies?ii.wrap():ii,Je),be._fireMoveEvents(ie)},function(){return be._afterEase(ie)},G),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(G,ie){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var be=this._onEaseEnd;delete this._onEaseEnd,be.call(this,ie)}if(!G){var Ie=this.handlers;Ie&&Ie.stop()}return this},X.prototype._ease=function(G,ie,be){be.animate===!1||be.duration===0?(G(1),ie()):(this._easeStart=a.browser.now(),this._easeOptions=be,this._onEaseFrame=G,this._onEaseEnd=ie,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var G=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(G)),G<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(G,ie){G=a.wrap(G,-180,180);var be=Math.abs(G-ie);return Math.abs(G-360-ie)<be&&(G-=360),Math.abs(G+360-ie)<be&&(G+=360),G},X.prototype._normalizeCenter=function(G){var ie=this.transform;if(ie.renderWorldCopies&&!ie.lngRange){var be=G.lng-ie.center.lng;G.lng+=be>180?-360:be<-180?360:0}},X}(a.Evented),to=function(j){j===void 0&&(j={}),this.options=j,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};to.prototype.getDefaultPosition=function(){return"bottom-right"},to.prototype.onAdd=function(j){var X=this.options&&this.options.compact;return this._map=j,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=y.create("div","mapboxgl-ctrl-attrib-inner",this._container),X&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),X===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},to.prototype.onRemove=function(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},to.prototype._updateEditLink=function(){var j=this._editLink;j||(j=this._editLink=this._container.querySelector(".mapbox-improve-map"));var X=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(j){var G=X.reduce(function(ie,be,Ie){return be.value&&(ie+=be.key+"="+be.value+(Ie<X.length-1?"&":"")),ie},"?");j.href=a.config.FEEDBACK_URL+"/"+G+(this._map._hash?this._map._hash.getHashString(!0):""),j.rel="noopener nofollow"}},to.prototype._updateData=function(j){!j||j.sourceDataType!=="metadata"&&j.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},to.prototype._updateAttributions=function(){if(this._map.style){var j=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?j=j.concat(this.options.customAttribution.map(function(Ze){return typeof Ze!="string"?"":Ze})):typeof this.options.customAttribution=="string"&&j.push(this.options.customAttribution)),this._map.style.stylesheet){var X=this._map.style.stylesheet;this.styleOwner=X.owner,this.styleId=X.id}var G=this._map.style.sourceCaches;for(var ie in G){var be=G[ie];if(be.used){var Ie=be.getSource();Ie.attribution&&j.indexOf(Ie.attribution)<0&&j.push(Ie.attribution)}}j.sort(function(Ze,at){return Ze.length-at.length});var He=(j=j.filter(function(Ze,at){for(var Tt=at+1;Tt<j.length;Tt++)if(j[Tt].indexOf(Ze)>=0)return!1;return!0})).join(" | ");He!==this._attribHTML&&(this._attribHTML=He,j.length?(this._innerContainer.innerHTML=He,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},to.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var yo=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};yo.prototype.onAdd=function(j){this._map=j,this._container=y.create("div","mapboxgl-ctrl");var X=y.create("a","mapboxgl-ctrl-logo");return X.target="_blank",X.rel="noopener nofollow",X.href="https://www.mapbox.com/",X.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),X.setAttribute("rel","noopener nofollow"),this._container.appendChild(X),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},yo.prototype.onRemove=function(){y.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},yo.prototype.getDefaultPosition=function(){return"bottom-left"},yo.prototype._updateLogo=function(j){j&&j.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},yo.prototype._logoRequired=function(){if(this._map.style){var j=this._map.style.sourceCaches;for(var X in j)if(j[X].getSource().mapbox_logo)return!0;return!1}},yo.prototype._updateCompact=function(){var j=this._container.children;if(j.length){var X=j[0];this._map.getCanvasContainer().offsetWidth<250?X.classList.add("mapboxgl-compact"):X.classList.remove("mapboxgl-compact")}};var jo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};jo.prototype.add=function(j){var X=++this._id;return this._queue.push({callback:j,id:X,cancelled:!1}),X},jo.prototype.remove=function(j){for(var X=this._currentlyRunning,G=0,ie=X?this._queue.concat(X):this._queue;G<ie.length;G+=1){var be=ie[G];if(be.id===j)return void(be.cancelled=!0)}},jo.prototype.run=function(j){j===void 0&&(j=0);var X=this._currentlyRunning=this._queue;this._queue=[];for(var G=0,ie=X;G<ie.length;G+=1){var be=ie[G];if(!be.cancelled&&(be.callback(j),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},jo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ra={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ti=a.window.HTMLImageElement,ga=a.window.HTMLElement,no=a.window.ImageBitmap,za=60,Uo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:za,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},_s=function(j){function X(ie){var be=this;if((ie=a.extend({},Uo,ie)).minZoom!=null&&ie.maxZoom!=null&&ie.minZoom>ie.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ie.minPitch!=null&&ie.maxPitch!=null&&ie.minPitch>ie.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ie.minPitch!=null&&ie.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(ie.maxPitch!=null&&ie.maxPitch>za)throw new Error("maxPitch must be less than or equal to 60");var Ie=new hi(ie.minZoom,ie.maxZoom,ie.minPitch,ie.maxPitch,ie.renderWorldCopies);if(j.call(this,Ie,ie),this._interactive=ie.interactive,this._maxTileCacheSize=ie.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ie.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ie.preserveDrawingBuffer,this._antialias=ie.antialias,this._trackResize=ie.trackResize,this._bearingSnap=ie.bearingSnap,this._refreshExpiredTiles=ie.refreshExpiredTiles,this._fadeDuration=ie.fadeDuration,this._crossSourceCollisions=ie.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ie.collectResourceTiming,this._renderTaskQueue=new jo,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Ra,ie.locale),this._requestManager=new a.RequestManager(ie.transformRequest,ie.accessToken),typeof ie.container=="string"){if(this._container=a.window.document.getElementById(ie.container),!this._container)throw new Error("Container '"+ie.container+"' not found.")}else{if(!(ie.container instanceof ga))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ie.container}if(ie.maxBounds&&this.setMaxBounds(ie.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return be._update(!1)}),this.on("moveend",function(){return be._update(!1)}),this.on("zoom",function(){return be._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Si(this,ie);var He=typeof ie.hash=="string"&&ie.hash||void 0;this._hash=ie.hash&&new Jo(He).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:ie.center,zoom:ie.zoom,bearing:ie.bearing,pitch:ie.pitch}),ie.bounds&&(this.resize(),this.fitBounds(ie.bounds,a.extend({},ie.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ie.localIdeographFontFamily,ie.style&&this.setStyle(ie.style,{localIdeographFontFamily:ie.localIdeographFontFamily}),ie.attributionControl&&this.addControl(new to({customAttribution:ie.customAttribution})),this.addControl(new yo,ie.logoPosition),this.on("style.load",function(){be.transform.unmodified&&be.jumpTo(be.style.stylesheet)}),this.on("data",function(Ze){be._update(Ze.dataType==="style"),be.fire(new a.Event(Ze.dataType+"data",Ze))}),this.on("dataloading",function(Ze){be.fire(new a.Event(Ze.dataType+"dataloading",Ze))})}j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X;var G={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(ie,be){if(be===void 0&&ie.getDefaultPosition&&(be=ie.getDefaultPosition()),be===void 0&&(be="top-right"),!ie||!ie.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ie=ie.onAdd(this);this._controls.push(ie);var He=this._controlPositions[be];return be.indexOf("bottom")!==-1?He.insertBefore(Ie,He.firstChild):He.appendChild(Ie),this},X.prototype.removeControl=function(ie){if(!ie||!ie.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var be=this._controls.indexOf(ie);return be>-1&&this._controls.splice(be,1),ie.onRemove(this),this},X.prototype.resize=function(ie){var be=this._containerDimensions(),Ie=be[0],He=be[1];this._resizeCanvas(Ie,He),this.transform.resize(Ie,He),this.painter.resize(Ie,He);var Ze=!this._moving;return Ze&&(this.stop(),this.fire(new a.Event("movestart",ie)).fire(new a.Event("move",ie))),this.fire(new a.Event("resize",ie)),Ze&&this.fire(new a.Event("moveend",ie)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(ie){return this.transform.setMaxBounds(a.LngLatBounds.convert(ie)),this._update()},X.prototype.setMinZoom=function(ie){if((ie=ie??-2)>=-2&&ie<=this.transform.maxZoom)return this.transform.minZoom=ie,this._update(),this.getZoom()<ie&&this.setZoom(ie),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(ie){if((ie=ie??22)>=this.transform.minZoom)return this.transform.maxZoom=ie,this._update(),this.getZoom()>ie&&this.setZoom(ie),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(ie){if((ie=ie??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(ie>=0&&ie<=this.transform.maxPitch)return this.transform.minPitch=ie,this._update(),this.getPitch()<ie&&this.setPitch(ie),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(ie){if((ie=ie??za)>za)throw new Error("maxPitch must be less than or equal to 60");if(ie>=this.transform.minPitch)return this.transform.maxPitch=ie,this._update(),this.getPitch()>ie&&this.setPitch(ie),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(ie){return this.transform.renderWorldCopies=ie,this._update()},X.prototype.project=function(ie){return this.transform.locationPoint(a.LngLat.convert(ie))},X.prototype.unproject=function(ie){return this.transform.pointLocation(a.Point.convert(ie))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(ie,be,Ie){var He,Ze=this;if(ie==="mouseenter"||ie==="mouseover"){var at=!1;return{layer:be,listener:Ie,delegates:{mousemove:function(Mt){var re=Ze.getLayer(be)?Ze.queryRenderedFeatures(Mt.point,{layers:[be]}):[];re.length?at||(at=!0,Ie.call(Ze,new ji(ie,Ze,Mt.originalEvent,{features:re}))):at=!1},mouseout:function(){at=!1}}}}if(ie==="mouseleave"||ie==="mouseout"){var Tt=!1;return{layer:be,listener:Ie,delegates:{mousemove:function(Mt){(Ze.getLayer(be)?Ze.queryRenderedFeatures(Mt.point,{layers:[be]}):[]).length?Tt=!0:Tt&&(Tt=!1,Ie.call(Ze,new ji(ie,Ze,Mt.originalEvent)))},mouseout:function(Mt){Tt&&(Tt=!1,Ie.call(Ze,new ji(ie,Ze,Mt.originalEvent)))}}}}return{layer:be,listener:Ie,delegates:(He={},He[ie]=function(Mt){var re=Ze.getLayer(be)?Ze.queryRenderedFeatures(Mt.point,{layers:[be]}):[];re.length&&(Mt.features=re,Ie.call(Ze,Mt),delete Mt.features)},He)}},X.prototype.on=function(ie,be,Ie){if(Ie===void 0)return j.prototype.on.call(this,ie,be);var He=this._createDelegatedListener(ie,be,Ie);for(var Ze in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ie]=this._delegatedListeners[ie]||[],this._delegatedListeners[ie].push(He),He.delegates)this.on(Ze,He.delegates[Ze]);return this},X.prototype.once=function(ie,be,Ie){if(Ie===void 0)return j.prototype.once.call(this,ie,be);var He=this._createDelegatedListener(ie,be,Ie);for(var Ze in He.delegates)this.once(Ze,He.delegates[Ze]);return this},X.prototype.off=function(ie,be,Ie){var He=this;return Ie===void 0?j.prototype.off.call(this,ie,be):(this._delegatedListeners&&this._delegatedListeners[ie]&&function(Ze){for(var at=Ze[ie],Tt=0;Tt<at.length;Tt++){var Mt=at[Tt];if(Mt.layer===be&&Mt.listener===Ie){for(var re in Mt.delegates)He.off(re,Mt.delegates[re]);return at.splice(Tt,1),He}}}(this._delegatedListeners),this)},X.prototype.queryRenderedFeatures=function(ie,be){if(!this.style)return[];var Ie;if(be!==void 0||ie===void 0||ie instanceof a.Point||Array.isArray(ie)||(be=ie,ie=void 0),be=be||{},(ie=ie||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof ie[0]=="number")Ie=[a.Point.convert(ie)];else{var He=a.Point.convert(ie[0]),Ze=a.Point.convert(ie[1]);Ie=[He,new a.Point(Ze.x,He.y),Ze,new a.Point(He.x,Ze.y),He]}return this.style.queryRenderedFeatures(Ie,be,this.transform)},X.prototype.querySourceFeatures=function(ie,be){return this.style.querySourceFeatures(ie,be)},X.prototype.setStyle=function(ie,be){return(be=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},be)).diff!==!1&&be.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ie?(this._diffStyle(ie,be),this):(this._localIdeographFontFamily=be.localIdeographFontFamily,this._updateStyle(ie,be))},X.prototype._getUIString=function(ie){var be=this._locale[ie];if(be==null)throw new Error("Missing UI string '"+ie+"'");return be},X.prototype._updateStyle=function(ie,be){return this.style&&(this.style.setEventedParent(null),this.style._remove()),ie?(this.style=new mr(this,be||{}),this.style.setEventedParent(this,{style:this.style}),typeof ie=="string"?this.style.loadURL(ie):this.style.loadJSON(ie),this):(delete this.style,this)},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new mr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(ie,be){var Ie=this;if(typeof ie=="string"){var He=this._requestManager.normalizeStyleURL(ie),Ze=this._requestManager.transformRequest(He,a.ResourceType.Style);a.getJSON(Ze,function(at,Tt){at?Ie.fire(new a.ErrorEvent(at)):Tt&&Ie._updateDiff(Tt,be)})}else typeof ie=="object"&&this._updateDiff(ie,be)},X.prototype._updateDiff=function(ie,be){try{this.style.setState(ie)&&this._update(!0)}catch(Ie){a.warnOnce("Unable to perform style diff: "+(Ie.message||Ie.error||Ie)+".  Rebuilding the style from scratch."),this._updateStyle(ie,be)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(ie,be){return this._lazyInitEmptyStyle(),this.style.addSource(ie,be),this._update(!0)},X.prototype.isSourceLoaded=function(ie){var be=this.style&&this.style.sourceCaches[ie];if(be!==void 0)return be.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ie+"'")))},X.prototype.areTilesLoaded=function(){var ie=this.style&&this.style.sourceCaches;for(var be in ie){var Ie=ie[be]._tiles;for(var He in Ie){var Ze=Ie[He];if(Ze.state!=="loaded"&&Ze.state!=="errored")return!1}}return!0},X.prototype.addSourceType=function(ie,be,Ie){return this._lazyInitEmptyStyle(),this.style.addSourceType(ie,be,Ie)},X.prototype.removeSource=function(ie){return this.style.removeSource(ie),this._update(!0)},X.prototype.getSource=function(ie){return this.style.getSource(ie)},X.prototype.addImage=function(ie,be,Ie){Ie===void 0&&(Ie={});var He=Ie.pixelRatio;He===void 0&&(He=1);var Ze=Ie.sdf;Ze===void 0&&(Ze=!1);var at=Ie.stretchX,Tt=Ie.stretchY,Mt=Ie.content;if(this._lazyInitEmptyStyle(),be instanceof Ti||no&&be instanceof no){var re=a.browser.getImageData(be),de=re.width,Ce=re.height,ze=re.data;this.style.addImage(ie,{data:new a.RGBAImage({width:de,height:Ce},ze),pixelRatio:He,stretchX:at,stretchY:Tt,content:Mt,sdf:Ze,version:0})}else{if(be.width===void 0||be.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Ve=be.width,We=be.height,Je=be.data,tt=be;this.style.addImage(ie,{data:new a.RGBAImage({width:Ve,height:We},new Uint8Array(Je)),pixelRatio:He,stretchX:at,stretchY:Tt,content:Mt,sdf:Ze,version:0,userImage:tt}),tt.onAdd&&tt.onAdd(this,ie)}},X.prototype.updateImage=function(ie,be){var Ie=this.style.getImage(ie);if(!Ie)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var He=be instanceof Ti||no&&be instanceof no?a.browser.getImageData(be):be,Ze=He.width,at=He.height,Tt=He.data;if(Ze===void 0||at===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ze!==Ie.data.width||at!==Ie.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var Mt=!(be instanceof Ti||no&&be instanceof no);Ie.data.replace(Tt,Mt),this.style.updateImage(ie,Ie)},X.prototype.hasImage=function(ie){return ie?!!this.style.getImage(ie):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(ie){this.style.removeImage(ie)},X.prototype.loadImage=function(ie,be){a.getImage(this._requestManager.transformRequest(ie,a.ResourceType.Image),be)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(ie,be){return this._lazyInitEmptyStyle(),this.style.addLayer(ie,be),this._update(!0)},X.prototype.moveLayer=function(ie,be){return this.style.moveLayer(ie,be),this._update(!0)},X.prototype.removeLayer=function(ie){return this.style.removeLayer(ie),this._update(!0)},X.prototype.getLayer=function(ie){return this.style.getLayer(ie)},X.prototype.setLayerZoomRange=function(ie,be,Ie){return this.style.setLayerZoomRange(ie,be,Ie),this._update(!0)},X.prototype.setFilter=function(ie,be,Ie){return Ie===void 0&&(Ie={}),this.style.setFilter(ie,be,Ie),this._update(!0)},X.prototype.getFilter=function(ie){return this.style.getFilter(ie)},X.prototype.setPaintProperty=function(ie,be,Ie,He){return He===void 0&&(He={}),this.style.setPaintProperty(ie,be,Ie,He),this._update(!0)},X.prototype.getPaintProperty=function(ie,be){return this.style.getPaintProperty(ie,be)},X.prototype.setLayoutProperty=function(ie,be,Ie,He){return He===void 0&&(He={}),this.style.setLayoutProperty(ie,be,Ie,He),this._update(!0)},X.prototype.getLayoutProperty=function(ie,be){return this.style.getLayoutProperty(ie,be)},X.prototype.setLight=function(ie,be){return be===void 0&&(be={}),this._lazyInitEmptyStyle(),this.style.setLight(ie,be),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(ie,be){return this.style.setFeatureState(ie,be),this._update()},X.prototype.removeFeatureState=function(ie,be){return this.style.removeFeatureState(ie,be),this._update()},X.prototype.getFeatureState=function(ie){return this.style.getFeatureState(ie)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var ie=0,be=0;return this._container&&(ie=this._container.clientWidth||400,be=this._container.clientHeight||300),[ie,be]},X.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var ie=this._container;ie.classList.add("mapboxgl-map"),(this._missingCSSCanary=y.create("div","mapboxgl-canary",ie)).style.visibility="hidden",this._detectMissingCSS();var be=this._canvasContainer=y.create("div","mapboxgl-canvas-container",ie);this._interactive&&be.classList.add("mapboxgl-interactive"),this._canvas=y.create("canvas","mapboxgl-canvas",be),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Ie=this._containerDimensions();this._resizeCanvas(Ie[0],Ie[1]);var He=this._controlContainer=y.create("div","mapboxgl-control-container",ie),Ze=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(at){Ze[at]=y.create("div","mapboxgl-ctrl-"+at,He)})},X.prototype._resizeCanvas=function(ie,be){var Ie=a.browser.devicePixelRatio||1;this._canvas.width=Ie*ie,this._canvas.height=Ie*be,this._canvas.style.width=ie+"px",this._canvas.style.height=be+"px"},X.prototype._setupPainter=function(){var ie=a.extend({},k.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),be=this._canvas.getContext("webgl",ie)||this._canvas.getContext("experimental-webgl",ie);be?(this.painter=new Mi(be,this.transform),a.webpSupported.testSupport(be)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},X.prototype._contextLost=function(ie){ie.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ie}))},X.prototype._contextRestored=function(ie){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ie}))},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(ie){return this.style?(this._styleDirty=this._styleDirty||ie,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(ie){return this._update(),this._renderTaskQueue.add(ie)},X.prototype._cancelRenderFrame=function(ie){this._renderTaskQueue.remove(ie)},X.prototype._render=function(ie){var be,Ie=this,He=0,Ze=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(be=Ze.createQueryEXT(),Ze.beginQueryEXT(Ze.TIME_ELAPSED_EXT,be),He=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ie),!this._removed){var at=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Tt=this.transform.zoom,Mt=a.browser.now();this.style.zoomHistory.update(Tt,Mt);var re=new a.EvaluationParameters(Tt,{now:Mt,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),de=re.crossFadingFactor();de===1&&de===this._crossFadingFactor||(at=!0,this._crossFadingFactor=de),this.style.update(re)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||at)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ce=a.browser.now()-He;Ze.endQueryEXT(Ze.TIME_ELAPSED_EXT,be),setTimeout(function(){var Ve=Ze.getQueryObjectEXT(be,Ze.QUERY_RESULT_EXT)/1e6;Ze.deleteQueryEXT(be),Ie.fire(new a.Event("gpu-timing-frame",{cpuTime:Ce,gpuTime:Ve}))},50)}if(this.listens("gpu-timing-layer")){var ze=this.painter.collectGpuTimers();setTimeout(function(){var Ve=Ie.painter.queryGpuTimers(ze);Ie.fire(new a.Event("gpu-timing-layer",{layerTimes:Ve}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var ie=0,be=this._controls;ie<be.length;ie+=1)be[ie].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var Ie=this.painter.context.gl.getExtension("WEBGL_lose_context");Ie&&Ie.loseContext(),Eo(this._canvasContainer),Eo(this._controlContainer),Eo(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var ie=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(be){ie._frame=null,ie._render(be)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(ie){this._trackResize&&this.resize({originalEvent:ie})._update()},G.showTileBoundaries.get=function(){return!!this._showTileBoundaries},G.showTileBoundaries.set=function(ie){this._showTileBoundaries!==ie&&(this._showTileBoundaries=ie,this._update())},G.showPadding.get=function(){return!!this._showPadding},G.showPadding.set=function(ie){this._showPadding!==ie&&(this._showPadding=ie,this._update())},G.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},G.showCollisionBoxes.set=function(ie){this._showCollisionBoxes!==ie&&(this._showCollisionBoxes=ie,ie?this.style._generateCollisionBoxes():this._update())},G.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},G.showOverdrawInspector.set=function(ie){this._showOverdrawInspector!==ie&&(this._showOverdrawInspector=ie,this._update())},G.repaint.get=function(){return!!this._repaint},G.repaint.set=function(ie){this._repaint!==ie&&(this._repaint=ie,this.triggerRepaint())},G.vertices.get=function(){return!!this._vertices},G.vertices.set=function(ie){this._vertices=ie,this._update()},X.prototype._setCacheLimits=function(ie,be){a.setCacheLimits(ie,be)},G.version.get=function(){return a.version},Object.defineProperties(X.prototype,G),X}(Ol);function Eo(j){j.parentNode&&j.parentNode.removeChild(j)}var ha={showCompass:!0,showZoom:!0,visualizePitch:!1},xo=function(j){var X=this;this.options=a.extend({},ha,j),this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(G){return G.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(G){return X._map.zoomIn({},{originalEvent:G})}),y.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(G){return X._map.zoomOut({},{originalEvent:G})}),y.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(G){X.options.visualizePitch?X._map.resetNorthPitch({},{originalEvent:G}):X._map.resetNorth({},{originalEvent:G})}),this._compassIcon=y.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};xo.prototype._updateZoomButtons=function(){var j=this._map.getZoom();this._zoomInButton.disabled=j===this._map.getMaxZoom(),this._zoomOutButton.disabled=j===this._map.getMinZoom()},xo.prototype._rotateCompassArrow=function(){var j=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=j},xo.prototype.onAdd=function(j){return this._map=j,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Br(this._map,this._compass,this.options.visualizePitch)),this._container},xo.prototype.onRemove=function(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},xo.prototype._createButton=function(j,X){var G=y.create("button",j,this._container);return G.type="button",G.addEventListener("click",X),G},xo.prototype._setButtonTitle=function(j,X){var G=this._map._getUIString("NavigationControl."+X);j.title=G,j.setAttribute("aria-label",G)};var Br=function(j,X,G){G===void 0&&(G=!1),this._clickTolerance=10,this.element=X,this.mouseRotate=new Nl({clickTolerance:j.dragRotate._mouseRotate._clickTolerance}),this.map=j,G&&(this.mousePitch=new Cl({clickTolerance:j.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),y.addEventListener(X,"mousedown",this.mousedown),y.addEventListener(X,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(X,"touchmove",this.touchmove),y.addEventListener(X,"touchend",this.touchend),y.addEventListener(X,"touchcancel",this.reset)};function Zr(j,X,G){if(j=new a.LngLat(j.lng,j.lat),X){var ie=new a.LngLat(j.lng-360,j.lat),be=new a.LngLat(j.lng+360,j.lat),Ie=G.locationPoint(j).distSqr(X);G.locationPoint(ie).distSqr(X)<Ie?j=ie:G.locationPoint(be).distSqr(X)<Ie&&(j=be)}for(;Math.abs(j.lng-G.center.lng)>180;){var He=G.locationPoint(j);if(He.x>=0&&He.y>=0&&He.x<=G.width&&He.y<=G.height)break;j.lng>G.center.lng?j.lng-=360:j.lng+=360}return j}Br.prototype.down=function(j,X){this.mouseRotate.mousedown(j,X),this.mousePitch&&this.mousePitch.mousedown(j,X),y.disableDrag()},Br.prototype.move=function(j,X){var G=this.map,ie=this.mouseRotate.mousemoveWindow(j,X);if(ie&&ie.bearingDelta&&G.setBearing(G.getBearing()+ie.bearingDelta),this.mousePitch){var be=this.mousePitch.mousemoveWindow(j,X);be&&be.pitchDelta&&G.setPitch(G.getPitch()+be.pitchDelta)}},Br.prototype.off=function(){var j=this.element;y.removeEventListener(j,"mousedown",this.mousedown),y.removeEventListener(j,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(j,"touchmove",this.touchmove),y.removeEventListener(j,"touchend",this.touchend),y.removeEventListener(j,"touchcancel",this.reset),this.offTemp()},Br.prototype.offTemp=function(){y.enableDrag(),y.removeEventListener(a.window,"mousemove",this.mousemove),y.removeEventListener(a.window,"mouseup",this.mouseup)},Br.prototype.mousedown=function(j){this.down(a.extend({},j,{ctrlKey:!0,preventDefault:function(){return j.preventDefault()}}),y.mousePos(this.element,j)),y.addEventListener(a.window,"mousemove",this.mousemove),y.addEventListener(a.window,"mouseup",this.mouseup)},Br.prototype.mousemove=function(j){this.move(j,y.mousePos(this.element,j))},Br.prototype.mouseup=function(j){this.mouseRotate.mouseupWindow(j),this.mousePitch&&this.mousePitch.mouseupWindow(j),this.offTemp()},Br.prototype.touchstart=function(j){j.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,j.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return j.preventDefault()}},this._startPos))},Br.prototype.touchmove=function(j){j.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,j.targetTouches)[0],this.move({preventDefault:function(){return j.preventDefault()}},this._lastPos))},Br.prototype.touchend=function(j){j.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Br.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ll={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Qo(j,X,G){var ie=j.classList;for(var be in ll)ie.remove("mapboxgl-"+G+"-anchor-"+be);ie.add("mapboxgl-"+G+"-anchor-"+X)}var Co,ya=function(j){function X(G,ie){var be=this;if(j.call(this),(G instanceof a.window.HTMLElement||ie)&&(G=a.extend({element:G},ie)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=G&&G.anchor||"center",this._color=G&&G.color||"#3FB1CE",this._draggable=G&&G.draggable||!1,this._state="inactive",this._rotation=G&&G.rotation||0,this._rotationAlignment=G&&G.rotationAlignment||"auto",this._pitchAlignment=G&&G.pitchAlignment&&G.pitchAlignment!=="auto"?G.pitchAlignment:this._rotationAlignment,G&&G.element)this._element=G.element,this._offset=a.Point.convert(G&&G.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");var Ie=y.createNS("http://www.w3.org/2000/svg","svg");Ie.setAttributeNS(null,"display","block"),Ie.setAttributeNS(null,"height","41px"),Ie.setAttributeNS(null,"width","27px"),Ie.setAttributeNS(null,"viewBox","0 0 27 41");var He=y.createNS("http://www.w3.org/2000/svg","g");He.setAttributeNS(null,"stroke","none"),He.setAttributeNS(null,"stroke-width","1"),He.setAttributeNS(null,"fill","none"),He.setAttributeNS(null,"fill-rule","evenodd");var Ze=y.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"fill-rule","nonzero");var at=y.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"transform","translate(3.0, 29.0)"),at.setAttributeNS(null,"fill","#000000");for(var Tt=0,Mt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Tt<Mt.length;Tt+=1){var re=Mt[Tt],de=y.createNS("http://www.w3.org/2000/svg","ellipse");de.setAttributeNS(null,"opacity","0.04"),de.setAttributeNS(null,"cx","10.5"),de.setAttributeNS(null,"cy","5.80029008"),de.setAttributeNS(null,"rx",re.rx),de.setAttributeNS(null,"ry",re.ry),at.appendChild(de)}var Ce=y.createNS("http://www.w3.org/2000/svg","g");Ce.setAttributeNS(null,"fill",this._color);var ze=y.createNS("http://www.w3.org/2000/svg","path");ze.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ce.appendChild(ze);var Ve=y.createNS("http://www.w3.org/2000/svg","g");Ve.setAttributeNS(null,"opacity","0.25"),Ve.setAttributeNS(null,"fill","#000000");var We=y.createNS("http://www.w3.org/2000/svg","path");We.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ve.appendChild(We);var Je=y.createNS("http://www.w3.org/2000/svg","g");Je.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Je.setAttributeNS(null,"fill","#FFFFFF");var tt=y.createNS("http://www.w3.org/2000/svg","g");tt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var lt=y.createNS("http://www.w3.org/2000/svg","circle");lt.setAttributeNS(null,"fill","#000000"),lt.setAttributeNS(null,"opacity","0.25"),lt.setAttributeNS(null,"cx","5.5"),lt.setAttributeNS(null,"cy","5.5"),lt.setAttributeNS(null,"r","5.4999962");var dt=y.createNS("http://www.w3.org/2000/svg","circle");dt.setAttributeNS(null,"fill","#FFFFFF"),dt.setAttributeNS(null,"cx","5.5"),dt.setAttributeNS(null,"cy","5.5"),dt.setAttributeNS(null,"r","5.4999962"),tt.appendChild(lt),tt.appendChild(dt),Ze.appendChild(at),Ze.appendChild(Ce),Ze.appendChild(Ve),Ze.appendChild(Je),Ze.appendChild(tt),Ie.appendChild(Ze),this._element.appendChild(Ie),this._offset=a.Point.convert(G&&G.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Ft){Ft.preventDefault()}),this._element.addEventListener("mousedown",function(Ft){Ft.preventDefault()}),this._element.addEventListener("focus",function(){var Ft=be._map.getContainer();Ft.scrollTop=0,Ft.scrollLeft=0}),Qo(this._element,this._anchor,"marker"),this._popup=null}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.addTo=function(G){return this.remove(),this._map=G,G.getCanvasContainer().appendChild(this._element),G.on("move",this._update),G.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(G){return this._lngLat=a.LngLat.convert(G),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(G){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),G){if(!("offset"in G.options)){var ie=13.5,be=Math.sqrt(Math.pow(ie,2)/2);G.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[be,-1*(24.6+be)],"bottom-right":[-be,-1*(24.6+be)],left:[ie,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=G,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(G){var ie=G.code,be=G.charCode||G.keyCode;ie!=="Space"&&ie!=="Enter"&&be!==32&&be!==13||this.togglePopup()},X.prototype._onMapClick=function(G){var ie=G.originalEvent.target,be=this._element;this._popup&&(ie===be||be.contains(ie))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var G=this._popup;return G?(G.isOpen()?G.remove():G.addTo(this._map),this):this},X.prototype._update=function(G){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Zr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ie="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ie="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ie="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var be="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?be="rotateX(0deg)":this._pitchAlignment==="map"&&(be="rotateX("+this._map.getPitch()+"deg)"),G&&G.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,ll[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+be+" "+ie)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(G){return this._offset=a.Point.convert(G),this._update(),this},X.prototype._onMove=function(G){this._pos=G.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(G){this._element.contains(G.originalEvent.target)&&(G.preventDefault(),this._positionDelta=G.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(G){return this._draggable=!!G,this._map&&(G?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(G){return this._rotation=G||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(G){return this._rotationAlignment=G||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(G){return this._pitchAlignment=G&&G!=="auto"?G:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),jl={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fa=0,Js=!1,es=function(j){function X(G){j.call(this),this.options=a.extend({},jl,G),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(G){return this._map=G,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),ie=this._setupUI,Co!==void 0?ie(Co):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(be){Co=be.state!=="denied",ie(Co)}):(Co=!!a.window.navigator.geolocation,ie(Co)),this._container;var ie},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fa=0,Js=!1},X.prototype._isOutOfMapMaxBounds=function(G){var ie=this._map.getMaxBounds(),be=G.coords;return ie&&(be.longitude<ie.getWest()||be.longitude>ie.getEast()||be.latitude<ie.getSouth()||be.latitude>ie.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},X.prototype._onSuccess=function(G){if(this._map){if(this._isOutOfMapMaxBounds(G))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",G)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=G,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(G),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(G),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",G)),this._finish()}},X.prototype._updateCamera=function(G){var ie=new a.LngLat(G.coords.longitude,G.coords.latitude),be=G.coords.accuracy,Ie=this._map.getBearing(),He=a.extend({bearing:Ie},this.options.fitBoundsOptions);this._map.fitBounds(ie.toBounds(be),He,{geolocateSource:!0})},X.prototype._updateMarker=function(G){if(G){var ie=new a.LngLat(G.coords.longitude,G.coords.latitude);this._accuracyCircleMarker.setLngLat(ie).addTo(this._map),this._userLocationDotMarker.setLngLat(ie).addTo(this._map),this._accuracy=G.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var G=this._map._container.clientHeight/2,ie=this._map.unproject([0,G]),be=this._map.unproject([1,G]),Ie=ie.distanceTo(be),He=Math.ceil(2*this._accuracy/Ie);this._circleElement.style.width=He+"px",this._circleElement.style.height=He+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(G){if(this._map){if(this.options.trackUserLocation)if(G.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ie=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ie,this._geolocateButton.setAttribute("aria-label",ie),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(G.code===3&&Js)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",G)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(G){var ie=this;if(this._container.addEventListener("contextmenu",function(He){return He.preventDefault()}),this._geolocateButton=y.create("button","mapboxgl-ctrl-geolocate",this._container),y.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",G===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var be=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=be,this._geolocateButton.setAttribute("aria-label",be)}else{var Ie=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ie,this._geolocateButton.setAttribute("aria-label",Ie)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new ya(this._dotElement),this._circleElement=y.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ya({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(He){var Ze=He.originalEvent&&He.originalEvent.type==="resize";He.geolocateSource||ie._watchState!=="ACTIVE_LOCK"||Ze||(ie._watchState="BACKGROUND",ie._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ie._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ie.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fa--,Js=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var G;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fa>1?(G={maximumAge:6e5,timeout:0},Js=!0):(G=this.options.positionOptions,Js=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,G)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),Pi={maxWidth:100,unit:"metric"},zi=function(j){this.options=a.extend({},Pi,j),a.bindAll(["_onMove","setUnit"],this)};function Lo(j,X,G){var ie=G&&G.maxWidth||100,be=j._container.clientHeight/2,Ie=j.unproject([0,be]),He=j.unproject([ie,be]),Ze=Ie.distanceTo(He);if(G&&G.unit==="imperial"){var at=3.2808*Ze;at>5280?et(X,ie,at/5280,j._getUIString("ScaleControl.Miles")):et(X,ie,at,j._getUIString("ScaleControl.Feet"))}else G&&G.unit==="nautical"?et(X,ie,Ze/1852,j._getUIString("ScaleControl.NauticalMiles")):Ze>=1e3?et(X,ie,Ze/1e3,j._getUIString("ScaleControl.Kilometers")):et(X,ie,Ze,j._getUIString("ScaleControl.Meters"))}function et(j,X,G,ie){var be,Ie,He,Ze=(be=G,(Ie=Math.pow(10,(""+Math.floor(be)).length-1))*((He=be/Ie)>=10?10:He>=5?5:He>=3?3:He>=2?2:He>=1?1:function(Tt){var Mt=Math.pow(10,Math.ceil(-Math.log(Tt)/Math.LN10));return Math.round(Tt*Mt)/Mt}(He))),at=Ze/G;j.style.width=X*at+"px",j.innerHTML=Ze+"&nbsp;"+ie}zi.prototype.getDefaultPosition=function(){return"bottom-left"},zi.prototype._onMove=function(){Lo(this._map,this._container,this.options)},zi.prototype.onAdd=function(j){return this._map=j,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",j.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},zi.prototype.onRemove=function(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},zi.prototype.setUnit=function(j){this.options.unit=j,Lo(this._map,this._container,this.options)};var rt=function(j){this._fullscreen=!1,j&&j.container&&(j.container instanceof a.window.HTMLElement?this._container=j.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};rt.prototype.onAdd=function(j){return this._map=j,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},rt.prototype.onRemove=function(){y.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},rt.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},rt.prototype._setupUI=function(){var j=this._fullscreenButton=y.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y.create("span","mapboxgl-ctrl-icon",j).setAttribute("aria-hidden",!0),j.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},rt.prototype._updateTitle=function(){var j=this._getTitle();this._fullscreenButton.setAttribute("aria-label",j),this._fullscreenButton.title=j},rt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},rt.prototype._isFullscreen=function(){return this._fullscreen},rt.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},rt.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ft={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},vt=function(j){function X(G){j.call(this),this.options=a.extend(Object.create(ft),G),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return j&&(X.__proto__=j),X.prototype=Object.create(j&&j.prototype),X.prototype.constructor=X,X.prototype.addTo=function(G){return this._map&&this.remove(),this._map=G,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(G){return this._lngLat=a.LngLat.convert(G),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(G){return this.setDOMContent(a.window.document.createTextNode(G))},X.prototype.setHTML=function(G){var ie,be=a.window.document.createDocumentFragment(),Ie=a.window.document.createElement("body");for(Ie.innerHTML=G;ie=Ie.firstChild;)be.appendChild(ie);return this.setDOMContent(be)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(G){return this.options.maxWidth=G,this._update(),this},X.prototype.setDOMContent=function(G){return this._createContent(),this._content.appendChild(G),this._update(),this},X.prototype.addClassName=function(G){this._container&&this._container.classList.add(G)},X.prototype.removeClassName=function(G){this._container&&this._container.classList.remove(G)},X.prototype.toggleClassName=function(G){if(this._container)return this._container.classList.toggle(G)},X.prototype._createContent=function(){this._content&&y.remove(this._content),this._content=y.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=y.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(G){this._update(G.point)},X.prototype._onMouseMove=function(G){this._update(G.point)},X.prototype._onDrag=function(G){this._update(G.point)},X.prototype._update=function(G){var ie=this,be=this._lngLat||this._trackPointer;if(this._map&&be&&this._content&&(this._container||(this._container=y.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=y.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(de){return ie._container.classList.add(de)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||G)){var Ie=this._pos=this._trackPointer&&G?G:this._map.project(this._lngLat),He=this.options.anchor,Ze=mt(this.options.offset);if(!He){var at,Tt=this._container.offsetWidth,Mt=this._container.offsetHeight;at=Ie.y+Ze.bottom.y<Mt?["top"]:Ie.y>this._map.transform.height-Mt?["bottom"]:[],Ie.x<Tt/2?at.push("left"):Ie.x>this._map.transform.width-Tt/2&&at.push("right"),He=at.length===0?"bottom":at.join("-")}var re=Ie.add(Ze[He]).round();y.setTransform(this._container,ll[He]+" translate("+re.x+"px,"+re.y+"px)"),Qo(this._container,He,"popup")}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function mt(j){if(j){if(typeof j=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(j,2)));return{center:new a.Point(0,0),top:new a.Point(0,j),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-j),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(j,0),right:new a.Point(-j,0)}}if(j instanceof a.Point||Array.isArray(j)){var G=a.Point.convert(j);return{center:G,top:G,"top-left":G,"top-right":G,bottom:G,"bottom-left":G,"bottom-right":G,left:G,right:G}}return{center:a.Point.convert(j.center||[0,0]),top:a.Point.convert(j.top||[0,0]),"top-left":a.Point.convert(j["top-left"]||[0,0]),"top-right":a.Point.convert(j["top-right"]||[0,0]),bottom:a.Point.convert(j.bottom||[0,0]),"bottom-left":a.Point.convert(j["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(j["bottom-right"]||[0,0]),left:a.Point.convert(j.left||[0,0]),right:a.Point.convert(j.right||[0,0])}}return mt(new a.Point(0,0))}var At={version:a.version,supported:k,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:_s,NavigationControl:xo,GeolocateControl:es,AttributionControl:to,ScaleControl:zi,FullscreenControl:rt,Popup:vt,Marker:ya,Style:mr,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){It().acquire(ut)},clearPrewarmedResources:function(){var j=wt;j&&(j.isPreloaded()&&j.numActive()===1?(j.release(ut),wt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(j){a.config.ACCESS_TOKEN=j},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(j){a.config.API_URL=j},get workerCount(){return pt.workerCount},set workerCount(j){pt.workerCount=j},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(j){a.config.MAX_PARALLEL_IMAGE_REQUESTS=j},clearStorage:function(j){a.clearTileCache(j)},workerUrl:""};return At}),b}()},27084:function(L){"use strict";L.exports=Math.log2||function(M){return Math.log(M)*Math.LOG2E}},16825:function(L,M,e){"use strict";L.exports=function(w,a){a||(a=w,w=window);var k=0,y=0,f=0,l={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function s(d){var x=!1;return"altKey"in d&&(x=x||d.altKey!==l.alt,l.alt=!!d.altKey),"shiftKey"in d&&(x=x||d.shiftKey!==l.shift,l.shift=!!d.shiftKey),"ctrlKey"in d&&(x=x||d.ctrlKey!==l.control,l.control=!!d.ctrlKey),"metaKey"in d&&(x=x||d.metaKey!==l.meta,l.meta=!!d.metaKey),x}function o(d,x){var g=b.x(x),v=b.y(x);"buttons"in x&&(d=0|x.buttons),(d!==k||g!==y||v!==f||s(x))&&(k=0|d,y=g||0,f=v||0,a&&a(k,y,f,l))}function n(d){o(0,d)}function r(){(k||y||f||l.shift||l.alt||l.meta||l.control)&&(y=f=0,k=0,l.shift=l.alt=l.control=l.meta=!1,a&&a(0,0,0,l))}function i(d){s(d)&&a&&a(k,y,f,l)}function u(d){b.buttons(d)===0?o(0,d):o(k,d)}function p(d){o(k|b.buttons(d),d)}function h(d){o(k&~b.buttons(d),d)}function _(){t||(t=!0,w.addEventListener("mousemove",u),w.addEventListener("mousedown",p),w.addEventListener("mouseup",h),w.addEventListener("mouseleave",n),w.addEventListener("mouseenter",n),w.addEventListener("mouseout",n),w.addEventListener("mouseover",n),w.addEventListener("blur",r),w.addEventListener("keyup",i),w.addEventListener("keydown",i),w.addEventListener("keypress",i),w!==window&&(window.addEventListener("blur",r),window.addEventListener("keyup",i),window.addEventListener("keydown",i),window.addEventListener("keypress",i)))}_();var m={element:w};return Object.defineProperties(m,{enabled:{get:function(){return t},set:function(d){d?_():t&&(t=!1,w.removeEventListener("mousemove",u),w.removeEventListener("mousedown",p),w.removeEventListener("mouseup",h),w.removeEventListener("mouseleave",n),w.removeEventListener("mouseenter",n),w.removeEventListener("mouseout",n),w.removeEventListener("mouseover",n),w.removeEventListener("blur",r),w.removeEventListener("keyup",i),w.removeEventListener("keydown",i),w.removeEventListener("keypress",i),w!==window&&(window.removeEventListener("blur",r),window.removeEventListener("keyup",i),window.removeEventListener("keydown",i),window.removeEventListener("keypress",i)))},enumerable:!0},buttons:{get:function(){return k},enumerable:!0},x:{get:function(){return y},enumerable:!0},y:{get:function(){return f},enumerable:!0},mods:{get:function(){return l},enumerable:!0}}),m};var b=e(74311)},48956:function(L){var M={left:0,top:0};L.exports=function(e,b,w){b=b||e.currentTarget||e.srcElement,Array.isArray(w)||(w=[0,0]);var a,k=e.clientX||0,y=e.clientY||0,f=(a=b)===window||a===document||a===document.body?M:a.getBoundingClientRect();return w[0]=k-f.left,w[1]=y-f.top,w}},74311:function(L,M){"use strict";function e(b){return b.target||b.srcElement||window}M.buttons=function(b){if(typeof b=="object"){if("buttons"in b)return b.buttons;if("which"in b){if((w=b.which)===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in b){var w;if((w=b.button)===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0},M.element=e,M.x=function(b){if(typeof b=="object"){if("offsetX"in b)return b.offsetX;var w=e(b).getBoundingClientRect();return b.clientX-w.left}return 0},M.y=function(b){if(typeof b=="object"){if("offsetY"in b)return b.offsetY;var w=e(b).getBoundingClientRect();return b.clientY-w.top}return 0}},1195:function(L,M,e){"use strict";var b=e(75686);L.exports=function(w,a,k){typeof w=="function"&&(k=!!a,a=w,w=window);var y=b("ex",w),f=function(l){k&&l.preventDefault();var t=l.deltaX||0,s=l.deltaY||0,o=l.deltaZ||0,n=1;switch(l.deltaMode){case 1:n=y;break;case 2:n=window.innerHeight}if(s*=n,o*=n,(t*=n)||s||o)return a(t,s,o,l)};return w.addEventListener("wheel",f),f}},7417:function(L,M,e){var b;(function(w,a,k){a[w]=a[w]||function(){"use strict";var y,f,l,t=Object.prototype.toString,s=typeof setImmediate<"u"?function(g){return setImmediate(g)}:setTimeout;try{Object.defineProperty({},"x",{}),y=function(g,v,T,c){return Object.defineProperty(g,v,{value:T,writable:!0,configurable:c!==!1})}}catch{y=function(v,T,c){return v[T]=c,v}}function o(g,v){l.add(g,v),f||(f=s(l.drain))}function n(g){var v,T=typeof g;return g==null||T!="object"&&T!="function"||(v=g.then),typeof v=="function"&&v}function r(){for(var g=0;g<this.chain.length;g++)i(this,this.state===1?this.chain[g].success:this.chain[g].failure,this.chain[g]);this.chain.length=0}function i(g,v,T){var c,E;try{v===!1?T.reject(g.msg):(c=v===!0?g.msg:v.call(void 0,g.msg))===T.promise?T.reject(TypeError("Promise-chain cycle")):(E=n(c))?E.call(c,T.resolve,T.reject):T.resolve(c)}catch(A){T.reject(A)}}function u(g){var v,T=this;if(!T.triggered){T.triggered=!0,T.def&&(T=T.def);try{(v=n(g))?o(function(){var c=new _(T);try{v.call(g,function(){u.apply(c,arguments)},function(){p.apply(c,arguments)})}catch(E){p.call(c,E)}}):(T.msg=g,T.state=1,T.chain.length>0&&o(r,T))}catch(c){p.call(new _(T),c)}}}function p(g){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=g,v.state=2,v.chain.length>0&&o(r,v))}function h(g,v,T,c){for(var E=0;E<v.length;E++)(function(A){g.resolve(v[A]).then(function(C){T(A,C)},c)})(E)}function _(g){this.def=g,this.triggered=!1}function m(g){this.promise=g,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function d(g){if(typeof g!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var v=new m(this);this.then=function(T,c){var E={success:typeof T!="function"||T,failure:typeof c=="function"&&c};return E.promise=new this.constructor(function(A,C){if(typeof A!="function"||typeof C!="function")throw TypeError("Not a function");E.resolve=A,E.reject=C}),v.chain.push(E),v.state!==0&&o(r,v),E.promise},this.catch=function(T){return this.then(void 0,T)};try{g.call(void 0,function(T){u.call(v,T)},function(T){p.call(v,T)})}catch(T){p.call(v,T)}}l=function(){var g,v,T;function c(E,A){this.fn=E,this.self=A,this.next=void 0}return{add:function(E,A){T=new c(E,A),v?v.next=T:g=T,v=T,T=void 0},drain:function(){var E=g;for(g=v=f=void 0;E;)E.fn.call(E.self),E=E.next}}}();var x=y({},"constructor",d,!1);return d.prototype=x,y(x,"__NPO__",0,!1),y(d,"resolve",function(g){return g&&typeof g=="object"&&g.__NPO__===1?g:new this(function(v,T){if(typeof v!="function"||typeof T!="function")throw TypeError("Not a function");v(g)})}),y(d,"reject",function(g){return new this(function(v,T){if(typeof v!="function"||typeof T!="function")throw TypeError("Not a function");T(g)})}),y(d,"all",function(g){var v=this;return t.call(g)!="[object Array]"?v.reject(TypeError("Not an array")):g.length===0?v.resolve([]):new v(function(T,c){if(typeof T!="function"||typeof c!="function")throw TypeError("Not a function");var E=g.length,A=Array(E),C=0;h(v,g,function(O,P){A[O]=P,++C===E&&T(A)},c)})}),y(d,"race",function(g){var v=this;return t.call(g)!="[object Array]"?v.reject(TypeError("Not an array")):new v(function(T,c){if(typeof T!="function"||typeof c!="function")throw TypeError("Not a function");h(v,g,function(E,A){T(A)},c)})}),d}(),L.exports?L.exports=a[w]:(b=function(){return a[w]}.call(M,e,M,L))===void 0||(L.exports=b)})("Promise",e.g!==void 0?e.g:this)},18625:function(L){var M=Math.PI,e=y(120);function b(f,l,t,s){return["C",f,l,t,s,t,s]}function w(f,l,t,s,o,n){return["C",f/3+.6666666666666666*t,l/3+.6666666666666666*s,o/3+.6666666666666666*t,n/3+.6666666666666666*s,o,n]}function a(f,l,t,s,o,n,r,i,u,p){if(p)E=p[0],A=p[1],T=p[2],c=p[3];else{var h=k(f,l,-o);f=h.x,l=h.y;var _=(f-(i=(h=k(i,u,-o)).x))/2,m=(l-(u=h.y))/2,d=_*_/(t*t)+m*m/(s*s);d>1&&(t*=d=Math.sqrt(d),s*=d);var x=t*t,g=s*s,v=(n==r?-1:1)*Math.sqrt(Math.abs((x*g-x*m*m-g*_*_)/(x*m*m+g*_*_)));v==1/0&&(v=1);var T=v*t*m/s+(f+i)/2,c=v*-s*_/t+(l+u)/2,E=Math.asin(((l-c)/s).toFixed(9)),A=Math.asin(((u-c)/s).toFixed(9));(E=f<T?M-E:E)<0&&(E=2*M+E),(A=i<T?M-A:A)<0&&(A=2*M+A),r&&E>A&&(E-=2*M),!r&&A>E&&(A-=2*M)}if(Math.abs(A-E)>e){var C=A,O=i,P=u;A=E+e*(r&&A>E?1:-1);var D=a(i=T+t*Math.cos(A),u=c+s*Math.sin(A),t,s,o,0,r,O,P,[A,C,T,c])}var z=Math.tan((A-E)/4),V=4/3*t*z,F=4/3*s*z,W=[2*f-(f+V*Math.sin(E)),2*l-(l-F*Math.cos(E)),i+V*Math.sin(A),u-F*Math.cos(A),i,u];if(p)return W;D&&(W=W.concat(D));for(var B=0;B<W.length;){var U=k(W[B],W[B+1],o);W[B++]=U.x,W[B++]=U.y}return W}function k(f,l,t){return{x:f*Math.cos(t)-l*Math.sin(t),y:f*Math.sin(t)+l*Math.cos(t)}}function y(f){return f*(M/180)}L.exports=function(f){for(var l,t=[],s=0,o=0,n=0,r=0,i=null,u=null,p=0,h=0,_=0,m=f.length;_<m;_++){var d=f[_],x=d[0];switch(x){case"M":n=d[1],r=d[2];break;case"A":(d=a(p,h,d[1],d[2],y(d[3]),d[4],d[5],d[6],d[7])).unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var g=p,v=h;l!="C"&&l!="S"||(g+=g-s,v+=v-o),d=["C",g,v,d[1],d[2],d[3],d[4]];break;case"T":l=="Q"||l=="T"?(i=2*p-i,u=2*h-u):(i=p,u=h),d=w(p,h,i,u,d[1],d[2]);break;case"Q":i=d[1],u=d[2],d=w(p,h,d[1],d[2],d[3],d[4]);break;case"L":d=b(p,h,d[1],d[2]);break;case"H":d=b(p,h,d[1],h);break;case"V":d=b(p,h,p,d[1]);break;case"Z":d=b(p,h,n,r)}l=x,p=d[d.length-2],h=d[d.length-1],d.length>4?(s=d[d.length-4],o=d[d.length-3]):(s=p,o=h),t.push(d)}return t}},56131:function(L){"use strict";var M=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function w(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}L.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var k={},y=0;y<10;y++)k["_"+String.fromCharCode(y)]=y;if(Object.getOwnPropertyNames(k).map(function(l){return k[l]}).join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(l){f[l]=l}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(a,k){for(var y,f,l=w(a),t=1;t<arguments.length;t++){for(var s in y=Object(arguments[t]))e.call(y,s)&&(l[s]=y[s]);if(M){f=M(y);for(var o=0;o<f.length;o++)b.call(y,f[o])&&(l[f[o]]=y[f[o]])}}return l}},65848:function(L){"use strict";var M=function(e){return e!=e};L.exports=function(e,b){return e===0&&b===0?1/e==1/b:e===b||!(!M(e)||!M(b))}},64003:function(L,M,e){"use strict";var b=e(17045),w=e(68222),a=e(65848),k=e(27015),y=e(55572),f=w(k(),Object);b(f,{getPolyfill:k,implementation:a,shim:y}),L.exports=f},27015:function(L,M,e){"use strict";var b=e(65848);L.exports=function(){return typeof Object.is=="function"?Object.is:b}},55572:function(L,M,e){"use strict";var b=e(27015),w=e(17045);L.exports=function(){var a=b();return w(Object,{is:a},{is:function(){return Object.is!==a}}),a}},99019:function(L,M,e){"use strict";var b;if(!Object.keys){var w=Object.prototype.hasOwnProperty,a=Object.prototype.toString,k=e(64178),y=Object.prototype.propertyIsEnumerable,f=!y.call({toString:null},"toString"),l=y.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(r){var i=r.constructor;return i&&i.prototype===r},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var r in window)try{if(!o["$"+r]&&w.call(window,r)&&window[r]!==null&&typeof window[r]=="object")try{s(window[r])}catch{return!0}}catch{return!0}return!1}();b=function(r){var i=r!==null&&typeof r=="object",u=a.call(r)==="[object Function]",p=k(r),h=i&&a.call(r)==="[object String]",_=[];if(!i&&!u&&!p)throw new TypeError("Object.keys called on a non-object");var m=l&&u;if(h&&r.length>0&&!w.call(r,0))for(var d=0;d<r.length;++d)_.push(String(d));if(p&&r.length>0)for(var x=0;x<r.length;++x)_.push(String(x));else for(var g in r)m&&g==="prototype"||!w.call(r,g)||_.push(String(g));if(f)for(var v=function(c){if(typeof window>"u"||!n)return s(c);try{return s(c)}catch{return!1}}(r),T=0;T<t.length;++T)v&&t[T]==="constructor"||!w.call(r,t[T])||_.push(t[T]);return _}}L.exports=b},8709:function(L,M,e){"use strict";var b=Array.prototype.slice,w=e(64178),a=Object.keys,k=a?function(f){return a(f)}:e(99019),y=Object.keys;k.shim=function(){if(Object.keys){var f=function(){var l=Object.keys(arguments);return l&&l.length===arguments.length}(1,2);f||(Object.keys=function(l){return w(l)?y(b.call(l)):y(l)})}else Object.keys=k;return Object.keys||k},L.exports=k},64178:function(L){"use strict";var M=Object.prototype.toString;L.exports=function(e){var b=M.call(e),w=b==="[object Arguments]";return w||(w=b!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&M.call(e.callee)==="[object Function]"),w}},88641:function(L){"use strict";function M(w,a){if(typeof w!="string")return[w];var k=[w];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var y=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],f=a.escape||"___",l=!!a.flat;y.forEach(function(s){var o=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),n=[];function r(i,u,p){var h=k.push(i.slice(s[0].length,-s[1].length))-1;return n.push(h),f+h+f}k.forEach(function(i,u){for(var p,h=0;i!=p;)if(p=i,i=i.replace(o,r),h++>1e4)throw Error("References have circular dependency. Please, check them.");k[u]=i}),n=n.reverse(),k=k.map(function(i){return n.forEach(function(u){i=i.replace(new RegExp("(\\"+f+u+"\\"+f+")","g"),s[0]+"$1"+s[1])}),i})});var t=new RegExp("\\"+f+"([0-9]+)\\"+f);return l?k:function s(o,n,r){for(var i,u=[],p=0;i=t.exec(o);){if(p++>1e4)throw Error("Circular references in parenthesis");u.push(o.slice(0,i.index)),u.push(s(n[i[1]],n)),o=o.slice(i.index+i[0].length)}return u.push(o),u}(k[0],k)}function e(w,a){if(a&&a.flat){var k,y=a&&a.escape||"___",f=w[0];if(!f)return"";for(var l=new RegExp("\\"+y+"([0-9]+)\\"+y),t=0;f!=k;){if(t++>1e4)throw Error("Circular references in "+w);k=f,f=f.replace(l,s)}return f}return w.reduce(function o(n,r){return Array.isArray(r)&&(r=r.reduce(o,"")),n+r},"");function s(o,n){if(w[n]==null)throw Error("Reference "+n+"is undefined");return w[n]}}function b(w,a){return Array.isArray(w)?e(w,a):M(w,a)}b.parse=M,b.stringify=e,L.exports=b},18863:function(L,M,e){"use strict";var b=e(71299);L.exports=function(w){var a;return arguments.length>1&&(w=arguments),typeof w=="string"?w=w.split(/\s/).map(parseFloat):typeof w=="number"&&(w=[w]),w.length&&typeof w[0]=="number"?a=w.length===1?{width:w[0],height:w[0],x:0,y:0}:w.length===2?{width:w[0],height:w[1],x:0,y:0}:{x:w[0],y:w[1],width:w[2]-w[0]||0,height:w[3]-w[1]||0}:w&&(a={x:(w=b(w,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:w.top||0},w.width==null?w.right?a.width=w.right-a.x:a.width=0:a.width=w.width,w.height==null?w.bottom?a.height=w.bottom-a.y:a.height=0:a.height=w.height),a}},95616:function(L){L.exports=function(w){var a=[];return w.replace(e,function(k,y,f){var l=y.toLowerCase();for(f=function(t){var s=t.match(b);return s?s.map(Number):[]}(f),l=="m"&&f.length>2&&(a.push([y].concat(f.splice(0,2))),l="l",y=y=="m"?"l":"L");;){if(f.length==M[l])return f.unshift(y),a.push(f);if(f.length<M[l])throw new Error("malformed path data");a.push([y].concat(f.splice(0,M[l])))}}),a};var M={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,b=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(L){L.exports=function(M,e){e||(e=[0,""]),M=String(M);var b=parseFloat(M,10);return e[0]=b,e[1]=M.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},9748:function(L,M,e){var b=e(90386);(function(){var w,a,k,y,f,l;typeof performance<"u"&&performance!==null&&performance.now?L.exports=function(){return performance.now()}:b!=null&&b.hrtime?(L.exports=function(){return(w()-f)/1e6},a=b.hrtime,y=(w=function(){var t;return 1e9*(t=a())[0]+t[1]})(),l=1e9*b.uptime(),f=y-l):Date.now?(L.exports=function(){return Date.now()-k},k=Date.now()):(L.exports=function(){return new Date().getTime()-k},k=new Date().getTime())}).call(this)},71299:function(L){"use strict";L.exports=function(b,w,a){var k,y,f={};if(typeof w=="string"&&(w=e(w)),Array.isArray(w)){var l={};for(y=0;y<w.length;y++)l[w[y]]=!0;w=l}for(k in w)w[k]=e(w[k]);var t={};for(k in w){var s=w[k];if(Array.isArray(s))for(y=0;y<s.length;y++){var o=s[y];if(a&&(t[o]=!0),o in b){if(f[k]=b[o],a)for(var n=y;n<s.length;n++)t[s[n]]=!0;break}}else k in b&&(w[k]&&(f[k]=b[k]),a&&(t[k]=!0))}if(a)for(k in b)t[k]||(f[k]=b[k]);return f};var M={};function e(b){return M[b]?M[b]:(typeof b=="string"&&(b=M[b]=b.split(/\s*,\s*|\s+/)),b)}},38258:function(L){L.exports=function(M,e,b,w){var a=M[0],k=M[1],y=!1;b===void 0&&(b=0),w===void 0&&(w=e.length);for(var f=w-b,l=0,t=f-1;l<f;t=l++){var s=e[l+b][0],o=e[l+b][1],n=e[t+b][0],r=e[t+b][1];o>k!=r>k&&a<(n-s)*(k-o)/(r-o)+s&&(y=!y)}return y}},52142:function(L,M,e){var b,w=e(69444),a=e(29023),k=e(87263),y=e(11328),f=e(55968),l=e(10670),t=!1,s=a();function o(n,r,i){var u=b.segments(n),p=b.segments(r),h=i(b.combine(u,p));return b.polygon(h)}b={buildLog:function(n){return n===!0?t=w():n===!1&&(t=!1),t!==!1&&t.list},epsilon:function(n){return s.epsilon(n)},segments:function(n){var r=k(!0,s,t);return n.regions.forEach(r.addRegion),{segments:r.calculate(n.inverted),inverted:n.inverted}},combine:function(n,r){return{combined:k(!1,s,t).calculate(n.segments,n.inverted,r.segments,r.inverted),inverted1:n.inverted,inverted2:r.inverted}},selectUnion:function(n){return{segments:f.union(n.combined,t),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:f.intersect(n.combined,t),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:f.difference(n.combined,t),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:f.differenceRev(n.combined,t),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:f.xor(n.combined,t),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:y(n.segments,s,t),inverted:n.inverted}},polygonFromGeoJSON:function(n){return l.toPolygon(b,n)},polygonToGeoJSON:function(n){return l.fromPolygon(b,s,n)},union:function(n,r){return o(n,r,b.selectUnion)},intersect:function(n,r){return o(n,r,b.selectIntersect)},difference:function(n,r){return o(n,r,b.selectDifference)},differenceRev:function(n,r){return o(n,r,b.selectDifferenceRev)},xor:function(n,r){return o(n,r,b.selectXor)}},typeof window=="object"&&(window.PolyBool=b),L.exports=b},69444:function(L){L.exports=function(){var M,e=0,b=!1;function w(a,k){return M.list.push({type:a,data:k?JSON.parse(JSON.stringify(k)):void 0}),M}return M={list:[],segmentId:function(){return e++},checkIntersection:function(a,k){return w("check",{seg1:a,seg2:k})},segmentChop:function(a,k){return w("div_seg",{seg:a,pt:k}),w("chop",{seg:a,pt:k})},statusRemove:function(a){return w("pop_seg",{seg:a})},segmentUpdate:function(a){return w("seg_update",{seg:a})},segmentNew:function(a,k){return w("new_seg",{seg:a,primary:k})},segmentRemove:function(a){return w("rem_seg",{seg:a})},tempStatus:function(a,k,y){return w("temp_status",{seg:a,above:k,below:y})},rewind:function(a){return w("rewind",{seg:a})},status:function(a,k,y){return w("status",{seg:a,above:k,below:y})},vert:function(a){return a===b?M:(b=a,w("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),w("log",{txt:a})},reset:function(){return w("reset")},selected:function(a){return w("selected",{segs:a})},chainStart:function(a){return w("chain_start",{seg:a})},chainRemoveHead:function(a,k){return w("chain_rem_head",{index:a,pt:k})},chainRemoveTail:function(a,k){return w("chain_rem_tail",{index:a,pt:k})},chainNew:function(a,k){return w("chain_new",{pt1:a,pt2:k})},chainMatch:function(a){return w("chain_match",{index:a})},chainClose:function(a){return w("chain_close",{index:a})},chainAddHead:function(a,k){return w("chain_add_head",{index:a,pt:k})},chainAddTail:function(a,k){return w("chain_add_tail",{index:a,pt:k})},chainConnect:function(a,k){return w("chain_con",{index1:a,index2:k})},chainReverse:function(a){return w("chain_rev",{index:a})},chainJoin:function(a,k){return w("chain_join",{index1:a,index2:k})},done:function(){return w("done")}}}},29023:function(L){L.exports=function(M){typeof M!="number"&&(M=1e-10);var e={epsilon:function(b){return typeof b=="number"&&(M=b),M},pointAboveOrOnLine:function(b,w,a){var k=w[0],y=w[1],f=a[0],l=a[1],t=b[0];return(f-k)*(b[1]-y)-(l-y)*(t-k)>=-M},pointBetween:function(b,w,a){var k=b[1]-w[1],y=a[0]-w[0],f=b[0]-w[0],l=a[1]-w[1],t=f*y+k*l;return!(t<M||t-(y*y+l*l)>-M)},pointsSameX:function(b,w){return Math.abs(b[0]-w[0])<M},pointsSameY:function(b,w){return Math.abs(b[1]-w[1])<M},pointsSame:function(b,w){return e.pointsSameX(b,w)&&e.pointsSameY(b,w)},pointsCompare:function(b,w){return e.pointsSameX(b,w)?e.pointsSameY(b,w)?0:b[1]<w[1]?-1:1:b[0]<w[0]?-1:1},pointsCollinear:function(b,w,a){var k=b[0]-w[0],y=b[1]-w[1],f=w[0]-a[0],l=w[1]-a[1];return Math.abs(k*l-f*y)<M},linesIntersect:function(b,w,a,k){var y=w[0]-b[0],f=w[1]-b[1],l=k[0]-a[0],t=k[1]-a[1],s=y*t-f*l;if(Math.abs(s)<M)return!1;var o=b[0]-a[0],n=b[1]-a[1],r=(l*n-t*o)/s,i=(y*n-f*o)/s,u={alongA:0,alongB:0,pt:[b[0]+r*y,b[1]+r*f]};return u.alongA=r<=-M?-2:r<M?-1:r-1<=-M?0:r-1<M?1:2,u.alongB=i<=-M?-2:i<M?-1:i-1<=-M?0:i-1<M?1:2,u},pointInsideRegion:function(b,w){for(var a=b[0],k=b[1],y=w[w.length-1][0],f=w[w.length-1][1],l=!1,t=0;t<w.length;t++){var s=w[t][0],o=w[t][1];o-k>M!=f-k>M&&(y-s)*(k-o)/(f-o)+s-a>M&&(l=!l),y=s,f=o}return l}};return e}},10670:function(L){var M={toPolygon:function(e,b){function w(y){if(y.length<=0)return e.segments({inverted:!1,regions:[]});function f(s){var o=s.slice(0,s.length-1);return e.segments({inverted:!1,regions:[o]})}for(var l=f(y[0]),t=1;t<y.length;t++)l=e.selectDifference(e.combine(l,f(y[t])));return l}if(b.type==="Polygon")return e.polygon(w(b.coordinates));if(b.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),k=0;k<b.coordinates.length;k++)a=e.selectUnion(e.combine(a,w(b.coordinates[k])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,b,w){function a(i,u){return b.pointInsideRegion([.5*(i[0][0]+i[1][0]),.5*(i[0][1]+i[1][1])],u)}function k(i){return{region:i,children:[]}}w=e.polygon(e.segments(w));var y=k(null);function f(i,u){for(var p=0;p<i.children.length;p++)if(a(u,(_=i.children[p]).region))return void f(_,u);var h=k(u);for(p=0;p<i.children.length;p++){var _;a((_=i.children[p]).region,u)&&(h.children.push(_),i.children.splice(p,1),p--)}i.children.push(h)}for(var l=0;l<w.regions.length;l++){var t=w.regions[l];t.length<3||f(y,t)}function s(i,u){for(var p=0,h=i[i.length-1][0],_=i[i.length-1][1],m=[],d=0;d<i.length;d++){var x=i[d][0],g=i[d][1];m.push([x,g]),p+=g*h-x*_,h=x,_=g}return p<0!==u&&m.reverse(),m.push([m[0][0],m[0][1]]),m}var o=[];function n(i){var u=[s(i.region,!1)];o.push(u);for(var p=0;p<i.children.length;p++)u.push(r(i.children[p]))}function r(i){for(var u=0;u<i.children.length;u++)n(i.children[u]);return s(i.region,!0)}for(l=0;l<y.children.length;l++)n(y.children[l]);return o.length<=0?{type:"Polygon",coordinates:[]}:o.length==1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}};L.exports=M},87263:function(L,M,e){var b=e(26859);L.exports=function(w,a,k){function y(n,r,i){return{id:k?k.segmentId():-1,start:n,end:r,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var f=b.create();function l(n,r){f.insertBefore(n,function(i){return u=n.isStart,p=n.pt,h=r,_=i.isStart,m=i.pt,d=i.other.pt,((x=a.pointsCompare(p,m))!==0?x:a.pointsSame(h,d)?0:u!==_?u?1:-1:a.pointAboveOrOnLine(h,_?m:d,_?d:m)?1:-1)<0;var u,p,h,_,m,d,x})}function t(n,r){var i=function(u,p){var h=b.node({isStart:!0,pt:u.start,seg:u,primary:p,other:null,status:null});return l(h,u.end),h}(n,r);return function(u,p,h){var _=b.node({isStart:!1,pt:p.end,seg:p,primary:h,other:u,status:null});u.other=_,l(_,u.pt)}(i,n,r),i}function s(n,r){var i=y(r,n.seg.end,n.seg);return function(u,p){k&&k.segmentChop(u.seg,p),u.other.remove(),u.seg.end=p,u.other.pt=p,l(u.other,u.pt)}(n,r),t(i,n.primary)}function o(n,r){var i=b.create();function u(C){return i.findTransition(function(O){var P,D,z,V,F,W;return P=C,D=O.ev,z=P.seg.start,V=P.seg.end,F=D.seg.start,W=D.seg.end,(a.pointsCollinear(z,F,W)?a.pointsCollinear(V,F,W)||a.pointAboveOrOnLine(V,F,W)?1:-1:a.pointAboveOrOnLine(z,F,W)?1:-1)>0})}function p(C,O){var P=C.seg,D=O.seg,z=P.start,V=P.end,F=D.start,W=D.end;k&&k.checkIntersection(P,D);var B=a.linesIntersect(z,V,F,W);if(B===!1){if(!a.pointsCollinear(z,V,F)||a.pointsSame(z,W)||a.pointsSame(V,F))return!1;var U=a.pointsSame(z,F),H=a.pointsSame(V,W);if(U&&H)return O;var q=!U&&a.pointBetween(z,F,W),ee=!H&&a.pointBetween(V,F,W);if(U)return ee?s(O,V):s(C,W),O;q&&(H||(ee?s(O,V):s(C,W)),s(O,z))}else B.alongA===0&&(B.alongB===-1?s(C,F):B.alongB===0?s(C,B.pt):B.alongB===1&&s(C,W)),B.alongB===0&&(B.alongA===-1?s(O,z):B.alongA===0?s(O,B.pt):B.alongA===1&&s(O,V));return!1}for(var h=[];!f.isEmpty();){var _=f.getHead();if(k&&k.vert(_.pt[0]),_.isStart){let C=function(){if(d){var O=p(_,d);if(O)return O}return!!x&&p(_,x)};var A=C;k&&k.segmentNew(_.seg,_.primary);var m=u(_),d=m.before?m.before.ev:null,x=m.after?m.after.ev:null;k&&k.tempStatus(_.seg,!!d&&d.seg,!!x&&x.seg);var g,v,T=C();if(T&&(w?(v=_.seg.myFill.below===null||_.seg.myFill.above!==_.seg.myFill.below)&&(T.seg.myFill.above=!T.seg.myFill.above):T.seg.otherFill=_.seg.myFill,k&&k.segmentUpdate(T.seg),_.other.remove(),_.remove()),f.getHead()!==_){k&&k.rewind(_.seg);continue}w?(v=_.seg.myFill.below===null||_.seg.myFill.above!==_.seg.myFill.below,_.seg.myFill.below=x?x.seg.myFill.above:n,_.seg.myFill.above=v?!_.seg.myFill.below:_.seg.myFill.below):_.seg.otherFill===null&&(g=x?_.primary===x.primary?x.seg.otherFill.above:x.seg.myFill.above:_.primary?r:n,_.seg.otherFill={above:g,below:g}),k&&k.status(_.seg,!!d&&d.seg,!!x&&x.seg),_.other.status=m.insert(b.node({ev:_}))}else{var c=_.status;if(c===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(c.prev)&&i.exists(c.next)&&p(c.prev.ev,c.next.ev),k&&k.statusRemove(c.ev.seg),c.remove(),!_.primary){var E=_.seg.myFill;_.seg.myFill=_.seg.otherFill,_.seg.otherFill=E}h.push(_.seg)}f.getHead().remove()}return k&&k.done(),h}return w?{addRegion:function(n){for(var r,i,u,p=n[n.length-1],h=0;h<n.length;h++){r=p,p=n[h];var _=a.pointsCompare(r,p);_!==0&&t((i=_<0?r:p,u=_<0?p:r,{id:k?k.segmentId():-1,start:i,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(n){return o(n,!1)}}:{calculate:function(n,r,i,u){return n.forEach(function(p){t(y(p.start,p.end,p),!0)}),i.forEach(function(p){t(y(p.start,p.end,p),!1)}),o(r,u)}}}},26859:function(L){L.exports={create:function(){var M={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==M.root},isEmpty:function(){return M.root.next===null},getHead:function(){return M.root.next},insertBefore:function(e,b){for(var w=M.root,a=M.root.next;a!==null;){if(b(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);w=a,a=a.next}w.next=e,e.prev=w,e.next=null},findTransition:function(e){for(var b=M.root,w=M.root.next;w!==null&&!e(w);)b=w,w=w.next;return{before:b===M.root?null:b,after:w,insert:function(a){return a.prev=b,a.next=w,b.next=a,w!==null&&(w.prev=a),a}}}};return M},node:function(M){return M.prev=null,M.next=null,M.remove=function(){M.prev.next=M.next,M.next&&(M.next.prev=M.prev),M.prev=null,M.next=null},M}}},11328:function(L){L.exports=function(M,e,b){var w=[],a=[];return M.forEach(function(k){var y=k.start,f=k.end;if(e.pointsSame(y,f))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{b&&b.chainStart(k);for(var l={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},s=l,o=0;o<w.length;o++){var n=(h=w[o])[0],r=(h[1],h[h.length-1]);if(h[h.length-2],e.pointsSame(n,y)){if(c(o,!0,!0))break}else if(e.pointsSame(n,f)){if(c(o,!0,!1))break}else if(e.pointsSame(r,y)){if(c(o,!1,!0))break}else if(e.pointsSame(r,f)&&c(o,!1,!1))break}if(s===l)return w.push([y,f]),void(b&&b.chainNew(y,f));if(s===t){b&&b.chainMatch(l.index);var i=l.index,u=l.matches_pt1?f:y,p=l.matches_head,h=w[i],_=p?h[0]:h[h.length-1],m=p?h[1]:h[h.length-2],d=p?h[h.length-1]:h[0],x=p?h[h.length-2]:h[1];return e.pointsCollinear(m,_,u)&&(p?(b&&b.chainRemoveHead(l.index,u),h.shift()):(b&&b.chainRemoveTail(l.index,u),h.pop()),_=m),e.pointsSame(d,u)?(w.splice(i,1),e.pointsCollinear(x,d,_)&&(p?(b&&b.chainRemoveTail(l.index,_),h.pop()):(b&&b.chainRemoveHead(l.index,_),h.shift())),b&&b.chainClose(l.index),void a.push(h)):void(p?(b&&b.chainAddHead(l.index,u),h.unshift(u)):(b&&b.chainAddTail(l.index,u),h.push(u)))}var g=l.index,v=t.index;b&&b.chainConnect(g,v);var T=w[g].length<w[v].length;l.matches_head?t.matches_head?T?(E(g),A(g,v)):(E(v),A(v,g)):A(v,g):t.matches_head?A(g,v):T?(E(g),A(v,g)):(E(v),A(g,v))}function c(C,O,P){return s.index=C,s.matches_head=O,s.matches_pt1=P,s===l?(s=t,!1):(s=null,!0)}function E(C){b&&b.chainReverse(C),w[C].reverse()}function A(C,O){var P=w[C],D=w[O],z=P[P.length-1],V=P[P.length-2],F=D[0],W=D[1];e.pointsCollinear(V,z,F)&&(b&&b.chainRemoveTail(C,z),P.pop(),z=V),e.pointsCollinear(z,F,W)&&(b&&b.chainRemoveHead(O,F),D.shift()),b&&b.chainJoin(C,O),w[C]=P.concat(D),w.splice(O,1)}}),a}},55968:function(L){function M(b,w,a){var k=[];return b.forEach(function(y){var f=(y.myFill.above?8:0)+(y.myFill.below?4:0)+(y.otherFill&&y.otherFill.above?2:0)+(y.otherFill&&y.otherFill.below?1:0);w[f]!==0&&k.push({id:a?a.segmentId():-1,start:y.start,end:y.end,myFill:{above:w[f]===1,below:w[f]===2},otherFill:null})}),a&&a.selected(k),k}var e={union:function(b,w){return M(b,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],w)},intersect:function(b,w){return M(b,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],w)},difference:function(b,w){return M(b,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],w)},differenceRev:function(b,w){return M(b,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],w)},xor:function(b,w){return M(b,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],w)}};L.exports=e},14847:function(L,M,e){"use strict";var b=e(21630).Transform,w=e(90715);function a(){b.call(this,{readableObjectMode:!0})}function k(y,f,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=y,f&&(this.code=f),l&&(this.statusCode=l)}a.prototype=Object.create(b.prototype),a.prototype.constructor=a,w(a.prototype),M.OF=function(y,f,l){for(var t=f,s=0;s<l.length;)if(y[t++]!==l[s++])return!1;return!0},M.eG=function(y,f){var l=[],t=0;if(f&&f==="hex")for(;t<y.length;)l.push(parseInt(y.slice(t,t+2),16)),t+=2;else for(;t<y.length;t++)l.push(255&y.charCodeAt(t));return l},M.mP=function(y,f){return y[f]|y[f+1]<<8},M.n8=function(y,f){return y[f+1]|y[f]<<8},M.nm=function(y,f){return y[f]|y[f+1]<<8|y[f+2]<<16|16777216*y[f+3]},M.Ag=function(y,f){return y[f+3]|y[f+2]<<8|y[f+1]<<16|16777216*y[f]},k.prototype=Object.create(Error.prototype),k.prototype.constructor=k},71371:function(L){"use strict";function M(w,a){var k=new Error(w);return k.code=a,k}function e(w){try{return decodeURIComponent(escape(w))}catch{return w}}function b(w,a,k){this.input=w.subarray(a,k),this.start=a;var y=String.fromCharCode.apply(null,this.input.subarray(0,4));if(y!=="II*\0"&&y!=="MM\0*")throw M("invalid TIFF signature","EBADDATA");this.big_endian=y[0]==="M"}b.prototype.each=function(w){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var k=this.ifds_to_read.shift();k.offset&&this.scan_ifd(k.id,k.offset,w)}},b.prototype.read_uint16=function(w){var a=this.input;if(w+2>a.length)throw M("unexpected EOF","EBADDATA");return this.big_endian?256*a[w]+a[w+1]:a[w]+256*a[w+1]},b.prototype.read_uint32=function(w){var a=this.input;if(w+4>a.length)throw M("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[w]+65536*a[w+1]+256*a[w+2]+a[w+3]:a[w]+256*a[w+1]+65536*a[w+2]+16777216*a[w+3]},b.prototype.is_subifd_link=function(w,a){return w===0&&a===34665||w===0&&a===34853||w===34665&&a===40965},b.prototype.exif_format_length=function(w){switch(w){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},b.prototype.exif_format_read=function(w,a){var k;switch(w){case 1:case 2:return this.input[a];case 6:return(k=this.input[a])|33554430*(128&k);case 3:return this.read_uint16(a);case 8:return(k=this.read_uint16(a))|131070*(32768&k);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},b.prototype.scan_ifd=function(w,a,k){var y=this.read_uint16(a);a+=2;for(var f=0;f<y;f++){var l=this.read_uint16(a),t=this.read_uint16(a+2),s=this.read_uint32(a+4),o=this.exif_format_length(t),n=s*o,r=n<=4?a+8:this.read_uint32(a+8),i=!1;if(r+n>this.input.length)throw M("unexpected EOF","EBADDATA");for(var u=[],p=r,h=0;h<s;h++,p+=o){var _=this.exif_format_read(t,p);if(_===null){u=null;break}u.push(_)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(w,l)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:l,offset:u[0]}),i=!0),k({is_big_endian:this.big_endian,ifd:w,tag:l,format:t,count:s,entry_offset:a+this.start,data_length:n,data_offset:r+this.start,value:u,is_subifd_link:i})===!1)return void(this.aborted=!0);a+=12}w===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},L.exports.ExifParser=b,L.exports.get_orientation=function(w){var a=0;try{return new b(w,0,w.length).each(function(k){if(k.ifd===0&&k.tag===274&&Array.isArray(k.value))return a=k.value[0],!1}),a}catch{return-1}}},76767:function(L,M,e){"use strict";var b=e(14847).n8,w=e(14847).Ag;function a(s,o){if(s.length<4+o)return null;var n=w(s,o);return s.length<n+o||n<8?null:{boxtype:String.fromCharCode.apply(null,s.slice(o+4,o+8)),data:s.slice(o+8,o+n),end:o+n}}function k(s,o){for(var n=0;;){var r=a(s,n);if(!r)break;switch(r.boxtype){case"ispe":o.sizes.push({width:w(r.data,4),height:w(r.data,8)});break;case"irot":o.transforms.push({type:"irot",value:3&r.data[0]});break;case"imir":o.transforms.push({type:"imir",value:1&r.data[0]})}n=r.end}}function y(s,o,n){for(var r=0,i=0;i<n;i++)r=256*r+(s[o+i]||0);return r}function f(s,o){for(var n=s[4]>>4&15,r=15&s[4],i=s[5]>>4&15,u=b(s,6),p=8,h=0;h<u;h++){var _=b(s,p),m=b(s,p+=2),d=y(s,p+=2,i),x=b(s,p+=i);if(p+=2,m===0&&x===1){var g=y(s,p,n),v=y(s,p+n,r);o.item_loc[_]={length:v,offset:g+d}}p+=x*(n+r)}}function l(s,o){for(var n=b(s,4),r=6,i=0;i<n;i++){var u=a(s,r);if(!u)break;if(u.boxtype==="infe"){for(var p=b(u.data,4),h="",_=8;_<u.data.length&&u.data[_];_++)h+=String.fromCharCode(u.data[_]);o.item_inf[h]=p}r=u.end}}function t(s,o){for(var n=0;;){var r=a(s,n);if(!r)break;r.boxtype==="ipco"&&k(r.data,o),n=r.end}}L.exports.unbox=a,L.exports.readSizeFromMeta=function(s){var o={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(_,m){for(var d=4;;){var x=a(_,d);if(!x)break;x.boxtype==="iprp"&&t(x.data,m),x.boxtype==="iloc"&&f(x.data,m),x.boxtype==="iinf"&&l(x.data,m),d=x.end}}(s,o),o.sizes.length){var n,r,i,u=(r=(n=o.sizes).reduce(function(_,m){return _.width>m.width||_.width===m.width&&_.height>m.height?_:m}),i=n.reduce(function(_,m){return _.height>m.height||_.height===m.height&&_.width>m.width?_:m}),r.width>i.height||r.width===i.height&&r.height>i.width?r:i),p=1;o.transforms.forEach(function(_){var m={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},d={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(_.type==="imir"&&(p=_.value===0?d[p]:m[p=m[p=d[p]]]),_.type==="irot")for(var x=0;x<_.value;x++)p=m[p]});var h=null;return o.item_inf.Exif&&(h=o.item_loc[o.item_inf.Exif]),{width:u.width,height:u.height,orientation:o.transforms.length?p:null,variants:o.sizes,exif_location:h}}},L.exports.getMimeType=function(s){var o=String.fromCharCode.apply(null,s.slice(0,4)),n={};n[o]=!0;for(var r=8;r<s.length;r+=4)n[String.fromCharCode.apply(null,s.slice(r,r+4))]=!0;if(n.mif1||n.msf1||n.miaf)return o==="avif"||o==="avis"||o==="avio"?{type:"avif",mime:"image/avif"}:o==="heic"||o==="heix"?{type:"heic",mime:"image/heic"}:o==="hevc"||o==="hevx"?{type:"heic",mime:"image/heic-sequence"}:n.avif||n.avis?{type:"avif",mime:"image/avif"}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).Ag,k=e(76767),y=e(71371),f=b("ftyp");L.exports=function(l){if(w(l,4,f)){var t=k.unbox(l,0);if(t){var s=k.getMimeType(t.data);if(s){for(var o,n=t.end;;){var r=k.unbox(l,n);if(!r)break;if(n=r.end,r.boxtype==="mdat")return;if(r.boxtype==="meta"){o=r.data;break}}if(o){var i=k.readSizeFromMeta(o);if(i){var u={width:i.width,height:i.height,type:s.type,mime:s.mime,wUnits:"px",hUnits:"px"};if(i.variants.length>1&&(u.variants=i.variants),i.orientation&&(u.orientation=i.orientation),i.exif_location&&i.exif_location.offset+i.exif_location.length<=l.length){var p=a(l,i.exif_location.offset),h=l.slice(i.exif_location.offset+p+4,i.exif_location.offset+i.exif_location.length),_=y.get_orientation(h);_>0&&(u.orientation=_)}return u}}}}}}},2504:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).mP,k=b("BM");L.exports=function(y){if(!(y.length<26)&&w(y,0,k))return{width:a(y,18),height:a(y,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).mP,k=b("GIF87a"),y=b("GIF89a");L.exports=function(f){if(!(f.length<10)&&(w(f,0,k)||w(f,0,y)))return{width:a(f,6),height:a(f,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(L,M,e){"use strict";var b=e(14847).mP;L.exports=function(w){var a=b(w,0),k=b(w,2),y=b(w,4);if(a===0&&k===1&&y){for(var f=[],l={width:0,height:0},t=0;t<y;t++){var s=w[6+16*t]||256,o=w[6+16*t+1]||256,n={width:s,height:o};f.push(n),(s>l.width||o>l.height)&&(l=n)}return{width:l.width,height:l.height,variants:f,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(L,M,e){"use strict";var b=e(14847).n8,w=e(14847).eG,a=e(14847).OF,k=e(71371),y=w("Exif\0\0");L.exports=function(f){if(!(f.length<2)&&f[0]===255&&f[1]===216&&f[2]===255)for(var l=2;;){for(;;){if(f.length-l<2)return;if(f[l++]===255)break}for(var t,s,o=f[l++];o===255;)o=f[l++];if(208<=o&&o<=217||o===1)t=0;else{if(!(192<=o&&o<=254)||f.length-l<2)return;t=b(f,l)-2,l+=2}if(o===217||o===218)return;if(o===225&&t>=10&&a(f,l,y)&&(s=k.get_orientation(f.slice(l+6,l+t))),t>=5&&192<=o&&o<=207&&o!==196&&o!==200&&o!==204){if(f.length-l<t)return;var n={width:b(f,l+3),height:b(f,l+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}l+=t}}},6303:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).Ag,k=b(`\x89PNG\r

`),y=b("IHDR");L.exports=function(f){if(!(f.length<24)&&w(f,0,k)&&w(f,12,y))return{width:a(f,16),height:a(f,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).Ag,k=b("8BPS\0");L.exports=function(y){if(!(y.length<22)&&w(y,0,k))return{width:a(y,18),height:a(y,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(L){"use strict";function M(l){return typeof l=="number"&&isFinite(l)&&l>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,b=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,w=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,k=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function f(l){return y.test(l)?l.match(y)[0]:"px"}L.exports=function(l){if(function(d){var x,g=0,v=d.length;for(d[0]===239&&d[1]===187&&d[2]===191&&(g=3);g<v&&((x=d[g])===32||x===9||x===13||x===10);)g++;return g!==v&&d[g]===60}(l)){for(var t="",s=0;s<l.length;s++)t+=String.fromCharCode(l[s]);var o=(t.match(e)||[""])[0];if(b.test(o)){var n=function(d){var x=d.match(w),g=d.match(a),v=d.match(k);return{width:x&&(x[1]||x[2]),height:g&&(g[1]||g[2]),viewbox:v&&(v[1]||v[2])}}(o),r=parseFloat(n.width),i=parseFloat(n.height);if(n.width&&n.height)return!M(r)||!M(i)?void 0:{width:r,height:i,type:"svg",mime:"image/svg+xml",wUnits:f(n.width),hUnits:f(n.height)};var u=(n.viewbox||"").split(" "),p={width:u[2],height:u[3]},h=parseFloat(p.width),_=parseFloat(p.height);if(M(h)&&M(_)&&f(p.width)===f(p.height)){var m=h/_;return n.width?M(r)?{width:r,height:r/m,type:"svg",mime:"image/svg+xml",wUnits:f(n.width),hUnits:f(n.width)}:void 0:n.height?M(i)?{width:i*m,height:i,type:"svg",mime:"image/svg+xml",wUnits:f(n.height),hUnits:f(n.height)}:void 0:{width:h,height:_,type:"svg",mime:"image/svg+xml",wUnits:f(p.width),hUnits:f(p.height)}}}}}},66278:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).mP,k=e(14847).n8,y=e(14847).nm,f=e(14847).Ag,l=b("II*\0"),t=b("MM\0*");function s(r,i,u){return u?k(r,i):a(r,i)}function o(r,i,u){return u?f(r,i):y(r,i)}function n(r,i,u){var p=s(r,i+2,u);return o(r,i+4,u)!==1||p!==3&&p!==4?null:p===3?s(r,i+8,u):o(r,i+8,u)}L.exports=function(r){if(!(r.length<8)&&(w(r,0,l)||w(r,0,t))){var i=r[0]===77,u=o(r,4,i)-8;if(!(u<0)){var p=u+8;if(!(r.length-p<2)){var h=12*s(r,p+0,i);if(!(h<=0||(p+=2,r.length-p<h))){var _,m,d,x;for(_=0;_<h;_+=12)(x=s(r,p+_,i))===256?m=n(r,p+_,i):x===257&&(d=n(r,p+_,i));return m&&d?{width:m,height:d,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(L,M,e){"use strict";var b=e(14847).eG,w=e(14847).OF,a=e(14847).mP,k=e(14847).nm,y=e(71371),f=b("RIFF"),l=b("WEBP");function t(n,r){if(n[r+3]===157&&n[r+4]===1&&n[r+5]===42)return{width:16383&a(n,r+6),height:16383&a(n,r+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function s(n,r){if(n[r]===47){var i=k(n,r+1);return{width:1+(16383&i),height:1+(i>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function o(n,r){return{width:1+(n[r+6]<<16|n[r+5]<<8|n[r+4]),height:1+(n[r+9]<<r|n[r+8]<<8|n[r+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}L.exports=function(n){if(!(n.length<16)&&(w(n,0,f)||w(n,8,l))){var r=12,i=null,u=0,p=k(n,4)+8;if(!(p>n.length)){for(;r+8<p;)if(n[r]!==0){var h=String.fromCharCode.apply(null,n.slice(r,r+4)),_=k(n,r+4);h==="VP8 "&&_>=10?i=i||t(n,r+8):h==="VP8L"&&_>=9?i=i||s(n,r+8):h==="VP8X"&&_>=10?i=i||o(n,r+8):h==="EXIF"&&(u=y.get_orientation(n.slice(r+8,r+8+_)),r=1/0),r+=8+_}else r++;if(i)return u>0&&(i.orientation=u),i}}}},91497:function(L,M,e){"use strict";L.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(L,M,e){"use strict";var b=e(91497);L.exports=function(w){return function(a){for(var k=Object.keys(b),y=0;y<k.length;y++){var f=b[k[y]](a);if(f)return f}return null}(w)},L.exports.parsers=b},90386:function(L){var M,e,b=L.exports={};function w(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function k(i){if(M===setTimeout)return setTimeout(i,0);if((M===w||!M)&&setTimeout)return M=setTimeout,setTimeout(i,0);try{return M(i,0)}catch{try{return M.call(null,i,0)}catch{return M.call(this,i,0)}}}(function(){try{M=typeof setTimeout=="function"?setTimeout:w}catch{M=w}try{e=typeof clearTimeout=="function"?clearTimeout:a}catch{e=a}})();var y,f=[],l=!1,t=-1;function s(){l&&y&&(l=!1,y.length?f=y.concat(f):t=-1,f.length&&o())}function o(){if(!l){var i=k(s);l=!0;for(var u=f.length;u;){for(y=f,f=[];++t<u;)y&&y[t].run();t=-1,u=f.length}y=null,l=!1,function(p){if(e===clearTimeout)return clearTimeout(p);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(p);try{e(p)}catch{try{return e.call(null,p)}catch{return e.call(this,p)}}}(i)}}function n(i,u){this.fun=i,this.array=u}function r(){}b.nextTick=function(i){var u=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)u[p-1]=arguments[p];f.push(new n(i,u)),f.length!==1||l||k(o)},n.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=r,b.addListener=r,b.once=r,b.off=r,b.removeListener=r,b.removeAllListeners=r,b.emit=r,b.prependListener=r,b.prependOnceListener=r,b.listeners=function(i){return[]},b.binding=function(i){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(i){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},5877:function(L,M,e){for(var b=e(9748),w=typeof window>"u"?e.g:window,a=["moz","webkit"],k="AnimationFrame",y=w["request"+k],f=w["cancel"+k]||w["cancelRequest"+k],l=0;!y&&l<a.length;l++)y=w[a[l]+"Request"+k],f=w[a[l]+"Cancel"+k]||w[a[l]+"CancelRequest"+k];if(!y||!f){var t=0,s=0,o=[];y=function(n){if(o.length===0){var r=b(),i=Math.max(0,16.666666666666668-(r-t));t=i+r,setTimeout(function(){var u=o.slice(0);o.length=0;for(var p=0;p<u.length;p++)if(!u[p].cancelled)try{u[p].callback(t)}catch(h){setTimeout(function(){throw h},0)}},Math.round(i))}return o.push({handle:++s,callback:n,cancelled:!1}),s},f=function(n){for(var r=0;r<o.length;r++)o[r].handle===n&&(o[r].cancelled=!0)}}L.exports=function(n){return y.call(w,n)},L.exports.cancel=function(){f.apply(w,arguments)},L.exports.polyfill=function(n){n||(n=w),n.requestAnimationFrame=y,n.cancelAnimationFrame=f}},3593:function(L,M,e){"use strict";var b=e(21527),w=e(25075),a=e(93447),k=e(71299),y=e(56131),f=e(30120),l=e(57060),t=l.float32,s=l.fract32;L.exports=function(n,r){if(typeof n=="function"?(r||(r={}),r.regl=n):r=n,r.length&&(r.positions=r),!(n=r.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var i,u,p,h,_,m,d=n._gl,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},g=[];return h=n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),_=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=n.buffer({usage:"static",type:"float",data:o}),E(r),i=n({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:n.prop("range"),lineWidth:n.prop("lineWidth"),capSize:n.prop("capSize"),opacity:n.prop("opacity"),scale:n.prop("scale"),translate:n.prop("translate"),scaleFract:n.prop("scaleFract"),translateFract:n.prop("translateFract"),viewport:function(C,O){return[O.viewport.x,O.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:h,offset:function(C,O){return 4*O.offset},divisor:1},position:{buffer:u,offset:function(C,O){return 8*O.offset},divisor:1},positionFract:{buffer:p,offset:function(C,O){return 8*O.offset},divisor:1},error:{buffer:_,offset:function(C,O){return 16*O.offset},divisor:1},direction:{buffer:m,stride:24,offset:0},lineOffset:{buffer:m,stride:24,offset:8},capOffset:{buffer:m,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:!1,instances:n.prop("count"),count:o.length}),y(v,{update:E,draw:T,destroy:A,regl:n,gl:d,canvas:d.canvas,groups:g}),v;function v(C){C?E(C):C===null&&A(),T()}function T(C){if(typeof C=="number")return c(C);C&&!Array.isArray(C)&&(C=[C]),n._refresh(),g.forEach(function(O,P){O&&(C&&(C[P]?O.draw=!0:O.draw=!1),O.draw?c(P):O.draw=!0)})}function c(C){typeof C=="number"&&(C=g[C]),C!=null&&C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1&&(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],i(C),C.after&&C.after(C))}function E(C){if(C){C.length!=null?typeof C[0]=="number"&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var O=0,P=0;if(v.groups=g=C.map(function(U,H){var q=g[H];return U&&(typeof U=="function"?U={after:U}:typeof U[0]=="number"&&(U={positions:U}),U=k(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(g[H]=q={id:H,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=y({},x,U)),a(q,U,[{lineWidth:function(ee){return .5*+ee},capSize:function(ee){return .5*+ee},opacity:parseFloat,errors:function(ee){return ee=f(ee),P+=ee.length,ee},positions:function(ee,K){return ee=f(ee,"float64"),K.count=Math.floor(ee.length/2),K.bounds=b(ee,2),K.offset=O,O+=K.count,ee}},{color:function(ee,K){var J=K.count;if(ee||(ee="transparent"),!Array.isArray(ee)||typeof ee[0]=="number"){var Z=ee;ee=Array(J);for(var $=0;$<J;$++)ee[$]=Z}if(ee.length<J)throw Error("Not enough colors");for(var ne=new Uint8Array(4*J),ae=0;ae<J;ae++){var oe=w(ee[ae],"uint8");ne.set(oe,4*ae)}return ne},range:function(ee,K,J){var Z=K.bounds;return ee||(ee=Z),K.scale=[1/(ee[2]-ee[0]),1/(ee[3]-ee[1])],K.translate=[-ee[0],-ee[1]],K.scaleFract=s(K.scale),K.translateFract=s(K.translate),ee},viewport:function(ee){var K;return Array.isArray(ee)?K={x:ee[0],y:ee[1],width:ee[2]-ee[0],height:ee[3]-ee[1]}:ee?(K={x:ee.x||ee.left||0,y:ee.y||ee.top||0},ee.right?K.width=ee.right-K.x:K.width=ee.w||ee.width||0,ee.bottom?K.height=ee.bottom-K.y:K.height=ee.h||ee.height||0):K={x:0,y:0,width:d.drawingBufferWidth,height:d.drawingBufferHeight},K}}])),q}),O||P){var D=g.reduce(function(U,H,q){return U+(H?H.count:0)},0),z=new Float64Array(2*D),V=new Uint8Array(4*D),F=new Float32Array(4*D);g.forEach(function(U,H){if(U){var q=U.positions,ee=U.count,K=U.offset,J=U.color,Z=U.errors;ee&&(V.set(J,4*K),F.set(Z,4*K),z.set(q,2*K))}});var W=t(z);u(W);var B=s(z,W);p(B),h(V),_(F)}}}function A(){u.destroy(),p.destroy(),h.destroy(),_.destroy(),m.destroy()}};var o=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(L,M,e){"use strict";var b=e(25075),w=e(21527),a=e(56131),k=e(56068),y=e(71299),f=e(30120),l=e(11474),t=e(54),s=e(57060),o=s.float32,n=s.fract32,r=e(83522),i=e(18863),u=e(6851);function p(h,_){if(!(this instanceof p))return new p(h,_);if(typeof h=="function"?(_||(_={}),_.regl=h):_=h,_.length&&(_.positions=_),!(h=_.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=p.shaders.has(h)?p.shaders.get(h):p.shaders.set(h,p.createShaders(h)).get(h),this.update(_)}L.exports=p,p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new r,p.createShaders=function(h){var _,m=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(g,v){return v.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(g,v){return[v.viewport.x,v.viewport.y,g.viewportWidth,g.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(g,v){return!v.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},x=h(a({vert:k([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:k([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:m,divisor:0,stride:8,offset:0},lineTop:{buffer:m,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{_=h(a({cull:{enable:!0,face:"back"},vert:k([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:k([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:m,divisor:0,stride:8,offset:0},lineTop:{buffer:m,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch{_=x}return{fill:h({primitive:"triangle",elements:function(g,v){return v.triangles},offset:0,vert:k([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:k([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(g,v){return[v.viewport.x,v.viewport.y,g.viewportWidth,g.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:x,miter:_}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var h,_=[],m=arguments.length;m--;)_[m]=arguments[m];_.length&&(h=this).update.apply(h,_),this.draw()},p.prototype.draw=function(){for(var h=this,_=[],m=arguments.length;m--;)_[m]=arguments[m];return(_.length?_:this.passes).forEach(function(d,x){var g;if(d&&Array.isArray(d))return(g=h).draw.apply(g,d);typeof d=="number"&&(d=h.passes[d]),d&&d.count>1&&d.opacity&&(h.regl._refresh(),d.fill&&d.triangles&&d.triangles.length>2&&h.shaders.fill(d),d.thickness&&(d.scale[0]*d.viewport.width>p.precisionThreshold||d.scale[1]*d.viewport.height>p.precisionThreshold||d.join==="rect"||!d.join&&(d.thickness<=2||d.count>=p.maxPoints)?h.shaders.rect(d):h.shaders.miter(d)))}),this},p.prototype.update=function(h){var _=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var m=this.regl,d=this.gl;if(h.forEach(function(c,E){var A=_.passes[E];if(c!==void 0)if(c!==null){if(typeof c[0]=="number"&&(c={positions:c}),c=y(c,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),A||(_.passes[E]=A={id:E,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},c=a({},p.defaults,c)),c.thickness!=null&&(A.thickness=parseFloat(c.thickness)),c.opacity!=null&&(A.opacity=parseFloat(c.opacity)),c.miterLimit!=null&&(A.miterLimit=parseFloat(c.miterLimit)),c.overlay!=null&&(A.overlay=!!c.overlay,E<p.maxLines&&(A.depth=2*(p.maxLines-1-E%p.maxLines)/p.maxLines-1)),c.join!=null&&(A.join=c.join),c.hole!=null&&(A.hole=c.hole),c.fill!=null&&(A.fill=c.fill?b(c.fill,"uint8"):null),c.viewport!=null&&(A.viewport=i(c.viewport)),A.viewport||(A.viewport=i([d.drawingBufferWidth,d.drawingBufferHeight])),c.close!=null&&(A.close=c.close),c.positions===null&&(c.positions=[]),c.positions){var C,O;if(c.positions.x&&c.positions.y){var P=c.positions.x,D=c.positions.y;O=A.count=Math.max(P.length,D.length),C=new Float64Array(2*O);for(var z=0;z<O;z++)C[2*z]=P[z],C[2*z+1]=D[z]}else C=f(c.positions,"float64"),O=A.count=Math.floor(C.length/2);var V=A.bounds=w(C,2);if(A.fill){for(var F=[],W={},B=0,U=0,H=0,q=A.count;U<q;U++){var ee=C[2*U],K=C[2*U+1];isNaN(ee)||isNaN(K)||ee==null||K==null?(ee=C[2*B],K=C[2*B+1],W[U]=B):B=U,F[H++]=ee,F[H++]=K}if(c.splitNull){A.count-1 in W||(W[A.count]=A.count-1);var J=Object.keys(W).map(Number).sort(function(St,kt){return St-kt}),Z=[],$=0,ne=A.hole!=null?A.hole[0]:null;if(ne!=null){var ae=u(J,function(St){return St>=ne});(J=J.slice(0,ae)).push(ne)}for(var oe=function(St){var kt=F.slice(2*$,2*J[St]).concat(ne?F.slice(2*ne):[]),Nt=(A.hole||[]).map(function(Et){return Et-ne+(J[St]-$)}),Dt=l(kt,Nt);Dt=Dt.map(function(Et){return Et+$+(Et+$<J[St]?0:ne-J[St])}),Z.push.apply(Z,Dt),$=J[St]+1},se=0;se<J.length;se++)oe(se);for(var ce=0,me=Z.length;ce<me;ce++)W[Z[ce]]!=null&&(Z[ce]=W[Z[ce]]);A.triangles=Z}else{for(var xe=l(F,A.hole||[]),ve=0,fe=xe.length;ve<fe;ve++)W[xe[ve]]!=null&&(xe[ve]=W[xe[ve]]);A.triangles=xe}}var pe=new Float64Array(C);t(pe,2,V);var Le=new Float64Array(2*O+6);A.close?C[0]===C[2*O-2]&&C[1]===C[2*O-1]?(Le[0]=pe[2*O-4],Le[1]=pe[2*O-3]):(Le[0]=pe[2*O-2],Le[1]=pe[2*O-1]):(Le[0]=pe[0],Le[1]=pe[1]),Le.set(pe,2),A.close?C[0]===C[2*O-2]&&C[1]===C[2*O-1]?(Le[2*O+2]=pe[2],Le[2*O+3]=pe[3],A.count-=1):(Le[2*O+2]=pe[0],Le[2*O+3]=pe[1],Le[2*O+4]=pe[2],Le[2*O+5]=pe[3]):(Le[2*O+2]=pe[2*O-2],Le[2*O+3]=pe[2*O-1],Le[2*O+4]=pe[2*O-2],Le[2*O+5]=pe[2*O-1]);var ye=o(Le);A.positionBuffer(ye);var Ae=n(Le,ye);A.positionFractBuffer(Ae)}if(c.range?A.range=c.range:A.range||(A.range=A.bounds),(c.range||c.positions)&&A.count){var Me=A.bounds,ke=Me[2]-Me[0],te=Me[3]-Me[1],ue=A.range[2]-A.range[0],ge=A.range[3]-A.range[1];A.scale=[ke/ue,te/ge],A.translate=[-A.range[0]/ue+Me[0]/ue||0,-A.range[1]/ge+Me[1]/ge||0],A.scaleFract=n(A.scale),A.translateFract=n(A.translate)}if(c.dashes){var we,Ee=0;if(!c.dashes||c.dashes.length<2)Ee=1,we=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ee=0;for(var Be=0;Be<c.dashes.length;++Be)Ee+=c.dashes[Be];we=new Uint8Array(Ee*p.dashMult);for(var Re=0,je=255,he=0;he<2;he++)for(var _e=0;_e<c.dashes.length;++_e){for(var Te=0,Fe=c.dashes[_e]*p.dashMult*.5;Te<Fe;++Te)we[Re++]=je;je^=255}}A.dashLength=Ee,A.dashTexture({channels:1,data:we,width:we.length,height:1,mag:"linear",min:"linear"},0,0)}if(c.color){var Ye=A.count,Ge=c.color;Ge||(Ge="transparent");var ot=new Uint8Array(4*Ye+4);if(Array.isArray(Ge)&&typeof Ge[0]!="number"){for(var st=0;st<Ye;st++){var ht=b(Ge[st],"uint8");ot.set(ht,4*st)}ot.set(b(Ge[0],"uint8"),4*Ye)}else for(var xt=b(Ge,"uint8"),Ct=0;Ct<Ye+1;Ct++)ot.set(xt,4*Ct);A.colorBuffer({usage:"dynamic",type:"uint8",data:ot})}}else _.passes[E]=null}),h.length<this.passes.length){for(var x=h.length;x<this.passes.length;x++){var g=this.passes[x];g&&(g.colorBuffer.destroy(),g.positionBuffer.destroy(),g.dashTexture.destroy())}this.passes.length=h.length}for(var v=[],T=0;T<this.passes.length;T++)this.passes[T]!==null&&v.push(this.passes[T]);return this.passes=v,this}},p.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(L,M,e){"use strict";function b(d,x){return function(g){if(Array.isArray(g))return g}(d)||function(g,v){var T=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(T!=null){var c,E,A=[],C=!0,O=!1;try{for(T=T.call(g);!(C=(c=T.next()).done)&&(A.push(c.value),!v||A.length!==v);C=!0);}catch(P){O=!0,E=P}finally{try{C||T.return==null||T.return()}finally{if(O)throw E}}return A}}(d,x)||w(d,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(d,x){if(d){if(typeof d=="string")return a(d,x);var g=Object.prototype.toString.call(d).slice(8,-1);return g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set"?Array.from(d):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?a(d,x):void 0}}function a(d,x){(x==null||x>d.length)&&(x=d.length);for(var g=0,v=new Array(x);g<x;g++)v[g]=d[g];return v}var k=e(25075),y=e(21527),f=e(6475),l=e(88294),t=e(56131),s=e(56068),o=e(71299),n=e(93447),r=e(30120),i=e(62683),u=e(57060),p=e(18863),h=_;function _(d,x){var g=this;if(!(this instanceof _))return new _(d,x);typeof d=="function"?(x||(x={}),x.regl=d):(x=d,d=null),x&&x.length&&(x.positions=x);var v,T=(d=x.regl)._gl,c=[];this.tooManyColors=i,v=d.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:d,gl:T,groups:[],markerCache:[null],markerTextures:[null],palette:c,paletteIds:{},paletteTexture:v,maxColors:255,maxSize:100,canvas:T.canvas}),this.update(x);var E={uniforms:{constPointSize:!!x.constPointSize,opacity:d.prop("opacity"),paletteSize:function(O,P){return[g.tooManyColors?0:255,v.height]},pixelRatio:d.context("pixelRatio"),scale:d.prop("scale"),scaleFract:d.prop("scaleFract"),translate:d.prop("translate"),translateFract:d.prop("translateFract"),markerTexture:d.prop("markerTexture"),paletteTexture:v},attributes:{x:function(O,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(O,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(O,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(O,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(O,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/g.maxSize)]}},borderSize:function(O,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/g.maxSize)]}},colorId:function(O,P){return P.color.length?{buffer:P.colorBuffer,stride:g.tooManyColors?8:4,offset:0}:{constant:g.tooManyColors?c.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(O,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:g.tooManyColors?8:4,offset:g.tooManyColors?4:2}:{constant:g.tooManyColors?c.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(O,P){return P.activation===!0?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:d.prop("viewport")},viewport:d.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:d.prop("elements"),count:d.prop("count"),offset:d.prop("offset"),primitive:"points"},A=t({},E);A.frag=s([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),A.vert=s([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=d(A);var C=t({},E);C.frag=s([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),C.vert=s([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),i&&(C.frag=C.frag.replace("smoothstep","smoothStep"),A.frag=A.frag.replace("smoothstep","smoothStep")),this.drawCircle=d(C)}_.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},_.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},_.prototype.draw=function(){for(var d=this,x=arguments.length,g=new Array(x),v=0;v<x;v++)g[v]=arguments[v];var T=this.groups;if(g.length===1&&Array.isArray(g[0])&&(g[0][0]===null||Array.isArray(g[0][0]))&&(g=g[0]),this.regl._refresh(),g.length)for(var c=0;c<g.length;c++)this.drawItem(c,g[c]);else T.forEach(function(E,A){d.drawItem(A)});return this},_.prototype.drawItem=function(d,x){var g,v=this.groups,T=v[d];if(typeof x=="number"&&(d=x,T=v[x],x=null),T&&T.count&&T.opacity){T.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,T,x));for(var c=[],E=1;E<T.activation.length;E++)T.activation[E]&&(T.activation[E]===!0||T.activation[E].data.length)&&c.push.apply(c,function(A){if(Array.isArray(A))return a(A)}(g=this.getMarkerDrawOptions(E,T,x))||function(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}(g)||w(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());c.length&&this.drawMarker(c)}},_.prototype.getMarkerDrawOptions=function(d,x,g){var v=x.range,T=x.tree,c=x.viewport,E=x.activation,A=x.selectionBuffer,C=x.count;if(this.regl,!T)return g?[t({},x,{markerTexture:this.markerTextures[d],activation:E[d],count:g.length,elements:g,offset:0})]:[t({},x,{markerTexture:this.markerTextures[d],activation:E[d],offset:0})];var O=[],P=T.range(v,{lod:!0,px:[(v[2]-v[0])/c.width,(v[3]-v[1])/c.height]});if(g){for(var D=E[d].data,z=new Uint8Array(C),V=0;V<g.length;V++){var F=g[V];z[F]=D?D[F]:1}A.subdata(z)}for(var W=P.length;W--;){var B=b(P[W],2),U=B[0],H=B[1];O.push(t({},x,{markerTexture:this.markerTextures[d],activation:g?A:E[d],offset:U,count:H-U}))}return O},_.prototype.update=function(){for(var d=this,x=arguments.length,g=new Array(x),v=0;v<x;v++)g[v]=arguments[v];if(g.length){g.length===1&&Array.isArray(g[0])&&(g=g[0]);var T=this.groups,c=this.gl,E=this.regl,A=this.maxSize,C=this.maxColors,O=this.palette;this.groups=T=g.map(function(P,D){var z=T[D];if(P===void 0)return z;P===null?P={positions:null}:typeof P=="function"?P={ondraw:P}:typeof P[0]=="number"&&(P={positions:P}),(P=o(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(P.positions=[]),P.tooManyColors!=null&&(d.tooManyColors=P.tooManyColors),z||(T[D]=z={id:D,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:E.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:E.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=t({},_.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=z.marker,delete z.marker),P.marker&&!("positions"in P)&&(P.positions=z.positions,delete z.positions);var V=0,F=0;if(n(z,P,[{snap:!0,size:function(ve,fe){return ve==null&&(ve=_.defaults.size),V+=ve&&ve.length?1:0,ve},borderSize:function(ve,fe){return ve==null&&(ve=_.defaults.borderSize),V+=ve&&ve.length?1:0,ve},opacity:parseFloat,color:function(ve,fe){return ve==null&&(ve=_.defaults.color),ve=d.updateColor(ve),F++,ve},borderColor:function(ve,fe){return ve==null&&(ve=_.defaults.borderColor),ve=d.updateColor(ve),F++,ve},bounds:function(ve,fe,pe){return"range"in pe||(pe.range=null),ve},positions:function(ve,fe,pe){var Le=fe.snap,ye=fe.positionBuffer,Ae=fe.positionFractBuffer,Me=fe.selectionBuffer;if(ve.x||ve.y)return ve.x.length?fe.xAttr={buffer:E.buffer(ve.x),offset:0,stride:4,count:ve.x.length}:fe.xAttr={buffer:ve.x.buffer,offset:4*ve.x.offset||0,stride:4*(ve.x.stride||1),count:ve.x.count},ve.y.length?fe.yAttr={buffer:E.buffer(ve.y),offset:0,stride:4,count:ve.y.length}:fe.yAttr={buffer:ve.y.buffer,offset:4*ve.y.offset||0,stride:4*(ve.y.stride||1),count:ve.y.count},fe.count=Math.max(fe.xAttr.count,fe.yAttr.count),ve;ve=r(ve,"float64");var ke=fe.count=Math.floor(ve.length/2),te=fe.bounds=ke?y(ve,2):null;if(pe.range||fe.range||(delete fe.range,pe.range=te),pe.marker||fe.marker||(delete fe.marker,pe.marker=null),Le&&(Le===!0||ke>Le)?fe.tree=l(ve,{bounds:te}):Le&&Le.length&&(fe.tree=Le),fe.tree){var ue={primitive:"points",usage:"static",data:fe.tree,type:"uint32"};fe.elements?fe.elements(ue):fe.elements=E.elements(ue)}var ge=u.float32(ve);return ye({data:ge,usage:"dynamic"}),Ae({data:u.fract32(ve,ge),usage:"dynamic"}),Me({data:new Uint8Array(ke),type:"uint8",usage:"stream"}),ve}},{marker:function(ve,fe,pe){var Le=fe.activation;if(Le.forEach(function(ge){return ge&&ge.destroy&&ge.destroy()}),Le.length=0,ve&&typeof ve[0]!="number"){for(var ye=[],Ae=0,Me=Math.min(ve.length,fe.count);Ae<Me;Ae++){var ke=d.addMarker(ve[Ae]);ye[ke]||(ye[ke]=new Uint8Array(fe.count)),ye[ke][Ae]=1}for(var te=0;te<ye.length;te++)if(ye[te]){var ue={data:ye[te],type:"uint8",usage:"static"};Le[te]?Le[te](ue):Le[te]=E.buffer(ue),Le[te].data=ye[te]}}else Le[d.addMarker(ve)]=!0;return ve},range:function(ve,fe,pe){var Le=fe.bounds;if(Le)return ve||(ve=Le),fe.scale=[1/(ve[2]-ve[0]),1/(ve[3]-ve[1])],fe.translate=[-ve[0],-ve[1]],fe.scaleFract=u.fract(fe.scale),fe.translateFract=u.fract(fe.translate),ve},viewport:function(ve){return p(ve||[c.drawingBufferWidth,c.drawingBufferHeight])}}]),V){var W=z,B=W.count,U=W.size,H=W.borderSize,q=W.sizeBuffer,ee=new Uint8Array(2*B);if(U.length||H.length)for(var K=0;K<B;K++)ee[2*K]=Math.round(255*(U[K]==null?U:U[K])/A),ee[2*K+1]=Math.round(255*(H[K]==null?H:H[K])/A);q({data:ee,usage:"dynamic"})}if(F){var J,Z=z,$=Z.count,ne=Z.color,ae=Z.borderColor,oe=Z.colorBuffer;if(d.tooManyColors){if(ne.length||ae.length){J=new Uint8Array(8*$);for(var se=0;se<$;se++){var ce=ne[se];J[8*se]=O[4*ce],J[8*se+1]=O[4*ce+1],J[8*se+2]=O[4*ce+2],J[8*se+3]=O[4*ce+3];var me=ae[se];J[8*se+4]=O[4*me],J[8*se+5]=O[4*me+1],J[8*se+6]=O[4*me+2],J[8*se+7]=O[4*me+3]}}}else if(ne.length||ae.length){J=new Uint8Array(4*$+2);for(var xe=0;xe<$;xe++)ne[xe]!=null&&(J[4*xe]=ne[xe]%C,J[4*xe+1]=Math.floor(ne[xe]/C)),ae[xe]!=null&&(J[4*xe+2]=ae[xe]%C,J[4*xe+3]=Math.floor(ae[xe]/C))}oe({data:J||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return z})}},_.prototype.addMarker=function(d){var x,g=this.markerTextures,v=this.regl,T=this.markerCache,c=d==null?0:T.indexOf(d);if(c>=0)return c;if(d instanceof Uint8Array||d instanceof Uint8ClampedArray)x=d;else{x=new Uint8Array(d.length);for(var E=0,A=d.length;E<A;E++)x[E]=255*d[E]}var C=Math.floor(Math.sqrt(x.length));return c=g.length,T.push(d),g.push(v.texture({channels:1,data:x,radius:C,mag:"linear",min:"linear"})),c},_.prototype.updateColor=function(d){var x=this.paletteIds,g=this.palette,v=this.maxColors;Array.isArray(d)||(d=[d]);var T=[];if(typeof d[0]=="number"){var c=[];if(Array.isArray(d))for(var E=0;E<d.length;E+=4)c.push(d.slice(E,E+4));else for(var A=0;A<d.length;A+=4)c.push(d.subarray(A,A+4));d=c}for(var C=0;C<d.length;C++){var O=d[C];O=k(O,"uint8");var P=f(O,!1);if(x[P]==null){var D=g.length;x[P]=Math.floor(D/4),g[D]=O[0],g[D+1]=O[1],g[D+2]=O[2],g[D+3]=O[3]}T[C]=x[P]}return!this.tooManyColors&&g.length>4*v&&(this.tooManyColors=!0),this.updatePalette(g),T.length===1?T[0]:T},_.prototype.updatePalette=function(d){if(!this.tooManyColors){var x=this.maxColors,g=this.paletteTexture,v=Math.ceil(.25*d.length/x);if(v>1)for(var T=.25*(d=d.slice()).length%x;T<v*x;T++)d.push(0,0,0,0);g.height<v&&g.resize(x,v),g.subimage({width:Math.min(.25*d.length,x),height:v,data:d},0,0)}},_.prototype.destroy=function(){return this.groups.forEach(function(d){d.sizeBuffer.destroy(),d.positionBuffer.destroy(),d.positionFractBuffer.destroy(),d.colorBuffer.destroy(),d.activation.forEach(function(x){return x&&x.destroy&&x.destroy()}),d.selectionBuffer.destroy(),d.elements&&d.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(d){return d&&d.destroy&&d.destroy()}),this};var m=e(56131);L.exports=function(d,x){var g=new h(d,x),v=g.render.bind(g);return m(v,{render:v,update:g.update.bind(g),draw:g.draw.bind(g),destroy:g.destroy.bind(g),regl:g.regl,gl:g.gl,canvas:g.gl.canvas,groups:g.groups,markers:g.markerCache,palette:g.palette}),v}},60487:function(L,M,e){"use strict";var b=e(11870),w=e(71299),a=e(21527),k=e(5877),y=e(57471),f=e(18863),l=e(30120);function t(r,i){if(!(this instanceof t))return new t(r,i);this.traces=[],this.passes={},this.regl=r,this.scatter=b(r),this.canvas=this.scatter.canvas}function s(r,i,u){return(r.id!=null?r.id:r)<<16|(255&i)<<8|255&u}function o(r,i,u){var p,h,_,m,d=r[i],x=r[u];return d.length>2?(d[0],d[2],p=d[1],h=d[3]):d.length?(p=d[0],h=d[1]):(d.x,p=d.y,d.x,d.width,h=d.y+d.height),x.length>2?(_=x[0],m=x[2],x[1],x[3]):x.length?(_=x[0],m=x[1]):(_=x.x,x.y,m=x.x+x.width,x.y,x.height),[_,p,m,h]}function n(r){if(typeof r=="number")return[r,r,r,r];if(r.length===2)return[r[0],r[1],r[0],r[1]];var i=f(r);return[i.x,i.y,i.x+i.width,i.y+i.height]}L.exports=t,t.prototype.render=function(){for(var r,i=this,u=[],p=arguments.length;p--;)u[p]=arguments[p];return u.length&&(r=this).update.apply(r,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=k(function(){i.draw(),i.dirty=!0,i.planned=null})):(this.draw(),this.dirty=!0,k(function(){i.dirty=!1})),this)},t.prototype.update=function(){for(var r,i=[],u=arguments.length;u--;)i[u]=arguments[u];if(i.length){for(var p=0;p<i.length;p++)this.updateItem(p,i[p]);this.traces=this.traces.filter(Boolean);for(var h=[],_=0,m=0;m<this.traces.length;m++){for(var d=this.traces[m],x=this.traces[m].passes,g=0;g<x.length;g++)h.push(this.passes[x[g]]);d.passOffset=_,_+=d.passes.length}return(r=this.scatter).update.apply(r,h),this}},t.prototype.updateItem=function(r,i){var u=this.regl;if(i===null)return this.traces[r]=null,this;if(!i)return this;var p,h=w(i,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),_=this.traces[r]||(this.traces[r]={id:r,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:f([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(_.color=h.color),h.size!=null&&(_.size=h.size),h.marker!=null&&(_.marker=h.marker),h.borderColor!=null&&(_.borderColor=h.borderColor),h.borderSize!=null&&(_.borderSize=h.borderSize),h.opacity!=null&&(_.opacity=h.opacity),h.viewport&&(_.viewport=f(h.viewport)),h.diagonal!=null&&(_.diagonal=h.diagonal),h.upper!=null&&(_.upper=h.upper),h.lower!=null&&(_.lower=h.lower),h.data){_.buffer(l(h.data)),_.columns=h.data.length,_.count=h.data[0].length,_.bounds=[];for(var m=0;m<_.columns;m++)_.bounds[m]=a(h.data[m],1)}h.range&&(_.range=h.range,p=_.range&&typeof _.range[0]!="number"),h.domain&&(_.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===_.columns&&typeof h.padding[h.padding.length-1]=="number"?(_.padding=h.padding.map(n),d=!0):_.padding=n(h.padding));var x=_.columns,g=_.count,v=_.viewport.width,T=_.viewport.height,c=_.viewport.x,E=_.viewport.y,A=v/x,C=T/x;_.passes=[];for(var O=0;O<x;O++)for(var P=0;P<x;P++)if((_.diagonal||P!==O)&&(_.upper||!(O>P))&&(_.lower||!(O<P))){var D=s(_.id,O,P),z=this.passes[D]||(this.passes[D]={});if(h.data&&(h.transpose?z.positions={x:{buffer:_.buffer,offset:P,count:g,stride:x},y:{buffer:_.buffer,offset:O,count:g,stride:x}}:z.positions={x:{buffer:_.buffer,offset:P*g,count:g},y:{buffer:_.buffer,offset:O*g,count:g}},z.bounds=o(_.bounds,O,P)),h.domain||h.viewport||h.data){var V=d?o(_.padding,O,P):_.padding;if(_.domain){var F=o(_.domain,O,P),W=F[0],B=F[1],U=F[2],H=F[3];z.viewport=[c+W*v+V[0],E+B*T+V[1],c+U*v-V[2],E+H*T-V[3]]}else z.viewport=[c+P*A+A*V[0],E+O*C+C*V[1],c+(P+1)*A-A*V[2],E+(O+1)*C-C*V[3]]}h.color&&(z.color=_.color),h.size&&(z.size=_.size),h.marker&&(z.marker=_.marker),h.borderSize&&(z.borderSize=_.borderSize),h.borderColor&&(z.borderColor=_.borderColor),h.opacity&&(z.opacity=_.opacity),h.range&&(z.range=p?o(_.range,O,P):_.range||z.bounds),_.passes.push(D)}return this},t.prototype.draw=function(){for(var r,i=[],u=arguments.length;u--;)i[u]=arguments[u];if(i.length){for(var p=[],h=0;h<i.length;h++)if(typeof i[h]=="number"){var _=this.traces[i[h]],m=_.passes,d=_.passOffset;p.push.apply(p,y(d,d+m.length))}else if(i[h].length){var x=i[h],g=this.traces[h],v=g.passes,T=g.passOffset;v=v.map(function(c,E){p[T+E]=x})}(r=this.scatter).draw.apply(r,p)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(r){r.buffer&&r.buffer.destroy&&r.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(L){L.exports=function(){function M(Ue,nt){this.id=ae++,this.type=Ue,this.data=nt}function e(Ue){if(Ue.length===0)return[];var nt=Ue.charAt(0),ct=Ue.charAt(Ue.length-1);if(1<Ue.length&&nt===ct&&(nt==='"'||nt==="'"))return['"'+Ue.substr(1,Ue.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(nt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ue))return e(Ue.substr(0,nt.index)).concat(e(nt[1])).concat(e(Ue.substr(nt.index+nt[0].length)));if((nt=Ue.split(".")).length===1)return['"'+Ue.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ue=[],ct=0;ct<nt.length;++ct)Ue=Ue.concat(e(nt[ct]));return Ue}function b(Ue){return"["+e(Ue).join("][")+"]"}function w(Ue){return typeof Ue=="string"?Ue.split():Ue}function a(Ue){return typeof Ue=="string"?document.querySelector(Ue):Ue}function k(Ue){var nt,ct,Oe,Ne,Qe=Ue||{};Ue={};var ut=[],pt=[],wt=typeof window>"u"?1:window.devicePixelRatio,Lt=!1,It={},yt=function(bt){},Rt=function(){};if(typeof Qe=="string"?nt=document.querySelector(Qe):typeof Qe=="object"&&(typeof Qe.nodeName=="string"&&typeof Qe.appendChild=="function"&&typeof Qe.getBoundingClientRect=="function"?nt=Qe:typeof Qe.drawArrays=="function"||typeof Qe.drawElements=="function"?Oe=(Ne=Qe).canvas:("gl"in Qe?Ne=Qe.gl:"canvas"in Qe?Oe=a(Qe.canvas):"container"in Qe&&(ct=a(Qe.container)),"attributes"in Qe&&(Ue=Qe.attributes),"extensions"in Qe&&(ut=w(Qe.extensions)),"optionalExtensions"in Qe&&(pt=w(Qe.optionalExtensions)),"onDone"in Qe&&(yt=Qe.onDone),"profile"in Qe&&(Lt=!!Qe.profile),"pixelRatio"in Qe&&(wt=+Qe.pixelRatio),"cachedCode"in Qe&&(It=Qe.cachedCode))),nt&&(nt.nodeName.toLowerCase()==="canvas"?Oe=nt:ct=nt),!Ne){if(!Oe){if(!(nt=function(bt,Pt,Bt){function Zt(){var tn=window.innerWidth,on=window.innerHeight;bt!==document.body&&(tn=(on=Kt.getBoundingClientRect()).right-on.left,on=on.bottom-on.top),Kt.width=Bt*tn,Kt.height=Bt*on}var Yt,Kt=document.createElement("canvas");return ne(Kt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),bt.appendChild(Kt),bt===document.body&&(Kt.style.position="absolute",ne(bt.style,{margin:0,padding:0})),bt!==document.body&&typeof ResizeObserver=="function"?(Yt=new ResizeObserver(function(){setTimeout(Zt)})).observe(bt):window.addEventListener("resize",Zt,!1),Zt(),{canvas:Kt,onDestroy:function(){Yt?Yt.disconnect():window.removeEventListener("resize",Zt),bt.removeChild(Kt)}}}(ct||document.body,0,wt)))return null;Oe=nt.canvas,Rt=nt.onDestroy}Ue.premultipliedAlpha===void 0&&(Ue.premultipliedAlpha=!0),Ne=function(bt,Pt){function Bt(Zt){try{return bt.getContext(Zt,Pt)}catch{return null}}return Bt("webgl")||Bt("experimental-webgl")||Bt("webgl-experimental")}(Oe,Ue)}return Ne?{gl:Ne,canvas:Oe,container:ct,extensions:ut,optionalExtensions:pt,pixelRatio:wt,profile:Lt,cachedCode:It,onDone:yt,onDestroy:Rt}:(Rt(),yt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function y(Ue,nt){for(var ct=Array(Ue),Oe=0;Oe<Ue;++Oe)ct[Oe]=nt(Oe);return ct}function f(Ue){var nt,ct;return nt=(65535<Ue)<<4,nt|=ct=(255<(Ue>>>=nt))<<3,(nt|=ct=(15<(Ue>>>=ct))<<2)|(ct=(3<(Ue>>>=ct))<<1)|Ue>>>ct>>1}function l(){function Ue(Oe){e:{for(var Ne=16;268435456>=Ne;Ne*=16)if(Oe<=Ne){Oe=Ne;break e}Oe=0}return 0<(Ne=ct[f(Oe)>>2]).length?Ne.pop():new ArrayBuffer(Oe)}function nt(Oe){ct[f(Oe.byteLength)>>2].push(Oe)}var ct=y(8,function(){return[]});return{alloc:Ue,free:nt,allocType:function(Oe,Ne){var Qe=null;switch(Oe){case 5120:Qe=new Int8Array(Ue(Ne),0,Ne);break;case 5121:Qe=new Uint8Array(Ue(Ne),0,Ne);break;case 5122:Qe=new Int16Array(Ue(2*Ne),0,Ne);break;case 5123:Qe=new Uint16Array(Ue(2*Ne),0,Ne);break;case 5124:Qe=new Int32Array(Ue(4*Ne),0,Ne);break;case 5125:Qe=new Uint32Array(Ue(4*Ne),0,Ne);break;case 5126:Qe=new Float32Array(Ue(4*Ne),0,Ne);break;default:return null}return Qe.length!==Ne?Qe.subarray(0,Ne):Qe},freeType:function(Oe){nt(Oe.buffer)}}}function t(Ue){return!!Ue&&typeof Ue=="object"&&Array.isArray(Ue.shape)&&Array.isArray(Ue.stride)&&typeof Ue.offset=="number"&&Ue.shape.length===Ue.stride.length&&(Array.isArray(Ue.data)||ve(Ue.data))}function s(Ue,nt,ct,Oe,Ne,Qe){for(var ut=0;ut<nt;++ut)for(var pt=Ue[ut],wt=0;wt<ct;++wt)for(var Lt=pt[wt],It=0;It<Oe;++It)Ne[Qe++]=Lt[It]}function o(Ue,nt,ct,Oe,Ne){for(var Qe=1,ut=ct+1;ut<nt.length;++ut)Qe*=nt[ut];var pt=nt[ct];if(nt.length-ct==4){var wt=nt[ct+1],Lt=nt[ct+2];for(nt=nt[ct+3],ut=0;ut<pt;++ut)s(Ue[ut],wt,Lt,nt,Oe,Ne),Ne+=Qe}else for(ut=0;ut<pt;++ut)o(Ue[ut],nt,ct+1,Oe,Ne),Ne+=Qe}function n(Ue){return 0|Le[Object.prototype.toString.call(Ue)]}function r(Ue,nt){for(var ct=0;ct<nt.length;++ct)Ue[ct]=nt[ct]}function i(Ue,nt,ct,Oe,Ne,Qe,ut){for(var pt=0,wt=0;wt<ct;++wt)for(var Lt=0;Lt<Oe;++Lt)Ue[pt++]=nt[Ne*wt+Qe*Lt+ut]}function u(Ue,nt,ct,Oe){function Ne(yt){this.id=wt++,this.buffer=Ue.createBuffer(),this.type=yt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ct.profile&&(this.stats={size:0})}function Qe(yt,Rt,bt){yt.byteLength=Rt.byteLength,Ue.bufferData(yt.type,Rt,bt)}function ut(yt,Rt,bt,Pt,Bt,Zt){if(yt.usage=bt,Array.isArray(Rt)){if(yt.dtype=Pt||5126,0<Rt.length)if(Array.isArray(Rt[0])){Bt=ke(Rt);for(var Yt=Pt=1;Yt<Bt.length;++Yt)Pt*=Bt[Yt];yt.dimension=Pt,Qe(yt,Rt=Me(Rt,Bt,yt.dtype),bt),Zt?yt.persistentData=Rt:me.freeType(Rt)}else typeof Rt[0]=="number"?(yt.dimension=Bt,r(Bt=me.allocType(yt.dtype,Rt.length),Rt),Qe(yt,Bt,bt),Zt?yt.persistentData=Bt:me.freeType(Bt)):ve(Rt[0])&&(yt.dimension=Rt[0].length,yt.dtype=Pt||n(Rt[0])||5126,Qe(yt,Rt=Me(Rt,[Rt.length,Rt[0].length],yt.dtype),bt),Zt?yt.persistentData=Rt:me.freeType(Rt))}else if(ve(Rt))yt.dtype=Pt||n(Rt),yt.dimension=Bt,Qe(yt,Rt,bt),Zt&&(yt.persistentData=new Uint8Array(new Uint8Array(Rt.buffer)));else if(t(Rt)){Bt=Rt.shape;var Kt=Rt.stride,tn=(Yt=Rt.offset,0),on=0,_n=0,fn=0;Bt.length===1?(tn=Bt[0],on=1,_n=Kt[0],fn=0):Bt.length===2&&(tn=Bt[0],on=Bt[1],_n=Kt[0],fn=Kt[1]),yt.dtype=Pt||n(Rt.data)||5126,yt.dimension=on,i(Bt=me.allocType(yt.dtype,tn*on),Rt.data,tn,on,_n,fn,Yt),Qe(yt,Bt,bt),Zt?yt.persistentData=Bt:me.freeType(Bt)}else Rt instanceof ArrayBuffer&&(yt.dtype=5121,yt.dimension=Bt,Qe(yt,Rt,bt),Zt&&(yt.persistentData=new Uint8Array(new Uint8Array(Rt))))}function pt(yt){nt.bufferCount--,Oe(yt),Ue.deleteBuffer(yt.buffer),yt.buffer=null,delete Lt[yt.id]}var wt=0,Lt={};Ne.prototype.bind=function(){Ue.bindBuffer(this.type,this.buffer)},Ne.prototype.destroy=function(){pt(this)};var It=[];return ct.profile&&(nt.getTotalBufferSize=function(){var yt=0;return Object.keys(Lt).forEach(function(Rt){yt+=Lt[Rt].stats.size}),yt}),{create:function(yt,Rt,bt,Pt){function Bt(Yt){var Kt=35044,tn=null,on=0,_n=0,fn=1;return Array.isArray(Yt)||ve(Yt)||t(Yt)||Yt instanceof ArrayBuffer?tn=Yt:typeof Yt=="number"?on=0|Yt:Yt&&("data"in Yt&&(tn=Yt.data),"usage"in Yt&&(Kt=Ae[Yt.usage]),"type"in Yt&&(_n=ye[Yt.type]),"dimension"in Yt&&(fn=0|Yt.dimension),"length"in Yt&&(on=0|Yt.length)),Zt.bind(),tn?ut(Zt,tn,Kt,_n,fn,Pt):(on&&Ue.bufferData(Zt.type,on,Kt),Zt.dtype=_n||5121,Zt.usage=Kt,Zt.dimension=fn,Zt.byteLength=on),ct.profile&&(Zt.stats.size=Zt.byteLength*te[Zt.dtype]),Bt}nt.bufferCount++;var Zt=new Ne(Rt);return Lt[Zt.id]=Zt,bt||Bt(yt),Bt._reglType="buffer",Bt._buffer=Zt,Bt.subdata=function(Yt,Kt){var tn,on=0|(Kt||0);if(Zt.bind(),ve(Yt)||Yt instanceof ArrayBuffer)Ue.bufferSubData(Zt.type,on,Yt);else if(Array.isArray(Yt)){if(0<Yt.length)if(typeof Yt[0]=="number"){var _n=me.allocType(Zt.dtype,Yt.length);r(_n,Yt),Ue.bufferSubData(Zt.type,on,_n),me.freeType(_n)}else(Array.isArray(Yt[0])||ve(Yt[0]))&&(tn=ke(Yt),_n=Me(Yt,tn,Zt.dtype),Ue.bufferSubData(Zt.type,on,_n),me.freeType(_n))}else if(t(Yt)){tn=Yt.shape;var fn=Yt.stride,Sn=_n=0,Xn=0,An=0;tn.length===1?(_n=tn[0],Sn=1,Xn=fn[0],An=0):tn.length===2&&(_n=tn[0],Sn=tn[1],Xn=fn[0],An=fn[1]),tn=Array.isArray(Yt.data)?Zt.dtype:n(Yt.data),i(tn=me.allocType(tn,_n*Sn),Yt.data,_n,Sn,Xn,An,Yt.offset),Ue.bufferSubData(Zt.type,on,tn),me.freeType(tn)}return Bt},ct.profile&&(Bt.stats=Zt.stats),Bt.destroy=function(){pt(Zt)},Bt},createStream:function(yt,Rt){var bt=It.pop();return bt||(bt=new Ne(yt)),bt.bind(),ut(bt,Rt,35040,0,1,!1),bt},destroyStream:function(yt){It.push(yt)},clear:function(){fe(Lt).forEach(pt),It.forEach(pt)},getBuffer:function(yt){return yt&&yt._buffer instanceof Ne?yt._buffer:null},restore:function(){fe(Lt).forEach(function(yt){yt.buffer=Ue.createBuffer(),Ue.bindBuffer(yt.type,yt.buffer),Ue.bufferData(yt.type,yt.persistentData||yt.byteLength,yt.usage)})},_initBuffer:ut}}function p(Ue,nt,ct,Oe){function Ne(yt){this.id=wt++,pt[this.id]=this,this.buffer=yt,this.primType=4,this.type=this.vertCount=0}function Qe(yt,Rt,bt,Pt,Bt,Zt,Yt){var Kt;if(yt.buffer.bind(),Rt?((Kt=Yt)||ve(Rt)&&(!t(Rt)||ve(Rt.data))||(Kt=nt.oes_element_index_uint?5125:5123),ct._initBuffer(yt.buffer,Rt,bt,Kt,3)):(Ue.bufferData(34963,Zt,bt),yt.buffer.dtype=Kt||5121,yt.buffer.usage=bt,yt.buffer.dimension=3,yt.buffer.byteLength=Zt),Kt=Yt,!Yt){switch(yt.buffer.dtype){case 5121:case 5120:Kt=5121;break;case 5123:case 5122:Kt=5123;break;case 5125:case 5124:Kt=5125}yt.buffer.dtype=Kt}yt.type=Kt,0>(Rt=Bt)&&(Rt=yt.buffer.byteLength,Kt===5123?Rt>>=1:Kt===5125&&(Rt>>=2)),yt.vertCount=Rt,Rt=Pt,0>Pt&&(Rt=4,(Pt=yt.buffer.dimension)===1&&(Rt=0),Pt===2&&(Rt=1),Pt===3&&(Rt=4)),yt.primType=Rt}function ut(yt){Oe.elementsCount--,delete pt[yt.id],yt.buffer.destroy(),yt.buffer=null}var pt={},wt=0,Lt={uint8:5121,uint16:5123};nt.oes_element_index_uint&&(Lt.uint32=5125),Ne.prototype.bind=function(){this.buffer.bind()};var It=[];return{create:function(yt,Rt){function bt(Zt){if(Zt)if(typeof Zt=="number")Pt(Zt),Bt.primType=4,Bt.vertCount=0|Zt,Bt.type=5121;else{var Yt=null,Kt=35044,tn=-1,on=-1,_n=0,fn=0;Array.isArray(Zt)||ve(Zt)||t(Zt)?Yt=Zt:("data"in Zt&&(Yt=Zt.data),"usage"in Zt&&(Kt=Ae[Zt.usage]),"primitive"in Zt&&(tn=ue[Zt.primitive]),"count"in Zt&&(on=0|Zt.count),"type"in Zt&&(fn=Lt[Zt.type]),"length"in Zt?_n=0|Zt.length:(_n=on,fn===5123||fn===5122?_n*=2:fn!==5125&&fn!==5124||(_n*=4))),Qe(Bt,Yt,Kt,tn,on,_n,fn)}else Pt(),Bt.primType=4,Bt.vertCount=0,Bt.type=5121;return bt}var Pt=ct.create(null,34963,!0),Bt=new Ne(Pt._buffer);return Oe.elementsCount++,bt(yt),bt._reglType="elements",bt._elements=Bt,bt.subdata=function(Zt,Yt){return Pt.subdata(Zt,Yt),bt},bt.destroy=function(){ut(Bt)},bt},createStream:function(yt){var Rt=It.pop();return Rt||(Rt=new Ne(ct.create(null,34963,!0,!1)._buffer)),Qe(Rt,yt,35040,-1,-1,0,0),Rt},destroyStream:function(yt){It.push(yt)},getElements:function(yt){return typeof yt=="function"&&yt._elements instanceof Ne?yt._elements:null},clear:function(){fe(pt).forEach(ut)}}}function h(Ue){for(var nt=me.allocType(5123,Ue.length),ct=0;ct<Ue.length;++ct)if(isNaN(Ue[ct]))nt[ct]=65535;else if(Ue[ct]===1/0)nt[ct]=31744;else if(Ue[ct]===-1/0)nt[ct]=64512;else{ge[0]=Ue[ct];var Oe=(Qe=we[0])>>>31<<15,Ne=(Qe<<1>>>24)-127,Qe=Qe>>13&1023;nt[ct]=-24>Ne?Oe:-14>Ne?Oe+(Qe+1024>>-14-Ne):15<Ne?Oe+31744:Oe+(Ne+15<<10)+Qe}return nt}function _(Ue){return Array.isArray(Ue)||ve(Ue)}function m(Ue){return"[object "+Ue+"]"}function d(Ue){return Array.isArray(Ue)&&(Ue.length===0||typeof Ue[0]=="number")}function x(Ue){return!(!Array.isArray(Ue)||Ue.length===0||!_(Ue[0]))}function g(Ue){return Object.prototype.toString.call(Ue)}function v(Ue){if(!Ue)return!1;var nt=g(Ue);return 0<=Ge.indexOf(nt)||d(Ue)||x(Ue)||t(Ue)}function T(Ue,nt){Ue.type===36193?(Ue.data=h(nt),me.freeType(nt)):Ue.data=nt}function c(Ue,nt,ct,Oe,Ne,Qe){if(Ue=st[Ue]!==void 0?st[Ue]:Re[Ue]*ot[nt],Qe&&(Ue*=6),Ne){for(Oe=0;1<=ct;)Oe+=Ue*ct*ct,ct/=2;return Oe}return Ue*ct*Oe}function E(Ue,nt,ct,Oe,Ne,Qe,ut){function pt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function wt(an,zn){an.internalformat=zn.internalformat,an.format=zn.format,an.type=zn.type,an.compressed=zn.compressed,an.premultiplyAlpha=zn.premultiplyAlpha,an.flipY=zn.flipY,an.unpackAlignment=zn.unpackAlignment,an.colorSpace=zn.colorSpace,an.width=zn.width,an.height=zn.height,an.channels=zn.channels}function Lt(an,zn){if(typeof zn=="object"&&zn){"premultiplyAlpha"in zn&&(an.premultiplyAlpha=zn.premultiplyAlpha),"flipY"in zn&&(an.flipY=zn.flipY),"alignment"in zn&&(an.unpackAlignment=zn.alignment),"colorSpace"in zn&&(an.colorSpace=Yn[zn.colorSpace]),"type"in zn&&(an.type=Gn[zn.type]);var Vt=an.width,en=an.height,pn=an.channels,Nn=!1;"shape"in zn?(Vt=zn.shape[0],en=zn.shape[1],zn.shape.length===3&&(pn=zn.shape[2],Nn=!0)):("radius"in zn&&(Vt=en=zn.radius),"width"in zn&&(Vt=zn.width),"height"in zn&&(en=zn.height),"channels"in zn&&(pn=zn.channels,Nn=!0)),an.width=0|Vt,an.height=0|en,an.channels=0|pn,Vt=!1,"format"in zn&&(Vt=zn.format,en=an.internalformat=cr[Vt],an.format=Dn[en],Vt in Gn&&!("type"in zn)&&(an.type=Gn[Vt]),Vt in ir&&(an.compressed=!0),Vt=!0),!Nn&&Vt?an.channels=Re[an.format]:Nn&&!Vt&&an.channels!==Be[an.format]&&(an.format=an.internalformat=Be[an.channels])}}function It(an){Ue.pixelStorei(37440,an.flipY),Ue.pixelStorei(37441,an.premultiplyAlpha),Ue.pixelStorei(37443,an.colorSpace),Ue.pixelStorei(3317,an.unpackAlignment)}function yt(){pt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Rt(an,zn){var Vt=null;if(v(zn)?Vt=zn:zn&&(Lt(an,zn),"x"in zn&&(an.xOffset=0|zn.x),"y"in zn&&(an.yOffset=0|zn.y),v(zn.data)&&(Vt=zn.data)),zn.copy){var en=Ne.viewportWidth,pn=Ne.viewportHeight;an.width=an.width||en-an.xOffset,an.height=an.height||pn-an.yOffset,an.needsCopy=!0}else if(Vt){if(ve(Vt))an.channels=an.channels||4,an.data=Vt,"type"in zn||an.type!==5121||(an.type=0|Le[Object.prototype.toString.call(Vt)]);else if(d(Vt)){switch(an.channels=an.channels||4,pn=(en=Vt).length,an.type){case 5121:case 5123:case 5125:case 5126:(pn=me.allocType(an.type,pn)).set(en),an.data=pn;break;case 36193:an.data=h(en)}an.alignment=1,an.needsFree=!0}else if(t(Vt)){en=Vt.data,Array.isArray(en)||an.type!==5121||(an.type=0|Le[Object.prototype.toString.call(en)]),pn=Vt.shape;var Nn,Fn,On,mn,kn=Vt.stride;pn.length===3?(On=pn[2],mn=kn[2]):mn=On=1,Nn=pn[0],Fn=pn[1],pn=kn[0],kn=kn[1],an.alignment=1,an.width=Nn,an.height=Fn,an.channels=On,an.format=an.internalformat=Be[On],an.needsFree=!0,Nn=mn,Vt=Vt.offset,On=an.width,mn=an.height,Fn=an.channels;for(var vn=me.allocType(an.type===36193?5126:an.type,On*mn*Fn),xn=0,En=0;En<mn;++En)for(var Vn=0;Vn<On;++Vn)for(var $n=0;$n<Fn;++$n)vn[xn++]=en[pn*Vn+kn*En+Nn*$n+Vt];T(an,vn)}else if(g(Vt)===je||g(Vt)===he||g(Vt)===_e)g(Vt)===je||g(Vt)===he?an.element=Vt:an.element=Vt.canvas,an.width=an.element.width,an.height=an.element.height,an.channels=4;else if(g(Vt)===Te)an.element=Vt,an.width=Vt.width,an.height=Vt.height,an.channels=4;else if(g(Vt)===Fe)an.element=Vt,an.width=Vt.naturalWidth,an.height=Vt.naturalHeight,an.channels=4;else if(g(Vt)===Ye)an.element=Vt,an.width=Vt.videoWidth,an.height=Vt.videoHeight,an.channels=4;else if(x(Vt)){for(en=an.width||Vt[0].length,pn=an.height||Vt.length,kn=an.channels,kn=_(Vt[0][0])?kn||Vt[0][0].length:kn||1,Nn=pe.shape(Vt),On=1,mn=0;mn<Nn.length;++mn)On*=Nn[mn];On=me.allocType(an.type===36193?5126:an.type,On),pe.flatten(Vt,Nn,"",On),T(an,On),an.alignment=1,an.width=en,an.height=pn,an.channels=kn,an.format=an.internalformat=Be[kn],an.needsFree=!0}}else an.width=an.width||1,an.height=an.height||1,an.channels=an.channels||4}function bt(an,zn,Vt,en,pn){var Nn=an.element,Fn=an.data,On=an.internalformat,mn=an.format,kn=an.type,vn=an.width,xn=an.height;It(an),Nn?Ue.texSubImage2D(zn,pn,Vt,en,mn,kn,Nn):an.compressed?Ue.compressedTexSubImage2D(zn,pn,Vt,en,On,vn,xn,Fn):an.needsCopy?(Oe(),Ue.copyTexSubImage2D(zn,pn,Vt,en,an.xOffset,an.yOffset,vn,xn)):Ue.texSubImage2D(zn,pn,Vt,en,vn,xn,mn,kn,Fn)}function Pt(){return Pn.pop()||new yt}function Bt(an){an.needsFree&&me.freeType(an.data),yt.call(an),Pn.push(an)}function Zt(){pt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Yt(an,zn,Vt){var en=an.images[0]=Pt();an.mipmask=1,en.width=an.width=zn,en.height=an.height=Vt,en.channels=an.channels=4}function Kt(an,zn){var Vt=null;if(v(zn))wt(Vt=an.images[0]=Pt(),an),Rt(Vt,zn),an.mipmask=1;else if(Lt(an,zn),Array.isArray(zn.mipmap))for(var en=zn.mipmap,pn=0;pn<en.length;++pn)wt(Vt=an.images[pn]=Pt(),an),Vt.width>>=pn,Vt.height>>=pn,Rt(Vt,en[pn]),an.mipmask|=1<<pn;else wt(Vt=an.images[0]=Pt(),an),Rt(Vt,zn),an.mipmask=1;wt(an,an.images[0])}function tn(an,zn){for(var Vt=an.images,en=0;en<Vt.length&&Vt[en];++en){var pn=Vt[en],Nn=zn,Fn=en,On=pn.element,mn=pn.data,kn=pn.internalformat,vn=pn.format,xn=pn.type,En=pn.width,Vn=pn.height;It(pn),On?Ue.texImage2D(Nn,Fn,vn,vn,xn,On):pn.compressed?Ue.compressedTexImage2D(Nn,Fn,kn,En,Vn,0,mn):pn.needsCopy?(Oe(),Ue.copyTexImage2D(Nn,Fn,vn,pn.xOffset,pn.yOffset,En,Vn,0)):Ue.texImage2D(Nn,Fn,vn,En,Vn,0,vn,xn,mn||null)}}function on(){var an=qn.pop()||new Zt;pt.call(an);for(var zn=an.mipmask=0;16>zn;++zn)an.images[zn]=null;return an}function _n(an){for(var zn=an.images,Vt=0;Vt<zn.length;++Vt)zn[Vt]&&Bt(zn[Vt]),zn[Vt]=null;qn.push(an)}function fn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Sn(an,zn){"min"in zn&&(an.minFilter=Hn[zn.min],0<=Ee.indexOf(an.minFilter)&&!("faces"in zn)&&(an.genMipmaps=!0)),"mag"in zn&&(an.magFilter=In[zn.mag]);var Vt=an.wrapS,en=an.wrapT;if("wrap"in zn){var pn=zn.wrap;typeof pn=="string"?Vt=en=Rn[pn]:Array.isArray(pn)&&(Vt=Rn[pn[0]],en=Rn[pn[1]])}else"wrapS"in zn&&(Vt=Rn[zn.wrapS]),"wrapT"in zn&&(en=Rn[zn.wrapT]);if(an.wrapS=Vt,an.wrapT=en,"anisotropic"in zn&&(an.anisotropic=zn.anisotropic),"mipmap"in zn){switch(Vt=!1,typeof zn.mipmap){case"string":an.mipmapHint=dn[zn.mipmap],Vt=an.genMipmaps=!0;break;case"boolean":Vt=an.genMipmaps=zn.mipmap;break;case"object":an.genMipmaps=!1,Vt=!0}!Vt||"min"in zn||(an.minFilter=9984)}}function Xn(an,zn){Ue.texParameteri(zn,10241,an.minFilter),Ue.texParameteri(zn,10240,an.magFilter),Ue.texParameteri(zn,10242,an.wrapS),Ue.texParameteri(zn,10243,an.wrapT),nt.ext_texture_filter_anisotropic&&Ue.texParameteri(zn,34046,an.anisotropic),an.genMipmaps&&(Ue.hint(33170,an.mipmapHint),Ue.generateMipmap(zn))}function An(an){pt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Qn++,this.refCount=1,this.target=an,this.texture=Ue.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new fn,ut.profile&&(this.stats={size:0})}function un(an){Ue.activeTexture(33984),Ue.bindTexture(an.target,an.texture)}function Tn(){var an=yr[0];an?Ue.bindTexture(an.target,an.texture):Ue.bindTexture(3553,null)}function gn(an){var zn=an.texture,Vt=an.unit,en=an.target;0<=Vt&&(Ue.activeTexture(33984+Vt),Ue.bindTexture(en,null),yr[Vt]=null),Ue.deleteTexture(zn),an.texture=null,an.params=null,an.pixels=null,an.refCount=0,delete Jn[an.id],Qe.textureCount--}var dn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Rn={repeat:10497,clamp:33071,mirror:33648},In={nearest:9728,linear:9729},Hn=ne({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},In),Yn={none:0,browser:37444},Gn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},cr={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},ir={};nt.ext_srgb&&(cr.srgb=35904,cr.srgba=35906),nt.oes_texture_float&&(Gn.float32=Gn.float=5126),nt.oes_texture_half_float&&(Gn.float16=Gn["half float"]=36193),nt.webgl_depth_texture&&(ne(cr,{depth:6402,"depth stencil":34041}),ne(Gn,{uint16:5123,uint32:5125,"depth stencil":34042})),nt.webgl_compressed_texture_s3tc&&ne(ir,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),nt.webgl_compressed_texture_atc&&ne(ir,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),nt.webgl_compressed_texture_pvrtc&&ne(ir,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),nt.webgl_compressed_texture_etc1&&(ir["rgb etc1"]=36196);var Mr=Array.prototype.slice.call(Ue.getParameter(34467));Object.keys(ir).forEach(function(an){var zn=ir[an];0<=Mr.indexOf(zn)&&(cr[an]=zn)});var gr=Object.keys(cr);ct.textureFormats=gr;var sr=[];Object.keys(cr).forEach(function(an){sr[cr[an]]=an});var xr=[];Object.keys(Gn).forEach(function(an){xr[Gn[an]]=an});var kr=[];Object.keys(In).forEach(function(an){kr[In[an]]=an});var Qt=[];Object.keys(Hn).forEach(function(an){Qt[Hn[an]]=an});var bn=[];Object.keys(Rn).forEach(function(an){bn[Rn[an]]=an});var Dn=gr.reduce(function(an,zn){var Vt=cr[zn];return Vt===6409||Vt===6406||Vt===6409||Vt===6410||Vt===6402||Vt===34041||nt.ext_srgb&&(Vt===35904||Vt===35906)?an[Vt]=Vt:Vt===32855||0<=zn.indexOf("rgba")?an[Vt]=6408:an[Vt]=6407,an},{}),Pn=[],qn=[],Qn=0,Jn={},nr=ct.maxTextureUnits,yr=Array(nr).map(function(){return null});return ne(An.prototype,{bind:function(){this.bindCount+=1;var an=this.unit;if(0>an){for(var zn=0;zn<nr;++zn){var Vt=yr[zn];if(Vt){if(0<Vt.bindCount)continue;Vt.unit=-1}yr[zn]=this,an=zn;break}ut.profile&&Qe.maxTextureUnits<an+1&&(Qe.maxTextureUnits=an+1),this.unit=an,Ue.activeTexture(33984+an),Ue.bindTexture(this.target,this.texture)}return an},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&gn(this)}}),ut.profile&&(Qe.getTotalTextureSize=function(){var an=0;return Object.keys(Jn).forEach(function(zn){an+=Jn[zn].stats.size}),an}),{create2D:function(an,zn){function Vt(pn,Nn){var Fn=en.texInfo;fn.call(Fn);var On=on();return typeof pn=="number"?Yt(On,0|pn,typeof Nn=="number"?0|Nn:0|pn):pn?(Sn(Fn,pn),Kt(On,pn)):Yt(On,1,1),Fn.genMipmaps&&(On.mipmask=(On.width<<1)-1),en.mipmask=On.mipmask,wt(en,On),en.internalformat=On.internalformat,Vt.width=On.width,Vt.height=On.height,un(en),tn(On,3553),Xn(Fn,3553),Tn(),_n(On),ut.profile&&(en.stats.size=c(en.internalformat,en.type,On.width,On.height,Fn.genMipmaps,!1)),Vt.format=sr[en.internalformat],Vt.type=xr[en.type],Vt.mag=kr[Fn.magFilter],Vt.min=Qt[Fn.minFilter],Vt.wrapS=bn[Fn.wrapS],Vt.wrapT=bn[Fn.wrapT],Vt}var en=new An(3553);return Jn[en.id]=en,Qe.textureCount++,Vt(an,zn),Vt.subimage=function(pn,Nn,Fn,On){Nn|=0,Fn|=0,On|=0;var mn=Pt();return wt(mn,en),mn.width=0,mn.height=0,Rt(mn,pn),mn.width=mn.width||(en.width>>On)-Nn,mn.height=mn.height||(en.height>>On)-Fn,un(en),bt(mn,3553,Nn,Fn,On),Tn(),Bt(mn),Vt},Vt.resize=function(pn,Nn){var Fn=0|pn,On=0|Nn||Fn;if(Fn===en.width&&On===en.height)return Vt;Vt.width=en.width=Fn,Vt.height=en.height=On,un(en);for(var mn=0;en.mipmask>>mn;++mn){var kn=Fn>>mn,vn=On>>mn;if(!kn||!vn)break;Ue.texImage2D(3553,mn,en.format,kn,vn,0,en.format,en.type,null)}return Tn(),ut.profile&&(en.stats.size=c(en.internalformat,en.type,Fn,On,!1,!1)),Vt},Vt._reglType="texture2d",Vt._texture=en,ut.profile&&(Vt.stats=en.stats),Vt.destroy=function(){en.decRef()},Vt},createCube:function(an,zn,Vt,en,pn,Nn){function Fn(kn,vn,xn,En,Vn,$n){var rr,er=On.texInfo;for(fn.call(er),rr=0;6>rr;++rr)mn[rr]=on();if(typeof kn!="number"&&kn){if(typeof kn=="object")if(vn)Kt(mn[0],kn),Kt(mn[1],vn),Kt(mn[2],xn),Kt(mn[3],En),Kt(mn[4],Vn),Kt(mn[5],$n);else if(Sn(er,kn),Lt(On,kn),"faces"in kn)for(kn=kn.faces,rr=0;6>rr;++rr)wt(mn[rr],On),Kt(mn[rr],kn[rr]);else for(rr=0;6>rr;++rr)Kt(mn[rr],kn)}else for(kn=0|kn||1,rr=0;6>rr;++rr)Yt(mn[rr],kn,kn);for(wt(On,mn[0]),On.mipmask=er.genMipmaps?(mn[0].width<<1)-1:mn[0].mipmask,On.internalformat=mn[0].internalformat,Fn.width=mn[0].width,Fn.height=mn[0].height,un(On),rr=0;6>rr;++rr)tn(mn[rr],34069+rr);for(Xn(er,34067),Tn(),ut.profile&&(On.stats.size=c(On.internalformat,On.type,Fn.width,Fn.height,er.genMipmaps,!0)),Fn.format=sr[On.internalformat],Fn.type=xr[On.type],Fn.mag=kr[er.magFilter],Fn.min=Qt[er.minFilter],Fn.wrapS=bn[er.wrapS],Fn.wrapT=bn[er.wrapT],rr=0;6>rr;++rr)_n(mn[rr]);return Fn}var On=new An(34067);Jn[On.id]=On,Qe.cubeCount++;var mn=Array(6);return Fn(an,zn,Vt,en,pn,Nn),Fn.subimage=function(kn,vn,xn,En,Vn){xn|=0,En|=0,Vn|=0;var $n=Pt();return wt($n,On),$n.width=0,$n.height=0,Rt($n,vn),$n.width=$n.width||(On.width>>Vn)-xn,$n.height=$n.height||(On.height>>Vn)-En,un(On),bt($n,34069+kn,xn,En,Vn),Tn(),Bt($n),Fn},Fn.resize=function(kn){if((kn|=0)!==On.width){Fn.width=On.width=kn,Fn.height=On.height=kn,un(On);for(var vn=0;6>vn;++vn)for(var xn=0;On.mipmask>>xn;++xn)Ue.texImage2D(34069+vn,xn,On.format,kn>>xn,kn>>xn,0,On.format,On.type,null);return Tn(),ut.profile&&(On.stats.size=c(On.internalformat,On.type,Fn.width,Fn.height,!1,!0)),Fn}},Fn._reglType="textureCube",Fn._texture=On,ut.profile&&(Fn.stats=On.stats),Fn.destroy=function(){On.decRef()},Fn},clear:function(){for(var an=0;an<nr;++an)Ue.activeTexture(33984+an),Ue.bindTexture(3553,null),yr[an]=null;fe(Jn).forEach(gn),Qe.cubeCount=0,Qe.textureCount=0},getTexture:function(an){return null},restore:function(){for(var an=0;an<nr;++an){var zn=yr[an];zn&&(zn.bindCount=0,zn.unit=-1,yr[an]=null)}fe(Jn).forEach(function(Vt){Vt.texture=Ue.createTexture(),Ue.bindTexture(Vt.target,Vt.texture);for(var en=0;32>en;++en)if(Vt.mipmask&1<<en)if(Vt.target===3553)Ue.texImage2D(3553,en,Vt.internalformat,Vt.width>>en,Vt.height>>en,0,Vt.internalformat,Vt.type,null);else for(var pn=0;6>pn;++pn)Ue.texImage2D(34069+pn,en,Vt.internalformat,Vt.width>>en,Vt.height>>en,0,Vt.internalformat,Vt.type,null);Xn(Vt.texInfo,Vt.target)})},refresh:function(){for(var an=0;an<nr;++an){var zn=yr[an];zn&&(zn.bindCount=0,zn.unit=-1,yr[an]=null),Ue.activeTexture(33984+an),Ue.bindTexture(3553,null),Ue.bindTexture(34067,null)}}}}function A(Ue,nt,ct,Oe,Ne,Qe){function ut(An,un,Tn){this.target=An,this.texture=un,this.renderbuffer=Tn;var gn=An=0;un?(An=un.width,gn=un.height):Tn&&(An=Tn.width,gn=Tn.height),this.width=An,this.height=gn}function pt(An){An&&(An.texture&&An.texture._texture.decRef(),An.renderbuffer&&An.renderbuffer._renderbuffer.decRef())}function wt(An,un,Tn){An&&(An.texture?An.texture._texture.refCount+=1:An.renderbuffer._renderbuffer.refCount+=1)}function Lt(An,un){un&&(un.texture?Ue.framebufferTexture2D(36160,An,un.target,un.texture._texture.texture,0):Ue.framebufferRenderbuffer(36160,An,36161,un.renderbuffer._renderbuffer.renderbuffer))}function It(An){var un=3553,Tn=null,gn=null,dn=An;return typeof An=="object"&&(dn=An.data,"target"in An&&(un=0|An.target)),(An=dn._reglType)==="texture2d"||An==="textureCube"?Tn=dn:An==="renderbuffer"&&(gn=dn,un=36161),new ut(un,Tn,gn)}function yt(An,un,Tn,gn,dn){return Tn?((An=Oe.create2D({width:An,height:un,format:gn,type:dn}))._texture.refCount=0,new ut(3553,An,null)):((An=Ne.create({width:An,height:un,format:gn}))._renderbuffer.refCount=0,new ut(36161,null,An))}function Rt(An){return An&&(An.texture||An.renderbuffer)}function bt(An,un,Tn){An&&(An.texture?An.texture.resize(un,Tn):An.renderbuffer&&An.renderbuffer.resize(un,Tn),An.width=un,An.height=Tn)}function Pt(){this.id=Sn++,Xn[this.id]=this,this.framebuffer=Ue.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Bt(An){An.colorAttachments.forEach(pt),pt(An.depthAttachment),pt(An.stencilAttachment),pt(An.depthStencilAttachment)}function Zt(An){Ue.deleteFramebuffer(An.framebuffer),An.framebuffer=null,Qe.framebufferCount--,delete Xn[An.id]}function Yt(An){var un;Ue.bindFramebuffer(36160,An.framebuffer);var Tn=An.colorAttachments;for(un=0;un<Tn.length;++un)Lt(36064+un,Tn[un]);for(un=Tn.length;un<ct.maxColorAttachments;++un)Ue.framebufferTexture2D(36160,36064+un,3553,null,0);Ue.framebufferTexture2D(36160,33306,3553,null,0),Ue.framebufferTexture2D(36160,36096,3553,null,0),Ue.framebufferTexture2D(36160,36128,3553,null,0),Lt(36096,An.depthAttachment),Lt(36128,An.stencilAttachment),Lt(33306,An.depthStencilAttachment),Ue.checkFramebufferStatus(36160),Ue.isContextLost(),Ue.bindFramebuffer(36160,tn.next?tn.next.framebuffer:null),tn.cur=tn.next,Ue.getError()}function Kt(An,un){function Tn(dn,Rn){var In,Hn=0,Yn=0,Gn=!0,cr=!0;In=null;var ir=!0,Mr="rgba",gr="uint8",sr=1,xr=null,kr=null,Qt=null,bn=!1;typeof dn=="number"?(Hn=0|dn,Yn=0|Rn||Hn):dn?("shape"in dn?(Hn=(Yn=dn.shape)[0],Yn=Yn[1]):("radius"in dn&&(Hn=Yn=dn.radius),"width"in dn&&(Hn=dn.width),"height"in dn&&(Yn=dn.height)),("color"in dn||"colors"in dn)&&(In=dn.color||dn.colors,Array.isArray(In)),In||("colorCount"in dn&&(sr=0|dn.colorCount),"colorTexture"in dn&&(ir=!!dn.colorTexture,Mr="rgba4"),"colorType"in dn&&(gr=dn.colorType,!ir)&&(gr==="half float"||gr==="float16"?Mr="rgba16f":gr!=="float"&&gr!=="float32"||(Mr="rgba32f")),"colorFormat"in dn&&(Mr=dn.colorFormat,0<=on.indexOf(Mr)?ir=!0:0<=_n.indexOf(Mr)&&(ir=!1))),("depthTexture"in dn||"depthStencilTexture"in dn)&&(bn=!(!dn.depthTexture&&!dn.depthStencilTexture)),"depth"in dn&&(typeof dn.depth=="boolean"?Gn=dn.depth:(xr=dn.depth,cr=!1)),"stencil"in dn&&(typeof dn.stencil=="boolean"?cr=dn.stencil:(kr=dn.stencil,Gn=!1)),"depthStencil"in dn&&(typeof dn.depthStencil=="boolean"?Gn=cr=dn.depthStencil:(Qt=dn.depthStencil,cr=Gn=!1))):Hn=Yn=1;var Dn=null,Pn=null,qn=null,Qn=null;if(Array.isArray(In))Dn=In.map(It);else if(In)Dn=[It(In)];else for(Dn=Array(sr),In=0;In<sr;++In)Dn[In]=yt(Hn,Yn,ir,Mr,gr);for(Hn=Hn||Dn[0].width,Yn=Yn||Dn[0].height,xr?Pn=It(xr):Gn&&!cr&&(Pn=yt(Hn,Yn,bn,"depth","uint32")),kr?qn=It(kr):cr&&!Gn&&(qn=yt(Hn,Yn,!1,"stencil","uint8")),Qt?Qn=It(Qt):!xr&&!kr&&cr&&Gn&&(Qn=yt(Hn,Yn,bn,"depth stencil","depth stencil")),Gn=null,In=0;In<Dn.length;++In)wt(Dn[In]),Dn[In]&&Dn[In].texture&&(cr=Ct[Dn[In].texture._texture.format]*St[Dn[In].texture._texture.type],Gn===null&&(Gn=cr));return wt(Pn),wt(qn),wt(Qn),Bt(gn),gn.width=Hn,gn.height=Yn,gn.colorAttachments=Dn,gn.depthAttachment=Pn,gn.stencilAttachment=qn,gn.depthStencilAttachment=Qn,Tn.color=Dn.map(Rt),Tn.depth=Rt(Pn),Tn.stencil=Rt(qn),Tn.depthStencil=Rt(Qn),Tn.width=gn.width,Tn.height=gn.height,Yt(gn),Tn}var gn=new Pt;return Qe.framebufferCount++,Tn(An,un),ne(Tn,{resize:function(dn,Rn){var In=Math.max(0|dn,1),Hn=Math.max(0|Rn||In,1);if(In===gn.width&&Hn===gn.height)return Tn;for(var Yn=gn.colorAttachments,Gn=0;Gn<Yn.length;++Gn)bt(Yn[Gn],In,Hn);return bt(gn.depthAttachment,In,Hn),bt(gn.stencilAttachment,In,Hn),bt(gn.depthStencilAttachment,In,Hn),gn.width=Tn.width=In,gn.height=Tn.height=Hn,Yt(gn),Tn},_reglType:"framebuffer",_framebuffer:gn,destroy:function(){Zt(gn),Bt(gn)},use:function(dn){tn.setFBO({framebuffer:Tn},dn)}})}var tn={cur:null,next:null,dirty:!1,setFBO:null},on=["rgba"],_n=["rgba4","rgb565","rgb5 a1"];nt.ext_srgb&&_n.push("srgba"),nt.ext_color_buffer_half_float&&_n.push("rgba16f","rgb16f"),nt.webgl_color_buffer_float&&_n.push("rgba32f");var fn=["uint8"];nt.oes_texture_half_float&&fn.push("half float","float16"),nt.oes_texture_float&&fn.push("float","float32");var Sn=0,Xn={};return ne(tn,{getFramebuffer:function(An){return typeof An=="function"&&An._reglType==="framebuffer"&&(An=An._framebuffer)instanceof Pt?An:null},create:Kt,createCube:function(An){function un(gn){var dn,Rn={color:null},In=0,Hn=null;dn="rgba";var Yn="uint8",Gn=1;if(typeof gn=="number"?In=0|gn:gn?("shape"in gn?In=gn.shape[0]:("radius"in gn&&(In=0|gn.radius),"width"in gn?In=0|gn.width:"height"in gn&&(In=0|gn.height)),("color"in gn||"colors"in gn)&&(Hn=gn.color||gn.colors,Array.isArray(Hn)),Hn||("colorCount"in gn&&(Gn=0|gn.colorCount),"colorType"in gn&&(Yn=gn.colorType),"colorFormat"in gn&&(dn=gn.colorFormat)),"depth"in gn&&(Rn.depth=gn.depth),"stencil"in gn&&(Rn.stencil=gn.stencil),"depthStencil"in gn&&(Rn.depthStencil=gn.depthStencil)):In=1,Hn)if(Array.isArray(Hn))for(gn=[],dn=0;dn<Hn.length;++dn)gn[dn]=Hn[dn];else gn=[Hn];else for(gn=Array(Gn),Hn={radius:In,format:dn,type:Yn},dn=0;dn<Gn;++dn)gn[dn]=Oe.createCube(Hn);for(Rn.color=Array(gn.length),dn=0;dn<gn.length;++dn)Gn=gn[dn],In=In||Gn.width,Rn.color[dn]={target:34069,data:gn[dn]};for(dn=0;6>dn;++dn){for(Gn=0;Gn<gn.length;++Gn)Rn.color[Gn].target=34069+dn;0<dn&&(Rn.depth=Tn[0].depth,Rn.stencil=Tn[0].stencil,Rn.depthStencil=Tn[0].depthStencil),Tn[dn]?Tn[dn](Rn):Tn[dn]=Kt(Rn)}return ne(un,{width:In,height:In,color:gn})}var Tn=Array(6);return un(An),ne(un,{faces:Tn,resize:function(gn){var dn=0|gn;if(dn===un.width)return un;var Rn=un.color;for(gn=0;gn<Rn.length;++gn)Rn[gn].resize(dn);for(gn=0;6>gn;++gn)Tn[gn].resize(dn);return un.width=un.height=dn,un},_reglType:"framebufferCube",destroy:function(){Tn.forEach(function(gn){gn.destroy()})}})},clear:function(){fe(Xn).forEach(Zt)},restore:function(){tn.cur=null,tn.next=null,tn.dirty=!0,fe(Xn).forEach(function(An){An.framebuffer=Ue.createFramebuffer(),Yt(An)})}})}function C(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function O(Ue,nt,ct,Oe,Ne,Qe,ut){function pt(){this.id=++It,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var bt=nt.oes_vertex_array_object;this.vao=bt?bt.createVertexArrayOES():null,yt[this.id]=this,this.buffers=[]}var wt=ct.maxAttributes,Lt=Array(wt);for(ct=0;ct<wt;++ct)Lt[ct]=new C;var It=0,yt={},Rt={Record:C,scope:{},state:Lt,currentVAO:null,targetVAO:null,restore:nt.oes_vertex_array_object?function(){nt.oes_vertex_array_object&&fe(yt).forEach(function(bt){bt.refresh()})}:function(){},createVAO:function(bt){function Pt(Zt){var Yt;Array.isArray(Zt)?(Yt=Zt,Bt.elements&&Bt.ownsElements&&Bt.elements.destroy(),Bt.elements=null,Bt.ownsElements=!1,Bt.offset=0,Bt.count=0,Bt.instances=-1,Bt.primitive=4):(Zt.elements?(Yt=Zt.elements,Bt.ownsElements?(typeof Yt=="function"&&Yt._reglType==="elements"?Bt.elements.destroy():Bt.elements(Yt),Bt.ownsElements=!1):Qe.getElements(Zt.elements)?(Bt.elements=Zt.elements,Bt.ownsElements=!1):(Bt.elements=Qe.create(Zt.elements),Bt.ownsElements=!0)):(Bt.elements=null,Bt.ownsElements=!1),Yt=Zt.attributes,Bt.offset=0,Bt.count=-1,Bt.instances=-1,Bt.primitive=4,Bt.elements&&(Bt.count=Bt.elements._elements.vertCount,Bt.primitive=Bt.elements._elements.primType),"offset"in Zt&&(Bt.offset=0|Zt.offset),"count"in Zt&&(Bt.count=0|Zt.count),"instances"in Zt&&(Bt.instances=0|Zt.instances),"primitive"in Zt&&(Bt.primitive=ue[Zt.primitive])),Zt={};var Kt=Bt.attributes;Kt.length=Yt.length;for(var tn=0;tn<Yt.length;++tn){var on,_n=Yt[tn],fn=Kt[tn]=new C,Sn=_n.data||_n;Array.isArray(Sn)||ve(Sn)||t(Sn)?(Bt.buffers[tn]&&(on=Bt.buffers[tn],ve(Sn)&&on._buffer.byteLength>=Sn.byteLength?on.subdata(Sn):(on.destroy(),Bt.buffers[tn]=null)),Bt.buffers[tn]||(on=Bt.buffers[tn]=Ne.create(_n,34962,!1,!0)),fn.buffer=Ne.getBuffer(on),fn.size=0|fn.buffer.dimension,fn.normalized=!1,fn.type=fn.buffer.dtype,fn.offset=0,fn.stride=0,fn.divisor=0,fn.state=1,Zt[tn]=1):Ne.getBuffer(_n)?(fn.buffer=Ne.getBuffer(_n),fn.size=0|fn.buffer.dimension,fn.normalized=!1,fn.type=fn.buffer.dtype,fn.offset=0,fn.stride=0,fn.divisor=0,fn.state=1):Ne.getBuffer(_n.buffer)?(fn.buffer=Ne.getBuffer(_n.buffer),fn.size=0|(+_n.size||fn.buffer.dimension),fn.normalized=!!_n.normalized||!1,fn.type="type"in _n?ye[_n.type]:fn.buffer.dtype,fn.offset=0|(_n.offset||0),fn.stride=0|(_n.stride||0),fn.divisor=0|(_n.divisor||0),fn.state=1):"x"in _n&&(fn.x=+_n.x||0,fn.y=+_n.y||0,fn.z=+_n.z||0,fn.w=+_n.w||0,fn.state=2)}for(on=0;on<Bt.buffers.length;++on)!Zt[on]&&Bt.buffers[on]&&(Bt.buffers[on].destroy(),Bt.buffers[on]=null);return Bt.refresh(),Pt}var Bt=new pt;return Oe.vaoCount+=1,Pt.destroy=function(){for(var Zt=0;Zt<Bt.buffers.length;++Zt)Bt.buffers[Zt]&&Bt.buffers[Zt].destroy();Bt.buffers.length=0,Bt.ownsElements&&(Bt.elements.destroy(),Bt.elements=null,Bt.ownsElements=!1),Bt.destroy()},Pt._vao=Bt,Pt._reglType="vao",Pt(bt)},getVAO:function(bt){return typeof bt=="function"&&bt._vao?bt._vao:null},destroyBuffer:function(bt){for(var Pt=0;Pt<Lt.length;++Pt){var Bt=Lt[Pt];Bt.buffer===bt&&(Ue.disableVertexAttribArray(Pt),Bt.buffer=null)}},setVAO:nt.oes_vertex_array_object?function(bt){if(bt!==Rt.currentVAO){var Pt=nt.oes_vertex_array_object;bt?Pt.bindVertexArrayOES(bt.vao):Pt.bindVertexArrayOES(null),Rt.currentVAO=bt}}:function(bt){if(bt!==Rt.currentVAO){if(bt)bt.bindAttrs();else{for(var Pt=nt.angle_instanced_arrays,Bt=0;Bt<Lt.length;++Bt){var Zt=Lt[Bt];Zt.buffer?(Ue.enableVertexAttribArray(Bt),Zt.buffer.bind(),Ue.vertexAttribPointer(Bt,Zt.size,Zt.type,Zt.normalized,Zt.stride,Zt.offfset),Pt&&Zt.divisor&&Pt.vertexAttribDivisorANGLE(Bt,Zt.divisor)):(Ue.disableVertexAttribArray(Bt),Ue.vertexAttrib4f(Bt,Zt.x,Zt.y,Zt.z,Zt.w))}ut.elements?Ue.bindBuffer(34963,ut.elements.buffer.buffer):Ue.bindBuffer(34963,null)}Rt.currentVAO=bt}},clear:nt.oes_vertex_array_object?function(){fe(yt).forEach(function(bt){bt.destroy()})}:function(){}};return pt.prototype.bindAttrs=function(){for(var bt=nt.angle_instanced_arrays,Pt=this.attributes,Bt=0;Bt<Pt.length;++Bt){var Zt=Pt[Bt];Zt.buffer?(Ue.enableVertexAttribArray(Bt),Ue.bindBuffer(34962,Zt.buffer.buffer),Ue.vertexAttribPointer(Bt,Zt.size,Zt.type,Zt.normalized,Zt.stride,Zt.offset),bt&&Zt.divisor&&bt.vertexAttribDivisorANGLE(Bt,Zt.divisor)):(Ue.disableVertexAttribArray(Bt),Ue.vertexAttrib4f(Bt,Zt.x,Zt.y,Zt.z,Zt.w))}for(bt=Pt.length;bt<wt;++bt)Ue.disableVertexAttribArray(bt);(bt=Qe.getElements(this.elements))?Ue.bindBuffer(34963,bt.buffer.buffer):Ue.bindBuffer(34963,null)},pt.prototype.refresh=function(){var bt=nt.oes_vertex_array_object;bt&&(bt.bindVertexArrayOES(this.vao),this.bindAttrs(),Rt.currentVAO=null,bt.bindVertexArrayOES(null))},pt.prototype.destroy=function(){if(this.vao){var bt=nt.oes_vertex_array_object;this===Rt.currentVAO&&(Rt.currentVAO=null,bt.bindVertexArrayOES(null)),bt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),yt[this.id]&&(delete yt[this.id],--Oe.vaoCount)},Rt}function P(Ue,nt,ct,Oe){function Ne(Pt,Bt,Zt,Yt){this.name=Pt,this.id=Bt,this.location=Zt,this.info=Yt}function Qe(Pt,Bt){for(var Zt=0;Zt<Pt.length;++Zt)if(Pt[Zt].id===Bt.id)return void(Pt[Zt].location=Bt.location);Pt.push(Bt)}function ut(Pt,Bt,Zt){if(!(Kt=(Zt=Pt===35632?Lt:It)[Bt])){var Yt=nt.str(Bt),Kt=Ue.createShader(Pt);Ue.shaderSource(Kt,Yt),Ue.compileShader(Kt),Zt[Bt]=Kt}return Kt}function pt(Pt,Bt){this.id=bt++,this.fragId=Pt,this.vertId=Bt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Oe.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function wt(Pt,Bt,Zt){var Yt;Yt=ut(35632,Pt.fragId);var Kt=ut(35633,Pt.vertId);if(Bt=Pt.program=Ue.createProgram(),Ue.attachShader(Bt,Yt),Ue.attachShader(Bt,Kt),Zt)for(Yt=0;Yt<Zt.length;++Yt)Kt=Zt[Yt],Ue.bindAttribLocation(Bt,Kt[0],Kt[1]);Ue.linkProgram(Bt),Kt=Ue.getProgramParameter(Bt,35718),Oe.profile&&(Pt.stats.uniformsCount=Kt);var tn=Pt.uniforms;for(Yt=0;Yt<Kt;++Yt)if(Zt=Ue.getActiveUniform(Bt,Yt))if(1<Zt.size)for(var on=0;on<Zt.size;++on){var _n=Zt.name.replace("[0]","["+on+"]");Qe(tn,new Ne(_n,nt.id(_n),Ue.getUniformLocation(Bt,_n),Zt))}else Qe(tn,new Ne(Zt.name,nt.id(Zt.name),Ue.getUniformLocation(Bt,Zt.name),Zt));for(Kt=Ue.getProgramParameter(Bt,35721),Oe.profile&&(Pt.stats.attributesCount=Kt),Pt=Pt.attributes,Yt=0;Yt<Kt;++Yt)(Zt=Ue.getActiveAttrib(Bt,Yt))&&Qe(Pt,new Ne(Zt.name,nt.id(Zt.name),Ue.getAttribLocation(Bt,Zt.name),Zt))}var Lt={},It={},yt={},Rt=[],bt=0;return Oe.profile&&(ct.getMaxUniformsCount=function(){var Pt=0;return Rt.forEach(function(Bt){Bt.stats.uniformsCount>Pt&&(Pt=Bt.stats.uniformsCount)}),Pt},ct.getMaxAttributesCount=function(){var Pt=0;return Rt.forEach(function(Bt){Bt.stats.attributesCount>Pt&&(Pt=Bt.stats.attributesCount)}),Pt}),{clear:function(){var Pt=Ue.deleteShader.bind(Ue);fe(Lt).forEach(Pt),Lt={},fe(It).forEach(Pt),It={},Rt.forEach(function(Bt){Ue.deleteProgram(Bt.program)}),Rt.length=0,yt={},ct.shaderCount=0},program:function(Pt,Bt,Zt,Yt){var Kt=yt[Bt];Kt||(Kt=yt[Bt]={});var tn=Kt[Pt];if(tn&&(tn.refCount++,!Yt))return tn;var on=new pt(Bt,Pt);return ct.shaderCount++,wt(on,Zt,Yt),tn||(Kt[Pt]=on),Rt.push(on),ne(on,{destroy:function(){if(on.refCount--,0>=on.refCount){Ue.deleteProgram(on.program);var _n=Rt.indexOf(on);Rt.splice(_n,1),ct.shaderCount--}0>=Kt[on.vertId].refCount&&(Ue.deleteShader(It[on.vertId]),delete It[on.vertId],delete yt[on.fragId][on.vertId]),Object.keys(yt[on.fragId]).length||(Ue.deleteShader(Lt[on.fragId]),delete Lt[on.fragId],delete yt[on.fragId])}})},restore:function(){Lt={},It={};for(var Pt=0;Pt<Rt.length;++Pt)wt(Rt[Pt],null,Rt[Pt].attributes.map(function(Bt){return[Bt.location,Bt.name]}))},shader:ut,frag:-1,vert:-1}}function D(Ue,nt,ct,Oe,Ne,Qe,ut){function pt(wt){var Lt;Lt=nt.next===null?5121:nt.next.colorAttachments[0].texture._texture.type;var It=0,yt=0,Rt=Oe.framebufferWidth,bt=Oe.framebufferHeight,Pt=null;return ve(wt)?Pt=wt:wt&&(It=0|wt.x,yt=0|wt.y,Rt=0|(wt.width||Oe.framebufferWidth-It),bt=0|(wt.height||Oe.framebufferHeight-yt),Pt=wt.data||null),ct(),wt=Rt*bt*4,Pt||(Lt===5121?Pt=new Uint8Array(wt):Lt===5126&&(Pt=Pt||new Float32Array(wt))),Ue.pixelStorei(3333,4),Ue.readPixels(It,yt,Rt,bt,6408,Lt,Pt),Pt}return function(wt){return wt&&"framebuffer"in wt?function(Lt){var It;return nt.setFBO({framebuffer:Lt.framebuffer},function(){It=pt(Lt)}),It}(wt):pt(wt)}}function z(Ue,nt){return Ue>>>nt|Ue<<32-nt}function V(Ue,nt){var ct=(65535&Ue)+(65535&nt);return(Ue>>16)+(nt>>16)+(ct>>16)<<16|65535&ct}function F(Ue){return Array.prototype.slice.call(Ue)}function W(Ue){return F(Ue).join("")}function B(Ue){function nt(){var It=[],yt=[];return ne(function(){It.push.apply(It,F(arguments))},{def:function(){var Rt="v"+Ne++;return yt.push(Rt),0<arguments.length&&(It.push(Rt,"="),It.push.apply(It,F(arguments)),It.push(";")),Rt},toString:function(){return W([0<yt.length?"var "+yt.join(",")+";":"",W(It)])}})}function ct(){function It(Bt,Zt){Rt(Bt,Zt,"=",yt.def(Bt,Zt),";")}var yt=nt(),Rt=nt(),bt=yt.toString,Pt=Rt.toString;return ne(function(){yt.apply(yt,F(arguments))},{def:yt.def,entry:yt,exit:Rt,save:It,set:function(Bt,Zt,Yt){It(Bt,Zt),yt(Bt,Zt,"=",Yt,";")},toString:function(){return bt()+Pt()}})}var Oe=Ue&&Ue.cache,Ne=0,Qe=[],ut=[],pt=[],wt=nt(),Lt={};return{global:wt,link:function(It,yt){var Rt=yt&&yt.stable;if(!Rt){for(var bt=0;bt<ut.length;++bt)if(ut[bt]===It&&!pt[bt])return Qe[bt]}return bt="g"+Ne++,Qe.push(bt),ut.push(It),pt.push(Rt),bt},block:nt,proc:function(It,yt){function Rt(){var Zt="a"+bt.length;return bt.push(Zt),Zt}var bt=[];yt=yt||0;for(var Pt=0;Pt<yt;++Pt)Rt();var Bt=(Pt=ct()).toString;return Lt[It]=ne(Pt,{arg:Rt,toString:function(){return W(["function(",bt.join(),"){",Bt(),"}"])}})},scope:ct,cond:function(){var It=W(arguments),yt=ct(),Rt=ct(),bt=yt.toString,Pt=Rt.toString;return ne(yt,{then:function(){return yt.apply(yt,F(arguments)),this},else:function(){return Rt.apply(Rt,F(arguments)),this},toString:function(){var Bt=Pt();return Bt&&(Bt="else{"+Bt+"}"),W(["if(",It,"){",bt(),"}",Bt])}})},compile:function(){var It=['"use strict";',wt,"return {"];Object.keys(Lt).forEach(function(bt){It.push('"',bt,'":',Lt[bt].toString(),",")}),It.push("}");var yt,Rt=W(It).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return Oe&&(yt=function(bt){for(var Pt,Bt="",Zt=0;Zt<bt.length;Zt++)Pt=bt.charCodeAt(Zt),Bt+="0123456789abcdef".charAt(Pt>>>4&15)+"0123456789abcdef".charAt(15&Pt);return Bt}(function(bt){for(var Pt=Array(bt.length>>2),Bt=0;Bt<Pt.length;Bt++)Pt[Bt]=0;for(Bt=0;Bt<8*bt.length;Bt+=8)Pt[Bt>>5]|=(255&bt.charCodeAt(Bt/8))<<24-Bt%32;var Zt,Yt,Kt,tn,on,_n,fn,Sn,Xn,An,un,Tn=8*bt.length;for(bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Bt=Array(64),Pt[Tn>>5]|=128<<24-Tn%32,Pt[15+(Tn+64>>9<<4)]=Tn,Sn=0;Sn<Pt.length;Sn+=16){for(Tn=bt[0],Zt=bt[1],Yt=bt[2],Kt=bt[3],tn=bt[4],on=bt[5],_n=bt[6],fn=bt[7],Xn=0;64>Xn;Xn++){var gn;16>Xn?Bt[Xn]=Pt[Xn+Sn]:(An=Xn,un=V(un=z(un=Bt[Xn-2],17)^z(un,19)^un>>>10,Bt[Xn-7]),gn=z(gn=Bt[Xn-15],7)^z(gn,18)^gn>>>3,Bt[An]=V(V(un,gn),Bt[Xn-16])),An=V(V(V(V(fn,An=z(An=tn,6)^z(An,11)^z(An,25)),tn&on^~tn&_n),kt[Xn]),Bt[Xn]),un=V(fn=z(fn=Tn,2)^z(fn,13)^z(fn,22),Tn&Zt^Tn&Yt^Zt&Yt),fn=_n,_n=on,on=tn,tn=V(Kt,An),Kt=Yt,Yt=Zt,Zt=Tn,Tn=V(An,un)}bt[0]=V(Tn,bt[0]),bt[1]=V(Zt,bt[1]),bt[2]=V(Yt,bt[2]),bt[3]=V(Kt,bt[3]),bt[4]=V(tn,bt[4]),bt[5]=V(on,bt[5]),bt[6]=V(_n,bt[6]),bt[7]=V(fn,bt[7])}for(Pt="",Bt=0;Bt<32*bt.length;Bt+=8)Pt+=String.fromCharCode(bt[Bt>>5]>>>24-Bt%32&255);return Pt}(function(bt){for(var Pt,Bt,Zt="",Yt=-1;++Yt<bt.length;)Pt=bt.charCodeAt(Yt),Bt=Yt+1<bt.length?bt.charCodeAt(Yt+1):0,55296<=Pt&&56319>=Pt&&56320<=Bt&&57343>=Bt&&(Pt=65536+((1023&Pt)<<10)+(1023&Bt),Yt++),127>=Pt?Zt+=String.fromCharCode(Pt):2047>=Pt?Zt+=String.fromCharCode(192|Pt>>>6&31,128|63&Pt):65535>=Pt?Zt+=String.fromCharCode(224|Pt>>>12&15,128|Pt>>>6&63,128|63&Pt):2097151>=Pt&&(Zt+=String.fromCharCode(240|Pt>>>18&7,128|Pt>>>12&63,128|Pt>>>6&63,128|63&Pt));return Zt}(Rt))),Oe[yt])?Oe[yt].apply(null,ut):(Rt=Function.apply(null,Qe.concat(Rt)),Oe&&(Oe[yt]=Rt),Rt.apply(null,ut))}}}function U(Ue){return Array.isArray(Ue)||ve(Ue)||t(Ue)}function H(Ue){return Ue.sort(function(nt,ct){return nt==="viewport"?-1:ct==="viewport"?1:nt<ct?-1:1})}function q(Ue,nt,ct,Oe){this.thisDep=Ue,this.contextDep=nt,this.propDep=ct,this.append=Oe}function ee(Ue){return Ue&&!(Ue.thisDep||Ue.contextDep||Ue.propDep)}function K(Ue){return new q(!1,!1,!1,Ue)}function J(Ue,nt){var ct=Ue.type;if(ct===0)return new q(!0,1<=(ct=Ue.data.length),2<=ct,nt);if(ct===4)return new q((ct=Ue.data).thisDep,ct.contextDep,ct.propDep,nt);if(ct===5)return new q(!1,!1,!1,nt);if(ct===6){for(var Oe=ct=!1,Ne=!1,Qe=0;Qe<Ue.data.length;++Qe){var ut=Ue.data[Qe];ut.type===1?Ne=!0:ut.type===2?Oe=!0:ut.type===3?ct=!0:ut.type===0?(ct=!0,1<=(ut=ut.data)&&(Oe=!0),2<=ut&&(Ne=!0)):ut.type===4&&(ct=ct||ut.data.thisDep,Oe=Oe||ut.data.contextDep,Ne=Ne||ut.data.propDep)}return new q(ct,Oe,Ne,nt)}return new q(ct===3,ct===2,ct===1,nt)}function Z(Ue,nt,ct,Oe,Ne,Qe,ut,pt,wt,Lt,It,yt,Rt,bt,Pt,Bt){function Zt(Vt){return Vt.replace(".","_")}function Yt(Vt,en,pn){var Nn=Zt(Vt);Qn.push(Vt),qn[Nn]=Pn[Nn]=!!pn,Jn[Nn]=en}function Kt(Vt,en,pn){var Nn=Zt(Vt);Qn.push(Vt),Array.isArray(pn)?(Pn[Nn]=pn.slice(),qn[Nn]=pn.slice()):Pn[Nn]=qn[Nn]=pn,nr[Nn]=en}function tn(){var Vt=B({cache:Pt}),en=Vt.link,pn=Vt.global;Vt.id=zn++,Vt.batchId="0";var Nn=en(yr),Fn=Vt.shared={props:"a0"};Object.keys(yr).forEach(function(xn){Fn[xn]=pn.def(Nn,".",xn)});var On=Vt.next={},mn=Vt.current={};Object.keys(nr).forEach(function(xn){Array.isArray(Pn[xn])&&(On[xn]=pn.def(Fn.next,".",xn),mn[xn]=pn.def(Fn.current,".",xn))});var kn=Vt.constants={};Object.keys(an).forEach(function(xn){kn[xn]=pn.def(JSON.stringify(an[xn]))}),Vt.invoke=function(xn,En){switch(En.type){case 0:var Vn=["this",Fn.context,Fn.props,Vt.batchId];return xn.def(en(En.data),".call(",Vn.slice(0,Math.max(En.data.length+1,4)),")");case 1:return xn.def(Fn.props,En.data);case 2:return xn.def(Fn.context,En.data);case 3:return xn.def("this",En.data);case 4:return En.data.append(Vt,xn),En.data.ref;case 5:return En.data.toString();case 6:return En.data.map(function($n){return Vt.invoke(xn,$n)})}},Vt.attribCache={};var vn={};return Vt.scopeAttrib=function(xn){if((xn=nt.id(xn))in vn)return vn[xn];var En=Lt.scope[xn];return En||(En=Lt.scope[xn]=new xr),vn[xn]=en(En)},Vt}function on(Vt,en){var pn=Vt.static,Nn=Vt.dynamic;if("framebuffer"in pn){var Fn=pn.framebuffer;return Fn?(Fn=pt.getFramebuffer(Fn),K(function(mn,kn){var vn=mn.link(Fn),xn=mn.shared;return kn.set(xn.framebuffer,".next",vn),xn=xn.context,kn.set(xn,".framebufferWidth",vn+".width"),kn.set(xn,".framebufferHeight",vn+".height"),vn})):K(function(mn,kn){var vn=mn.shared;return kn.set(vn.framebuffer,".next","null"),vn=vn.context,kn.set(vn,".framebufferWidth",vn+".drawingBufferWidth"),kn.set(vn,".framebufferHeight",vn+".drawingBufferHeight"),"null"})}if("framebuffer"in Nn){var On=Nn.framebuffer;return J(On,function(mn,kn){var vn=mn.invoke(kn,On),xn=mn.shared,En=xn.framebuffer;return vn=kn.def(En,".getFramebuffer(",vn,")"),kn.set(En,".next",vn),xn=xn.context,kn.set(xn,".framebufferWidth",vn+"?"+vn+".width:"+xn+".drawingBufferWidth"),kn.set(xn,".framebufferHeight",vn+"?"+vn+".height:"+xn+".drawingBufferHeight"),vn})}return null}function _n(Vt,en,pn){function Nn(xn){if(xn in Fn){var En=nt.id(Fn[xn]);return(xn=K(function(){return En})).id=En,xn}if(xn in On){var Vn=On[xn];return J(Vn,function($n,rr){var er=$n.invoke(rr,Vn);return rr.def($n.shared.strings,".id(",er,")")})}return null}var Fn=Vt.static,On=Vt.dynamic,mn=Nn("frag"),kn=Nn("vert"),vn=null;return ee(mn)&&ee(kn)?(vn=It.program(kn.id,mn.id,null,pn),Vt=K(function(xn,En){return xn.link(vn)})):Vt=new q(mn&&mn.thisDep||kn&&kn.thisDep,mn&&mn.contextDep||kn&&kn.contextDep,mn&&mn.propDep||kn&&kn.propDep,function(xn,En){var Vn,$n,rr=xn.shared.shader;return Vn=mn?mn.append(xn,En):En.def(rr,".","frag"),$n=kn?kn.append(xn,En):En.def(rr,".","vert"),En.def(rr+".program("+$n+","+Vn+")")}),{frag:mn,vert:kn,progVar:Vt,program:vn}}function fn(Vt,en){function pn(er,pr){if(er in Nn){var fr=0|Nn[er];return pr?On.offset=fr:On.instances=fr,K(function(mr,br){return pr&&(mr.OFFSET=fr),fr})}if(er in Fn){var vr=Fn[er];return J(vr,function(mr,br){var Or=mr.invoke(br,vr);return pr&&(mr.OFFSET=Or),Or})}if(pr){if(vn)return K(function(mr,br){return mr.OFFSET=0});if(mn)return new q(kn.thisDep,kn.contextDep,kn.propDep,function(mr,br){return br.def(mr.shared.vao+".currentVAO?"+mr.shared.vao+".currentVAO.offset:0")})}else if(mn)return new q(kn.thisDep,kn.contextDep,kn.propDep,function(mr,br){return br.def(mr.shared.vao+".currentVAO?"+mr.shared.vao+".currentVAO.instances:-1")});return null}var Nn=Vt.static,Fn=Vt.dynamic,On={},mn=!1,kn=function(){if("vao"in Nn){var er=Nn.vao;return er!==null&&Lt.getVAO(er)===null&&(er=Lt.createVAO(er)),mn=!0,On.vao=er,K(function(fr){var vr=Lt.getVAO(er);return vr?fr.link(vr):"null"})}if("vao"in Fn){mn=!0;var pr=Fn.vao;return J(pr,function(fr,vr){var mr=fr.invoke(vr,pr);return vr.def(fr.shared.vao+".getVAO("+mr+")")})}return null}(),vn=!1,xn=function(){if("elements"in Nn){var er=Nn.elements;if(On.elements=er,U(er)){var pr=On.elements=Qe.create(er,!0);er=Qe.getElements(pr),vn=!0}else er&&(er=Qe.getElements(er),vn=!0);return pr=K(function(vr,mr){if(er){var br=vr.link(er);return vr.ELEMENTS=br}return vr.ELEMENTS=null}),pr.value=er,pr}if("elements"in Fn){vn=!0;var fr=Fn.elements;return J(fr,function(vr,mr){var br=(Or=vr.shared).isBufferArgs,Or=Or.elements,Lr=vr.invoke(mr,fr),Tr=mr.def("null");return br=mr.def(br,"(",Lr,")"),Lr=vr.cond(br).then(Tr,"=",Or,".createStream(",Lr,");").else(Tr,"=",Or,".getElements(",Lr,");"),mr.entry(Lr),mr.exit(vr.cond(br).then(Or,".destroyStream(",Tr,");")),vr.ELEMENTS=Tr})}return mn?new q(kn.thisDep,kn.contextDep,kn.propDep,function(vr,mr){return mr.def(vr.shared.vao+".currentVAO?"+vr.shared.elements+".getElements("+vr.shared.vao+".currentVAO.elements):null")}):null}(),En=pn("offset",!0),Vn=function(){if("primitive"in Nn){var er=Nn.primitive;return On.primitive=er,K(function(fr,vr){return ue[er]})}if("primitive"in Fn){var pr=Fn.primitive;return J(pr,function(fr,vr){var mr=fr.constants.primTypes,br=fr.invoke(vr,pr);return vr.def(mr,"[",br,"]")})}return vn?ee(xn)?xn.value?K(function(fr,vr){return vr.def(fr.ELEMENTS,".primType")}):K(function(){return 4}):new q(xn.thisDep,xn.contextDep,xn.propDep,function(fr,vr){var mr=fr.ELEMENTS;return vr.def(mr,"?",mr,".primType:",4)}):mn?new q(kn.thisDep,kn.contextDep,kn.propDep,function(fr,vr){return vr.def(fr.shared.vao+".currentVAO?"+fr.shared.vao+".currentVAO.primitive:4")}):null}(),$n=function(){if("count"in Nn){var er=0|Nn.count;return On.count=er,K(function(){return er})}if("count"in Fn){var pr=Fn.count;return J(pr,function(fr,vr){return fr.invoke(vr,pr)})}return vn?ee(xn)?xn?En?new q(En.thisDep,En.contextDep,En.propDep,function(fr,vr){return vr.def(fr.ELEMENTS,".vertCount-",fr.OFFSET)}):K(function(fr,vr){return vr.def(fr.ELEMENTS,".vertCount")}):K(function(){return-1}):new q(xn.thisDep||En.thisDep,xn.contextDep||En.contextDep,xn.propDep||En.propDep,function(fr,vr){var mr=fr.ELEMENTS;return fr.OFFSET?vr.def(mr,"?",mr,".vertCount-",fr.OFFSET,":-1"):vr.def(mr,"?",mr,".vertCount:-1")}):mn?new q(kn.thisDep,kn.contextDep,kn.propDep,function(fr,vr){return vr.def(fr.shared.vao,".currentVAO?",fr.shared.vao,".currentVAO.count:-1")}):null}(),rr=pn("instances",!1);return{elements:xn,primitive:Vn,count:$n,instances:rr,offset:En,vao:kn,vaoActive:mn,elementsActive:vn,static:On}}function Sn(Vt,en){var pn=Vt.static,Nn=Vt.dynamic,Fn={};return Object.keys(pn).forEach(function(On){var mn=pn[On],kn=nt.id(On),vn=new xr;if(U(mn))vn.state=1,vn.buffer=Ne.getBuffer(Ne.create(mn,34962,!1,!0)),vn.type=0;else if(En=Ne.getBuffer(mn))vn.state=1,vn.buffer=En,vn.type=0;else if("constant"in mn){var xn=mn.constant;vn.buffer="null",vn.state=2,typeof xn=="number"?vn.x=xn:Nt.forEach(function(fr,vr){vr<xn.length&&(vn[fr]=xn[vr])})}else{var En=U(mn.buffer)?Ne.getBuffer(Ne.create(mn.buffer,34962,!1,!0)):Ne.getBuffer(mn.buffer),Vn=0|mn.offset,$n=0|mn.stride,rr=0|mn.size,er=!!mn.normalized,pr=0;"type"in mn&&(pr=ye[mn.type]),mn=0|mn.divisor,vn.buffer=En,vn.state=1,vn.size=rr,vn.normalized=er,vn.type=pr||En.dtype,vn.offset=Vn,vn.stride=$n,vn.divisor=mn}Fn[On]=K(function(fr,vr){var mr=fr.attribCache;if(kn in mr)return mr[kn];var br={isStream:!1};return Object.keys(vn).forEach(function(Or){br[Or]=vn[Or]}),vn.buffer&&(br.buffer=fr.link(vn.buffer),br.type=br.type||br.buffer+".dtype"),mr[kn]=br})}),Object.keys(Nn).forEach(function(On){var mn=Nn[On];Fn[On]=J(mn,function(kn,vn){function xn(mr){vn(er[mr],"=",En,".",mr,"|0;")}var En=kn.invoke(vn,mn),Vn=kn.shared,$n=kn.constants,rr=Vn.isBufferArgs,er=(Vn=Vn.buffer,{isStream:vn.def(!1)}),pr=new xr;pr.state=1,Object.keys(pr).forEach(function(mr){er[mr]=vn.def(""+pr[mr])});var fr=er.buffer,vr=er.type;return vn("if(",rr,"(",En,")){",er.isStream,"=true;",fr,"=",Vn,".createStream(",34962,",",En,");",vr,"=",fr,".dtype;","}else{",fr,"=",Vn,".getBuffer(",En,");","if(",fr,"){",vr,"=",fr,".dtype;",'}else if("constant" in ',En,"){",er.state,"=",2,";","if(typeof "+En+'.constant === "number"){',er[Nt[0]],"=",En,".constant;",Nt.slice(1).map(function(mr){return er[mr]}).join("="),"=0;","}else{",Nt.map(function(mr,br){return er[mr]+"="+En+".constant.length>"+br+"?"+En+".constant["+br+"]:0;"}).join(""),"}}else{","if(",rr,"(",En,".buffer)){",fr,"=",Vn,".createStream(",34962,",",En,".buffer);","}else{",fr,"=",Vn,".getBuffer(",En,".buffer);","}",vr,'="type" in ',En,"?",$n.glTypes,"[",En,".type]:",fr,".dtype;",er.normalized,"=!!",En,".normalized;"),xn("size"),xn("offset"),xn("stride"),xn("divisor"),vn("}}"),vn.exit("if(",er.isStream,"){",Vn,".destroyStream(",fr,");","}"),er})}),Fn}function Xn(Vt,en,pn,Nn,Fn){function On(pr){var fr=kn[pr];fr&&(xn[pr]=fr)}var mn=function(pr,fr){if(typeof(vr=pr.static).frag=="string"&&typeof vr.vert=="string"){if(0<Object.keys(fr.dynamic).length)return null;var vr=fr.static,mr=Object.keys(vr);if(0<mr.length&&typeof vr[mr[0]]=="number"){for(var br=[],Or=0;Or<mr.length;++Or)br.push([0|vr[mr[Or]],mr[Or]]);return br}}return null}(Vt,en),kn=function(pr,fr,vr){function mr(Tr){if(Tr in br){var dr=br[Tr];Tr=!0;var Pr,Xr,gi=0|dr.x,Ii=0|dr.y;return"width"in dr?Pr=0|dr.width:Tr=!1,"height"in dr?Xr=0|dr.height:Tr=!1,new q(!Tr&&fr&&fr.thisDep,!Tr&&fr&&fr.contextDep,!Tr&&fr&&fr.propDep,function(ra,Oi){var ki=ra.shared.context,Pa=Pr;"width"in dr||(Pa=Oi.def(ki,".","framebufferWidth","-",gi));var ia=Xr;return"height"in dr||(ia=Oi.def(ki,".","framebufferHeight","-",Ii)),[gi,Ii,Pa,ia]})}if(Tr in Or){var Ri=Or[Tr];return Tr=J(Ri,function(ra,Oi){var ki=ra.invoke(Oi,Ri),Pa=ra.shared.context,ia=Oi.def(ki,".x|0"),Wo=Oi.def(ki,".y|0");return[ia,Wo,Oi.def('"width" in ',ki,"?",ki,".width|0:","(",Pa,".","framebufferWidth","-",ia,")"),ki=Oi.def('"height" in ',ki,"?",ki,".height|0:","(",Pa,".","framebufferHeight","-",Wo,")")]}),fr&&(Tr.thisDep=Tr.thisDep||fr.thisDep,Tr.contextDep=Tr.contextDep||fr.contextDep,Tr.propDep=Tr.propDep||fr.propDep),Tr}return fr?new q(fr.thisDep,fr.contextDep,fr.propDep,function(ra,Oi){var ki=ra.shared.context;return[0,0,Oi.def(ki,".","framebufferWidth"),Oi.def(ki,".","framebufferHeight")]}):null}var br=pr.static,Or=pr.dynamic;if(pr=mr("viewport")){var Lr=pr;pr=new q(pr.thisDep,pr.contextDep,pr.propDep,function(Tr,dr){var Pr=Lr.append(Tr,dr),Xr=Tr.shared.context;return dr.set(Xr,".viewportWidth",Pr[2]),dr.set(Xr,".viewportHeight",Pr[3]),Pr})}return{viewport:pr,scissor_box:mr("scissor.box")}}(Vt,Vn=on(Vt)),vn=fn(Vt),xn=function(pr,fr){var vr=pr.static,mr=pr.dynamic,br={};return Qn.forEach(function(Or){function Lr(dr,Pr){if(Or in vr){var Xr=dr(vr[Or]);br[Tr]=K(function(){return Xr})}else if(Or in mr){var gi=mr[Or];br[Tr]=J(gi,function(Ii,Ri){return Pr(Ii,Ri,Ii.invoke(Ri,gi))})}}var Tr=Zt(Or);switch(Or){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Lr(function(dr){return dr},function(dr,Pr,Xr){return Xr});case"depth.func":return Lr(function(dr){return Wt[dr]},function(dr,Pr,Xr){return Pr.def(dr.constants.compareFuncs,"[",Xr,"]")});case"depth.range":return Lr(function(dr){return dr},function(dr,Pr,Xr){return[Pr.def("+",Xr,"[0]"),Pr=Pr.def("+",Xr,"[1]")]});case"blend.func":return Lr(function(dr){return[Et["srcRGB"in dr?dr.srcRGB:dr.src],Et["dstRGB"in dr?dr.dstRGB:dr.dst],Et["srcAlpha"in dr?dr.srcAlpha:dr.src],Et["dstAlpha"in dr?dr.dstAlpha:dr.dst]]},function(dr,Pr,Xr){function gi(Oi,ki){return Pr.def('"',Oi,ki,'" in ',Xr,"?",Xr,".",Oi,ki,":",Xr,".",Oi)}dr=dr.constants.blendFuncs;var Ii=gi("src","RGB"),Ri=gi("dst","RGB"),ra=(Ii=Pr.def(dr,"[",Ii,"]"),Pr.def(dr,"[",gi("src","Alpha"),"]"));return[Ii,Ri=Pr.def(dr,"[",Ri,"]"),ra,dr=Pr.def(dr,"[",gi("dst","Alpha"),"]")]});case"blend.equation":return Lr(function(dr){return typeof dr=="string"?[kr[dr],kr[dr]]:typeof dr=="object"?[kr[dr.rgb],kr[dr.alpha]]:void 0},function(dr,Pr,Xr){var gi=dr.constants.blendEquations,Ii=Pr.def(),Ri=Pr.def();return(dr=dr.cond("typeof ",Xr,'==="string"')).then(Ii,"=",Ri,"=",gi,"[",Xr,"];"),dr.else(Ii,"=",gi,"[",Xr,".rgb];",Ri,"=",gi,"[",Xr,".alpha];"),Pr(dr),[Ii,Ri]});case"blend.color":return Lr(function(dr){return y(4,function(Pr){return+dr[Pr]})},function(dr,Pr,Xr){return y(4,function(gi){return Pr.def("+",Xr,"[",gi,"]")})});case"stencil.mask":return Lr(function(dr){return 0|dr},function(dr,Pr,Xr){return Pr.def(Xr,"|0")});case"stencil.func":return Lr(function(dr){return[Wt[dr.cmp||"keep"],dr.ref||0,"mask"in dr?dr.mask:-1]},function(dr,Pr,Xr){return[dr=Pr.def('"cmp" in ',Xr,"?",dr.constants.compareFuncs,"[",Xr,".cmp]",":",7680),Pr.def(Xr,".ref|0"),Pr=Pr.def('"mask" in ',Xr,"?",Xr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Lr(function(dr){return[Or==="stencil.opBack"?1029:1028,Ht[dr.fail||"keep"],Ht[dr.zfail||"keep"],Ht[dr.zpass||"keep"]]},function(dr,Pr,Xr){function gi(Ri){return Pr.def('"',Ri,'" in ',Xr,"?",Ii,"[",Xr,".",Ri,"]:",7680)}var Ii=dr.constants.stencilOps;return[Or==="stencil.opBack"?1029:1028,gi("fail"),gi("zfail"),gi("zpass")]});case"polygonOffset.offset":return Lr(function(dr){return[0|dr.factor,0|dr.units]},function(dr,Pr,Xr){return[Pr.def(Xr,".factor|0"),Pr=Pr.def(Xr,".units|0")]});case"cull.face":return Lr(function(dr){var Pr=0;return dr==="front"?Pr=1028:dr==="back"&&(Pr=1029),Pr},function(dr,Pr,Xr){return Pr.def(Xr,'==="front"?',1028,":",1029)});case"frontFace":return Lr(function(dr){return Ke[dr]},function(dr,Pr,Xr){return Pr.def(Xr+'==="cw"?2304:2305')});case"colorMask":return Lr(function(dr){return dr.map(function(Pr){return!!Pr})},function(dr,Pr,Xr){return y(4,function(gi){return"!!"+Xr+"["+gi+"]"})});case"sample.coverage":return Lr(function(dr){return["value"in dr?dr.value:1,!!dr.invert]},function(dr,Pr,Xr){return[Pr.def('"value" in ',Xr,"?+",Xr,".value:1"),Pr=Pr.def("!!",Xr,".invert")]})}}),br}(Vt),En=_n(Vt,0,mn);On("viewport"),On(Zt("scissor.box"));var Vn,$n=0<Object.keys(xn).length;if((Vn={framebuffer:Vn,draw:vn,shader:En,state:xn,dirty:$n,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(pr){var fr,vr=pr.static;if(pr=pr.dynamic,"profile"in vr){var mr=!!vr.profile;(fr=K(function(Or,Lr){return mr})).enable=mr}else if("profile"in pr){var br=pr.profile;fr=J(br,function(Or,Lr){return Or.invoke(Lr,br)})}return fr}(Vt),Vn.uniforms=function(pr,fr){var vr=pr.static,mr=pr.dynamic,br={};return Object.keys(vr).forEach(function(Or){var Lr,Tr=vr[Or];if(typeof Tr=="number"||typeof Tr=="boolean")Lr=K(function(){return Tr});else if(typeof Tr=="function"){var dr=Tr._reglType;dr==="texture2d"||dr==="textureCube"?Lr=K(function(Pr){return Pr.link(Tr)}):dr!=="framebuffer"&&dr!=="framebufferCube"||(Lr=K(function(Pr){return Pr.link(Tr.color[0])}))}else _(Tr)&&(Lr=K(function(Pr){return Pr.global.def("[",y(Tr.length,function(Xr){return Tr[Xr]}),"]")}));Lr.value=Tr,br[Or]=Lr}),Object.keys(mr).forEach(function(Or){var Lr=mr[Or];br[Or]=J(Lr,function(Tr,dr){return Tr.invoke(dr,Lr)})}),br}(pn),Vn.drawVAO=Vn.scopeVAO=vn.vao,!Vn.drawVAO&&En.program&&!mn&&ct.angle_instanced_arrays&&vn.static.elements){var rr=!0;if(Vt=En.program.attributes.map(function(pr){return pr=en.static[pr],rr=rr&&!!pr,pr}),rr&&0<Vt.length){var er=Lt.getVAO(Lt.createVAO({attributes:Vt,elements:vn.static.elements}));Vn.drawVAO=new q(null,null,null,function(pr,fr){return pr.link(er)}),Vn.useVAO=!0}}return mn?Vn.useVAO=!0:Vn.attributes=Sn(en),Vn.context=function(pr){var fr=pr.static,vr=pr.dynamic,mr={};return Object.keys(fr).forEach(function(br){var Or=fr[br];mr[br]=K(function(Lr,Tr){return typeof Or=="number"||typeof Or=="boolean"?""+Or:Lr.link(Or)})}),Object.keys(vr).forEach(function(br){var Or=vr[br];mr[br]=J(Or,function(Lr,Tr){return Lr.invoke(Tr,Or)})}),mr}(Nn),Vn}function An(Vt,en,pn){var Nn=Vt.shared.context,Fn=Vt.scope();Object.keys(pn).forEach(function(On){en.save(Nn,"."+On);var mn=pn[On].append(Vt,en);Array.isArray(mn)?Fn(Nn,".",On,"=[",mn.join(),"];"):Fn(Nn,".",On,"=",mn,";")}),en(Fn)}function un(Vt,en,pn,Nn){var Fn,On=(kn=Vt.shared).gl,mn=kn.framebuffer;bn&&(Fn=en.def(kn.extensions,".webgl_draw_buffers"));var kn=(vn=Vt.constants).drawBuffer,vn=vn.backBuffer;Vt=pn?pn.append(Vt,en):en.def(mn,".next"),Nn||en("if(",Vt,"!==",mn,".cur){"),en("if(",Vt,"){",On,".bindFramebuffer(",36160,",",Vt,".framebuffer);"),bn&&en(Fn,".drawBuffersWEBGL(",kn,"[",Vt,".colorAttachments.length]);"),en("}else{",On,".bindFramebuffer(",36160,",null);"),bn&&en(Fn,".drawBuffersWEBGL(",vn,");"),en("}",mn,".cur=",Vt,";"),Nn||en("}")}function Tn(Vt,en,pn){var Nn=Vt.shared,Fn=Nn.gl,On=Vt.current,mn=Vt.next,kn=Nn.current,vn=Nn.next,xn=Vt.cond(kn,".dirty");Qn.forEach(function(En){var Vn,$n;if(!((En=Zt(En))in pn.state))if(En in mn){Vn=mn[En],$n=On[En];var rr=y(Pn[En].length,function(er){return xn.def(Vn,"[",er,"]")});xn(Vt.cond(rr.map(function(er,pr){return er+"!=="+$n+"["+pr+"]"}).join("||")).then(Fn,".",nr[En],"(",rr,");",rr.map(function(er,pr){return $n+"["+pr+"]="+er}).join(";"),";"))}else Vn=xn.def(vn,".",En),rr=Vt.cond(Vn,"!==",kn,".",En),xn(rr),En in Jn?rr(Vt.cond(Vn).then(Fn,".enable(",Jn[En],");").else(Fn,".disable(",Jn[En],");"),kn,".",En,"=",Vn,";"):rr(Fn,".",nr[En],"(",Vn,");",kn,".",En,"=",Vn,";")}),Object.keys(pn.state).length===0&&xn(kn,".dirty=false;"),en(xn)}function gn(Vt,en,pn,Nn){var Fn,On=Vt.shared,mn=Vt.current,kn=On.current,vn=On.gl;H(Object.keys(pn)).forEach(function(xn){var En=pn[xn];if(!Nn||Nn(En)){var Vn=En.append(Vt,en);if(Jn[xn]){var $n=Jn[xn];ee(En)?(Fn=Vt.link(Vn,{stable:!0}),en(Vt.cond(Fn).then(vn,".enable(",$n,");").else(vn,".disable(",$n,");")),en(kn,".",xn,"=",Fn,";")):(en(Vt.cond(Vn).then(vn,".enable(",$n,");").else(vn,".disable(",$n,");")),en(kn,".",xn,"=",Vn,";"))}else if(_(Vn)){var rr=mn[xn];en(vn,".",nr[xn],"(",Vn,");",Vn.map(function(er,pr){return rr+"["+pr+"]="+er}).join(";"),";")}else ee(En)?(Fn=Vt.link(Vn,{stable:!0}),en(vn,".",nr[xn],"(",Fn,");",kn,".",xn,"=",Fn,";")):en(vn,".",nr[xn],"(",Vn,");",kn,".",xn,"=",Vn,";")}})}function dn(Vt,en){Qt&&(Vt.instancing=en.def(Vt.shared.extensions,".angle_instanced_arrays"))}function Rn(Vt,en,pn,Nn,Fn){function On(){return typeof performance>"u"?"Date.now()":"performance.now()"}function mn(pr){pr(xn=en.def(),"=",On(),";"),typeof Fn=="string"?pr($n,".count+=",Fn,";"):pr($n,".count++;"),bt&&(Nn?pr(En=en.def(),"=",er,".getNumPendingQueries();"):pr(er,".beginQuery(",$n,");"))}function kn(pr){pr($n,".cpuTime+=",On(),"-",xn,";"),bt&&(Nn?pr(er,".pushScopeStats(",En,",",er,".getNumPendingQueries(),",$n,");"):pr(er,".endQuery();"))}function vn(pr){var fr=en.def(rr,".profile");en(rr,".profile=",pr,";"),en.exit(rr,".profile=",fr,";")}var xn,En,Vn=Vt.shared,$n=Vt.stats,rr=Vn.current,er=Vn.timer;if(pn=pn.profile){if(ee(pn))return void(pn.enable?(mn(en),kn(en.exit),vn("true")):vn("false"));vn(pn=pn.append(Vt,en))}else pn=en.def(rr,".profile");mn(Vn=Vt.block()),en("if(",pn,"){",Vn,"}"),kn(Vt=Vt.block()),en.exit("if(",pn,"){",Vt,"}")}function In(Vt,en,pn,Nn,Fn){function On(kn,vn,xn){function En(){en("if(!",er,".buffer){",$n,".enableVertexAttribArray(",rr,");}");var mr,br=xn.type;mr=xn.size?en.def(xn.size,"||",vn):vn,en("if(",er,".type!==",br,"||",er,".size!==",mr,"||",vr.map(function(Or){return er+"."+Or+"!=="+xn[Or]}).join("||"),"){",$n,".bindBuffer(",34962,",",pr,".buffer);",$n,".vertexAttribPointer(",[rr,mr,br,xn.normalized,xn.stride,xn.offset],");",er,".type=",br,";",er,".size=",mr,";",vr.map(function(Or){return er+"."+Or+"="+xn[Or]+";"}).join(""),"}"),Qt&&(br=xn.divisor,en("if(",er,".divisor!==",br,"){",Vt.instancing,".vertexAttribDivisorANGLE(",[rr,br],");",er,".divisor=",br,";}"))}function Vn(){en("if(",er,".buffer){",$n,".disableVertexAttribArray(",rr,");",er,".buffer=null;","}if(",Nt.map(function(mr,br){return er+"."+mr+"!=="+fr[br]}).join("||"),"){",$n,".vertexAttrib4f(",rr,",",fr,");",Nt.map(function(mr,br){return er+"."+mr+"="+fr[br]+";"}).join(""),"}")}var $n=mn.gl,rr=en.def(kn,".location"),er=en.def(mn.attributes,"[",rr,"]");kn=xn.state;var pr=xn.buffer,fr=[xn.x,xn.y,xn.z,xn.w],vr=["buffer","normalized","offset","stride"];kn===1?En():kn===2?Vn():(en("if(",kn,"===",1,"){"),En(),en("}else{"),Vn(),en("}"))}var mn=Vt.shared;Nn.forEach(function(kn){var vn,xn=kn.name,En=pn.attributes[xn];if(En){if(!Fn(En))return;vn=En.append(Vt,en)}else{if(!Fn($e))return;var Vn=Vt.scopeAttrib(xn);vn={},Object.keys(new xr).forEach(function($n){vn[$n]=en.def(Vn,".",$n)})}On(Vt.link(kn),function($n){switch($n){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(kn.info.type),vn)})}function Hn(Vt,en,pn,Nn,Fn,On){for(var mn,kn=Vt.shared,vn=kn.gl,xn=0;xn<Nn.length;++xn){var En,Vn=(er=Nn[xn]).name,$n=er.info.type,rr=pn.uniforms[Vn],er=Vt.link(er)+".location";if(rr){if(!Fn(rr))continue;if(ee(rr)){if(Vn=rr.value,$n===35678||$n===35680)en(vn,".uniform1i(",er,",",($n=Vt.link(Vn._texture||Vn.color[0]._texture))+".bind());"),en.exit($n,".unbind();");else if($n===35674||$n===35675||$n===35676)rr=2,$n===35675?rr=3:$n===35676&&(rr=4),en(vn,".uniformMatrix",rr,"fv(",er,",false,",Vn=Vt.global.def("new Float32Array(["+Array.prototype.slice.call(Vn)+"])"),");");else{switch($n){case 5126:mn="1f";break;case 35664:mn="2f";break;case 35665:mn="3f";break;case 35666:mn="4f";break;case 35670:case 5124:mn="1i";break;case 35671:case 35667:mn="2i";break;case 35672:case 35668:mn="3i";break;case 35673:case 35669:mn="4i"}en(vn,".uniform",mn,"(",er,",",_(Vn)?Array.prototype.slice.call(Vn):Vn,");")}continue}En=rr.append(Vt,en)}else{if(!Fn($e))continue;En=en.def(kn.uniforms,"[",nt.id(Vn),"]")}switch($n===35678?en("if(",En,"&&",En,'._reglType==="framebuffer"){',En,"=",En,".color[0];","}"):$n===35680&&en("if(",En,"&&",En,'._reglType==="framebufferCube"){',En,"=",En,".color[0];","}"),Vn=1,$n){case 35678:case 35680:$n=en.def(En,"._texture"),en(vn,".uniform1i(",er,",",$n,".bind());"),en.exit($n,".unbind();");continue;case 5124:case 35670:mn="1i";break;case 35667:case 35671:mn="2i",Vn=2;break;case 35668:case 35672:mn="3i",Vn=3;break;case 35669:case 35673:mn="4i",Vn=4;break;case 5126:mn="1f";break;case 35664:mn="2f",Vn=2;break;case 35665:mn="3f",Vn=3;break;case 35666:mn="4f",Vn=4;break;case 35674:mn="Matrix2fv";break;case 35675:mn="Matrix3fv";break;case 35676:mn="Matrix4fv"}if(mn.charAt(0)==="M"){en(vn,".uniform",mn,"(",er,","),er=Math.pow($n-35674+2,2);var pr=Vt.global.def("new Float32Array(",er,")");Array.isArray(En)?en("false,(",y(er,function(vr){return pr+"["+vr+"]="+En[vr]}),",",pr,")"):en("false,(Array.isArray(",En,")||",En," instanceof Float32Array)?",En,":(",y(er,function(vr){return pr+"["+vr+"]="+En+"["+vr+"]"}),",",pr,")"),en(");")}else{if(1<Vn){$n=[];var fr=[];for(rr=0;rr<Vn;++rr)Array.isArray(En)?fr.push(En[rr]):fr.push(en.def(En+"["+rr+"]")),On&&$n.push(en.def());On&&en("if(!",Vt.batchId,"||",$n.map(function(vr,mr){return vr+"!=="+fr[mr]}).join("||"),"){",$n.map(function(vr,mr){return vr+"="+fr[mr]+";"}).join("")),en(vn,".uniform",mn,"(",er,",",fr.join(","),");")}else On&&($n=en.def(),en("if(!",Vt.batchId,"||",$n,"!==",En,"){",$n,"=",En,";")),en(vn,".uniform",mn,"(",er,",",En,");");On&&en("}")}}}function Yn(Vt,en,pn,Nn){function Fn(br){var Or=$n[br];return Or?Or.contextDep&&Nn.contextDynamic||Or.propDep?Or.append(Vt,pn):Or.append(Vt,en):en.def(Vn,".",br)}function On(){function br(){pn(vn,".drawElementsInstancedANGLE(",[er,fr,vr,pr+"<<(("+vr+"-5121)>>1)",kn],");")}function Or(){pn(vn,".drawArraysInstancedANGLE(",[er,pr,fr,kn],");")}rr&&rr!=="null"?mr?br():(pn("if(",rr,"){"),br(),pn("}else{"),Or(),pn("}")):Or()}function mn(){function br(){pn(En+".drawElements("+[er,fr,vr,pr+"<<(("+vr+"-5121)>>1)"]+");")}function Or(){pn(En+".drawArrays("+[er,pr,fr]+");")}rr&&rr!=="null"?mr?br():(pn("if(",rr,"){"),br(),pn("}else{"),Or(),pn("}")):Or()}var kn,vn,xn=Vt.shared,En=xn.gl,Vn=xn.draw,$n=Nn.draw,rr=function(){var br=$n.elements,Or=en;return br?((br.contextDep&&Nn.contextDynamic||br.propDep)&&(Or=pn),br=br.append(Vt,Or),$n.elementsActive&&Or("if("+br+")"+En+".bindBuffer(34963,"+br+".buffer.buffer);")):(br=Or.def(),Or(br,"=",Vn,".","elements",";","if(",br,"){",En,".bindBuffer(",34963,",",br,".buffer.buffer);}","else if(",xn.vao,".currentVAO){",br,"=",Vt.shared.elements+".getElements("+xn.vao,".currentVAO.elements);",Dn?"":"if("+br+")"+En+".bindBuffer(34963,"+br+".buffer.buffer);","}")),br}(),er=Fn("primitive"),pr=Fn("offset"),fr=function(){var br=$n.count,Or=en;return br?((br.contextDep&&Nn.contextDynamic||br.propDep)&&(Or=pn),br=br.append(Vt,Or)):br=Or.def(Vn,".","count"),br}();if(typeof fr=="number"){if(fr===0)return}else pn("if(",fr,"){"),pn.exit("}");Qt&&(kn=Fn("instances"),vn=Vt.instancing);var vr=rr+".type",mr=$n.elements&&ee($n.elements)&&!$n.vaoActive;Qt&&(typeof kn!="number"||0<=kn)?typeof kn=="string"?(pn("if(",kn,">0){"),On(),pn("}else if(",kn,"<0){"),mn(),pn("}")):On():mn()}function Gn(Vt,en,pn,Nn,Fn){return Fn=(en=tn()).proc("body",Fn),Qt&&(en.instancing=Fn.def(en.shared.extensions,".angle_instanced_arrays")),Vt(en,Fn,pn,Nn),en.compile().body}function cr(Vt,en,pn,Nn){dn(Vt,en),pn.useVAO?pn.drawVAO?en(Vt.shared.vao,".setVAO(",pn.drawVAO.append(Vt,en),");"):en(Vt.shared.vao,".setVAO(",Vt.shared.vao,".targetVAO);"):(en(Vt.shared.vao,".setVAO(null);"),In(Vt,en,pn,Nn.attributes,function(){return!0})),Hn(Vt,en,pn,Nn.uniforms,function(){return!0},!1),Yn(Vt,en,en,pn)}function ir(Vt,en,pn,Nn){function Fn(){return!0}Vt.batchId="a1",dn(Vt,en),In(Vt,en,pn,Nn.attributes,Fn),Hn(Vt,en,pn,Nn.uniforms,Fn,!1),Yn(Vt,en,en,pn)}function Mr(Vt,en,pn,Nn){function Fn(Vn){return Vn.contextDep&&mn||Vn.propDep}function On(Vn){return!Fn(Vn)}dn(Vt,en);var mn=pn.contextDep,kn=en.def(),vn=en.def();Vt.shared.props=vn,Vt.batchId=kn;var xn=Vt.scope(),En=Vt.scope();en(xn.entry,"for(",kn,"=0;",kn,"<","a1",";++",kn,"){",vn,"=","a0","[",kn,"];",En,"}",xn.exit),pn.needsContext&&An(Vt,En,pn.context),pn.needsFramebuffer&&un(Vt,En,pn.framebuffer),gn(Vt,En,pn.state,Fn),pn.profile&&Fn(pn.profile)&&Rn(Vt,En,pn,!1,!0),Nn?(pn.useVAO?pn.drawVAO?Fn(pn.drawVAO)?En(Vt.shared.vao,".setVAO(",pn.drawVAO.append(Vt,En),");"):xn(Vt.shared.vao,".setVAO(",pn.drawVAO.append(Vt,xn),");"):xn(Vt.shared.vao,".setVAO(",Vt.shared.vao,".targetVAO);"):(xn(Vt.shared.vao,".setVAO(null);"),In(Vt,xn,pn,Nn.attributes,On),In(Vt,En,pn,Nn.attributes,Fn)),Hn(Vt,xn,pn,Nn.uniforms,On,!1),Hn(Vt,En,pn,Nn.uniforms,Fn,!0),Yn(Vt,xn,En,pn)):(en=Vt.global.def("{}"),Nn=pn.shader.progVar.append(Vt,En),vn=En.def(Nn,".id"),xn=En.def(en,"[",vn,"]"),En(Vt.shared.gl,".useProgram(",Nn,".program);","if(!",xn,"){",xn,"=",en,"[",vn,"]=",Vt.link(function(Vn){return Gn(ir,Vt,pn,Vn,2)}),"(",Nn,");}",xn,".call(this,a0[",kn,"],",kn,");"))}function gr(Vt,en){function pn(kn){var vn=en.shader[kn];vn&&(vn=vn.append(Vt,Nn),isNaN(vn)?Nn.set(Fn.shader,"."+kn,vn):Nn.set(Fn.shader,"."+kn,Vt.link(vn,{stable:!0})))}var Nn=Vt.proc("scope",3);Vt.batchId="a2";var Fn=Vt.shared,On=Fn.current;if(An(Vt,Nn,en.context),en.framebuffer&&en.framebuffer.append(Vt,Nn),H(Object.keys(en.state)).forEach(function(kn){var vn=en.state[kn],xn=vn.append(Vt,Nn);_(xn)?xn.forEach(function(En,Vn){isNaN(En)?Nn.set(Vt.next[kn],"["+Vn+"]",En):Nn.set(Vt.next[kn],"["+Vn+"]",Vt.link(En,{stable:!0}))}):ee(vn)?Nn.set(Fn.next,"."+kn,Vt.link(xn,{stable:!0})):Nn.set(Fn.next,"."+kn,xn)}),Rn(Vt,Nn,en,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(kn){var vn=en.draw[kn];vn&&(vn=vn.append(Vt,Nn),isNaN(vn)?Nn.set(Fn.draw,"."+kn,vn):Nn.set(Fn.draw,"."+kn,Vt.link(vn),{stable:!0}))}),Object.keys(en.uniforms).forEach(function(kn){var vn=en.uniforms[kn].append(Vt,Nn);Array.isArray(vn)&&(vn="["+vn.map(function(xn){return isNaN(xn)?xn:Vt.link(xn,{stable:!0})})+"]"),Nn.set(Fn.uniforms,"["+Vt.link(nt.id(kn),{stable:!0})+"]",vn)}),Object.keys(en.attributes).forEach(function(kn){var vn=en.attributes[kn].append(Vt,Nn),xn=Vt.scopeAttrib(kn);Object.keys(new xr).forEach(function(En){Nn.set(xn,"."+En,vn[En])})}),en.scopeVAO){var mn=en.scopeVAO.append(Vt,Nn);isNaN(mn)?Nn.set(Fn.vao,".targetVAO",mn):Nn.set(Fn.vao,".targetVAO",Vt.link(mn,{stable:!0}))}pn("vert"),pn("frag"),0<Object.keys(en.state).length&&(Nn(On,".dirty=true;"),Nn.exit(On,".dirty=true;")),Nn("a1(",Vt.shared.context,",a0,",Vt.batchId,");")}function sr(Vt,en,pn){var Nn=en.static[pn];if(Nn&&function(En){if(typeof En=="object"&&!_(En)){for(var Vn=Object.keys(En),$n=0;$n<Vn.length;++$n)if(oe.isDynamic(En[Vn[$n]]))return!0;return!1}}(Nn)){var Fn=Vt.global,On=Object.keys(Nn),mn=!1,kn=!1,vn=!1,xn=Vt.global.def("{}");On.forEach(function(En){var Vn=Nn[En];if(oe.isDynamic(Vn))typeof Vn=="function"&&(Vn=Nn[En]=oe.unbox(Vn)),En=J(Vn,null),mn=mn||En.thisDep,vn=vn||En.propDep,kn=kn||En.contextDep;else{switch(Fn(xn,".",En,"="),typeof Vn){case"number":Fn(Vn);break;case"string":Fn('"',Vn,'"');break;case"object":Array.isArray(Vn)&&Fn("[",Vn.join(),"]");break;default:Fn(Vt.link(Vn))}Fn(";")}}),en.dynamic[pn]=new oe.DynamicVariable(4,{thisDep:mn,contextDep:kn,propDep:vn,ref:xn,append:function(En,Vn){On.forEach(function($n){var rr=Nn[$n];oe.isDynamic(rr)&&(rr=En.invoke(Vn,rr),Vn(xn,".",$n,"=",rr,";"))})}}),delete en.static[pn]}}var xr=Lt.Record,kr={add:32774,subtract:32778,"reverse subtract":32779};ct.ext_blend_minmax&&(kr.min=32775,kr.max=32776);var Qt=ct.angle_instanced_arrays,bn=ct.webgl_draw_buffers,Dn=ct.oes_vertex_array_object,Pn={dirty:!0,profile:Bt.profile},qn={},Qn=[],Jn={},nr={};Yt("dither",3024),Yt("blend.enable",3042),Kt("blend.color","blendColor",[0,0,0,0]),Kt("blend.equation","blendEquationSeparate",[32774,32774]),Kt("blend.func","blendFuncSeparate",[1,0,1,0]),Yt("depth.enable",2929,!0),Kt("depth.func","depthFunc",513),Kt("depth.range","depthRange",[0,1]),Kt("depth.mask","depthMask",!0),Kt("colorMask","colorMask",[!0,!0,!0,!0]),Yt("cull.enable",2884),Kt("cull.face","cullFace",1029),Kt("frontFace","frontFace",2305),Kt("lineWidth","lineWidth",1),Yt("polygonOffset.enable",32823),Kt("polygonOffset.offset","polygonOffset",[0,0]),Yt("sample.alpha",32926),Yt("sample.enable",32928),Kt("sample.coverage","sampleCoverage",[1,!1]),Yt("stencil.enable",2960),Kt("stencil.mask","stencilMask",-1),Kt("stencil.func","stencilFunc",[519,0,-1]),Kt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Kt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Yt("scissor.enable",3089),Kt("scissor.box","scissor",[0,0,Ue.drawingBufferWidth,Ue.drawingBufferHeight]),Kt("viewport","viewport",[0,0,Ue.drawingBufferWidth,Ue.drawingBufferHeight]);var yr={gl:Ue,context:Rt,strings:nt,next:qn,current:Pn,draw:yt,elements:Qe,buffer:Ne,shader:It,attributes:Lt.state,vao:Lt,uniforms:wt,framebuffer:pt,extensions:ct,timer:bt,isBufferArgs:U},an={primTypes:ue,compareFuncs:Wt,blendFuncs:Et,blendEquations:kr,stencilOps:Ht,glTypes:ye,orientationType:Ke};bn&&(an.backBuffer=[1029],an.drawBuffer=y(Oe.maxDrawbuffers,function(Vt){return Vt===0?[0]:y(Vt,function(en){return 36064+en})}));var zn=0;return{next:qn,current:Pn,procs:function(){var Vt=tn(),en=Vt.proc("poll"),pn=Vt.proc("refresh"),Nn=Vt.block();en(Nn),pn(Nn);var Fn,On=(vn=Vt.shared).gl,mn=vn.next,kn=vn.current;Nn(kn,".dirty=false;"),un(Vt,en),un(Vt,pn,null,!0),Qt&&(Fn=Vt.link(Qt)),ct.oes_vertex_array_object&&pn(Vt.link(ct.oes_vertex_array_object),".bindVertexArrayOES(null);");var vn=pn.def(vn.attributes),xn=pn.def(0),En=Vt.cond(xn,".buffer");En.then(On,".enableVertexAttribArray(i);",On,".bindBuffer(",34962,",",xn,".buffer.buffer);",On,".vertexAttribPointer(i,",xn,".size,",xn,".type,",xn,".normalized,",xn,".stride,",xn,".offset);").else(On,".disableVertexAttribArray(i);",On,".vertexAttrib4f(i,",xn,".x,",xn,".y,",xn,".z,",xn,".w);",xn,".buffer=null;");var Vn=Vt.link(Oe.maxAttributes,{stable:!0});return pn("for(var i=0;i<",Vn,";++i){",xn,"=",vn,"[i];",En,"}"),Qt&&pn("for(var i=0;i<",Vn,";++i){",Fn,".vertexAttribDivisorANGLE(i,",vn,"[i].divisor);","}"),pn(Vt.shared.vao,".currentVAO=null;",Vt.shared.vao,".setVAO(",Vt.shared.vao,".targetVAO);"),Object.keys(Jn).forEach(function($n){var rr=Jn[$n],er=Nn.def(mn,".",$n),pr=Vt.block();pr("if(",er,"){",On,".enable(",rr,")}else{",On,".disable(",rr,")}",kn,".",$n,"=",er,";"),pn(pr),en("if(",er,"!==",kn,".",$n,"){",pr,"}")}),Object.keys(nr).forEach(function($n){var rr,er,pr=nr[$n],fr=Pn[$n],vr=Vt.block();vr(On,".",pr,"("),_(fr)?(pr=fr.length,rr=Vt.global.def(mn,".",$n),er=Vt.global.def(kn,".",$n),vr(y(pr,function(mr){return rr+"["+mr+"]"}),");",y(pr,function(mr){return er+"["+mr+"]="+rr+"["+mr+"];"}).join("")),en("if(",y(pr,function(mr){return rr+"["+mr+"]!=="+er+"["+mr+"]"}).join("||"),"){",vr,"}")):(rr=Nn.def(mn,".",$n),er=Nn.def(kn,".",$n),vr(rr,");",kn,".",$n,"=",rr,";"),en("if(",rr,"!==",er,"){",vr,"}")),pn(vr)}),Vt.compile()}(),compile:function(Vt,en,pn,Nn,Fn){var On=tn();On.stats=On.link(Fn),Object.keys(en.static).forEach(function(kn){sr(On,en,kn)}),Dt.forEach(function(kn){sr(On,Vt,kn)});var mn=Xn(Vt,en,pn,Nn);return mn.shader.program&&(mn.shader.program.attributes.sort(function(kn,vn){return kn.name<vn.name?-1:1}),mn.shader.program.uniforms.sort(function(kn,vn){return kn.name<vn.name?-1:1})),function(kn,vn){var xn=kn.proc("draw",1);dn(kn,xn),An(kn,xn,vn.context),un(kn,xn,vn.framebuffer),Tn(kn,xn,vn),gn(kn,xn,vn.state),Rn(kn,xn,vn,!1,!0);var En=vn.shader.progVar.append(kn,xn);if(xn(kn.shared.gl,".useProgram(",En,".program);"),vn.shader.program)cr(kn,xn,vn,vn.shader.program);else{xn(kn.shared.vao,".setVAO(null);");var Vn=kn.global.def("{}"),$n=xn.def(En,".id"),rr=xn.def(Vn,"[",$n,"]");xn(kn.cond(rr).then(rr,".call(this,a0);").else(rr,"=",Vn,"[",$n,"]=",kn.link(function(er){return Gn(cr,kn,vn,er,1)}),"(",En,");",rr,".call(this,a0);"))}0<Object.keys(vn.state).length&&xn(kn.shared.current,".dirty=true;"),kn.shared.vao&&xn(kn.shared.vao,".setVAO(null);")}(On,mn),gr(On,mn),function(kn,vn){function xn(fr){return fr.contextDep&&Vn||fr.propDep}var En=kn.proc("batch",2);kn.batchId="0",dn(kn,En);var Vn=!1,$n=!0;Object.keys(vn.context).forEach(function(fr){Vn=Vn||vn.context[fr].propDep}),Vn||(An(kn,En,vn.context),$n=!1);var rr=!1;if((er=vn.framebuffer)?(er.propDep?Vn=rr=!0:er.contextDep&&Vn&&(rr=!0),rr||un(kn,En,er)):un(kn,En,null),vn.state.viewport&&vn.state.viewport.propDep&&(Vn=!0),Tn(kn,En,vn),gn(kn,En,vn.state,function(fr){return!xn(fr)}),vn.profile&&xn(vn.profile)||Rn(kn,En,vn,!1,"a1"),vn.contextDep=Vn,vn.needsContext=$n,vn.needsFramebuffer=rr,($n=vn.shader.progVar).contextDep&&Vn||$n.propDep)Mr(kn,En,vn,null);else if($n=$n.append(kn,En),En(kn.shared.gl,".useProgram(",$n,".program);"),vn.shader.program)Mr(kn,En,vn,vn.shader.program);else{En(kn.shared.vao,".setVAO(null);");var er=kn.global.def("{}"),pr=(rr=En.def($n,".id"),En.def(er,"[",rr,"]"));En(kn.cond(pr).then(pr,".call(this,a0,a1);").else(pr,"=",er,"[",rr,"]=",kn.link(function(fr){return Gn(Mr,kn,vn,fr,2)}),"(",$n,");",pr,".call(this,a0,a1);"))}0<Object.keys(vn.state).length&&En(kn.shared.current,".dirty=true;"),kn.shared.vao&&En(kn.shared.vao,".setVAO(null);")}(On,mn),ne(On.compile(),{destroy:function(){mn.shader.program.destroy()}})}}}function $(Ue,nt){for(var ct=0;ct<Ue.length;++ct)if(Ue[ct]===nt)return ct;return-1}var ne=function(Ue,nt){for(var ct=Object.keys(nt),Oe=0;Oe<ct.length;++Oe)Ue[ct[Oe]]=nt[ct[Oe]];return Ue},ae=0,oe={DynamicVariable:M,define:function(Ue,nt){return new M(Ue,b(nt+""))},isDynamic:function(Ue){return typeof Ue=="function"&&!Ue._reglType||Ue instanceof M},unbox:function Ue(nt,ct){return typeof nt=="function"?new M(0,nt):typeof nt=="number"||typeof nt=="boolean"?new M(5,nt):Array.isArray(nt)?new M(6,nt.map(function(Oe,Ne){return Ue(Oe,ct+"["+Ne+"]")})):nt instanceof M?nt:void 0},accessor:b},se={next:typeof requestAnimationFrame=="function"?function(Ue){return requestAnimationFrame(Ue)}:function(Ue){return setTimeout(Ue,16)},cancel:typeof cancelAnimationFrame=="function"?function(Ue){return cancelAnimationFrame(Ue)}:clearTimeout},ce=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},me=l();me.zero=l();var xe=function(Ue,nt){var ct=1;nt.ext_texture_filter_anisotropic&&(ct=Ue.getParameter(34047));var Oe=1,Ne=1;nt.webgl_draw_buffers&&(Oe=Ue.getParameter(34852),Ne=Ue.getParameter(36063));var Qe=!!nt.oes_texture_float;if(Qe){Qe=Ue.createTexture(),Ue.bindTexture(3553,Qe),Ue.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=Ue.createFramebuffer();if(Ue.bindFramebuffer(36160,ut),Ue.framebufferTexture2D(36160,36064,3553,Qe,0),Ue.bindTexture(3553,null),Ue.checkFramebufferStatus(36160)!==36053)Qe=!1;else{Ue.viewport(0,0,1,1),Ue.clearColor(1,0,0,1),Ue.clear(16384);var pt=me.allocType(5126,4);Ue.readPixels(0,0,1,1,6408,5126,pt),Ue.getError()?Qe=!1:(Ue.deleteFramebuffer(ut),Ue.deleteTexture(Qe),Qe=pt[0]===1),me.freeType(pt)}}return pt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(pt=Ue.createTexture(),ut=me.allocType(5121,36),Ue.activeTexture(33984),Ue.bindTexture(34067,pt),Ue.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),me.freeType(ut),Ue.bindTexture(34067,null),Ue.deleteTexture(pt),pt=!Ue.getError()),{colorBits:[Ue.getParameter(3410),Ue.getParameter(3411),Ue.getParameter(3412),Ue.getParameter(3413)],depthBits:Ue.getParameter(3414),stencilBits:Ue.getParameter(3415),subpixelBits:Ue.getParameter(3408),extensions:Object.keys(nt).filter(function(wt){return!!nt[wt]}),maxAnisotropic:ct,maxDrawbuffers:Oe,maxColorAttachments:Ne,pointSizeDims:Ue.getParameter(33901),lineWidthDims:Ue.getParameter(33902),maxViewportDims:Ue.getParameter(3386),maxCombinedTextureUnits:Ue.getParameter(35661),maxCubeMapSize:Ue.getParameter(34076),maxRenderbufferSize:Ue.getParameter(34024),maxTextureUnits:Ue.getParameter(34930),maxTextureSize:Ue.getParameter(3379),maxAttributes:Ue.getParameter(34921),maxVertexUniforms:Ue.getParameter(36347),maxVertexTextureUnits:Ue.getParameter(35660),maxVaryingVectors:Ue.getParameter(36348),maxFragmentUniforms:Ue.getParameter(36349),glsl:Ue.getParameter(35724),renderer:Ue.getParameter(7937),vendor:Ue.getParameter(7936),version:Ue.getParameter(7938),readFloat:Qe,npotTextureCube:pt}},ve=function(Ue){return Ue instanceof Uint8Array||Ue instanceof Uint16Array||Ue instanceof Uint32Array||Ue instanceof Int8Array||Ue instanceof Int16Array||Ue instanceof Int32Array||Ue instanceof Float32Array||Ue instanceof Float64Array||Ue instanceof Uint8ClampedArray},fe=function(Ue){return Object.keys(Ue).map(function(nt){return Ue[nt]})},pe={shape:function(Ue){for(var nt=[];Ue.length;Ue=Ue[0])nt.push(Ue.length);return nt},flatten:function(Ue,nt,ct,Oe){var Ne=1;if(nt.length)for(var Qe=0;Qe<nt.length;++Qe)Ne*=nt[Qe];else Ne=0;switch(ct=Oe||me.allocType(ct,Ne),nt.length){case 0:break;case 1:for(Oe=nt[0],nt=0;nt<Oe;++nt)ct[nt]=Ue[nt];break;case 2:for(Oe=nt[0],nt=nt[1],Qe=Ne=0;Qe<Oe;++Qe)for(var ut=Ue[Qe],pt=0;pt<nt;++pt)ct[Ne++]=ut[pt];break;case 3:s(Ue,nt[0],nt[1],nt[2],ct,0);break;default:o(Ue,nt,0,ct,0)}return ct}},Le={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ye={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ae={dynamic:35048,stream:35040,static:35044},Me=pe.flatten,ke=pe.shape,te=[];te[5120]=1,te[5122]=2,te[5124]=4,te[5121]=1,te[5123]=2,te[5125]=4,te[5126]=4;var ue={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ge=new Float32Array(1),we=new Uint32Array(ge.buffer),Ee=[9984,9986,9985,9987],Be=[0,6409,6410,6407,6408],Re={};Re[6409]=Re[6406]=Re[6402]=1,Re[34041]=Re[6410]=2,Re[6407]=Re[35904]=3,Re[6408]=Re[35906]=4;var je=m("HTMLCanvasElement"),he=m("OffscreenCanvas"),_e=m("CanvasRenderingContext2D"),Te=m("ImageBitmap"),Fe=m("HTMLImageElement"),Ye=m("HTMLVideoElement"),Ge=Object.keys(Le).concat([je,he,_e,Te,Fe,Ye]),ot=[];ot[5121]=1,ot[5126]=4,ot[36193]=2,ot[5123]=2,ot[5125]=4;var st=[];st[32854]=2,st[32855]=2,st[36194]=2,st[34041]=4,st[33776]=.5,st[33777]=.5,st[33778]=1,st[33779]=1,st[35986]=.5,st[35987]=1,st[34798]=1,st[35840]=.5,st[35841]=.25,st[35842]=.5,st[35843]=.25,st[36196]=.5;var ht=[];ht[32854]=2,ht[32855]=2,ht[36194]=2,ht[33189]=2,ht[36168]=1,ht[34041]=4,ht[35907]=4,ht[34836]=16,ht[34842]=8,ht[34843]=6;var xt=function(Ue,nt,ct,Oe,Ne){function Qe(yt){this.id=Lt++,this.refCount=1,this.renderbuffer=yt,this.format=32854,this.height=this.width=0,Ne.profile&&(this.stats={size:0})}function ut(yt){var Rt=yt.renderbuffer;Ue.bindRenderbuffer(36161,null),Ue.deleteRenderbuffer(Rt),yt.renderbuffer=null,yt.refCount=0,delete It[yt.id],Oe.renderbufferCount--}var pt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};nt.ext_srgb&&(pt.srgba=35907),nt.ext_color_buffer_half_float&&(pt.rgba16f=34842,pt.rgb16f=34843),nt.webgl_color_buffer_float&&(pt.rgba32f=34836);var wt=[];Object.keys(pt).forEach(function(yt){wt[pt[yt]]=yt});var Lt=0,It={};return Qe.prototype.decRef=function(){0>=--this.refCount&&ut(this)},Ne.profile&&(Oe.getTotalRenderbufferSize=function(){var yt=0;return Object.keys(It).forEach(function(Rt){yt+=It[Rt].stats.size}),yt}),{create:function(yt,Rt){function bt(Bt,Zt){var Yt=0,Kt=0,tn=32854;if(typeof Bt=="object"&&Bt?("shape"in Bt?(Yt=0|(Kt=Bt.shape)[0],Kt=0|Kt[1]):("radius"in Bt&&(Yt=Kt=0|Bt.radius),"width"in Bt&&(Yt=0|Bt.width),"height"in Bt&&(Kt=0|Bt.height)),"format"in Bt&&(tn=pt[Bt.format])):typeof Bt=="number"?(Yt=0|Bt,Kt=typeof Zt=="number"?0|Zt:Yt):Bt||(Yt=Kt=1),Yt!==Pt.width||Kt!==Pt.height||tn!==Pt.format)return bt.width=Pt.width=Yt,bt.height=Pt.height=Kt,Pt.format=tn,Ue.bindRenderbuffer(36161,Pt.renderbuffer),Ue.renderbufferStorage(36161,tn,Yt,Kt),Ne.profile&&(Pt.stats.size=ht[Pt.format]*Pt.width*Pt.height),bt.format=wt[Pt.format],bt}var Pt=new Qe(Ue.createRenderbuffer());return It[Pt.id]=Pt,Oe.renderbufferCount++,bt(yt,Rt),bt.resize=function(Bt,Zt){var Yt=0|Bt,Kt=0|Zt||Yt;return Yt===Pt.width&&Kt===Pt.height||(bt.width=Pt.width=Yt,bt.height=Pt.height=Kt,Ue.bindRenderbuffer(36161,Pt.renderbuffer),Ue.renderbufferStorage(36161,Pt.format,Yt,Kt),Ne.profile&&(Pt.stats.size=ht[Pt.format]*Pt.width*Pt.height)),bt},bt._reglType="renderbuffer",bt._renderbuffer=Pt,Ne.profile&&(bt.stats=Pt.stats),bt.destroy=function(){Pt.decRef()},bt},clear:function(){fe(It).forEach(ut)},restore:function(){fe(It).forEach(function(yt){yt.renderbuffer=Ue.createRenderbuffer(),Ue.bindRenderbuffer(36161,yt.renderbuffer),Ue.renderbufferStorage(36161,yt.format,yt.width,yt.height)}),Ue.bindRenderbuffer(36161,null)}}},Ct=[];Ct[6408]=4,Ct[6407]=3;var St=[];St[5121]=1,St[5126]=4,St[36193]=2;var kt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Nt=["x","y","z","w"],Dt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Et={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Wt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ht={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ke={cw:2304,ccw:2305},$e=new q(!1,!1,!1,function(){});return function(Ue){function nt(){if(ir.length===0)on&&on.update(),xr=null;else{xr=se.next(nt),It();for(var Qt=ir.length-1;0<=Qt;--Qt){var bn=ir[Qt];bn&&bn(Xn,null,0)}bt.flush(),on&&on.update()}}function ct(){!xr&&0<ir.length&&(xr=se.next(nt))}function Oe(){xr&&(se.cancel(nt),xr=null)}function Ne(Qt){Qt.preventDefault(),Oe(),Mr.forEach(function(bn){bn()})}function Qe(Qt){bt.getError(),Bt.restore(),dn.restore(),un.restore(),Rn.restore(),In.restore(),Hn.restore(),gn.restore(),on&&on.restore(),Yn.procs.refresh(),ct(),gr.forEach(function(bn){bn()})}function ut(Qt){function bn(Vt,en){var pn={},Nn={};return Object.keys(Vt).forEach(function(Fn){var On=Vt[Fn];if(oe.isDynamic(On))Nn[Fn]=oe.unbox(On,Fn);else{if(en&&Array.isArray(On)){for(var mn=0;mn<On.length;++mn)if(oe.isDynamic(On[mn]))return void(Nn[Fn]=oe.unbox(On,Fn))}pn[Fn]=On}}),{dynamic:Nn,static:pn}}var Dn=bn(Qt.context||{},!0),Pn=bn(Qt.uniforms||{},!0),qn=bn(Qt.attributes||{},!1);Qt=bn(function(Vt){function en(Nn){if(Nn in pn){var Fn=pn[Nn];delete pn[Nn],Object.keys(Fn).forEach(function(On){pn[Nn+"."+On]=Fn[On]})}}var pn=ne({},Vt);return delete pn.uniforms,delete pn.attributes,delete pn.context,delete pn.vao,"stencil"in pn&&pn.stencil.op&&(pn.stencil.opBack=pn.stencil.opFront=pn.stencil.op,delete pn.stencil.op),en("blend"),en("depth"),en("cull"),en("stencil"),en("polygonOffset"),en("scissor"),en("sample"),"vao"in Vt&&(pn.vao=Vt.vao),pn}(Qt),!1);var Qn={gpuTime:0,cpuTime:0,count:0},Jn=Yn.compile(Qt,qn,Pn,Dn,Qn),nr=Jn.draw,yr=Jn.batch,an=Jn.scope,zn=[];return ne(function(Vt,en){var pn;if(typeof Vt=="function")return an.call(this,null,Vt,0);if(typeof en=="function")if(typeof Vt=="number")for(pn=0;pn<Vt;++pn)an.call(this,null,en,pn);else{if(!Array.isArray(Vt))return an.call(this,Vt,en,0);for(pn=0;pn<Vt.length;++pn)an.call(this,Vt[pn],en,pn)}else if(typeof Vt=="number"){if(0<Vt)return yr.call(this,function(Nn){for(;zn.length<Nn;)zn.push(null);return zn}(0|Vt),0|Vt)}else{if(!Array.isArray(Vt))return nr.call(this,Vt);if(Vt.length)return yr.call(this,Vt,Vt.length)}},{stats:Qn,destroy:function(){Jn.destroy()}})}function pt(Qt,bn){var Dn=0;Yn.procs.poll();var Pn=bn.color;Pn&&(bt.clearColor(+Pn[0]||0,+Pn[1]||0,+Pn[2]||0,+Pn[3]||0),Dn|=16384),"depth"in bn&&(bt.clearDepth(+bn.depth),Dn|=256),"stencil"in bn&&(bt.clearStencil(0|bn.stencil),Dn|=1024),bt.clear(Dn)}function wt(Qt){return ir.push(Qt),ct(),{cancel:function(){var bn=$(ir,Qt);ir[bn]=function Dn(){var Pn=$(ir,Dn);ir[Pn]=ir[ir.length-1],--ir.length,0>=ir.length&&Oe()}}}}function Lt(){var Qt=Gn.viewport,bn=Gn.scissor_box;Qt[0]=Qt[1]=bn[0]=bn[1]=0,Xn.viewportWidth=Xn.framebufferWidth=Xn.drawingBufferWidth=Qt[2]=bn[2]=bt.drawingBufferWidth,Xn.viewportHeight=Xn.framebufferHeight=Xn.drawingBufferHeight=Qt[3]=bn[3]=bt.drawingBufferHeight}function It(){Xn.tick+=1,Xn.time=Rt(),Lt(),Yn.procs.poll()}function yt(){Rn.refresh(),Lt(),Yn.procs.refresh(),on&&on.update()}function Rt(){return(ce()-_n)/1e3}if(!(Ue=k(Ue)))return null;var bt=Ue.gl,Pt=bt.getContextAttributes();bt.isContextLost();var Bt=function(Qt,bn){function Dn(Jn){var nr;Jn=Jn.toLowerCase();try{nr=Pn[Jn]=Qt.getExtension(Jn)}catch{}return!!nr}for(var Pn={},qn=0;qn<bn.extensions.length;++qn){var Qn=bn.extensions[qn];if(!Dn(Qn))return bn.onDestroy(),bn.onDone('"'+Qn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return bn.optionalExtensions.forEach(Dn),{extensions:Pn,restore:function(){Object.keys(Pn).forEach(function(Jn){if(Pn[Jn]&&!Dn(Jn))throw Error("(regl): error restoring extension "+Jn)})}}}(bt,Ue);if(!Bt)return null;var Zt=function(){var Qt={"":0},bn=[""];return{id:function(Dn){var Pn=Qt[Dn];return Pn||(Pn=Qt[Dn]=bn.length,bn.push(Dn),Pn)},str:function(Dn){return bn[Dn]}}}(),Yt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Kt=Ue.cachedCode||{},tn=Bt.extensions,on=function(Qt,bn){function Dn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Pn(zn,Vt,en){var pn=Jn.pop()||new Dn;pn.startQueryIndex=zn,pn.endQueryIndex=Vt,pn.sum=0,pn.stats=en,nr.push(pn)}if(!bn.ext_disjoint_timer_query)return null;var qn=[],Qn=[],Jn=[],nr=[],yr=[],an=[];return{beginQuery:function(zn){var Vt=qn.pop()||bn.ext_disjoint_timer_query.createQueryEXT();bn.ext_disjoint_timer_query.beginQueryEXT(35007,Vt),Qn.push(Vt),Pn(Qn.length-1,Qn.length,zn)},endQuery:function(){bn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Pn,update:function(){var zn,Vt;if((zn=Qn.length)!==0){an.length=Math.max(an.length,zn+1),yr.length=Math.max(yr.length,zn+1),yr[0]=0;var en=an[0]=0;for(Vt=zn=0;Vt<Qn.length;++Vt){var pn=Qn[Vt];bn.ext_disjoint_timer_query.getQueryObjectEXT(pn,34919)?(en+=bn.ext_disjoint_timer_query.getQueryObjectEXT(pn,34918),qn.push(pn)):Qn[zn++]=pn,yr[Vt+1]=en,an[Vt+1]=zn}for(Qn.length=zn,Vt=zn=0;Vt<nr.length;++Vt){var Nn=(en=nr[Vt]).startQueryIndex;pn=en.endQueryIndex,en.sum+=yr[pn]-yr[Nn],Nn=an[Nn],(pn=an[pn])===Nn?(en.stats.gpuTime+=en.sum/1e6,Jn.push(en)):(en.startQueryIndex=Nn,en.endQueryIndex=pn,nr[zn++]=en)}nr.length=zn}},getNumPendingQueries:function(){return Qn.length},clear:function(){qn.push.apply(qn,Qn);for(var zn=0;zn<qn.length;zn++)bn.ext_disjoint_timer_query.deleteQueryEXT(qn[zn]);Qn.length=0,qn.length=0},restore:function(){Qn.length=0,qn.length=0}}}(0,tn),_n=ce(),fn=bt.drawingBufferWidth,Sn=bt.drawingBufferHeight,Xn={tick:0,time:0,viewportWidth:fn,viewportHeight:Sn,framebufferWidth:fn,framebufferHeight:Sn,drawingBufferWidth:fn,drawingBufferHeight:Sn,pixelRatio:Ue.pixelRatio},An=(fn={elements:null,primitive:4,count:-1,offset:0,instances:-1},xe(bt,tn)),un=u(bt,Yt,Ue,function(Qt){return gn.destroyBuffer(Qt)}),Tn=p(bt,tn,un,Yt),gn=O(bt,tn,An,Yt,un,Tn,fn),dn=P(bt,Zt,Yt,Ue),Rn=E(bt,tn,An,function(){Yn.procs.poll()},Xn,Yt,Ue),In=xt(bt,tn,0,Yt,Ue),Hn=A(bt,tn,An,Rn,In,Yt),Yn=Z(bt,Zt,tn,An,un,Tn,0,Hn,{},gn,dn,fn,Xn,on,Kt,Ue),Gn=(Zt=D(bt,Hn,Yn.procs.poll,Xn),Yn.next),cr=bt.canvas,ir=[],Mr=[],gr=[],sr=[Ue.onDestroy],xr=null;cr&&(cr.addEventListener("webglcontextlost",Ne,!1),cr.addEventListener("webglcontextrestored",Qe,!1));var kr=Hn.setFBO=ut({framebuffer:oe.define.call(null,1,"framebuffer")});return yt(),Pt=ne(ut,{clear:function(Qt){if("framebuffer"in Qt)if(Qt.framebuffer&&Qt.framebuffer_reglType==="framebufferCube")for(var bn=0;6>bn;++bn)kr(ne({framebuffer:Qt.framebuffer.faces[bn]},Qt),pt);else kr(Qt,pt);else pt(0,Qt)},prop:oe.define.bind(null,1),context:oe.define.bind(null,2),this:oe.define.bind(null,3),draw:ut({}),buffer:function(Qt){return un.create(Qt,34962,!1,!1)},elements:function(Qt){return Tn.create(Qt,!1)},texture:Rn.create2D,cube:Rn.createCube,renderbuffer:In.create,framebuffer:Hn.create,framebufferCube:Hn.createCube,vao:gn.createVAO,attributes:Pt,frame:wt,on:function(Qt,bn){var Dn;switch(Qt){case"frame":return wt(bn);case"lost":Dn=Mr;break;case"restore":Dn=gr;break;case"destroy":Dn=sr}return Dn.push(bn),{cancel:function(){for(var Pn=0;Pn<Dn.length;++Pn)if(Dn[Pn]===bn){Dn[Pn]=Dn[Dn.length-1],Dn.pop();break}}}},limits:An,hasExtension:function(Qt){return 0<=An.extensions.indexOf(Qt.toLowerCase())},read:Zt,destroy:function(){ir.length=0,Oe(),cr&&(cr.removeEventListener("webglcontextlost",Ne),cr.removeEventListener("webglcontextrestored",Qe)),dn.clear(),Hn.clear(),In.clear(),gn.clear(),Rn.clear(),Tn.clear(),un.clear(),on&&on.clear(),sr.forEach(function(Qt){Qt()})},_gl:bt,_refresh:yt,poll:function(){It(),on&&on.update()},now:Rt,stats:Yt,getCachedCode:function(){return Kt},preloadCachedCode:function(Qt){Object.entries(Qt).forEach(function(bn){Kt[bn[0]]=bn[1]})}}),Ue.onDone(null,Pt),Pt}}()},71665:function(L,M,e){var b=e(12856),w=b.Buffer;function a(y,f){for(var l in y)f[l]=y[l]}function k(y,f,l){return w(y,f,l)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?L.exports=b:(a(b,M),M.Buffer=k),k.prototype=Object.create(w.prototype),a(w,k),k.from=function(y,f,l){if(typeof y=="number")throw new TypeError("Argument must not be a number");return w(y,f,l)},k.alloc=function(y,f,l){if(typeof y!="number")throw new TypeError("Argument must be a number");var t=w(y);return f!==void 0?typeof l=="string"?t.fill(f,l):t.fill(f):t.fill(0),t},k.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return w(y)},k.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return b.SlowBuffer(y)}},21630:function(L,M,e){L.exports=w;var b=e(15398).EventEmitter;function w(){b.call(this)}e(42018)(w,b),w.Readable=e(40410),w.Writable=e(37493),w.Duplex=e(37865),w.Transform=e(74308),w.PassThrough=e(66897),w.finished=e(12726),w.pipeline=e(10168),w.Stream=w,w.prototype.pipe=function(a,k){var y=this;function f(i){a.writable&&a.write(i)===!1&&y.pause&&y.pause()}function l(){y.readable&&y.resume&&y.resume()}y.on("data",f),a.on("drain",l),a._isStdio||k&&k.end===!1||(y.on("end",s),y.on("close",o));var t=!1;function s(){t||(t=!0,a.end())}function o(){t||(t=!0,typeof a.destroy=="function"&&a.destroy())}function n(i){if(r(),b.listenerCount(this,"error")===0)throw i}function r(){y.removeListener("data",f),a.removeListener("drain",l),y.removeListener("end",s),y.removeListener("close",o),y.removeListener("error",n),a.removeListener("error",n),y.removeListener("end",r),y.removeListener("close",r),a.removeListener("close",r)}return y.on("error",n),a.on("error",n),y.on("end",r),y.on("close",r),a.on("close",r),a.emit("pipe",y),a}},74322:function(L){"use strict";var M={};function e(w,a,k){k||(k=Error);var y=function(f){var l,t;function s(o,n,r){return f.call(this,function(i,u,p){return typeof a=="string"?a:a(i,u,p)}(o,n,r))||this}return t=f,(l=s).prototype=Object.create(t.prototype),l.prototype.constructor=l,l.__proto__=t,s}(k);y.prototype.name=k.name,y.prototype.code=w,M[w]=y}function b(w,a){if(Array.isArray(w)){var k=w.length;return w=w.map(function(y){return String(y)}),k>2?"one of ".concat(a," ").concat(w.slice(0,k-1).join(", "),", or ")+w[k-1]:k===2?"one of ".concat(a," ").concat(w[0]," or ").concat(w[1]):"of ".concat(a," ").concat(w[0])}return"of ".concat(a," ").concat(String(w))}e("ERR_INVALID_OPT_VALUE",function(w,a){return'The value "'+a+'" is invalid for option "'+w+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(w,a,k){var y,f,l,t,s;if(typeof a=="string"&&(f="not ",a.substr(0,f.length)===f)?(y="must not be",a=a.replace(/^not /,"")):y="must be",function(n,r,i){return(i===void 0||i>n.length)&&(i=n.length),n.substring(i-r.length,i)===r}(w," argument"))l="The ".concat(w," ").concat(y," ").concat(b(a,"type"));else{var o=(typeof s!="number"&&(s=0),s+1>(t=w).length||t.indexOf(".",s)===-1?"argument":"property");l='The "'.concat(w,'" ').concat(o," ").concat(y," ").concat(b(a,"type"))}return l+". Received type ".concat(typeof k)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(w){return"The "+w+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(w){return"Cannot call "+w+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(w){return"Unknown encoding: "+w},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),L.exports.q=M},37865:function(L,M,e){"use strict";var b=e(90386),w=Object.keys||function(n){var r=[];for(var i in n)r.push(i);return r};L.exports=t;var a=e(40410),k=e(37493);e(42018)(t,a);for(var y=w(k.prototype),f=0;f<y.length;f++){var l=y[f];t.prototype[l]||(t.prototype[l]=k.prototype[l])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),k.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||b.nextTick(o,this)}function o(n){n.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},66897:function(L,M,e){"use strict";L.exports=w;var b=e(74308);function w(a){if(!(this instanceof w))return new w(a);b.call(this,a)}e(42018)(w,b),w.prototype._transform=function(a,k,y){y(null,a)}},40410:function(L,M,e){"use strict";var b,w=e(90386);L.exports=T,T.ReadableState=v,e(15398).EventEmitter;var a,k=function(K,J){return K.listeners(J).length},y=e(71405),f=e(12856).Buffer,l=e.g.Uint8Array||function(){},t=e(40964);a=t&&t.debuglog?t.debuglog("stream"):function(){};var s,o,n,r=e(31125),i=e(65756),u=e(56306).getHighWaterMark,p=e(74322).q,h=p.ERR_INVALID_ARG_TYPE,_=p.ERR_STREAM_PUSH_AFTER_EOF,m=p.ERR_METHOD_NOT_IMPLEMENTED,d=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(T,y);var x=i.errorOrDestroy,g=["error","close","destroy","pause","resume"];function v(K,J,Z){b=b||e(37865),K=K||{},typeof Z!="boolean"&&(Z=J instanceof b),this.objectMode=!!K.objectMode,Z&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=u(this,K,"readableHighWaterMark",Z),this.buffer=new r,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(s||(s=e(68019).s),this.decoder=new s(K.encoding),this.encoding=K.encoding)}function T(K){if(b=b||e(37865),!(this instanceof T))return new T(K);var J=this instanceof b;this._readableState=new v(K,this,J),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),y.call(this)}function c(K,J,Z,$,ne){a("readableAddChunk",J);var ae,oe=K._readableState;if(J===null)oe.reading=!1,function(se,ce){if(a("onEofChunk"),!ce.ended){if(ce.decoder){var me=ce.decoder.end();me&&me.length&&(ce.buffer.push(me),ce.length+=ce.objectMode?1:me.length)}ce.ended=!0,ce.sync?O(se):(ce.needReadable=!1,ce.emittedReadable||(ce.emittedReadable=!0,P(se)))}}(K,oe);else if(ne||(ae=function(se,ce){var me,xe;return xe=ce,f.isBuffer(xe)||xe instanceof l||typeof ce=="string"||ce===void 0||se.objectMode||(me=new h("chunk",["string","Buffer","Uint8Array"],ce)),me}(oe,J)),ae)x(K,ae);else if(oe.objectMode||J&&J.length>0)if(typeof J=="string"||oe.objectMode||Object.getPrototypeOf(J)===f.prototype||(J=function(se){return f.from(se)}(J)),$)oe.endEmitted?x(K,new d):E(K,oe,J,!0);else if(oe.ended)x(K,new _);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!Z?(J=oe.decoder.write(J),oe.objectMode||J.length!==0?E(K,oe,J,!1):D(K,oe)):E(K,oe,J,!1)}else $||(oe.reading=!1,D(K,oe));return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function E(K,J,Z,$){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,K.emit("data",Z)):(J.length+=J.objectMode?1:Z.length,$?J.buffer.unshift(Z):J.buffer.push(Z),J.needReadable&&O(K)),D(K,J)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),T.prototype.destroy=i.destroy,T.prototype._undestroy=i.undestroy,T.prototype._destroy=function(K,J){J(K)},T.prototype.push=function(K,J){var Z,$=this._readableState;return $.objectMode?Z=!0:typeof K=="string"&&((J=J||$.defaultEncoding)!==$.encoding&&(K=f.from(K,J),J=""),Z=!0),c(this,K,J,!1,Z)},T.prototype.unshift=function(K){return c(this,K,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(K){s||(s=e(68019).s);var J=new s(K);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,$="";Z!==null;)$+=J.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),$!==""&&this._readableState.buffer.push($),this._readableState.length=$.length,this};var A=1073741824;function C(K,J){return K<=0||J.length===0&&J.ended?0:J.objectMode?1:K!=K?J.flowing&&J.length?J.buffer.head.data.length:J.length:(K>J.highWaterMark&&(J.highWaterMark=function(Z){return Z>=A?Z=A:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(K)),K<=J.length?K:J.ended?J.length:(J.needReadable=!0,0))}function O(K){var J=K._readableState;a("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(a("emitReadable",J.flowing),J.emittedReadable=!0,w.nextTick(P,K))}function P(K){var J=K._readableState;a("emitReadable_",J.destroyed,J.length,J.ended),J.destroyed||!J.length&&!J.ended||(K.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,B(K)}function D(K,J){J.readingMore||(J.readingMore=!0,w.nextTick(z,K,J))}function z(K,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var Z=J.length;if(a("maybeReadMore read 0"),K.read(0),Z===J.length)break}J.readingMore=!1}function V(K){var J=K._readableState;J.readableListening=K.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:K.listenerCount("data")>0&&K.resume()}function F(K){a("readable nexttick read 0"),K.read(0)}function W(K,J){a("resume",J.reading),J.reading||K.read(0),J.resumeScheduled=!1,K.emit("resume"),B(K),J.flowing&&!J.reading&&K.read(0)}function B(K){var J=K._readableState;for(a("flow",J.flowing);J.flowing&&K.read()!==null;);}function U(K,J){return J.length===0?null:(J.objectMode?Z=J.buffer.shift():!K||K>=J.length?(Z=J.decoder?J.buffer.join(""):J.buffer.length===1?J.buffer.first():J.buffer.concat(J.length),J.buffer.clear()):Z=J.buffer.consume(K,J.decoder),Z);var Z}function H(K){var J=K._readableState;a("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,w.nextTick(q,J,K))}function q(K,J){if(a("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,J.readable=!1,J.emit("end"),K.autoDestroy)){var Z=J._writableState;(!Z||Z.autoDestroy&&Z.finished)&&J.destroy()}}function ee(K,J){for(var Z=0,$=K.length;Z<$;Z++)if(K[Z]===J)return Z;return-1}T.prototype.read=function(K){a("read",K),K=parseInt(K,10);var J=this._readableState,Z=K;if(K!==0&&(J.emittedReadable=!1),K===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return a("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?H(this):O(this),null;if((K=C(K,J))===0&&J.ended)return J.length===0&&H(this),null;var $,ne=J.needReadable;return a("need readable",ne),(J.length===0||J.length-K<J.highWaterMark)&&a("length less than watermark",ne=!0),J.ended||J.reading?a("reading or ended",ne=!1):ne&&(a("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(K=C(Z,J))),($=K>0?U(K,J):null)===null?(J.needReadable=J.length<=J.highWaterMark,K=0):(J.length-=K,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),Z!==K&&J.ended&&H(this)),$!==null&&this.emit("data",$),$},T.prototype._read=function(K){x(this,new m("_read()"))},T.prototype.pipe=function(K,J){var Z=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=K;break;case 1:$.pipes=[$.pipes,K];break;default:$.pipes.push(K)}$.pipesCount+=1,a("pipe count=%d opts=%j",$.pipesCount,J);var ne=J&&J.end===!1||K===w.stdout||K===w.stderr?fe:ae;function ae(){a("onend"),K.end()}$.endEmitted?w.nextTick(ne):Z.once("end",ne),K.on("unpipe",function pe(Le,ye){a("onunpipe"),Le===Z&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,a("cleanup"),K.removeListener("close",xe),K.removeListener("finish",ve),K.removeListener("drain",oe),K.removeListener("error",me),K.removeListener("unpipe",pe),Z.removeListener("end",ae),Z.removeListener("end",fe),Z.removeListener("data",ce),se=!0,!$.awaitDrain||K._writableState&&!K._writableState.needDrain||oe())});var oe=function(pe){return function(){var Le=pe._readableState;a("pipeOnDrain",Le.awaitDrain),Le.awaitDrain&&Le.awaitDrain--,Le.awaitDrain===0&&k(pe,"data")&&(Le.flowing=!0,B(pe))}}(Z);K.on("drain",oe);var se=!1;function ce(pe){a("ondata");var Le=K.write(pe);a("dest.write",Le),Le===!1&&(($.pipesCount===1&&$.pipes===K||$.pipesCount>1&&ee($.pipes,K)!==-1)&&!se&&(a("false write response, pause",$.awaitDrain),$.awaitDrain++),Z.pause())}function me(pe){a("onerror",pe),fe(),K.removeListener("error",me),k(K,"error")===0&&x(K,pe)}function xe(){K.removeListener("finish",ve),fe()}function ve(){a("onfinish"),K.removeListener("close",xe),fe()}function fe(){a("unpipe"),Z.unpipe(K)}return Z.on("data",ce),function(pe,Le,ye){if(typeof pe.prependListener=="function")return pe.prependListener(Le,ye);pe._events&&pe._events.error?Array.isArray(pe._events.error)?pe._events.error.unshift(ye):pe._events.error=[ye,pe._events.error]:pe.on(Le,ye)}(K,"error",me),K.once("close",xe),K.once("finish",ve),K.emit("pipe",Z),$.flowing||(a("pipe resume"),Z.resume()),K},T.prototype.unpipe=function(K){var J=this._readableState,Z={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return K&&K!==J.pipes||(K||(K=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,K&&K.emit("unpipe",this,Z)),this;if(!K){var $=J.pipes,ne=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var ae=0;ae<ne;ae++)$[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=ee(J.pipes,K);return oe===-1||(J.pipes.splice(oe,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),K.emit("unpipe",this,Z)),this},T.prototype.on=function(K,J){var Z=y.prototype.on.call(this,K,J),$=this._readableState;return K==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):K==="readable"&&($.endEmitted||$.readableListening||($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,a("on readable",$.length,$.reading),$.length?O(this):$.reading||w.nextTick(F,this))),Z},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(K,J){var Z=y.prototype.removeListener.call(this,K,J);return K==="readable"&&w.nextTick(V,this),Z},T.prototype.removeAllListeners=function(K){var J=y.prototype.removeAllListeners.apply(this,arguments);return K!=="readable"&&K!==void 0||w.nextTick(V,this),J},T.prototype.resume=function(){var K=this._readableState;return K.flowing||(a("resume"),K.flowing=!K.readableListening,function(J,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,w.nextTick(W,J,Z))}(this,K)),K.paused=!1,this},T.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(K){var J=this,Z=this._readableState,$=!1;for(var ne in K.on("end",function(){if(a("wrapped end"),Z.decoder&&!Z.ended){var oe=Z.decoder.end();oe&&oe.length&&J.push(oe)}J.push(null)}),K.on("data",function(oe){a("wrapped data"),Z.decoder&&(oe=Z.decoder.write(oe)),Z.objectMode&&oe==null||(Z.objectMode||oe&&oe.length)&&(J.push(oe)||($=!0,K.pause()))}),K)this[ne]===void 0&&typeof K[ne]=="function"&&(this[ne]=function(oe){return function(){return K[oe].apply(K,arguments)}}(ne));for(var ae=0;ae<g.length;ae++)K.on(g[ae],this.emit.bind(this,g[ae]));return this._read=function(oe){a("wrapped _read",oe),$&&($=!1,K.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return o===void 0&&(o=e(68221)),o(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),T._fromList=U,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(T.from=function(K,J){return n===void 0&&(n=e(31748)),n(T,K,J)})},74308:function(L,M,e){"use strict";L.exports=t;var b=e(74322).q,w=b.ERR_METHOD_NOT_IMPLEMENTED,a=b.ERR_MULTIPLE_CALLBACK,k=b.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=b.ERR_TRANSFORM_WITH_LENGTH_0,f=e(37865);function l(n,r){var i=this._transformState;i.transforming=!1;var u=i.writecb;if(u===null)return this.emit("error",new a);i.writechunk=null,i.writecb=null,r!=null&&this.push(r),u(n);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);f.call(this,n),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",s)}function s(){var n=this;typeof this._flush!="function"||this._readableState.destroyed?o(this,null,null):this._flush(function(r,i){o(n,r,i)})}function o(n,r,i){if(r)return n.emit("error",r);if(i!=null&&n.push(i),n._writableState.length)throw new y;if(n._transformState.transforming)throw new k;return n.push(null)}e(42018)(t,f),t.prototype.push=function(n,r){return this._transformState.needTransform=!1,f.prototype.push.call(this,n,r)},t.prototype._transform=function(n,r,i){i(new w("_transform()"))},t.prototype._write=function(n,r,i){var u=this._transformState;if(u.writecb=i,u.writechunk=n,u.writeencoding=r,!u.transforming){var p=this._readableState;(u.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},t.prototype._read=function(n){var r=this._transformState;r.writechunk===null||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},t.prototype._destroy=function(n,r){f.prototype._destroy.call(this,n,function(i){r(i)})}},37493:function(L,M,e){"use strict";var b,w=e(90386);function a(D){var z=this;this.next=null,this.entry=null,this.finish=function(){(function(V,F,W){var B=V.entry;for(V.entry=null;B;){var U=B.callback;F.pendingcb--,U(void 0),B=B.next}F.corkedRequestsFree.next=V})(z,D)}}L.exports=T,T.WritableState=v;var k,y={deprecate:e(20588)},f=e(71405),l=e(12856).Buffer,t=e.g.Uint8Array||function(){},s=e(65756),o=e(56306).getHighWaterMark,n=e(74322).q,r=n.ERR_INVALID_ARG_TYPE,i=n.ERR_METHOD_NOT_IMPLEMENTED,u=n.ERR_MULTIPLE_CALLBACK,p=n.ERR_STREAM_CANNOT_PIPE,h=n.ERR_STREAM_DESTROYED,_=n.ERR_STREAM_NULL_VALUES,m=n.ERR_STREAM_WRITE_AFTER_END,d=n.ERR_UNKNOWN_ENCODING,x=s.errorOrDestroy;function g(){}function v(D,z,V){b=b||e(37865),D=D||{},typeof V!="boolean"&&(V=z instanceof b),this.objectMode=!!D.objectMode,V&&(this.objectMode=this.objectMode||!!D.writableObjectMode),this.highWaterMark=o(this,D,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=D.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){(function(B,U){var H=B._writableState,q=H.sync,ee=H.writecb;if(typeof ee!="function")throw new u;if(function(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}(H),U)(function(J,Z,$,ne,ae){--Z.pendingcb,$?(w.nextTick(ae,ne),w.nextTick(P,J,Z),J._writableState.errorEmitted=!0,x(J,ne)):(ae(ne),J._writableState.errorEmitted=!0,x(J,ne),P(J,Z))})(B,H,q,U,ee);else{var K=C(H)||B.destroyed;K||H.corked||H.bufferProcessing||!H.bufferedRequest||A(B,H),q?w.nextTick(E,B,H,K,ee):E(B,H,K,ee)}})(z,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(D){var z=this instanceof(b=b||e(37865));if(!z&&!k.call(T,this))return new T(D);this._writableState=new v(D,this,z),this.writable=!0,D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final)),f.call(this)}function c(D,z,V,F,W,B,U){z.writelen=F,z.writecb=U,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new h("write")):V?D._writev(W,z.onwrite):D._write(W,B,z.onwrite),z.sync=!1}function E(D,z,V,F){V||function(W,B){B.length===0&&B.needDrain&&(B.needDrain=!1,W.emit("drain"))}(D,z),z.pendingcb--,F(),P(D,z)}function A(D,z){z.bufferProcessing=!0;var V=z.bufferedRequest;if(D._writev&&V&&V.next){var F=z.bufferedRequestCount,W=new Array(F),B=z.corkedRequestsFree;B.entry=V;for(var U=0,H=!0;V;)W[U]=V,V.isBuf||(H=!1),V=V.next,U+=1;W.allBuffers=H,c(D,z,!0,z.length,W,"",B.finish),z.pendingcb++,z.lastBufferedRequest=null,B.next?(z.corkedRequestsFree=B.next,B.next=null):z.corkedRequestsFree=new a(z),z.bufferedRequestCount=0}else{for(;V;){var q=V.chunk,ee=V.encoding,K=V.callback;if(c(D,z,!1,z.objectMode?1:q.length,q,ee,K),V=V.next,z.bufferedRequestCount--,z.writing)break}V===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=V,z.bufferProcessing=!1}function C(D){return D.ending&&D.length===0&&D.bufferedRequest===null&&!D.finished&&!D.writing}function O(D,z){D._final(function(V){z.pendingcb--,V&&x(D,V),z.prefinished=!0,D.emit("prefinish"),P(D,z)})}function P(D,z){var V=C(z);if(V&&(function(W,B){B.prefinished||B.finalCalled||(typeof W._final!="function"||B.destroyed?(B.prefinished=!0,W.emit("prefinish")):(B.pendingcb++,B.finalCalled=!0,w.nextTick(O,W,B)))}(D,z),z.pendingcb===0&&(z.finished=!0,D.emit("finish"),z.autoDestroy))){var F=D._readableState;(!F||F.autoDestroy&&F.endEmitted)&&D.destroy()}return V}e(42018)(T,f),v.prototype.getBuffer=function(){for(var D=this.bufferedRequest,z=[];D;)z.push(D),D=D.next;return z},function(){try{Object.defineProperty(v.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(k=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(D){return!!k.call(this,D)||this===T&&D&&D._writableState instanceof v}})):k=function(D){return D instanceof this},T.prototype.pipe=function(){x(this,new p)},T.prototype.write=function(D,z,V){var F,W=this._writableState,B=!1,U=!W.objectMode&&(F=D,l.isBuffer(F)||F instanceof t);return U&&!l.isBuffer(D)&&(D=function(H){return l.from(H)}(D)),typeof z=="function"&&(V=z,z=null),U?z="buffer":z||(z=W.defaultEncoding),typeof V!="function"&&(V=g),W.ending?function(H,q){var ee=new m;x(H,ee),w.nextTick(q,ee)}(this,V):(U||function(H,q,ee,K){var J;return ee===null?J=new _:typeof ee=="string"||q.objectMode||(J=new r("chunk",["string","Buffer"],ee)),!J||(x(H,J),w.nextTick(K,J),!1)}(this,W,D,V))&&(W.pendingcb++,B=function(H,q,ee,K,J,Z){if(!ee){var $=function(se,ce,me){return se.objectMode||se.decodeStrings===!1||typeof ce!="string"||(ce=l.from(ce,me)),ce}(q,K,J);K!==$&&(ee=!0,J="buffer",K=$)}var ne=q.objectMode?1:K.length;q.length+=ne;var ae=q.length<q.highWaterMark;if(ae||(q.needDrain=!0),q.writing||q.corked){var oe=q.lastBufferedRequest;q.lastBufferedRequest={chunk:K,encoding:J,isBuf:ee,callback:Z,next:null},oe?oe.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else c(H,q,!1,ne,K,J,Z);return ae}(this,W,U,D,z,V)),B},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var D=this._writableState;D.corked&&(D.corked--,D.writing||D.corked||D.bufferProcessing||!D.bufferedRequest||A(this,D))},T.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new d(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(D,z,V){V(new i("_write()"))},T.prototype._writev=null,T.prototype.end=function(D,z,V){var F=this._writableState;return typeof D=="function"?(V=D,D=null,z=null):typeof z=="function"&&(V=z,z=null),D!=null&&this.write(D,z),F.corked&&(F.corked=1,this.uncork()),F.ending||function(W,B,U){B.ending=!0,P(W,B),U&&(B.finished?w.nextTick(U):W.once("finish",U)),B.ended=!0,W.writable=!1}(this,F,V),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),T.prototype.destroy=s.destroy,T.prototype._undestroy=s.undestroy,T.prototype._destroy=function(D,z){z(D)}},68221:function(L,M,e){"use strict";var b,w=e(90386);function a(_,m,d){return m in _?Object.defineProperty(_,m,{value:d,enumerable:!0,configurable:!0,writable:!0}):_[m]=d,_}var k=e(12726),y=Symbol("lastResolve"),f=Symbol("lastReject"),l=Symbol("error"),t=Symbol("ended"),s=Symbol("lastPromise"),o=Symbol("handlePromise"),n=Symbol("stream");function r(_,m){return{value:_,done:m}}function i(_){var m=_[y];if(m!==null){var d=_[n].read();d!==null&&(_[s]=null,_[y]=null,_[f]=null,m(r(d,!1)))}}function u(_){w.nextTick(i,_)}var p=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((a(b={get stream(){return this[n]},next:function(){var _=this,m=this[l];if(m!==null)return Promise.reject(m);if(this[t])return Promise.resolve(r(void 0,!0));if(this[n].destroyed)return new Promise(function(v,T){w.nextTick(function(){_[l]?T(_[l]):v(r(void 0,!0))})});var d,x=this[s];if(x)d=new Promise(function(v,T){return function(c,E){v.then(function(){T[t]?c(r(void 0,!0)):T[o](c,E)},E)}}(x,this));else{var g=this[n].read();if(g!==null)return Promise.resolve(r(g,!1));d=new Promise(this[o])}return this[s]=d,d}},Symbol.asyncIterator,function(){return this}),a(b,"return",function(){var _=this;return new Promise(function(m,d){_[n].destroy(null,function(x){x?d(x):m(r(void 0,!0))})})}),b),p);L.exports=function(_){var m,d=Object.create(h,(a(m={},n,{value:_,writable:!0}),a(m,y,{value:null,writable:!0}),a(m,f,{value:null,writable:!0}),a(m,l,{value:null,writable:!0}),a(m,t,{value:_._readableState.endEmitted,writable:!0}),a(m,o,{value:function(x,g){var v=d[n].read();v?(d[s]=null,d[y]=null,d[f]=null,x(r(v,!1))):(d[y]=x,d[f]=g)},writable:!0}),m));return d[s]=null,k(_,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var g=d[f];return g!==null&&(d[s]=null,d[y]=null,d[f]=null,g(x)),void(d[l]=x)}var v=d[y];v!==null&&(d[s]=null,d[y]=null,d[f]=null,v(r(void 0,!0))),d[t]=!0}),_.on("readable",u.bind(null,d)),d}},31125:function(L,M,e){"use strict";function b(l,t){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),s.push.apply(s,o)}return s}function w(l,t,s){return t in l?Object.defineProperty(l,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[t]=s,l}function a(l,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}var k=e(12856).Buffer,y=e(69862).inspect,f=y&&y.custom||"inspect";L.exports=function(){function l(){(function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}var t,s;return t=l,s=[{key:"push",value:function(o){var n={data:o,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(o){var n={data:o,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(o){if(this.length===0)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=o+n.data;return r}},{key:"concat",value:function(o){if(this.length===0)return k.alloc(0);for(var n,r,i,u=k.allocUnsafe(o>>>0),p=this.head,h=0;p;)n=p.data,r=u,i=h,k.prototype.copy.call(n,r,i),h+=p.data.length,p=p.next;return u}},{key:"consume",value:function(o,n){var r;return o<this.head.data.length?(r=this.head.data.slice(0,o),this.head.data=this.head.data.slice(o)):r=o===this.head.data.length?this.shift():n?this._getString(o):this._getBuffer(o),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(o){var n=this.head,r=1,i=n.data;for(o-=i.length;n=n.next;){var u=n.data,p=o>u.length?u.length:o;if(p===u.length?i+=u:i+=u.slice(0,o),(o-=p)==0){p===u.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=u.slice(p));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(o){var n=k.allocUnsafe(o),r=this.head,i=1;for(r.data.copy(n),o-=r.data.length;r=r.next;){var u=r.data,p=o>u.length?u.length:o;if(u.copy(n,n.length-o,0,p),(o-=p)==0){p===u.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=u.slice(p));break}++i}return this.length-=i,n}},{key:f,value:function(o,n){return y(this,function(r){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};i%2?b(Object(u),!0).forEach(function(p){w(r,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(u)):b(Object(u)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(u,p))})}return r}({},n,{depth:0,customInspect:!1}))}}],s&&a(t.prototype,s),l}()},65756:function(L,M,e){"use strict";var b=e(90386);function w(y,f){k(y,f),a(y)}function a(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function k(y,f){y.emit("error",f)}L.exports={destroy:function(y,f){var l=this,t=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return t||s?(f?f(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,b.nextTick(k,this,y)):b.nextTick(k,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(o){!f&&o?l._writableState?l._writableState.errorEmitted?b.nextTick(a,l):(l._writableState.errorEmitted=!0,b.nextTick(w,l,o)):b.nextTick(w,l,o):f?(b.nextTick(a,l),f(o)):b.nextTick(a,l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(y,f){var l=y._readableState,t=y._writableState;l&&l.autoDestroy||t&&t.autoDestroy?y.destroy(f):y.emit("error",f)}}},12726:function(L,M,e){"use strict";var b=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function w(){}L.exports=function a(k,y,f){if(typeof y=="function")return a(k,null,y);y||(y={}),f=function(_){var m=!1;return function(){if(!m){m=!0;for(var d=arguments.length,x=new Array(d),g=0;g<d;g++)x[g]=arguments[g];_.apply(this,x)}}}(f||w);var l=y.readable||y.readable!==!1&&k.readable,t=y.writable||y.writable!==!1&&k.writable,s=function(){k.writable||n()},o=k._writableState&&k._writableState.finished,n=function(){t=!1,o=!0,l||f.call(k)},r=k._readableState&&k._readableState.endEmitted,i=function(){l=!1,r=!0,t||f.call(k)},u=function(_){f.call(k,_)},p=function(){var _;return l&&!r?(k._readableState&&k._readableState.ended||(_=new b),f.call(k,_)):t&&!o?(k._writableState&&k._writableState.ended||(_=new b),f.call(k,_)):void 0},h=function(){k.req.on("finish",n)};return function(_){return _.setHeader&&typeof _.abort=="function"}(k)?(k.on("complete",n),k.on("abort",p),k.req?h():k.on("request",h)):t&&!k._writableState&&(k.on("end",s),k.on("close",s)),k.on("end",i),k.on("finish",n),y.error!==!1&&k.on("error",u),k.on("close",p),function(){k.removeListener("complete",n),k.removeListener("abort",p),k.removeListener("request",h),k.req&&k.req.removeListener("finish",n),k.removeListener("end",s),k.removeListener("close",s),k.removeListener("finish",n),k.removeListener("end",i),k.removeListener("error",u),k.removeListener("close",p)}}},31748:function(L){L.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(L,M,e){"use strict";var b,w=e(74322).q,a=w.ERR_MISSING_ARGS,k=w.ERR_STREAM_DESTROYED;function y(o){if(o)throw o}function f(o,n,r,i){i=function(h){var _=!1;return function(){_||(_=!0,h.apply(void 0,arguments))}}(i);var u=!1;o.on("close",function(){u=!0}),b===void 0&&(b=e(12726)),b(o,{readable:n,writable:r},function(h){if(h)return i(h);u=!0,i()});var p=!1;return function(h){if(!u&&!p)return p=!0,function(_){return _.setHeader&&typeof _.abort=="function"}(o)?o.abort():typeof o.destroy=="function"?o.destroy():void i(h||new k("pipe"))}}function l(o){o()}function t(o,n){return o.pipe(n)}function s(o){return o.length?typeof o[o.length-1]!="function"?y:o.pop():y}L.exports=function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];var i,u=s(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new a("streams");var p=n.map(function(h,_){var m=_<n.length-1;return f(h,m,_>0,function(d){i||(i=d),d&&p.forEach(l),m||(p.forEach(l),u(i))})});return n.reduce(t)}},56306:function(L,M,e){"use strict";var b=e(74322).q.ERR_INVALID_OPT_VALUE;L.exports={getHighWaterMark:function(w,a,k,y){var f=function(l,t,s){return l.highWaterMark!=null?l.highWaterMark:t?l[s]:null}(a,y,k);if(f!=null){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new b(y?k:"highWaterMark",f);return Math.floor(f)}return w.objectMode?16:16384}}},71405:function(L,M,e){L.exports=e(15398).EventEmitter},68019:function(L,M,e){"use strict";var b=e(71665).Buffer,w=b.isEncoding||function(r){switch((r=""+r)&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(r){var i;switch(this.encoding=function(u){var p=function(h){if(!h)return"utf8";for(var _;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(_)return;h=(""+h).toLowerCase(),_=!0}}(u);if(typeof p!="string"&&(b.isEncoding===w||!w(u)))throw new Error("Unknown encoding: "+u);return p||u}(r),this.encoding){case"utf16le":this.text=f,this.end=l,i=4;break;case"utf8":this.fillLast=y,i=4;break;case"base64":this.text=t,this.end=s,i=3;break;default:return this.write=o,void(this.end=n)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(i)}function k(r){return r<=127?0:r>>5==6?2:r>>4==14?3:r>>3==30?4:r>>6==2?-1:-2}function y(r){var i=this.lastTotal-this.lastNeed,u=function(p,h,_){if((192&h[0])!=128)return p.lastNeed=0,"\uFFFD";if(p.lastNeed>1&&h.length>1){if((192&h[1])!=128)return p.lastNeed=1,"\uFFFD";if(p.lastNeed>2&&h.length>2&&(192&h[2])!=128)return p.lastNeed=2,"\uFFFD"}}(this,r);return u!==void 0?u:this.lastNeed<=r.length?(r.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(r.copy(this.lastChar,i,0,r.length),void(this.lastNeed-=r.length))}function f(r,i){if((r.length-i)%2==0){var u=r.toString("utf16le",i);if(u){var p=u.charCodeAt(u.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",i,r.length-1)}function l(r){var i=r&&r.length?this.write(r):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,u)}return i}function t(r,i){var u=(r.length-i)%3;return u===0?r.toString("base64",i):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",i,r.length-u))}function s(r){var i=r&&r.length?this.write(r):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function o(r){return r.toString(this.encoding)}function n(r){return r&&r.length?this.write(r):""}M.s=a,a.prototype.write=function(r){if(r.length===0)return"";var i,u;if(this.lastNeed){if((i=this.fillLast(r))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<r.length?i?i+this.text(r,u):this.text(r,u):i||""},a.prototype.end=function(r){var i=r&&r.length?this.write(r):"";return this.lastNeed?i+"\uFFFD":i},a.prototype.text=function(r,i){var u=function(h,_,m){var d=_.length-1;if(d<m)return 0;var x=k(_[d]);return x>=0?(x>0&&(h.lastNeed=x-1),x):--d<m||x===-2?0:(x=k(_[d]))>=0?(x>0&&(h.lastNeed=x-2),x):--d<m||x===-2?0:(x=k(_[d]))>=0?(x>0&&(x===2?x=0:h.lastNeed=x-3),x):0}(this,r,i);if(!this.lastNeed)return r.toString("utf8",i);this.lastTotal=u;var p=r.length-(u-this.lastNeed);return r.copy(this.lastChar,0,p),r.toString("utf8",i,p)},a.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length}},90715:function(L,M,e){var b=e(32791),w=e(41633)("stream-parser");function a(r){w("initializing parser stream"),r._parserBytesLeft=0,r._parserBuffers=[],r._parserBuffered=0,r._parserState=-1,r._parserCallback=null,typeof r.push=="function"&&(r._parserOutput=r.push.bind(r)),r._parserInit=!0}function k(r,i){b(!this._parserCallback,'there is already a "callback" set!'),b(isFinite(r)&&r>0,'can only buffer a finite number of bytes > 0, got "'+r+'"'),this._parserInit||a(this),w("buffering %o bytes",r),this._parserBytesLeft=r,this._parserCallback=i,this._parserState=0}function y(r,i){b(!this._parserCallback,'there is already a "callback" set!'),b(r>0,'can only skip > 0 bytes, got "'+r+'"'),this._parserInit||a(this),w("skipping %o bytes",r),this._parserBytesLeft=r,this._parserCallback=i,this._parserState=1}function f(r,i){b(!this._parserCallback,'There is already a "callback" set!'),b(r>0,'can only pass through > 0 bytes, got "'+r+'"'),this._parserInit||a(this),w("passing through %o bytes",r),this._parserBytesLeft=r,this._parserCallback=i,this._parserState=2}function l(r,i,u){this._parserInit||a(this),w("write(%o bytes)",r.length),typeof i=="function"&&(u=i),o(this,r,null,u)}function t(r,i,u){this._parserInit||a(this),w("transform(%o bytes)",r.length),typeof i!="function"&&(i=this._parserOutput),o(this,r,i,u)}function s(r,i,u,p){if(r._parserBytesLeft-=i.length,w("%o bytes left for stream piece",r._parserBytesLeft),r._parserState===0?(r._parserBuffers.push(i),r._parserBuffered+=i.length):r._parserState===2&&u(i),r._parserBytesLeft!==0)return p;var h=r._parserCallback;if(h&&r._parserState===0&&r._parserBuffers.length>1&&(i=Buffer.concat(r._parserBuffers,r._parserBuffered)),r._parserState!==0&&(i=null),r._parserCallback=null,r._parserBuffered=0,r._parserState=-1,r._parserBuffers.splice(0),h){var _=[];i&&_.push(i),u&&_.push(u);var m=h.length>_.length;m&&_.push(n(p));var d=h.apply(r,_);if(!m||p===d)return p}}L.exports=function(r){var i=r&&typeof r._transform=="function",u=r&&typeof r._write=="function";if(!i&&!u)throw new Error("must pass a Writable or Transform stream in");w("extending Parser into stream"),r._bytes=k,r._skipBytes=y,i&&(r._passthrough=f),i?r._transform=t:r._write=l};var o=n(function r(i,u,p,h){return i._parserBytesLeft<=0?h(new Error("got data but not currently parsing anything")):u.length<=i._parserBytesLeft?function(){return s(i,u,p,h)}:function(){var _=u.slice(0,i._parserBytesLeft);return s(i,_,p,function(m){return m?h(m):u.length>_.length?function(){return r(i,u.slice(_.length),p,h)}:void 0})}});function n(r){return function(){for(var i=r.apply(this,arguments);typeof i=="function";)i=i();return i}}},41633:function(L,M,e){var b=e(90386);function w(){var a;try{a=M.storage.debug}catch{}return!a&&b!==void 0&&"env"in b&&(a=b.env.DEBUG),a}(M=L.exports=e(74469)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},M.formatArgs=function(a){var k=this.useColors;if(a[0]=(k?"%c":"")+this.namespace+(k?" %c":" ")+a[0]+(k?"%c ":" ")+"+"+M.humanize(this.diff),k){var y="color: "+this.color;a.splice(1,0,y,"color: inherit");var f=0,l=0;a[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(f++,t==="%c"&&(l=f))}),a.splice(l,0,y)}},M.save=function(a){try{a==null?M.storage.removeItem("debug"):M.storage.debug=a}catch{}},M.load=w,M.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},M.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),M.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],M.formatters.j=function(a){try{return JSON.stringify(a)}catch(k){return"[UnexpectedJSONParseError]: "+k.message}},M.enable(w())},74469:function(L,M,e){var b;function w(a){function k(){if(k.enabled){var y=k,f=+new Date,l=f-(b||f);y.diff=l,y.prev=b,y.curr=f,b=f;for(var t=new Array(arguments.length),s=0;s<t.length;s++)t[s]=arguments[s];t[0]=M.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var o=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(r,i){if(r==="%%")return r;o++;var u=M.formatters[i];if(typeof u=="function"){var p=t[o];r=u.call(y,p),t.splice(o,1),o--}return r}),M.formatArgs.call(y,t);var n=k.log||M.log||console.log.bind(console);n.apply(y,t)}}return k.namespace=a,k.enabled=M.enabled(a),k.useColors=M.useColors(),k.color=function(y){var f,l=0;for(f in y)l=(l<<5)-l+y.charCodeAt(f),l|=0;return M.colors[Math.abs(l)%M.colors.length]}(a),typeof M.init=="function"&&M.init(k),k}(M=L.exports=w.debug=w.default=w).coerce=function(a){return a instanceof Error?a.stack||a.message:a},M.disable=function(){M.enable("")},M.enable=function(a){M.save(a),M.names=[],M.skips=[];for(var k=(typeof a=="string"?a:"").split(/[\s,]+/),y=k.length,f=0;f<y;f++)k[f]&&((a=k[f].replace(/\*/g,".*?"))[0]==="-"?M.skips.push(new RegExp("^"+a.substr(1)+"$")):M.names.push(new RegExp("^"+a+"$")))},M.enabled=function(a){var k,y;for(k=0,y=M.skips.length;k<y;k++)if(M.skips[k].test(a))return!1;for(k=0,y=M.names.length;k<y;k++)if(M.names[k].test(a))return!0;return!1},M.humanize=e(11375),M.names=[],M.skips=[],M.formatters={}},11375:function(L){var M=1e3,e=60*M,b=60*e,w=24*b;function a(k,y,f){if(!(k<y))return k<1.5*y?Math.floor(k/y)+" "+f:Math.ceil(k/y)+" "+f+"s"}L.exports=function(k,y){y=y||{};var f,l=typeof k;if(l==="string"&&k.length>0)return function(t){if(!((t=String(t)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*w;case"hours":case"hour":case"hrs":case"hr":case"h":return o*b;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(k);if(l==="number"&&isNaN(k)===!1)return y.long?a(f=k,w,"day")||a(f,b,"hour")||a(f,e,"minute")||a(f,M,"second")||f+" ms":function(t){return t>=w?Math.round(t/w)+"d":t>=b?Math.round(t/b)+"h":t>=e?Math.round(t/e)+"m":t>=M?Math.round(t/M)+"s":t+"ms"}(k);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(k))}},99011:function(L,M,e){"use strict";var b=e(88641);L.exports=function(w,a,k){if(w==null)throw Error("First argument should be a string");if(a==null)throw Error("Separator should be a string or a RegExp");k?(typeof k=="string"||Array.isArray(k))&&(k={ignore:k}):k={},k.escape==null&&(k.escape=!0),k.ignore==null?k.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof k.ignore=="string"&&(k.ignore=[k.ignore]),k.ignore=k.ignore.map(function(n){return n.length===1&&(n+=n),n}));var y=b.parse(w,{flat:!0,brackets:k.ignore}),f=y[0].split(a);if(k.escape){for(var l=[],t=0;t<f.length;t++){var s=f[t],o=f[t+1];s[s.length-1]==="\\"&&s[s.length-2]!=="\\"?(l.push(s+a+o),t++):l.push(s)}f=l}for(t=0;t<f.length;t++)y[0]=f[t],f[t]=b.stringify(y,{flat:!0});return f}},68664:function(L){"use strict";L.exports=function(M){for(var e=M.length,b=new Array(e),w=new Array(e),a=new Array(e),k=new Array(e),y=new Array(e),f=new Array(e),l=0;l<e;++l)b[l]=-1,w[l]=0,a[l]=!1,k[l]=0,y[l]=-1,f[l]=[];var t,s=0,o=[],n=[];function r(p){var h=[p],_=[p];for(b[p]=w[p]=s,a[p]=!0,s+=1;_.length>0;){p=_[_.length-1];var m=M[p];if(k[p]<m.length){for(var d=k[p];d<m.length;++d){var x=m[d];if(b[x]<0){b[x]=w[x]=s,a[x]=!0,s+=1,h.push(x),_.push(x);break}a[x]&&(w[p]=0|Math.min(w[p],w[x])),y[x]>=0&&f[p].push(y[x])}k[p]=d}else{if(w[p]===b[p]){var g=[],v=[],T=0;for(d=h.length-1;d>=0;--d){var c=h[d];if(a[c]=!1,g.push(c),v.push(f[c]),T+=f[c].length,y[c]=o.length,c===p){h.length=d;break}}o.push(g);var E=new Array(T);for(d=0;d<v.length;d++)for(var A=0;A<v[d].length;A++)E[--T]=v[d][A];n.push(E)}_.pop()}}}for(l=0;l<e;++l)b[l]<0&&r(l);for(l=0;l<n.length;l++){var i=n[l];if(i.length!==0){i.sort(function(p,h){return p-h}),t=[i[0]];for(var u=1;u<i.length;u++)i[u]!==i[u-1]&&t.push(i[u]);n[l]=t}}return{components:o,adjacencyList:n}}},7095:function(L,M,e){"use strict";e.r(M);var b=2*Math.PI,w=function(y,f,l,t,s,o,n){var r=y.x,i=y.y;return{x:t*(r*=f)-s*(i*=l)+o,y:s*r+t*i+n}},a=function(y,f){var l=f===1.5707963267948966?.551915024494:f===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(f/4),t=Math.cos(y),s=Math.sin(y),o=Math.cos(y+f),n=Math.sin(y+f);return[{x:t-s*l,y:s+t*l},{x:o+n*l,y:n-o*l},{x:o,y:n}]},k=function(y,f,l,t){var s=y*l+f*t;return s>1&&(s=1),s<-1&&(s=-1),(y*t-f*l<0?-1:1)*Math.acos(s)};M.default=function(y){var f=y.px,l=y.py,t=y.cx,s=y.cy,o=y.rx,n=y.ry,r=y.xAxisRotation,i=r===void 0?0:r,u=y.largeArcFlag,p=u===void 0?0:u,h=y.sweepFlag,_=h===void 0?0:h,m=[];if(o===0||n===0)return[];var d=Math.sin(i*b/360),x=Math.cos(i*b/360),g=x*(f-t)/2+d*(l-s)/2,v=-d*(f-t)/2+x*(l-s)/2;if(g===0&&v===0)return[];o=Math.abs(o),n=Math.abs(n);var T=Math.pow(g,2)/Math.pow(o,2)+Math.pow(v,2)/Math.pow(n,2);T>1&&(o*=Math.sqrt(T),n*=Math.sqrt(T));var c=function(F,W,B,U,H,q,ee,K,J,Z,$,ne){var ae=Math.pow(H,2),oe=Math.pow(q,2),se=Math.pow($,2),ce=Math.pow(ne,2),me=ae*oe-ae*ce-oe*se;me<0&&(me=0),me/=ae*ce+oe*se;var xe=(me=Math.sqrt(me)*(ee===K?-1:1))*H/q*ne,ve=me*-q/H*$,fe=Z*xe-J*ve+(F+B)/2,pe=J*xe+Z*ve+(W+U)/2,Le=($-xe)/H,ye=(ne-ve)/q,Ae=(-$-xe)/H,Me=(-ne-ve)/q,ke=k(1,0,Le,ye),te=k(Le,ye,Ae,Me);return K===0&&te>0&&(te-=b),K===1&&te<0&&(te+=b),[fe,pe,ke,te]}(f,l,t,s,o,n,p,_,d,x,g,v),E=function(F,W){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(B,U){var H=[],q=!0,ee=!1,K=void 0;try{for(var J,Z=B[Symbol.iterator]();!(q=(J=Z.next()).done)&&(H.push(J.value),!U||H.length!==U);q=!0);}catch($){ee=!0,K=$}finally{try{!q&&Z.return&&Z.return()}finally{if(ee)throw K}}return H}(F,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(c,4),A=E[0],C=E[1],O=E[2],P=E[3],D=Math.abs(P)/(b/4);Math.abs(1-D)<1e-7&&(D=1);var z=Math.max(Math.ceil(D),1);P/=z;for(var V=0;V<z;V++)m.push(a(O,P)),O+=P;return m.map(function(F){var W=w(F[0],o,n,x,d,A,C),B=W.x,U=W.y,H=w(F[1],o,n,x,d,A,C),q=H.x,ee=H.y,K=w(F[2],o,n,x,d,A,C);return{x1:B,y1:U,x2:q,y2:ee,x:K.x,y:K.y}})}},1750:function(L,M,e){"use strict";var b=e(95616),w=e(65185),a=e(29988),k=e(89546),y=e(32791);L.exports=function(f){if(Array.isArray(f)&&f.length===1&&typeof f[0]=="string"&&(f=f[0]),typeof f=="string"&&(y(k(f),"String is not an SVG path."),f=b(f)),y(Array.isArray(f),"Argument should be a string or an array of path segments."),f=w(f),!(f=a(f)).length)return[0,0,0,0];for(var l=[1/0,1/0,-1/0,-1/0],t=0,s=f.length;t<s;t++)for(var o=f[t].slice(1),n=0;n<o.length;n+=2)o[n+0]<l[0]&&(l[0]=o[n+0]),o[n+1]<l[1]&&(l[1]=o[n+1]),o[n+0]>l[2]&&(l[2]=o[n+0]),o[n+1]>l[3]&&(l[3]=o[n+1]);return l}},29988:function(L,M,e){"use strict";L.exports=function(k){for(var y,f=[],l=0,t=0,s=0,o=0,n=null,r=null,i=0,u=0,p=0,h=k.length;p<h;p++){var _=k[p],m=_[0];switch(m){case"M":s=_[1],o=_[2];break;case"A":var d=b({px:i,py:u,cx:_[6],cy:_[7],rx:_[1],ry:_[2],xAxisRotation:_[3],largeArcFlag:_[4],sweepFlag:_[5]});if(!d.length)continue;for(var x,g=0;g<d.length;g++)_=["C",(x=d[g]).x1,x.y1,x.x2,x.y2,x.x,x.y],g<d.length-1&&f.push(_);break;case"S":var v=i,T=u;y!="C"&&y!="S"||(v+=v-l,T+=T-t),_=["C",v,T,_[1],_[2],_[3],_[4]];break;case"T":y=="Q"||y=="T"?(n=2*i-n,r=2*u-r):(n=i,r=u),_=a(i,u,n,r,_[1],_[2]);break;case"Q":n=_[1],r=_[2],_=a(i,u,_[1],_[2],_[3],_[4]);break;case"L":_=w(i,u,_[1],_[2]);break;case"H":_=w(i,u,_[1],u);break;case"V":_=w(i,u,i,_[1]);break;case"Z":_=w(i,u,s,o)}y=m,i=_[_.length-2],u=_[_.length-1],_.length>4?(l=_[_.length-4],t=_[_.length-3]):(l=i,t=u),f.push(_)}return f};var b=e(7095);function w(k,y,f,l){return["C",k,y,f,l,f,l]}function a(k,y,f,l,t,s){return["C",k/3+.6666666666666666*f,y/3+.6666666666666666*l,t/3+.6666666666666666*f,s/3+.6666666666666666*l,t,s]}},82019:function(L,M,e){"use strict";var b,w=e(1750),a=e(95616),k=e(31457),y=e(89546),f=e(44781),l=document.createElement("canvas"),t=l.getContext("2d");L.exports=function(s,o){if(!y(s))throw Error("Argument should be valid svg path string");var n,r;o||(o={}),o.shape?(n=o.shape[0],r=o.shape[1]):(n=l.width=o.w||o.width||200,r=l.height=o.h||o.height||200);var i=Math.min(n,r),u=o.stroke||0,p=o.viewbox||o.viewBox||w(s),h=[n/(p[2]-p[0]),r/(p[3]-p[1])],_=Math.min(h[0]||0,h[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,n,r),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*n,.5*r),t.scale(_,_),function(){if(b!=null)return b;var x=document.createElement("canvas").getContext("2d");if(x.canvas.width=x.canvas.height=1,!window.Path2D)return b=!1;var g=new Path2D("M0,0h1v1h-1v-1Z");x.fillStyle="black",x.fill(g);var v=x.getImageData(0,0,1,1);return b=v&&v.data&&v.data[3]===255}()){var m=new Path2D(s);t.fill(m),u&&t.stroke(m)}else{var d=a(s);k(t,d),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),f(t,{cutoff:o.cutoff!=null?o.cutoff:.5,radius:o.radius!=null?o.radius:.5*i})}},84267:function(L,M,e){var b;(function(w){var a=/^\s+/,k=/\s+$/,y=0,f=w.round,l=w.min,t=w.max,s=w.random;function o($,ne){if(ne=ne||{},($=$||"")instanceof o)return $;if(!(this instanceof o))return new o($,ne);var ae=function(oe){var se,ce,me,xe={r:0,g:0,b:0},ve=1,fe=null,pe=null,Le=null,ye=!1,Ae=!1;return typeof oe=="string"&&(oe=function(Me){Me=Me.replace(a,"").replace(k,"").toLowerCase();var ke,te=!1;if(O[Me])Me=O[Me],te=!0;else if(Me=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(ke=J.rgb.exec(Me))?{r:ke[1],g:ke[2],b:ke[3]}:(ke=J.rgba.exec(Me))?{r:ke[1],g:ke[2],b:ke[3],a:ke[4]}:(ke=J.hsl.exec(Me))?{h:ke[1],s:ke[2],l:ke[3]}:(ke=J.hsla.exec(Me))?{h:ke[1],s:ke[2],l:ke[3],a:ke[4]}:(ke=J.hsv.exec(Me))?{h:ke[1],s:ke[2],v:ke[3]}:(ke=J.hsva.exec(Me))?{h:ke[1],s:ke[2],v:ke[3],a:ke[4]}:(ke=J.hex8.exec(Me))?{r:F(ke[1]),g:F(ke[2]),b:F(ke[3]),a:H(ke[4]),format:te?"name":"hex8"}:(ke=J.hex6.exec(Me))?{r:F(ke[1]),g:F(ke[2]),b:F(ke[3]),format:te?"name":"hex"}:(ke=J.hex4.exec(Me))?{r:F(ke[1]+""+ke[1]),g:F(ke[2]+""+ke[2]),b:F(ke[3]+""+ke[3]),a:H(ke[4]+""+ke[4]),format:te?"name":"hex8"}:!!(ke=J.hex3.exec(Me))&&{r:F(ke[1]+""+ke[1]),g:F(ke[2]+""+ke[2]),b:F(ke[3]+""+ke[3]),format:te?"name":"hex"}}(oe)),typeof oe=="object"&&(Z(oe.r)&&Z(oe.g)&&Z(oe.b)?(se=oe.r,ce=oe.g,me=oe.b,xe={r:255*z(se,255),g:255*z(ce,255),b:255*z(me,255)},ye=!0,Ae=String(oe.r).substr(-1)==="%"?"prgb":"rgb"):Z(oe.h)&&Z(oe.s)&&Z(oe.v)?(fe=B(oe.s),pe=B(oe.v),xe=function(Me,ke,te){Me=6*z(Me,360),ke=z(ke,100),te=z(te,100);var ue=w.floor(Me),ge=Me-ue,we=te*(1-ke),Ee=te*(1-ge*ke),Be=te*(1-(1-ge)*ke),Re=ue%6;return{r:255*[te,Ee,we,we,Be,te][Re],g:255*[Be,te,te,Ee,we,we][Re],b:255*[we,we,Be,te,te,Ee][Re]}}(oe.h,fe,pe),ye=!0,Ae="hsv"):Z(oe.h)&&Z(oe.s)&&Z(oe.l)&&(fe=B(oe.s),Le=B(oe.l),xe=function(Me,ke,te){var ue,ge,we;function Ee(je,he,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?je+6*(he-je)*_e:_e<.5?he:_e<2/3?je+(he-je)*(2/3-_e)*6:je}if(Me=z(Me,360),ke=z(ke,100),te=z(te,100),ke===0)ue=ge=we=te;else{var Be=te<.5?te*(1+ke):te+ke-te*ke,Re=2*te-Be;ue=Ee(Re,Be,Me+1/3),ge=Ee(Re,Be,Me),we=Ee(Re,Be,Me-1/3)}return{r:255*ue,g:255*ge,b:255*we}}(oe.h,fe,Le),ye=!0,Ae="hsl"),oe.hasOwnProperty("a")&&(ve=oe.a)),ve=D(ve),{ok:ye,format:oe.format||Ae,r:l(255,t(xe.r,0)),g:l(255,t(xe.g,0)),b:l(255,t(xe.b,0)),a:ve}}($);this._originalInput=$,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=f(100*this._a)/100,this._format=ne.format||ae.format,this._gradientType=ne.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=ae.ok,this._tc_id=y++}function n($,ne,ae){$=z($,255),ne=z(ne,255),ae=z(ae,255);var oe,se,ce=t($,ne,ae),me=l($,ne,ae),xe=(ce+me)/2;if(ce==me)oe=se=0;else{var ve=ce-me;switch(se=xe>.5?ve/(2-ce-me):ve/(ce+me),ce){case $:oe=(ne-ae)/ve+(ne<ae?6:0);break;case ne:oe=(ae-$)/ve+2;break;case ae:oe=($-ne)/ve+4}oe/=6}return{h:oe,s:se,l:xe}}function r($,ne,ae){$=z($,255),ne=z(ne,255),ae=z(ae,255);var oe,se,ce=t($,ne,ae),me=l($,ne,ae),xe=ce,ve=ce-me;if(se=ce===0?0:ve/ce,ce==me)oe=0;else{switch(ce){case $:oe=(ne-ae)/ve+(ne<ae?6:0);break;case ne:oe=(ae-$)/ve+2;break;case ae:oe=($-ne)/ve+4}oe/=6}return{h:oe,s:se,v:xe}}function i($,ne,ae,oe){var se=[W(f($).toString(16)),W(f(ne).toString(16)),W(f(ae).toString(16))];return oe&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0):se.join("")}function u($,ne,ae,oe){return[W(U(oe)),W(f($).toString(16)),W(f(ne).toString(16)),W(f(ae).toString(16))].join("")}function p($,ne){ne=ne===0?0:ne||10;var ae=o($).toHsl();return ae.s-=ne/100,ae.s=V(ae.s),o(ae)}function h($,ne){ne=ne===0?0:ne||10;var ae=o($).toHsl();return ae.s+=ne/100,ae.s=V(ae.s),o(ae)}function _($){return o($).desaturate(100)}function m($,ne){ne=ne===0?0:ne||10;var ae=o($).toHsl();return ae.l+=ne/100,ae.l=V(ae.l),o(ae)}function d($,ne){ne=ne===0?0:ne||10;var ae=o($).toRgb();return ae.r=t(0,l(255,ae.r-f(-ne/100*255))),ae.g=t(0,l(255,ae.g-f(-ne/100*255))),ae.b=t(0,l(255,ae.b-f(-ne/100*255))),o(ae)}function x($,ne){ne=ne===0?0:ne||10;var ae=o($).toHsl();return ae.l-=ne/100,ae.l=V(ae.l),o(ae)}function g($,ne){var ae=o($).toHsl(),oe=(ae.h+ne)%360;return ae.h=oe<0?360+oe:oe,o(ae)}function v($){var ne=o($).toHsl();return ne.h=(ne.h+180)%360,o(ne)}function T($){var ne=o($).toHsl(),ae=ne.h;return[o($),o({h:(ae+120)%360,s:ne.s,l:ne.l}),o({h:(ae+240)%360,s:ne.s,l:ne.l})]}function c($){var ne=o($).toHsl(),ae=ne.h;return[o($),o({h:(ae+90)%360,s:ne.s,l:ne.l}),o({h:(ae+180)%360,s:ne.s,l:ne.l}),o({h:(ae+270)%360,s:ne.s,l:ne.l})]}function E($){var ne=o($).toHsl(),ae=ne.h;return[o($),o({h:(ae+72)%360,s:ne.s,l:ne.l}),o({h:(ae+216)%360,s:ne.s,l:ne.l})]}function A($,ne,ae){ne=ne||6,ae=ae||30;var oe=o($).toHsl(),se=360/ae,ce=[o($)];for(oe.h=(oe.h-(se*ne>>1)+720)%360;--ne;)oe.h=(oe.h+se)%360,ce.push(o(oe));return ce}function C($,ne){ne=ne||6;for(var ae=o($).toHsv(),oe=ae.h,se=ae.s,ce=ae.v,me=[],xe=1/ne;ne--;)me.push(o({h:oe,s:se,v:ce})),ce=(ce+xe)%1;return me}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return(299*$.r+587*$.g+114*$.b)/1e3},getLuminance:function(){var $,ne,ae,oe=this.toRgb();return $=oe.r/255,ne=oe.g/255,ae=oe.b/255,.2126*($<=.03928?$/12.92:w.pow(($+.055)/1.055,2.4))+.7152*(ne<=.03928?ne/12.92:w.pow((ne+.055)/1.055,2.4))+.0722*(ae<=.03928?ae/12.92:w.pow((ae+.055)/1.055,2.4))},setAlpha:function($){return this._a=D($),this._roundA=f(100*this._a)/100,this},toHsv:function(){var $=r(this._r,this._g,this._b);return{h:360*$.h,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=r(this._r,this._g,this._b),ne=f(360*$.h),ae=f(100*$.s),oe=f(100*$.v);return this._a==1?"hsv("+ne+", "+ae+"%, "+oe+"%)":"hsva("+ne+", "+ae+"%, "+oe+"%, "+this._roundA+")"},toHsl:function(){var $=n(this._r,this._g,this._b);return{h:360*$.h,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=n(this._r,this._g,this._b),ne=f(360*$.h),ae=f(100*$.s),oe=f(100*$.l);return this._a==1?"hsl("+ne+", "+ae+"%, "+oe+"%)":"hsla("+ne+", "+ae+"%, "+oe+"%, "+this._roundA+")"},toHex:function($){return i(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return function(ne,ae,oe,se,ce){var me=[W(f(ne).toString(16)),W(f(ae).toString(16)),W(f(oe).toString(16)),W(U(se))];return ce&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)&&me[3].charAt(0)==me[3].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0)+me[3].charAt(0):me.join("")}(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*z(this._r,255))+"%",g:f(100*z(this._g,255))+"%",b:f(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(100*z(this._r,255))+"%, "+f(100*z(this._g,255))+"%, "+f(100*z(this._b,255))+"%)":"rgba("+f(100*z(this._r,255))+"%, "+f(100*z(this._g,255))+"%, "+f(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(P[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function($){var ne="#"+u(this._r,this._g,this._b,this._a),ae=ne,oe=this._gradientType?"GradientType = 1, ":"";if($){var se=o($);ae="#"+u(se._r,se._g,se._b,se._a)}return"progid:DXImageTransform.Microsoft.gradient("+oe+"startColorstr="+ne+",endColorstr="+ae+")"},toString:function($){var ne=!!$;$=$||this._format;var ae=!1,oe=this._a<1&&this._a>=0;return ne||!oe||$!=="hex"&&$!=="hex6"&&$!=="hex3"&&$!=="hex4"&&$!=="hex8"&&$!=="name"?($==="rgb"&&(ae=this.toRgbString()),$==="prgb"&&(ae=this.toPercentageRgbString()),$!=="hex"&&$!=="hex6"||(ae=this.toHexString()),$==="hex3"&&(ae=this.toHexString(!0)),$==="hex4"&&(ae=this.toHex8String(!0)),$==="hex8"&&(ae=this.toHex8String()),$==="name"&&(ae=this.toName()),$==="hsl"&&(ae=this.toHslString()),$==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString()):$==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function($,ne){var ae=$.apply(null,[this].concat([].slice.call(ne)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function($,ne){return $.apply(null,[this].concat([].slice.call(ne)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(c,arguments)}},o.fromRatio=function($,ne){if(typeof $=="object"){var ae={};for(var oe in $)$.hasOwnProperty(oe)&&(ae[oe]=oe==="a"?$[oe]:B($[oe]));$=ae}return o($,ne)},o.equals=function($,ne){return!(!$||!ne)&&o($).toRgbString()==o(ne).toRgbString()},o.random=function(){return o.fromRatio({r:s(),g:s(),b:s()})},o.mix=function($,ne,ae){ae=ae===0?0:ae||50;var oe=o($).toRgb(),se=o(ne).toRgb(),ce=ae/100;return o({r:(se.r-oe.r)*ce+oe.r,g:(se.g-oe.g)*ce+oe.g,b:(se.b-oe.b)*ce+oe.b,a:(se.a-oe.a)*ce+oe.a})},o.readability=function($,ne){var ae=o($),oe=o(ne);return(w.max(ae.getLuminance(),oe.getLuminance())+.05)/(w.min(ae.getLuminance(),oe.getLuminance())+.05)},o.isReadable=function($,ne,ae){var oe,se,ce,me,xe,ve=o.readability($,ne);switch(se=!1,(ce=ae,(me=((ce=ce||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&me!=="AAA"&&(me="AA"),(xe=(ce.size||"small").toLowerCase())!=="small"&&xe!=="large"&&(xe="small"),oe={level:me,size:xe}).level+oe.size){case"AAsmall":case"AAAlarge":se=ve>=4.5;break;case"AAlarge":se=ve>=3;break;case"AAAsmall":se=ve>=7}return se},o.mostReadable=function($,ne,ae){var oe,se,ce,me,xe=null,ve=0;se=(ae=ae||{}).includeFallbackColors,ce=ae.level,me=ae.size;for(var fe=0;fe<ne.length;fe++)(oe=o.readability($,ne[fe]))>ve&&(ve=oe,xe=o(ne[fe]));return o.isReadable($,xe,{level:ce,size:me})||!se?xe:(ae.includeFallbackColors=!1,o.mostReadable($,["#fff","#000"],ae))};var O=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=o.hexNames=function($){var ne={};for(var ae in $)$.hasOwnProperty(ae)&&(ne[$[ae]]=ae);return ne}(O);function D($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function z($,ne){(function(oe){return typeof oe=="string"&&oe.indexOf(".")!=-1&&parseFloat(oe)===1})($)&&($="100%");var ae=function(oe){return typeof oe=="string"&&oe.indexOf("%")!=-1}($);return $=l(ne,t(0,parseFloat($))),ae&&($=parseInt($*ne,10)/100),w.abs($-ne)<1e-6?1:$%ne/parseFloat(ne)}function V($){return l(1,t(0,$))}function F($){return parseInt($,16)}function W($){return $.length==1?"0"+$:""+$}function B($){return $<=1&&($=100*$+"%"),$}function U($){return w.round(255*parseFloat($)).toString(16)}function H($){return F($)/255}var q,ee,K,J=(ee="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",K="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+ee),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+ee),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+ee),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z($){return!!J.CSS_UNIT.exec($)}L.exports?L.exports=o:(b=function(){return o}.call(M,e,M,L))===void 0||(L.exports=b)})(Math)},57060:function(L){"use strict";L.exports=e,L.exports.float32=L.exports.float=e,L.exports.fract32=L.exports.fract=function(b,w){if(b.length){if(b instanceof Float32Array)return new Float32Array(b.length);w instanceof Float32Array||(w=e(b));for(var a=0,k=w.length;a<k;a++)w[a]=b[a]-w[a];return w}return e(b-e(b))};var M=new Float32Array(1);function e(b){return b.length?b instanceof Float32Array?b:new Float32Array(b):(M[0]=b,M[0])}},75686:function(L,M,e){"use strict";var b=e(25677);function w(k,y){var f=b(getComputedStyle(k).getPropertyValue(y));return f[0]*a(f[1],k)}function a(k,y){switch(y=y||document.body,k=(k||"px").trim().toLowerCase(),y!==window&&y!==document||(y=document.body),k){case"%":return y.clientHeight/100;case"ch":case"ex":return function(f,l){var t=document.createElement("div");t.style["font-size"]="128"+f,l.appendChild(t);var s=w(t,"font-size")/128;return l.removeChild(t),s}(k,y);case"em":return w(y,"font-size");case"rem":return w(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 37.79527559055118;case"mm":return 3.7795275590551185;case"pt":return 1.3333333333333333;case"pc":return 16}return 1}L.exports=a},96892:function(L,M,e){"use strict";function b(k){return k}function w(k,y){return typeof y=="string"&&(y=k.objects[y]),y.type==="GeometryCollection"?{type:"FeatureCollection",features:y.geometries.map(function(f){return a(k,f)})}:a(k,y)}function a(k,y){var f=y.id,l=y.bbox,t=y.properties==null?{}:y.properties,s=function(o,n){var r=function(d){if(d==null)return b;var x,g,v=d.scale[0],T=d.scale[1],c=d.translate[0],E=d.translate[1];return function(A,C){C||(x=g=0);var O=2,P=A.length,D=new Array(P);for(D[0]=(x+=A[0])*v+c,D[1]=(g+=A[1])*T+E;O<P;)D[O]=A[O],++O;return D}}(o.transform),i=o.arcs;function u(d,x){x.length&&x.pop();for(var g=i[d<0?~d:d],v=0,T=g.length;v<T;++v)x.push(r(g[v],v));d<0&&function(c,E){for(var A,C=c.length,O=C-E;O<--C;)A=c[O],c[O++]=c[C],c[C]=A}(x,T)}function p(d){return r(d)}function h(d){for(var x=[],g=0,v=d.length;g<v;++g)u(d[g],x);return x.length<2&&x.push(x[0]),x}function _(d){for(var x=h(d);x.length<4;)x.push(x[0]);return x}function m(d){return d.map(_)}return function d(x){var g,v=x.type;switch(v){case"GeometryCollection":return{type:v,geometries:x.geometries.map(d)};case"Point":g=p(x.coordinates);break;case"MultiPoint":g=x.coordinates.map(p);break;case"LineString":g=h(x.arcs);break;case"MultiLineString":g=x.arcs.map(h);break;case"Polygon":g=m(x.arcs);break;case"MultiPolygon":g=x.arcs.map(m);break;default:return null}return{type:v,coordinates:g}}(n)}(k,y);return f==null&&l==null?{type:"Feature",properties:t,geometry:s}:l==null?{type:"Feature",id:f,properties:t,geometry:s}:{type:"Feature",id:f,bbox:l,properties:t,geometry:s}}e.d(M,{zL:function(){return w}})},73116:function(L,M,e){"use strict";var b=e(24511);L.exports=function(w){if(typeof w!="function"||!hasOwnProperty.call(w,"length"))return!1;try{if(typeof w.length!="number"||typeof w.call!="function"||typeof w.apply!="function")return!1}catch{return!1}return!b(w)}},69190:function(L,M,e){"use strict";var b=e(24582),w=e(47403),a=e(9234),k=e(6048),y=function(f,l){return f.replace("%v",k(l))};L.exports=function(f,l,t){if(!w(t))throw new TypeError(y(l,f));if(!b(f)){if("default"in t)return t.default;if(t.isOptional)return null}var s=a(t.errorMessage);throw b(s)||(s=l),new TypeError(y(s,f))}},18497:function(L){"use strict";L.exports=function(M){try{return M.toString()}catch{try{return String(M)}catch{return null}}}},6048:function(L,M,e){"use strict";var b=e(18497),w=/[\n\r\u2028\u2029]/g;L.exports=function(a){var k=b(a);return k===null?"<Non-coercible to string value>":(k.length>100&&(k=k.slice(0,99)+"\u2026"),k=k.replace(w,function(y){switch(y){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(L,M,e){"use strict";var b=e(24582),w={object:!0,function:!0,undefined:!0};L.exports=function(a){return!!b(a)&&hasOwnProperty.call(w,typeof a)}},82527:function(L,M,e){"use strict";var b=e(69190),w=e(84985);L.exports=function(a){return w(a)?a:b(a,"%v is not a plain function",arguments[1])}},84985:function(L,M,e){"use strict";var b=e(73116),w=/^\s*class[\s{/}]/,a=Function.prototype.toString;L.exports=function(k){return!!b(k)&&!w.test(a.call(k))}},24511:function(L,M,e){"use strict";var b=e(47403);L.exports=function(w){if(!b(w))return!1;try{return!!w.constructor&&w.constructor.prototype===w}catch{return!1}}},9234:function(L,M,e){"use strict";var b=e(24582),w=e(47403),a=Object.prototype.toString;L.exports=function(k){if(!b(k))return null;if(w(k)){var y=k.toString;if(typeof y!="function"||y===a)return null}try{return""+k}catch{return null}}},10424:function(L,M,e){"use strict";var b=e(69190),w=e(24582);L.exports=function(a){return w(a)?a:b(a,"Cannot use %v",arguments[1])}},24582:function(L){"use strict";L.exports=function(M){return M!=null}},58404:function(L,M,e){"use strict";var b=e(13547),w=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:w([32,0]),UINT16:w([32,0]),UINT32:w([32,0]),BIGUINT64:w([32,0]),INT8:w([32,0]),INT16:w([32,0]),INT32:w([32,0]),BIGINT64:w([32,0]),FLOAT:w([32,0]),DOUBLE:w([32,0]),DATA:w([32,0]),UINT8C:w([32,0]),BUFFER:w([32,0])});var k=typeof Uint8ClampedArray<"u",y=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",l=e.g.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=w([32,0])),l.BIGUINT64||(l.BIGUINT64=w([32,0])),l.BIGINT64||(l.BIGINT64=w([32,0])),l.BUFFER||(l.BUFFER=w([32,0]));var t=l.DATA,s=l.BUFFER;function o(E){if(E){var A=E.length||E.byteLength,C=b.log2(A);t[C].push(E)}}function n(E){E=b.nextPow2(E);var A=b.log2(E),C=t[A];return C.length>0?C.pop():new ArrayBuffer(E)}function r(E){return new Uint8Array(n(E),0,E)}function i(E){return new Uint16Array(n(2*E),0,E)}function u(E){return new Uint32Array(n(4*E),0,E)}function p(E){return new Int8Array(n(E),0,E)}function h(E){return new Int16Array(n(2*E),0,E)}function _(E){return new Int32Array(n(4*E),0,E)}function m(E){return new Float32Array(n(4*E),0,E)}function d(E){return new Float64Array(n(8*E),0,E)}function x(E){return k?new Uint8ClampedArray(n(E),0,E):r(E)}function g(E){return y?new BigUint64Array(n(8*E),0,E):null}function v(E){return f?new BigInt64Array(n(8*E),0,E):null}function T(E){return new DataView(n(E),0,E)}function c(E){E=b.nextPow2(E);var A=b.log2(E),C=s[A];return C.length>0?C.pop():new a(E)}M.free=function(E){if(a.isBuffer(E))s[b.log2(E.length)].push(E);else{if(Object.prototype.toString.call(E)!=="[object ArrayBuffer]"&&(E=E.buffer),!E)return;var A=E.length||E.byteLength,C=0|b.log2(A);t[C].push(E)}},M.freeUint8=M.freeUint16=M.freeUint32=M.freeBigUint64=M.freeInt8=M.freeInt16=M.freeInt32=M.freeBigInt64=M.freeFloat32=M.freeFloat=M.freeFloat64=M.freeDouble=M.freeUint8Clamped=M.freeDataView=function(E){o(E.buffer)},M.freeArrayBuffer=o,M.freeBuffer=function(E){s[b.log2(E.length)].push(E)},M.malloc=function(E,A){if(A===void 0||A==="arraybuffer")return n(E);switch(A){case"uint8":return r(E);case"uint16":return i(E);case"uint32":return u(E);case"int8":return p(E);case"int16":return h(E);case"int32":return _(E);case"float":case"float32":return m(E);case"double":case"float64":return d(E);case"uint8_clamped":return x(E);case"bigint64":return v(E);case"biguint64":return g(E);case"buffer":return c(E);case"data":case"dataview":return T(E);default:return null}return null},M.mallocArrayBuffer=n,M.mallocUint8=r,M.mallocUint16=i,M.mallocUint32=u,M.mallocInt8=p,M.mallocInt16=h,M.mallocInt32=_,M.mallocFloat32=M.mallocFloat=m,M.mallocFloat64=M.mallocDouble=d,M.mallocUint8Clamped=x,M.mallocBigUint64=g,M.mallocBigInt64=v,M.mallocDataView=T,M.mallocBuffer=c,M.clearCache=function(){for(var E=0;E<32;++E)l.UINT8[E].length=0,l.UINT16[E].length=0,l.UINT32[E].length=0,l.INT8[E].length=0,l.INT16[E].length=0,l.INT32[E].length=0,l.FLOAT[E].length=0,l.DOUBLE[E].length=0,l.BIGUINT64[E].length=0,l.BIGINT64[E].length=0,l.UINT8C[E].length=0,t[E].length=0,s[E].length=0}},90448:function(L){var M=/[\'\"]/;L.exports=function(e){return e?(M.test(e.charAt(0))&&(e=e.substr(1)),M.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},93447:function(L){"use strict";L.exports=function(M,e,b){Array.isArray(b)||(b=[].slice.call(arguments,2));for(var w=0,a=b.length;w<a;w++){var k=b[w];for(var y in k)if((e[y]===void 0||Array.isArray(e[y])||M[y]!==e[y])&&y in e){var f;if(k[y]===!0)f=e[y];else if(k[y]===!1||typeof k[y]=="function"&&(f=k[y](e[y],M,e))===void 0)continue;M[y]=f}}return M}},20588:function(L,M,e){function b(w){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[w];return a!=null&&String(a).toLowerCase()==="true"}L.exports=function(w,a){if(b("noDeprecation"))return w;var k=!1;return function(){if(!k){if(b("throwDeprecation"))throw new Error(a);b("traceDeprecation")?console.trace(a):console.warn(a),k=!0}return w.apply(this,arguments)}}},45920:function(L){L.exports=function(M){return M&&typeof M=="object"&&typeof M.copy=="function"&&typeof M.fill=="function"&&typeof M.readUInt8=="function"}},4936:function(L,M,e){"use strict";var b=e(47216),w=e(65481),a=e(21099),k=e(9187);function y(z){return z.call.bind(z)}var f=typeof BigInt<"u",l=typeof Symbol<"u",t=y(Object.prototype.toString),s=y(Number.prototype.valueOf),o=y(String.prototype.valueOf),n=y(Boolean.prototype.valueOf);if(f)var r=y(BigInt.prototype.valueOf);if(l)var i=y(Symbol.prototype.valueOf);function u(z,V){if(typeof z!="object")return!1;try{return V(z),!0}catch{return!1}}function p(z){return t(z)==="[object Map]"}function h(z){return t(z)==="[object Set]"}function _(z){return t(z)==="[object WeakMap]"}function m(z){return t(z)==="[object WeakSet]"}function d(z){return t(z)==="[object ArrayBuffer]"}function x(z){return typeof ArrayBuffer<"u"&&(d.working?d(z):z instanceof ArrayBuffer)}function g(z){return t(z)==="[object DataView]"}function v(z){return typeof DataView<"u"&&(g.working?g(z):z instanceof DataView)}M.isArgumentsObject=b,M.isGeneratorFunction=w,M.isTypedArray=k,M.isPromise=function(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"},M.isArrayBufferView=function(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):k(z)||v(z)},M.isUint8Array=function(z){return a(z)==="Uint8Array"},M.isUint8ClampedArray=function(z){return a(z)==="Uint8ClampedArray"},M.isUint16Array=function(z){return a(z)==="Uint16Array"},M.isUint32Array=function(z){return a(z)==="Uint32Array"},M.isInt8Array=function(z){return a(z)==="Int8Array"},M.isInt16Array=function(z){return a(z)==="Int16Array"},M.isInt32Array=function(z){return a(z)==="Int32Array"},M.isFloat32Array=function(z){return a(z)==="Float32Array"},M.isFloat64Array=function(z){return a(z)==="Float64Array"},M.isBigInt64Array=function(z){return a(z)==="BigInt64Array"},M.isBigUint64Array=function(z){return a(z)==="BigUint64Array"},p.working=typeof Map<"u"&&p(new Map),M.isMap=function(z){return typeof Map<"u"&&(p.working?p(z):z instanceof Map)},h.working=typeof Set<"u"&&h(new Set),M.isSet=function(z){return typeof Set<"u"&&(h.working?h(z):z instanceof Set)},_.working=typeof WeakMap<"u"&&_(new WeakMap),M.isWeakMap=function(z){return typeof WeakMap<"u"&&(_.working?_(z):z instanceof WeakMap)},m.working=typeof WeakSet<"u"&&m(new WeakSet),M.isWeakSet=function(z){return m(z)},d.working=typeof ArrayBuffer<"u"&&d(new ArrayBuffer),M.isArrayBuffer=x,g.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&g(new DataView(new ArrayBuffer(1),0,1)),M.isDataView=v;var T=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function c(z){return t(z)==="[object SharedArrayBuffer]"}function E(z){return T!==void 0&&(c.working===void 0&&(c.working=c(new T)),c.working?c(z):z instanceof T)}function A(z){return u(z,s)}function C(z){return u(z,o)}function O(z){return u(z,n)}function P(z){return f&&u(z,r)}function D(z){return l&&u(z,i)}M.isSharedArrayBuffer=E,M.isAsyncFunction=function(z){return t(z)==="[object AsyncFunction]"},M.isMapIterator=function(z){return t(z)==="[object Map Iterator]"},M.isSetIterator=function(z){return t(z)==="[object Set Iterator]"},M.isGeneratorObject=function(z){return t(z)==="[object Generator]"},M.isWebAssemblyCompiledModule=function(z){return t(z)==="[object WebAssembly.Module]"},M.isNumberObject=A,M.isStringObject=C,M.isBooleanObject=O,M.isBigIntObject=P,M.isSymbolObject=D,M.isBoxedPrimitive=function(z){return A(z)||C(z)||O(z)||P(z)||D(z)},M.isAnyArrayBuffer=function(z){return typeof Uint8Array<"u"&&(x(z)||E(z))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(M,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})},43827:function(L,M,e){var b=e(90386),w=Object.getOwnPropertyDescriptors||function(z){for(var V=Object.keys(z),F={},W=0;W<V.length;W++)F[V[W]]=Object.getOwnPropertyDescriptor(z,V[W]);return F},a=/%[sdj%]/g;M.format=function(z){if(!_(z)){for(var V=[],F=0;F<arguments.length;F++)V.push(l(arguments[F]));return V.join(" ")}F=1;for(var W=arguments,B=W.length,U=String(z).replace(a,function(q){if(q==="%%")return"%";if(F>=B)return q;switch(q){case"%s":return String(W[F++]);case"%d":return Number(W[F++]);case"%j":try{return JSON.stringify(W[F++])}catch{return"[Circular]"}default:return q}}),H=W[F];F<B;H=W[++F])p(H)||!x(H)?U+=" "+H:U+=" "+l(H);return U},M.deprecate=function(z,V){if(b!==void 0&&b.noDeprecation===!0)return z;if(b===void 0)return function(){return M.deprecate(z,V).apply(this,arguments)};var F=!1;return function(){if(!F){if(b.throwDeprecation)throw new Error(V);b.traceDeprecation?console.trace(V):console.error(V),F=!0}return z.apply(this,arguments)}};var k={},y=/^$/;if(b.env.NODE_DEBUG){var f=b.env.NODE_DEBUG;f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+f+"$","i")}function l(z,V){var F={seen:[],stylize:s};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),u(V)?F.showHidden=V:V&&M._extend(F,V),m(F.showHidden)&&(F.showHidden=!1),m(F.depth)&&(F.depth=2),m(F.colors)&&(F.colors=!1),m(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=t),o(F,z,F.depth)}function t(z,V){var F=l.styles[V];return F?"\x1B["+l.colors[F][0]+"m"+z+"\x1B["+l.colors[F][1]+"m":z}function s(z,V){return z}function o(z,V,F){if(z.customInspect&&V&&T(V.inspect)&&V.inspect!==M.inspect&&(!V.constructor||V.constructor.prototype!==V)){var W=V.inspect(F,z);return _(W)||(W=o(z,W,F)),W}var B=function($,ne){if(m(ne))return $.stylize("undefined","undefined");if(_(ne)){var ae="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(ae,"string")}return h(ne)?$.stylize(""+ne,"number"):u(ne)?$.stylize(""+ne,"boolean"):p(ne)?$.stylize("null","null"):void 0}(z,V);if(B)return B;var U=Object.keys(V),H=function($){var ne={};return $.forEach(function(ae,oe){ne[ae]=!0}),ne}(U);if(z.showHidden&&(U=Object.getOwnPropertyNames(V)),v(V)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return n(V);if(U.length===0){if(T(V)){var q=V.name?": "+V.name:"";return z.stylize("[Function"+q+"]","special")}if(d(V))return z.stylize(RegExp.prototype.toString.call(V),"regexp");if(g(V))return z.stylize(Date.prototype.toString.call(V),"date");if(v(V))return n(V)}var ee,K="",J=!1,Z=["{","}"];return i(V)&&(J=!0,Z=["[","]"]),T(V)&&(K=" [Function"+(V.name?": "+V.name:"")+"]"),d(V)&&(K=" "+RegExp.prototype.toString.call(V)),g(V)&&(K=" "+Date.prototype.toUTCString.call(V)),v(V)&&(K=" "+n(V)),U.length!==0||J&&V.length!=0?F<0?d(V)?z.stylize(RegExp.prototype.toString.call(V),"regexp"):z.stylize("[Object]","special"):(z.seen.push(V),ee=J?function($,ne,ae,oe,se){for(var ce=[],me=0,xe=ne.length;me<xe;++me)O(ne,String(me))?ce.push(r($,ne,ae,oe,String(me),!0)):ce.push("");return se.forEach(function(ve){ve.match(/^\d+$/)||ce.push(r($,ne,ae,oe,ve,!0))}),ce}(z,V,F,H,U):U.map(function($){return r(z,V,F,H,$,J)}),z.seen.pop(),function($,ne,ae){return $.reduce(function(oe,se){return se.indexOf(`
`),oe+se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ae[0]+(ne===""?"":ne+`
 `)+" "+$.join(`,
  `)+" "+ae[1]:ae[0]+ne+" "+$.join(", ")+" "+ae[1]}(ee,K,Z)):Z[0]+K+Z[1]}function n(z){return"["+Error.prototype.toString.call(z)+"]"}function r(z,V,F,W,B,U){var H,q,ee;if((ee=Object.getOwnPropertyDescriptor(V,B)||{value:V[B]}).get?q=ee.set?z.stylize("[Getter/Setter]","special"):z.stylize("[Getter]","special"):ee.set&&(q=z.stylize("[Setter]","special")),O(W,B)||(H="["+B+"]"),q||(z.seen.indexOf(ee.value)<0?(q=p(F)?o(z,ee.value,null):o(z,ee.value,F-1)).indexOf(`
`)>-1&&(q=U?q.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):`
`+q.split(`
`).map(function(K){return"   "+K}).join(`
`)):q=z.stylize("[Circular]","special")),m(H)){if(U&&B.match(/^\d+$/))return q;(H=JSON.stringify(""+B)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=z.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=z.stylize(H,"string"))}return H+": "+q}function i(z){return Array.isArray(z)}function u(z){return typeof z=="boolean"}function p(z){return z===null}function h(z){return typeof z=="number"}function _(z){return typeof z=="string"}function m(z){return z===void 0}function d(z){return x(z)&&c(z)==="[object RegExp]"}function x(z){return typeof z=="object"&&z!==null}function g(z){return x(z)&&c(z)==="[object Date]"}function v(z){return x(z)&&(c(z)==="[object Error]"||z instanceof Error)}function T(z){return typeof z=="function"}function c(z){return Object.prototype.toString.call(z)}function E(z){return z<10?"0"+z.toString(10):z.toString(10)}M.debuglog=function(z){if(z=z.toUpperCase(),!k[z])if(y.test(z)){var V=b.pid;k[z]=function(){var F=M.format.apply(M,arguments);console.error("%s %d: %s",z,V,F)}}else k[z]=function(){};return k[z]},M.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},M.types=e(4936),M.isArray=i,M.isBoolean=u,M.isNull=p,M.isNullOrUndefined=function(z){return z==null},M.isNumber=h,M.isString=_,M.isSymbol=function(z){return typeof z=="symbol"},M.isUndefined=m,M.isRegExp=d,M.types.isRegExp=d,M.isObject=x,M.isDate=g,M.types.isDate=g,M.isError=v,M.types.isNativeError=v,M.isFunction=T,M.isPrimitive=function(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||z===void 0},M.isBuffer=e(45920);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var z=new Date,V=[E(z.getHours()),E(z.getMinutes()),E(z.getSeconds())].join(":");return[z.getDate(),A[z.getMonth()],V].join(" ")}function O(z,V){return Object.prototype.hasOwnProperty.call(z,V)}M.log=function(){console.log("%s - %s",C(),M.format.apply(M,arguments))},M.inherits=e(42018),M._extend=function(z,V){if(!V||!x(V))return z;for(var F=Object.keys(V),W=F.length;W--;)z[F[W]]=V[F[W]];return z};var P=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function D(z,V){if(!z){var F=new Error("Promise was rejected with a falsy value");F.reason=z,z=F}return V(z)}M.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(P&&z[P]){var V;if(typeof(V=z[P])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(V,P,{value:V,enumerable:!1,writable:!1,configurable:!0}),V}function V(){for(var F,W,B=new Promise(function(q,ee){F=q,W=ee}),U=[],H=0;H<arguments.length;H++)U.push(arguments[H]);U.push(function(q,ee){q?W(q):F(ee)});try{z.apply(this,U)}catch(q){W(q)}return B}return Object.setPrototypeOf(V,Object.getPrototypeOf(z)),P&&Object.defineProperty(V,P,{value:V,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(V,w(z))},M.promisify.custom=P,M.callbackify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var F=[],W=0;W<arguments.length;W++)F.push(arguments[W]);var B=F.pop();if(typeof B!="function")throw new TypeError("The last argument must be of type Function");var U=this,H=function(){return B.apply(U,arguments)};z.apply(this,F).then(function(q){b.nextTick(H.bind(null,null,q))},function(q){b.nextTick(D.bind(null,q,H))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(z)),Object.defineProperties(V,w(z)),V}},40372:function(L,M,e){var b=e(86249);L.exports=function(w){return b("webgl",w)}},21099:function(L,M,e){"use strict";var b=e(31353),w=e(72077),a=e(6614),k=e(40383),y=a("Object.prototype.toString"),f=e(84543)(),l=typeof globalThis>"u"?e.g:globalThis,t=w(),s=a("String.prototype.slice"),o={},n=Object.getPrototypeOf;f&&k&&n&&b(t,function(i){if(typeof l[i]=="function"){var u=new l[i];if(Symbol.toStringTag in u){var p=n(u),h=k(p,Symbol.toStringTag);if(!h){var _=n(p);h=k(_,Symbol.toStringTag)}o[i]=h.get}}});var r=e(9187);L.exports=function(i){return!!r(i)&&(f&&Symbol.toStringTag in i?function(u){var p=!1;return b(o,function(h,_){if(!p)try{var m=h.call(u);m===_&&(p=m)}catch{}}),p}(i):s(y(i),8,-1))}},3961:function(L,M,e){var b=e(63489),w=e(56131),a=b.instance();function k(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}k.prototype=new b.baseCalendar,w(k.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(n,r){if(typeof n=="string"){var i=n.match(f);return i?i[0]:""}var u=this._validateYear(n),p=n.month(),h=""+this.toChineseMonth(u,p);return r&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(u,p)&&(h+="i"),h},monthNames:function(n){if(typeof n=="string"){var r=n.match(l);return r?r[0]:""}var i=this._validateYear(n),u=n.month(),p=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][this.toChineseMonth(i,u)-1];return this.isIntercalaryMonth(i,u)&&(p="\u95F0"+p),p},monthNamesShort:function(n){if(typeof n=="string"){var r=n.match(t);return r?r[0]:""}var i=this._validateYear(n),u=n.month(),p=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][this.toChineseMonth(i,u)-1];return this.isIntercalaryMonth(i,u)&&(p="\u95F0"+p),p},parseMonth:function(n,r){n=this._validateYear(n);var i,u=parseInt(r);if(isNaN(u))r[0]==="\u95F0"&&(i=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),u=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var p=r[r.length-1];i=p==="i"||p==="I"}return this.toMonthIndex(n,u,i)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(n,r){if(n.year&&(n=n.year()),typeof n!="number"||n<1888||n>2111)throw r.replace(/\{0\}/,this.local.name);return n},toMonthIndex:function(n,r,i){var u=this.intercalaryMonth(n);if(i&&r!==u||r<1||r>12)throw b.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!i&&r<=u?r-1:r:r-1},toChineseMonth:function(n,r){n.year&&(r=(n=n.year()).month());var i=this.intercalaryMonth(n);if(r<0||r>(i?12:11))throw b.local.invalidMonth.replace(/\{0\}/,this.local.name);return i?r<i?r+1:r:r+1},intercalaryMonth:function(n){return n=this._validateYear(n),s[n-s[0]]>>13},isIntercalaryMonth:function(n,r){n.year&&(r=(n=n.year()).month());var i=this.intercalaryMonth(n);return!!i&&i===r},leapYear:function(n){return this.intercalaryMonth(n)!==0},weekOfYear:function(n,r,i){var u,p=this._validateYear(n,b.local.invalidyear),h=o[p-o[0]],_=h>>9&4095,m=h>>5&15,d=31&h;(u=a.newDate(_,m,d)).add(4-(u.dayOfWeek()||7),"d");var x=this.toJD(n,r,i)-u.toJD();return 1+Math.floor(x/7)},monthsInYear:function(n){return this.leapYear(n)?13:12},daysInMonth:function(n,r){n.year&&(r=n.month(),n=n.year()),n=this._validateYear(n);var i=s[n-s[0]];if(r>(i>>13?12:11))throw b.local.invalidMonth.replace(/\{0\}/,this.local.name);return i&1<<12-r?30:29},weekDay:function(n,r,i){return(this.dayOfWeek(n,r,i)||7)<6},toJD:function(n,r,i){var u=this._validate(n,h,i,b.local.invalidDate);n=this._validateYear(u.year()),r=u.month(),i=u.day();var p=this.isIntercalaryMonth(n,r),h=this.toChineseMonth(n,r),_=function(m,d,x,g,v){var T,c,E;if(typeof m=="object")c=m,T=d||{};else{var A;if(!(typeof m=="number"&&m>=1888&&m<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof d=="number"&&d>=1&&d<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof x=="number"&&x>=1&&x<=30))throw new Error("Lunar day outside range 1 - 30");typeof g=="object"?(A=!1,T=g):(A=!!g,T={}),c={year:m,month:d,day:x,isIntercalary:A}}E=c.day-1;var C,O=s[c.year-s[0]],P=O>>13;C=P&&(c.month>P||c.isIntercalary)?c.month:c.month-1;for(var D=0;D<C;D++)E+=O&1<<12-D?30:29;var z=o[c.year-o[0]],V=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+E);return T.year=V.getFullYear(),T.month=1+V.getMonth(),T.day=V.getDate(),T}(n,h,i,p);return a.toJD(_.year,_.month,_.day)},fromJD:function(n){var r=a.fromJD(n),i=function(p,h,_,m){var d,x;if(typeof p=="object")d=p,x=h||{};else{if(!(typeof p=="number"&&p>=1888&&p<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof h=="number"&&h>=1&&h<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof _=="number"&&_>=1&&_<=31))throw new Error("Solar day outside range 1 - 31");d={year:p,month:h,day:_},x={}}var g=o[d.year-o[0]],v=d.year<<9|d.month<<5|d.day;x.year=v>=g?d.year:d.year-1,g=o[x.year-o[0]];var T,c=new Date(g>>9&4095,(g>>5&15)-1,31&g),E=new Date(d.year,d.month-1,d.day);T=Math.round((E-c)/864e5);var A,C=s[x.year-s[0]];for(A=0;A<13;A++){var O=C&1<<12-A?30:29;if(T<O)break;T-=O}var P=C>>13;return!P||A<P?(x.isIntercalary=!1,x.month=1+A):A===P?(x.isIntercalary=!0,x.month=A):(x.isIntercalary=!1,x.month=A),x.day=1+T,x}(r.year(),r.month(),r.day()),u=this.toMonthIndex(i.year,i.month,i.isIntercalary);return this.newDate(i.year,u,i.day)},fromString:function(n){var r=n.match(y),i=this._validateYear(+r[1]),u=+r[2],p=!!r[3],h=this.toMonthIndex(i,u,p),_=+r[4];return this.newDate(i,h,_)},add:function(n,r,i){var u=n.year(),p=n.month(),h=this.isIntercalaryMonth(u,p),_=this.toChineseMonth(u,p),m=Object.getPrototypeOf(k.prototype).add.call(this,n,r,i);if(i==="y"){var d=m.year(),x=m.month(),g=this.isIntercalaryMonth(d,_),v=h&&g?this.toMonthIndex(d,_,!0):this.toMonthIndex(d,_,!1);v!==x&&m.month(v)}return m}});var y=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,l=/^??[]?/m,t=/^??[]?/m;b.calendars.chinese=k;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],o=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(L,M,e){var b=e(63489),w=e(56131);function a(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var y=this._validate(k,this.minMonth,this.minDay,b.local.invalidYear);return(k=y.year()+(y.year()<0?1:0))%4==3||k%4==-1},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear),13},weekOfYear:function(k,y,f){var l=this.newDate(k,y,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(k,y){var f=this._validate(k,y,this.minDay,b.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(k,y,f){return(this.dayOfWeek(k,y,f)||7)<6},toJD:function(k,y,f){var l=this._validate(k,y,f,b.local.invalidDate);return(k=l.year())<0&&k++,l.day()+30*(l.month()-1)+365*(k-1)+Math.floor(k/4)+this.jdEpoch-1},fromJD:function(k){var y=Math.floor(k)+.5-this.jdEpoch,f=Math.floor((y-Math.floor((y+366)/1461))/365)+1;f<=0&&f--,y=Math.floor(k)+.5-this.newDate(f,1,1).toJD();var l=Math.floor(y/30)+1,t=y-30*(l-1)+1;return this.newDate(f,l,t)}}),b.calendars.coptic=a},86825:function(L,M,e){var b=e(63489),w=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,b.local.invalidYear),!1},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,b.local.invalidYear),13},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,b.local.invalidYear),400},weekOfYear:function(y,f,l){var t=this.newDate(y,f,l);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(y,f){var l=this._validate(y,f,this.minDay,b.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(y,f,l){return(this._validate(y,f,l,b.local.invalidDate).day()+1)%8},weekDay:function(y,f,l){var t=this.dayOfWeek(y,f,l);return t>=2&&t<=6},extraInfo:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);return{century:k[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);return y=t.year()+(t.year()<0?1:0),f=t.month(),(l=t.day())+(f>1?16:0)+(f>2?32*(f-2):0)+400*(y-1)+this.jdEpoch-1},fromJD:function(y){y=Math.floor(y+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(y/400)+1;y-=400*(f-1),y+=y>15?16:0;var l=Math.floor(y/32)+1,t=y-32*(l-1)+1;return this.newDate(f<=0?f-1:f,l,t)}});var k={20:"Fruitbat",21:"Anchovy"};b.calendars.discworld=a},37715:function(L,M,e){var b=e(63489),w=e(56131);function a(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var y=this._validate(k,this.minMonth,this.minDay,b.local.invalidYear);return(k=y.year()+(y.year()<0?1:0))%4==3||k%4==-1},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear),13},weekOfYear:function(k,y,f){var l=this.newDate(k,y,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(k,y){var f=this._validate(k,y,this.minDay,b.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(k,y,f){return(this.dayOfWeek(k,y,f)||7)<6},toJD:function(k,y,f){var l=this._validate(k,y,f,b.local.invalidDate);return(k=l.year())<0&&k++,l.day()+30*(l.month()-1)+365*(k-1)+Math.floor(k/4)+this.jdEpoch-1},fromJD:function(k){var y=Math.floor(k)+.5-this.jdEpoch,f=Math.floor((y-Math.floor((y+366)/1461))/365)+1;f<=0&&f--,y=Math.floor(k)+.5-this.newDate(f,1,1).toJD();var l=Math.floor(y/30)+1,t=y-30*(l-1)+1;return this.newDate(f,l,t)}}),b.calendars.ethiopian=a},99384:function(L,M,e){var b=e(63489),w=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function k(y,f){return y-f*Math.floor(y/f)}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(y){return k(7*(y=y<0?y+1:y)+1,19)<7},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,b.local.invalidYear),this._leapYear(y.year?y.year():y)?13:12},weekOfYear:function(y,f,l){var t=this.newDate(y,f,l);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(y){return y=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear).year(),this.toJD(y===-1?1:y+1,7,1)-this.toJD(y,7,1)},daysInMonth:function(y,f){return y.year&&(f=y.month(),y=y.year()),this._validate(y,f,this.minDay,b.local.invalidMonth),f===12&&this.leapYear(y)||f===8&&k(this.daysInYear(y),10)===5?30:f===9&&k(this.daysInYear(y),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(y,f,l){return this.dayOfWeek(y,f,l)!==6},extraInfo:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);y=t.year(),f=t.month(),l=t.day();var s=y<=0?y+1:y,o=this.jdEpoch+this._delay1(s)+this._delay2(s)+l+1;if(f<7){for(var n=7;n<=this.monthsInYear(y);n++)o+=this.daysInMonth(y,n);for(n=1;n<f;n++)o+=this.daysInMonth(y,n)}else for(n=7;n<f;n++)o+=this.daysInMonth(y,n);return o},_delay1:function(y){var f=Math.floor((235*y-234)/19),l=12084+13753*f,t=29*f+Math.floor(l/25920);return k(3*(t+1),7)<3&&t++,t},_delay2:function(y){var f=this._delay1(y-1),l=this._delay1(y);return this._delay1(y+1)-l==356?2:l-f==382?1:0},fromJD:function(y){y=Math.floor(y)+.5;for(var f=Math.floor(98496*(y-this.jdEpoch)/35975351)-1;y>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var l=y<this.toJD(f,1,1)?7:1;y>this.toJD(f,l,this.daysInMonth(f,l));)l++;var t=y-this.toJD(f,l,1)+1;return this.newDate(f,l,t)}}),b.calendars.hebrew=a},43805:function(L,M,e){var b=e(63489),w=e(56131);function a(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(k){return(11*this._validate(k,this.minMonth,this.minDay,b.local.invalidYear).year()+14)%30<11},weekOfYear:function(k,y,f){var l=this.newDate(k,y,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(k){return this.leapYear(k)?355:354},daysInMonth:function(k,y){var f=this._validate(k,y,this.minDay,b.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(k,y,f){return this.dayOfWeek(k,y,f)!==5},toJD:function(k,y,f){var l=this._validate(k,y,f,b.local.invalidDate);return k=l.year(),y=l.month(),k=k<=0?k+1:k,(f=l.day())+Math.ceil(29.5*(y-1))+354*(k-1)+Math.floor((3+11*k)/30)+this.jdEpoch-1},fromJD:function(k){k=Math.floor(k)+.5;var y=Math.floor((30*(k-this.jdEpoch)+10646)/10631);y=y<=0?y-1:y;var f=Math.min(12,Math.ceil((k-29-this.toJD(y,1,1))/29.5)+1),l=k-this.toJD(y,f,1)+1;return this.newDate(y,f,l)}}),b.calendars.islamic=a},88874:function(L,M,e){var b=e(63489),w=e(56131);function a(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var y=this._validate(k,this.minMonth,this.minDay,b.local.invalidYear);return(k=y.year()<0?y.year()+1:y.year())%4==0},weekOfYear:function(k,y,f){var l=this.newDate(k,y,f);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(k,y){var f=this._validate(k,y,this.minDay,b.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(k,y,f){return(this.dayOfWeek(k,y,f)||7)<6},toJD:function(k,y,f){var l=this._validate(k,y,f,b.local.invalidDate);return k=l.year(),y=l.month(),f=l.day(),k<0&&k++,y<=2&&(k--,y+=12),Math.floor(365.25*(k+4716))+Math.floor(30.6001*(y+1))+f-1524.5},fromJD:function(k){var y=Math.floor(k+.5)+1524,f=Math.floor((y-122.1)/365.25),l=Math.floor(365.25*f),t=Math.floor((y-l)/30.6001),s=t-Math.floor(t<14?1:13),o=f-Math.floor(s>2?4716:4715),n=y-l-Math.floor(30.6001*t);return o<=0&&o--,this.newDate(o,s,n)}}),b.calendars.julian=a},83290:function(L,M,e){var b=e(63489),w=e(56131);function a(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function k(f,l){return f-l*Math.floor(f/l)}function y(f,l){return k(f-1,l)+1}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,b.local.invalidYear),!1},formatYear:function(f){f=this._validate(f,this.minMonth,this.minDay,b.local.invalidYear).year();var l=Math.floor(f/400);return f%=400,f+=f<0?400:0,l+"."+Math.floor(f/20)+"."+f%20},forYear:function(f){if((f=f.split(".")).length<3)throw"Invalid Mayan year";for(var l=0,t=0;t<f.length;t++){var s=parseInt(f[t],10);if(Math.abs(s)>19||t>0&&s<0)throw"Invalid Mayan year";l=20*l+s}return l},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,b.local.invalidYear),18},weekOfYear:function(f,l,t){return this._validate(f,l,t,b.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,b.local.invalidYear),360},daysInMonth:function(f,l){return this._validate(f,l,this.minDay,b.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,l,t){return this._validate(f,l,t,b.local.invalidDate).day()},weekDay:function(f,l,t){return this._validate(f,l,t,b.local.invalidDate),!0},extraInfo:function(f,l,t){var s=this._validate(f,l,t,b.local.invalidDate).toJD(),o=this._toHaab(s),n=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[n[0]-1],tzolkinDay:n[0],tzolkinTrecena:n[1]}},_toHaab:function(f){var l=k(8+(f-=this.jdEpoch)+340,365);return[Math.floor(l/20)+1,k(l,20)]},_toTzolkin:function(f){return[y(20+(f-=this.jdEpoch),20),y(f+4,13)]},toJD:function(f,l,t){var s=this._validate(f,l,t,b.local.invalidDate);return s.day()+20*s.month()+360*s.year()+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var l=Math.floor(f/360);f%=360,f+=f<0?360:0;var t=Math.floor(f/20),s=f%20;return this.newDate(l,t,s)}}),b.calendars.mayan=a},29108:function(L,M,e){var b=e(63489),w=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar;var k=b.instance("gregorian");w(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear);return k.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(y,f,l){var t=this.newDate(y,f,l);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(y,f){var l=this._validate(y,f,this.minDay,b.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(y,f,l){return(this.dayOfWeek(y,f,l)||7)<6},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidMonth);(y=t.year())<0&&y++;for(var s=t.day(),o=1;o<t.month();o++)s+=this.daysPerMonth[o-1];return s+k.toJD(y+1468,3,13)},fromJD:function(y){y=Math.floor(y+.5);for(var f=Math.floor((y-(this.jdEpoch-1))/366);y>=this.toJD(f+1,1,1);)f++;for(var l=y-Math.floor(this.toJD(f,1,1)+.5)+1,t=1;l>this.daysInMonth(f,t);)l-=this.daysInMonth(f,t),t++;return this.newDate(f,t,l)}}),b.calendars.nanakshahi=a},55422:function(L,M,e){var b=e(63489),w=e(56131);function a(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(k){return this.daysInYear(k)!==this.daysPerYear},weekOfYear:function(k,y,f){var l=this.newDate(k,y,f);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(k){if(k=this._validate(k,this.minMonth,this.minDay,b.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[k]===void 0)return this.daysPerYear;for(var y=0,f=this.minMonth;f<=12;f++)y+=this.NEPALI_CALENDAR_DATA[k][f];return y},daysInMonth:function(k,y){return k.year&&(y=k.month(),k=k.year()),this._validate(k,y,this.minDay,b.local.invalidMonth),this.NEPALI_CALENDAR_DATA[k]===void 0?this.daysPerMonth[y-1]:this.NEPALI_CALENDAR_DATA[k][y]},weekDay:function(k,y,f){return this.dayOfWeek(k,y,f)!==6},toJD:function(k,y,f){var l=this._validate(k,y,f,b.local.invalidDate);k=l.year(),y=l.month(),f=l.day();var t=b.instance(),s=0,o=y,n=k;this._createMissingCalendarData(k);var r=k-(o>9||o===9&&f>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(y!==9&&(s=f,o--);o!==9;)o<=0&&(o=12,n--),s+=this.NEPALI_CALENDAR_DATA[n][o],o--;return y===9?(s+=f-this.NEPALI_CALENDAR_DATA[n][0])<0&&(s+=t.daysInYear(r)):s+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(r,1,1).add(s,"d").toJD()},fromJD:function(k){var y=b.instance().fromJD(k),f=y.year(),l=y.dayOfYear(),t=f+56;this._createMissingCalendarData(t);for(var s=9,o=this.NEPALI_CALENDAR_DATA[t][0],n=this.NEPALI_CALENDAR_DATA[t][s]-o+1;l>n;)++s>12&&(s=1,t++),n+=this.NEPALI_CALENDAR_DATA[t][s];var r=this.NEPALI_CALENDAR_DATA[t][s]-(n-l);return this.newDate(t,s,r)},_createMissingCalendarData:function(k){var y=this.daysPerMonth.slice(0);y.unshift(17);for(var f=k-1;f<k+2;f++)this.NEPALI_CALENDAR_DATA[f]===void 0&&(this.NEPALI_CALENDAR_DATA[f]=y)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),b.calendars.nepali=a},94320:function(L,M,e){var b=e(63489),w=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function k(y,f){return y-f*Math.floor(y/f)}a.prototype=new b.baseCalendar,w(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return 682*((f.year()-(f.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(y,f,l){var t=this.newDate(y,f,l);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(y,f){var l=this._validate(y,f,this.minDay,b.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(y,f,l){return this.dayOfWeek(y,f,l)!==5},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);y=t.year(),f=t.month(),l=t.day();var s=y-(y>=0?474:473),o=474+k(s,2820);return l+(f<=7?31*(f-1):30*(f-1)+6)+Math.floor((682*o-110)/2816)+365*(o-1)+1029983*Math.floor(s/2820)+this.jdEpoch-1},fromJD:function(y){var f=(y=Math.floor(y)+.5)-this.toJD(475,1,1),l=Math.floor(f/1029983),t=k(f,1029983),s=2820;if(t!==1029982){var o=Math.floor(t/366),n=k(t,366);s=Math.floor((2134*o+2816*n+2815)/1028522)+o+1}var r=s+2820*l+474;r=r<=0?r-1:r;var i=y-this.toJD(r,1,1)+1,u=i<=186?Math.ceil(i/31):Math.ceil((i-6)/30),p=y-this.toJD(r,u,1)+1;return this.newDate(r,u,p)}}),b.calendars.persian=a,b.calendars.jalali=a},31320:function(L,M,e){var b=e(63489),w=e(56131),a=b.instance();function k(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}k.prototype=new b.baseCalendar,w(k.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return y=this._t2gYear(f.year()),a.leapYear(y)},weekOfYear:function(y,f,l){var t=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return y=this._t2gYear(t.year()),a.weekOfYear(y,t.month(),t.day())},daysInMonth:function(y,f){var l=this._validate(y,f,this.minDay,b.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(y,f,l){return(this.dayOfWeek(y,f,l)||7)<6},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);return y=this._t2gYear(t.year()),a.toJD(y,t.month(),t.day())},fromJD:function(y){var f=a.fromJD(y),l=this._g2tYear(f.year());return this.newDate(l,f.month(),f.day())},_t2gYear:function(y){return y+this.yearsOffset+(y>=-this.yearsOffset&&y<=-1?1:0)},_g2tYear:function(y){return y-this.yearsOffset-(y>=1&&y<=this.yearsOffset?1:0)}}),b.calendars.taiwan=k},51367:function(L,M,e){var b=e(63489),w=e(56131),a=b.instance();function k(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}k.prototype=new b.baseCalendar,w(k.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return y=this._t2gYear(f.year()),a.leapYear(y)},weekOfYear:function(y,f,l){var t=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return y=this._t2gYear(t.year()),a.weekOfYear(y,t.month(),t.day())},daysInMonth:function(y,f){var l=this._validate(y,f,this.minDay,b.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(y,f,l){return(this.dayOfWeek(y,f,l)||7)<6},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate);return y=this._t2gYear(t.year()),a.toJD(y,t.month(),t.day())},fromJD:function(y){var f=a.fromJD(y),l=this._g2tYear(f.year());return this.newDate(l,f.month(),f.day())},_t2gYear:function(y){return y-this.yearsOffset-(y>=1&&y<=this.yearsOffset?1:0)},_g2tYear:function(y){return y+this.yearsOffset+(y>=-this.yearsOffset&&y<=-1?1:0)}}),b.calendars.thai=k},21457:function(L,M,e){var b=e(63489),w=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new b.baseCalendar,w(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,b.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(y,f,l){var t=this.newDate(y,f,l);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(y){for(var f=0,l=1;l<=12;l++)f+=this.daysInMonth(y,l);return f},daysInMonth:function(y,f){for(var l=this._validate(y,f,this.minDay,b.local.invalidMonth).toJD()-24e5+.5,t=0,s=0;s<k.length;s++){if(k[s]>l)return k[t]-k[t-1];t++}return 30},weekDay:function(y,f,l){return this.dayOfWeek(y,f,l)!==5},toJD:function(y,f,l){var t=this._validate(y,f,l,b.local.invalidDate),s=12*(t.year()-1)+t.month()-15292;return t.day()+k[s-1]-1+24e5-.5},fromJD:function(y){for(var f=y-24e5+.5,l=0,t=0;t<k.length&&!(k[t]>f);t++)l++;var s=l+15292,o=Math.floor((s-1)/12),n=o+1,r=s-12*o,i=f-k[l-1]+1;return this.newDate(n,r,i)},isValid:function(y,f,l){var t=b.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(y=y.year!=null?y.year:y)>=1276&&y<=1500),t},_validate:function(y,f,l,t){var s=b.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw t.replace(/\{0\}/,this.local.name);return s}}),b.calendars.ummalqura=a;var k=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(L,M,e){var b=e(56131);function w(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,s,o,n){if(this._calendar=t,this._year=s,this._month=o,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function k(t,s){return"000000".substring(0,s-(t=""+t).length)+t}function y(){this.shortYearCutoff="+10"}function f(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}b(w.prototype,{instance:function(t,s){t=(t||"gregorian").toLowerCase(),s=s||"";var o=this._localCals[t+"-"+s];if(!o&&this.calendars[t]&&(o=new this.calendars[t](s),this._localCals[t+"-"+s]=o),!o)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return o},newDate:function(t,s,o,n,r){return(n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,r):n)||this.instance()).newDate(t,s,o)},substituteDigits:function(t){return function(s){return(s+"").replace(/[0-9]/g,function(o){return t[o]})}},substituteChineseDigits:function(t,s){return function(o){for(var n="",r=0;o>0;){var i=o%10;n=(i===0?"":t[i]+s[r])+n,r++,o=Math.floor(o/10)}return n.indexOf(t[1]+s[1])===0&&(n=n.substr(1)),n||t[0]}}}),b(a.prototype,{newDate:function(t,s,o){return this._calendar.newDate(t??this,s,o)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,s,o){if(!this._calendar.isValid(t,s,o))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=s,this._day=o,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,s){return this._calendar.add(this,t,s)},set:function(t,s){return this._calendar.set(this,t,s)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var s=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return s===0?0:s<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+k(Math.abs(this.year()),4)+"-"+k(this.month(),2)+"-"+k(this.day(),2)}}),b(y.prototype,{_validateLevel:0,newDate:function(t,s,o){return t==null?this.today():(t.year&&(this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate),o=t.day(),s=t.month(),t=t.year()),new a(this,t,s,o))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var s=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(s.year()<0?"-":"")+k(Math.abs(s.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(t,s){var o=this._validate(t,s,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(o.month()+this.monthsInYear(o)-this.firstMonth)%this.monthsInYear(o)+this.minMonth},fromMonthOfYear:function(t,s){var o=(s+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,o,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),o},daysInYear:function(t){var s=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(s)?366:365},dayOfYear:function(t,s,o){var n=this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,s,o){var n=this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,s,o){return this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(t,s,o){return this._validate(t,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,s,o),s,o)},_add:function(t,s,o){if(this._validateLevel++,o==="d"||o==="w"){var n=t.toJD()+s*(o==="w"?this.daysInWeek():1),r=t.calendar().fromJD(n);return this._validateLevel--,[r.year(),r.month(),r.day()]}try{var i=t.year()+(o==="y"?s:0),u=t.monthOfYear()+(o==="m"?s:0);r=t.day(),o==="y"?(t.month()!==this.fromMonthOfYear(i,u)&&(u=this.newDate(i,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(i)),r=Math.min(r,this.daysInMonth(i,this.fromMonthOfYear(i,u)))):o==="m"&&(function(h){for(;u<h.minMonth;)i--,u+=h.monthsInYear(i);for(var _=h.monthsInYear(i);u>_-1+h.minMonth;)i++,u-=_,_=h.monthsInYear(i)}(this),r=Math.min(r,this.daysInMonth(i,this.fromMonthOfYear(i,u))));var p=[i,this.fromMonthOfYear(i,u),r];return this._validateLevel--,p}catch(h){throw this._validateLevel--,h}},_correctAdd:function(t,s,o,n){if(!(this.hasYearZero||n!=="y"&&n!=="m"||s[0]!==0&&t.year()>0==s[0]>0)){var r={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],i=o<0?-1:1;s=this._add(t,o*r[0]+i*r[1],r[2])}return t.date(s[0],s[1],s[2])},set:function(t,s,o){this._validate(t,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var n=o==="y"?s:t.year(),r=o==="m"?s:t.month(),i=o==="d"?s:t.day();return o!=="y"&&o!=="m"||(i=Math.min(i,this.daysInMonth(n,r))),t.date(n,r,i)},isValid:function(t,s,o){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var r=this.newDate(t,s,this.minDay);n=s>=this.minMonth&&s-this.minMonth<this.monthsInYear(r)&&o>=this.minDay&&o-this.minDay<this.daysInMonth(r)}return this._validateLevel--,n},toJSDate:function(t,s,o){var n=this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(l.instance().fromJSDate(t).toJD())},_validate:function(t,s,o,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,s,o))throw n.replace(/\{0\}/,this.local.name);var r=this.newDate(t,s,o);return this._validateLevel--,r}catch(i){throw this._validateLevel--,i}}}),f.prototype=new y,b(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var s=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t=s.year()+(s.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,s,o){var n=this.newDate(t,s,o);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,s){var o=this._validate(t,s,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(t,s,o){return(this.dayOfWeek(t,s,o)||7)<6},toJD:function(t,s,o){var n=this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate);t=n.year(),s=n.month(),o=n.day(),t<0&&t++,s<3&&(s+=12,t--);var r=Math.floor(t/100),i=2-r+Math.floor(r/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(s+1))+o+i-1524.5},fromJD:function(t){var s=Math.floor(t+.5),o=Math.floor((s-186721625e-2)/36524.25),n=1524+(o=s+1+o-Math.floor(o/4)),r=Math.floor((n-122.1)/365.25),i=Math.floor(365.25*r),u=Math.floor((n-i)/30.6001),p=n-i-Math.floor(30.6001*u),h=u-(u>13.5?13:1),_=r-(h>2.5?4716:4715);return _<=0&&_--,this.newDate(_,h,p)},toJSDate:function(t,s,o){var n=this._validate(t,s,o,l.local.invalidDate||l.regionalOptions[""].invalidDate),r=new Date(n.year(),n.month()-1,n.day());return r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0),r.setHours(r.getHours()>12?r.getHours()+2:0),r},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var l=L.exports=new w;l.cdate=a,l.baseCalendar=y,l.calendars.gregorian=f},94338:function(L,M,e){var b=e(56131),w=e(63489);b(w.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),w.local=w.regionalOptions[""],b(w.cdate.prototype,{formatDate:function(a,k){return typeof a!="string"&&(k=a,a=""),this._calendar.formatDate(a||"",this,k)}}),b(w.baseCalendar.prototype,{UNIX_EPOCH:w.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:w.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,k,y){if(typeof a!="string"&&(y=k,k=a,a=""),!k)return"";if(k.calendar()!==this)throw w.local.invalidFormat||w.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var f,l,t,s=(y=y||{}).dayNamesShort||this.local.dayNamesShort,o=y.dayNames||this.local.dayNames,n=y.monthNumbers||this.local.monthNumbers,r=y.monthNamesShort||this.local.monthNamesShort,i=y.monthNames||this.local.monthNames,u=(y.calculateWeek||this.local.calculateWeek,function(c,E){for(var A=1;T+A<a.length&&a.charAt(T+A)===c;)A++;return T+=A-1,Math.floor(A/(E||1))>1}),p=function(c,E,A,C){var O=""+E;if(u(c,C))for(;O.length<A;)O="0"+O;return O},h=this,_=function(c){return typeof n=="function"?n.call(h,c,u("m")):x(p("m",c.month(),2))},m=function(c,E){return E?typeof i=="function"?i.call(h,c):i[c.month()-h.minMonth]:typeof r=="function"?r.call(h,c):r[c.month()-h.minMonth]},d=this.local.digits,x=function(c){return y.localNumbers&&d?d(c):c},g="",v=!1,T=0;T<a.length;T++)if(v)a.charAt(T)!=="'"||u("'")?g+=a.charAt(T):v=!1;else switch(a.charAt(T)){case"d":g+=x(p("d",k.day(),2));break;case"D":g+=(f=k.dayOfWeek(),l=s,t=o,u("D")?t[f]:l[f]);break;case"o":g+=p("o",k.dayOfYear(),3);break;case"w":g+=p("w",k.weekOfYear(),2);break;case"m":g+=_(k);break;case"M":g+=m(k,u("M"));break;case"y":g+=u("y",2)?k.year():(k.year()%100<10?"0":"")+k.year()%100;break;case"Y":u("Y",2),g+=k.formatYear();break;case"J":g+=k.toJD();break;case"@":g+=(k.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":g+=(k.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?g+="'":v=!0;break;default:g+=a.charAt(T)}return g},parseDate:function(a,k,y){if(k==null)throw w.local.invalidArguments||w.regionalOptions[""].invalidArguments;if((k=typeof k=="object"?k.toString():k+"")==="")return null;a=a||this.local.dateFormat;var f=(y=y||{}).shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var l=y.dayNamesShort||this.local.dayNamesShort,t=y.dayNames||this.local.dayNames,s=y.parseMonth||this.local.parseMonth,o=y.monthNumbers||this.local.monthNumbers,n=y.monthNamesShort||this.local.monthNamesShort,r=y.monthNames||this.local.monthNames,i=-1,u=-1,p=-1,h=-1,_=-1,m=!1,d=!1,x=function(z,V){for(var F=1;O+F<a.length&&a.charAt(O+F)===z;)F++;return O+=F-1,Math.floor(F/(V||1))>1},g=function(z,V){var F=x(z,V),W=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],B=new RegExp("^-?\\d{1,"+W+"}"),U=k.substring(C).match(B);if(!U)throw(w.local.missingNumberAt||w.regionalOptions[""].missingNumberAt).replace(/\{0\}/,C);return C+=U[0].length,parseInt(U[0],10)},v=this,T=function(){if(typeof o=="function"){x("m");var z=o.call(v,k.substring(C));return C+=z.length,z}return g("m")},c=function(z,V,F,W){for(var B=x(z,W)?F:V,U=0;U<B.length;U++)if(k.substr(C,B[U].length).toLowerCase()===B[U].toLowerCase())return C+=B[U].length,U+v.minMonth;throw(w.local.unknownNameAt||w.regionalOptions[""].unknownNameAt).replace(/\{0\}/,C)},E=function(){if(typeof r=="function"){var z=x("M")?r.call(v,k.substring(C)):n.call(v,k.substring(C));return C+=z.length,z}return c("M",n,r)},A=function(){if(k.charAt(C)!==a.charAt(O))throw(w.local.unexpectedLiteralAt||w.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,C);C++},C=0,O=0;O<a.length;O++)if(d)a.charAt(O)!=="'"||x("'")?A():d=!1;else switch(a.charAt(O)){case"d":h=g("d");break;case"D":c("D",l,t);break;case"o":_=g("o");break;case"w":g("w");break;case"m":p=T();break;case"M":p=E();break;case"y":var P=O;m=!x("y",2),O=P,u=g("y",2);break;case"Y":u=g("Y",2);break;case"J":i=g("J")+.5,k.charAt(C)==="."&&(C++,g("J"));break;case"@":i=g("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":i=g("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":C=k.length;break;case"'":x("'")?A():d=!0;break;default:A()}if(C<k.length)throw w.local.unexpectedText||w.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&m&&(u+=f===-1?1900:this.today().year()-this.today().year()%100-(u<=f?0:100)),typeof p=="string"&&(p=s.call(this,u,p)),_>-1){p=1,h=_;for(var D=this.daysInMonth(u,p);h>D;D=this.daysInMonth(u,p))p++,h-=D}return i>-1?this.fromJD(i):this.newDate(u,p,h)},determineDate:function(a,k,y,f,l){y&&typeof y!="object"&&(l=f,f=y,y=null),typeof f!="string"&&(l=f,f="");var t=this;return k=k?k.newDate():null,a==null?k:typeof a=="string"?function(s){try{return t.parseDate(f,s,l)}catch{}for(var o=((s=s.toLowerCase()).match(/^c/)&&y?y.newDate():null)||t.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,r=n.exec(s);r;)o.add(parseInt(r[1],10),r[2]||"d"),r=n.exec(s);return o}(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?k:t.today().add(a,"d"):t.newDate(a)}})},69862:function(){},40964:function(){},72077:function(L,M,e){"use strict";var b=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],w=typeof globalThis>"u"?e.g:globalThis;L.exports=function(){for(var a=[],k=0;k<b.length;k++)typeof w[b[k]]=="function"&&(a[a.length]=b[k]);return a}},81684:function(L,M,e){"use strict";function b(fe,pe,Le){fe.prototype=pe.prototype=Le,Le.constructor=fe}function w(fe,pe){var Le=Object.create(fe.prototype);for(var ye in pe)Le[ye]=pe[ye];return Le}function a(){}e.d(M,{sX:function(){return ve},k4:function(){return $}});var k=.7,y=1/k,f="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,o=new RegExp("^rgb\\(".concat(f,",").concat(f,",").concat(f,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),r=new RegExp("^rgba\\(".concat(f,",").concat(f,",").concat(f,",").concat(l,"\\)$")),i=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(l,"\\)$")),u=new RegExp("^hsl\\(".concat(l,",").concat(t,",").concat(t,"\\)$")),p=new RegExp("^hsla\\(".concat(l,",").concat(t,",").concat(t,",").concat(l,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function d(fe){var pe,Le;return fe=(fe+"").trim().toLowerCase(),(pe=s.exec(fe))?(Le=pe[1].length,pe=parseInt(pe[1],16),Le===6?x(pe):Le===3?new c(pe>>8&15|pe>>4&240,pe>>4&15|240&pe,(15&pe)<<4|15&pe,1):Le===8?g(pe>>24&255,pe>>16&255,pe>>8&255,(255&pe)/255):Le===4?g(pe>>12&15|pe>>8&240,pe>>8&15|pe>>4&240,pe>>4&15|240&pe,((15&pe)<<4|15&pe)/255):null):(pe=o.exec(fe))?new c(pe[1],pe[2],pe[3],1):(pe=n.exec(fe))?new c(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,1):(pe=r.exec(fe))?g(pe[1],pe[2],pe[3],pe[4]):(pe=i.exec(fe))?g(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,pe[4]):(pe=u.exec(fe))?D(pe[1],pe[2]/100,pe[3]/100,1):(pe=p.exec(fe))?D(pe[1],pe[2]/100,pe[3]/100,pe[4]):h.hasOwnProperty(fe)?x(h[fe]):fe==="transparent"?new c(NaN,NaN,NaN,0):null}function x(fe){return new c(fe>>16&255,fe>>8&255,255&fe,1)}function g(fe,pe,Le,ye){return ye<=0&&(fe=pe=Le=NaN),new c(fe,pe,Le,ye)}function v(fe){return fe instanceof a||(fe=d(fe)),fe?new c((fe=fe.rgb()).r,fe.g,fe.b,fe.opacity):new c}function T(fe,pe,Le,ye){return arguments.length===1?v(fe):new c(fe,pe,Le,ye??1)}function c(fe,pe,Le,ye){this.r=+fe,this.g=+pe,this.b=+Le,this.opacity=+ye}function E(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b))}function A(){var fe=C(this.opacity);return"".concat(fe===1?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(fe===1?")":", ".concat(fe,")"))}function C(fe){return isNaN(fe)?1:Math.max(0,Math.min(1,fe))}function O(fe){return Math.max(0,Math.min(255,Math.round(fe)||0))}function P(fe){return((fe=O(fe))<16?"0":"")+fe.toString(16)}function D(fe,pe,Le,ye){return ye<=0?fe=pe=Le=NaN:Le<=0||Le>=1?fe=pe=NaN:pe<=0&&(fe=NaN),new V(fe,pe,Le,ye)}function z(fe){if(fe instanceof V)return new V(fe.h,fe.s,fe.l,fe.opacity);if(fe instanceof a||(fe=d(fe)),!fe)return new V;if(fe instanceof V)return fe;var pe=(fe=fe.rgb()).r/255,Le=fe.g/255,ye=fe.b/255,Ae=Math.min(pe,Le,ye),Me=Math.max(pe,Le,ye),ke=NaN,te=Me-Ae,ue=(Me+Ae)/2;return te?(ke=pe===Me?(Le-ye)/te+6*(Le<ye):Le===Me?(ye-pe)/te+2:(pe-Le)/te+4,te/=ue<.5?Me+Ae:2-Me-Ae,ke*=60):te=ue>0&&ue<1?0:ke,new V(ke,te,ue,fe.opacity)}function V(fe,pe,Le,ye){this.h=+fe,this.s=+pe,this.l=+Le,this.opacity=+ye}function F(fe){return(fe=(fe||0)%360)<0?fe+360:fe}function W(fe){return Math.max(0,Math.min(1,fe||0))}function B(fe,pe,Le){return 255*(fe<60?pe+(Le-pe)*fe/60:fe<180?Le:fe<240?pe+(Le-pe)*(240-fe)/60:pe)}function U(fe,pe,Le,ye,Ae){var Me=fe*fe,ke=Me*fe;return((1-3*fe+3*Me-ke)*pe+(4-6*Me+3*ke)*Le+(1+3*fe+3*Me-3*ke)*ye+ke*Ae)/6}b(a,d,{copy:function(fe){return Object.assign(new this.constructor,this,fe)},displayable:function(){return this.rgb().displayable()},hex:_,formatHex:_,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return z(this).formatHsl()},formatRgb:m,toString:m}),b(c,T,w(a,{brighter:function(fe){return fe=fe==null?y:Math.pow(y,fe),new c(this.r*fe,this.g*fe,this.b*fe,this.opacity)},darker:function(fe){return fe=fe==null?k:Math.pow(k,fe),new c(this.r*fe,this.g*fe,this.b*fe,this.opacity)},rgb:function(){return this},clamp:function(){return new c(O(this.r),O(this.g),O(this.b),C(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatHex8:function(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b)).concat(P(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:A,toString:A})),b(V,function(fe,pe,Le,ye){return arguments.length===1?z(fe):new V(fe,pe,Le,ye??1)},w(a,{brighter:function(fe){return fe=fe==null?y:Math.pow(y,fe),new V(this.h,this.s,this.l*fe,this.opacity)},darker:function(fe){return fe=fe==null?k:Math.pow(k,fe),new V(this.h,this.s,this.l*fe,this.opacity)},rgb:function(){var fe=this.h%360+360*(this.h<0),pe=isNaN(fe)||isNaN(this.s)?0:this.s,Le=this.l,ye=Le+(Le<.5?Le:1-Le)*pe,Ae=2*Le-ye;return new c(B(fe>=240?fe-240:fe+120,Ae,ye),B(fe,Ae,ye),B(fe<120?fe+240:fe-120,Ae,ye),this.opacity)},clamp:function(){return new V(F(this.h),W(this.s),W(this.l),C(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var fe=C(this.opacity);return"".concat(fe===1?"hsl(":"hsla(").concat(F(this.h),", ").concat(100*W(this.s),"%, ").concat(100*W(this.l),"%").concat(fe===1?")":", ".concat(fe,")"))}}));var H=function(fe){return function(){return fe}};function q(fe,pe){var Le=pe-fe;return Le?function(ye,Ae){return function(Me){return ye+Me*Ae}}(fe,Le):H(isNaN(fe)?pe:fe)}var ee=function fe(pe){var Le=function(Ae){return(Ae=+Ae)==1?q:function(Me,ke){return ke-Me?function(te,ue,ge){return te=Math.pow(te,ge),ue=Math.pow(ue,ge)-te,ge=1/ge,function(we){return Math.pow(te+we*ue,ge)}}(Me,ke,Ae):H(isNaN(Me)?ke:Me)}}(pe);function ye(Ae,Me){var ke=Le((Ae=T(Ae)).r,(Me=T(Me)).r),te=Le(Ae.g,Me.g),ue=Le(Ae.b,Me.b),ge=q(Ae.opacity,Me.opacity);return function(we){return Ae.r=ke(we),Ae.g=te(we),Ae.b=ue(we),Ae.opacity=ge(we),Ae+""}}return ye.gamma=fe,ye}(1);function K(fe){return function(pe){var Le,ye,Ae=pe.length,Me=new Array(Ae),ke=new Array(Ae),te=new Array(Ae);for(Le=0;Le<Ae;++Le)ye=T(pe[Le]),Me[Le]=ye.r||0,ke[Le]=ye.g||0,te[Le]=ye.b||0;return Me=fe(Me),ke=fe(ke),te=fe(te),ye.opacity=1,function(ue){return ye.r=Me(ue),ye.g=ke(ue),ye.b=te(ue),ye+""}}}function J(fe,pe){var Le,ye=pe?pe.length:0,Ae=fe?Math.min(ye,fe.length):0,Me=new Array(Ae),ke=new Array(ye);for(Le=0;Le<Ae;++Le)Me[Le]=ve(fe[Le],pe[Le]);for(;Le<ye;++Le)ke[Le]=pe[Le];return function(te){for(Le=0;Le<Ae;++Le)ke[Le]=Me[Le](te);return ke}}function Z(fe,pe){var Le=new Date;return fe=+fe,pe=+pe,function(ye){return Le.setTime(fe*(1-ye)+pe*ye),Le}}function $(fe,pe){return fe=+fe,pe=+pe,function(Le){return fe*(1-Le)+pe*Le}}function ne(fe){return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},ne(fe)}function ae(fe,pe){var Le,ye={},Ae={};for(Le in fe!==null&&ne(fe)==="object"||(fe={}),pe!==null&&ne(pe)==="object"||(pe={}),pe)Le in fe?ye[Le]=ve(fe[Le],pe[Le]):Ae[Le]=pe[Le];return function(Me){for(Le in ye)Ae[Le]=ye[Le](Me);return Ae}}K(function(fe){var pe=fe.length-1;return function(Le){var ye=Le<=0?Le=0:Le>=1?(Le=1,pe-1):Math.floor(Le*pe),Ae=fe[ye],Me=fe[ye+1],ke=ye>0?fe[ye-1]:2*Ae-Me,te=ye<pe-1?fe[ye+2]:2*Me-Ae;return U((Le-ye/pe)*pe,ke,Ae,Me,te)}}),K(function(fe){var pe=fe.length;return function(Le){var ye=Math.floor(((Le%=1)<0?++Le:Le)*pe),Ae=fe[(ye+pe-1)%pe],Me=fe[ye%pe],ke=fe[(ye+1)%pe],te=fe[(ye+2)%pe];return U((Le-ye/pe)*pe,Ae,Me,ke,te)}});var oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(oe.source,"g");function ce(fe,pe){var Le,ye,Ae,Me=oe.lastIndex=se.lastIndex=0,ke=-1,te=[],ue=[];for(fe+="",pe+="";(Le=oe.exec(fe))&&(ye=se.exec(pe));)(Ae=ye.index)>Me&&(Ae=pe.slice(Me,Ae),te[ke]?te[ke]+=Ae:te[++ke]=Ae),(Le=Le[0])===(ye=ye[0])?te[ke]?te[ke]+=ye:te[++ke]=ye:(te[++ke]=null,ue.push({i:ke,x:$(Le,ye)})),Me=se.lastIndex;return Me<pe.length&&(Ae=pe.slice(Me),te[ke]?te[ke]+=Ae:te[++ke]=Ae),te.length<2?ue[0]?function(ge){return function(we){return ge(we)+""}}(ue[0].x):function(ge){return function(){return ge}}(pe):(pe=ue.length,function(ge){for(var we,Ee=0;Ee<pe;++Ee)te[(we=ue[Ee]).i]=we.x(ge);return te.join("")})}function me(fe,pe){pe||(pe=[]);var Le,ye=fe?Math.min(pe.length,fe.length):0,Ae=pe.slice();return function(Me){for(Le=0;Le<ye;++Le)Ae[Le]=fe[Le]*(1-Me)+pe[Le]*Me;return Ae}}function xe(fe){return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},xe(fe)}function ve(fe,pe){var Le,ye,Ae=xe(pe);return pe==null||Ae==="boolean"?H(pe):(Ae==="number"?$:Ae==="string"?(Le=d(pe))?(pe=Le,ee):ce:pe instanceof d?ee:pe instanceof Date?Z:(ye=pe,!ArrayBuffer.isView(ye)||ye instanceof DataView?Array.isArray(pe)?J:typeof pe.valueOf!="function"&&typeof pe.toString!="function"||isNaN(pe)?ae:$:me))(fe,pe)}},40402:function(L){"use strict";L.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(L){"use strict";L.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(L){"use strict";L.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(L){"use strict";L.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(L){"use strict";L.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(L){"use strict";L.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},N={};function Q(L){var M=N[L];if(M!==void 0)return M.exports;var e=N[L]={exports:{}};return I[L].call(e.exports,e,e.exports,Q),e.exports}return Q.n=function(L){var M=L&&L.__esModule?function(){return L.default}:function(){return L};return Q.d(M,{a:M}),M},Q.d=function(L,M){for(var e in M)Q.o(M,e)&&!Q.o(L,e)&&Object.defineProperty(L,e,{enumerable:!0,get:M[e]})},Q.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Q.o=function(L,M){return Object.prototype.hasOwnProperty.call(L,M)},Q.r=function(L){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},Q(27909)}()})});var f4=Vr(Wi()),p4=Vr(ky());var rd=Vr(Wi()),Ls=Vr(lo()),P5=Vr(Cs());function tl(I){return Object.keys(I)}var V3=Vr(Wi());function Ty(){return Ty=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},Ty.apply(this,arguments)}function s8(I,N){if(I==null)return{};var Q=l8(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function l8(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var u8=function(N){var Q=N.title,L=N.titleId,M=s8(N,["title","titleId"]);return V3.createElement("svg",Ty({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":L},M))},Ay=u8;var H3=Vr(ky()),ed=[];function c8(){(0,H3.unstable_batchedUpdates)(function(){for(var I=0;I<ed.length;I++)ed[I]();ed.length=0})}function q3(I){ed.length===0&&setTimeout(c8),ed.push(I)}var bg,f8=new Uint8Array(16);function My(){if(!bg&&(bg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!bg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bg(f8)}var W3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function p8(I){return typeof I=="string"&&W3.test(I)}var G3=p8;var os=[];for(_g=0;_g<256;++_g)os.push((_g+256).toString(16).substr(1));var _g;function h8(I){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=(os[I[N+0]]+os[I[N+1]]+os[I[N+2]]+os[I[N+3]]+"-"+os[I[N+4]]+os[I[N+5]]+"-"+os[I[N+6]]+os[I[N+7]]+"-"+os[I[N+8]]+os[I[N+9]]+"-"+os[I[N+10]]+os[I[N+11]]+os[I[N+12]]+os[I[N+13]]+os[I[N+14]]+os[I[N+15]]).toLowerCase();if(!G3(Q))throw TypeError("Stringified UUID is invalid");return Q}var Y3=h8;var Z3,Sy,Ey=0,Cy=0;function d8(I,N,Q){var L=N&&Q||0,M=N||new Array(16);I=I||{};var e=I.node||Z3,b=I.clockseq!==void 0?I.clockseq:Sy;if(e==null||b==null){var w=I.random||(I.rng||My)();e==null&&(e=Z3=[w[0]|1,w[1],w[2],w[3],w[4],w[5]]),b==null&&(b=Sy=(w[6]<<8|w[7])&16383)}var a=I.msecs!==void 0?I.msecs:Date.now(),k=I.nsecs!==void 0?I.nsecs:Cy+1,y=a-Ey+(k-Cy)/1e4;if(y<0&&I.clockseq===void 0&&(b=b+1&16383),(y<0||a>Ey)&&I.nsecs===void 0&&(k=0),k>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ey=a,Cy=k,Sy=b,a+=122192928e5;var f=((a&268435455)*1e4+k)%4294967296;M[L++]=f>>>24&255,M[L++]=f>>>16&255,M[L++]=f>>>8&255,M[L++]=f&255;var l=a/4294967296*1e4&268435455;M[L++]=l>>>8&255,M[L++]=l&255,M[L++]=l>>>24&15|16,M[L++]=l>>>16&255,M[L++]=b>>>8|128,M[L++]=b&255;for(var t=0;t<6;++t)M[L+t]=e[t];return N||Y3(M)}var wg=d8;function Dl(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",N=wg();return function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",L="".concat(I).concat(I!==""?"_":"i"),M=Q?"_".concat(Q):"";return"".concat(L).concat(M?N:wg()).concat(M)}}var g8=Vr(X3());var J3=function(N){return N===void 0};var iM=Vr(h5()),aM=Vr(Iy()),k5=Vr(v5()),T5=Vr(x5()),A5=Vr(Dy()),oM=Vr(w5()),sM=Vr(Py());var M5=function(N){return(0,k5.default)(N)},S5=function(N){return(0,T5.default)(N)},E5=function(N){return(0,A5.default)(N)};function lM(I,N){return pM(I)||fM(I,N)||cM(I,N)||uM()}function uM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cM(I,N){if(I){if(typeof I=="string")return C5(I,N);var Q=Object.prototype.toString.call(I).slice(8,-1);if(Q==="Object"&&I.constructor&&(Q=I.constructor.name),Q==="Map"||Q==="Set")return Array.from(I);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return C5(I,N)}}function C5(I,N){(N==null||N>I.length)&&(N=I.length);for(var Q=0,L=new Array(N);Q<N;Q++)L[Q]=I[Q];return L}function fM(I,N){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var Q=[],L=!0,M=!1,e=void 0;try{for(var b=I[Symbol.iterator](),w;!(L=(w=b.next()).done)&&(Q.push(w.value),!(N&&Q.length===N));L=!0);}catch(a){M=!0,e=a}finally{try{!L&&b.return!=null&&b.return()}finally{if(M)throw e}}return Q}}function pM(I){if(Array.isArray(I))return I}var hM=/(https?:\/\/(.+?\.)?elastic\.co((\/|\?)[A-Za-z0-9\-\._~:\/\?#\[\]@!$&'\(\)\*\+,;\=]*)?)/g,L5=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Q=N.match(hM);if(!Q)return!1;var L=lM(Q,1),M=L[0];return M.length===N.length};var Tg=function(N){var Q=N.href,L=N.target,M=L===void 0?"":L,e=N.rel,b=!!Q&&L5(Q),w=e?e.split(" ").filter(function(a){return!!a.length&&a!=="noreferrer"}):[];return b||w.push("noreferrer"),M.includes("_blank")&&w.indexOf("noopener")===-1&&w.push("noopener"),w.sort().join(" ").trim()};function Ag(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ag=function(Q){return typeof Q}:Ag=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},Ag(I)}function Sg(){return Sg=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},Sg.apply(this,arguments)}function dM(I,N){if(I==null)return{};var Q=gM(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function gM(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}function mM(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function O5(I,N){for(var Q=0;Q<N.length;Q++){var L=N[Q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}function vM(I,N,Q){return N&&O5(I.prototype,N),Q&&O5(I,Q),I}function yM(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&zy(I,N)}function zy(I,N){return zy=Object.setPrototypeOf||function(L,M){return L.__proto__=M,L},zy(I,N)}function xM(I){var N=_M();return function(){var L=Eg(I),M;if(N){var e=Eg(this).constructor;M=Reflect.construct(L,arguments,e)}else M=L.apply(this,arguments);return bM(this,M)}}function bM(I,N){return N&&(Ag(N)==="object"||typeof N=="function")?N:Mg(I)}function Mg(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function _M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Eg(I){return Eg=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},Eg(I)}function Ry(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}var Ny={accessibility:"accessibility",addDataApp:"app_add_data",advancedSettingsApp:"app_advanced_settings",aggregate:"aggregate",alert:"alert",analyzeEvent:"analyze_event",annotation:"annotation",apmApp:"app_apm",apmTrace:"apm_trace",apps:"apps",appSearchApp:"app_app_search",arrowDown:"arrow_down",arrowLeft:"arrow_left",arrowRight:"arrow_right",arrowUp:"arrow_up",asterisk:"asterisk",auditbeatApp:"app_auditbeat",beaker:"beaker",bell:"bell",bellSlash:"bellSlash",bolt:"bolt",boxesHorizontal:"boxes_horizontal",boxesVertical:"boxes_vertical",branch:"branch",broom:"broom",brush:"brush",bug:"bug",bullseye:"bullseye",calendar:"calendar",canvasApp:"app_canvas",codeApp:"app_code",check:"check",checkInCircleFilled:"checkInCircleFilled",cheer:"cheer",classificationJob:"ml_classification_job",clock:"clock",cloudDrizzle:"cloudDrizzle",cloudStormy:"cloudStormy",cloudSunny:"cloudSunny",color:"color",compute:"compute",console:"console",consoleApp:"app_console",continuityAbove:"continuityAbove",continuityAboveBelow:"continuityAboveBelow",continuityBelow:"continuityBelow",continuityWithin:"continuityWithin",controlsHorizontal:"controls_horizontal",controlsVertical:"controls_vertical",copy:"copy",copyClipboard:"copy_clipboard",createAdvancedJob:"ml_create_advanced_job",createMultiMetricJob:"ml_create_multi_metric_job",createPopulationJob:"ml_create_population_job",createSingleMetricJob:"ml_create_single_metric_job",cross:"cross",crossClusterReplicationApp:"app_cross_cluster_replication",crosshairs:"crosshairs",crossInACircleFilled:"crossInACircleFilled",currency:"currency",cut:"cut",dashboardApp:"app_dashboard",database:"database",dataVisualizer:"ml_data_visualizer",devToolsApp:"app_devtools",discoverApp:"app_discover",document:"document",documentation:"documentation",documentEdit:"documentEdit",documents:"documents",dot:"dot",download:"download",editorAlignCenter:"editor_align_center",editorAlignLeft:"editor_align_left",editorAlignRight:"editor_align_right",editorBold:"editor_bold",editorCodeBlock:"editor_code_block",editorComment:"editor_comment",editorDistributeHorizontal:"editorDistributeHorizontal",editorDistributeVertical:"editorDistributeVertical",editorHeading:"editor_heading",editorItalic:"editor_italic",editorItemAlignLeft:"editorItemAlignLeft",editorItemAlignBottom:"editorItemAlignBottom",editorItemAlignCenter:"editorItemAlignCenter",editorItemAlignMiddle:"editorItemAlignMiddle",editorItemAlignRight:"editorItemAlignRight",editorItemAlignTop:"editorItemAlignTop",editorLink:"editor_link",editorOrderedList:"editor_ordered_list",editorPositionBottomLeft:"editorPositionBottomLeft",editorPositionBottomRight:"editorPositionBottomRight",editorPositionTopLeft:"editorPositionTopLeft",editorPositionTopRight:"editorPositionTopRight",editorRedo:"editor_redo",editorStrike:"editor_strike",editorTable:"editor_table",editorUnderline:"editor_underline",editorUndo:"editor_undo",editorUnorderedList:"editor_unordered_list",email:"email",empty:"empty",emsApp:"app_ems",eql:"eql",eraser:"eraser",exit:"exit",expand:"expand",expandMini:"expandMini",exportAction:"export",eye:"eye",eyeClosed:"eye_closed",faceHappy:"face_happy",faceNeutral:"faceNeutral",faceSad:"face_sad",filebeatApp:"app_filebeat",filter:"filter",flag:"flag",fold:"fold",folderCheck:"folder_check",folderClosed:"folder_closed",folderExclamation:"folder_exclamation",folderOpen:"folder_open",frameNext:"frameNext",framePrevious:"framePrevious",fullScreen:"full_screen",fullScreenExit:"fullScreenExit",function:"function",gear:"gear",gisApp:"app_gis",glasses:"glasses",globe:"globe",grab:"grab",grabHorizontal:"grab_horizontal",graphApp:"app_graph",grid:"grid",grokApp:"app_grok",heart:"heart",heartbeatApp:"app_heartbeat",heatmap:"heatmap",help:"help",home:"home",iInCircle:"iInCircle",image:"image",importAction:"import",indexClose:"index_close",indexEdit:"index_edit",indexFlush:"index_flush",indexManagementApp:"app_index_management",indexMapping:"index_mapping",indexOpen:"index_open",indexPatternApp:"app_index_pattern",indexRollupApp:"app_index_rollup",indexRuntime:"index_runtime",indexSettings:"index_settings",inputOutput:"inputOutput",inspect:"inspect",invert:"invert",ip:"ip",keyboardShortcut:"keyboard_shortcut",kqlField:"kql_field",kqlFunction:"kql_function",kqlOperand:"kql_operand",kqlSelector:"kql_selector",kqlValue:"kql_value",layers:"layers",lensApp:"app_lens",link:"link",list:"list",listAdd:"list_add",lock:"lock",lockOpen:"lockOpen",logsApp:"app_logs",logoAerospike:"logo_aerospike",logoApache:"logo_apache",logoAppSearch:"logo_app_search",logoAWS:"logo_aws",logoAWSMono:"logo_aws_mono",logoAzure:"logo_azure",logoAzureMono:"logo_azure_mono",logoBeats:"logo_beats",logoBusinessAnalytics:"logo_business_analytics",logoCeph:"logo_ceph",logoCloud:"logo_cloud",logoCloudEnterprise:"logo_cloud_ece",logoCode:"logo_code",logoCodesandbox:"logo_codesandbox",logoCouchbase:"logo_couchbase",logoDocker:"logo_docker",logoDropwizard:"logo_dropwizard",logoElastic:"logo_elastic",logoElasticsearch:"logo_elasticsearch",logoElasticStack:"logo_elastic_stack",logoEnterpriseSearch:"logo_enterprise_search",logoEtcd:"logo_etcd",logoGCP:"logo_gcp",logoGCPMono:"logo_gcp_mono",logoGithub:"logo_github",logoGmail:"logo_gmail",logoGolang:"logo_golang",logoGoogleG:"logo_google_g",logoHAproxy:"logo_haproxy",logoIBM:"logo_ibm",logoIBMMono:"logo_ibm_mono",logoKafka:"logo_kafka",logoKibana:"logo_kibana",logoKubernetes:"logo_kubernetes",logoLogging:"logo_logging",logoLogstash:"logo_logstash",logoMaps:"logo_maps",logoMemcached:"logo_memcached",logoMetrics:"logo_metrics",logoMongodb:"logo_mongodb",logoMySQL:"logo_mysql",logoNginx:"logo_nginx",logoObservability:"logo_observability",logoOsquery:"logo_osquery",logoPhp:"logo_php",logoPostgres:"logo_postgres",logoPrometheus:"logo_prometheus",logoRabbitmq:"logo_rabbitmq",logoRedis:"logo_redis",logoSecurity:"logo_security",logoSiteSearch:"logo_site_search",logoSketch:"logo_sketch",logoSlack:"logo_slack",logoUptime:"logo_uptime",logoWebhook:"logo_webhook",logoWindows:"logo_windows",logoWorkplaceSearch:"logo_workplace_search",logstashFilter:"logstash_filter",logstashIf:"logstash_if",logstashInput:"logstash_input",logstashOutput:"logstash_output",logstashQueue:"logstash_queue",machineLearningApp:"app_ml",magnet:"magnet",magnifyWithMinus:"magnifyWithMinus",magnifyWithPlus:"magnifyWithPlus",managementApp:"app_management",mapMarker:"map_marker",memory:"memory",menu:"menu",menuDown:"menuDown",menuLeft:"menuLeft",menuRight:"menuRight",menuUp:"menuUp",merge:"merge",metricbeatApp:"app_metricbeat",metricsApp:"app_metrics",minimize:"minimize",minus:"minus",minusInCircle:"minus_in_circle",minusInCircleFilled:"minus_in_circle_filled",mobile:"mobile",monitoringApp:"app_monitoring",moon:"moon",nested:"nested",node:"node",notebookApp:"app_notebook",number:"number",offline:"offline",online:"online",outlierDetectionJob:"ml_outlier_detection_job",package:"package",packetbeatApp:"app_packetbeat",pageSelect:"pageSelect",pagesSelect:"pagesSelect",partial:"partial",paperClip:"paper_clip",pause:"pause",pencil:"pencil",percent:"percent",pin:"pin",pinFilled:"pin_filled",pipelineApp:"app_pipeline",play:"play",playFilled:"playFilled",plus:"plus",plusInCircle:"plus_in_circle",plusInCircleFilled:"plus_in_circle_filled",popout:"popout",push:"push",questionInCircle:"question_in_circle",quote:"quote",recentlyViewedApp:"app_recently_viewed",refresh:"refresh",regressionJob:"ml_regression_job",reporter:"reporter",reportingApp:"app_reporting",returnKey:"return_key",save:"save",savedObjectsApp:"app_saved_objects",scale:"scale",search:"search",searchProfilerApp:"app_search_profiler",securityAnalyticsApp:"app_security_analytics",securityApp:"app_security",securitySignal:"securitySignal",securitySignalDetected:"securitySignalDetected",securitySignalResolved:"securitySignalResolved",shard:"shard",share:"share",snowflake:"snowflake",sortable:"sortable",sortDown:"sort_down",sortLeft:"sortLeft",sortRight:"sortRight",sortUp:"sort_up",spacesApp:"app_spaces",sqlApp:"app_sql",starEmpty:"star_empty",starEmptySpace:"star_empty_space",starFilled:"star_filled",starFilledSpace:"star_filled_space",starMinusEmpty:"star_minus_empty",starMinusFilled:"star_minus_filled",starPlusEmpty:"starPlusEmpty",starPlusFilled:"starPlusFilled",stats:"stats",stop:"stop",stopFilled:"stop_filled",stopSlash:"stop_slash",storage:"storage",string:"string",submodule:"submodule",swatchInput:"swatch_input",symlink:"symlink",tableOfContents:"tableOfContents",tableDensityExpanded:"table_density_expanded",tableDensityCompact:"table_density_compact",tableDensityNormal:"table_density_normal",tag:"tag",tear:"tear",temperature:"temperature",timeline:"timeline",timelionApp:"app_timelion",timeslider:"timeslider",training:"training",trash:"trash",upgradeAssistantApp:"app_upgrade_assistant",uptimeApp:"app_uptime",unfold:"unfold",unlink:"unlink",user:"user",users:"users",usersRolesApp:"app_users_roles",vector:"vector",videoPlayer:"videoPlayer",visArea:"vis_area",visAreaStacked:"vis_area_stacked",visBarHorizontal:"vis_bar_horizontal",visBarHorizontalStacked:"vis_bar_horizontal_stacked",visBarVertical:"vis_bar_vertical",visBarVerticalStacked:"vis_bar_vertical_stacked",visGauge:"vis_gauge",visGoal:"vis_goal",visLine:"vis_line",visMapCoordinate:"vis_map_coordinate",visMapRegion:"vis_map_region",visMetric:"vis_metric",visPie:"vis_pie",visTable:"vis_table",visTagCloud:"vis_tag_cloud",visText:"vis_text",visTimelion:"vis_timelion",visualizeApp:"app_visualize",visVega:"vis_vega",visVisualBuilder:"vis_visual_builder",watchesApp:"app_watches",wordWrap:"wordWrap",wordWrapDisabled:"wordWrapDisabled",workplaceSearchApp:"app_workplace_search",wrench:"wrench",tokenClass:"tokens/tokenClass",tokenProperty:"tokens/tokenProperty",tokenEnum:"tokens/tokenEnum",tokenVariable:"tokens/tokenVariable",tokenMethod:"tokens/tokenMethod",tokenAnnotation:"tokens/tokenAnnotation",tokenException:"tokens/tokenException",tokenInterface:"tokens/tokenInterface",tokenParameter:"tokens/tokenParameter",tokenField:"tokens/tokenField",tokenElement:"tokens/tokenElement",tokenFunction:"tokens/tokenFunction",tokenBoolean:"tokens/tokenBoolean",tokenString:"tokens/tokenString",tokenArray:"tokens/tokenArray",tokenNumber:"tokens/tokenNumber",tokenConstant:"tokens/tokenConstant",tokenObject:"tokens/tokenObject",tokenEvent:"tokens/tokenEvent",tokenKey:"tokens/tokenKey",tokenNull:"tokens/tokenNull",tokenStruct:"tokens/tokenStruct",tokenPackage:"tokens/tokenPackage",tokenOperator:"tokens/tokenOperator",tokenEnumMember:"tokens/tokenEnumMember",tokenRepo:"tokens/tokenRepo",tokenSymbol:"tokens/tokenSymbol",tokenFile:"tokens/tokenFile",tokenModule:"tokens/tokenModule",tokenNamespace:"tokens/tokenNamespace",tokenDate:"tokens/tokenDate",tokenIP:"tokens/tokenIP",tokenNested:"tokens/tokenNested",tokenAlias:"tokens/tokenAlias",tokenShape:"tokens/tokenShape",tokenGeo:"tokens/tokenGeo",tokenRange:"tokens/tokenRange",tokenBinary:"tokens/tokenBinary",tokenJoin:"tokens/tokenJoin",tokenPercolator:"tokens/tokenPercolator",tokenFlattened:"tokens/tokenFlattened",tokenRankFeature:"tokens/tokenRankFeature",tokenRankFeatures:"tokens/tokenRankFeatures",tokenKeyword:"tokens/tokenKeyword",tokenCompletionSuggester:"tokens/tokenCompletionSuggester",tokenDenseVector:"tokens/tokenDenseVector",tokenText:"tokens/tokenText",tokenTokenCount:"tokens/tokenTokenCount",tokenSearchType:"tokens/tokenSearchType",tokenHistogram:"tokens/tokenHistogram"},wM=tl(Ny),By={default:null,primary:"euiIcon--primary",secondary:"euiIcon--secondary",success:"euiIcon--success",accent:"euiIcon--accent",warning:"euiIcon--warning",danger:"euiIcon--danger",text:"euiIcon--text",subdued:"euiIcon--subdued",ghost:"euiIcon--ghost",inherit:"euiIcon--inherit"},kM=tl(By);function TM(I){return By.hasOwnProperty(I)}var I5={original:null,s:"euiIcon--small",m:"euiIcon--medium",l:"euiIcon--large",xl:"euiIcon--xLarge",xxl:"euiIcon--xxLarge"},AM=tl(I5);function Fy(I){return typeof I=="string"&&Ny.hasOwnProperty(I)}function MM(I){if(I!=null)return Fy(I)?cf.hasOwnProperty(I)?cf[I]:void 0:I}var SM=Dl(),cf={};var D5=function(N){for(var Q in N)N.hasOwnProperty(Q)&&(cf[Q]=N[Q])},vl=function(I){yM(Q,I);var N=xM(Q);function Q(L){var M;mM(this,Q),M=N.call(this,L),Ry(Mg(M),"isMounted",!0),Ry(Mg(M),"loadIconComponent",function(a){if(cf.hasOwnProperty(a)){M.setState({isLoading:!1,neededLoading:!1,icon:cf[a]}),M.onIconLoad();return}import("./assets/"+Ny[a]+".js").then(function(k){var y=k.icon;cf[a]=y,q3(function(){M.isMounted&&M.props.type===a&&M.setState({icon:y,iconTitle:a,isLoading:!1},M.onIconLoad)})})}),Ry(Mg(M),"onIconLoad",function(){var a=M.props.onIconLoad;a&&a()});var e=L.type,b=MM(e),w=!1;return Fy(e)&&b==null?(w=!0,M.loadIconComponent(e)):M.onIconLoad(),M.state={icon:b,iconTitle:void 0,isLoading:w,neededLoading:w},M}return vM(Q,[{key:"componentDidUpdate",value:function(M){var e=this.props.type;e!==M.type&&(Fy(e)?(this.setState({neededLoading:cf.hasOwnProperty(e),isLoading:!0}),this.loadIconComponent(e)):this.setState({icon:e,neededLoading:!0,isLoading:!1}))}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"render",value:function(){var M=this.props,e=M.type,b=M.size,w=b===void 0?"m":b,a=M.color,k=M.className,y=M.tabIndex,f=M.title,l=M.onIconLoad,t=dM(M,["type","size","color","className","tabIndex","title","onIconLoad"]),s=this.state,o=s.isLoading,n=s.neededLoading,r=null,i=null;a&&(TM(a)?r=By[a]:(i={color:a},r="euiIcon--customColor"));var u=e&&typeof e=="string"&&(/.+App$/.test(e)||/.+Job$/.test(e)||e==="dataVisualizer"),p=a&&a!=="default",h=(0,P5.default)("euiIcon",I5[w],r,{"euiIcon--app":u&&!p,"euiIcon-isLoading":o,"euiIcon-isLoaded":!o&&n},k),_=this.state.icon||Ay,m=y==null||y===-1?"false":"true";if(typeof _=="string")return rd.default.createElement("img",Sg({alt:f||"",src:_,className:h,tabIndex:y},t));var d=_,x=_===Ay||!(this.props["aria-label"]||this.props["aria-labelledby"]||this.props.title),g=x&&{"aria-hidden":!0},v;return!this.props["aria-label"]&&!this.props["aria-labelledby"]&&f&&(v={titleId:SM()}),rd.default.createElement(d,Sg({className:h,style:i,tabIndex:y,focusable:m,role:"img",title:f},v,t,g))}}]),Q}(rd.PureComponent);vl.propTypes={className:Ls.default.string,"aria-label":Ls.default.string,"data-test-subj":Ls.default.string,type:Ls.default.oneOfType([Ls.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,Ls.default.string.isRequired,Ls.default.elementType.isRequired]).isRequired,color:Ls.default.oneOfType([Ls.default.string.isRequired,Ls.default.oneOf(["default","primary","secondary","success","accent","warning","danger","text","subdued","ghost","inherit"]).isRequired]),size:Ls.default.oneOf(["original","s","m","l","xl","xxl"]),title:Ls.default.string,titleId:Ls.default.string,"aria-labelledby":Ls.default.string,onIconLoad:Ls.default.func};var Cg=Vr(Wi());function jy(){return jy=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},jy.apply(this,arguments)}function EM(I,N){if(I==null)return{};var Q=CM(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function CM(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var LM=function(N){var Q=N.title,L=N.titleId,M=EM(N,["title","titleId"]);return Cg.createElement("svg",jy({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":L},M),Q?Cg.createElement("title",{id:L},Q):null,Cg.createElement("path",{fillRule:"nonzero",d:"M5.157 13.069l4.611-4.685a.546.546 0 000-.768L5.158 2.93a.552.552 0 010-.771.53.53 0 01.759 0l4.61 4.684c.631.641.63 1.672 0 2.312l-4.61 4.684a.53.53 0 01-.76 0 .552.552 0 010-.771z"}))},R5=LM;var ym=Vr(Wi());var Fu=Vr(Wi());var id=(Q=>(Q.line="line",Q.points="points",Q))(id||{}),Lg=(Q=>(Q.linear="linear",Q.log="log",Q))(Lg||{});var Ni=Vr(Wi());var Ka=Vr(Wi()),Ja=Vr(lo()),Oc=Vr(Cs());var z5=Vr(Wi()),ad=Vr(lo());var F5=Vr(Cs());function Uy(){return Uy=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},Uy.apply(this,arguments)}function OM(I,N){if(I==null)return{};var Q=PM(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function PM(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var N5={s:"euiLoadingSpinner--small",m:"euiLoadingSpinner--medium",l:"euiLoadingSpinner--large",xl:"euiLoadingSpinner--xLarge"},zE=tl(N5),$u=function(N){var Q=N.size,L=Q===void 0?"m":Q,M=N.className,e=OM(N,["size","className"]),b=(0,F5.default)("euiLoadingSpinner",N5[L],M);return z5.default.createElement("span",Uy({className:b},e))};$u.propTypes={className:ad.default.string,"aria-label":ad.default.string,"data-test-subj":ad.default.string,size:ad.default.oneOf(["s","m","l","xl"])};var zg=Vr(Wi());var j5=Vr(Wi());function Og(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Og=function(Q){return typeof Q}:Og=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},Og(I)}function IM(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function B5(I,N){for(var Q=0;Q<N.length;Q++){var L=N[Q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}function DM(I,N,Q){return N&&B5(I.prototype,N),Q&&B5(I,Q),I}function RM(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&Vy(I,N)}function Vy(I,N){return Vy=Object.setPrototypeOf||function(L,M){return L.__proto__=M,L},Vy(I,N)}function zM(I){var N=NM();return function(){var L=Pg(I),M;if(N){var e=Pg(this).constructor;M=Reflect.construct(L,arguments,e)}else M=L.apply(this,arguments);return FM(this,M)}}function FM(I,N){return N&&(Og(N)==="object"||typeof N=="function")?N:kp(I)}function kp(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function NM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Pg(I){return Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},Pg(I)}function od(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}var U5=function(I){RM(Q,I);var N=zM(Q);function Q(){var L;IM(this,Q);for(var M=arguments.length,e=new Array(M),b=0;b<M;b++)e[b]=arguments[b];return L=N.call.apply(N,[this].concat(e)),od(kp(L),"name","EuiObserver"),od(kp(L),"childNode",null),od(kp(L),"observer",null),od(kp(L),"updateChildNode",function(w){L.childNode!==w&&(L.observer!=null&&(L.observer.disconnect(),L.observer=null),L.childNode=w,L.childNode!=null&&L.beginObserve())}),od(kp(L),"beginObserve",function(){throw new Error("EuiObserver has no default observation method")}),L}return DM(Q,[{key:"componentDidMount",value:function(){if(this.childNode==null)throw new Error("".concat(this.name," did not receive a ref"))}},{key:"componentWillUnmount",value:function(){this.observer!=null&&this.observer.disconnect()}},{key:"render",value:function(){var M=this.props;return M.children(this.updateChildNode)}}]),Q}(j5.Component);function Dg(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(Q){return typeof Q}:Dg=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},Dg(I)}function BM(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function jM(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&Hy(I,N)}function Hy(I,N){return Hy=Object.setPrototypeOf||function(L,M){return L.__proto__=M,L},Hy(I,N)}function UM(I){var N=HM();return function(){var L=Rg(I),M;if(N){var e=Rg(this).constructor;M=Reflect.construct(L,arguments,e)}else M=L.apply(this,arguments);return VM(this,M)}}function VM(I,N){return N&&(Dg(N)==="object"||typeof N=="function")?N:sd(I)}function sd(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function HM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rg(I){return Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},Rg(I)}function Ig(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}var qM=typeof window<"u"&&typeof window.ResizeObserver<"u",qy=function(I){jM(Q,I);var N=UM(Q);function Q(){var L;BM(this,Q);for(var M=arguments.length,e=new Array(M),b=0;b<M;b++)e[b]=arguments[b];return L=N.call.apply(N,[this].concat(e)),Ig(sd(L),"name","EuiResizeObserver"),Ig(sd(L),"state",{height:0,width:0}),Ig(sd(L),"onResize",function(){if(L.childNode){var w=L.childNode.getBoundingClientRect(),a=w.height,k=w.width;L.state.height===a&&L.state.width===k||(L.props.onResize({height:a,width:k}),L.setState({height:a,width:k}))}}),Ig(sd(L),"beginObserve",function(){var w=L.childNode;L.observer=WM(w,L.onResize)}),L}return Q}(U5),WM=function(N,Q){var L;return qM&&(L=new window.ResizeObserver(Q),L.observe(N)),L};var ff=Vr(Wi());var Fg=Vr(Wi()),Ec=Vr(lo()),V5=(0,Fg.createContext)({}),GM=V5.Provider,Wy=V5.Consumer,H5=function(N){var Q=N.i18n,L=Q===void 0?{}:Q,M=N.children;return Fg.default.createElement(GM,{value:L},M)};H5.propTypes={i18n:Ec.default.shape({mapping:Ec.default.shape({}),mappingFunc:Ec.default.func,formatNumber:Ec.default.func,formatDateTime:Ec.default.func,locale:Ec.default.string}).isRequired,children:Ec.default.node.isRequired};var Z5=Vr(Wi());var X5=Vr(G5());function qg(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qg=function(Q){return typeof Q}:qg=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},qg(I)}function YM(I){return S5(I)||M5(I)||E5(I)||J3(I)}function Y5(I){return I?qg(I)==="object"&&I.hasOwnProperty("propName"):!1}function J5(I,N,Q){var L=[],M;function e(s){M===void 0?M=s:typeof M=="string"?M=M+s:Y5(M)&&(M.propName=M.propName+s)}function b(s){s!==void 0&&((0,X5.isElement)(s)?L.push((0,Z5.cloneElement)(s,{key:L.length})):Y5(s)||(Q!==void 0&&typeof s=="string"&&(s=Q(s)),L.push(s)))}for(var w=!1,a=0;a<I.length;a++){var k=I[a];if(k==="\\"){var y=I[a+1],f=k;(y==="{"||y==="}")&&(a+=1,f=I[a]),e(f)}else if(k==="{")b(M),M={propName:""};else if(k==="}"){var l=M.propName;if(!N.hasOwnProperty(l))throw new Error('Key "'.concat(l,'" not found in ').concat(JSON.stringify(N,null,2)));var t=N[l];w=w||!YM(t),b(t),M=void 0}else e(k)}return b(M),w?L:L.join("")}function ZM(I){throw new Error('I18n mapping for token "'.concat(I,'" is a formatting function but no values were provided.'))}function K5(I,N,Q,L,M){var e=N&&N[I]||Q;if(typeof e=="function")return M===void 0?ZM(I):e(M);if(M===void 0||typeof e!="string")return L&&typeof Q=="string"&&(e=L(Q)),e;var b=J5(e,M,L);if(typeof b=="string")return b;var w=function(){return ff.default.createElement(ff.Fragment,null,b)};return ff.default.createElement(w,M)}function XM(I){return I.tokens!=null}var ld=function(N){return ff.default.createElement(Wy,null,function(Q){var L=Q.mapping,M=Q.mappingFunc;if(XM(N))return N.children(N.tokens.map(function(b,w){return K5(b,L,N.defaults[w],M)}));var e=K5(N.token,L,N.default,M,N.values);return N.children?N.children(e):e})};function Wg(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wg=function(Q){return typeof Q}:Wg=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},Wg(I)}function Gg(){return Gg=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},Gg.apply(this,arguments)}function JM(I,N){if(I==null)return{};var Q=KM(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function KM(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}function $M(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function $5(I,N){for(var Q=0;Q<N.length;Q++){var L=N[Q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}function QM(I,N,Q){return N&&$5(I.prototype,N),Q&&$5(I,Q),I}function eS(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&Zy(I,N)}function Zy(I,N){return Zy=Object.setPrototypeOf||function(L,M){return L.__proto__=M,L},Zy(I,N)}function tS(I){var N=rS();return function(){var L=Yg(I),M;if(N){var e=Yg(this).constructor;M=Reflect.construct(L,arguments,e)}else M=L.apply(this,arguments);return nS(this,M)}}function nS(I,N){return N&&(Wg(N)==="object"||typeof N=="function")?N:pf(I)}function pf(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function rS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Yg(I){return Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},Yg(I)}function hf(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}var Q5={none:"",xs:"euiAccordion__padding--xs",s:"euiAccordion__padding--s",m:"euiAccordion__padding--m",l:"euiAccordion__padding--l",xl:"euiAccordion__padding--xl"},fC=tl(Q5),Tp=function(I){eS(Q,I);var N=tS(Q);function Q(){var L;$M(this,Q);for(var M=arguments.length,e=new Array(M),b=0;b<M;b++)e[b]=arguments[b];return L=N.call.apply(N,[this].concat(e)),hf(pf(L),"childContent",null),hf(pf(L),"childWrapper",null),hf(pf(L),"state",{isOpen:L.props.forceState?L.props.forceState==="open":L.props.initialIsOpen}),hf(pf(L),"setChildContentHeight",function(){var w=L.props.forceState;requestAnimationFrame(function(){var a=L.childContent&&(w?w==="open":L.state.isOpen)?L.childContent.clientHeight:0;L.childWrapper&&L.childWrapper.setAttribute("style","height: ".concat(a,"px"))})}),hf(pf(L),"onToggle",function(){var w=L.props.forceState;w?L.props.onToggle&&L.props.onToggle(w!=="open"):L.setState(function(a){return{isOpen:!a.isOpen}},function(){L.state.isOpen&&L.childWrapper&&L.childWrapper.focus(),L.props.onToggle&&L.props.onToggle(L.state.isOpen)})}),hf(pf(L),"setChildContentRef",function(w){L.childContent=w}),L}return QM(Q,[{key:"componentDidMount",value:function(){this.setChildContentHeight()}},{key:"componentDidUpdate",value:function(){this.setChildContentHeight()}},{key:"render",value:function(){var M,e=this,b=this.props,w=b.children,a=b.buttonContent,k=b.className,y=b.id,f=b.buttonClassName,l=b.buttonContentClassName,t=b.extraAction,s=b.paddingSize,o=b.initialIsOpen,n=b.arrowDisplay,r=b.forceState,i=b.isLoading,u=b.isLoadingMessage,p=b.buttonProps,h=JM(b,["children","buttonContent","className","id","buttonClassName","buttonContentClassName","extraAction","paddingSize","initialIsOpen","arrowDisplay","forceState","isLoading","isLoadingMessage","buttonProps"]),_=r?r==="open":this.state.isOpen,m=(0,Oc.default)("euiAccordion",{"euiAccordion-isOpen":_},k),d=s?(0,Oc.default)(Q5[s]):void 0,x=(0,Oc.default)(d,{"euiAccordion__children-isLoading":i}),g=(0,Oc.default)("euiAccordion__button",{euiAccordion__buttonReverse:!t&&n==="right"},f,p?.className),v=(0,Oc.default)("euiAccordion__icon",{"euiAccordion__icon-isOpen":_}),T=(0,Oc.default)("euiAccordion__iconWrapper",{euiAccordion__iconButton:t&&n==="right"}),c;n!=="none"&&(c=Ka.default.createElement(vl,{className:v,type:"arrowRight",size:"m"}));var E,A,C=(M=p?.id)!==null&&M!==void 0?M:Dl()();t&&n==="right"?A=Ka.default.createElement("button",{"aria-controls":y,"aria-expanded":_,"aria-labelledby":C,tabIndex:-1,className:T,onClick:this.onToggle},c):n!=="none"&&(E=Ka.default.createElement("span",{className:T},c));var O=null;t&&!i?O=Ka.default.createElement("div",{className:"euiAccordion__optionalAction"},t):i&&(O=Ka.default.createElement("div",{className:"euiAccordion__optionalAction"},Ka.default.createElement($u,null)));var P;return i&&u?P=Ka.default.createElement(Ka.default.Fragment,null,Ka.default.createElement($u,{className:"euiAccordion__spinner"}),Ka.default.createElement("span",null,u&&u!==!0?u:Ka.default.createElement(ld,{token:"euiAccordion.isLoading",default:"Loading"}))):P=w,Ka.default.createElement("div",Gg({className:m},h),Ka.default.createElement("div",{className:"euiAccordion__triggerWrapper"},Ka.default.createElement("button",Gg({},p,{id:C,"aria-controls":y,"aria-expanded":_,onClick:this.onToggle,className:g,type:"button"}),E,Ka.default.createElement("span",{className:(0,Oc.default)("euiIEFlexWrapFix",l)},a)),O,A),Ka.default.createElement("div",{className:"euiAccordion__childWrapper",ref:function(z){e.childWrapper=z},tabIndex:-1,role:"region","aria-labelledby":C,id:y},Ka.default.createElement(qy,{onResize:this.setChildContentHeight},function(D){return Ka.default.createElement("div",{ref:function(V){e.setChildContentRef(V),D(V)}},Ka.default.createElement("div",{className:x},P))})))}}]),Q}(Ka.Component);hf(Tp,"defaultProps",{initialIsOpen:!1,paddingSize:"none",arrowDisplay:"left",isLoading:!1,isLoadingMessage:!1});Tp.propTypes={className:Ja.default.string,"aria-label":Ja.default.string,"data-test-subj":Ja.default.string,id:Ja.default.string.isRequired,buttonClassName:Ja.default.string,buttonProps:Ja.default.shape({className:Ja.default.string,"aria-label":Ja.default.string,"data-test-subj":Ja.default.string}),buttonContentClassName:Ja.default.string,buttonContent:Ja.default.node,extraAction:Ja.default.node,initialIsOpen:Ja.default.bool.isRequired,onToggle:Ja.default.func,paddingSize:Ja.default.oneOf(["none","xs","s","m","l","xl"]),arrowDisplay:Ja.default.oneOf(["left","right","none"]),forceState:Ja.default.oneOf(["closed","open"]),isLoading:Ja.default.bool,isLoadingMessage:Ja.default.oneOfType([Ja.default.bool.isRequired,Ja.default.node.isRequired])};var nk=Vr(Wi()),Xy=Vr(lo()),rk=Vr(Cs());function ek(I,N){var Q=Object.keys(I);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(I);N&&(L=L.filter(function(M){return Object.getOwnPropertyDescriptor(I,M).enumerable})),Q.push.apply(Q,L)}return Q}function tk(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N]!=null?arguments[N]:{};N%2?ek(Object(Q),!0).forEach(function(L){iS(I,L,Q[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(Q)):ek(Object(Q)).forEach(function(L){Object.defineProperty(I,L,Object.getOwnPropertyDescriptor(Q,L))})}return I}function iS(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}var Ap=function(N){var Q=N.children,L=N.showOnFocus,M=(0,rk.default)({euiScreenReaderOnly:!L,"euiScreenReaderOnly--showOnFocus":L},Q.props.className),e=tk(tk({},Q.props),{},{className:M});return(0,nk.cloneElement)(Q,e)};Ap.propTypes={children:Xy.default.element.isRequired,showOnFocus:Xy.default.bool};var Mp=Vr(Wi()),ni=Vr(lo()),Xg=Vr(Cs());var ud=Vr(Wi()),ss=Vr(lo()),ik=Vr(Cs());function Jy(){return Jy=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},Jy.apply(this,arguments)}function aS(I,N){if(I==null)return{};var Q=oS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function oS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var ak={left:null,right:"euiButtonContent--iconRight"},xC=tl(ak),Ky=function(N){var Q=N.children,L=N.textProps,M=N.isLoading,e=M===void 0?!1:M,b=N.iconType,w=N.iconSize,a=w===void 0?"m":w,k=N.iconSide,y=k===void 0?"left":k,f=aS(N,["children","textProps","isLoading","iconType","iconSize","iconSide"]),l;e?l=ud.default.createElement($u,{className:"euiButtonContent__spinner",size:"m"}):b&&(l=ud.default.createElement(vl,{className:"euiButtonContent__icon",type:b,size:a,color:"inherit"}));var t=(0,ik.default)("euiButtonContent",y?ak[y]:null,f&&f.className);return ud.default.createElement("span",Jy({},f,{className:t}),l,ud.default.createElement("span",L,Q))};Ky.propTypes={iconType:ss.default.oneOfType([ss.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,ss.default.string.isRequired,ss.default.elementType.isRequired]),iconSide:ss.default.oneOf(["left","right"]),isLoading:ss.default.bool,textProps:ss.default.shape({className:ss.default.string,"aria-label":ss.default.string,"data-test-subj":ss.default.string,ref:ss.default.any,"data-text":ss.default.string}),iconSize:ss.default.oneOf(["s","m"]),className:ss.default.string,"aria-label":ss.default.string,"data-test-subj":ss.default.string};var xk=Vr(yk());function bk(I){var N=new xk.default(I);return N.protocol!=="javascript:"}function Jg(){return Jg=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},Jg.apply(this,arguments)}function _k(I,N){var Q=Object.keys(I);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(I);N&&(L=L.filter(function(M){return Object.getOwnPropertyDescriptor(I,M).enumerable})),Q.push.apply(Q,L)}return Q}function Qu(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N]!=null?arguments[N]:{};N%2?_k(Object(Q),!0).forEach(function(L){yS(I,L,Q[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(Q)):_k(Object(Q)).forEach(function(L){Object.defineProperty(I,L,Object.getOwnPropertyDescriptor(Q,L))})}return I}function yS(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}function wk(I,N){if(I==null)return{};var Q=xS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function xS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var Kg={primary:"--primary",accent:"--accent",secondary:"--secondary",success:"--success",warning:"--warning",danger:"--danger",ghost:"--ghost",text:"--text"},CC=tl(Kg),tx={s:"--small",m:null},LC=tl(tx),cd=(0,Mp.forwardRef)(function(I,N){var Q=I.element,L=Q===void 0?"button":Q,M=I.baseClassName,e=I.children,b=I.className,w=I.iconType,a=I.iconSide,k=a===void 0?"left":a,y=I.color,f=y===void 0?"primary":y,l=I.size,t=l===void 0?"m":l,s=I.fill,o=s===void 0?!1:s,n=I.isDisabled,r=I.isLoading,i=I.isSelected,u=I.contentProps,p=I.textProps,h=I.fullWidth,_=I.minWidth,m=I.style,d=wk(I,["element","baseClassName","children","className","iconType","iconSide","color","size","fill","isDisabled","isLoading","isSelected","contentProps","textProps","fullWidth","minWidth","style"]),x=r||n,g=(0,Xg.default)(M,f?"".concat(M).concat(Kg[f]):null,t&&tx[t]?"".concat(M).concat(tx[t]):null,o&&"".concat(M,"--fill"),h&&"".concat(M,"--fullWidth"),x&&"".concat(M,"-isDisabled"),b),v=(0,Xg.default)("euiButton__content",u&&u.className),T=(0,Xg.default)("euiButton__text",p&&p.className),c=Mp.default.createElement(Ky,Jg({isLoading:r,iconType:w,iconSide:k,textProps:Qu(Qu({},p),{},{className:T})},u,{className:v}),e),E=m;return(_!==void 0||_!==null)&&(E=Qu(Qu({},E),{},{minWidth:_})),Mp.default.createElement(L,Qu({className:g,style:E,disabled:L==="button"&&x,"aria-pressed":L==="button"?i:void 0,ref:N},d),c)});cd.propTypes={children:ni.default.node,fill:ni.default.bool,color:ni.default.oneOf(["primary","accent","secondary","success","warning","danger","ghost","text"]),size:ni.default.oneOf(["s","m"]),isDisabled:ni.default.bool,isSelected:ni.default.bool,fullWidth:ni.default.bool,minWidth:ni.default.any,isLoading:ni.default.bool,contentProps:ni.default.any,style:ni.default.any,iconType:ni.default.oneOfType([ni.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,ni.default.string.isRequired,ni.default.elementType.isRequired]),iconSide:ni.default.oneOf(["left","right"]),textProps:ni.default.shape({className:ni.default.string,"aria-label":ni.default.string,"data-test-subj":ni.default.string,ref:ni.default.any,"data-text":ni.default.string}),iconSize:ni.default.oneOf(["s","m"]),className:ni.default.string,"aria-label":ni.default.string,"data-test-subj":ni.default.string,element:ni.default.oneOf(["a","button","span","label"]).isRequired,baseClassName:ni.default.string.isRequired};cd.displayName="EuiButtonDisplay";var kk=function(N){var Q=N.isDisabled,L=N.disabled,M=N.href,e=N.target,b=N.rel,w=N.type,a=w===void 0?"button":w,k=N.buttonRef,y=wk(N,["isDisabled","disabled","href","target","rel","type","buttonRef"]),f=!M||bk(M),l=L||!f,t=Q||!f,s=y.isLoading||t||l,o=M&&!t?"a":"button",n={};n=Qu(Qu({},n),{},{isDisabled:s}),o==="button"&&(n=Qu(Qu({},n),{},{disabled:s}));var r={};return M&&!s?(r.href=M,r.rel=Tg({href:M,target:e,rel:b}),r.target=e):r.type=a,Mp.default.createElement(cd,Jg({element:o,baseClassName:"euiButton",ref:k},n,r,y))};kk.propTypes={href:ni.default.string,onClick:ni.default.func,children:ni.default.node,fill:ni.default.bool,color:ni.default.oneOf(["primary","accent","secondary","success","warning","danger","ghost","text"]),size:ni.default.oneOf(["s","m"]),isDisabled:ni.default.bool,isSelected:ni.default.bool,fullWidth:ni.default.bool,minWidth:ni.default.any,isLoading:ni.default.bool,contentProps:ni.default.any,style:ni.default.any,iconType:ni.default.oneOfType([ni.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,ni.default.string.isRequired,ni.default.elementType.isRequired]),iconSide:ni.default.oneOf(["left","right"]),textProps:ni.default.shape({className:ni.default.string,"aria-label":ni.default.string,"data-test-subj":ni.default.string,ref:ni.default.any,"data-text":ni.default.string}),iconSize:ni.default.oneOf(["s","m"]),className:ni.default.string,"aria-label":ni.default.string,"data-test-subj":ni.default.string,buttonRef:ni.default.any};var rx=Vr(lo()),df=Vr(Wi());function nx(I,N){return kS(I)||wS(I,N)||_S(I,N)||bS()}function bS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _S(I,N){if(I){if(typeof I=="string")return Tk(I,N);var Q=Object.prototype.toString.call(I).slice(8,-1);if(Q==="Object"&&I.constructor&&(Q=I.constructor.name),Q==="Map"||Q==="Set")return Array.from(I);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return Tk(I,N)}}function Tk(I,N){(N==null||N>I.length)&&(N=I.length);for(var Q=0,L=new Array(N);Q<N;Q++)L[Q]=I[Q];return L}function wS(I,N){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var Q=[],L=!0,M=!1,e=void 0;try{for(var b=I[Symbol.iterator](),w;!(L=(w=b.next()).done)&&(Q.push(w.value),!(N&&Q.length===N));L=!0);}catch(a){M=!0,e=a}finally{try{!L&&b.return!=null&&b.return()}finally{if(M)throw e}}return Q}}function kS(I){if(Array.isArray(I))return I}function $g(I){var N=(0,df.useState)(null),Q=nx(N,2),L=Q[0],M=Q[1],e=(0,df.useState)(I),b=nx(e,2),w=b[0],a=b[1],k=(0,df.useCallback)(function(y){y&&a("innerText"in y?y.innerText:y.textContent||I)},[I]);return(0,df.useEffect)(function(){var y=new MutationObserver(function(f){f.length&&k(L)});return L&&(k(L),y.observe(L,{characterData:!0,subtree:!0,childList:!0})),function(){y.disconnect()}},[L,k]),[M,w]}var Ak=function(N){var Q=N.children,L=N.fallback,M=$g(L),e=nx(M,2),b=e[0],w=e[1];return Q(b,w)};Ak.propTypes={children:rx.default.func.isRequired,fallback:rx.default.string};var Ck=Vr(Cs()),yi=Vr(lo()),Sp=Vr(Wi());var Ek=Vr(Cs()),$i=Vr(lo()),fd=Vr(Wi());function ix(){return ix=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},ix.apply(this,arguments)}function TS(I,N){return ES(I)||SS(I,N)||MS(I,N)||AS()}function AS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MS(I,N){if(I){if(typeof I=="string")return Mk(I,N);var Q=Object.prototype.toString.call(I).slice(8,-1);if(Q==="Object"&&I.constructor&&(Q=I.constructor.name),Q==="Map"||Q==="Set")return Array.from(I);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return Mk(I,N)}}function Mk(I,N){(N==null||N>I.length)&&(N=I.length);for(var Q=0,L=new Array(N);Q<N;Q++)L[Q]=I[Q];return L}function SS(I,N){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var Q=[],L=!0,M=!1,e=void 0;try{for(var b=I[Symbol.iterator](),w;!(L=(w=b.next()).done)&&(Q.push(w.value),!(N&&Q.length===N));L=!0);}catch(a){M=!0,e=a}finally{try{!L&&b.return!=null&&b.return()}finally{if(M)throw e}}return Q}}function ES(I){if(Array.isArray(I))return I}function Sk(I,N){var Q=Object.keys(I);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(I);N&&(L=L.filter(function(M){return Object.getOwnPropertyDescriptor(I,M).enumerable})),Q.push.apply(Q,L)}return Q}function Qg(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N]!=null?arguments[N]:{};N%2?Sk(Object(Q),!0).forEach(function(L){CS(I,L,Q[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(Q)):Sk(Object(Q)).forEach(function(L){Object.defineProperty(I,L,Object.getOwnPropertyDescriptor(Q,L))})}return I}function CS(I,N,Q){return N in I?Object.defineProperty(I,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):I[N]=Q,I}function LS(I,N){if(I==null)return{};var Q=OS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function OS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var ax=function(N){var Q=N.className,L=N.id,M=N.isDisabled,e=N.isIconOnly,b=N.isSelected,w=b===void 0?!1:b,a=N.label,k=N.name,y=N.onChange,f=N.size,l=N.value,t=N.element,s=t===void 0?"button":t,o=N.type,n=o===void 0?"button":o,r=LS(N,["className","id","isDisabled","isIconOnly","isSelected","label","name","onChange","size","value","element","type"]),i=M?"button":s,u=(0,fd.useRef)(Dl()()).current,p={},h;i==="label"?(p=Qg(Qg({},p),{},{htmlFor:u,onClick:function(){return y(L,l)}}),h=fd.default.createElement("input",{id:u,className:"euiScreenReaderOnly",name:k,checked:w,disabled:M,value:l,type:"radio",onChange:function(){return y(L,l)},"data-test-subj":L})):p=Qg(Qg({},p),{},{id:u,"data-test-subj":L,isSelected:w,type:n,onClick:function(){return y(L)}});var _=(0,Ek.default)({"euiButtonGroupButton-isSelected":w,"euiButtonGroupButton-isIconOnly":e},Q),m=$g(),d=TS(m,2),x=d[0],g=d[1];return fd.default.createElement(cd,ix({baseClassName:"euiButtonGroupButton",className:_,element:i,fill:f!=="compressed"&&w,isDisabled:M,size:f==="compressed"?"s":f,textProps:{className:e?"euiScreenReaderOnly":"euiButtonGroupButton__textShift",ref:x,"data-text":g,title:g}},p,r),h,a)};ax.propTypes={id:$i.default.string.isRequired,label:$i.default.node.isRequired,isDisabled:$i.default.bool,value:$i.default.oneOfType([$i.default.any,$i.default.string]),type:$i.default.oneOf(["button","submit","reset"]),iconType:$i.default.oneOfType([$i.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,$i.default.string.isRequired,$i.default.elementType.isRequired]),iconSide:$i.default.oneOf(["left","right"]),isLoading:$i.default.bool,textProps:$i.default.shape({className:$i.default.string,"aria-label":$i.default.string,"data-test-subj":$i.default.string,ref:$i.default.any,"data-text":$i.default.string}),iconSize:$i.default.oneOf(["s","m"]),className:$i.default.string,"aria-label":$i.default.string,"data-test-subj":$i.default.string,element:$i.default.oneOf(["button","label"]).isRequired,isSelected:$i.default.bool,name:$i.default.string,color:$i.default.oneOf(["primary","accent","secondary","success","warning","danger","ghost","text"]).isRequired,size:$i.default.oneOf(["s","m","compressed"]).isRequired,isIconOnly:$i.default.bool.isRequired,onChange:$i.default.func.isRequired};function em(){return em=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},em.apply(this,arguments)}function PS(I,N){if(I==null)return{};var Q=IS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function IS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var DS={s:"--small",m:"--medium",compressed:"--compressed"},gf=function(N){var Q=N.className,L=N.buttonSize,M=L===void 0?"s":L,e=N.color,b=e===void 0?"text":e,w=N.idSelected,a=w===void 0?"":w,k=N.idToSelectedMap,y=k===void 0?{}:k,f=N.isDisabled,l=f===void 0?!1:f,t=N.isFullWidth,s=t===void 0?!1:t,o=N.isIconOnly,n=o===void 0?!1:o,r=N.legend,i=N.name,u=N.onChange,p=N.options,h=p===void 0?[]:p,_=N.type,m=_===void 0?"single":_,d=PS(N,["className","buttonSize","color","idSelected","idToSelectedMap","isDisabled","isFullWidth","isIconOnly","legend","name","onChange","options","type"]),x=M==="compressed"&&b==="ghost",g=x?"text":b;x&&console.warn("EuiButtonGroup of compressed size does not support the ghost color. It will render as text instead.");var v=(0,Ck.default)("euiButtonGroup","euiButtonGroup".concat(DS[M]),"euiButtonGroup".concat(Kg[g]),{"euiButtonGroup--fullWidth":s,"euiButtonGroup--isDisabled":l},Q),T=m==="single",c=i||Dl()();return Sp.default.createElement("fieldset",em({className:v},d,{disabled:l}),Sp.default.createElement(Ap,null,Sp.default.createElement("legend",null,r)),Sp.default.createElement("div",{className:"euiButtonGroup__buttons"},h.map(function(E,A){return Sp.default.createElement(ax,em({key:A,name:c,isDisabled:l},E,{element:T?"label":"button",isSelected:T?E.id===a:y[E.id],color:g,size:M,isIconOnly:n,onChange:u}))})))};gf.propTypes={className:yi.default.string,"aria-label":yi.default.string,"data-test-subj":yi.default.string,buttonSize:yi.default.oneOf(["s","m","compressed"]),isDisabled:yi.default.bool,isFullWidth:yi.default.bool,isIconOnly:yi.default.bool,legend:yi.default.string.isRequired,color:yi.default.oneOf(["primary","accent","secondary","success","warning","danger","ghost","text"]),type:yi.default.oneOfType([yi.default.oneOfType([yi.default.oneOf(["single","multi"]),yi.default.oneOf(["single"])]),yi.default.oneOf(["multi"])]),options:yi.default.arrayOf(yi.default.shape({id:yi.default.string.isRequired,label:yi.default.node.isRequired,isDisabled:yi.default.bool,value:yi.default.any,type:yi.default.oneOf(["button","submit","reset"]),iconType:yi.default.oneOfType([yi.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,yi.default.string.isRequired,yi.default.elementType.isRequired]),iconSide:yi.default.oneOf(["left","right"]),isLoading:yi.default.bool,textProps:yi.default.shape({className:yi.default.string,"aria-label":yi.default.string,"data-test-subj":yi.default.string,ref:yi.default.any,"data-text":yi.default.string}),iconSize:yi.default.oneOf(["s","m"]),className:yi.default.string,"aria-label":yi.default.string,"data-test-subj":yi.default.string}).isRequired).isRequired,name:yi.default.string,idSelected:yi.default.string,onChange:yi.default.func,idToSelectedMap:yi.default.shape({})};var lx=Vr(Wi()),mu=Vr(lo());var tm=Vr(Wi()),mf=Vr(lo()),Lk=Vr(Cs());function ox(){return ox=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},ox.apply(this,arguments)}function RS(I,N){if(I==null)return{};var Q=zS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function zS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var nm=function(N){var Q=N.children,L=N.className,M=N.display,e=M===void 0?"visible":M,b=N.compressed,w=RS(N,["children","className","display","compressed"]),a=e==="hidden",k=(0,Lk.default)("euiFormLegend",{"euiFormLegend-isHidden":a,"euiFormLegend--compressed":b},L);return tm.default.createElement("legend",ox({className:k},w),a?tm.default.createElement(Ap,null,tm.default.createElement("span",null,Q)):Q)};nm.propTypes={className:mf.default.string,"aria-label":mf.default.string,"data-test-subj":mf.default.string,children:mf.default.node.isRequired,display:mf.default.oneOf(["hidden","visible"]),compressed:mf.default.bool};function sx(){return sx=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},sx.apply(this,arguments)}function FS(I,N){if(I==null)return{};var Q=NS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function NS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var Pc=function(N){var Q=N.children,L=N.className,M=N.legend,e=FS(N,["children","className","legend"]),b=!!M&&lx.default.createElement(nm,M);return lx.default.createElement("fieldset",sx({className:L},e),b,Q)};Pc.propTypes={legend:mu.default.shape({className:mu.default.string,"aria-label":mu.default.string,"data-test-subj":mu.default.string,children:mu.default.node.isRequired,display:mu.default.oneOf(["hidden","visible"]),compressed:mu.default.bool}),className:mu.default.string,"aria-label":mu.default.string,"data-test-subj":mu.default.string};var Ru=Vr(Wi()),pi=Vr(lo()),vx=Vr(Cs());var vu=Vr(Wi()),$a=Vr(lo());var rm=Vr(Wi()),pd=Vr(lo()),Ok=Vr(Cs());function ux(){return ux=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},ux.apply(this,arguments)}function BS(I,N){if(I==null)return{};var Q=jS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function jS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var Pk={s:"euiFormControlLayoutClearButton--small",m:null},aL=tl(Pk),cx=function(N){var Q=N.className,L=N.onClick,M=N.size,e=M===void 0?"m":M,b=BS(N,["className","onClick","size"]),w=(0,Ok.default)("euiFormControlLayoutClearButton",Pk[e],Q);return rm.default.createElement(ld,{token:"euiFormControlLayoutClearButton.label",default:"Clear input"},function(a){return rm.default.createElement("button",ux({type:"button",className:w,onClick:L,"aria-label":a},b),rm.default.createElement(vl,{className:"euiFormControlLayoutClearButton__icon",type:"cross"}))})};cx.propTypes={className:pd.default.string,"aria-label":pd.default.string,"data-test-subj":pd.default.string,size:pd.default.any};var hd=Vr(Wi()),Kl=Vr(lo()),Ik=Vr(Cs());function im(){return im=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},im.apply(this,arguments)}function US(I,N){if(I==null)return{};var Q=VS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function VS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var fx=function(N){var Q=N.className,L=N.onClick,M=N.type,e=N.iconRef,b=N.size,w=US(N,["className","onClick","type","iconRef","size"]),a=(0,Ik.default)("euiFormControlLayoutCustomIcon",Q,{"euiFormControlLayoutCustomIcon--clickable":L});return L?hd.default.createElement("button",im({type:"button",onClick:L,className:a,ref:e},w),hd.default.createElement(vl,{className:"euiFormControlLayoutCustomIcon__icon","aria-hidden":"true",size:b,type:M})):hd.default.createElement("span",im({className:a,ref:e},w),hd.default.createElement(vl,{className:"euiFormControlLayoutCustomIcon__icon","aria-hidden":"true",size:b,type:M}))};fx.propTypes={className:Kl.default.string,"aria-label":Kl.default.string,"data-test-subj":Kl.default.string,type:Kl.default.oneOfType([Kl.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,Kl.default.string.isRequired,Kl.default.elementType.isRequired]).isRequired,size:Kl.default.any,iconRef:Kl.default.oneOfType([Kl.default.string.isRequired,Kl.default.func.isRequired])};function am(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?am=function(Q){return typeof Q}:am=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},am(I)}function om(){return om=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},om.apply(this,arguments)}function HS(I,N){if(I==null)return{};var Q=qS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function qS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}function WS(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function Dk(I,N){for(var Q=0;Q<N.length;Q++){var L=N[Q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}function GS(I,N,Q){return N&&Dk(I.prototype,N),Q&&Dk(I,Q),I}function YS(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&px(I,N)}function px(I,N){return px=Object.setPrototypeOf||function(L,M){return L.__proto__=M,L},px(I,N)}function ZS(I){var N=KS();return function(){var L=sm(I),M;if(N){var e=sm(this).constructor;M=Reflect.construct(L,arguments,e)}else M=L.apply(this,arguments);return XS(this,M)}}function XS(I,N){return N&&(am(N)==="object"||typeof N=="function")?N:JS(I)}function JS(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function KS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function sm(I){return sm=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},sm(I)}function Rk(I){return!!I&&I.hasOwnProperty("type")}var hx=function(I){YS(Q,I);var N=ZS(Q);function Q(){return WS(this,Q),N.apply(this,arguments)}return GS(Q,[{key:"render",value:function(){var M=this.props.icon,e=Rk(M)&&M.side?M.side:"left",b=this.renderCustomIcon(),w=this.renderLoadingSpinner(),a=this.renderClearButton(),k;b&&e==="left"&&(k=vu.default.createElement("div",{className:"euiFormControlLayoutIcons"},b));var y;return(a||w||b&&e==="right")&&(y=vu.default.createElement("div",{className:"euiFormControlLayoutIcons euiFormControlLayoutIcons--right"},a,w,e==="right"?b:void 0)),vu.default.createElement(vu.Fragment,null,k,y)}},{key:"renderCustomIcon",value:function(){var M=this.props,e=M.icon,b=M.compressed;if(!e)return null;var w=Rk(e)?e:{type:e},a=w.ref,k=w.side,y=HS(w,["ref","side"]);return vu.default.createElement(fx,om({size:b?"s":"m",iconRef:a},y))}},{key:"renderLoadingSpinner",value:function(){var M=this.props.isLoading;return M?vu.default.createElement($u,{size:"m"}):null}},{key:"renderClearButton",value:function(){var M=this.props,e=M.clear,b=M.compressed;return e?vu.default.createElement(cx,om({size:b?"s":"m"},e)):null}}]),Q}(vu.Component);hx.propTypes={icon:$a.default.oneOfType([$a.default.oneOfType([$a.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,$a.default.string.isRequired,$a.default.elementType.isRequired]).isRequired,$a.default.shape({type:$a.default.oneOfType([$a.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,$a.default.string.isRequired,$a.default.elementType.isRequired]).isRequired,side:$a.default.any,ref:$a.default.oneOfType([$a.default.string.isRequired,$a.default.func.isRequired])}).isRequired]),clear:$a.default.shape({className:$a.default.string,"aria-label":$a.default.string,"data-test-subj":$a.default.string,size:$a.default.any}),isLoading:$a.default.bool,compressed:$a.default.bool};var dx=Vr(Wi()),Rl=Vr(lo()),zk=Vr(Cs());function lm(){return lm=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},lm.apply(this,arguments)}function $S(I,N){if(I==null)return{};var Q=QS(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function QS(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var dd=function(N){var Q=N.type,L=Q===void 0?"label":Q,M=N.isFocused,e=N.isInvalid,b=N.children,w=N.className,a=$S(N,["type","isFocused","isInvalid","children","className"]),k=(0,zk.default)("euiFormLabel",w,{"euiFormLabel-isFocused":M,"euiFormLabel-isInvalid":e});return L==="legend"?dx.default.createElement("legend",lm({className:k},a),b):dx.default.createElement("label",lm({className:k},a),b)};dd.propTypes={className:Rl.default.string,"aria-label":Rl.default.string,"data-test-subj":Rl.default.string,type:Rl.default.oneOfType([Rl.default.oneOfType([Rl.default.oneOf(["label"]),Rl.default.oneOf(["label","legend"])]),Rl.default.oneOfType([Rl.default.oneOf(["legend"]).isRequired,Rl.default.oneOf(["label","legend"])])]),isFocused:Rl.default.bool,isInvalid:Rl.default.bool};function um(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?um=function(Q){return typeof Q}:um=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},um(I)}function gx(){return gx=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},gx.apply(this,arguments)}function e7(I,N){if(I==null)return{};var Q=t7(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function t7(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}function n7(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function Fk(I,N){for(var Q=0;Q<N.length;Q++){var L=N[Q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}function r7(I,N,Q){return N&&Fk(I.prototype,N),Q&&Fk(I,Q),I}function i7(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&mx(I,N)}function mx(I,N){return mx=Object.setPrototypeOf||function(L,M){return L.__proto__=M,L},mx(I,N)}function a7(I){var N=l7();return function(){var L=cm(I),M;if(N){var e=cm(this).constructor;M=Reflect.construct(L,arguments,e)}else M=L.apply(this,arguments);return o7(this,M)}}function o7(I,N){return N&&(um(N)==="object"||typeof N=="function")?N:s7(I)}function s7(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function l7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function cm(I){return cm=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},cm(I)}var gd=function(I){i7(Q,I);var N=a7(Q);function Q(){return n7(this,Q),N.apply(this,arguments)}return r7(Q,[{key:"render",value:function(){var M=this.props,e=M.children,b=M.icon,w=M.clear,a=M.fullWidth,k=M.isLoading,y=M.isDisabled,f=M.compressed,l=M.className,t=M.prepend,s=M.append,o=M.readOnly,n=M.inputId,r=e7(M,["children","icon","clear","fullWidth","isLoading","isDisabled","compressed","className","prepend","append","readOnly","inputId"]),i=(0,vx.default)("euiFormControlLayout",{"euiFormControlLayout--fullWidth":a,"euiFormControlLayout--compressed":f,"euiFormControlLayout--readOnly":o,"euiFormControlLayout--group":t||s,"euiFormControlLayout-isDisabled":y},l),u=this.renderSideNode("prepend",t,n),p=this.renderSideNode("append",s,n);return Ru.default.createElement("div",gx({className:i},r),u,Ru.default.createElement("div",{className:"euiFormControlLayout__childrenWrapper"},e,Ru.default.createElement(hx,{icon:b,clear:w,compressed:f,isLoading:k})),p)}},{key:"renderSideNode",value:function(M,e,b){var w=this;if(e){if(typeof e=="string")return this.createFormLabel(M,e,b);var a=Ru.default.Children.map(e,function(k,y){return typeof k=="string"?w.createFormLabel(M,k,b):w.createSideNode(M,k,y)});return a}}},{key:"createFormLabel",value:function(M,e,b){return Ru.default.createElement(dd,{htmlFor:b,className:"euiFormControlLayout__".concat(M)},e)}},{key:"createSideNode",value:function(M,e,b){return(0,Ru.cloneElement)(e,{className:(0,vx.default)("euiFormControlLayout__".concat(M),e.props.className),key:b})}}]),Q}(Ru.Component);gd.propTypes={className:pi.default.string,"aria-label":pi.default.string,"data-test-subj":pi.default.string,prepend:pi.default.oneOfType([pi.default.oneOfType([pi.default.string.isRequired,pi.default.element.isRequired]).isRequired,pi.default.arrayOf(pi.default.oneOfType([pi.default.string.isRequired,pi.default.element.isRequired]).isRequired).isRequired]),append:pi.default.oneOfType([pi.default.oneOfType([pi.default.string.isRequired,pi.default.element.isRequired]).isRequired,pi.default.arrayOf(pi.default.oneOfType([pi.default.string.isRequired,pi.default.element.isRequired]).isRequired).isRequired]),children:pi.default.node,icon:pi.default.oneOfType([pi.default.oneOfType([pi.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,pi.default.string.isRequired,pi.default.elementType.isRequired]).isRequired,pi.default.shape({type:pi.default.oneOfType([pi.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,pi.default.string.isRequired,pi.default.elementType.isRequired]).isRequired,side:pi.default.any,ref:pi.default.oneOfType([pi.default.string.isRequired,pi.default.func.isRequired])}).isRequired]),clear:pi.default.shape({className:pi.default.string,"aria-label":pi.default.string,"data-test-subj":pi.default.string,size:pi.default.any}),fullWidth:pi.default.bool,isLoading:pi.default.bool,isDisabled:pi.default.bool,compressed:pi.default.bool,readOnly:pi.default.bool,inputId:pi.default.string};var zu=Vr(Wi()),vf=Vr(lo());function u7(I){return I!=null&&I.hasOwnProperty("current")}var md=function(N){var Q=N.isInvalid,L=N.children,M=(0,zu.useRef)(null),e=zu.Children.only(L),b=e.ref,w=(0,zu.useCallback)(function(a){M.current=a,typeof b=="function"?b(a):u7(b)&&(b.current=a)},[b]);return(0,zu.useEffect)(function(){M.current===null||typeof M.current.setCustomValidity!="function"||(Q?M.current.setCustomValidity("Invalid"):M.current.setCustomValidity(""))}),(0,zu.cloneElement)(e,{ref:w})};md.propTypes={className:vf.default.string,"aria-label":vf.default.string,"data-test-subj":vf.default.string,isInvalid:vf.default.bool,children:vf.default.shape({ref:vf.default.any}).isRequired};var fm=Vr(Wi()),wi=Vr(lo()),Nk=Vr(Cs());function yx(){return yx=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},yx.apply(this,arguments)}function c7(I,N){if(I==null)return{};var Q=f7(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function f7(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var yf=function(N){var Q=N.id,L=N.name,M=N.placeholder,e=N.value,b=N.className,w=N.icon,a=N.isInvalid,k=N.inputRef,y=N.fullWidth,f=y===void 0?!1:y,l=N.isLoading,t=N.compressed,s=N.prepend,o=N.append,n=N.readOnly,r=N.controlOnly,i=c7(N,["id","name","placeholder","value","className","icon","isInvalid","inputRef","fullWidth","isLoading","compressed","prepend","append","readOnly","controlOnly"]),u=(0,Nk.default)("euiFieldText",b,{"euiFieldText--withIcon":w,"euiFieldText--fullWidth":f,"euiFieldText--compressed":t,"euiFieldText--inGroup":s||o,"euiFieldText-isLoading":l}),p=fm.default.createElement(md,{isInvalid:a},fm.default.createElement("input",yx({type:"text",id:Q,name:L,placeholder:M,className:u,value:e,ref:k,readOnly:n},i)));return r?p:fm.default.createElement(gd,{icon:w,fullWidth:f,isLoading:l,compressed:t,readOnly:n,prepend:s,append:o,inputId:Q},p)};yf.propTypes={className:wi.default.string,"aria-label":wi.default.string,"data-test-subj":wi.default.string,icon:wi.default.oneOfType([wi.default.oneOfType([wi.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,wi.default.string.isRequired,wi.default.elementType.isRequired]).isRequired,wi.default.shape({type:wi.default.oneOfType([wi.default.oneOf(["accessibility","addDataApp","advancedSettingsApp","aggregate","alert","analyzeEvent","annotation","apmApp","apmTrace","apps","appSearchApp","arrowDown","arrowLeft","arrowRight","arrowUp","asterisk","auditbeatApp","beaker","bell","bellSlash","bolt","boxesHorizontal","boxesVertical","branch","broom","brush","bug","bullseye","calendar","canvasApp","codeApp","check","checkInCircleFilled","cheer","classificationJob","clock","cloudDrizzle","cloudStormy","cloudSunny","color","compute","console","consoleApp","continuityAbove","continuityAboveBelow","continuityBelow","continuityWithin","controlsHorizontal","controlsVertical","copy","copyClipboard","createAdvancedJob","createMultiMetricJob","createPopulationJob","createSingleMetricJob","cross","crossClusterReplicationApp","crosshairs","crossInACircleFilled","currency","cut","dashboardApp","database","dataVisualizer","devToolsApp","discoverApp","document","documentation","documentEdit","documents","dot","download","editorAlignCenter","editorAlignLeft","editorAlignRight","editorBold","editorCodeBlock","editorComment","editorDistributeHorizontal","editorDistributeVertical","editorHeading","editorItalic","editorItemAlignLeft","editorItemAlignBottom","editorItemAlignCenter","editorItemAlignMiddle","editorItemAlignRight","editorItemAlignTop","editorLink","editorOrderedList","editorPositionBottomLeft","editorPositionBottomRight","editorPositionTopLeft","editorPositionTopRight","editorRedo","editorStrike","editorTable","editorUnderline","editorUndo","editorUnorderedList","email","empty","emsApp","eql","eraser","exit","expand","expandMini","exportAction","eye","eyeClosed","faceHappy","faceNeutral","faceSad","filebeatApp","filter","flag","fold","folderCheck","folderClosed","folderExclamation","folderOpen","frameNext","framePrevious","fullScreen","fullScreenExit","function","gear","gisApp","glasses","globe","grab","grabHorizontal","graphApp","grid","grokApp","heart","heartbeatApp","heatmap","help","home","iInCircle","image","importAction","indexClose","indexEdit","indexFlush","indexManagementApp","indexMapping","indexOpen","indexPatternApp","indexRollupApp","indexRuntime","indexSettings","inputOutput","inspect","invert","ip","keyboardShortcut","kqlField","kqlFunction","kqlOperand","kqlSelector","kqlValue","layers","lensApp","link","list","listAdd","lock","lockOpen","logsApp","logoAerospike","logoApache","logoAppSearch","logoAWS","logoAWSMono","logoAzure","logoAzureMono","logoBeats","logoBusinessAnalytics","logoCeph","logoCloud","logoCloudEnterprise","logoCode","logoCodesandbox","logoCouchbase","logoDocker","logoDropwizard","logoElastic","logoElasticsearch","logoElasticStack","logoEnterpriseSearch","logoEtcd","logoGCP","logoGCPMono","logoGithub","logoGmail","logoGolang","logoGoogleG","logoHAproxy","logoIBM","logoIBMMono","logoKafka","logoKibana","logoKubernetes","logoLogging","logoLogstash","logoMaps","logoMemcached","logoMetrics","logoMongodb","logoMySQL","logoNginx","logoObservability","logoOsquery","logoPhp","logoPostgres","logoPrometheus","logoRabbitmq","logoRedis","logoSecurity","logoSiteSearch","logoSketch","logoSlack","logoUptime","logoWebhook","logoWindows","logoWorkplaceSearch","logstashFilter","logstashIf","logstashInput","logstashOutput","logstashQueue","machineLearningApp","magnet","magnifyWithMinus","magnifyWithPlus","managementApp","mapMarker","memory","menu","menuDown","menuLeft","menuRight","menuUp","merge","metricbeatApp","metricsApp","minimize","minus","minusInCircle","minusInCircleFilled","mobile","monitoringApp","moon","nested","node","notebookApp","number","offline","online","outlierDetectionJob","package","packetbeatApp","pageSelect","pagesSelect","partial","paperClip","pause","pencil","percent","pin","pinFilled","pipelineApp","play","playFilled","plus","plusInCircle","plusInCircleFilled","popout","push","questionInCircle","quote","recentlyViewedApp","refresh","regressionJob","reporter","reportingApp","returnKey","save","savedObjectsApp","scale","search","searchProfilerApp","securityAnalyticsApp","securityApp","securitySignal","securitySignalDetected","securitySignalResolved","shard","share","snowflake","sortable","sortDown","sortLeft","sortRight","sortUp","spacesApp","sqlApp","starEmpty","starEmptySpace","starFilled","starFilledSpace","starMinusEmpty","starMinusFilled","starPlusEmpty","starPlusFilled","stats","stop","stopFilled","stopSlash","storage","string","submodule","swatchInput","symlink","tableOfContents","tableDensityExpanded","tableDensityCompact","tableDensityNormal","tag","tear","temperature","timeline","timelionApp","timeslider","training","trash","upgradeAssistantApp","uptimeApp","unfold","unlink","user","users","usersRolesApp","vector","videoPlayer","visArea","visAreaStacked","visBarHorizontal","visBarHorizontalStacked","visBarVertical","visBarVerticalStacked","visGauge","visGoal","visLine","visMapCoordinate","visMapRegion","visMetric","visPie","visTable","visTagCloud","visText","visTimelion","visualizeApp","visVega","visVisualBuilder","watchesApp","wordWrap","wordWrapDisabled","workplaceSearchApp","wrench","tokenClass","tokenProperty","tokenEnum","tokenVariable","tokenMethod","tokenAnnotation","tokenException","tokenInterface","tokenParameter","tokenField","tokenElement","tokenFunction","tokenBoolean","tokenString","tokenArray","tokenNumber","tokenConstant","tokenObject","tokenEvent","tokenKey","tokenNull","tokenStruct","tokenPackage","tokenOperator","tokenEnumMember","tokenRepo","tokenSymbol","tokenFile","tokenModule","tokenNamespace","tokenDate","tokenIP","tokenNested","tokenAlias","tokenShape","tokenGeo","tokenRange","tokenBinary","tokenJoin","tokenPercolator","tokenFlattened","tokenRankFeature","tokenRankFeatures","tokenKeyword","tokenCompletionSuggester","tokenDenseVector","tokenText","tokenTokenCount","tokenSearchType","tokenHistogram"]).isRequired,wi.default.string.isRequired,wi.default.elementType.isRequired]).isRequired,side:wi.default.any,ref:wi.default.oneOfType([wi.default.string.isRequired,wi.default.func.isRequired])}).isRequired]),isInvalid:wi.default.bool,fullWidth:wi.default.bool,isLoading:wi.default.bool,readOnly:wi.default.bool,inputRef:wi.default.any,prepend:wi.default.oneOfType([wi.default.oneOfType([wi.default.string.isRequired,wi.default.element.isRequired]).isRequired,wi.default.arrayOf(wi.default.oneOfType([wi.default.string.isRequired,wi.default.element.isRequired]).isRequired).isRequired]),append:wi.default.oneOfType([wi.default.oneOfType([wi.default.string.isRequired,wi.default.element.isRequired]).isRequired,wi.default.arrayOf(wi.default.oneOfType([wi.default.string.isRequired,wi.default.element.isRequired]).isRequired).isRequired]),controlOnly:wi.default.bool,compressed:wi.default.bool};var Os=Vr(Wi()),ls=Vr(lo()),xx=Vr(Cs());function pm(){return pm=Object.assign||function(I){for(var N=1;N<arguments.length;N++){var Q=arguments[N];for(var L in Q)Object.prototype.hasOwnProperty.call(Q,L)&&(I[L]=Q[L])}return I},pm.apply(this,arguments)}function Bk(I,N){return g7(I)||d7(I,N)||h7(I,N)||p7()}function p7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(I,N){if(I){if(typeof I=="string")return jk(I,N);var Q=Object.prototype.toString.call(I).slice(8,-1);if(Q==="Object"&&I.constructor&&(Q=I.constructor.name),Q==="Map"||Q==="Set")return Array.from(I);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return jk(I,N)}}function jk(I,N){(N==null||N>I.length)&&(N=I.length);for(var Q=0,L=new Array(N);Q<N;Q++)L[Q]=I[Q];return L}function d7(I,N){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var Q=[],L=!0,M=!1,e=void 0;try{for(var b=I[Symbol.iterator](),w;!(L=(w=b.next()).done)&&(Q.push(w.value),!(N&&Q.length===N));L=!0);}catch(a){M=!0,e=a}finally{try{!L&&b.return!=null&&b.return()}finally{if(M)throw e}}return Q}}function g7(I){if(Array.isArray(I))return I}function m7(I,N){if(I==null)return{};var Q=v7(I,N),L,M;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(I);for(M=0;M<e.length;M++)L=e[M],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(I,L)&&(Q[L]=I[L])}return Q}function v7(I,N){if(I==null)return{};var Q={},L=Object.keys(I),M,e;for(e=0;e<L.length;e++)M=L[e],!(N.indexOf(M)>=0)&&(Q[M]=I[M]);return Q}var xf=function(N){var Q=N.label,L=N.id,M=N.checked,e=N.disabled,b=N.compressed,w=N.onChange,a=N.className,k=N.showLabel,y=k===void 0?!0:k,f=N.type,l=f===void 0?"button":f,t=N.labelProps,s=m7(N,["label","id","checked","disabled","compressed","onChange","className","showLabel","type","labelProps"]),o=(0,Os.useState)(L||Dl()()),n=Bk(o,1),r=n[0],i=(0,Os.useState)(t?.id||Dl()()),u=Bk(i,1),p=u[0],h=(0,Os.useCallback)(function(d){if(!e){var x=d;x.target.checked=!M,w(x)}},[M,e,w]),_=(0,xx.default)("euiSwitch",{"euiSwitch--compressed":b},a),m=(0,xx.default)("euiSwitch__label",t?.className);return y===!1&&typeof Q!="string"&&console.warn("EuiSwitch `label` must be a string when `showLabel` is false."),Os.default.createElement("div",{className:_},Os.default.createElement("button",pm({id:r,"aria-checked":M||!1,className:"euiSwitch__button",role:"switch",type:l,disabled:e,onClick:h,"aria-label":y?void 0:Q,"aria-labelledby":y?p:void 0},s),Os.default.createElement("span",{className:"euiSwitch__body"},Os.default.createElement("span",{className:"euiSwitch__thumb"}),Os.default.createElement("span",{className:"euiSwitch__track"},!b&&Os.default.createElement(Os.default.Fragment,null,Os.default.createElement(vl,{type:"cross",size:"m",className:"euiSwitch__icon"}),Os.default.createElement(vl,{type:"check",size:"m",className:"euiSwitch__icon euiSwitch__icon--checked"}))))),y&&Os.default.createElement("span",pm({},t,{className:m,id:p,onClick:h}),Q))};xf.propTypes={className:ls.default.string,"aria-label":ls.default.string,"data-test-subj":ls.default.string,showLabel:ls.default.bool,label:ls.default.oneOfType([ls.default.node.isRequired,ls.default.string.isRequired]).isRequired,checked:ls.default.bool.isRequired,onChange:ls.default.func.isRequired,disabled:ls.default.bool,compressed:ls.default.bool,type:ls.default.oneOf(["submit","reset","button"]),labelProps:ls.default.shape({className:ls.default.string,"aria-label":ls.default.string,"data-test-subj":ls.default.string})};var Uk="60",Vk="30",Hk="60";var y7=({selected:I,values:N,onClick:Q})=>Ni.default.createElement("div",{className:"new-button"},N.map(L=>Ni.default.createElement("div",{title:L.charAt(0).toUpperCase()+L.slice(1),onClick:()=>Q(L),className:`button-point ${I===L?"button-selected":null}`},L)));function bx(I){let[N,Q]=(0,Ni.useState)(!1),{onChange:L,value:M}=I;return Ni.default.createElement("form",{className:"chart-config-form"},Ni.default.createElement("div",{className:"chart-top-form"},Ni.default.createElement(y7,{values:Object.keys(id),selected:M.mode,onClick:e=>L("mode",e)}),Ni.default.createElement(xf,{compressed:!0,label:Ni.default.createElement("span",{className:"switch-staircase-label"},"Staircase"),checked:M.staircase,onChange:e=>L("staircase",e.target.checked)}),Ni.default.createElement(xf,{compressed:!0,label:"Fill",checked:M.fill,onChange:e=>L("fill",e.target.checked)}),Ni.default.createElement(Tp,{arrowDisplay:"right",forceState:N?"open":"closed",onToggle:e=>Q(e),buttonContent:N?"Less options":"More options"},Ni.default.createElement("span",null))),N&&Ni.default.createElement("div",{className:"more-options"},Ni.default.createElement("section",null,Ni.default.createElement(Pc,{legend:{children:"Title"}},Ni.default.createElement(yf,{placeholder:"Title",value:M.title,onChange:e=>L("title",e.target.value),"aria-label":"Title",maxLength:parseInt(Hk)})),Ni.default.createElement(Pc,{legend:{children:"X axis Label"}},Ni.default.createElement(yf,{placeholder:"X axis label",value:M.xlabel,onChange:e=>L("xlabel",e.target.value),"aria-label":"X Label",maxLength:parseInt(Uk)}))),Ni.default.createElement("section",null,Ni.default.createElement("div",{className:"right-y-axis"},Ni.default.createElement("div",{className:"switch-wrapper"},Ni.default.createElement(xf,{compressed:!0,label:"Use Right Y Axis",checked:M.yAxis2,onChange:e=>L("yAxis2",e.target.checked)})),M.yAxis2&&Ni.default.createElement("div",{className:"y-axis-2"},Object.keys(M.keyToY2Axis).map(e=>Ni.default.createElement("div",{className:"y-axis-2-item"},Ni.default.createElement("div",null,e),Ni.default.createElement(gf,{buttonSize:"compressed",options:["left","right"].map(b=>({id:b,label:b})),onChange:b=>L("keyToY2Axis",{...M.keyToY2Axis,[e]:b==="right"}),idSelected:M.keyToY2Axis[e]===!0?"right":"left",isFullWidth:!0})))))),Ni.default.createElement("section",{className:"y-axis-config"},Ni.default.createElement(qk,{label:"Left Y Axis",onChange:e=>L("yAxisConfig",e),isLeftYAxis:!0,value:M.yAxisConfig}),M.yAxis2&&Ni.default.createElement(qk,{label:"Right Y Axis",onChange:e=>L("yAxis2Config",e),isLeftYAxis:!1,value:M.yAxis2Config}))))}var qk=({value:I,onChange:N,label:Q})=>Ni.default.createElement("div",null,Ni.default.createElement(Pc,{legend:{children:`${Q} Label`}},Ni.default.createElement(yf,{placeholder:"Label",value:I.label,onChange:L=>N({...I,label:L.target.value}),"aria-label":"label",maxLength:parseInt(Vk)})),Ni.default.createElement(Pc,{legend:{children:`${Q} Scale`}},Ni.default.createElement(x7,{inputLabel:"Scale",onChange:L=>N({...I,scale:L.target.value}),value:I.scale,enumType:Lg}))),x7=({enumType:I,inputLabel:N,...Q})=>Ni.default.createElement(gf,{legend:"form-button",buttonSize:"compressed",options:Object.values(I).map(L=>({id:L,label:L})),onChange:L=>Q.onChange({target:{value:L}}),idSelected:Q.value.toString(),isFullWidth:!0});var Cp=Vr(Wi()),Rx=Vr(Wk());function yl(I){if(I===null||I===!0||I===!1)return NaN;var N=Number(I);return isNaN(N)?N:N<0?Math.ceil(N):Math.floor(N)}function Qi(I,N){if(N.length<I)throw new TypeError(I+" argument"+(I>1?"s":"")+" required, but only "+N.length+" present")}function dm(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dm=function(Q){return typeof Q}:dm=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},dm(I)}function uo(I){Qi(1,arguments);var N=Object.prototype.toString.call(I);return I instanceof Date||dm(I)==="object"&&N==="[object Date]"?new Date(I.getTime()):typeof I=="number"||N==="[object Number]"?new Date(I):((typeof I=="string"||N==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wx(I,N){Qi(2,arguments);var Q=uo(I).getTime(),L=yl(N);return new Date(Q+L)}var b7={};function Ic(){return b7}function kx(I){var N=new Date(Date.UTC(I.getFullYear(),I.getMonth(),I.getDate(),I.getHours(),I.getMinutes(),I.getSeconds(),I.getMilliseconds()));return N.setUTCFullYear(I.getFullYear()),I.getTime()-N.getTime()}function gm(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gm=function(Q){return typeof Q}:gm=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},gm(I)}function Tx(I){return Qi(1,arguments),I instanceof Date||gm(I)==="object"&&Object.prototype.toString.call(I)==="[object Date]"}function Ax(I){if(Qi(1,arguments),!Tx(I)&&typeof I!="number")return!1;var N=uo(I);return!isNaN(Number(N))}function Mx(I,N){Qi(2,arguments);var Q=yl(N);return wx(I,-Q)}var _7=864e5;function Sx(I){Qi(1,arguments);var N=uo(I),Q=N.getTime();N.setUTCMonth(0,1),N.setUTCHours(0,0,0,0);var L=N.getTime(),M=Q-L;return Math.floor(M/_7)+1}function Dc(I){Qi(1,arguments);var N=1,Q=uo(I),L=Q.getUTCDay(),M=(L<N?7:0)+L-N;return Q.setUTCDate(Q.getUTCDate()-M),Q.setUTCHours(0,0,0,0),Q}function vd(I){Qi(1,arguments);var N=uo(I),Q=N.getUTCFullYear(),L=new Date(0);L.setUTCFullYear(Q+1,0,4),L.setUTCHours(0,0,0,0);var M=Dc(L),e=new Date(0);e.setUTCFullYear(Q,0,4),e.setUTCHours(0,0,0,0);var b=Dc(e);return N.getTime()>=M.getTime()?Q+1:N.getTime()>=b.getTime()?Q:Q-1}function Ex(I){Qi(1,arguments);var N=vd(I),Q=new Date(0);Q.setUTCFullYear(N,0,4),Q.setUTCHours(0,0,0,0);var L=Dc(Q);return L}var w7=6048e5;function Cx(I){Qi(1,arguments);var N=uo(I),Q=Dc(N).getTime()-Ex(N).getTime();return Math.round(Q/w7)+1}function Rc(I,N){var Q,L,M,e,b,w,a,k;Qi(1,arguments);var y=Ic(),f=yl((Q=(L=(M=(e=N?.weekStartsOn)!==null&&e!==void 0?e:N==null||(b=N.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&M!==void 0?M:y.weekStartsOn)!==null&&L!==void 0?L:(a=y.locale)===null||a===void 0||(k=a.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&Q!==void 0?Q:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=uo(I),t=l.getUTCDay(),s=(t<f?7:0)+t-f;return l.setUTCDate(l.getUTCDate()-s),l.setUTCHours(0,0,0,0),l}function yd(I,N){var Q,L,M,e,b,w,a,k;Qi(1,arguments);var y=uo(I),f=y.getUTCFullYear(),l=Ic(),t=yl((Q=(L=(M=(e=N?.firstWeekContainsDate)!==null&&e!==void 0?e:N==null||(b=N.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&M!==void 0?M:l.firstWeekContainsDate)!==null&&L!==void 0?L:(a=l.locale)===null||a===void 0||(k=a.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&Q!==void 0?Q:1);if(!(t>=1&&t<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var s=new Date(0);s.setUTCFullYear(f+1,0,t),s.setUTCHours(0,0,0,0);var o=Rc(s,N),n=new Date(0);n.setUTCFullYear(f,0,t),n.setUTCHours(0,0,0,0);var r=Rc(n,N);return y.getTime()>=o.getTime()?f+1:y.getTime()>=r.getTime()?f:f-1}function Lx(I,N){var Q,L,M,e,b,w,a,k;Qi(1,arguments);var y=Ic(),f=yl((Q=(L=(M=(e=N?.firstWeekContainsDate)!==null&&e!==void 0?e:N==null||(b=N.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&M!==void 0?M:y.firstWeekContainsDate)!==null&&L!==void 0?L:(a=y.locale)===null||a===void 0||(k=a.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&Q!==void 0?Q:1),l=yd(I,N),t=new Date(0);t.setUTCFullYear(l,0,f),t.setUTCHours(0,0,0,0);var s=Rc(t,N);return s}var k7=6048e5;function Ox(I,N){Qi(1,arguments);var Q=uo(I),L=Rc(Q,N).getTime()-Lx(Q,N).getTime();return Math.round(L/k7)+1}function Xi(I,N){for(var Q=I<0?"-":"",L=Math.abs(I).toString();L.length<N;)L="0"+L;return Q+L}var T7={y:function(N,Q){var L=N.getUTCFullYear(),M=L>0?L:1-L;return Xi(Q==="yy"?M%100:M,Q.length)},M:function(N,Q){var L=N.getUTCMonth();return Q==="M"?String(L+1):Xi(L+1,2)},d:function(N,Q){return Xi(N.getUTCDate(),Q.length)},a:function(N,Q){var L=N.getUTCHours()/12>=1?"pm":"am";switch(Q){case"a":case"aa":return L.toUpperCase();case"aaa":return L;case"aaaaa":return L[0];case"aaaa":default:return L==="am"?"a.m.":"p.m."}},h:function(N,Q){return Xi(N.getUTCHours()%12||12,Q.length)},H:function(N,Q){return Xi(N.getUTCHours(),Q.length)},m:function(N,Q){return Xi(N.getUTCMinutes(),Q.length)},s:function(N,Q){return Xi(N.getUTCSeconds(),Q.length)},S:function(N,Q){var L=Q.length,M=N.getUTCMilliseconds(),e=Math.floor(M*Math.pow(10,L-3));return Xi(e,Q.length)}},ec=T7;var Ep={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A7={G:function(N,Q,L){var M=N.getUTCFullYear()>0?1:0;switch(Q){case"G":case"GG":case"GGG":return L.era(M,{width:"abbreviated"});case"GGGGG":return L.era(M,{width:"narrow"});case"GGGG":default:return L.era(M,{width:"wide"})}},y:function(N,Q,L){if(Q==="yo"){var M=N.getUTCFullYear(),e=M>0?M:1-M;return L.ordinalNumber(e,{unit:"year"})}return ec.y(N,Q)},Y:function(N,Q,L,M){var e=yd(N,M),b=e>0?e:1-e;if(Q==="YY"){var w=b%100;return Xi(w,2)}return Q==="Yo"?L.ordinalNumber(b,{unit:"year"}):Xi(b,Q.length)},R:function(N,Q){var L=vd(N);return Xi(L,Q.length)},u:function(N,Q){var L=N.getUTCFullYear();return Xi(L,Q.length)},Q:function(N,Q,L){var M=Math.ceil((N.getUTCMonth()+1)/3);switch(Q){case"Q":return String(M);case"QQ":return Xi(M,2);case"Qo":return L.ordinalNumber(M,{unit:"quarter"});case"QQQ":return L.quarter(M,{width:"abbreviated",context:"formatting"});case"QQQQQ":return L.quarter(M,{width:"narrow",context:"formatting"});case"QQQQ":default:return L.quarter(M,{width:"wide",context:"formatting"})}},q:function(N,Q,L){var M=Math.ceil((N.getUTCMonth()+1)/3);switch(Q){case"q":return String(M);case"qq":return Xi(M,2);case"qo":return L.ordinalNumber(M,{unit:"quarter"});case"qqq":return L.quarter(M,{width:"abbreviated",context:"standalone"});case"qqqqq":return L.quarter(M,{width:"narrow",context:"standalone"});case"qqqq":default:return L.quarter(M,{width:"wide",context:"standalone"})}},M:function(N,Q,L){var M=N.getUTCMonth();switch(Q){case"M":case"MM":return ec.M(N,Q);case"Mo":return L.ordinalNumber(M+1,{unit:"month"});case"MMM":return L.month(M,{width:"abbreviated",context:"formatting"});case"MMMMM":return L.month(M,{width:"narrow",context:"formatting"});case"MMMM":default:return L.month(M,{width:"wide",context:"formatting"})}},L:function(N,Q,L){var M=N.getUTCMonth();switch(Q){case"L":return String(M+1);case"LL":return Xi(M+1,2);case"Lo":return L.ordinalNumber(M+1,{unit:"month"});case"LLL":return L.month(M,{width:"abbreviated",context:"standalone"});case"LLLLL":return L.month(M,{width:"narrow",context:"standalone"});case"LLLL":default:return L.month(M,{width:"wide",context:"standalone"})}},w:function(N,Q,L,M){var e=Ox(N,M);return Q==="wo"?L.ordinalNumber(e,{unit:"week"}):Xi(e,Q.length)},I:function(N,Q,L){var M=Cx(N);return Q==="Io"?L.ordinalNumber(M,{unit:"week"}):Xi(M,Q.length)},d:function(N,Q,L){return Q==="do"?L.ordinalNumber(N.getUTCDate(),{unit:"date"}):ec.d(N,Q)},D:function(N,Q,L){var M=Sx(N);return Q==="Do"?L.ordinalNumber(M,{unit:"dayOfYear"}):Xi(M,Q.length)},E:function(N,Q,L){var M=N.getUTCDay();switch(Q){case"E":case"EE":case"EEE":return L.day(M,{width:"abbreviated",context:"formatting"});case"EEEEE":return L.day(M,{width:"narrow",context:"formatting"});case"EEEEEE":return L.day(M,{width:"short",context:"formatting"});case"EEEE":default:return L.day(M,{width:"wide",context:"formatting"})}},e:function(N,Q,L,M){var e=N.getUTCDay(),b=(e-M.weekStartsOn+8)%7||7;switch(Q){case"e":return String(b);case"ee":return Xi(b,2);case"eo":return L.ordinalNumber(b,{unit:"day"});case"eee":return L.day(e,{width:"abbreviated",context:"formatting"});case"eeeee":return L.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return L.day(e,{width:"short",context:"formatting"});case"eeee":default:return L.day(e,{width:"wide",context:"formatting"})}},c:function(N,Q,L,M){var e=N.getUTCDay(),b=(e-M.weekStartsOn+8)%7||7;switch(Q){case"c":return String(b);case"cc":return Xi(b,Q.length);case"co":return L.ordinalNumber(b,{unit:"day"});case"ccc":return L.day(e,{width:"abbreviated",context:"standalone"});case"ccccc":return L.day(e,{width:"narrow",context:"standalone"});case"cccccc":return L.day(e,{width:"short",context:"standalone"});case"cccc":default:return L.day(e,{width:"wide",context:"standalone"})}},i:function(N,Q,L){var M=N.getUTCDay(),e=M===0?7:M;switch(Q){case"i":return String(e);case"ii":return Xi(e,Q.length);case"io":return L.ordinalNumber(e,{unit:"day"});case"iii":return L.day(M,{width:"abbreviated",context:"formatting"});case"iiiii":return L.day(M,{width:"narrow",context:"formatting"});case"iiiiii":return L.day(M,{width:"short",context:"formatting"});case"iiii":default:return L.day(M,{width:"wide",context:"formatting"})}},a:function(N,Q,L){var M=N.getUTCHours(),e=M/12>=1?"pm":"am";switch(Q){case"a":case"aa":return L.dayPeriod(e,{width:"abbreviated",context:"formatting"});case"aaa":return L.dayPeriod(e,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return L.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return L.dayPeriod(e,{width:"wide",context:"formatting"})}},b:function(N,Q,L){var M=N.getUTCHours(),e;switch(M===12?e=Ep.noon:M===0?e=Ep.midnight:e=M/12>=1?"pm":"am",Q){case"b":case"bb":return L.dayPeriod(e,{width:"abbreviated",context:"formatting"});case"bbb":return L.dayPeriod(e,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return L.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return L.dayPeriod(e,{width:"wide",context:"formatting"})}},B:function(N,Q,L){var M=N.getUTCHours(),e;switch(M>=17?e=Ep.evening:M>=12?e=Ep.afternoon:M>=4?e=Ep.morning:e=Ep.night,Q){case"B":case"BB":case"BBB":return L.dayPeriod(e,{width:"abbreviated",context:"formatting"});case"BBBBB":return L.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return L.dayPeriod(e,{width:"wide",context:"formatting"})}},h:function(N,Q,L){if(Q==="ho"){var M=N.getUTCHours()%12;return M===0&&(M=12),L.ordinalNumber(M,{unit:"hour"})}return ec.h(N,Q)},H:function(N,Q,L){return Q==="Ho"?L.ordinalNumber(N.getUTCHours(),{unit:"hour"}):ec.H(N,Q)},K:function(N,Q,L){var M=N.getUTCHours()%12;return Q==="Ko"?L.ordinalNumber(M,{unit:"hour"}):Xi(M,Q.length)},k:function(N,Q,L){var M=N.getUTCHours();return M===0&&(M=24),Q==="ko"?L.ordinalNumber(M,{unit:"hour"}):Xi(M,Q.length)},m:function(N,Q,L){return Q==="mo"?L.ordinalNumber(N.getUTCMinutes(),{unit:"minute"}):ec.m(N,Q)},s:function(N,Q,L){return Q==="so"?L.ordinalNumber(N.getUTCSeconds(),{unit:"second"}):ec.s(N,Q)},S:function(N,Q){return ec.S(N,Q)},X:function(N,Q,L,M){var e=M._originalDate||N,b=e.getTimezoneOffset();if(b===0)return"Z";switch(Q){case"X":return Yk(b);case"XXXX":case"XX":return bf(b);case"XXXXX":case"XXX":default:return bf(b,":")}},x:function(N,Q,L,M){var e=M._originalDate||N,b=e.getTimezoneOffset();switch(Q){case"x":return Yk(b);case"xxxx":case"xx":return bf(b);case"xxxxx":case"xxx":default:return bf(b,":")}},O:function(N,Q,L,M){var e=M._originalDate||N,b=e.getTimezoneOffset();switch(Q){case"O":case"OO":case"OOO":return"GMT"+Gk(b,":");case"OOOO":default:return"GMT"+bf(b,":")}},z:function(N,Q,L,M){var e=M._originalDate||N,b=e.getTimezoneOffset();switch(Q){case"z":case"zz":case"zzz":return"GMT"+Gk(b,":");case"zzzz":default:return"GMT"+bf(b,":")}},t:function(N,Q,L,M){var e=M._originalDate||N,b=Math.floor(e.getTime()/1e3);return Xi(b,Q.length)},T:function(N,Q,L,M){var e=M._originalDate||N,b=e.getTime();return Xi(b,Q.length)}};function Gk(I,N){var Q=I>0?"-":"+",L=Math.abs(I),M=Math.floor(L/60),e=L%60;if(e===0)return Q+String(M);var b=N||"";return Q+String(M)+b+Xi(e,2)}function Yk(I,N){if(I%60===0){var Q=I>0?"-":"+";return Q+Xi(Math.abs(I)/60,2)}return bf(I,N)}function bf(I,N){var Q=N||"",L=I>0?"-":"+",M=Math.abs(I),e=Xi(Math.floor(M/60),2),b=Xi(M%60,2);return L+e+Q+b}var Zk=A7;var Xk=function(N,Q){switch(N){case"P":return Q.date({width:"short"});case"PP":return Q.date({width:"medium"});case"PPP":return Q.date({width:"long"});case"PPPP":default:return Q.date({width:"full"})}},Jk=function(N,Q){switch(N){case"p":return Q.time({width:"short"});case"pp":return Q.time({width:"medium"});case"ppp":return Q.time({width:"long"});case"pppp":default:return Q.time({width:"full"})}},M7=function(N,Q){var L=N.match(/(P+)(p+)?/)||[],M=L[1],e=L[2];if(!e)return Xk(N,Q);var b;switch(M){case"P":b=Q.dateTime({width:"short"});break;case"PP":b=Q.dateTime({width:"medium"});break;case"PPP":b=Q.dateTime({width:"long"});break;case"PPPP":default:b=Q.dateTime({width:"full"});break}return b.replace("{{date}}",Xk(M,Q)).replace("{{time}}",Jk(e,Q))},S7={p:Jk,P:M7},Kk=S7;var E7=["D","DD"],C7=["YY","YYYY"];function $k(I){return E7.indexOf(I)!==-1}function Qk(I){return C7.indexOf(I)!==-1}function Px(I,N,Q){if(I==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(N,"`) for formatting years to the input `").concat(Q,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(I==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(N,"`) for formatting years to the input `").concat(Q,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(I==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(N,"`) for formatting days of the month to the input `").concat(Q,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(I==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(N,"`) for formatting days of the month to the input `").concat(Q,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var L7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O7=function(N,Q,L){var M,e=L7[N];return typeof e=="string"?M=e:Q===1?M=e.one:M=e.other.replace("{{count}}",Q.toString()),L!=null&&L.addSuffix?L.comparison&&L.comparison>0?"in "+M:M+" ago":M},e4=O7;function xd(I){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=N.width?String(N.width):I.defaultWidth,L=I.formats[Q]||I.formats[I.defaultWidth];return L}}var P7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R7={date:xd({formats:P7,defaultWidth:"full"}),time:xd({formats:I7,defaultWidth:"full"}),dateTime:xd({formats:D7,defaultWidth:"full"})},t4=R7;var z7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F7=function(N,Q,L,M){return z7[N]},n4=F7;function _f(I){return function(N,Q){var L=Q!=null&&Q.context?String(Q.context):"standalone",M;if(L==="formatting"&&I.formattingValues){var e=I.defaultFormattingWidth||I.defaultWidth,b=Q!=null&&Q.width?String(Q.width):e;M=I.formattingValues[b]||I.formattingValues[e]}else{var w=I.defaultWidth,a=Q!=null&&Q.width?String(Q.width):I.defaultWidth;M=I.values[a]||I.values[w]}var k=I.argumentCallback?I.argumentCallback(N):N;return M[k]}}var N7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q7=function(N,Q){var L=Number(N),M=L%100;if(M>20||M<10)switch(M%10){case 1:return L+"st";case 2:return L+"nd";case 3:return L+"rd"}return L+"th"},W7={ordinalNumber:q7,era:_f({values:N7,defaultWidth:"wide"}),quarter:_f({values:B7,defaultWidth:"wide",argumentCallback:function(N){return N-1}}),month:_f({values:j7,defaultWidth:"wide"}),day:_f({values:U7,defaultWidth:"wide"}),dayPeriod:_f({values:V7,defaultWidth:"wide",formattingValues:H7,defaultFormattingWidth:"wide"})},r4=W7;function wf(I){return function(N){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=Q.width,M=L&&I.matchPatterns[L]||I.matchPatterns[I.defaultMatchWidth],e=N.match(M);if(!e)return null;var b=e[0],w=L&&I.parsePatterns[L]||I.parsePatterns[I.defaultParseWidth],a=Array.isArray(w)?Y7(w,function(f){return f.test(b)}):G7(w,function(f){return f.test(b)}),k;k=I.valueCallback?I.valueCallback(a):a,k=Q.valueCallback?Q.valueCallback(k):k;var y=N.slice(b.length);return{value:k,rest:y}}}function G7(I,N){for(var Q in I)if(I.hasOwnProperty(Q)&&N(I[Q]))return Q}function Y7(I,N){for(var Q=0;Q<I.length;Q++)if(N(I[Q]))return Q}function Ix(I){return function(N){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=N.match(I.matchPattern);if(!L)return null;var M=L[0],e=N.match(I.parsePattern);if(!e)return null;var b=I.valueCallback?I.valueCallback(e[0]):e[0];b=Q.valueCallback?Q.valueCallback(b):b;var w=N.slice(M.length);return{value:b,rest:w}}}var Z7=/^(\d+)(th|st|nd|rd)?/i,X7=/\d+/i,J7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K7={any:[/^b/i,/^(a|c)/i]},$7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q7={any:[/1/i,/2/i,/3/i,/4/i]},e9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o9={ordinalNumber:Ix({matchPattern:Z7,parsePattern:X7,valueCallback:function(N){return parseInt(N,10)}}),era:wf({matchPatterns:J7,defaultMatchWidth:"wide",parsePatterns:K7,defaultParseWidth:"any"}),quarter:wf({matchPatterns:$7,defaultMatchWidth:"wide",parsePatterns:Q7,defaultParseWidth:"any",valueCallback:function(N){return N+1}}),month:wf({matchPatterns:e9,defaultMatchWidth:"wide",parsePatterns:t9,defaultParseWidth:"any"}),day:wf({matchPatterns:n9,defaultMatchWidth:"wide",parsePatterns:r9,defaultParseWidth:"any"}),dayPeriod:wf({matchPatterns:i9,defaultMatchWidth:"any",parsePatterns:a9,defaultParseWidth:"any"})},i4=o9;var s9={code:"en-US",formatDistance:e4,formatLong:t4,formatRelative:n4,localize:r4,match:i4,options:{weekStartsOn:0,firstWeekContainsDate:1}},a4=s9;var o4=a4;var l9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c9=/^'([^]*?)'?$/,f9=/''/g,p9=/[a-zA-Z]/;function mm(I,N,Q){var L,M,e,b,w,a,k,y,f,l,t,s,o,n,r,i,u,p;Qi(2,arguments);var h=String(N),_=Ic(),m=(L=(M=Q?.locale)!==null&&M!==void 0?M:_.locale)!==null&&L!==void 0?L:o4,d=yl((e=(b=(w=(a=Q?.firstWeekContainsDate)!==null&&a!==void 0?a:Q==null||(k=Q.locale)===null||k===void 0||(y=k.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&w!==void 0?w:_.firstWeekContainsDate)!==null&&b!==void 0?b:(f=_.locale)===null||f===void 0||(l=f.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=yl((t=(s=(o=(n=Q?.weekStartsOn)!==null&&n!==void 0?n:Q==null||(r=Q.locale)===null||r===void 0||(i=r.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:_.weekStartsOn)!==null&&s!==void 0?s:(u=_.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&t!==void 0?t:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var g=uo(I);if(!Ax(g))throw new RangeError("Invalid time value");var v=kx(g),T=Mx(g,v),c={firstWeekContainsDate:d,weekStartsOn:x,locale:m,_originalDate:g},E=h.match(u9).map(function(A){var C=A[0];if(C==="p"||C==="P"){var O=Kk[C];return O(A,m.formatLong)}return A}).join("").match(l9).map(function(A){if(A==="''")return"'";var C=A[0];if(C==="'")return h9(A);var O=Zk[C];if(O)return!(Q!=null&&Q.useAdditionalWeekYearTokens)&&Qk(A)&&Px(A,N,String(I)),!(Q!=null&&Q.useAdditionalDayOfYearTokens)&&$k(A)&&Px(A,N,String(I)),O(T,A,m.localize,c);if(C.match(p9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return A}).join("");return E}function h9(I){var N=I.match(c9);return N?N[1].replace(f9,"'"):I}function d9(I){let N=0;for(let Q=0;Q<I.length;Q++)N+=I.charCodeAt(Q);return N}var s4=[{color:"#6A1DC3",borderColor:"#6A1DC3",textColor:"#FFFFFF"},{color:"#364CFF",borderColor:"#364CFF",textColor:"#FFFFFF"},{color:"#008556",borderColor:"#008556",textColor:"#FFFFFF"},{color:"#333D4F",borderColor:"#333D4F",textColor:"#FFFFFF"},{color:"#9C5C2B",borderColor:"#9C5C2B",textColor:"#FFFFFF"},{color:"#A00A6B",borderColor:"#A00A6B",textColor:"#FFFFFF"},{color:"#6F7C07",borderColor:"#6F7C07",textColor:"#FFFFFF"},{color:"#14708D",borderColor:"#14708D",textColor:"#FFFFFF"},{color:"#AA4E4E",borderColor:"#AA4E4E",textColor:"#FFFFFF"},{color:"#6E6E6E",borderColor:"#6E6E6E",textColor:"#FFFFFF"}];var l4=[{color:"#C7B0EA",borderColor:"#C7B0EA",textColor:"#000000"},{color:"#CDDDF8",borderColor:"#CDDDF8",textColor:"#000000"},{color:"#A5D4C3",borderColor:"#A5D4C3",textColor:"#000000"},{color:"#B8C5DB",borderColor:"#B8C5DB",textColor:"#000000"},{color:"#D4BAA7",borderColor:"#D4BAA7",textColor:"#000000"},{color:"#D9A0C6",borderColor:"#D9A0C6",textColor:"#000000"},{color:"#C7CEA8",borderColor:"#C7CEA8",textColor:"#000000"},{color:"#ACCCD7",borderColor:"#ACCCD7",textColor:"#000000"},{color:"#E3AAAA",borderColor:"#E3AAAA",textColor:"#000000"},{color:"#C7C7C7",borderColor:"#C7C7C7",textColor:"#000000"}];var Dx=class{constructor(N){this.colors=[...N],this.currentColorStore=[...N],this.labelStore={}}getColor(N){if(this.labelStore[N]!==void 0)return this.labelStore[N];this.currentColorStore.length===0&&(this.currentColorStore=[...this.colors]);let Q=this.currentColorStore[d9(N)%this.currentColorStore.length];return this.currentColorStore=this.currentColorStore.filter(L=>L!==Q),this.labelStore[N]=Q,Q}},vm=class extends Dx{constructor(N){super(N)}};function u4(I,N){let Q=parseInt(I.slice(1,3),16),L=parseInt(I.slice(3,5),16),M=parseInt(I.slice(5,7),16);return N?"rgba("+Q+", "+L+", "+M+", "+N+")":"rgb("+Q+", "+L+", "+M+")"}var g9={["line"]:"lines",["points"]:"markers"},zc=document.body.classList.contains("theme_DARK"),m9=I=>{let N=new vm(I);return Q=>N.getColor(Q).color},v9=m9(zc?s4:l4);function zx(I){let N=(0,Cp.useRef)(),Q=v9;(0,Cp.useEffect)(()=>{Rx.default.newPlot(N.current,L(I),M(I),{displayModeBar:!1,autosizable:!0,responsive:!0,setBackground:()=>"transparent"}),N.current.on("plotly_hover",function(b){let a=b.points[0].pointNumber;Rx.default.Fx.hover(N.current,I.data.map((k,y)=>({curveNumber:y,pointNumber:a})),Object.keys(N.current._fullLayout._plots))}),N.current.on("plotly_relayout",function(b){b.autosize===void 0&&b["xaxis.autorange"]===void 0&&I.onRelayout()}),N.current.on("plotly_doubleclick",()=>I.onDoubleClick())},[I.chartConfig]);function L(b){return b.data.map((w,a)=>{let k=N.current.data,y=k&&b.data===b.data,f=y?k[a].x:e(w.datapoints,0).map(t=>mm(t,"yyyy-MM-dd HH:mm:ss.SSS")),l=y?k[a].y:e(w.datapoints,1);return{x:f,y:l,yaxis:b.chartConfig.yAxis2&&b.chartConfig.keyToY2Axis[w.key]?"y2":"y",name:w.key,type:"scatter",marker:{color:Q(w.key)},fill:b.chartConfig.fill?"tozeroy":void 0,fillcolor:u4(Q(w.key),.3),mode:g9[b.chartConfig.mode],line:{shape:b.chartConfig.staircase?"hv":"spline"}}})}function M(b){return{...{xaxis:{title:b.chartConfig.xlabel,rangeslider:{visible:!0,thickness:.03,bgcolor:zc?"#3D3D3D":"#CDD7EA",bordercolor:"red"},color:zc?"#898A90":"#527298"},yaxis:{title:b.chartConfig.yAxisConfig.label,type:b.chartConfig.yAxisConfig.scale,fixedrange:!0,color:zc?"#898A90":"#527298",gridcolor:zc?"#898A90":"#527298"},yaxis2:{visible:b.chartConfig.yAxis2,title:b.chartConfig.yAxis2Config.label,type:b.chartConfig.yAxis2Config.scale,overlaying:"y",side:"right",fixedrange:!0,color:zc?"#8191CF":"#6E6E6E",gridcolor:zc?"#8191CF":"#6E6E6E"}},legend:{xanchor:"center",yanchor:"top",x:.5,y:-.5,orientation:"h"},showlegend:!0,title:b.chartConfig.title,uirevision:1,autosize:!0,font:{color:zc?"darkgrey":"black"},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",margin:{pad:6}}}function e(b,w){return b.map(a=>a[w])}return Cp.default.createElement("div",{ref:N})}function Fx(I){let N={label:"",scale:"linear"},Q=I.data.reduce((f,l)=>(f[l.key]=!1,f),{}),[L,M]=(0,Fu.useState)({mode:"line",title:"",xlabel:"",staircase:!1,fill:!0,yAxis2:!1,keyToY2Axis:Q,yAxisConfig:N,yAxis2Config:N}),[e,b]=(0,Fu.useState)(0);function w(f,l){a(f,l),e!==0&&b(0)}function a(f,l){M({...L,[f]:l})}function k(){e!==1&&b(1)}function y(){e!==0&&b(0)}return Fu.default.createElement("div",null,Fu.default.createElement("div",{className:"zoom-helper-text"},Fu.default.createElement("i",null,e===0?"Drag over the part of the chart to zoom into it":"Double click on the graph to reset the view")),Fu.default.createElement(zx,{chartConfig:L,data:I.data,onRelayout:k,onDoubleClick:y}),Fu.default.createElement("div",{className:"config-form-wrapper"},Fu.default.createElement(bx,{value:L,onChange:w})))}var y9=I=>{let{result:[{response:N="",status:Q=""}={}]=[]}=I;if(Q==="fail")return ym.default.createElement("div",{className:"responseFail"},N);if(Q==="success"&&typeof N=="string")return ym.default.createElement("div",{className:"responseFail"},N);function L(M,e){let[b,w,...a]=M.split(" ");return["TS.RANGE".toString(),"TS.REVRANGE".toString()].includes(b.toUpperCase())?[{key:w,datapoints:e}]:e.map(k=>({key:k[0],labels:k[1],datapoints:k[2]}))}return ym.default.createElement(Fx,{data:L(I.command,I.result[0].response)})},c4=y9;D5({arrowRight:R5});var x9=I=>{let{command:N="",data:Q=[]}=I;(0,p4.render)(f4.default.createElement(c4,{command:N,result:Q}),document.getElementById("app"))},zI={renderChart:x9};export{zI as default};
/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.3.2
   * react-is.production.min.js
   *
   * Copyright (c) 2013-present, Facebook, Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

plotly.js-dist-min/plotly.min.js:
  (*! For license information please see plotly.min.js.LICENSE.txt *)
*/
